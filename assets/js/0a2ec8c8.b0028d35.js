"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4008],{3905:(e,n,a)=>{a.d(n,{Zo:()=>c,kt:()=>g});var t=a(67294);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function l(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function o(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?l(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function p(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},l=Object.keys(e);for(t=0;t<l.length;t++)a=l[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)a=l[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=t.createContext({}),s=function(e){var n=t.useContext(i),a=n;return e&&(a="function"==typeof e?e(n):o(o({},n),e)),a},c=function(e){var n=s(e.components);return t.createElement(i.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},m=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),m=s(a),g=r,k=m["".concat(i,".").concat(g)]||m[g]||u[g]||l;return a?t.createElement(k,o(o({ref:n},c),{},{components:a})):t.createElement(k,o({ref:n},c))}));function g(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=m;var p={};for(var i in n)hasOwnProperty.call(n,i)&&(p[i]=n[i]);p.originalType=e,p.mdxType="string"==typeof e?e:r,o[1]=p;for(var s=2;s<l;s++)o[s]=a[s];return t.createElement.apply(null,o)}return t.createElement.apply(null,a)}m.displayName="MDXCreateElement"},12794:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>p,toc:()=>s});var t=a(87462),r=(a(67294),a(3905));const l={index:1,title:"Spring"},o="Spring All in One",p={unversionedId:"Java/fm/Spring",id:"Java/fm/Spring",title:"Spring",description:"- Spring All in One",source:"@site/docs/Java/fm/Spring.md",sourceDirName:"Java/fm",slug:"/Java/fm/Spring",permalink:"/Computer-Science-Learn-Notes/docs/Java/fm/Spring",draft:!1,editUrl:"https://github.com/zhiyu1998/Computer-Science-Learn-Notes/edit/master/docs/Java/fm/Spring.md",tags:[],version:"current",frontMatter:{index:1,title:"Spring"},sidebar:"sidebars",previous:{title:"\u5783\u573e\u56de\u6536\u5668",permalink:"/Computer-Science-Learn-Notes/docs/Java/jvm/part1/\u5783\u573e\u56de\u6536\u5668"},next:{title:"SpringMVC",permalink:"/Computer-Science-Learn-Notes/docs/Java/fm/SpringMVC"}},i={},s=[{value:"AOP",id:"aop",level:2},{value:"\u52a8\u6001\u4ee3\u7406",id:"\u52a8\u6001\u4ee3\u7406",level:3},{value:"AOP\u7684\u4e13\u4e1a\u672f\u8bed\u548c\u7b80\u5355\u4f7f\u7528",id:"aop\u7684\u4e13\u4e1a\u672f\u8bed\u548c\u7b80\u5355\u4f7f\u7528",level:3},{value:"\u793a\u4f8b\uff1a\u7b80\u5355\u521b\u5efa\u4e00\u4e2a\u4ee3\u7406",id:"\u793a\u4f8b\u7b80\u5355\u521b\u5efa\u4e00\u4e2a\u4ee3\u7406",level:4},{value:"AOP\u7684\u53e6\u4e00\u4e9b\u7ec6\u8282",id:"aop\u7684\u53e6\u4e00\u4e9b\u7ec6\u8282",level:3},{value:"\u5207\u5165\u70b9\u8868\u8fbe\u5f0f\u7684\u901a\u7528\u5199\u6cd5",id:"\u5207\u5165\u70b9\u8868\u8fbe\u5f0f\u7684\u901a\u7528\u5199\u6cd5",level:4},{value:"\u83b7\u53d6\u65b9\u6cd5\u7684\u4fe1\u606f",id:"\u83b7\u53d6\u65b9\u6cd5\u7684\u4fe1\u606f",level:4},{value:"\u5207\u5165\u70b9\u8868\u8fbe\u5f0f\u7684\u91cd\u7528",id:"\u5207\u5165\u70b9\u8868\u8fbe\u5f0f\u7684\u91cd\u7528",level:4},{value:"\u73af\u7ed5\u901a\u77e5",id:"\u73af\u7ed5\u901a\u77e5",level:4},{value:"\u591a\u5207\u9762\u7684\u6267\u884c\u987a\u5e8f",id:"\u591a\u5207\u9762\u7684\u6267\u884c\u987a\u5e8f",level:4},{value:"\u57fa\u4e8eXML\u7684AOP",id:"\u57fa\u4e8exml\u7684aop",level:3},{value:"IOC",id:"ioc",level:2},{value:"Spring\u7b2c\u4e00\u4e2a\u7a0b\u5e8f",id:"spring\u7b2c\u4e00\u4e2a\u7a0b\u5e8f",level:3},{value:"Spring\u591a\u4e2a\u5bf9\u8c61\u8d4b\u503c\u548c\u6784\u9020\u5668\u8d4b\u503c",id:"spring\u591a\u4e2a\u5bf9\u8c61\u8d4b\u503c\u548c\u6784\u9020\u5668\u8d4b\u503c",level:3},{value:"\u3010\u5e8f\u8a00\u3011\u4e00\u822c\u90fd\u662f\u4f7f\u7528name+value\u7684\u65b9\u5f0f\u8fdb\u884c\u8d4b\u503c",id:"\u5e8f\u8a00\u4e00\u822c\u90fd\u662f\u4f7f\u7528namevalue\u7684\u65b9\u5f0f\u8fdb\u884c\u8d4b\u503c",level:4},{value:"\u591a\u4e2a\u5bf9\u8c61\u8d4b\u503c\u65b9\u5f0f",id:"\u591a\u4e2a\u5bf9\u8c61\u8d4b\u503c\u65b9\u5f0f",level:4},{value:"\u901a\u8fc7\u6784\u9020\u5668\u8d4b\u503c",id:"\u901a\u8fc7\u6784\u9020\u5668\u8d4b\u503c",level:4},{value:"Spring\u547d\u540d\u7a7a\u95f4",id:"spring\u547d\u540d\u7a7a\u95f4",level:3},{value:"Spring\u6b63\u786e\u8d4b\u503c\u5404\u79cd\u5c5e\u6027",id:"spring\u6b63\u786e\u8d4b\u503c\u5404\u79cd\u5c5e\u6027",level:3},{value:"\u5176\u4ed6\u5c5e\u6027\u7684\u8d4b\u503c",id:"\u5176\u4ed6\u5c5e\u6027\u7684\u8d4b\u503c",level:3},{value:"\u3010\u91cd\u70b9\u3011Bean\u7684\u4f5c\u7528\u57df\uff1a\u5355\u5b9e\u4f8b\u548c\u591a\u5b9e\u4f8b",id:"\u91cd\u70b9bean\u7684\u4f5c\u7528\u57df\u5355\u5b9e\u4f8b\u548c\u591a\u5b9e\u4f8b",level:3},{value:"\u4f7f\u7528\u5de5\u5382\u521b\u5efa\u5bf9\u8c61",id:"\u4f7f\u7528\u5de5\u5382\u521b\u5efa\u5bf9\u8c61",level:3},{value:"Bean\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u548c\u540e\u7f6e\u5904\u7406\u5668",id:"bean\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u548c\u540e\u7f6e\u5904\u7406\u5668",level:3},{value:"Bean\u7684\u58f0\u660e\u5468\u671f\u65b9\u6cd5",id:"bean\u7684\u58f0\u660e\u5468\u671f\u65b9\u6cd5",level:4},{value:"\u540e\u7f6e\u5904\u7406\u5668",id:"\u540e\u7f6e\u5904\u7406\u5668",level:4},{value:"\u5355\u5b9e\u4f8b\uff1a\u6570\u636e\u5e93\u8fde\u63a5\u6c60",id:"\u5355\u5b9e\u4f8b\u6570\u636e\u5e93\u8fde\u63a5\u6c60",level:3},{value:"XML\u7684\u81ea\u52a8\u88c5\u914d\u548cSqEL",id:"xml\u7684\u81ea\u52a8\u88c5\u914d\u548csqel",level:3},{value:"\u81ea\u52a8\u88c5\u914d",id:"\u81ea\u52a8\u88c5\u914d",level:4},{value:"SpEL\u8868\u8fbe\u5f0f",id:"spel\u8868\u8fbe\u5f0f",level:4},{value:"\u901a\u8fc7\u6ce8\u89e3\u521b\u5efa@Cotroller @Service @Repository",id:"\u901a\u8fc7\u6ce8\u89e3\u521b\u5efacotroller-service-repository",level:3},{value:"Spring\u4f9d\u8d56\u6ce8\u5165\uff08DI\uff09",id:"spring\u4f9d\u8d56\u6ce8\u5165di",level:3},{value:"@Autowired\u539f\u7406",id:"autowired\u539f\u7406",level:4},{value:"Spring\u5355\u5143\u6d4b\u8bd5",id:"spring\u5355\u5143\u6d4b\u8bd5",level:3},{value:"Spring\u6cdb\u578b\u4f9d\u8d56\u6ce8\u5165",id:"spring\u6cdb\u578b\u4f9d\u8d56\u6ce8\u5165",level:3},{value:"<strong>Dao\u5c42</strong>",id:"dao\u5c42",level:4},{value:"Service\u5c42",id:"service\u5c42",level:4}],c={toc:s};function u(e){let{components:n,...l}=e;return(0,r.kt)("wrapper",(0,t.Z)({},c,l,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"spring-all-in-one"},"Spring All in One"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#spring-all-in-one"},"Spring All in One"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#aop"},"AOP"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"},"\u52a8\u6001\u4ee3\u7406")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#aop%E7%9A%84%E4%B8%93%E4%B8%9A%E6%9C%AF%E8%AF%AD%E5%92%8C%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8"},"AOP\u7684\u4e13\u4e1a\u672f\u8bed\u548c\u7b80\u5355\u4f7f\u7528"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E7%A4%BA%E4%BE%8B%E7%AE%80%E5%8D%95%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E4%BB%A3%E7%90%86"},"\u793a\u4f8b\uff1a\u7b80\u5355\u521b\u5efa\u4e00\u4e2a\u4ee3\u7406")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#aop%E7%9A%84%E5%8F%A6%E4%B8%80%E4%BA%9B%E7%BB%86%E8%8A%82"},"AOP\u7684\u53e6\u4e00\u4e9b\u7ec6\u8282"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E5%88%87%E5%85%A5%E7%82%B9%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E9%80%9A%E7%94%A8%E5%86%99%E6%B3%95"},"\u5207\u5165\u70b9\u8868\u8fbe\u5f0f\u7684\u901a\u7528\u5199\u6cd5")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E8%8E%B7%E5%8F%96%E6%96%B9%E6%B3%95%E7%9A%84%E4%BF%A1%E6%81%AF"},"\u83b7\u53d6\u65b9\u6cd5\u7684\u4fe1\u606f")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E5%88%87%E5%85%A5%E7%82%B9%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E9%87%8D%E7%94%A8"},"\u5207\u5165\u70b9\u8868\u8fbe\u5f0f\u7684\u91cd\u7528")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E7%8E%AF%E7%BB%95%E9%80%9A%E7%9F%A5"},"\u73af\u7ed5\u901a\u77e5")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E5%A4%9A%E5%88%87%E9%9D%A2%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"},"\u591a\u5207\u9762\u7684\u6267\u884c\u987a\u5e8f")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E5%9F%BA%E4%BA%8Exml%E7%9A%84aop"},"\u57fa\u4e8eXML\u7684AOP")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#ioc"},"IOC"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#spring%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F"},"Spring\u7b2c\u4e00\u4e2a\u7a0b\u5e8f")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#spring%E5%A4%9A%E4%B8%AA%E5%AF%B9%E8%B1%A1%E8%B5%8B%E5%80%BC%E5%92%8C%E6%9E%84%E9%80%A0%E5%99%A8%E8%B5%8B%E5%80%BC"},"Spring\u591a\u4e2a\u5bf9\u8c61\u8d4b\u503c\u548c\u6784\u9020\u5668\u8d4b\u503c"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E5%BA%8F%E8%A8%80%E4%B8%80%E8%88%AC%E9%83%BD%E6%98%AF%E4%BD%BF%E7%94%A8namevalue%E7%9A%84%E6%96%B9%E5%BC%8F%E8%BF%9B%E8%A1%8C%E8%B5%8B%E5%80%BC"},"\u3010\u5e8f\u8a00\u3011\u4e00\u822c\u90fd\u662f\u4f7f\u7528name+value\u7684\u65b9\u5f0f\u8fdb\u884c\u8d4b\u503c")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E5%A4%9A%E4%B8%AA%E5%AF%B9%E8%B1%A1%E8%B5%8B%E5%80%BC%E6%96%B9%E5%BC%8F"},"\u591a\u4e2a\u5bf9\u8c61\u8d4b\u503c\u65b9\u5f0f")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E9%80%9A%E8%BF%87%E6%9E%84%E9%80%A0%E5%99%A8%E8%B5%8B%E5%80%BC"},"\u901a\u8fc7\u6784\u9020\u5668\u8d4b\u503c")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#spring%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"},"Spring\u547d\u540d\u7a7a\u95f4")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#spring%E6%AD%A3%E7%A1%AE%E8%B5%8B%E5%80%BC%E5%90%84%E7%A7%8D%E5%B1%9E%E6%80%A7"},"Spring\u6b63\u786e\u8d4b\u503c\u5404\u79cd\u5c5e\u6027")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E5%85%B6%E4%BB%96%E5%B1%9E%E6%80%A7%E7%9A%84%E8%B5%8B%E5%80%BC"},"\u5176\u4ed6\u5c5e\u6027\u7684\u8d4b\u503c")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E9%87%8D%E7%82%B9bean%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%8D%95%E5%AE%9E%E4%BE%8B%E5%92%8C%E5%A4%9A%E5%AE%9E%E4%BE%8B"},"\u3010\u91cd\u70b9\u3011Bean\u7684\u4f5c\u7528\u57df\uff1a\u5355\u5b9e\u4f8b\u548c\u591a\u5b9e\u4f8b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E4%BD%BF%E7%94%A8%E5%B7%A5%E5%8E%82%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"},"\u4f7f\u7528\u5de5\u5382\u521b\u5efa\u5bf9\u8c61")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%96%B9%E6%B3%95%E5%92%8C%E5%90%8E%E7%BD%AE%E5%A4%84%E7%90%86%E5%99%A8"},"Bean\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u548c\u540e\u7f6e\u5904\u7406\u5668"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#bean%E7%9A%84%E5%A3%B0%E6%98%8E%E5%91%A8%E6%9C%9F%E6%96%B9%E6%B3%95"},"Bean\u7684\u58f0\u660e\u5468\u671f\u65b9\u6cd5")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E5%90%8E%E7%BD%AE%E5%A4%84%E7%90%86%E5%99%A8"},"\u540e\u7f6e\u5904\u7406\u5668")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E5%8D%95%E5%AE%9E%E4%BE%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0"},"\u5355\u5b9e\u4f8b\uff1a\u6570\u636e\u5e93\u8fde\u63a5\u6c60")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#xml%E7%9A%84%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E5%92%8Csqel"},"XML\u7684\u81ea\u52a8\u88c5\u914d\u548cSqEL"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D"},"\u81ea\u52a8\u88c5\u914d")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#spel%E8%A1%A8%E8%BE%BE%E5%BC%8F"},"SpEL\u8868\u8fbe\u5f0f")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E9%80%9A%E8%BF%87%E6%B3%A8%E8%A7%A3%E5%88%9B%E5%BB%BAcotroller-service-repository"},"\u901a\u8fc7\u6ce8\u89e3\u521b\u5efa@Cotroller @Service @Repository")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5di"},"Spring\u4f9d\u8d56\u6ce8\u5165\uff08DI\uff09"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#autowired%E5%8E%9F%E7%90%86"},"@Autowired\u539f\u7406")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#spring%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"},"Spring\u5355\u5143\u6d4b\u8bd5")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#spring%E6%B3%9B%E5%9E%8B%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"},"Spring\u6cdb\u578b\u4f9d\u8d56\u6ce8\u5165"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#dao%E5%B1%82"},(0,r.kt)("strong",{parentName:"a"},"Dao\u5c42"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#service%E5%B1%82"},"Service\u5c42"))))))))),(0,r.kt)("h2",{id:"aop"},"AOP"),(0,r.kt)("h3",{id:"\u52a8\u6001\u4ee3\u7406"},"\u52a8\u6001\u4ee3\u7406"),(0,r.kt)("p",null,"\u52a8\u6001\u4ee3\u7406\u7684\u7f3a\u70b9\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5b9e\u73b0\u56f0\u96be"),(0,r.kt)("li",{parentName:"ol"},"\u5982\u679c\u6ca1\u6709\u63a5\u53e3\uff0c\u6ca1\u6cd5\u5b9e\u73b0\u4ee3\u7406\u5bf9\u8c61")),(0,r.kt)("p",null,"\u52a8\u6001\u4ee3\u7406\u7684\u4e00\u822c\u521b\u5efa\u65b9\u6cd5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class CalculateProxy {\n    public static Calculator getProxy(final Calculator calculator) {\n        InvocationHandler h = new InvocationHandler() {\n            /**\n             * \u6267\u884c\u4ee3\u7406\u5bf9\u8c61\n             * @param proxy \u4ee3\u7406\u5bf9\u8c61 \uff08\u4e0d\u8981\u52a8\u8fd9\u4e2a\uff09\n             * @param method \u5f53\u524d\u8981\u6267\u884c\u7684\u76ee\u6807\u5bf9\u8c61\u65b9\u6cd5\n             * @param args \u8fd9\u4e2a\u65b9\u6cd5\u8c03\u7528\u65f6\u5916\u754c\u4f20\u5165\u7684\u53c2\u6570\u503c\n             * @return\n             * @throws Throwable\n             */\n            public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n//                \u5229\u7528\u53cd\u5c04\u6267\u884c\u76ee\u6807\u65b9\u6cd5\n                System.out.println("\u52a8\u6001\u4ee3\u7406\u6267\u884c\u65b9\u6cd5....");\n                Object result = method.invoke(calculator, args);\n                return result;\n            }\n        };\n        Class<?>[] interfaces = calculator.getClass().getInterfaces();\n        ClassLoader loader = calculator.getClass().getClassLoader();\n        Object proxy = Proxy.newProxyInstance(loader, interfaces, h);\n        return (Calculator) proxy;\n    }\n}\n')),(0,r.kt)("p",null,"\u63a5\u53e3\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public interface Calculator {\n    int add(int a, int b);\n    int mul(int a, int b);\n    int dec(int a, int b);\n    int div(int a, int b);\n}\n")),(0,r.kt)("p",null,"\u5b9e\u73b0\u7c7b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class MyMathCalculator implements Calculator {\n    public int add(int a, int b) {\n        return a + b;\n    }\n    public int mul(int a, int b) {\n        return a * b;\n    }\n    public int dec(int a, int b) {\n        return a - b;\n    }\n    public int div(int a, int b) {\n        return a / b;\n    }\n}\n")),(0,r.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Test\npublic void test() {\n    Calculator calculator = new MyMathCalculator();\n    calculator.add(1,2);\n    System.out.println("==================");\n    Calculator proxy = CalculateProxy.getProxy(calculator);\n    int add = proxy.add(2, 3);\n    System.out.println(add);\n}\n')),(0,r.kt)("h3",{id:"aop\u7684\u4e13\u4e1a\u672f\u8bed\u548c\u7b80\u5355\u4f7f\u7528"},"AOP\u7684\u4e13\u4e1a\u672f\u8bed\u548c\u7b80\u5355\u4f7f\u7528"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"b52f4ad2-0925-49f4-ae9b-13f62bdf31a0",src:a(84352).Z,width:"853",height:"495"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"try{\n    @Before\n    method.invoke();\n    @AfterReturning\n} catch {\n    @AfterThrowing\n} fianlly {\n    @After\n}\n")),(0,r.kt)("p",null,"AOP\u7684\u4e94\u4e2a\u6ce8\u89e3\uff1a"),(0,r.kt)("p",null,"@Before \u5728\u76ee\u6807\u65b9\u6cd5\u6267\u884c\u4e4b\u524d -- \u524d\u7f6e\u901a\u77e5"),(0,r.kt)("p",null,"@After \u5728\u76ee\u6807\u65b9\u6cd5\u6267\u884c\u4e4b\u540e -- \u540e\u7f6e\u901a\u77e5"),(0,r.kt)("p",null,"@AfterReturning \u5728\u76ee\u6807\u65b9\u6cd5\u8fd4\u56de\u4e4b\u540e -- \u8fd4\u56de\u901a\u77e5"),(0,r.kt)("p",null,"@AfterThrowing \u5728\u76ee\u6807\u65b9\u6cd5\u629b\u51fa\u5f02\u5e38\u4e4b\u540e -- \u5f02\u5e38\u901a\u77e5"),(0,r.kt)("p",null,"@Around \u73af\u7ed5 -- \u73af\u7ed5\u901a\u77e5"),(0,r.kt)("h4",{id:"\u793a\u4f8b\u7b80\u5355\u521b\u5efa\u4e00\u4e2a\u4ee3\u7406"},"\u793a\u4f8b\uff1a\u7b80\u5355\u521b\u5efa\u4e00\u4e2a\u4ee3\u7406"),(0,r.kt)("p",null,"IOC\u5bb9\u5668\u914d\u7f6e\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:aop="http://www.springframework.org/schema/aop"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd">\n    <context:component-scan base-package="cn.zhiyucs"></context:component-scan>\n\x3c!--    \u5f00\u542f\u57fa\u4e8e\u6ce8\u89e3\u7684AOP--\x3e\n    <aop:aspectj-autoproxy></aop:aspectj-autoproxy>\n</beans>\n')),(0,r.kt)("p",null,"Maven\u52a0\u5165\u4f9d\u8d56\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-aspects</artifactId>\n    <version>${spring-version}</version>\n</dependency>\n<dependency>\n    <groupId>cglib</groupId>\n    <artifactId>cglib</artifactId>\n    <version>3.2.5</version>\n</dependency>\n<dependency>\n    <groupId>aopalliance</groupId>\n    <artifactId>aopalliance</artifactId>\n    <version>1.0</version>\n</dependency>\n<dependency>\n    <groupId>org.aspectj</groupId>\n    <artifactId>aspectjweaver</artifactId>\n    <version>1.9.5</version>\n</dependency>\n")),(0,r.kt)("p",null,"\u521b\u5efa\u4e00\u4e2a\u65e5\u5fd7\u5de5\u5177\u7c7b\uff1a",(0,r.kt)("strong",{parentName:"p"},"@Aspect")," ",(0,r.kt)("strong",{parentName:"p"},"@Component")),(0,r.kt)("p",null,"\u52a0\u5165",(0,r.kt)("strong",{parentName:"p"},"@Before"),"....\u548c",(0,r.kt)("em",{parentName:"p"},"\u5207\u5165\u70b9\u8868\u8fbe\u5f0f"),"\uff08execution....\uff09"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Aspect\n@Component\npublic class LogUtils {\n    @Before("execution(public int cn.zhiyucs.MyMathCalculator.add(int, int))")\n    public static void logStart() {\n//        System.out.println("["+ method.getName() +"]\u65b9\u6cd5\u5f00\u59cb\u6267\u884c\uff0c\u7528\u7684\u53c2\u6570\u5217\u8868\uff1a["+ Arrays.asList(args) +"]");\n        System.out.println("[xxx]\u65b9\u6cd5\u5f00\u59cb\u6267\u884c\uff0c\u7528\u7684\u53c2\u6570\u5217\u8868\uff1a[xxx]");\n    }\n    @AfterReturning("execution(public int cn.zhiyucs.MyMathCalculator.*(int, int))")\n    public static void logReturn() {\n        System.out.println("[xxx]\u65b9\u6cd5\u6267\u884c\u5b8c\u6210\uff0c\u8ba1\u7b97\u7ed3\u6784\uff1a[xxx]");\n    }\n    @AfterThrowing("execution(public int cn.zhiyucs.MyMathCalculator.*(int, int))")\n    public static void logException() {\n        System.out.println("[xxx]\u65b9\u6cd5\u6267\u884c\u5f02\u5e38\uff0c\u51fa\u73b0\u5f02\u5e38\u7684\u4fe1\u606f\uff1a[xxx]");\n    }\n    @After("execution(public int cn.zhiyucs.MyMathCalculator.*(int, int))")\n    public static void logEnd() {\n        System.out.println("[xxx]\u65b9\u6cd5\u6267\u884c\u5b8c\u6210");\n    }\n}\n')),(0,r.kt)("p",null,"\u8fdb\u884c\u6d4b\u8bd5\uff1a"),(0,r.kt)("p",null,"  ",(0,r.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff1a"),"\u6ce8\u5165\u8fd9\u4e2a\u7c7b\u7684\u65f6\u5019\u5fc5\u987b\u662f\u63a5\u53e3\uff0c\u800c\u4e0d\u662f\u7c7b\uff08Calculator mcc\uff09"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = "classpath:applicationContext.xml")\npublic class AopTest {\n    @Autowired\n    ApplicationContext ioc;\n//    \u5982\u679c\u60f3\u8981\u7528\u7c7b\u578b\uff0c\u4e00\u5b9a\u8981\u7528\u5b83\u7684\u63a5\u53e3\uff0c\u4e0d\u8981\u7528\u5b83\u7684\u7c7b\uff01\uff01\n    @Autowired\n    Calculator mcc;\n    @Test\n    public void test() {\n        mcc.add(1, 2);\n   \n')),(0,r.kt)("p",null,"\u4e5f\u53ef\u4ee5\u4f7f\u7528",(0,r.kt)("strong",{parentName:"p"},"\u975e\u63a5\u53e3"),"\u7684AOP\uff1a",(0,r.kt)("strong",{parentName:"p"},"cglib\u5e2e\u52a9\u6211\u4eec\u521b\u5efa\u597d\u4e86\u4ee3\u7406\u5bf9\u8c61")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"@Service\npublic class MyMathCalculator/* implements Calculator*/ {...\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"    @Autowired\n    MyMathCalculator mcc;\n    @Test\n    public void test() {\n        mcc.add(1, 2);\n//        cglib\u5e2e\u52a9\u6211\u4eec\u521b\u5efa\u597d\u4e86\u4ee3\u7406\u5bf9\u8c61\n        System.out.println(mcc.getClass()); //class cn.zhiyucs.MyMathCalculator$$EnhancerBySpringCGLIB$$ac796d0b\n    }\n")),(0,r.kt)("h3",{id:"aop\u7684\u53e6\u4e00\u4e9b\u7ec6\u8282"},"AOP\u7684\u53e6\u4e00\u4e9b\u7ec6\u8282"),(0,r.kt)("h4",{id:"\u5207\u5165\u70b9\u8868\u8fbe\u5f0f\u7684\u901a\u7528\u5199\u6cd5"},"\u5207\u5165\u70b9\u8868\u8fbe\u5f0f\u7684\u901a\u7528\u5199\u6cd5"),(0,r.kt)("p",null,"\u539f\u6765\u7684\u5199\u6cd5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Before("execution(public int cn.zhiyucs.MyMathCalculator.add(int, int))")\n')),(0,r.kt)("p",null,"\u5339\u914d\u4e00\u4e2a\u6216\u8fd9\u4e2a\u5b57\u7b26\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Before("execution(public int cn.zhiyucs.MyMath*.*(int, int))")\n')),(0,r.kt)("p",null,"\u5339\u914d\u4efb\u610f\u4e00\u4e2a\u53c2\u6570\uff1a",(0,r.kt)("strong",{parentName:"p"},"(..)")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Before("execution(public int cn.zhiyucs.MyMath*.*(..))")\n')),(0,r.kt)("p",null,"\u5339\u914d\u4efb\u610f\u8def\u5f84\uff1a",(0,r.kt)("strong",{parentName:"p"},"\u5305\u540d..")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Before("execution(public int cn.zhiyucs..MyMath*.*(..))")\n')),(0,r.kt)("p",null,"\u6743\u9650\u4f4d\u7f6e\u53ef\u4ee5\u4e0d\u5199\uff08public\uff09\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Before("execution(* cn.zhiyucs..MyMath*.*(..))")\n')),(0,r.kt)("p",null,"\u6700\u7ec8\u7248\u672c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Before("execution(* cn.zhiyucs.*.*(..))")\n')),(0,r.kt)("h4",{id:"\u83b7\u53d6\u65b9\u6cd5\u7684\u4fe1\u606f"},"\u83b7\u53d6\u65b9\u6cd5\u7684\u4fe1\u606f"),(0,r.kt)("p",null,"\u4f7f\u7528\u7684\u5305\uff1aorg.aspectj.lang.JoinPoint;"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u83b7\u53d6\u53c2\u6570"),"\uff1aJoinPoint jp -- jp.getArgs"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u83b7\u53d6\u4e00\u4e2a\u65b9\u6cd5\u540d"),"\uff1aJoinPoint jp -- getSignature -- getName"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    @Before("execution(* cn.zhiyucs.*.*(..))")\n    public static void logStart(JoinPoint jp) {\n//        System.out.println("["+ method.getName() +"]\u65b9\u6cd5\u5f00\u59cb\u6267\u884c\uff0c\u7528\u7684\u53c2\u6570\u5217\u8868\uff1a["+ Arrays.asList(args) +"]");\n//        \u8fd0\u884c\u65f6\u53c2\u6570\n        Object[] args = jp.getArgs();\n//        \u83b7\u53d6\u65b9\u6cd5\u7b7e\u540d\n        Signature signature = jp.getSignature();\n        String name = signature.getName();\n        System.out.println("[" + name + "]\u65b9\u6cd5\u5f00\u59cb\u6267\u884c\uff0c\u7528\u7684\u53c2\u6570\u5217\u8868\uff1a[" + Arrays.asList(args) + "]");\n    }\n')),(0,r.kt)("p",null,"\u83b7\u53d6",(0,r.kt)("strong",{parentName:"p"},"\u7ed3\u679c\u503c"),"\u548c\u83b7\u53d6",(0,r.kt)("strong",{parentName:"p"},"\u629b\u51fa\u5f02\u5e38\u7684\u4fe1\u606f"),"\uff1a\u5728\u5207\u5165\u70b9\u8868\u8fbe\u5f0f\u4e4b\u540e\u52a0\u5165returning / throwing"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'//    \u9700\u8981\u544a\u8bc9spring result\u8981\u63a5\u6536\u8fd4\u56de\u503c\n    @AfterReturning(value = "execution(public int cn.zhiyucs.MyMathCalculator.*(int, int))",\n            returning = "result")\n    public static void logReturn(JoinPoint jp, Object result) {\n        Signature signature = jp.getSignature();\n        String name = signature.getName();\n        System.out.println("["+ name +"]\u65b9\u6cd5\u6267\u884c\u5b8c\u6210\uff0c\u8ba1\u7b97\u7ed3\u679c\uff1a["+result+"]");\n    }\n    @AfterThrowing(value = "execution(public int cn.zhiyucs.MyMathCalculator.*(int, int))",\n        throwing = "e")\n    public static void logException(JoinPoint jp, Exception e) {\n        Signature signature = jp.getSignature();\n        String name = signature.getName();\n        System.out.println("["+ name +"]\u65b9\u6cd5\u6267\u884c\u5f02\u5e38\uff0c\u51fa\u73b0\u5f02\u5e38\u7684\u4fe1\u606f\uff1a["+e+"]");\n    }\n')),(0,r.kt)("h4",{id:"\u5207\u5165\u70b9\u8868\u8fbe\u5f0f\u7684\u91cd\u7528"},"\u5207\u5165\u70b9\u8868\u8fbe\u5f0f\u7684\u91cd\u7528"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    @Pointcut("execution(* cn.zhiyucs.*.*(..))")\n    public void pt1() {}\n    @Before("pt1()")\n    public static void logStart(JoinPoint jp) {\n    ...\n    }\n')),(0,r.kt)("h4",{id:"\u73af\u7ed5\u901a\u77e5"},"\u73af\u7ed5\u901a\u77e5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    /**\n     * \u73af\u7ed5\u901a\u77e5\uff1a\u52a8\u6001\u4ee3\u7406\n     * \u73af\u7ed5\u901a\u77e5\u4e2dProceedingJoinPoint \u76f8\u5f53\u4e8e JoinPoint\n     * \u73af\u7ed5\u901a\u77e5\u4f18\u4e8e\u666e\u901a\u901a\u77e5\u6267\u884c\n     * [\u666e\u901a\u524d\u7f6e]\n     * {\n     *     \u73af\u7ed5\u524d\u7f6e\n     *     \u73af\u7ed5\u6267\u884c\uff1a\u76ee\u6807\u65b9\u6cd5\n     *     \u73af\u7ed5\u8fd4\u56de/\u51fa\u73b0\u5f02\u5e38\n     *     \u73af\u7ed5\u540e\u7f6e\n     * }\n     * [\u666e\u901a\u65b9\u6cd5\u8fd4\u56de/\u65b9\u6cd5\u5f02\u5e38]\n     * [\u666e\u901a\u540e\u7f6e]\n     */\n    @Around("pt1()")\n    public Object myAround(ProceedingJoinPoint pjp) throws Throwable {\n        Object[] args = pjp.getArgs();\n//        \u5229\u7528\u53cd\u5c04\u8fdb\u884c\u76ee\u6807\u65b9\u6cd5\u7684\u8c03\u7528\uff0c\u76f8\u5f53\u4e8emethod.invoke(obj, args)\n        Signature signature = pjp.getSignature();\n        String name = signature.getName();\n        Object proceed = null;\n        try {\n            System.out.println("\u3010\u73af\u7ed5\u524d\u7f6e\u901a\u77e5\u3011\u3010"+name+"\u3011\u65b9\u6cd5\u5f00\u59cb, \u65b9\u6cd5\u53c2\u6570: "+ Arrays.asList(pjp.getArgs()));\n            proceed = pjp.proceed(args);\n            System.out.println("\u3010\u73af\u7ed5\u8fd4\u56de\u901a\u77e5\u3011\u3010"+name+"\u3011\u65b9\u6cd5\u8fd4\u56de\u3010"+proceed+"\u3011");\n        }catch (Exception e) {\n            System.out.println("\u3010\u73af\u7ed5\u5f02\u5e38\u901a\u77e5\u3011\u3010"+name+"\u3011\u65b9\u6cd5\u53d1\u751f\u5f02\u5e38\uff0c\u5f02\u5e38\u4fe1\u606f\uff1a"+e);\n        } finally {\n            System.out.println("\u3010\u73af\u7ed5\u540e\u7f6e\u901a\u77e5\u3011\u3010"+name+"\u3011\u65b9\u6cd5\u7ed3\u675f");\n        }\n        System.out.println("\u73af\u7ed5....");\n        return proceed;\n    }\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff1a")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6267\u884c\u987a\u5e8f\uff1a\u73af\u7ed5\u524d\u7f6e -- \u666e\u901a\u524d\u7f6e -- \u76ee\u6807\u65b9\u6cd5\u6267\u884c -- \u73af\u7ed5\u5f00\u59cb\u8fd4\u56de/\u51fa\u73b0\u5f02\u5e38 -- \u73af\u7ed5\u540e\u7f6e -- \u666e\u901a\u540e\u7f6e -- \u666e\u901a\u8fd4\u56de/\u5f02\u5e38"),(0,r.kt)("li",{parentName:"ul"},"\u73af\u7ed5\u901a\u77e5\u5982\u679c\u53d1\u751f\u5f02\u5e38\uff0c\u5916\u8fb9\u7684\u666e\u901a\u901a\u77e5\u662f\u63a5\u6536\u4e0d\u5230\u7684\uff0c\u9700\u8981throw new \u629b\u51fa\u53bb\uff0c\u666e\u901a\u901a\u77e5\u624d\u80fd\u6355\u83b7\u5230")),(0,r.kt)("h4",{id:"\u591a\u5207\u9762\u7684\u6267\u884c\u987a\u5e8f"},"\u591a\u5207\u9762\u7684\u6267\u884c\u987a\u5e8f"),(0,r.kt)("hr",null),(0,r.kt)("p",null,"\u5982\u679c\u4e0d\u4f7f\u7528\u4efb\u4f55\u6ce8\u89e3\uff1a\u6267\u884c\u5207\u9762\u7684\u987a\u5e8f\u662f\u6309\u5927\u5c0f\u5199\u5b57\u6bcdA-Z\u6267\u884c"),(0,r.kt)("p",null,"\u5982\u679c\u4f7f\u7528",(0,r.kt)("strong",{parentName:"p"},'@Order\uff08value=""\uff09')," value\u503c\u8d8a\u5c0f\uff0c\u4f18\u5148\u7ea7\u8d8a\u9ad8"),(0,r.kt)("h3",{id:"\u57fa\u4e8exml\u7684aop"},"\u57fa\u4e8eXML\u7684AOP"),(0,r.kt)("p",null,"\u57fa\u4e8e\u6ce8\u89e3\u7684AOP\u6b65\u9aa4\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5c06\u76ee\u6807\u7c7b\u548c\u5207\u9762\u52a0\u5165\u5230\u5bb9\u5668\u4e2d\u3002@Component"),(0,r.kt)("li",{parentName:"ol"},"\u544a\u8bc9Spring\u54ea\u4e2a\u662f\u5207\u9762\u7c7b\u3002@Aspect"),(0,r.kt)("li",{parentName:"ol"},"\u5728\u5207\u9762\u7c7b\u4e2d\u4f7f\u7528\u4e94\u4e2a\u901a\u77e5\u6ce8\u89e3\u914d\u7f6e\u5207\u9762\u4e2d\u7684\u8fd9\u4e9b\u901a\u77e5\u65b9\u6cd5\u90fd\u4f55\u65f6\u4f55\u5730\u8fd0\u884c")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!--    \u5c06\u76ee\u6807\u7c7b\u548c\u5207\u9762\u52a0\u5165\u5230\u5bb9\u5668\u4e2d\u3002@Component--\x3e\n    <bean class="cn.zhiyucs.MyMathCalculator" id="myMathCalculator"></bean>\n    <bean class="cn.zhiyucs.LogUtils" id="logUtils"></bean>\n\x3c!--    AOP\u540d\u79f0\u7a7a\u95f4--\x3e\n    <aop:config>\n\x3c!--        \u544a\u8bc9Spring\u54ea\u4e2a\u662f\u5207\u9762\u7c7b\u3002@Aspect--\x3e\n        <aop:pointcut id="pt1" expression="execution(* cn.zhiyucs.*.*(..))"/>\n        <aop:aspect ref="logUtils"  order="1">\n            \x3c!--\u5728\u5207\u9762\u7c7b\u4e2d\u4f7f\u7528\u4e94\u4e2a\u901a\u77e5--\x3e\n            <aop:before method="logStart" pointcut-ref="pt1"></aop:before>\n            <aop:after-returning method="logReturn" pointcut-ref="pt1" returning="result"></aop:after-returning>\n            <aop:after-throwing method="logException" pointcut-ref="pt1" throwing="e"></aop:after-throwing>\n            <aop:after method="logEnd" pointcut-ref="pt1"></aop:after>\n        </aop:aspect>\n    </aop:config>\n')),(0,r.kt)("p",null,"\u6ce8\u89e3\u548c\u914d\u7f6e\u7684\u533a\u522b\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6ce8\u89e3\uff1a\u5feb\u901f"),(0,r.kt)("li",{parentName:"ul"},"\u914d\u7f6e\uff1a\u5171\u5ae9\u66f4\u5b8c\u5584")),(0,r.kt)("p",null,"\u91cd\u8981\u7684\u7528\u914d\u7f6e\uff0c\u4e0d\u91cd\u8981\u7684\u6ce8\u89e3"),(0,r.kt)("h2",{id:"ioc"},"IOC"),(0,r.kt)("h3",{id:"spring\u7b2c\u4e00\u4e2a\u7a0b\u5e8f"},"Spring\u7b2c\u4e00\u4e2a\u7a0b\u5e8f"),(0,r.kt)("p",null,"\u5728maven\u6587\u4ef6\u5bfc\u5165\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<properties>\n    <spring-version>5.1.3.RELEASE</spring-version>\n</properties>\n<dependencies>\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-beans</artifactId>\n        <version>${spring-version}</version>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-context</artifactId>\n        <version>${spring-version}</version>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-core</artifactId>\n        <version>${spring-version}</version>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-expression</artifactId>\n        <version>${spring-version}</version>\n    </dependency>\n    <dependency>\n        <groupId>commons-logging</groupId>\n        <artifactId>commons-logging</artifactId>\n        <version>1.2</version>\n    </dependency>\n    <dependency>\n        <groupId>junit</groupId>\n        <artifactId>junit</artifactId>\n        <version>4.12</version>\n        <scope>test</scope>\n    </dependency>\n</dependencies>\n")),(0,r.kt)("p",null,"\u65b0\u5efa\u4e00\u4e2a\u5b9e\u4f53\u7c7b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class Person {\n    private String lastName;\n    private Integer age;\n    private String gender;\n    private String email;\n...\n}\n")),(0,r.kt)("p",null,"\u65b0\u5efa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u5230resource\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">\n\x3c!--    \u6ce8\u518cperson\u5bf9\u8c61--\x3e\n\x3c!--    \u4e00\u4e2abean\u53ef\u4ee5\u6ce8\u518c\u4e00\u4e2a\u7ec4\u4ef6--\x3e\n    <bean id="person" class="cn.zhiyucs.bean.Person">\n\x3c!--        property\u4e3aperson\u5c5e\u6027\u8d4b\u503c--\x3e\n        <property name="lastName" value="\u5f20\u4e09"></property>\n        <property name="age" value="18"></property>\n        <property name="email" value="zhangsan@zhiyucs.com"></property>\n        <property name="gender" value="\u7537"></property>\n    </bean>\n</beans>\n')),(0,r.kt)("p",null,"\u53ef\u4ee5\u5f00\u59cb\u6d4b\u8bd5\u8fd9\u4e2a\u7c7b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class IOCTest {\n//        \u4ece\u5bb9\u5668\u4e2d\u62ff\u5230\u8fd9\u4e2a\u7ec4\u4ef6\n    @Test\n    public void testPerson() {\n        ApplicationContext ioc = new ClassPathXmlApplicationContext("/ioc.xml");\n        Person person = (Person)ioc.getBean("person");\n        System.out.println(person);\n    }\n}\n')),(0,r.kt)("p",null,"\u5c0f\u7ed3\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u540c\u4e00\u7ec4\u4ef6\u5728ioc\u5bb9\u5668\u65f6\u5355\u5b9e\u4f8b\u7684\uff0c\u5bb9\u5668\u542f\u52a8\u5b8c\u6210\u90fd\u5df2\u7ecf\u521b\u5efa\u51c6\u5907\u597d\u7684"),(0,r.kt)("li",{parentName:"ul"},"ioc\u5bb9\u5668\u5728\u521b\u5efa\u5bf9\u8c61\u7684\u65f6\u5019\uff08property\uff09\u4f1a\u5229\u7528setter\u65b9\u6cd5\u4e3aJavaBean\u5c5e\u6027\u8fdb\u884c\u8d4b\u503c"),(0,r.kt)("li",{parentName:"ul"},"JavaBean\u7684\u5c5e\u6027\u540d\u662f\u7531getter/setter\u65b9\u6cd5\u51b3\u5b9a\u5c5e\u6027\u540d\uff0csetLastName -> lastName")),(0,r.kt)("h3",{id:"spring\u591a\u4e2a\u5bf9\u8c61\u8d4b\u503c\u548c\u6784\u9020\u5668\u8d4b\u503c"},"Spring\u591a\u4e2a\u5bf9\u8c61\u8d4b\u503c\u548c\u6784\u9020\u5668\u8d4b\u503c"),(0,r.kt)("h4",{id:"\u5e8f\u8a00\u4e00\u822c\u90fd\u662f\u4f7f\u7528namevalue\u7684\u65b9\u5f0f\u8fdb\u884c\u8d4b\u503c"},"\u3010\u5e8f\u8a00\u3011\u4e00\u822c\u90fd\u662f\u4f7f\u7528name+value\u7684\u65b9\u5f0f\u8fdb\u884c\u8d4b\u503c"),(0,r.kt)("h4",{id:"\u591a\u4e2a\u5bf9\u8c61\u8d4b\u503c\u65b9\u5f0f"},"\u591a\u4e2a\u5bf9\u8c61\u8d4b\u503c\u65b9\u5f0f"),(0,r.kt)("p",null,"\u200b    \u5982\u679cXML\u662f\u591a\u4e2a\u5bf9\u8c61"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<bean id="person" class="cn.zhiyucs.bean.Person">\n\x3c!--        property\u4e3aperson\u5c5e\u6027\u8d4b\u503c--\x3e\n    <property name="lastName" value="\u5f20\u4e09"></property>\n    <property name="age" value="18"></property>\n    <property name="email" value="zhangsan@zhiyucs.com"></property>\n    <property name="gender" value="\u7537"></property>\n</bean>\n<bean id="person02" class="cn.zhiyucs.bean.Person">\n    \x3c!--        property\u4e3aperson\u5c5e\u6027\u8d4b\u503c--\x3e\n    <property name="lastName" value="\u674e\u56db"></property>\n    <property name="age" value="22"></property>\n    <property name="email" value="lisi@zhiyucs.com"></property>\n    <property name="gender" value="\u7537"></property>\n</bean>\n')),(0,r.kt)("p",null,"\u53ef\u4ee5\u901a\u8fc7\u8fd9\u6837\u8d4b\u503c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"<T> T getBean(String name, Class<T> requiredType) throws BeansException;\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Test\npublic void test02() {\n    Person person02 = ioc.getBean("person02", Person.class);\n    System.out.println(person02);\n    Person person03 = ioc.getBean("person", Person.class);\n    System.out.println(person03);\n}\n')),(0,r.kt)("h4",{id:"\u901a\u8fc7\u6784\u9020\u5668\u8d4b\u503c"},"\u901a\u8fc7\u6784\u9020\u5668\u8d4b\u503c"),(0,r.kt)("p",null,"Bean\u7c7b\u4e2d\u52a0\u5165\u6784\u9020\u5668"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public Person() {\n}\npublic Person(String lastName, Integer age, String gender) {\n    this.lastName = lastName;\n    this.age = age;\n    this.gender = gender;\n}\npublic Person(String lastName, Integer age, String gender, String email) {\n    this.lastName = lastName;\n    this.age = age;\n    this.gender = gender;\n    this.email = email;\n}\n")),(0,r.kt)("p",null,"\u5982\u679c\u662f\u56db\u4e2a\u53c2\u6570\u7684\u6784\u9020\u5668\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<bean id="person03" class="cn.zhiyucs.bean.Person">\n\x3c!--        \u8c03\u7528\u6709\u53c2\u6784\u9020\u5668--\x3e\n    <constructor-arg name="lastName" value="\u5c0f\u660e"></constructor-arg>\n    <constructor-arg name="age" value="12"></constructor-arg>\n    <constructor-arg name="email" value="xiaoming@zy.com"></constructor-arg>\n    <constructor-arg name="gender" value="\u7537"></constructor-arg>\n</bean>\n')),(0,r.kt)("p",null,"\u5982\u679c\u60f3\u4e0d\u6dfb\u52a0name\uff0c\u53ef\u4ee5\u6dfb\u52a0index\u5c5e\u6027"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!--    \u7701\u7565name\u9700\u8981\u4e25\u683c\u6309\u7167\u6784\u9020\u5668--\x3e\n<bean id="person04" class="cn.zhiyucs.bean.Person">\n    <constructor-arg value="\u5c0f\u82b1"></constructor-arg>\n    <constructor-arg value="18"></constructor-arg>\n    <constructor-arg value="xiaohua@zy.com" index="3"></constructor-arg>\n    <constructor-arg value="\u7537" index="2"></constructor-arg>\n</bean>\n')),(0,r.kt)("p",null,"\u5982\u679c\u662f\u4e09\u4e2a\u53c2\u6570\u6784\u9020\u5668\u9700\u8981\u6dfb\u52a0type\uff0c\u4e0d\u7136\u4f1a\u4e3a\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u8d4b\u503c"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<bean id="person05" class="cn.zhiyucs.bean.Person">\n    <constructor-arg value="\u5c0f\u674e"></constructor-arg>\n    <constructor-arg value="16" type="java.lang.Integer"></constructor-arg>\n    <constructor-arg value="\u5973"></constructor-arg>\n</bean>\n')),(0,r.kt)("h3",{id:"spring\u547d\u540d\u7a7a\u95f4"},"Spring\u547d\u540d\u7a7a\u95f4"),(0,r.kt)("p",null,"\u5728xml\u5bfc\u5165 p \u547d\u540d\u7a7a\u95f4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:p="http://www.springframework.org/schema/p" //\u8fd9\u91cc\n       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">\n')),(0,r.kt)("p",null,"\u4f7f\u7528p\u6807\u7b7e\u5feb\u901f\u6784\u5efabean"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<bean id="person06" class="cn.zhiyucs.bean.Person"\n      p:age="16"\n      p:lastName="p"\n      p:email="p@qq.com"\n      p:gender="\u5973">\n</bean>\n')),(0,r.kt)("h3",{id:"spring\u6b63\u786e\u8d4b\u503c\u5404\u79cd\u5c5e\u6027"},"Spring\u6b63\u786e\u8d4b\u503c\u5404\u79cd\u5c5e\u6027"),(0,r.kt)("p",null,"\u521b\u5efa\u4e00\u4e9b\u590d\u6742\u7684\u5c5e\u6027"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class Person {\n//    \u57fa\u672c\u7c7b\u578b\n//    <property name="lastName" value="\u5f20\u4e09"></property>\n    private String lastName;\n    ....\n//    \u590d\u6742\u7c7b\u578b\n    private Car car;\n    private List<Book> books;\n    private Map<String, Object> maps;\n    private Properties properties;\n    ....\n}\n')),(0,r.kt)("p",null,"\u8d4b\u503c\u4e3aNULL\u7684\u65b9\u6cd5\u548c\u5f15\u7528\u7c7b\u7684\u914d\u7f6e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<bean id="person" class="cn.zhiyucs.bean.Person">\n    \x3c!--    \u4f7f\u7528null\u503c,\u9ed8\u8ba4\u5c31\u662fNull--\x3e\n    <property name="lastName">\n        <null></null>\n    </property>\n    \x3c!--\u8fd9\u91cc\u662f\u5f15\u7528\u7c7b\u7684\u914d\u7f6e--\x3e\n    <property name="car" ref="car01"></property>\n</bean>\n<bean class="cn.zhiyucs.bean.Car" id="car01">\n    <property name="carName" value="\u5b9d\u9a6c"></property>\n    <property name="price" value="30000"></property>\n    <property name="color" value="\u7eff\u8272"></property>\n</bean>\n')),(0,r.kt)("p",null,"\u8fdb\u884c\u5185\u90e8bean\u8d4b\u503c\u7684\u914d\u7f6e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<bean id="person" class="cn.zhiyucs.bean.Person">\n    \x3c!--    \u4f7f\u7528null\u503c,\u9ed8\u8ba4\u5c31\u662fNull--\x3e\n    <property name="lastName">\n        <null></null>\n    </property>\n    \x3c!--        <property name="car" ref="car01"></property>--\x3e\n    <property name="car">\n        <bean class="cn.zhiyucs.bean.Car">\n            <property name="carName" value="\u5954\u9a70"></property>\n            <property name="price" value="100000"></property>\n            <property name="color" value="\u767d\u8272"></property>\n        </bean>\n    </property>\n</bean>\n')),(0,r.kt)("p",null,"\u8d4b\u503c\u4e00\u4e2aList\u96c6\u5408\u7684\u8303\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<bean id="complex_person" class="cn.zhiyucs.bean.Person">\n    <property name="books">\n        <list>\n            \x3c!-- list\u6807\u7b7e --\x3e\n            <bean id="innerBook" class="cn.zhiyucs.bean.Book"\n                  p:bookName="\u897f\u6e38"\n                  p:author="\u5434\u627f\u6069">\n            </bean>\n            \x3c!--  \u5f15\u7528  --\x3e\n            <ref bean="book01" />\n        </list>\n    </property>\n</bean>\n\x3c!--  \u5f15\u7528\u7c7b\u578bBook  --\x3e\n<bean id="book01" class="cn.zhiyucs.bean.Book"\n      p:bookName="\u6c34\u6d52\u4f20"\n      p:author="\u65bd\u8010\u5eb5">\n</bean>\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff1a"),"\u5982\u679c\u8981\u83b7\u53d6innerBook\u662f\u83b7\u53d6\u4e0d\u5230\u7684\uff0c\u4f7f\u7528IOC\u7684getBean\u662f\u83b7\u53d6\u4e0d\u5230\u5185\u90e8id\uff0c\u53ea\u80fd\u5185\u90e8\u4f7f\u7528"),(0,r.kt)("p",null,"\u4e3aMap\u7c7b\u578b\u8d4b\u503c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<bean id="complex_person" class="cn.zhiyucs.bean.Person">\n    <property name="maps">\n        <map>\n            <entry key="key01" value="\u5f20\u4e09"></entry>\n            <entry key="key02" value="17"></entry>\n            <entry key="key03" value-ref="book01"></entry>\n            <entry key="key04">\n                <bean class="cn.zhiyucs.bean.Car">\n                    <property name="carName" value="\u5b9d\u9a6c"></property>\n                </bean>\n            </entry>\n        </map>\n    </property>\n    <bean id="book01" class="cn.zhiyucs.bean.Book"\n        p:bookName="\u6c34\u6d52\u4f20"\n        p:author="\u65bd\u8010\u5eb5">\n    </bean>\n</bean>\n')),(0,r.kt)("p",null,"\u4e3aProperties\u8d4b\u503c"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<property name="properties">\n    <props>\n        \x3c!--                K V\u90fd\u662fsring\uff0c\u53ef\u4ee5\u76f4\u63a5\u5199\u5230\u6807\u7b7e\u4f53--\x3e\n        <prop key="username">root</prop>\n        <prop key="password">123456</prop>\n    </props>\n</property>\n')),(0,r.kt)("p",null,"util\u547d\u540d\u7a7a\u95f4\u5f15\u5165\uff0c\u8fdb\u884c\u5168\u5c40\u5f15\u7528\uff1a"),(0,r.kt)("p",null,"\u9996\u5148\u66f4\u6539\u5934\u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xmlns:util="http://www.springframework.org/schema/util" // \u8fd9\u91cc\n       xsi:schemaLocation="http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/util                        // \u8fd9\u91cc\n       http://www.springframework.org/schema/util/spring-util-4.0.xsd">  // \u8fd9\u91cc\n')),(0,r.kt)("p",null,"\u521b\u5efa\u5e76\u5f15\u7528"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<bean id="new_person" class="cn.zhiyucs.bean.Person">\n    <property name="maps" ref="myMap"></property>\n</bean>\n\x3c!--    \u76f8\u5f53\u4e8enew LinkedHashMap()--\x3e\n<util:map id="myMap">\n    \x3c!--        \u6dfb\u52a0\u5143\u7d20--\x3e\n    <entry key="key01" value="\u5f20\u4e09"></entry>\n    <entry key="key02" value="17"></entry>\n    <entry key="key03" value-ref="book01"></entry>\n    <entry key="key04">\n        <bean class="cn.zhiyucs.bean.Car">\n            <property name="carName" value="\u5b9d\u9a6c"></property>\n        </bean>\n    </entry>\n</util:map>\n')),(0,r.kt)("p",null,"\u7ea7\u8054\uff0c\u4fee\u6539\u5c5e\u6027\u7684\u5c5e\u6027\uff1axxx.xxx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!--    \u7ea7\u8054--\x3e\n    <bean class="cn.zhiyucs.bean.Person" id="person03">\n\x3c!--        \u5982\u679c\u4f7f\u7528ref\u4f1a\u4ea7\u751f\u7ea7\u8054 car01\u7684price\u4e5f\u4f1a\u968f\u7740\u6539\u53d8--\x3e\n        <property name="car" ref="car01"></property>\n        <property name="car.price" value="90000"></property> //\u8fd9\u91cc\n    </bean>\n')),(0,r.kt)("h3",{id:"\u5176\u4ed6\u5c5e\u6027\u7684\u8d4b\u503c"},"\u5176\u4ed6\u5c5e\u6027\u7684\u8d4b\u503c"),(0,r.kt)("p",null,"\u5c5e\u6027\u7ee7\u627f\uff1a\u5173\u952e\u5c5e\u6027 --- ",(0,r.kt)("strong",{parentName:"p"},"parent")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<bean id="person04" class="cn.zhiyucs.bean.Person">\n    <property name="lastName" value="\u5f20\u4e09"></property>\n    <property name="age" value="19"></property>\n    <property name="gender" value="\u7537"></property>\n    <property name="email" value="zhangsan@zhiyucs.com"></property>\n</bean>\n<bean id="person05" class="cn.zhiyucs.bean.Person" parent="person04">\n    <property name="lastName" value="\u674e\u59d0"></property>\n</bean>\n')),(0,r.kt)("p",null,"\u6253\u5370\u7ed3\u679c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Person{lastName='\u5f20\u4e09', age=19, gender='\u7537', email='zhangsan@zhiyucs.com', car=null, books=null, maps=null, properties=null}\nPerson{lastName='\u674e\u59d0', age=19, gender='\u7537', email='zhangsan@zhiyucs.com', car=null, books=null, maps=null, properties=null}\n")),(0,r.kt)("p",null,"\u62bd\u8c61\uff1a\u5173\u952e\u5c5e\u6027 ---",(0,r.kt)("strong",{parentName:"p"},"abstract")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!--    abstract:\u4e0d\u80fd\u83b7\u53d6\u5b83\u7684\u5b9e\u4f8b\uff0c\u53ea\u80fd\u88ab\u7528\u6765\u7ee7\u627f--\x3e\n    <bean id="person04" class="cn.zhiyucs.bean.Person" abstract="true">\n        <property name="lastName" value="\u5f20\u4e09"></property>\n        <property name="age" value="19"></property>\n        <property name="gender" value="\u7537"></property>\n        <property name="email" value="zhangsan@zhiyucs.com"></property>\n    </bean>\n')),(0,r.kt)("p",null,"bean\u4e4b\u95f4\u7684\u4f9d\u8d56\uff1a\uff08\u57fa\u672c\u4e0d\u7528\uff09"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!--    \u539f\u6765\u7684\u521b\u5efa\u987a\u5e8f\u662f\u4f9d\u6b21\u7684--\x3e\n\x3c!--    depends-on\u51b3\u5b9a\u521b\u5efa\u987a\u5e8f--\x3e\n    <bean id="person" class="cn.zhiyucs.bean.Person"></bean>\n    <bean id="car" class="cn.zhiyucs.bean.Car" depends-on="person,book"></bean>\n    <bean id="book" class="cn.zhiyucs.bean.Book"></bean>\n')),(0,r.kt)("h3",{id:"\u91cd\u70b9bean\u7684\u4f5c\u7528\u57df\u5355\u5b9e\u4f8b\u548c\u591a\u5b9e\u4f8b"},"\u3010\u91cd\u70b9\u3011Bean\u7684\u4f5c\u7528\u57df\uff1a\u5355\u5b9e\u4f8b\u548c\u591a\u5b9e\u4f8b"),(0,r.kt)("p",null,"prototype \u591a\u5b9e\u4f8b"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5bb9\u5668\u542f\u52a8\u9ed8\u8ba4\u4e0d\u4f1a\u53bb\u521b\u5efa\u591a\u5b9e\u4f8bbean"),(0,r.kt)("li",{parentName:"ol"},"\u83b7\u53d6\u7684\u65f6\u5019\u521b\u5efa\u8fd9\u4e2abean"),(0,r.kt)("li",{parentName:"ol"},"\u6bcf\u6b21\u83b7\u53d6\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61")),(0,r.kt)("p",null,"singleton \u5355\u5b9e\u4f8b"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5728\u5bb9\u5668\u542f\u52a8\u5b8c\u6210\u5c31\u5df2\u7ecf\u521b\u5efa\u597d\u5bf9\u8c61, \u4fdd\u5b58\u5728\u5bb9\u5668\u4e2d"),(0,r.kt)("li",{parentName:"ol"},"\u4efb\u4f55\u65f6\u5019\u90fd\u662f\u83b7\u53d6\u4e4b\u524d\u521b\u5efa\u597d\u7684\u5bf9\u8c61")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<bean id="book" class="cn.zhiyucs.bean.Book" scope="prototype"></bean>\n')),(0,r.kt)("h3",{id:"\u4f7f\u7528\u5de5\u5382\u521b\u5efa\u5bf9\u8c61"},"\u4f7f\u7528\u5de5\u5382\u521b\u5efa\u5bf9\u8c61"),(0,r.kt)("p",null,"\u9759\u6001\u5de5\u5382\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class StaticFactory {\n    public static AirPlane getAirPlane(String jzName) {\n        AirPlane airPlane = new AirPlane();\n        airPlane.setFdj("\u592a\u884c");\n        airPlane.setFjsName("lfy");\n        airPlane.setJzName(jzName);\n        airPlane.setPersonNum(300);\n        airPlane.setYc("198.98m");\n        return airPlane;\n    }\n}\n')),(0,r.kt)("p",null,"factory-method\u5c5e\u6027\u91cc\u6307\u5b9a\u8be5\u5de5\u5382\u65b9\u6cd5\u7684\u540d\u79f0"),(0,r.kt)("p",null,"\u4f7f\u7528 construtor-arg \u5143\u7d20\u4e3a\u5de5\u5382\u65b9\u6cd5\u4f20\u9012\u65b9\u6cd5\u53c2\u6570"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!--    \u9759\u6001\u5de5\u5382--\x3e\n<bean id="airplane01" class="cn.zhiyucs.factory.StaticFactory" factory-method="getAirPlane">\n    <constructor-arg value="\u5f20\u4e09"></constructor-arg>\n</bean>\n')),(0,r.kt)("p",null,"\u5b9e\u4f8b\u5de5\u5382\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class InstanceFactory {\n    public AirPlane getAirPlane(String jzName) {\n        AirPlane airPlane = new AirPlane();\n        airPlane.setFdj("\u592a\u884c");\n        airPlane.setFjsName("lfy");\n        airPlane.setJzName(jzName);\n        airPlane.setPersonNum(300);\n        airPlane.setYc("198.98m");\n        return airPlane;\n    }\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<bean id="instanceFactory" class="cn.zhiyucs.factory.InstanceFactory">\n</bean>\n<bean id="airplane02" class="cn.zhiyucs.factory.InstanceFactory" factory-bean="instanceFactory" factory-method="getAirPlane">\n    <constructor-arg value="\u674e\u56db"></constructor-arg>\n</bean>\n')),(0,r.kt)("p",null,"\u6839\u636e\u63a5\u53e3\u521b\u5efa"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class MyFactoryBeanImpl implements FactoryBean<Book> {\n    /**\n     * \u5de5\u5382\u65b9\u6cd5\uff0c\u521b\u5efa\u5bf9\u8c61\n     * @return\n     * @throws Exception\n     */\n    public Book getObject() throws Exception {\n        Book book = new Book();\n        book.setBookName(UUID.randomUUID().toString());\n        return book;\n    }\n    /**\n     * \u8fd4\u56de\u5bf9\u8c61\u7684\u7c7b\u578b\n     * @return\n     */\n    public Class<?> getObjectType() {\n        return Book.class;\n    }\n    /**\n     * \u662f\u5426\u5355\u4f8b\n     * @return\n     */\n    public boolean isSingleton() {\n        return false;\n    }\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<bean class="cn.zhiyucs.factory.MyFactoryBeanImpl" id="myFactoryBean"></bean>\n')),(0,r.kt)("h3",{id:"bean\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u548c\u540e\u7f6e\u5904\u7406\u5668"},"Bean\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u548c\u540e\u7f6e\u5904\u7406\u5668"),(0,r.kt)("h4",{id:"bean\u7684\u58f0\u660e\u5468\u671f\u65b9\u6cd5"},"Bean\u7684\u58f0\u660e\u5468\u671f\u65b9\u6cd5"),(0,r.kt)("p",null,"\u8865\u5145\u5bf9\u8c61\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class Book {\n    private String author;\n    private String bookName;\n    public void myInit() {\n        System.out.println("\u8fd9\u662f\u56fe\u4e66\u7684\u521d\u59cb\u5316\u65b9\u6cd5");\n    }\n    public void myDestory() {\n        System.out.println("\u8fd9\u662f\u56fe\u4e66\u7684\u9500\u6bc1\u65b9\u6cd5");\n    }\n    public Book() {\n        System.out.println("\u56fe\u4e66\u88ab\u521b\u5efa");\n    }\n    ...\n}\n')),(0,r.kt)("p",null,"XML\u914d\u7f6e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!--    destroy-method\u81ea\u5b9a\u4e49\u9500\u6bc1\u65b9\u6cd5--\x3e\n<bean id="book1" class="cn.zhiyucs.bean.Book" destroy-method="myDestory"></bean>\n')),(0,r.kt)("p",null,"\u6d4b\u8bd5\u65b9\u6cd5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class IOCTest {\n    ConfigurableApplicationContext ioc = new ClassPathXmlApplicationContext("applicationContext.xml");\n    @Test\n    public void test01() {\n        ioc.close();\n    }\n}\n')),(0,r.kt)("h4",{id:"\u540e\u7f6e\u5904\u7406\u5668"},"\u540e\u7f6e\u5904\u7406\u5668"),(0,r.kt)("p",null,"\u62ffBook\u7684\u5b9e\u4f53\u7c7b\u4e3a\u4f8b\uff1a"),(0,r.kt)("p",null,"\u521b\u5efa\u4e00\u4e2a\u540e\u7f6e\u5904\u7406\u5668\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class MyBeanPostProcessor implements BeanPostProcessor {\n    /**\n     * \u521d\u59cb\u5316\u4e4b\u524d\u8c03\u7528\n     * @param bean \u5c06\u8981\u521d\u59cb\u5316\u7684bean\n     * @param beanName bean\u540d\u5b57\uff08id\uff09\n     * @return\n     * @throws BeansException\n     */\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n        System.out.println("\u3010"+ beanName +"\u3011\u5c06\u8981\u8c03\u7528\u521d\u59cb\u5316\u65b9\u6cd5...");\n        return bean;\n    }\n    /**\n     * \u521d\u59cb\u5316\u4e4b\u540e\u8c03\u7528\n     * @param bean\n     * @param beanName\n     * @return\n     * @throws BeansException\n     */\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        System.out.println("\u3010"+ beanName +"\u3011\u5c06\u8981\u8c03\u7528\u521d\u59cb\u5316\u65b9\u6cd52...");\n        return bean;\n    }\n}\n')),(0,r.kt)("p",null,"XML\u914d\u7f6e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!--    destroy-method\u81ea\u5b9a\u4e49\u9500\u6bc1\u65b9\u6cd5--\x3e\n    <bean id="book1" class="cn.zhiyucs.bean.Book" destroy-method="myDestory" init-method="myInit"></bean>\n\x3c!--    \u540e\u7f6e\u5904\u7406\u5668--\x3e\n    <bean class="MyBeanPostProcessor" id="myBeanPostProcessor"></bean>\n')),(0,r.kt)("p",null,"\u6d4b\u8bd5\u7ed3\u679c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u56fe\u4e66\u88ab\u521b\u5efa\n\u3010book1\u3011\u5c06\u8981\u8c03\u7528\u521d\u59cb\u5316\u65b9\u6cd5...\n\u8fd9\u662f\u56fe\u4e66\u7684\u521d\u59cb\u5316\u65b9\u6cd5\n\u3010book1\u3011\u5c06\u8981\u8c03\u7528\u521d\u59cb\u5316\u65b9\u6cd52...\n\u8fd9\u662f\u56fe\u4e66\u7684\u9500\u6bc1\u65b9\u6cd5\n")),(0,r.kt)("h3",{id:"\u5355\u5b9e\u4f8b\u6570\u636e\u5e93\u8fde\u63a5\u6c60"},"\u5355\u5b9e\u4f8b\uff1a\u6570\u636e\u5e93\u8fde\u63a5\u6c60"),(0,r.kt)("p",null,"\u9700\u8981\u989d\u5916\u5bfc\u5165\u4e24\u4e2aJar"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<dependency>\n    <groupId>mysql</groupId>\n    <artifactId>mysql-connector-java</artifactId>\n    <version>5.1.6</version>\n</dependency>\n<dependency>\n    <groupId>c3p0</groupId>\n    <artifactId>c3p0</artifactId>\n    <version>0.9.1.2</version>\n</dependency>\n")),(0,r.kt)("p",null,"\u5728IOC\u4e2d\u914d\u7f6e\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<bean class="com.mchange.v2.c3p0.ComboPooledDataSource" id="dataSource">\n    <property name="user" value="root"></property>\n    <property name="password" value="root"></property>\n    <property name="jdbcUrl" value="jdbc:mysql://localhost:3306/eesy"></property>\n    <property name="driverClass" value="com.mysql.jdbc.Driver"></property>\n</bean>\n')),(0,r.kt)("p",null,"\u6d4b\u8bd5\u53ca\u7ed3\u679c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Test\npublic void test02() throws SQLException {\n    //        DataSource dataSource = ioc.getBean("dataSource", DataSource.class);\n    DataSource dataSource = ioc.getBean(DataSource.class);\n    System.out.println(dataSource.getConnection());\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u4e03\u6708 04, 2020 11:43:53 \u4e0a\u5348 com.mchange.v2.log.MLog <clinit>\n\u4fe1\u606f: MLog clients using java 1.4+ standard logging.\n\u4e03\u6708 04, 2020 11:43:53 \u4e0a\u5348 com.mchange.v2.c3p0.C3P0Registry banner\n\u4fe1\u606f: Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]\n\u4e03\u6708 04, 2020 11:43:53 \u4e0a\u5348 com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource getPoolManager\n\u4fe1\u606f: Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hgegoxab6myo681osor89|30a3107a, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hgegoxab6myo681osor89|30a3107a, idleConnectionTestPeriod -> 0, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/eesy, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 0, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]\ncom.mchange.v2.c3p0.impl.NewProxyConnection@157632c9\n")),(0,r.kt)("p",null,"\u628aIOC\u7684\u914d\u7f6e\u63d0\u53d6\u5230\u5355\u72ec\u7684\u6587\u4ef6\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"e793c492-babe-44d7-8335-685c9ff1e526",src:a(61204).Z,width:"253",height:"96"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-properties"},"username=root\npassword=root\njdbcUrl=jdbc:mysql://localhost:3306/eesy\ndriverClass=com.mysql.jdbc.Driver\n")),(0,r.kt)("p",null,"\u9700\u8981\u5f15\u5165context\uff1a"),(0,r.kt)("p",null,"\u4f7f\u7528context\u7684property-placeholder.location\u5c5e\u6027"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:context="http://www.springframework.org/schema/context" //\u8fd9\u91cc\n       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd">\n\x3c!--    classpath\u8868\u793a\u5f15\u7528\u7c7b\u8def\u5f84\u4e0b\u6587\u4ef6--\x3e\n    <context:property-placeholder location="classpath:dbconfig.properties"/>\n    <bean class="com.mchange.v2.c3p0.ComboPooledDataSource" id="dataSource">\n        <property name="user" value="${username}"></property>\n        <property name="password" value="${password}"></property>\n        <property name="jdbcUrl" value="${jdbcUrl}"></property>\n        <property name="driverClass" value="${driverClass}"></property>\n    </bean>\n</beans>\n')),(0,r.kt)("h3",{id:"xml\u7684\u81ea\u52a8\u88c5\u914d\u548csqel"},"XML\u7684\u81ea\u52a8\u88c5\u914d\u548cSqEL"),(0,r.kt)("h4",{id:"\u81ea\u52a8\u88c5\u914d"},"\u81ea\u52a8\u88c5\u914d"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!--  autowire \u81ea\u52a8\u88c5\u914d\uff08\u4ec5\u9650\u4e8e\u5bf9\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u5c5e\u6027\u6709\u6548\uff09\n        default \u4e0d\u81ea\u52a8\u88c5\u914d\n        byName\n        byType\n        constructor\n--\x3e\n<bean class="cn.zhiyucs.bean.Car" id="car">\n    <property name="carName" value="\u5b9d\u9a6c"></property>\n    <property name="color" value="\u767d\u8272"></property>\n</bean>\n<bean class="cn.zhiyucs.bean.Person" id="person" autowire="byType"></bean>\n<bean class="cn.zhiyucs.bean.Book" id="book1">\n    <property name="author" value="\u5434\u627f\u6069"></property>\n    <property name="bookName" value="\u897f\u6e38\u8bb0"></property>\n</bean>\n<bean class="cn.zhiyucs.bean.Book" id="book2">\n    <property name="author" value="\u65bd\u8010\u5eb5"></property>\n    <property name="bookName" value="\u6c34\u6d52\u4f20"></property>\n</bean>\n')),(0,r.kt)("h4",{id:"spel\u8868\u8fbe\u5f0f"},"SpEL\u8868\u8fbe\u5f0f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!--    SpEl(Spring Expression Language)--\x3e\n<bean id="person04" class="cn.zhiyucs.bean.Person">\n    \x3c!--        \u5b57\u9762\u91cf: ${} #{}--\x3e\n    <property name="age" value="#{ 12 * 5 }"></property>\n    <property name="salary" value="#{ 12345.67 * 12 }"></property>\n    <property name="lastName" value="#{ book1.bookName }"></property>\n    <property name="car" value="#{ car }" ></property>\n    \x3c!--    \u9759\u6001\u8c03\u7528\u7684\u8bed\u6cd5\u89c4\u5219--\x3e\n    \x3c!--    UUID.randomUUID().toString()--\x3e\n    \x3c!--    #{T(\u5168\u7c7b\u540d).\u9759\u6001\u65b9\u6cd5\u540d()}--\x3e\n    <property name="email" value="#{T(java.util.UUID).randomUUID().toString().substring(0,5)}"></property>\n    \x3c!--       \u975e\u9759\u6001\u65b9\u6cd5\uff1a\u5bf9\u8c61.\u65b9\u6cd5\u540d --\x3e\n    <property name="gender" value="#{book2.getBookName()}"></property>\n</bean>\n')),(0,r.kt)("h3",{id:"\u901a\u8fc7\u6ce8\u89e3\u521b\u5efacotroller-service-repository"},"\u901a\u8fc7\u6ce8\u89e3\u521b\u5efa@Cotroller @Service @Repository"),(0,r.kt)("p",null,"Maven\u52a0\u5165AOP"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-aop</artifactId>\n    <version>${spring-version}</version>\n</dependency>\n")),(0,r.kt)("p",null,"IOC\u914d\u7f6e\u6587\u4ef6\u52a0\u5165\u81ea\u52a8\u626b\u63cf\u6ce8\u89e3"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!--    Spring\u81ea\u52a8\u626b\u63cf\n            component-scan: \u6307\u5b9a\u626b\u63cf\u7684\u57fa\u7840\u5305. \u628a\u57fa\u7840\u5305\u53ca\u5b83\u4e0b\u9762\u7684\u6240\u6709\u52a0\u4e86\u6ce8\u89e3\u81ea\u52a8\u626b\u63cf\u8fdbico\u5bb9\u5668\n--\x3e\n    <context:component-scan base-package="cn.zhiyucs"></context:component-scan>\n')),(0,r.kt)("p",null,"\u5982\u679c\u9700\u8981\u6392\u9664\u67d0\u4e9b\u7c7b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'    <context:component-scan base-package="cn.zhiyucs">\n\x3c!--        type\n                annotation \u6ce8\u89e3\n                assignable \u5177\u4f53\u7684\u7c7b\uff08\u5168\u7c7b\u540d\uff09\n                aspectj aspectj\u8868\u8fbe\u5f0f\n                custom \u81ea\u5b9a\u4e49\u4e2aTypeFilter\n                regex \u6b63\u5219\u8868\u8fbe\u5f0f\n--\x3e\n\x3c!--        <context:exclude-filter type="annotation" expression="org.springframework.stereotype.Repository"/>--\x3e\n        <context:include-filter type="annotation" expression="org.springframework.stereotype.Controller"/>\n    </context:component-scan>\n')),(0,r.kt)("p",null,"\u4f8b\u5982Controller\u7ec4\u4ef6\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"@Controller\npublic class BookServlet {\n}\n")),(0,r.kt)("p",null,"\u4e5f\u53ef\u4ee5\u4fee\u6539\u5728IOC\u5bb9\u5668\u7684\u540d\u5b57\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Controller("bookController")\n@Scope("prototype") //\u4fee\u6539\u4e3a\u591a\u4f8b\npublic class BookServlet {\n}\n')),(0,r.kt)("p",null,"\u4f7f\u7528\u5b83"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"@Autowired\nprivate BookDao bookDao;\n@Test\npublic void test() {\n    System.out.println(bookDao);\n}\n")),(0,r.kt)("h3",{id:"spring\u4f9d\u8d56\u6ce8\u5165di"},"Spring\u4f9d\u8d56\u6ce8\u5165\uff08DI\uff09"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"@Autowired\nprivate BookServlet bookServlet;\n@Test\npublic void test() {\n    System.out.println(bookServlet);\n}\n")),(0,r.kt)("h4",{id:"autowired\u539f\u7406"},"@Autowired\u539f\u7406"),(0,r.kt)("p",null,"bookServiceExt\u548cbookService\u5173\u7cfb\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class BookServiceExt extends BookService\n")),(0,r.kt)("p",null,"\u5148\u6309\u7167\u7c7b\u578b\u53bb\u5bb9\u5668\u627e\u5230\u5bf9\u5e94\u7684\u7ec4\u4ef6\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'BookService bookService = ioc.getBean("bookService", BookService.class);\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u627e\u5230\u4e00\u4e2a\uff1a\u627e\u5230\u8d4b\u503c\uff1b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6ca1\u627e\u5230\uff1a\u629b\u51fa\u5f02\u5e38\uff1b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u627e\u5230\u591a\u4e2a\uff1a\u6309\u7167\u53d8\u91cf\u540d\u4f5c\u4e3aID\u7ee7\u7eed\u5339\u914d\uff1abookService(\u628aClass\u7684\u4e00\u4e2a\u9996\u5b57\u6bcd\u5c0f\u5199\u653e\u5165ioc)\u3001bookServiceExt")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5339\u914d\u4e0a\uff1a\u7b2c\u4e00\u4e2a -- bookService\uff0c\u5982\u679c\u4f7f\u7528\u53d8\u91cfbookServiceExt\u5219\u4f7f\u7528 -- bookServiceExt")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6ca1\u5339\u914d\u4e0a\uff1a\u62a5\u9519")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u56e0\u4e3a\u6309\u7167\u53d8\u91cf\u540d\u7ee7\u7eed\u5339\u914d"),(0,r.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u4f7f\u7528",(0,r.kt)("strong",{parentName:"li"},'@Qualifier("bookServiceExt")'))))))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Controller\npublic class BookServlet {\n    @Qualifier("bookServiceExt")\n    @Autowired\n    private BookService bookServiceExt2;\n    public void doGet() {\n        bookServiceExt2.save();\n    }\n}\n')),(0,r.kt)("p",null,"\u5728\u5f62\u53c2\u4e0a\u6ce8\u5165\u548c\u4f7f\u7528Qualifier"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    @Autowired\n    public void saveDao(BookDao bookDao,@Qualifier("bookServiceExt") BookService bookService) {\n        System.out.println(bookDao);\n    }\n')),(0,r.kt)("p",null,"@Resource\u548c@Autowired\u7684\u533a\u522b\uff1a"),(0,r.kt)("p",null,"@Resource\u7684",(0,r.kt)("strong",{parentName:"p"},"\u6269\u5c55\u6027\u66f4\u5f3a"),"\uff0c\u662fJava\u7684\u6807\u51c6\uff0c\u5982\u679c\u5207\u6362\u5230\u53e6\u5916\u4e00\u4e2a\u6846\u67b6\uff0c\u8fd9\u4e2a\u6ce8\u89e3\u4f9d\u7136\u80fd\u7528"),(0,r.kt)("p",null,"@Autowired\u662fSpring\u72ec\u6709\u7684\u4f9d\u8d56\u6ce8\u5165\u6ce8\u89e3"),(0,r.kt)("h3",{id:"spring\u5355\u5143\u6d4b\u8bd5"},"Spring\u5355\u5143\u6d4b\u8bd5"),(0,r.kt)("p",null,"\u4e0d\u7528Spring\u5355\u5143\u6d4b\u8bd5\uff1a \u9700\u8981\u4f7f\u7528ioc.getBean\u6765\u83b7\u53d6\u7ec4\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class IOCTest {\n    ApplicationContext ioc = new ClassPathXmlApplicationContext("applicationContext.xml");\n    @Test\n    public void test() {\n        BookServlet bookServlet = ioc.getBean(BookServlet.class);\n        bookServlet.doGet();\n    }\n}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u597d\u5904\uff1a"),"\u4e0d\u7528ioc.getBean()\u83b7\u53d6\u7ec4\u4ef6\uff0cSpring\u76f4\u63a5\u4f7f\u7528@Autowired\u81ea\u52a8\u88c5\u914d"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'//@RunWith \u6307\u5b9a\u7528\u54ea\u79cd\u9a71\u52a8\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u9ed8\u8ba4\u662fjunit\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = "classpath:applicationContext.xml") //\u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\npublic class SpringTest {\n    ApplicationContext ioc = null;\n    @Autowired\n    private BookServlet bookServlet;\n    @Test\n    public void test() {\n        bookServlet.doGet();\n    }\n}\n')),(0,r.kt)("h3",{id:"spring\u6cdb\u578b\u4f9d\u8d56\u6ce8\u5165"},"Spring\u6cdb\u578b\u4f9d\u8d56\u6ce8\u5165"),(0,r.kt)("h4",{id:"dao\u5c42"},(0,r.kt)("strong",{parentName:"h4"},"Dao\u5c42")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public abstract class BaseDao<T> {\n    public abstract void save();\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Repository\npublic class BookDao extends BaseDao<Book> {\n    @Override\n    public void save() {\n        System.out.println("\u4e66\u7c4d\u4fdd\u5b58");\n    }\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Repository\npublic class UserDao extends BaseDao<User> {\n    @Override\n    public void save() {\n        System.out.println("\u7528\u6237\u4fdd\u5b58");\n    }\n}\n')),(0,r.kt)("h4",{id:"service\u5c42"},"Service\u5c42"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class BaseService<T> {\n    @Autowired\n    BaseDao<T> baseDao;\n    public void save() {\n        baseDao.save();\n    }\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"@Service\npublic class BookService extends BaseService<Book>{\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"@Service\npublic class UserService extends BaseService<User>{\n}\n")),(0,r.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = "classpath:applicationContext.xml")\npublic class SpringTest {\n    @Autowired\n    ApplicationContext ioc;\n    @Autowired\n    private BookService bookService;\n    @Autowired\n    private UserService userService;\n    @Test\n    public void test() {\n        bookService.save();\n        userService.save();\n    }\n}\n')),(0,r.kt)("p",null,"\u7ed3\u679c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u4e03\u6708 04, 2020 3:27:20 \u4e0b\u5348 org.springframework.test.context.support.AbstractTestContextBootstrapper getDefaultTestExecutionListenerClassNames\n\u4fe1\u606f: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]\n\u4e03\u6708 04, 2020 3:27:20 \u4e0b\u5348 org.springframework.test.context.support.AbstractTestContextBootstrapper getTestExecutionListeners\n\u4fe1\u606f: Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3a03464, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2d3fcdbd, org.springframework.test.context.support.DirtiesContextTestExecutionListener@617c74e5]\n\u4e66\u7c4d\u4fdd\u5b58\n\u7528\u6237\u4fdd\u5b58\n")))}u.isMDXComponent=!0},84352:(e,n,a)=>{a.d(n,{Z:()=>t});const t=a.p+"assets/images/b52f4ad2-0925-49f4-ae9b-13f62bdf31a0-5b1bf341fc1a972e95bdd92fa6bfb632.jpg"},61204:(e,n,a)=>{a.d(n,{Z:()=>t});const t="data:image/png;base64,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"}}]);