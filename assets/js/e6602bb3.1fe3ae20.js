"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7624],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>d});var a=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var k=a.createContext({}),o=function(e){var t=a.useContext(k),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},s=function(e){var t=o(e.components);return a.createElement(k.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,i=e.originalType,k=e.parentName,s=r(e,["components","mdxType","originalType","parentName"]),m=o(n),d=l,g=m["".concat(k,".").concat(d)]||m[d]||u[d]||i;return n?a.createElement(g,p(p({ref:t},s),{},{components:n})):a.createElement(g,p({ref:t},s))}));function d(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=n.length,p=new Array(i);p[0]=m;var r={};for(var k in t)hasOwnProperty.call(t,k)&&(r[k]=t[k]);r.originalType=e,r.mdxType="string"==typeof e?e:l,p[1]=r;for(var o=2;o<i;o++)p[o]=n[o];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},38474:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>k,contentTitle:()=>p,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>o});var a=n(87462),l=(n(67294),n(3905));const i={sidebar_position:2,title:"2022\u516b\u80a1\u6587\u7cbe\u9009\u96c6"},p=void 0,r={unversionedId:"Java/eightpart/personal",id:"Java/eightpart/personal",title:"2022\u516b\u80a1\u6587\u7cbe\u9009\u96c6",description:"[toc]",source:"@site/docs/Java/eightpart/personal.md",sourceDirName:"Java/eightpart",slug:"/Java/eightpart/personal",permalink:"/Computer-Science-Learn-Notes/docs/Java/eightpart/personal",draft:!1,editUrl:"https://github.com/zhiyu1998/Computer-Science-Learn-Notes/edit/master/docs/Java/eightpart/personal.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"2022\u516b\u80a1\u6587\u7cbe\u9009\u96c6"},sidebar:"sidebars",previous:{title:"\u516b\u80a1\u6587\u6574\u7406",permalink:"/Computer-Science-Learn-Notes/docs/Java/eightpart/main"},next:{title:"\u529b\u6263\u5237\u9898\u987a\u5e8f",permalink:"/Computer-Science-Learn-Notes/docs/Java/leetcode/"}},k={},o=[{value:"\ud83c\udf42 2022\u516b\u80a1\u6587\u7cbe\u9009\u96c6",id:"-2022\u516b\u80a1\u6587\u7cbe\u9009\u96c6",level:2},{value:"\u2615\ufe0f Java\u57fa\u7840",id:"\ufe0f-java\u57fa\u7840",level:2},{value:"Java 8\u7684\u63a5\u2f1d\u65b0\u589e\u4e86\u54ea\u4e9b\u7279\u6027\uff1f",id:"java-8\u7684\u63a5\u65b0\u589e\u4e86\u54ea\u4e9b\u7279\u6027",level:3},{value:"\u91cd\u8f7d\u548c\u91cd\u5199\u7684\u533a\u522b\uff1f",id:"\u91cd\u8f7d\u548c\u91cd\u5199\u7684\u533a\u522b",level:3},{value:"\u5185\u90e8\u7c7b\u4e86\u89e3\u5417\uff1f",id:"\u5185\u90e8\u7c7b\u4e86\u89e3\u5417",level:3},{value:"HashSet \u5982\u4f55\u68c0\u67e5\u91cd\u590d",id:"hashset-\u5982\u4f55\u68c0\u67e5\u91cd\u590d",level:3},{value:"\u6784\u9020\u2f45\u6cd5\u6709\u54ea\u4e9b\u7279\u6027\uff1f",id:"\u6784\u9020\u6cd5\u6709\u54ea\u4e9b\u7279\u6027",level:3},{value:"final,static,this,super \u5173\u952e\u5b57\u603b\u7ed3",id:"finalstaticthissuper-\u5173\u952e\u5b57\u603b\u7ed3",level:3},{value:"static",id:"static",level:4},{value:"final",id:"final",level:4},{value:"this",id:"this",level:4},{value:"super \u5173\u952e\u5b57",id:"super-\u5173\u952e\u5b57",level:4},{value:"this\u4e0esuper\u7684\u533a\u522b",id:"this\u4e0esuper\u7684\u533a\u522b",level:3},{value:"\u9759\u6001\u4ee3\u7406\u548c\u52a8\u6001\u4ee3\u7406",id:"\u9759\u6001\u4ee3\u7406\u548c\u52a8\u6001\u4ee3\u7406",level:3},{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:4},{value:"\u9759\u6001\u4ee3\u7406",id:"\u9759\u6001\u4ee3\u7406",level:4},{value:"Java \u5b57\u8282\u7801\u751f\u6210\u6846\u67b6",id:"java-\u5b57\u8282\u7801\u751f\u6210\u6846\u67b6",level:4},{value:"\u52a8\u6001\u4ee3\u7406",id:"\u52a8\u6001\u4ee3\u7406",level:4},{value:"JDK \u52a8\u6001\u4ee3\u7406\u673a\u5236",id:"jdk-\u52a8\u6001\u4ee3\u7406\u673a\u5236",level:4},{value:"CGLIB \u52a8\u6001\u4ee3\u7406\u673a\u5236",id:"cglib-\u52a8\u6001\u4ee3\u7406\u673a\u5236",level:4},{value:"JDK \u52a8\u6001\u4ee3\u7406\u548c CGLIB \u52a8\u6001\u4ee3\u7406\u5bf9\u6bd4",id:"jdk-\u52a8\u6001\u4ee3\u7406\u548c-cglib-\u52a8\u6001\u4ee3\u7406\u5bf9\u6bd4",level:4},{value:"\u9759\u6001\u4ee3\u7406\u548c\u52a8\u6001\u4ee3\u7406\u5bf9\u6bd4",id:"\u9759\u6001\u4ee3\u7406\u548c\u52a8\u6001\u4ee3\u7406\u5bf9\u6bd4",level:4},{value:"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f7f\u7528\u52a8\u6001\u4ee3\u7406",id:"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f7f\u7528\u52a8\u6001\u4ee3\u7406",level:4},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:4},{value:"static{}\u9759\u6001\u4ee3\u7801\u5757\u4e0e{}\u975e\u9759\u6001\u4ee3\u7801\u5757(\u6784\u9020\u4ee3\u7801\u5757)",id:"static\u9759\u6001\u4ee3\u7801\u5757\u4e0e\u975e\u9759\u6001\u4ee3\u7801\u5757\u6784\u9020\u4ee3\u7801\u5757",level:3},{value:"char\u578b\u53d8\u91cf\u4e2d\u80fd\u5426\u80fd\u4e0d\u80fd\u5b58\u50a8\u2f00\u4e2a\u4e2d\u2f42\u6c49\u5b57\uff0c\u4e3a\u4ec0\u4e48\uff1f",id:"char\u578b\u53d8\u91cf\u4e2d\u80fd\u5426\u80fd\u4e0d\u80fd\u5b58\u50a8\u4e2a\u4e2d\u6c49\u5b57\u4e3a\u4ec0\u4e48",level:3},{value:"\u662f\u5426\u53ef\u4ee5\u7ee7\u627fString\u7c7b\uff1f",id:"\u662f\u5426\u53ef\u4ee5\u7ee7\u627fstring\u7c7b",level:3},{value:"\u8c08\u8c08\u4f60\u5bf9\u591a\u6001\u7684\u7406\u89e3\uff1f",id:"\u8c08\u8c08\u4f60\u5bf9\u591a\u6001\u7684\u7406\u89e3",level:3},{value:"\u591a\u6001\u53d1\u751f\u7684\u4e09\u4e2a\u5fc5\u8981\u6761\u4ef6",id:"\u591a\u6001\u53d1\u751f\u7684\u4e09\u4e2a\u5fc5\u8981\u6761\u4ef6",level:4},{value:"\u591a\u6001\u662f\u5982\u4f55\u53d1\u751f\u7684",id:"\u591a\u6001\u662f\u5982\u4f55\u53d1\u751f\u7684",level:4},{value:"\u91cd\u8f7d\u548c\u91cd\u5199",id:"\u91cd\u8f7d\u548c\u91cd\u5199",level:4},{value:"main \u65b9\u6cd5\u662f\u5426\u53ef\u4ee5\u91cd\u8f7d",id:"main-\u65b9\u6cd5\u662f\u5426\u53ef\u4ee5\u91cd\u8f7d",level:4},{value:"\u6784\u9020\u5668\uff08constructor\uff09\u662f\u5426\u53ef\u88ab\u91cd\u5199\uff08override\uff09\uff1f",id:"\u6784\u9020\u5668constructor\u662f\u5426\u53ef\u88ab\u91cd\u5199override",level:3},{value:"Java \u4e2d\u64cd\u4f5c\u5b57\u7b26\u4e32\u90fd\u6709\u54ea\u4e9b\u7c7b\uff1f\u5b83\u4eec\u4e4b\u95f4\u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"java-\u4e2d\u64cd\u4f5c\u5b57\u7b26\u4e32\u90fd\u6709\u54ea\u4e9b\u7c7b\u5b83\u4eec\u4e4b\u95f4\u6709\u4ec0\u4e48\u533a\u522b",level:3},{value:"String str = &quot;i&quot; \u548cString str = new String(&quot;1&quot;)\u2f00\u6837\u5417\uff1f",id:"string-str--i-\u548cstring-str--new-string1\u6837\u5417",level:3},{value:"\u4ec0\u4e48\u662f\u5e8f\u5217\u5316\u53cd\u5e8f\u5217\u5316?",id:"\u4ec0\u4e48\u662f\u5e8f\u5217\u5316\u53cd\u5e8f\u5217\u5316",level:3},{value:"final finally finalize\u7684\u533a\u522b",id:"final-finally-finalize\u7684\u533a\u522b",level:3},{value:"\u2b50Java\u6709\u54ea\u4e9b\u6570\u636e\u7c7b\u578b",id:"java\u6709\u54ea\u4e9b\u6570\u636e\u7c7b\u578b",level:3},{value:"\u57fa\u672c\u7c7b\u578b\u548c\u5305\u88c5\u7c7b\u578b\u7684\u533a\u522b\uff1f",id:"\u57fa\u672c\u7c7b\u578b\u548c\u5305\u88c5\u7c7b\u578b\u7684\u533a\u522b",level:4},{value:"\u5305\u88c5\u7c7b\u578b\u7684\u7f13\u5b58\u673a\u5236\u4e86\u89e3\u4e48\uff1f",id:"\u5305\u88c5\u7c7b\u578b\u7684\u7f13\u5b58\u673a\u5236\u4e86\u89e3\u4e48",level:4},{value:"\u2b50\ufe0f\u5360\u7528\u7684\u7a7a\u95f4\u5927\u5c0f",id:"\ufe0f\u5360\u7528\u7684\u7a7a\u95f4\u5927\u5c0f",level:4},{value:"Java \u4e2d boolean \u5360\u591a\u5c11\u5b57\u8282\uff1f",id:"java-\u4e2d-boolean-\u5360\u591a\u5c11\u5b57\u8282",level:4},{value:"float f=3.4;\u662f\u5426\u6b63\u786e\uff1f",id:"float-f34\u662f\u5426\u6b63\u786e",level:3},{value:"\u6210\u5458\u53d8\u91cf\u4e0e\u5c40\u90e8\u53d8\u91cf\u7684\u533a\u522b\u6709\u54ea\u4e9b\uff1f",id:"\u6210\u5458\u53d8\u91cf\u4e0e\u5c40\u90e8\u53d8\u91cf\u7684\u533a\u522b\u6709\u54ea\u4e9b",level:3},{value:"\u2b50\u63a5\u53e3\u548c\u62bd\u8c61\u7c7b\u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f",id:"\u63a5\u53e3\u548c\u62bd\u8c61\u7c7b\u7684\u533a\u522b\u662f\u4ec0\u4e48",level:3},{value:"\ud83c\udf20Java \u6cdb\u578b\u4e86\u89e3\u4e48\uff1f\u6cdb\u578b\u7684\u4f5c\u7528\uff1f\u4ec0\u4e48\u662f\u7c7b\u578b\u64e6\u9664\uff1f",id:"java-\u6cdb\u578b\u4e86\u89e3\u4e48\u6cdb\u578b\u7684\u4f5c\u7528\u4ec0\u4e48\u662f\u7c7b\u578b\u64e6\u9664",level:3},{value:"\u64e6\u9664\u7c7b\u5b9a\u4e49\u4e2d\u7684\u7c7b\u578b\u53c2\u6570",id:"\u64e6\u9664\u7c7b\u5b9a\u4e49\u4e2d\u7684\u7c7b\u578b\u53c2\u6570",level:4},{value:"\u64e6\u9664\u65b9\u6cd5\u5b9a\u4e49\u4e2d\u7684\u7c7b\u578b\u53c2\u6570",id:"\u64e6\u9664\u65b9\u6cd5\u5b9a\u4e49\u4e2d\u7684\u7c7b\u578b\u53c2\u6570",level:4},{value:"\u6865\u63a5\u65b9\u6cd5\u548c\u6cdb\u578b\u7684\u591a\u6001",id:"\u6865\u63a5\u65b9\u6cd5\u548c\u6cdb\u578b\u7684\u591a\u6001",level:4},{value:"\u4e3a\u4e86\u66f4\u6df1\u5c42\u6b21\u7684\u7406\u89e3\u7c7b\u578b\u64e6\u9664\uff0c\u9009\u53d6\u4e86Stackoverflow\u7684\u9ad8\u8d5e\u56de\u7b54",id:"\u4e3a\u4e86\u66f4\u6df1\u5c42\u6b21\u7684\u7406\u89e3\u7c7b\u578b\u64e6\u9664\u9009\u53d6\u4e86stackoverflow\u7684\u9ad8\u8d5e\u56de\u7b54",level:4},{value:"\u2b50== \u4e0e equals",id:"-\u4e0e-equals",level:3},{value:"hashCode \u4e0e equals",id:"hashcode-\u4e0e-equals",level:3},{value:"\u5982\u4f55\u51b3\u5b9a\u4f7f\u7528 HashMap \u8fd8\u662f TreeMap\uff1f",id:"\u5982\u4f55\u51b3\u5b9a\u4f7f\u7528-hashmap-\u8fd8\u662f-treemap",level:3},{value:"\u2b50HashMap \u7684\u5e95\u5c42\u5b9e\u73b0",id:"hashmap-\u7684\u5e95\u5c42\u5b9e\u73b0",level:3},{value:"JDK1.8 \u4e4b\u524d",id:"jdk18-\u4e4b\u524d",level:4},{value:"JDK1.8 \u4e4b\u540e",id:"jdk18-\u4e4b\u540e",level:4},{value:"\u2b50HashMap\u6e90\u7801\u5206\u6790",id:"hashmap\u6e90\u7801\u5206\u6790",level:3},{value:"get()",id:"get",level:4},{value:"put()",id:"put",level:4},{value:"remove()",id:"remove",level:4},{value:"HashMap \u7684\u957f\u5ea6\u4e3a\u4ec0\u4e48\u662f 2 \u7684\u5e42\u6b21\u65b9",id:"hashmap-\u7684\u957f\u5ea6\u4e3a\u4ec0\u4e48\u662f-2-\u7684\u5e42\u6b21\u65b9",level:3},{value:"HashMap \u591a\u7ebf\u7a0b\u64cd\u4f5c\u5bfc\u81f4\u6b7b\u5faa\u73af\u95ee\u9898",id:"hashmap-\u591a\u7ebf\u7a0b\u64cd\u4f5c\u5bfc\u81f4\u6b7b\u5faa\u73af\u95ee\u9898",level:3},{value:"\u4e3a\u4ec0\u4e48Java\u53ea\u6709\u503c\u4f20\u9012",id:"\u4e3a\u4ec0\u4e48java\u53ea\u6709\u503c\u4f20\u9012",level:3},{value:"\u5f02\u5e38\u5904\u7406\u603b\u7ed3",id:"\u5f02\u5e38\u5904\u7406\u603b\u7ed3",level:3},{value:"\u6709\u54ea\u4e9b\u5e38\u89c1\u7684 IO \u6a21\u578b?",id:"\u6709\u54ea\u4e9b\u5e38\u89c1\u7684-io-\u6a21\u578b",level:3},{value:"\u963b\u585e\u5f0f I/O",id:"\u963b\u585e\u5f0f-io",level:4},{value:"\u975e\u963b\u585e\u5f0f I/O",id:"\u975e\u963b\u585e\u5f0f-io",level:4},{value:"I/O \u590d\u7528",id:"io-\u590d\u7528",level:4},{value:"\u4fe1\u53f7\u9a71\u52a8 I/O",id:"\u4fe1\u53f7\u9a71\u52a8-io",level:4},{value:"\u5f02\u6b65 I/O",id:"\u5f02\u6b65-io",level:4},{value:"\u2b50BIO,NIO,AIO \u6709\u4ec0\u4e48\u533a\u522b",id:"bionioaio-\u6709\u4ec0\u4e48\u533a\u522b",level:3},{value:"\ud83d\udcabI/O \u591a\u8def\u590d\u7528\uff1aselect/poll/epoll",id:"io-\u591a\u8def\u590d\u7528selectpollepoll",level:3},{value:"\u6700\u57fa\u672c\u7684 Socket \u6a21\u578b",id:"\u6700\u57fa\u672c\u7684-socket-\u6a21\u578b",level:4},{value:"\u5982\u4f55\u670d\u52a1\u66f4\u591a\u7684\u7528\u6237\uff1f",id:"\u5982\u4f55\u670d\u52a1\u66f4\u591a\u7684\u7528\u6237",level:4},{value:"\u591a\u8fdb\u7a0b\u6a21\u578b",id:"\u591a\u8fdb\u7a0b\u6a21\u578b",level:4},{value:"\u591a\u7ebf\u7a0b\u6a21\u578b",id:"\u591a\u7ebf\u7a0b\u6a21\u578b",level:4},{value:"I/O \u591a\u8def\u590d\u7528",id:"io-\u591a\u8def\u590d\u7528",level:4},{value:"select/poll",id:"selectpoll",level:4},{value:"epoll",id:"epoll",level:4},{value:"\u8fb9\u7f18\u89e6\u53d1\u548c\u6c34\u5e73\u89e6\u53d1",id:"\u8fb9\u7f18\u89e6\u53d1\u548c\u6c34\u5e73\u89e6\u53d1",level:5},{value:"\u603b\u7ed3",id:"\u603b\u7ed3-1",level:4},{value:"\u2b50Java\u96c6\u5408\u7c7b\u6846\u67b6\u7684\u57fa\u672c\u63a5\u53e3\u6709\u54ea\u4e9b\uff1f",id:"java\u96c6\u5408\u7c7b\u6846\u67b6\u7684\u57fa\u672c\u63a5\u53e3\u6709\u54ea\u4e9b",level:3},{value:"\u2b50 Arraylist \u4e0e LinkedList \u533a\u522b",id:"-arraylist-\u4e0e-linkedlist-\u533a\u522b",level:3},{value:"HashMap\u548cHashTable\u6709\u4ec0\u4e48\u533a\u522b",id:"hashmap\u548chashtable\u6709\u4ec0\u4e48\u533a\u522b",level:3},{value:"ConcurrentHashMap \u548c Hashtable \u7684\u533a\u522b",id:"concurrenthashmap-\u548c-hashtable-\u7684\u533a\u522b",level:3},{value:"\u2b50ConcurrentHashMap\u7ebf\u7a0b\u5b89\u5168\u7684\u5177\u4f53\u5b9e\u73b0\u65b9\u5f0f/\u5e95\u5c42\u5177\u4f53\u5b9e\u73b0",id:"concurrenthashmap\u7ebf\u7a0b\u5b89\u5168\u7684\u5177\u4f53\u5b9e\u73b0\u65b9\u5f0f\u5e95\u5c42\u5177\u4f53\u5b9e\u73b0",level:3},{value:"JDK1.7",id:"jdk17",level:4},{value:"JDK1.8",id:"jdk18",level:4},{value:"\u8bf4\u4e00\u8bf4Java\u53cd\u5c04\uff1f",id:"\u8bf4\u4e00\u8bf4java\u53cd\u5c04",level:3},{value:"\ud83d\udd59 Java\u5e76\u53d1",id:"-java\u5e76\u53d1",level:2},{value:"\u8bf7\u7b80\u8981\u63cf\u8ff0\u7ebf\u7a0b\u4e0e\u8fdb\u7a0b\u7684\u5173\u7cfb,\u533a\u522b\u53ca\u4f18\u7f3a\u70b9\uff1f",id:"\u8bf7\u7b80\u8981\u63cf\u8ff0\u7ebf\u7a0b\u4e0e\u8fdb\u7a0b\u7684\u5173\u7cfb\u533a\u522b\u53ca\u4f18\u7f3a\u70b9",level:3},{value:"\u56fe\u89e3\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u5173\u7cfb",id:"\u56fe\u89e3\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u5173\u7cfb",level:4},{value:"\u7a0b\u5e8f\u8ba1\u6570\u5668\u4e3a\u4ec0\u4e48\u662f\u79c1\u6709\u7684?",id:"\u7a0b\u5e8f\u8ba1\u6570\u5668\u4e3a\u4ec0\u4e48\u662f\u79c1\u6709\u7684",level:4},{value:"\u865a\u62df\u673a\u6808\u548c\u672c\u5730\u65b9\u6cd5\u6808\u4e3a\u4ec0\u4e48\u662f\u79c1\u6709\u7684?",id:"\u865a\u62df\u673a\u6808\u548c\u672c\u5730\u65b9\u6cd5\u6808\u4e3a\u4ec0\u4e48\u662f\u79c1\u6709\u7684",level:4},{value:"\u4e00\u53e5\u8bdd\u7b80\u5355\u4e86\u89e3\u5806\u548c\u65b9\u6cd5\u533a",id:"\u4e00\u53e5\u8bdd\u7b80\u5355\u4e86\u89e3\u5806\u548c\u65b9\u6cd5\u533a",level:4},{value:"Java\u7ebf\u7a0b\u7684\u521b\u5efa\u65b9\u5f0f",id:"java\u7ebf\u7a0b\u7684\u521b\u5efa\u65b9\u5f0f",level:3},{value:"JMM \u662f\u4ec0\u4e48\uff1f",id:"jmm-\u662f\u4ec0\u4e48",level:3},{value:"\u91cd\u6392\u5e8f",id:"\u91cd\u6392\u5e8f",level:4},{value:"As-if-Serial\u89c4\u5219",id:"as-if-serial\u89c4\u5219",level:4},{value:"Happens-Before\u89c4\u5219",id:"happens-before\u89c4\u5219",level:4},{value:"\u804a\u804avolatile",id:"\u804a\u804avolatile",level:3},{value:"CAS \u662f\u4ec0\u4e48\uff1f",id:"cas-\u662f\u4ec0\u4e48",level:3},{value:"ABA\u95ee\u9898",id:"aba\u95ee\u9898",level:4},{value:"\u81ea\u65cb\u5f00\u9500\u95ee\u9898",id:"\u81ea\u65cb\u5f00\u9500\u95ee\u9898",level:4},{value:"\u53ea\u80fd\u4fdd\u8bc1\u5355\u4e2a\u53d8\u91cf\u7684\u539f\u5b50\u6027",id:"\u53ea\u80fd\u4fdd\u8bc1\u5355\u4e2a\u53d8\u91cf\u7684\u539f\u5b50\u6027",level:4},{value:"\u4ec0\u4e48\u662f\u4e0a\u4e0b\u6587\u5207\u6362\uff1f",id:"\u4ec0\u4e48\u662f\u4e0a\u4e0b\u6587\u5207\u6362",level:3},{value:"\u8bf4\u8bf4 sleep() \u65b9\u6cd5\u548c wait() \u65b9\u6cd5\u533a\u522b\u548c\u5171\u540c\u70b9?",id:"\u8bf4\u8bf4-sleep-\u65b9\u6cd5\u548c-wait-\u65b9\u6cd5\u533a\u522b\u548c\u5171\u540c\u70b9",level:3},{value:"\u4e3a\u4ec0\u4e48\u6211\u4eec\u8c03\u7528 start() \u65b9\u6cd5\u65f6\u4f1a\u6267\u884c run() \u65b9\u6cd5\uff0c\u4e3a\u4ec0\u4e48\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u8c03\u7528 run() \u65b9\u6cd5\uff1f",id:"\u4e3a\u4ec0\u4e48\u6211\u4eec\u8c03\u7528-start-\u65b9\u6cd5\u65f6\u4f1a\u6267\u884c-run-\u65b9\u6cd5\u4e3a\u4ec0\u4e48\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u8c03\u7528-run-\u65b9\u6cd5",level:3},{value:"synchronized\u6c47\u603b",id:"synchronized\u6c47\u603b",level:3},{value:"\u8bf4\u4e00\u8bf4\u81ea\u5df1\u5bf9\u4e8e synchronized \u5173\u952e\u5b57\u7684\u4e86\u89e3",id:"\u8bf4\u4e00\u8bf4\u81ea\u5df1\u5bf9\u4e8e-synchronized-\u5173\u952e\u5b57\u7684\u4e86\u89e3",level:4},{value:"\u8bb2\u4e00\u4e0b synchronized \u5173\u952e\u5b57\u7684\u5e95\u5c42\u539f\u7406",id:"\u8bb2\u4e00\u4e0b-synchronized-\u5173\u952e\u5b57\u7684\u5e95\u5c42\u539f\u7406",level:4},{value:"synchronized \u540c\u6b65\u8bed\u53e5\u5757\u7684\u60c5\u51b5",id:"synchronized-\u540c\u6b65\u8bed\u53e5\u5757\u7684\u60c5\u51b5",level:5},{value:"synchronized \u4fee\u9970\u65b9\u6cd5\u7684\u7684\u60c5\u51b5",id:"synchronized-\u4fee\u9970\u65b9\u6cd5\u7684\u7684\u60c5\u51b5",level:5},{value:"\u603b\u7ed3",id:"\u603b\u7ed3-2",level:5},{value:"\u8bf4\u8bf4 synchronized \u5173\u952e\u5b57\u548c volatile \u5173\u952e\u5b57\u7684\u533a\u522b",id:"\u8bf4\u8bf4-synchronized-\u5173\u952e\u5b57\u548c-volatile-\u5173\u952e\u5b57\u7684\u533a\u522b",level:4},{value:"synchronized \u9501\u5347\u7ea7\u7684\u8fc7\u7a0b",id:"synchronized-\u9501\u5347\u7ea7\u7684\u8fc7\u7a0b",level:4},{value:"\u504f\u5411\u9501\u7b80\u4ecb",id:"\u504f\u5411\u9501\u7b80\u4ecb",level:5},{value:"\u8f7b\u91cf\u7ea7\u9501\u7b80\u4ecb",id:"\u8f7b\u91cf\u7ea7\u9501\u7b80\u4ecb",level:5},{value:"\u91cd\u91cf\u7ea7\u9501\u7b80\u4ecb",id:"\u91cd\u91cf\u7ea7\u9501\u7b80\u4ecb",level:5},{value:"\u8c08\u8c08 synchronized \u548c ReentrantLock \u7684\u533a\u522b",id:"\u8c08\u8c08-synchronized-\u548c-reentrantlock-\u7684\u533a\u522b",level:4},{value:"\u4e24\u8005\u90fd\u662f\u53ef\u91cd\u5165\u9501",id:"\u4e24\u8005\u90fd\u662f\u53ef\u91cd\u5165\u9501",level:5},{value:"synchronized \u4f9d\u8d56\u4e8e JVM \u800c ReentrantLock \u4f9d\u8d56\u4e8e API",id:"synchronized-\u4f9d\u8d56\u4e8e-jvm-\u800c-reentrantlock-\u4f9d\u8d56\u4e8e-api",level:5},{value:"ReentrantLock \u6bd4 synchronized \u589e\u52a0\u4e86\u4e00\u4e9b\u9ad8\u7ea7\u529f\u80fd",id:"reentrantlock-\u6bd4-synchronized-\u589e\u52a0\u4e86\u4e00\u4e9b\u9ad8\u7ea7\u529f\u80fd",level:5},{value:"\u2b50ThreadLocal \u539f\u7406",id:"threadlocal-\u539f\u7406",level:3},{value:"\u5b9e\u73b0 Runnable \u63a5\u53e3\u548c Callable \u63a5\u53e3\u7684\u533a\u522b",id:"\u5b9e\u73b0-runnable-\u63a5\u53e3\u548c-callable-\u63a5\u53e3\u7684\u533a\u522b",level:3},{value:"\u6267\u884c execute()\u65b9\u6cd5\u548c submit()\u65b9\u6cd5\u7684\u533a\u522b\u662f\u4ec0\u4e48\u5462\uff1f",id:"\u6267\u884c-execute\u65b9\u6cd5\u548c-submit\u65b9\u6cd5\u7684\u533a\u522b\u662f\u4ec0\u4e48\u5462",level:3},{value:"\u2b50\u5982\u4f55\u521b\u5efa\u7ebf\u7a0b\u6c60",id:"\u5982\u4f55\u521b\u5efa\u7ebf\u7a0b\u6c60",level:3},{value:"JUC \u5305\u4e2d\u7684\u539f\u5b50\u7c7b\u662f\u54ea 4 \u7c7b?",id:"juc-\u5305\u4e2d\u7684\u539f\u5b50\u7c7b\u662f\u54ea-4-\u7c7b",level:3},{value:"\u80fd\u4e0d\u80fd\u7ed9\u6211\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b AtomicInteger \u7c7b",id:"\u80fd\u4e0d\u80fd\u7ed9\u6211\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b-atomicinteger-\u7c7b",level:3},{value:"\ud83d\udd25 \u8bf7\u4f60\u8bf4\u4e00\u4e0b\u81ea\u5df1\u5bf9\u4e8e AQS \u539f\u7406\u7684\u7406\u89e3",id:"-\u8bf7\u4f60\u8bf4\u4e00\u4e0b\u81ea\u5df1\u5bf9\u4e8e-aqs-\u539f\u7406\u7684\u7406\u89e3",level:3},{value:"\u524d\u63d0\uff1aLockSupport",id:"\u524d\u63d0locksupport",level:4},{value:"\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u6a21\u677f\u65b9\u6cd5",id:"\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u6a21\u677f\u65b9\u6cd5",level:4},{value:"AQS\u57fa\u672c\u539f\u7406",id:"aqs\u57fa\u672c\u539f\u7406",level:4},{value:"AQS\u6570\u636e\u7ed3\u6784",id:"aqs\u6570\u636e\u7ed3\u6784",level:4},{value:"CLH",id:"clh",level:5},{value:"Node",id:"node",level:5},{value:"AQS\u7684\u8d44\u6e90\u7684\u5171\u4eab\u65b9\u5f0f",id:"aqs\u7684\u8d44\u6e90\u7684\u5171\u4eab\u65b9\u5f0f",level:4},{value:"AQS\u52a0\u9501\u8fc7\u7a0b",id:"aqs\u52a0\u9501\u8fc7\u7a0b",level:4},{value:"!tryAcquire(arg)",id:"tryacquirearg",level:5},{value:"addWaiter",id:"addwaiter",level:5},{value:"acquireQueued",id:"acquirequeued",level:5},{value:"AQS\u62a2\u9501\u539f\u7406",id:"aqs\u62a2\u9501\u539f\u7406",level:4},{value:"\u6a21\u677f\u65b9\u6cd5\uff1aacquire",id:"\u6a21\u677f\u65b9\u6cd5acquire",level:5},{value:"\u94a9\u5b50\u65b9\u6cd5\uff1atryAcquire",id:"\u94a9\u5b50\u65b9\u6cd5tryacquire",level:5},{value:"\u76f4\u63a5\u5165\u961f\uff1aaddWaiter",id:"\u76f4\u63a5\u5165\u961faddwaiter",level:5},{value:"\u81ea\u65cb\u5165\u961f\uff1aenq",id:"\u81ea\u65cb\u5165\u961fenq",level:5},{value:"\u81ea\u65cb\u62a2\u5360\uff1aacquireQueued()",id:"\u81ea\u65cb\u62a2\u5360acquirequeued",level:5},{value:"\u6302\u8d77\u9884\u5224\uff1ashouldParkAfterFailedAcquire()",id:"\u6302\u8d77\u9884\u5224shouldparkafterfailedacquire",level:5},{value:"\u7ebf\u7a0b\u6302\u8d77\uff1aparkAndCheckInterrupt()",id:"\u7ebf\u7a0b\u6302\u8d77parkandcheckinterrupt",level:5},{value:"AQS\u91ca\u653e\u9501\u539f\u7406",id:"aqs\u91ca\u653e\u9501\u539f\u7406",level:4},{value:"AQS\u6a21\u677f\u65b9\u6cd5\uff1arelease()",id:"aqs\u6a21\u677f\u65b9\u6cd5release",level:5},{value:"\u94a9\u5b50\u5b9e\u73b0\uff1atryRelease()",id:"\u94a9\u5b50\u5b9e\u73b0tryrelease",level:5},{value:"\u5524\u9192\u540e\u7ee7\uff1aunparkSuccessor()",id:"\u5524\u9192\u540e\u7ee7unparksuccessor",level:5},{value:"\u804a\u804a ReentrantLock",id:"\u804a\u804a-reentrantlock",level:3},{value:"\u907f\u514d\u6b7b\u9501",id:"\u907f\u514d\u6b7b\u9501",level:4},{value:"\u975e\u516c\u5e73\u9501",id:"\u975e\u516c\u5e73\u9501",level:4},{value:"\u516c\u5e73\u9501",id:"\u516c\u5e73\u9501",level:4},{value:"CyclicBarrier \u548c CountDownLatch \u7684\u533a\u522b",id:"cyclicbarrier-\u548c-countdownlatch-\u7684\u533a\u522b",level:3},{value:"\u4e50\u89c2\u9501\u548c\u60b2\u89c2\u9501\u7684\u533a\u522b",id:"\u4e50\u89c2\u9501\u548c\u60b2\u89c2\u9501\u7684\u533a\u522b",level:3},{value:"\u4e50\u89c2\u9501",id:"\u4e50\u89c2\u9501",level:4},{value:"\u60b2\u89c2\u9501",id:"\u60b2\u89c2\u9501",level:4},{value:"\u267b\ufe0f JVM",id:"\ufe0f-jvm",level:2},{value:"\u56fe\u89e3JVM\u7ed3\u6784",id:"\u56fe\u89e3jvm\u7ed3\u6784",level:3},{value:"\u6574\u4f53\u67b6\u6784\u56fe\uff1a\u5efa\u8bae\u9ed8\u5199",id:"\u6574\u4f53\u67b6\u6784\u56fe\u5efa\u8bae\u9ed8\u5199",level:4},{value:"\u7a0b\u5e8f\u8ba1\u6570\u5668",id:"\u7a0b\u5e8f\u8ba1\u6570\u5668",level:4},{value:"\u865a\u62df\u673a\u6808",id:"\u865a\u62df\u673a\u6808",level:4},{value:"\u672c\u5730\u65b9\u6cd5\u6808",id:"\u672c\u5730\u65b9\u6cd5\u6808",level:4},{value:"\u5806",id:"\u5806",level:4},{value:"\u65b9\u6cd5\u533a",id:"\u65b9\u6cd5\u533a",level:4},{value:"\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60",id:"\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60",level:5},{value:"\u2b50\ufe0f\u7c7b\u7684\u751f\u547d\u5468\u671f\u3001\u7c7b\u52a0\u8f7d\u7684\u8fc7\u7a0b",id:"\ufe0f\u7c7b\u7684\u751f\u547d\u5468\u671f\u7c7b\u52a0\u8f7d\u7684\u8fc7\u7a0b",level:3},{value:"\u7c7b\u7684\u751f\u547d\u5468\u671f",id:"\u7c7b\u7684\u751f\u547d\u5468\u671f",level:4},{value:"\u7c7b\u7684\u52a0\u8f7d\u8fc7\u7a0b",id:"\u7c7b\u7684\u52a0\u8f7d\u8fc7\u7a0b",level:4},{value:"JDK \u4e2d\u6709\u54ea\u4e9b\u9ed8\u8ba4\u7684\u7c7b\u52a0\u8f7d\u5668",id:"jdk-\u4e2d\u6709\u54ea\u4e9b\u9ed8\u8ba4\u7684\u7c7b\u52a0\u8f7d\u5668",level:3},{value:"\u5982\u4f55\u5bf9\u6808\u8fdb\u884c\u53c2\u6570\u8c03\u4f18",id:"\u5982\u4f55\u5bf9\u6808\u8fdb\u884c\u53c2\u6570\u8c03\u4f18",level:3},{value:"\u8bf4\u4e00\u4e0b\u65b9\u6cd5\u533a\u548c\u6c38\u4e45\u4ee3\u7684\u5173\u7cfb",id:"\u8bf4\u4e00\u4e0b\u65b9\u6cd5\u533a\u548c\u6c38\u4e45\u4ee3\u7684\u5173\u7cfb",level:3},{value:"\u5982\u4f55\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u6b7b\u4ea1",id:"\u5982\u4f55\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u6b7b\u4ea1",level:3},{value:"\u5f15\u7528\u8ba1\u6570\u6cd5",id:"\u5f15\u7528\u8ba1\u6570\u6cd5",level:4},{value:"\u53ef\u8fbe\u6027\u5206\u6790",id:"\u53ef\u8fbe\u6027\u5206\u6790",level:4},{value:"\u2b50\ufe0f\u865a\u5f15\u7528\u4e0e\u8f6f\u5f15\u7528\u548c\u5f31\u5f15\u7528\u7684\u533a\u522b",id:"\ufe0f\u865a\u5f15\u7528\u4e0e\u8f6f\u5f15\u7528\u548c\u5f31\u5f15\u7528\u7684\u533a\u522b",level:3},{value:"\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u5e38\u91cf\u662f\u5e9f\u5f03\u5e38\u91cf",id:"\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u5e38\u91cf\u662f\u5e9f\u5f03\u5e38\u91cf",level:3},{value:"\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\uff1f\u5982\u679c\u6211\u4eec\u4e0d\u60f3\u7528\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\u600e\u4e48\u529e\uff1f",id:"\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\u5982\u679c\u6211\u4eec\u4e0d\u60f3\u7528\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\u600e\u4e48\u529e",level:3},{value:"\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u7c7b\u662f\u65e0\u7528\u7684\u7c7b",id:"\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u7c7b\u662f\u65e0\u7528\u7684\u7c7b",level:3},{value:"\u2b50\ufe0f\u5783\u573e\u6536\u96c6\u6709\u54ea\u4e9b\u7b97\u6cd5\uff0c\u5404\u81ea\u7684\u7279\u70b9",id:"\ufe0f\u5783\u573e\u6536\u96c6\u6709\u54ea\u4e9b\u7b97\u6cd5\u5404\u81ea\u7684\u7279\u70b9",level:3},{value:"\u6807\u8bb0-\u6e05\u9664\u7b97\u6cd5\uff0cMark-Sweep",id:"\u6807\u8bb0-\u6e05\u9664\u7b97\u6cd5mark-sweep",level:4},{value:"\u6807\u8bb0-\u590d\u5236\u7b97\u6cd5\uff0cMark-Copy",id:"\u6807\u8bb0-\u590d\u5236\u7b97\u6cd5mark-copy",level:4},{value:"\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5\uff0cMark-Compact",id:"\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5mark-compact",level:4},{value:"\ud83d\ude45\u3010Ignore\u3011\u6807\u8bb0 - \u538b\u7f29\uff08\u6574\u7406\uff09\u7b97\u6cd5\uff0cMark - Compact",id:"ignore\u6807\u8bb0---\u538b\u7f29\u6574\u7406\u7b97\u6cd5mark---compact",level:4},{value:"HotSpot \u4e3a\u4ec0\u4e48\u8981\u5206\u4e3a\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3",id:"hotspot-\u4e3a\u4ec0\u4e48\u8981\u5206\u4e3a\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3",level:3},{value:"\u2b50\ufe0f\u5e38\u89c1\u7684\u5783\u573e\u56de\u6536\u5668\u6709\u54ea\u4e9b",id:"\ufe0f\u5e38\u89c1\u7684\u5783\u573e\u56de\u6536\u5668\u6709\u54ea\u4e9b",level:3},{value:"Serial \u6536\u96c6\u5668",id:"serial-\u6536\u96c6\u5668",level:4},{value:"ParNew \u6536\u96c6\u5668",id:"parnew-\u6536\u96c6\u5668",level:4},{value:"Parallel Scavenge \u6536\u96c6\u5668",id:"parallel-scavenge-\u6536\u96c6\u5668",level:4},{value:"Serial Old \u6536\u96c6\u5668",id:"serial-old-\u6536\u96c6\u5668",level:4},{value:"Paralled Old \u6536\u96c6\u5668",id:"paralled-old-\u6536\u96c6\u5668",level:4},{value:"CMS \u6536\u96c6\u5668",id:"cms-\u6536\u96c6\u5668",level:4},{value:"G1 \u6536\u96c6\u5668",id:"g1-\u6536\u96c6\u5668",level:4},{value:"ZGC \u6536\u96c6\u5668",id:"zgc-\u6536\u96c6\u5668",level:4},{value:"Minor Gc \u548c Full GC \u6709\u4ec0\u4e48\u4e0d\u540c\u5462",id:"minor-gc-\u548c-full-gc-\u6709\u4ec0\u4e48\u4e0d\u540c\u5462",level:3},{value:"\u2b50\ufe0f\u5bf9\u8c61\u7684\u521b\u5efa\u8fc7\u7a0b",id:"\ufe0f\u5bf9\u8c61\u7684\u521b\u5efa\u8fc7\u7a0b",level:3},{value:"\u6982\u8ff0",id:"\u6982\u8ff0-1",level:4},{value:"\u4eceJVM\u5c42\u9762\u5206\u6790",id:"\u4ecejvm\u5c42\u9762\u5206\u6790",level:4},{value:"1\ufe0f\u20e3\u7c7b\u52a0\u8f7d",id:"1\ufe0f\u20e3\u7c7b\u52a0\u8f7d",level:5},{value:"2\ufe0f\u20e3\u5206\u914d\u5185\u5b58\uff08\u5bf9\u8c61\u5728\u5806\u4e0a\u5206\u914d\u7684\u4e24\u79cd\u65b9\u5f0f\uff09",id:"2\ufe0f\u20e3\u5206\u914d\u5185\u5b58\u5bf9\u8c61\u5728\u5806\u4e0a\u5206\u914d\u7684\u4e24\u79cd\u65b9\u5f0f",level:5},{value:"3\ufe0f\u20e3\u521d\u59cb\u5316\u96f6\u503c",id:"3\ufe0f\u20e3\u521d\u59cb\u5316\u96f6\u503c",level:5},{value:"4\ufe0f\u20e3\u8bbe\u7f6e\u5bf9\u8c61\u5934",id:"4\ufe0f\u20e3\u8bbe\u7f6e\u5bf9\u8c61\u5934",level:5},{value:"5\ufe0f\u20e3\u6267\u884cinit",id:"5\ufe0f\u20e3\u6267\u884cinit",level:5},{value:"\ud83e\udd0f\u603b\u89c8",id:"\u603b\u89c8",level:5},{value:"\u5bf9\u8c61\u8bbf\u95ee\u65b9\u5f0f",id:"\u5bf9\u8c61\u8bbf\u95ee\u65b9\u5f0f",level:3},{value:"\u53e5\u67c4\u6c60",id:"\u53e5\u67c4\u6c60",level:4},{value:"\u76f4\u63a5\u5f15\u7528",id:"\u76f4\u63a5\u5f15\u7528",level:4},{value:"\u5b89\u5168\u70b9\u548c\u5b89\u5168\u533a\u5404\u4ee3\u8868\u4ec0\u4e48\uff1f",id:"\u5b89\u5168\u70b9\u548c\u5b89\u5168\u533a\u5404\u4ee3\u8868\u4ec0\u4e48",level:3},{value:"OopMap",id:"oopmap",level:4},{value:"\u5b89\u5168\u70b9",id:"\u5b89\u5168\u70b9",level:4},{value:"\u5b89\u5168\u533a\u57df Safe Region",id:"\u5b89\u5168\u533a\u57df-safe-region",level:4},{value:"\u4e09\u8272\u6807\u8bb0\u6cd5",id:"\u4e09\u8272\u6807\u8bb0\u6cd5",level:3},{value:"\u524d\u8a00",id:"\u524d\u8a00",level:4},{value:"\u8f85\u52a9\u5206\u6790\u7684\u5de5\u5177\uff1a\u4e09\u8272\u6807\u8bb0\u6cd5",id:"\u8f85\u52a9\u5206\u6790\u7684\u5de5\u5177\u4e09\u8272\u6807\u8bb0\u6cd5",level:4},{value:"\u95ee\u9898 1\uff1a\u6d6e\u52a8\u5783\u573e",id:"\u95ee\u9898-1\u6d6e\u52a8\u5783\u573e",level:4},{value:"\u95ee\u9898 2\uff1a\u5bf9\u8c61\u6d88\u5931",id:"\u95ee\u9898-2\u5bf9\u8c61\u6d88\u5931",level:4},{value:"\u904d\u5386\u5bf9\u8c61\u56fe\u4e0d\u9700\u8981 STW \u7684\u89e3\u51b3\u65b9\u6848",id:"\u904d\u5386\u5bf9\u8c61\u56fe\u4e0d\u9700\u8981-stw-\u7684\u89e3\u51b3\u65b9\u6848",level:4},{value:"\u4ec0\u4e48\u662f\u5b57\u8282\u7801\uff1f\u7c7b\u6587\u4ef6\u7ed3\u6784\u7684\u7ec4\u6210\u4e86\u89e3\u5417\uff1f",id:"\u4ec0\u4e48\u662f\u5b57\u8282\u7801\u7c7b\u6587\u4ef6\u7ed3\u6784\u7684\u7ec4\u6210\u4e86\u89e3\u5417",level:3},{value:"Class \u6587\u4ef6\u7ed3\u6784\u603b\u7ed3",id:"class-\u6587\u4ef6\u7ed3\u6784\u603b\u7ed3",level:4},{value:"\u9b54\u6570\uff08Magic Number\uff09",id:"\u9b54\u6570magic-number",level:4},{value:"Class \u6587\u4ef6\u7248\u672c\u53f7\uff08Minor&amp;Major Version\uff09",id:"class-\u6587\u4ef6\u7248\u672c\u53f7minormajor-version",level:4},{value:"\u5e38\u91cf\u6c60\uff08Constant Pool\uff09",id:"\u5e38\u91cf\u6c60constant-pool",level:4},{value:"\u8bbf\u95ee\u6807\u5fd7(Access Flags)",id:"\u8bbf\u95ee\u6807\u5fd7access-flags",level:4},{value:"\u5f53\u524d\u7c7b\uff08This Class\uff09\u3001\u7236\u7c7b\uff08Super Class\uff09\u3001\u63a5\u53e3\uff08Interfaces\uff09\u7d22\u5f15\u96c6\u5408",id:"\u5f53\u524d\u7c7bthis-class\u7236\u7c7bsuper-class\u63a5\u53e3interfaces\u7d22\u5f15\u96c6\u5408",level:4},{value:"\u5b57\u6bb5\u8868\u96c6\u5408\uff08Fields\uff09",id:"\u5b57\u6bb5\u8868\u96c6\u5408fields",level:4},{value:"\u65b9\u6cd5\u8868\u96c6\u5408\uff08Methods\uff09",id:"\u65b9\u6cd5\u8868\u96c6\u5408methods",level:4},{value:"\u5c5e\u6027\u8868\u96c6\u5408\uff08Attributes\uff09",id:"\u5c5e\u6027\u8868\u96c6\u5408attributes",level:4},{value:"\ud83d\udd78\ufe0fNetty",id:"\ufe0fnetty",level:2},{value:"Reactor\u6a21\u578b",id:"reactor\u6a21\u578b",level:3},{value:"\u524d\u8a00",id:"\u524d\u8a00-1",level:4},{value:"Reactor",id:"reactor",level:4},{value:"\u5355 Reactor \u5355\u8fdb\u7a0b / \u7ebf\u7a0b",id:"\u5355-reactor-\u5355\u8fdb\u7a0b--\u7ebf\u7a0b",level:5},{value:"\u5355 Reactor \u591a\u7ebf\u7a0b / \u591a\u8fdb\u7a0b",id:"\u5355-reactor-\u591a\u7ebf\u7a0b--\u591a\u8fdb\u7a0b",level:5},{value:"\u591a Reactor \u591a\u8fdb\u7a0b / \u7ebf\u7a0b",id:"\u591a-reactor-\u591a\u8fdb\u7a0b--\u7ebf\u7a0b",level:5},{value:"Proactor",id:"proactor",level:4},{value:"\ud83c\udf43 Spring\u7cfb\u5217",id:"-spring\u7cfb\u5217",level:2},{value:"\u2b50\ufe0f spring\u4e2d\u90fd\u6709\u54ea\u4e9b\u8bbe\u8ba1\u6a21\u5f0f\uff1f\uff082022\u70ed\u95e8\u95ee\u9898\uff09",id:"\ufe0f-spring\u4e2d\u90fd\u6709\u54ea\u4e9b\u8bbe\u8ba1\u6a21\u5f0f2022\u70ed\u95e8\u95ee\u9898",level:3},{value:"\u5de5\u5382\u8bbe\u8ba1\u6a21\u5f0f",id:"\u5de5\u5382\u8bbe\u8ba1\u6a21\u5f0f",level:4},{value:"\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f",id:"\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f",level:4},{value:"\u4ee3\u7406\u8bbe\u8ba1\u6a21\u5f0f",id:"\u4ee3\u7406\u8bbe\u8ba1\u6a21\u5f0f",level:4},{value:"\u4ee3\u7406\u6a21\u5f0f\u5728 AOP \u4e2d\u7684\u5e94\u7528",id:"\u4ee3\u7406\u6a21\u5f0f\u5728-aop-\u4e2d\u7684\u5e94\u7528",level:5},{value:"\u6a21\u677f\u65b9\u6cd5",id:"\u6a21\u677f\u65b9\u6cd5",level:4},{value:"\u89c2\u5bdf\u8005\u6a21\u5f0f",id:"\u89c2\u5bdf\u8005\u6a21\u5f0f",level:4},{value:"Spring \u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\u4e2d\u7684\u4e09\u79cd\u89d2\u8272",id:"spring-\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\u4e2d\u7684\u4e09\u79cd\u89d2\u8272",level:5},{value:"\u4e8b\u4ef6\u89d2\u8272",id:"\u4e8b\u4ef6\u89d2\u8272",level:6},{value:"\u4e8b\u4ef6\u76d1\u542c\u8005\u89d2\u8272",id:"\u4e8b\u4ef6\u76d1\u542c\u8005\u89d2\u8272",level:6},{value:"\u4e8b\u4ef6\u53d1\u5e03\u8005\u89d2\u8272",id:"\u4e8b\u4ef6\u53d1\u5e03\u8005\u89d2\u8272",level:6},{value:"\u9002\u914d\u5668\u6a21\u5f0f",id:"\u9002\u914d\u5668\u6a21\u5f0f",level:4},{value:"spring AOP\u4e2d\u7684\u9002\u914d\u5668\u6a21\u5f0f",id:"spring-aop\u4e2d\u7684\u9002\u914d\u5668\u6a21\u5f0f",level:5},{value:"spring MVC\u4e2d\u7684\u9002\u914d\u5668\u6a21\u5f0f",id:"spring-mvc\u4e2d\u7684\u9002\u914d\u5668\u6a21\u5f0f",level:5},{value:"\u88c5\u9970\u8005\u6a21\u5f0f",id:"\u88c5\u9970\u8005\u6a21\u5f0f",level:4},{value:"SpringBoot\u542f\u52a8\u6d41\u7a0b",id:"springboot\u542f\u52a8\u6d41\u7a0b",level:3},{value:"Bean\u751f\u547d\u5468\u671f",id:"bean\u751f\u547d\u5468\u671f",level:3},{value:"@Autowired \u548c @Resource \u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f",id:"autowired-\u548c-resource-\u7684\u533a\u522b\u662f\u4ec0\u4e48",level:3},{value:"\u8bf7\u63cf\u8ff0Spring MVC\u7684\u5de5\u4f5c\u6d41\u7a0b\uff1f\u63cf\u8ff0\u4e00\u4e0b DispatcherServlet \u7684\u5de5\u4f5c\u6d41\u7a0b\uff1f",id:"\u8bf7\u63cf\u8ff0spring-mvc\u7684\u5de5\u4f5c\u6d41\u7a0b\u63cf\u8ff0\u4e00\u4e0b-dispatcherservlet-\u7684\u5de5\u4f5c\u6d41\u7a0b",level:3},{value:"Spring\u4e2d\u6784\u9020\u65b9\u6cd5\u6ce8\u5165\u548c\u8bbe\u503c\u6ce8\u5165\u6709\u4ec0\u4e48\u533a\u522b",id:"spring\u4e2d\u6784\u9020\u65b9\u6cd5\u6ce8\u5165\u548c\u8bbe\u503c\u6ce8\u5165\u6709\u4ec0\u4e48\u533a\u522b",level:3},{value:"Spring\u600e\u4e48\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u7684\u95ee\u9898\uff1f",id:"spring\u600e\u4e48\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u7684\u95ee\u9898",level:3},{value:"\ud83d\udc2c MYSQL",id:"-mysql",level:2},{value:"MySql \u57fa\u7840\u67b6\u6784 | \u4e00\u6761 SQL \u67e5\u8be2\u8bed\u53e5\u662f\u5982\u4f55\u6267\u884c\u7684",id:"mysql-\u57fa\u7840\u67b6\u6784--\u4e00\u6761-sql-\u67e5\u8be2\u8bed\u53e5\u662f\u5982\u4f55\u6267\u884c\u7684",level:3},{value:"\u2b50MyISAM \u548c InnoDB \u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f",id:"myisam-\u548c-innodb-\u7684\u533a\u522b\u662f\u4ec0\u4e48",level:3},{value:"\u6570\u636e\u5e93\u7684\u7d22\u5f15\u5206\u7c7b",id:"\u6570\u636e\u5e93\u7684\u7d22\u5f15\u5206\u7c7b",level:3},{value:"\u6309\u6570\u636e\u7ed3\u6784\u5206\u7c7b",id:"\u6309\u6570\u636e\u7ed3\u6784\u5206\u7c7b",level:4},{value:"\u901a\u8fc7\u4e3b\u952e\u67e5\u8be2\u5546\u54c1\u6570\u636e\u7684\u8fc7\u7a0b",id:"\u901a\u8fc7\u4e3b\u952e\u67e5\u8be2\u5546\u54c1\u6570\u636e\u7684\u8fc7\u7a0b",level:5},{value:"\u901a\u8fc7\u4e8c\u7ea7\u7d22\u5f15\u67e5\u8be2\u5546\u54c1\u6570\u636e\u7684\u8fc7\u7a0b",id:"\u901a\u8fc7\u4e8c\u7ea7\u7d22\u5f15\u67e5\u8be2\u5546\u54c1\u6570\u636e\u7684\u8fc7\u7a0b",level:5},{value:"\u6309\u7269\u7406\u5b58\u50a8\u5206\u7c7b",id:"\u6309\u7269\u7406\u5b58\u50a8\u5206\u7c7b",level:4},{value:"\u6309\u5b57\u6bb5\u7279\u6027\u5206\u7c7b",id:"\u6309\u5b57\u6bb5\u7279\u6027\u5206\u7c7b",level:4},{value:"\u6309\u5b57\u6bb5\u4e2a\u6570\u5206\u7c7b",id:"\u6309\u5b57\u6bb5\u4e2a\u6570\u5206\u7c7b",level:4},{value:"\u8054\u5408\u7d22\u5f15",id:"\u8054\u5408\u7d22\u5f15",level:5},{value:"\u2b50\ufe0f\u805a\u7c07\u7d22\u5f15\u548c\u975e\u805a\u7c07\u7d22\u5f15",id:"\ufe0f\u805a\u7c07\u7d22\u5f15\u548c\u975e\u805a\u7c07\u7d22\u5f15",level:3},{value:"\u6570\u636e\u5e93\u4e8b\u52a1\uff1f",id:"\u6570\u636e\u5e93\u4e8b\u52a1",level:3},{value:"\u5e76\u53d1\u4e8b\u52a1\u5e26\u6765\u4e86\u54ea\u4e9b\u95ee\u9898",id:"\u5e76\u53d1\u4e8b\u52a1\u5e26\u6765\u4e86\u54ea\u4e9b\u95ee\u9898",level:3},{value:"\u2b50\u6709\u54ea\u4e9b\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff0cMySQL \u7684\u9ed8\u8ba4\u9694\u79bb\u7ea7\u522b\u662f\u4ec0\u4e48?",id:"\u6709\u54ea\u4e9b\u4e8b\u52a1\u9694\u79bb\u7ea7\u522bmysql-\u7684\u9ed8\u8ba4\u9694\u79bb\u7ea7\u522b\u662f\u4ec0\u4e48",level:3},{value:"\u8868\u7ea7\u9501\u548c\u884c\u7ea7\u9501\u4e86\u89e3\u5417\uff1f\u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"\u8868\u7ea7\u9501\u548c\u884c\u7ea7\u9501\u4e86\u89e3\u5417\u6709\u4ec0\u4e48\u533a\u522b",level:3},{value:"\u5171\u4eab\u9501\u548c\u6392\u4ed6\u9501",id:"\u5171\u4eab\u9501\u548c\u6392\u4ed6\u9501",level:3},{value:"\u6570\u636e\u5e93\u7d22\u5f15\u5931\u6548\u6709\u54ea\u4e9b",id:"\u6570\u636e\u5e93\u7d22\u5f15\u5931\u6548\u6709\u54ea\u4e9b",level:3},{value:"\u6570\u636e\u5e93sql\u4f18\u5316\u6709\u54ea\u4e9b\u65b9\u6cd5",id:"\u6570\u636e\u5e93sql\u4f18\u5316\u6709\u54ea\u4e9b\u65b9\u6cd5",level:3},{value:"InnoDB \u6709\u54ea\u51e0\u7c7b\u884c\u9501",id:"innodb-\u6709\u54ea\u51e0\u7c7b\u884c\u9501",level:3},{value:"\u4e3a\u4ec0\u4e48MySQL \u6ca1\u6709\u4f7f\u7528Hash\u8868\u4f5c\u4e3a\u7d22\u5f15\u7684\u6570\u636e\u7ed3\u6784\u5462\uff1f",id:"\u4e3a\u4ec0\u4e48mysql-\u6ca1\u6709\u4f7f\u7528hash\u8868\u4f5c\u4e3a\u7d22\u5f15\u7684\u6570\u636e\u7ed3\u6784\u5462",level:3},{value:"\u2b50\ufe0f\u4e3a\u4ec0\u4e48MySQL\u5e95\u5c42\u8981\u7528B+\u6811\uff1f\u548cB\u6811\u6709\u4ec0\u4e48\u533a\u522b\uff1f\uff082022\u98de\u4e66\uff09",id:"\ufe0f\u4e3a\u4ec0\u4e48mysql\u5e95\u5c42\u8981\u7528b\u6811\u548cb\u6811\u6709\u4ec0\u4e48\u533a\u522b2022\u98de\u4e66",level:3},{value:"\u8be6\u89e3B+\u6811",id:"\u8be6\u89e3b\u6811",level:3},{value:"\u4ec0\u4e48\u662f B+ \u6811\uff1f",id:"\u4ec0\u4e48\u662f-b-\u6811",level:4},{value:"B+ \u6811\u662f\u5982\u4f55\u8fdb\u884c\u67e5\u8be2\u7684\uff1f",id:"b-\u6811\u662f\u5982\u4f55\u8fdb\u884c\u67e5\u8be2\u7684",level:4},{value:"\u5355\u70b9\u67e5\u8be2",id:"\u5355\u70b9\u67e5\u8be2",level:4},{value:"\u63d2\u5165\u548c\u5220\u9664\u6548\u7387",id:"\u63d2\u5165\u548c\u5220\u9664\u6548\u7387",level:4},{value:"\u8303\u56f4\u67e5\u8be2",id:"\u8303\u56f4\u67e5\u8be2",level:4},{value:"MySQL \u4e2d\u7684 B+ \u6811",id:"mysql-\u4e2d\u7684-b-\u6811",level:4},{value:"MySQL\u4e09\u5927\u65e5\u5fd7\uff08binlog\u3001redo log\u3001undo log\uff09",id:"mysql\u4e09\u5927\u65e5\u5fd7binlogredo-logundo-log",level:3},{value:"redo log",id:"redo-log",level:4},{value:"PageCache",id:"pagecache",level:5},{value:"\u4ec0\u4e48\u662f\u9875\u7f13\u5b58",id:"\u4ec0\u4e48\u662f\u9875\u7f13\u5b58",level:6},{value:"\u9875\u7f13\u5b58\u7684\u5b9e\u73b0",id:"\u9875\u7f13\u5b58\u7684\u5b9e\u73b0",level:6},{value:"\u603b\u7ed3",id:"\u603b\u7ed3-3",level:6},{value:"\u5237\u76d8\u65f6\u673a",id:"\u5237\u76d8\u65f6\u673a",level:5},{value:"\u65e5\u5fd7\u6587\u4ef6\u7ec4",id:"\u65e5\u5fd7\u6587\u4ef6\u7ec4",level:5},{value:"redo log \u5c0f\u7ed3",id:"redo-log-\u5c0f\u7ed3",level:5},{value:"binlog",id:"binlog",level:4},{value:"\u8bb0\u5f55\u683c\u5f0f",id:"\u8bb0\u5f55\u683c\u5f0f",level:5},{value:"\u5199\u5165\u673a\u5236",id:"\u5199\u5165\u673a\u5236",level:5},{value:"\u4e24\u9636\u6bb5\u63d0\u4ea4",id:"\u4e24\u9636\u6bb5\u63d0\u4ea4",level:4},{value:"undo log",id:"undo-log",level:4},{value:"\u56fe\u89e3MVCC",id:"\u56fe\u89e3mvcc",level:3},{value:"InnoDB\u5b58\u50a8\u5f15\u64ce\u5bf9MVCC\u7684\u5b9e\u73b0",id:"innodb\u5b58\u50a8\u5f15\u64ce\u5bf9mvcc\u7684\u5b9e\u73b0",level:3},{value:"\u9690\u85cf\u5b57\u6bb5",id:"\u9690\u85cf\u5b57\u6bb5",level:4},{value:"ReadView",id:"readview",level:4},{value:"undo-log",id:"undo-log-1",level:4},{value:"\u6570\u636e\u53ef\u89c1\u6027\u7b97\u6cd5",id:"\u6570\u636e\u53ef\u89c1\u6027\u7b97\u6cd5",level:4},{value:"\u8bfb\u5199\u5206\u79bb\u4e86\u89e3\u5417\uff1f",id:"\u8bfb\u5199\u5206\u79bb\u4e86\u89e3\u5417",level:3},{value:"\u4e3b\u4ece\u590d\u5236\u539f\u7406\u4e86\u89e3\u4e48\uff1f",id:"\u4e3b\u4ece\u590d\u5236\u539f\u7406\u4e86\u89e3\u4e48",level:3},{value:"\u6570\u636e\u5e93\u5982\u4f55\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501",id:"\u6570\u636e\u5e93\u5982\u4f55\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501",level:3},{value:"\u57fa\u4e8e\u6570\u636e\u5e93\u8868\uff08\u9501\u8868\uff0c\u5f88\u5c11\u4f7f\u7528\uff09",id:"\u57fa\u4e8e\u6570\u636e\u5e93\u8868\u9501\u8868\u5f88\u5c11\u4f7f\u7528",level:4},{value:"\u57fa\u4e8e\u60b2\u89c2\u9501",id:"\u57fa\u4e8e\u60b2\u89c2\u9501",level:4},{value:"\u57fa\u4e8e\u4e50\u89c2\u9501",id:"\u57fa\u4e8e\u4e50\u89c2\u9501",level:4},{value:"\u2668\ufe0f redis",id:"\ufe0f-redis",level:2},{value:"\u8bf4\u4e00\u4e0bredis",id:"\u8bf4\u4e00\u4e0bredis",level:3},{value:"Redis\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u5feb\uff1f",id:"redis\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u5feb",level:3},{value:"\u4e3a\u4ec0\u4e48\u8981\u7528 Redis / \u4e3a\u4ec0\u4e48\u8981\u7528\u7f13\u5b58\uff1f/ \u4e3a\u4ec0\u4e48\u7528 Redis \u4f5c\u4e3a MySQL \u7684\u7f13\u5b58\uff1f",id:"\u4e3a\u4ec0\u4e48\u8981\u7528-redis--\u4e3a\u4ec0\u4e48\u8981\u7528\u7f13\u5b58-\u4e3a\u4ec0\u4e48\u7528-redis-\u4f5c\u4e3a-mysql-\u7684\u7f13\u5b58",level:3},{value:"Redis \u5982\u4f55\u5b9e\u73b0\u670d\u52a1\u9ad8\u53ef\u7528\uff1f",id:"redis-\u5982\u4f55\u5b9e\u73b0\u670d\u52a1\u9ad8\u53ef\u7528",level:3},{value:"Redis \u548c Memcached \u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"redis-\u548c-memcached-\u6709\u4ec0\u4e48\u533a\u522b",level:3},{value:"Redis \u9664\u4e86\u505a\u7f13\u5b58\uff0c\u8fd8\u80fd\u505a\u4ec0\u4e48\uff1f",id:"redis-\u9664\u4e86\u505a\u7f13\u5b58\u8fd8\u80fd\u505a\u4ec0\u4e48",level:3},{value:"\u2b50\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3001\u5e94\u7528\u573a\u666f",id:"\u57fa\u672c\u6570\u636e\u7c7b\u578b\u5e94\u7528\u573a\u666f",level:3},{value:"1\ufe0f\u20e3string",id:"1\ufe0f\u20e3string",level:4},{value:"2\ufe0f\u20e3list",id:"2\ufe0f\u20e3list",level:4},{value:"3\ufe0f\u20e3hash",id:"3\ufe0f\u20e3hash",level:4},{value:"4\ufe0f\u20e3set",id:"4\ufe0f\u20e3set",level:4},{value:"5\ufe0f\u20e3Zset",id:"5\ufe0f\u20e3zset",level:4},{value:"\u7279\u6b8a\u7c7b\u578b\uff1a bitmap",id:"\u7279\u6b8a\u7c7b\u578b-bitmap",level:4},{value:"Redis \u5355\u7ebf\u7a0b\u6a21\u578b\u4e86\u89e3\u5417\uff1f",id:"redis-\u5355\u7ebf\u7a0b\u6a21\u578b\u4e86\u89e3\u5417",level:3},{value:"Redis6.0 \u4e4b\u540e\u4e3a\u4f55\u5f15\u5165\u4e86\u591a\u7ebf\u7a0b\uff1f",id:"redis60-\u4e4b\u540e\u4e3a\u4f55\u5f15\u5165\u4e86\u591a\u7ebf\u7a0b",level:3},{value:"Redis \u662f\u5982\u4f55\u5224\u65ad\u6570\u636e\u662f\u5426\u8fc7\u671f\u7684\u5462\uff1f",id:"redis-\u662f\u5982\u4f55\u5224\u65ad\u6570\u636e\u662f\u5426\u8fc7\u671f\u7684\u5462",level:3},{value:"\u8fc7\u671f\u7684\u6570\u636e\u7684\u5220\u9664\u7b56\u7565\u4e86\u89e3\u4e48\uff1f",id:"\u8fc7\u671f\u7684\u6570\u636e\u7684\u5220\u9664\u7b56\u7565\u4e86\u89e3\u4e48",level:3},{value:"Redis \u5185\u5b58\u6ee1\u4e86\uff0c\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f",id:"redis-\u5185\u5b58\u6ee1\u4e86\u4f1a\u53d1\u751f\u4ec0\u4e48",level:4},{value:"Redis \u5185\u5b58\u6dd8\u6c70\u673a\u5236\u4e86\u89e3\u4e48\uff1f",id:"redis-\u5185\u5b58\u6dd8\u6c70\u673a\u5236\u4e86\u89e3\u4e48",level:3},{value:"\u8df3\u8dc3\u8868",id:"\u8df3\u8dc3\u8868",level:3},{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:4},{value:"\u4e3a\u4ec0\u4e48\u4f7f\u7528\u8df3\u8dc3\u8868",id:"\u4e3a\u4ec0\u4e48\u4f7f\u7528\u8df3\u8dc3\u8868",level:4},{value:"\u672c\u8d28\u662f\u89e3\u51b3\u67e5\u627e\u95ee\u9898",id:"\u672c\u8d28\u662f\u89e3\u51b3\u67e5\u627e\u95ee\u9898",level:4},{value:"\u66f4\u8fdb\u4e00\u6b65\u7684\u8df3\u8dc3\u8868",id:"\u66f4\u8fdb\u4e00\u6b65\u7684\u8df3\u8dc3\u8868",level:4},{value:"\u8df3\u8dc3\u8868\u7684\u5b9e\u73b0",id:"\u8df3\u8dc3\u8868\u7684\u5b9e\u73b0",level:4},{value:"\u968f\u673a\u5c42\u6570",id:"\u968f\u673a\u5c42\u6570",level:5},{value:"\u521b\u5efa\u8df3\u8dc3\u8868",id:"\u521b\u5efa\u8df3\u8dc3\u8868",level:5},{value:"\u63d2\u5165\u8282\u70b9\u5b9e\u73b0",id:"\u63d2\u5165\u8282\u70b9\u5b9e\u73b0",level:5},{value:"\u7b2c\u4e00\u90e8\u5206\uff1a\u58f0\u660e\u9700\u8981\u5b58\u50a8\u7684\u53d8\u91cf",id:"\u7b2c\u4e00\u90e8\u5206\u58f0\u660e\u9700\u8981\u5b58\u50a8\u7684\u53d8\u91cf",level:6},{value:"\u7b2c\u4e8c\u90e8\u5206\uff1a\u641c\u7d22\u5f53\u524d\u8282\u70b9\u63d2\u5165\u4f4d\u7f6e",id:"\u7b2c\u4e8c\u90e8\u5206\u641c\u7d22\u5f53\u524d\u8282\u70b9\u63d2\u5165\u4f4d\u7f6e",level:6},{value:"\u7b2c\u4e09\u90e8\u5206\uff1a\u751f\u6210\u63d2\u5165\u8282\u70b9",id:"\u7b2c\u4e09\u90e8\u5206\u751f\u6210\u63d2\u5165\u8282\u70b9",level:6},{value:"\u7b2c\u56db\u90e8\u5206\uff1a\u91cd\u6392\u524d\u5411\u6307\u9488",id:"\u7b2c\u56db\u90e8\u5206\u91cd\u6392\u524d\u5411\u6307\u9488",level:6},{value:"\u7b2c\u4e94\u90e8\u5206\uff1a\u91cd\u6392\u540e\u5411\u6307\u9488\u5e76\u8fd4\u56de",id:"\u7b2c\u4e94\u90e8\u5206\u91cd\u6392\u540e\u5411\u6307\u9488\u5e76\u8fd4\u56de",level:6},{value:"\u8282\u70b9\u5220\u9664\u5b9e\u73b0",id:"\u8282\u70b9\u5220\u9664\u5b9e\u73b0",level:5},{value:"\u8282\u70b9\u66f4\u65b0\u5b9e\u73b0",id:"\u8282\u70b9\u66f4\u65b0\u5b9e\u73b0",level:5},{value:"\u5143\u7d20\u6392\u540d\u7684\u5b9e\u73b0",id:"\u5143\u7d20\u6392\u540d\u7684\u5b9e\u73b0",level:5},{value:"\u2b50\u600e\u4e48\u4fdd\u8bc1 Redis \u6302\u6389\u4e4b\u540e\u518d\u91cd\u542f\u6570\u636e\u53ef\u4ee5\u8fdb\u884c\u6062\u590d\uff1f\uff08\u6301\u4e45\u5316\u7b56\u7565\uff09",id:"\u600e\u4e48\u4fdd\u8bc1-redis-\u6302\u6389\u4e4b\u540e\u518d\u91cd\u542f\u6570\u636e\u53ef\u4ee5\u8fdb\u884c\u6062\u590d\u6301\u4e45\u5316\u7b56\u7565",level:3},{value:"\u4ec0\u4e48\u662f RDB \u6301\u4e45\u5316\uff1f",id:"\u4ec0\u4e48\u662f-rdb-\u6301\u4e45\u5316",level:4},{value:"\u4ec0\u4e48\u662f AOF \u6301\u4e45\u5316\uff1f",id:"\u4ec0\u4e48\u662f-aof-\u6301\u4e45\u5316",level:4},{value:"AOF \u91cd\u5199\u4e86\u89e3\u5417\uff1f",id:"aof-\u91cd\u5199\u4e86\u89e3\u5417",level:4},{value:"\u4e3a\u4ec0\u4e48\u4f1a\u6709\u6df7\u5408\u6301\u4e45\u5316\uff1f",id:"\u4e3a\u4ec0\u4e48\u4f1a\u6709\u6df7\u5408\u6301\u4e45\u5316",level:4},{value:"\u7f13\u5b58\u7a7f\u900f &amp; \u7f13\u5b58\u96ea\u5d29 &amp; \u7f13\u5b58\u51fb\u7a7f",id:"\u7f13\u5b58\u7a7f\u900f--\u7f13\u5b58\u96ea\u5d29--\u7f13\u5b58\u51fb\u7a7f",level:3},{value:"\u7a7f\u900f",id:"\u7a7f\u900f",level:4},{value:"\u3010\u62d3\u5c551\u3011\u5e03\u9686\u8fc7\u6ee4\u5668",id:"\u62d3\u5c551\u5e03\u9686\u8fc7\u6ee4\u5668",level:4},{value:"\u3010\u62d3\u5c552\u3011\u5e03\u8c37\u9e1f\u8fc7\u6ee4\u5668\uff08Cuckoo Filter\uff09",id:"\u62d3\u5c552\u5e03\u8c37\u9e1f\u8fc7\u6ee4\u5668cuckoo-filter",level:4},{value:"\u5e03\u8c37\u9e1f\u54c8\u5e0c",id:"\u5e03\u8c37\u9e1f\u54c8\u5e0c",level:5},{value:"\u5e03\u8c37\u9e1f\u8fc7\u6ee4\u5668",id:"\u5e03\u8c37\u9e1f\u8fc7\u6ee4\u5668",level:5},{value:"\u96ea\u5d29",id:"\u96ea\u5d29",level:4},{value:"\u51fb\u7a7f",id:"\u51fb\u7a7f",level:4},{value:"\u4e3b\u4ece\u590d\u5236\u65b9\u6848\u662f\u600e\u4e48\u505a\u7684\uff1f",id:"\u4e3b\u4ece\u590d\u5236\u65b9\u6848\u662f\u600e\u4e48\u505a\u7684",level:3},{value:"\u7b2c\u4e00\u6b21\u540c\u6b65",id:"\u7b2c\u4e00\u6b21\u540c\u6b65",level:4},{value:"\u547d\u4ee4\u4f20\u64ad",id:"\u547d\u4ee4\u4f20\u64ad",level:4},{value:"\u5206\u644a\u4e3b\u670d\u52a1\u5668\u7684\u538b\u529b",id:"\u5206\u644a\u4e3b\u670d\u52a1\u5668\u7684\u538b\u529b",level:4},{value:"\u589e\u91cf\u590d\u5236",id:"\u589e\u91cf\u590d\u5236",level:4},{value:"\u603b\u7ed3",id:"\u603b\u7ed3-4",level:4},{value:"Sentinel\uff08\u54e8\u5175\uff09  \u6709\u4ec0\u4e48\u4f5c\u7528\uff1f",id:"sentinel\u54e8\u5175--\u6709\u4ec0\u4e48\u4f5c\u7528",level:3},{value:"\u4e3a\u4ec0\u4e48\u8981\u54e8\u5175\uff1f",id:"\u4e3a\u4ec0\u4e48\u8981\u54e8\u5175",level:3},{value:"\u54e8\u5175\u673a\u5236\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f",id:"\u54e8\u5175\u673a\u5236\u662f\u5982\u4f55\u5de5\u4f5c\u7684",level:4},{value:"\u5982\u4f55\u5224\u65ad\u4e3b\u8282\u70b9\u771f\u7684\u6545\u969c\u4e86\uff1f",id:"\u5982\u4f55\u5224\u65ad\u4e3b\u8282\u70b9\u771f\u7684\u6545\u969c\u4e86",level:4},{value:"\u7531\u54ea\u4e2a\u54e8\u5175\u8fdb\u884c\u4e3b\u4ece\u6545\u969c\u8f6c\u79fb\uff1f",id:"\u7531\u54ea\u4e2a\u54e8\u5175\u8fdb\u884c\u4e3b\u4ece\u6545\u969c\u8f6c\u79fb",level:4},{value:"\u4e3b\u4ece\u6545\u969c\u8f6c\u79fb\u7684\u8fc7\u7a0b\u662f\u600e\u6837\u7684\uff1f",id:"\u4e3b\u4ece\u6545\u969c\u8f6c\u79fb\u7684\u8fc7\u7a0b\u662f\u600e\u6837\u7684",level:4},{value:"\u54e8\u5175\u96c6\u7fa4\u662f\u5982\u4f55\u7ec4\u6210\u7684\uff1f",id:"\u54e8\u5175\u96c6\u7fa4\u662f\u5982\u4f55\u7ec4\u6210\u7684",level:4},{value:"\u603b\u7ed3",id:"\u603b\u7ed3-5",level:4},{value:"Cluster\uff08\u96c6\u7fa4\uff09\u7684\u539f\u7406\u4f60\u80fd\u8bb2\u4e00\u4e0b\u5417\uff1f",id:"cluster\u96c6\u7fa4\u7684\u539f\u7406\u4f60\u80fd\u8bb2\u4e00\u4e0b\u5417",level:3},{value:"\u8282\u70b9\u95f4\u7684\u5185\u90e8\u901a\u4fe1\u673a\u5236",id:"\u8282\u70b9\u95f4\u7684\u5185\u90e8\u901a\u4fe1\u673a\u5236",level:4},{value:"\u57fa\u672c\u901a\u4fe1\u539f\u7406",id:"\u57fa\u672c\u901a\u4fe1\u539f\u7406",level:5},{value:"gossip \u534f\u8bae",id:"gossip-\u534f\u8bae",level:5},{value:"ping \u6d88\u606f\u6df1\u5165",id:"ping-\u6d88\u606f\u6df1\u5165",level:5},{value:"\u5206\u5e03\u5f0f\u5bfb\u5740\u7b97\u6cd5",id:"\u5206\u5e03\u5f0f\u5bfb\u5740\u7b97\u6cd5",level:4},{value:"hash \u7b97\u6cd5",id:"hash-\u7b97\u6cd5",level:5},{value:"\u4e00\u81f4\u6027 hash \u7b97\u6cd5",id:"\u4e00\u81f4\u6027-hash-\u7b97\u6cd5",level:5},{value:"Redis cluster \u7684 hash slot \u7b97\u6cd5",id:"redis-cluster-\u7684-hash-slot-\u7b97\u6cd5",level:5},{value:"Redis cluster \u7684\u9ad8\u53ef\u7528\u4e0e\u4e3b\u5907\u5207\u6362\u539f\u7406",id:"redis-cluster-\u7684\u9ad8\u53ef\u7528\u4e0e\u4e3b\u5907\u5207\u6362\u539f\u7406",level:4},{value:"\u5224\u65ad\u8282\u70b9\u5b95\u673a",id:"\u5224\u65ad\u8282\u70b9\u5b95\u673a",level:5},{value:"\u4ece\u8282\u70b9\u8fc7\u6ee4",id:"\u4ece\u8282\u70b9\u8fc7\u6ee4",level:5},{value:"\u4ece\u8282\u70b9\u9009\u4e3e",id:"\u4ece\u8282\u70b9\u9009\u4e3e",level:5},{value:"\u4e0e\u54e8\u5175\u6bd4\u8f83",id:"\u4e0e\u54e8\u5175\u6bd4\u8f83",level:5},{value:"\u2b50MySQL \u548c Redis \u600e\u4e48\u4fdd\u6301\u6570\u636e\u4e00\u81f4?",id:"mysql-\u548c-redis-\u600e\u4e48\u4fdd\u6301\u6570\u636e\u4e00\u81f4",level:3},{value:"\u5148\u5220\u7f13\u5b58\uff0c\u518d\u66f4\u65b0\u6570\u636e\u5e93",id:"\u5148\u5220\u7f13\u5b58\u518d\u66f4\u65b0\u6570\u636e\u5e93",level:4},{value:"\u89e3\u51b3\u65b9\u6848:\u5ef6\u65f6\u53cc\u5220",id:"\u89e3\u51b3\u65b9\u6848\u5ef6\u65f6\u53cc\u5220",level:5},{value:"\u5148\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u518d\u5220\u9664\u7f13\u5b58",id:"\u5148\u66f4\u65b0\u6570\u636e\u5e93\u518d\u5220\u9664\u7f13\u5b58",level:4},{value:"\u89e3\u51b3\u65b9\u68481:\u6d88\u606f\u961f\u5217",id:"\u89e3\u51b3\u65b9\u68481\u6d88\u606f\u961f\u5217",level:5},{value:"\u89e3\u51b3\u65b9\u68482:\u8fdb\u9636\u7248\u6d88\u606f\u961f\u5217",id:"\u89e3\u51b3\u65b9\u68482\u8fdb\u9636\u7248\u6d88\u606f\u961f\u5217",level:5},{value:"\u89e3\u51b3\u65b9\u68483:\u8bbe\u7f6e\u7f13\u5b58\u8fc7\u671f\u65f6\u95f4",id:"\u89e3\u51b3\u65b9\u68483\u8bbe\u7f6e\u7f13\u5b58\u8fc7\u671f\u65f6\u95f4",level:5},{value:"\u2b50\ufe0fRedis\u5982\u4f55\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\uff1f",id:"\ufe0fredis\u5982\u4f55\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501",level:3},{value:"\u6700\u7b80\u5316\u7248\u672c",id:"\u6700\u7b80\u5316\u7248\u672c",level:4},{value:"\u652f\u6301\u8fc7\u671f\u65f6\u95f4",id:"\u652f\u6301\u8fc7\u671f\u65f6\u95f4",level:4},{value:"\u52a0\u4e0aowner",id:"\u52a0\u4e0aowner",level:4},{value:"\u5f15\u5165Lua",id:"\u5f15\u5165lua",level:4},{value:"Redisson",id:"redisson",level:4},{value:"Redlock+Redisson",id:"redlockredisson",level:4},{value:"Zookeeper\u5206\u5e03\u5f0f\u9501",id:"zookeeper\u5206\u5e03\u5f0f\u9501",level:4},{value:"zk\u83b7\u53d6\u9501\u8fc7\u7a0b",id:"zk\u83b7\u53d6\u9501\u8fc7\u7a0b",level:5},{value:"\u96c6\u7fa4\u8111\u88c2\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u600e\u4e48\u529e\uff1f",id:"\u96c6\u7fa4\u8111\u88c2\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u600e\u4e48\u529e",level:3},{value:"\ud83d\udced \u6d88\u606f\u961f\u5217",id:"-\u6d88\u606f\u961f\u5217",level:2},{value:"\u6d88\u606f\u961f\u5217\u6709\u54ea\u4e9b\u4f7f\u7528\u573a\u666f \uff08or \u4e3a\u4ec0\u4e48\u4f7f\u7528\u6d88\u606f\u961f\u5217\uff09",id:"\u6d88\u606f\u961f\u5217\u6709\u54ea\u4e9b\u4f7f\u7528\u573a\u666f-or-\u4e3a\u4ec0\u4e48\u4f7f\u7528\u6d88\u606f\u961f\u5217",level:3},{value:"\u5e94\u7528\u89e3\u8026",id:"\u5e94\u7528\u89e3\u8026",level:4},{value:"\u6d41\u91cf\u524a\u5cf0",id:"\u6d41\u91cf\u524a\u5cf0",level:4},{value:"\u5f02\u6b65\u5904\u7406",id:"\u5f02\u6b65\u5904\u7406",level:4},{value:"\u6b7b\u4fe1\u961f\u5217&amp;\u5ef6\u8fdf\u961f\u5217",id:"\u6b7b\u4fe1\u961f\u5217\u5ef6\u8fdf\u961f\u5217",level:3},{value:"MQ\u5e38\u7528\u901a\u4fe1\u534f\u8bae",id:"mq\u5e38\u7528\u901a\u4fe1\u534f\u8bae",level:3},{value:"\u5982\u4f55\u4fdd\u8bc1\u6d88\u606f\u961f\u5217\u7684\u9ad8\u53ef\u7528\uff1f",id:"\u5982\u4f55\u4fdd\u8bc1\u6d88\u606f\u961f\u5217\u7684\u9ad8\u53ef\u7528",level:3},{value:"RabbitMQ \u7684\u9ad8\u53ef\u7528\u6027",id:"rabbitmq-\u7684\u9ad8\u53ef\u7528\u6027",level:4},{value:"\u5355\u673a\u6a21\u5f0f",id:"\u5355\u673a\u6a21\u5f0f",level:4},{value:"\u666e\u901a\u96c6\u7fa4\u6a21\u5f0f\uff08\u65e0\u9ad8\u53ef\u7528\u6027\uff09",id:"\u666e\u901a\u96c6\u7fa4\u6a21\u5f0f\u65e0\u9ad8\u53ef\u7528\u6027",level:4},{value:"\u955c\u50cf\u96c6\u7fa4\u6a21\u5f0f\uff08\u9ad8\u53ef\u7528\u6027\uff09",id:"\u955c\u50cf\u96c6\u7fa4\u6a21\u5f0f\u9ad8\u53ef\u7528\u6027",level:4},{value:"Kafka \u7684\u9ad8\u53ef\u7528\u6027",id:"kafka-\u7684\u9ad8\u53ef\u7528\u6027",level:4},{value:"\u5982\u4f55\u4fdd\u8bc1\u6d88\u606f\u7684\u987a\u5e8f\u6027\uff1f",id:"\u5982\u4f55\u4fdd\u8bc1\u6d88\u606f\u7684\u987a\u5e8f\u6027",level:3},{value:"RocketMQ",id:"rocketmq",level:4},{value:"RabbitMQ",id:"rabbitmq",level:4},{value:"Kafka",id:"kafka",level:4},{value:"\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\uff0c\u4e8b\u52a1\u6d88\u606f\u5982\u4f55\u5b9e\u73b0",id:"\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u4e8b\u52a1\u6d88\u606f\u5982\u4f55\u5b9e\u73b0",level:3},{value:"\u5982\u4f55\u4fdd\u8bc1\u6d88\u606f\u7684\u53ef\u9760\u6027\u4f20\u8f93\uff1f",id:"\u5982\u4f55\u4fdd\u8bc1\u6d88\u606f\u7684\u53ef\u9760\u6027\u4f20\u8f93",level:3},{value:"\u5982\u4f55\u89e3\u51b3\u91cd\u590d\u6d88\u8d39",id:"\u5982\u4f55\u89e3\u51b3\u91cd\u590d\u6d88\u8d39",level:3},{value:"\u6d88\u606f\u5806\u79ef\u95ee\u9898",id:"\u6d88\u606f\u5806\u79ef\u95ee\u9898",level:3},{value:"\ud83d\udd17 \u5206\u5e03\u5f0f",id:"-\u5206\u5e03\u5f0f",level:2},{value:"\u4e86\u89e3RPC\u5417\uff1f",id:"\u4e86\u89e3rpc\u5417",level:3},{value:"\u6709\u54ea\u4e9b\u5e38\u89c1\u7684 RPC \u6846\u67b6\uff1f",id:"\u6709\u54ea\u4e9b\u5e38\u89c1\u7684-rpc-\u6846\u67b6",level:3},{value:"Dubbo",id:"dubbo",level:4},{value:"Motan",id:"motan",level:4},{value:"gRPC",id:"grpc",level:4},{value:"Thrift",id:"thrift",level:4},{value:"\u603b\u7ed3",id:"\u603b\u7ed3-6",level:4},{value:"\u4e86\u89e3\u5206\u5e03\u5f0f\u4e8b\u52a1\u5417\uff1f",id:"\u4e86\u89e3\u5206\u5e03\u5f0f\u4e8b\u52a1\u5417",level:3},{value:"2pc\uff08\u4e24\u6bb5\u5f0f\u63d0\u4ea4\uff09",id:"2pc\u4e24\u6bb5\u5f0f\u63d0\u4ea4",level:4},{value:"3PC",id:"3pc",level:4},{value:"TCC",id:"tcc",level:4},{value:"\u6700\u5927\u52aa\u529b\u901a\u77e5",id:"\u6700\u5927\u52aa\u529b\u901a\u77e5",level:4},{value:"\u6d88\u606f\u4e8b\u52a1",id:"\u6d88\u606f\u4e8b\u52a1",level:4},{value:"\u672c\u5730\u6d88\u606f\u8868",id:"\u672c\u5730\u6d88\u606f\u8868",level:4},{value:"\u6700\u7ec8\u4e00\u81f4\u6027",id:"\u6700\u7ec8\u4e00\u81f4\u6027",level:4},{value:"\u5e38\u89c1\u4fdd\u8bc1\u5e42\u7b49\u7684\u65b9\u5f0f",id:"\u5e38\u89c1\u4fdd\u8bc1\u5e42\u7b49\u7684\u65b9\u5f0f",level:3},{value:"\u4ec0\u4e48\u662f\u5e42\u7b49\u6027",id:"\u4ec0\u4e48\u662f\u5e42\u7b49\u6027",level:4},{value:"\u4ec0\u4e48\u662f\u63a5\u53e3\u5e42\u7b49\u6027",id:"\u4ec0\u4e48\u662f\u63a5\u53e3\u5e42\u7b49\u6027",level:4},{value:"\u4e3a\u4ec0\u4e48\u9700\u8981\u5b9e\u73b0\u5e42\u7b49\u6027",id:"\u4e3a\u4ec0\u4e48\u9700\u8981\u5b9e\u73b0\u5e42\u7b49\u6027",level:4},{value:"\u5f15\u5165\u5e42\u7b49\u6027\u540e\u5bf9\u7cfb\u7edf\u7684\u5f71\u54cd",id:"\u5f15\u5165\u5e42\u7b49\u6027\u540e\u5bf9\u7cfb\u7edf\u7684\u5f71\u54cd",level:4},{value:"Restful API \u63a5\u53e3\u7684\u5e42\u7b49\u6027",id:"restful-api-\u63a5\u53e3\u7684\u5e42\u7b49\u6027",level:4},{value:"\u5982\u4f55\u5b9e\u73b0\u5e42\u7b49\u6027",id:"\u5982\u4f55\u5b9e\u73b0\u5e42\u7b49\u6027",level:4},{value:"\u65b9\u6848\u4e00\uff1a\u6570\u636e\u5e93\u552f\u4e00\u4e3b\u952e",id:"\u65b9\u6848\u4e00\u6570\u636e\u5e93\u552f\u4e00\u4e3b\u952e",level:5},{value:"\u65b9\u6848\u4e8c\uff1a\u6570\u636e\u5e93\u4e50\u89c2\u9501",id:"\u65b9\u6848\u4e8c\u6570\u636e\u5e93\u4e50\u89c2\u9501",level:5},{value:"\u65b9\u6848\u4e09\uff1a\u9632\u91cd Token \u4ee4\u724c",id:"\u65b9\u6848\u4e09\u9632\u91cd-token-\u4ee4\u724c",level:5},{value:"\u65b9\u6848\u56db:\u4e0b\u6e38\u4f20\u9012\u552f\u4e00\u5e8f\u5217\u53f7",id:"\u65b9\u6848\u56db\u4e0b\u6e38\u4f20\u9012\u552f\u4e00\u5e8f\u5217\u53f7",level:4},{value:"\u5206\u5e03\u5f0f\u7cfb\u7edf\u63a5\u53e3\uff0c\u5982\u4f55\u907f\u514d\u8868\u5355\u7684\u91cd\u590d\u63d0\u4ea4\uff1f",id:"\u5206\u5e03\u5f0f\u7cfb\u7edf\u63a5\u53e3\u5982\u4f55\u907f\u514d\u8868\u5355\u7684\u91cd\u590d\u63d0\u4ea4",level:3},{value:"\u5e42\u7b49\u6027",id:"\u5e42\u7b49\u6027",level:4},{value:"\u91cd\u590d\u8bf7\u6c42\u573a\u666f\u6848\u4f8b",id:"\u91cd\u590d\u8bf7\u6c42\u573a\u666f\u6848\u4f8b",level:4},{value:"\u5e42\u7b49\u6027\u7684\u5b9e\u73b0\u65b9\u5f0f",id:"\u5e42\u7b49\u6027\u7684\u5b9e\u73b0\u65b9\u5f0f",level:4},{value:"\u6709\u51e0\u79cd\u751f\u6210\u552f\u4e00ID\u7684\u65b9\u5f0f\uff1f",id:"\u6709\u51e0\u79cd\u751f\u6210\u552f\u4e00id\u7684\u65b9\u5f0f",level:3},{value:"UUID",id:"uuid",level:4},{value:"mysql\u81ea\u589eid",id:"mysql\u81ea\u589eid",level:4},{value:"redis",id:"redis",level:4},{value:"snowflake",id:"snowflake",level:4},{value:"ksuid",id:"ksuid",level:4},{value:"\u5176\u4ed6",id:"\u5176\u4ed6",level:4},{value:"\u5355\u70b9\u767b\u5f55",id:"\u5355\u70b9\u767b\u5f55",level:3},{value:"\ud83d\udc68\u200d\ud83d\udcbb\u8ba1\u7b97\u673a\u57fa\u7840",id:"\u8ba1\u7b97\u673a\u57fa\u7840",level:2},{value:"\ud83c\udf10\u8ba1\u7b97\u673a\u7f51\u7edc\uff08\u70ed\u95e8\u516b\u80a1\u6587\uff09",id:"\u8ba1\u7b97\u673a\u7f51\u7edc\u70ed\u95e8\u516b\u80a1\u6587",level:3},{value:"\ud83d\udc41\ufe0f\u524d\u7f6e\u77e5\u8bc6",id:"\ufe0f\u524d\u7f6e\u77e5\u8bc6",level:4},{value:"OSI \u4e03\u5c42\u6a21\u578b",id:"osi-\u4e03\u5c42\u6a21\u578b",level:5},{value:"TCP/IP \u56db\u5c42\u6a21\u578b",id:"tcpip-\u56db\u5c42\u6a21\u578b",level:5},{value:"\u5e94\u7528\u5c42\uff08Application layer\uff09",id:"\u5e94\u7528\u5c42application-layer",level:6},{value:"\u4f20\u8f93\u5c42\uff08Transport layer\uff09",id:"\u4f20\u8f93\u5c42transport-layer",level:6},{value:"\u7f51\u7edc\u5c42\uff08Network layer\uff09",id:"\u7f51\u7edc\u5c42network-layer",level:6},{value:"\u7f51\u7edc\u63a5\u53e3\u5c42\uff08Network interface layer\uff09",id:"\u7f51\u7edc\u63a5\u53e3\u5c42network-interface-layer",level:6},{value:"TCP\u6d41\u91cf\u63a7\u5236",id:"tcp\u6d41\u91cf\u63a7\u5236",level:5},{value:"TCP\u62e5\u585e\u63a7\u5236",id:"tcp\u62e5\u585e\u63a7\u5236",level:5},{value:"\u6162\u5f00\u59cb\u3001\u62e5\u585e\u907f\u514d",id:"\u6162\u5f00\u59cb\u62e5\u585e\u907f\u514d",level:6},{value:"\u5feb\u91cd\u4f20\u3001\u5feb\u6062\u590d",id:"\u5feb\u91cd\u4f20\u5feb\u6062\u590d",level:6},{value:"TCP\u53ef\u9760\u4f20\u8f93",id:"tcp\u53ef\u9760\u4f20\u8f93",level:5},{value:"HTTP",id:"http",level:5},{value:"\u901a\u4fe1\u8fc7\u7a0b",id:"\u901a\u4fe1\u8fc7\u7a0b",level:6},{value:"HTTPS",id:"https",level:5},{value:"SSL/TLS",id:"ssltls",level:6},{value:"\u975e\u5bf9\u79f0\u52a0\u5bc6",id:"\u975e\u5bf9\u79f0\u52a0\u5bc6",level:6},{value:"\u5bf9\u79f0\u52a0\u5bc6",id:"\u5bf9\u79f0\u52a0\u5bc6",level:6},{value:"\u6570\u5b57\u7b7e\u540d",id:"\u6570\u5b57\u7b7e\u540d",level:6},{value:"ARQ \u534f\u8bae",id:"arq-\u534f\u8bae",level:5},{value:"\u505c\u6b62\u7b49\u5f85 ARQ \u534f\u8bae",id:"\u505c\u6b62\u7b49\u5f85-arq-\u534f\u8bae",level:6},{value:"\u6ed1\u52a8\u7a97\u53e3",id:"\u6ed1\u52a8\u7a97\u53e3",level:5},{value:"\u7c98\u5305",id:"\u7c98\u5305",level:5},{value:"\u2b50\ufe0f\u952e\u5165\u7f51\u5740\u5230\u7f51\u9875\u663e\u793a\uff0c\u671f\u95f4\u53d1\u751f\u4e86\u4ec0\u4e48\uff1f",id:"\ufe0f\u952e\u5165\u7f51\u5740\u5230\u7f51\u9875\u663e\u793a\u671f\u95f4\u53d1\u751f\u4e86\u4ec0\u4e48",level:4},{value:"HTTP",id:"http-1",level:5},{value:"DNS",id:"dns",level:5},{value:"\u534f\u8bae\u6808",id:"\u534f\u8bae\u6808",level:5},{value:"TCP",id:"tcp",level:5},{value:"IP",id:"ip",level:5},{value:"MAC",id:"mac",level:5},{value:"\u7f51\u5361",id:"\u7f51\u5361",level:5},{value:"\u4ea4\u6362\u673a",id:"\u4ea4\u6362\u673a",level:5},{value:"\u8def\u7531\u5668",id:"\u8def\u7531\u5668",level:5},{value:"\u670d\u52a1\u5668 \u4e0e \u5ba2\u6237\u7aef",id:"\u670d\u52a1\u5668-\u4e0e-\u5ba2\u6237\u7aef",level:5},{value:"\u6570\u636e\u5305",id:"\u6570\u636e\u5305",level:5},{value:"TCP\u5982\u4f55\u4fdd\u8bc1\u53ef\u9760\u4f20\u8f93\uff1f",id:"tcp\u5982\u4f55\u4fdd\u8bc1\u53ef\u9760\u4f20\u8f93",level:4},{value:"\u2b50\ufe0fTCP \u4e09\u6b21\u63e1\u624b\u548c\u56db\u6b21\u6325\u624b\uff08+++\u6781\u9650\u62d3\u5c55\uff09",id:"\ufe0ftcp-\u4e09\u6b21\u63e1\u624b\u548c\u56db\u6b21\u6325\u624b\u6781\u9650\u62d3\u5c55",level:4},{value:"\u6781\u9650\u62d3\u5c55",id:"\u6781\u9650\u62d3\u5c55",level:5},{value:"HTTP \u4e0e HTTPS \u6709\u54ea\u4e9b\u533a\u522b\uff1f",id:"http-\u4e0e-https-\u6709\u54ea\u4e9b\u533a\u522b",level:4},{value:"HTTPS \u662f\u5982\u4f55\u5efa\u7acb\u8fde\u63a5\u7684\uff1f\u5176\u95f4\u4ea4\u4e92\u4e86\u4ec0\u4e48\uff1f",id:"https-\u662f\u5982\u4f55\u5efa\u7acb\u8fde\u63a5\u7684\u5176\u95f4\u4ea4\u4e92\u4e86\u4ec0\u4e48",level:4},{value:"TCP, UDP \u534f\u8bae\u7684\u533a\u522b",id:"tcp-udp-\u534f\u8bae\u7684\u533a\u522b",level:4},{value:"HTTP \u54ea\u4e9b\u5e38\u7528\u7684\u72b6\u6001\u7801",id:"http-\u54ea\u4e9b\u5e38\u7528\u7684\u72b6\u6001\u7801",level:4},{value:"HTTP\u5982\u4f55\u5b9e\u73b0\u957f\u8fde\u63a5",id:"http\u5982\u4f55\u5b9e\u73b0\u957f\u8fde\u63a5",level:4},{value:"\u5982\u4f55\u89e3\u51b3\u7c98\u5305\uff1f",id:"\u5982\u4f55\u89e3\u51b3\u7c98\u5305",level:4},{value:"\u56fa\u5b9a\u957f\u5ea6\u7684\u6d88\u606f",id:"\u56fa\u5b9a\u957f\u5ea6\u7684\u6d88\u606f",level:5},{value:"\u7279\u6b8a\u5b57\u7b26\u4f5c\u4e3a\u8fb9\u754c",id:"\u7279\u6b8a\u5b57\u7b26\u4f5c\u4e3a\u8fb9\u754c",level:5},{value:"\u81ea\u5b9a\u4e49\u6d88\u606f\u7ed3\u6784",id:"\u81ea\u5b9a\u4e49\u6d88\u606f\u7ed3\u6784",level:5},{value:"\ud83d\udcbb\u64cd\u4f5c\u7cfb\u7edf",id:"\u64cd\u4f5c\u7cfb\u7edf",level:3},{value:"\u4ec0\u4e48\u662f\u534f\u7a0b\uff1f",id:"\u4ec0\u4e48\u662f\u534f\u7a0b",level:4},{value:"\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u533a\u522b",id:"\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u533a\u522b",level:4},{value:"\u8fdb\u7a0b\u6709\u54ea\u51e0\u79cd\u72b6\u6001?",id:"\u8fdb\u7a0b\u6709\u54ea\u51e0\u79cd\u72b6\u6001",level:4},{value:"\u8fdb\u7a0b\u95f4\u7684\u901a\u4fe1\u65b9\u5f0f",id:"\u8fdb\u7a0b\u95f4\u7684\u901a\u4fe1\u65b9\u5f0f",level:4},{value:"\u7ebf\u7a0b\u95f4\u7684\u540c\u6b65\u7684\u65b9\u5f0f",id:"\u7ebf\u7a0b\u95f4\u7684\u540c\u6b65\u7684\u65b9\u5f0f",level:4},{value:"\u8fdb\u7a0b\u7684\u8c03\u5ea6\u7b97\u6cd5",id:"\u8fdb\u7a0b\u7684\u8c03\u5ea6\u7b97\u6cd5",level:4},{value:"\u4ec0\u4e48\u662f\u6b7b\u9501",id:"\u4ec0\u4e48\u662f\u6b7b\u9501",level:4},{value:"\u6b7b\u9501\u7684\u56db\u4e2a\u6761\u4ef6",id:"\u6b7b\u9501\u7684\u56db\u4e2a\u6761\u4ef6",level:4},{value:"\u96f6\u62f7\u8d1d\u6df1\u5165\u6d45\u51fa",id:"\u96f6\u62f7\u8d1d\u6df1\u5165\u6d45\u51fa",level:4},{value:"DMA",id:"dma",level:5},{value:"\u5982\u4f55\u5b9e\u73b0\u96f6\u62f7\u8d1d\uff1f",id:"\u5982\u4f55\u5b9e\u73b0\u96f6\u62f7\u8d1d",level:5},{value:"mmap + write",id:"mmap--write",level:6},{value:"sendfile",id:"sendfile",level:6},{value:"\u4f7f\u7528\u96f6\u62f7\u8d1d\u6280\u672f\u7684\u9879\u76ee",id:"\u4f7f\u7528\u96f6\u62f7\u8d1d\u6280\u672f\u7684\u9879\u76ee",level:5},{value:"\u50f5\u5c38\u8fdb\u7a0b\u548c\u5b64\u513f\u8fdb\u7a0b",id:"\u50f5\u5c38\u8fdb\u7a0b\u548c\u5b64\u513f\u8fdb\u7a0b",level:4},{value:"\u50f5\u5c38\u8fdb\u7a0b",id:"\u50f5\u5c38\u8fdb\u7a0b",level:5},{value:"\u5b64\u513f\u8fdb\u7a0b",id:"\u5b64\u513f\u8fdb\u7a0b",level:5},{value:"\ud83e\udde9\u6570\u636e\u7ed3\u6784",id:"\u6570\u636e\u7ed3\u6784",level:3},{value:"\u7ea2\u9ed1\u6811",id:"\u7ea2\u9ed1\u6811",level:4},{value:"\u5341\u5927\u7ecf\u5178\u6392\u5e8f\u7b97\u6cd5",id:"\u5341\u5927\u7ecf\u5178\u6392\u5e8f\u7b97\u6cd5",level:4},{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb-1",level:5},{value:"\u672f\u8bed\u8bf4\u660e",id:"\u672f\u8bed\u8bf4\u660e",level:6},{value:"\u7b97\u6cd5\u5206\u7c7b",id:"\u7b97\u6cd5\u5206\u7c7b",level:6},{value:"\u5192\u6ce1\u6392\u5e8f (Bubble Sort)",id:"\u5192\u6ce1\u6392\u5e8f-bubble-sort",level:5},{value:"\u7b97\u6cd5\u6b65\u9aa4",id:"\u7b97\u6cd5\u6b65\u9aa4",level:6},{value:"\u4ee3\u7801\u5b9e\u73b0",id:"\u4ee3\u7801\u5b9e\u73b0",level:6},{value:"\u7b97\u6cd5\u5206\u6790",id:"\u7b97\u6cd5\u5206\u6790",level:6},{value:"\u9009\u62e9\u6392\u5e8f (Selection Sort)",id:"\u9009\u62e9\u6392\u5e8f-selection-sort",level:5},{value:"\u7b97\u6cd5\u6b65\u9aa4",id:"\u7b97\u6cd5\u6b65\u9aa4-1",level:6},{value:"\u4ee3\u7801\u5b9e\u73b0",id:"\u4ee3\u7801\u5b9e\u73b0-1",level:6},{value:"\u7b97\u6cd5\u5206\u6790",id:"\u7b97\u6cd5\u5206\u6790-1",level:6},{value:"\u63d2\u5165\u6392\u5e8f (Insertion Sort)",id:"\u63d2\u5165\u6392\u5e8f-insertion-sort",level:5},{value:"\u7b97\u6cd5\u6b65\u9aa4",id:"\u7b97\u6cd5\u6b65\u9aa4-2",level:6},{value:"\u4ee3\u7801\u5b9e\u73b0",id:"\u4ee3\u7801\u5b9e\u73b0-2",level:6},{value:"\u7b97\u6cd5\u5206\u6790",id:"\u7b97\u6cd5\u5206\u6790-2",level:6},{value:"\u5e0c\u5c14\u6392\u5e8f (Shell Sort)",id:"\u5e0c\u5c14\u6392\u5e8f-shell-sort",level:5},{value:"\u7b97\u6cd5\u6b65\u9aa4",id:"\u7b97\u6cd5\u6b65\u9aa4-3",level:6},{value:"\u4ee3\u7801\u5b9e\u73b0",id:"\u4ee3\u7801\u5b9e\u73b0-3",level:6},{value:"\u7b97\u6cd5\u5206\u6790",id:"\u7b97\u6cd5\u5206\u6790-3",level:6},{value:"\u5f52\u5e76\u6392\u5e8f (Merge Sort)",id:"\u5f52\u5e76\u6392\u5e8f-merge-sort",level:5},{value:"\u7b97\u6cd5\u6b65\u9aa4",id:"\u7b97\u6cd5\u6b65\u9aa4-4",level:6},{value:"\u4ee3\u7801\u5b9e\u73b0",id:"\u4ee3\u7801\u5b9e\u73b0-4",level:6},{value:"\u7b97\u6cd5\u5206\u6790",id:"\u7b97\u6cd5\u5206\u6790-4",level:6},{value:"\u5feb\u901f\u6392\u5e8f (Quick Sort)",id:"\u5feb\u901f\u6392\u5e8f-quick-sort",level:5},{value:"\u7b97\u6cd5\u6b65\u9aa4",id:"\u7b97\u6cd5\u6b65\u9aa4-5",level:6},{value:"\u4ee3\u7801\u5b9e\u73b0",id:"\u4ee3\u7801\u5b9e\u73b0-5",level:6},{value:"\u7b97\u6cd5\u5206\u6790",id:"\u7b97\u6cd5\u5206\u6790-5",level:6},{value:"\u5806\u6392\u5e8f (Heap Sort)",id:"\u5806\u6392\u5e8f-heap-sort",level:5},{value:"\u7b97\u6cd5\u6b65\u9aa4",id:"\u7b97\u6cd5\u6b65\u9aa4-6",level:6},{value:"\u4ee3\u7801\u5b9e\u73b0",id:"\u4ee3\u7801\u5b9e\u73b0-6",level:6},{value:"\u7b97\u6cd5\u5206\u6790",id:"\u7b97\u6cd5\u5206\u6790-6",level:6},{value:"\u8ba1\u6570\u6392\u5e8f (Counting Sort)",id:"\u8ba1\u6570\u6392\u5e8f-counting-sort",level:5},{value:"\u7b97\u6cd5\u6b65\u9aa4",id:"\u7b97\u6cd5\u6b65\u9aa4-7",level:6},{value:"\u4ee3\u7801\u5b9e\u73b0",id:"\u4ee3\u7801\u5b9e\u73b0-7",level:6},{value:"\u7b97\u6cd5\u5206\u6790",id:"\u7b97\u6cd5\u5206\u6790-7",level:6},{value:"\u6876\u6392\u5e8f (Bucket Sort)",id:"\u6876\u6392\u5e8f-bucket-sort",level:5},{value:"\u7b97\u6cd5\u6b65\u9aa4",id:"\u7b97\u6cd5\u6b65\u9aa4-8",level:6},{value:"\u4ee3\u7801\u5b9e\u73b0",id:"\u4ee3\u7801\u5b9e\u73b0-8",level:6},{value:"\u7b97\u6cd5\u5206\u6790",id:"\u7b97\u6cd5\u5206\u6790-8",level:6},{value:"\u57fa\u6570\u6392\u5e8f (Radix Sort)",id:"\u57fa\u6570\u6392\u5e8f-radix-sort",level:5},{value:"\u7b97\u6cd5\u6b65\u9aa4",id:"\u7b97\u6cd5\u6b65\u9aa4-9",level:6},{value:"\u4ee3\u7801\u5b9e\u73b0",id:"\u4ee3\u7801\u5b9e\u73b0-9",level:6},{value:"\u7b97\u6cd5\u5206\u6790",id:"\u7b97\u6cd5\u5206\u6790-9",level:6},{value:"\ud83c\udfa8\u8bbe\u8ba1\u6a21\u5f0f",id:"\u8bbe\u8ba1\u6a21\u5f0f",level:2},{value:"\ud83d\ude47\u200d\u2642\ufe0f\u667a\u529b\u9898",id:"\ufe0f\u667a\u529b\u9898",level:2},{value:"\u8d5b\u9a6c\u627e\u6700\u5feb\u7684\u9a6c\u5339\uff08\u9ad8\u9891\u9898\uff09",id:"\u8d5b\u9a6c\u627e\u6700\u5feb\u7684\u9a6c\u5339\u9ad8\u9891\u9898",level:3}],s={toc:o};function u(e){let{components:t,...i}=e;return(0,l.kt)("wrapper",(0,a.Z)({},s,i,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"[toc]"),(0,l.kt)("h2",{id:"-2022\u516b\u80a1\u6587\u7cbe\u9009\u96c6"},"\ud83c\udf42 2022\u516b\u80a1\u6587\u7cbe\u9009\u96c6"),(0,l.kt)("p",null,"\u6574\u7406\u81ea"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5434\u5e08\u5144\u76841000\u9053Java \u7a0b\u5e8f\u5458\u5fc5\u5907\u9762\u8bd5\u9898"),(0,l.kt)("li",{parentName:"ol"},"JavaGuide"),(0,l.kt)("li",{parentName:"ol"},"\u5c0f\u6797coding"),(0,l.kt)("li",{parentName:"ol"},"Java \u5168\u6808\u77e5\u8bc6\u4f53\u7cfb"),(0,l.kt)("li",{parentName:"ol"},"Java\u516b\u80a1\u6587")),(0,l.kt)("p",null,"\u9009\u53d6\u7406\u7531\uff1a\u672c\u7740\u67e5\u7f3a\u8865\u6f0f\u7684\u6728\u6876\u539f\u7406\uff0c\u53ea\u9009\u53d6\u9ad8\u9891\uff08\u2b50\ufe0f\u3001\ud83c\udf20\u3001\ud83c\udf1f\u3001\u2728\u3001\ud83d\udcab\u3001\ud83c\udf87\u3001\ud83d\udd25\uff09\u548c\u4e0d\u4f1a\u7684\uff0c\u65b9\u4fbf\u9762\u8bd5\u7a81\u88ad"),(0,l.kt)("h2",{id:"\ufe0f-java\u57fa\u7840"},"\u2615\ufe0f Java\u57fa\u7840"),(0,l.kt)("h3",{id:"java-8\u7684\u63a5\u65b0\u589e\u4e86\u54ea\u4e9b\u7279\u6027"},"Java 8\u7684\u63a5\u2f1d\u65b0\u589e\u4e86\u54ea\u4e9b\u7279\u6027\uff1f"),(0,l.kt)("p",null,"\u589e\u52a0\u4e86default\u2f45\u6cd5\u548cstatic\u2f45\u6cd5\uff0c\u8fd92\u79cd\u2f45\u6cd5\u53ef\u4ee5\u6709\u2f45\u6cd5\u4f53"),(0,l.kt)("h3",{id:"\u91cd\u8f7d\u548c\u91cd\u5199\u7684\u533a\u522b"},"\u91cd\u8f7d\u548c\u91cd\u5199\u7684\u533a\u522b\uff1f"),(0,l.kt)("p",null,"\u53d1\u751f\u5728\u540c\u4e00\u4e2a\u7c7b\u4e2d\uff0c\u65b9\u6cd5\u540d\u5fc5\u987b\u76f8\u540c\uff0c\u53c2\u6570\u7c7b\u578b\u4e0d\u540c\u3001\u4e2a\u6570\u4e0d\u540c\u3001\u987a\u5e8f\u4e0d\u540c\uff0c\u65b9\u6cd5\u8fd4\u56de\u503c\u548c\u8bbf\u95ee\n\u4fee\u9970\u7b26\u53ef\u4ee5\u4e0d\u540c\u3002\n\u4e0b\u9762\u662f\u300aJava \u6838\u5fc3\u6280\u672f\u300b\u5bf9\u91cd\u8f7d\u8fd9\u4e2a\u6982\u5ff5\u7684\u4ecb\u7ecd\uff1a"),(0,l.kt)("p",null,"\u7efc\u4e0a\uff1a\u91cd\u8f7d\u5c31\u662f\u540c\u4e00\u4e2a\u7c7b\u4e2d\u591a\u4e2a\u540c\u540d\u65b9\u6cd5\u6839\u636e\u4e0d\u540c\u7684\u4f20\u53c2\u6765\u6267\u884c\u4e0d\u540c\u7684\u903b\u8f91\u5904\u7406\u3002\n\u91cd\u5199\uff1a\n\u91cd\u5199\u53d1\u751f\u5728\u8fd0\u884c\u671f\uff0c\u662f\u5b50\u7c7b\u5bf9\u7236\u7c7b\u7684\u5141\u8bb8\u8bbf\u95ee\u7684\u65b9\u6cd5\u7684\u5b9e\u73b0\u8fc7\u7a0b\u8fdb\u884c\u91cd\u65b0\u7f16\u5199\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u8fd4\u56de\u503c\u7c7b\u578b\u3001\u65b9\u6cd5\u540d\u3001\u53c2\u6570\u5217\u8868\u5fc5\u987b\u76f8\u540c\uff0c\u629b\u51fa\u7684\u5f02\u5e38\u8303\u56f4\u5c0f\u4e8e\u7b49\u4e8e\u7236\u7c7b\uff0c\u8bbf\u95ee\u4fee\u9970\u7b26\u8303\u56f4\n\u5927\u4e8e\u7b49\u4e8e\u7236\u7c7b\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u7236\u7c7b\u65b9\u6cd5\u8bbf\u95ee\u4fee\u9970\u7b26\u4e3a private/final/static \u5219\u5b50\u7c7b\u5c31\u4e0d\u80fd\u91cd\u5199\u8be5\u65b9\u6cd5\uff0c\u4f46\u662f\u88ab static \u4fee\u9970\n\u7684\u65b9\u6cd5\u80fd\u591f\u88ab\u518d\u6b21\u58f0\u660e\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u6784\u9020\u65b9\u6cd5\u65e0\u6cd5\u88ab\u91cd\u5199\n\u7efc\u4e0a\uff1a\u91cd\u5199\u5c31\u662f\u5b50\u7c7b\u5bf9\u7236\u7c7b\u65b9\u6cd5\u7684\u91cd\u65b0\u6539\u9020\uff0c\u5916\u90e8\u6837\u5b50\u4e0d\u80fd\u6539\u53d8\uff0c\u5185\u90e8\u903b\u8f91\u53ef\u4ee5\u6539\u53d8")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617164632798",src:n(5734).Z,width:"827",height:"433"})),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617164418584",src:n(82015).Z,width:"750",height:"415"})),(0,l.kt)("h3",{id:"\u5185\u90e8\u7c7b\u4e86\u89e3\u5417"},"\u5185\u90e8\u7c7b\u4e86\u89e3\u5417\uff1f"),(0,l.kt)("p",null,"\u5728Java\u4e2d\uff0c\u53ef\u4ee5\u5c06\u2f00\u4e2a\u7c7b\u7684\u5b9a\u4e49\u653e\u5728\u53e6\u5916\u2f00\u4e2a\u7c7b\u7684\u5b9a\u4e49\u5185\u90e8\uff0c\u8fd9\u5c31\u662f \u5185\u90e8\u7c7b \u3002\u5185\u90e8\u7c7b\u672c\u8eab\u5c31 \u662f\u7c7b\u7684\u2f00\n\u4e2a\u5c5e\u6027\uff0c\u4e0e\u5176\u4ed6\u5c5e\u6027\u5b9a\u4e49\u2f45\u5f0f\u2f00\u81f4\u3002"),(0,l.kt)("p",null,"\u5185\u90e8\u7c7b\u53ef\u4ee5\u5206\u4e3a\u56db\u79cd\uff1a"),(0,l.kt)("p",null,"\u6210\u5458\u5185\u90e8\u7c7b\uff1a\u5728\u4e00\u4e2a\u7c7b\u4e2d\u76f4\u63a5\u5b9a\u4e49\u7684\u5185\u90e8\u7c7b\uff0c\u6210\u5458\u5185\u90e8\u7c7b\u4e0e\u666e\u901a\u7c7b\u7684\u6210\u5458\u6ca1\u4ec0\u4e48\u533a\u522b\uff0c\u53ef\u4ee5\u4e0e\u666e\u901a\u6210\u5458\u4e00\u6837\u8fdb\u884c\u4fee\u9970\u548c\u9650\u5236\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'class Circle {\n    double radius = 0;\n   \n    public Circle(double radius) {\n        this.radius = radius;\n    }\n   \n    class Draw {     //\u5185\u90e8\u7c7b\n        public void drawSahpe() {\n            System.out.println("drawshape");\n        }\n    }\n}\n')),(0,l.kt)("p",null,"\u5c40\u90e8\u5185\u90e8\u7c7b\uff1a\u5728\u65b9\u6cd5\u4e2d\u5b9a\u4e49\u7684\u5185\u90e8\u7c7b\u79f0\u4e3a\u5c40\u90e8\u5185\u90e8\u7c7b\u3002\u4e0e\u5c40\u90e8\u53d8\u91cf\u7c7b\u4f3c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"class People{\n    public People() {\n       \n    }\n}\n \nclass Man{\n    public Man(){\n       \n    }\n   \n    public People getWoman(){\n        class Woman extends People{   //\u5c40\u90e8\u5185\u90e8\u7c7b\n            int age =0;\n        }\n        return new Woman();\n    }\n}\n")),(0,l.kt)("p",null,"\u533f\u540d\u5185\u90e8\u7c7b\uff1a\u533f\u540d\u5185\u90e8\u7c7b\u5c31\u662f\u6ca1\u6709\u540d\u5b57\u7684\u5185\u90e8\u7c7b"),(0,l.kt)("p",null,"\u9759\u6001\u5185\u90e8\u7c7b\uff08",(0,l.kt)("strong",{parentName:"p"},"\u5d4c\u5957\u7c7b"),"\uff09\uff1a\u5982\u679c\u4f60\u4e0d\u9700\u8981\u5185\u90e8\u7c7b\u5bf9\u8c61\u4e0e\u5176\u5916\u56f4\u7c7b\u5bf9\u8c61\u4e4b\u95f4\u6709\u8054\u7cfb\uff0c\u90a3\u4f60\u53ef\u4ee5\u5c06\u5185\u90e8\u7c7b\u58f0\u660e\u4e3astatic"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public class Test {\n    public static void main(String[] args)  {\n        Outter.Inner inner = new Outter.Inner();\n    }\n}\n \nclass Outter {\n    public Outter() {\n       \n    }\n   \n    static class Inner {\n        public Inner() {\n           \n        }\n    }\n}\n")),(0,l.kt)("h3",{id:"hashset-\u5982\u4f55\u68c0\u67e5\u91cd\u590d"},"HashSet \u5982\u4f55\u68c0\u67e5\u91cd\u590d"),(0,l.kt)("p",null,"\u601d\u8def\u6574\u7406\uff1ahashcode\u76f8\u540c -> equals() \u4e0d\u540c-> hash\u518d\u6563\u5217"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5f53\u4f60\u628a\u5bf9\u8c61\u52a0\u2f0aHashSet\u65f6\uff0cHashSet\u4f1a\u5148\u8ba1\u7b97\u5bf9\u8c61\u7684hashcode\u503c\u6765\u5224\u65ad\u5bf9\u8c61\u52a0\u2f0a\u7684\u4f4d\u7f6e\uff0c\u540c\u65f6\u4e5f\u4f1a\u4e0e\u5176\u4ed6\u5df2\u7ecf\u52a0\u2f0a\u7684\u5bf9\u8c61\u7684hashcode\u503c\u4f5c\u2f50\u8f83"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u6ca1\u6709\u76f8\u7b26\u7684hashcode\uff0cHashSet\u4f1a\u5047\u8bbe\u5bf9\u8c61\u6ca1\u6709\u91cd\u590d\u51fa\u73b0\u3002\u4f46\u662f",(0,l.kt)("strong",{parentName:"li"},"\u5982\u679c\u53d1\u73b0\u6709\u76f8\u540chashcode\u503c\u7684\u5bf9\u8c61\uff0c\u8fd9\u65f6\u4f1a\u8c03\u2f64equals()\u2f45\u6cd5"),"\u6765\u68c0\u67e5hashcode\u76f8\u7b49\u7684\u5bf9\u8c61\u662f\u5426\u771f\u7684\u76f8\u540c"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u4e24\u8005\u76f8\u540c\uff0cHashSet\u5c31\u4e0d\u4f1a\u8ba9\u5176\u52a0\u2f0a\u64cd\u4f5c\u6210\u529f\u3002\u5982\u679c\u4e0d\u540c\u7684\u8bdd\uff0c\u5c31\u4f1a\u91cd\u65b0\u6563\u5217\u5230\u5176\u4ed6\u4f4d\u7f6e\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u2f24\u2f24\u51cf\u5c11\u4e86equals\u7684\u6b21\u6570\uff0c\u76f8\u5e94\u5c31\u2f24\u2f24\u63d0\u2fbc\u4e86\u6267\u2f8f\u901f\u5ea6\u3002")),(0,l.kt)("h3",{id:"\u6784\u9020\u6cd5\u6709\u54ea\u4e9b\u7279\u6027"},"\u6784\u9020\u2f45\u6cd5\u6709\u54ea\u4e9b\u7279\u6027\uff1f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u540d\u5b57\u4e0e\u7c7b\u540d\u76f8\u540c"),(0,l.kt)("li",{parentName:"ul"},"\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u4f46\u4e0d\u80fd\u2f64void\u58f0\u660e\u6784\u9020\u51fd\u6570"),(0,l.kt)("li",{parentName:"ul"},"\u2f63\u6210\u7c7b\u7684\u5bf9\u8c61\u65f6\u2f83\u52a8\u6267\u2f8f\uff0c\u2f46\u9700\u8c03\u2f64")),(0,l.kt)("h3",{id:"finalstaticthissuper-\u5173\u952e\u5b57\u603b\u7ed3"},"final,static,this,super \u5173\u952e\u5b57\u603b\u7ed3"),(0,l.kt)("h4",{id:"static"},"static"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"static \u5173\u952e\u5b57\u4e3b\u8981\u6709\u4ee5\u4e0b\u56db\u79cd\u4f7f\u7528\u573a\u666f\uff1a")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4fee\u9970\u6210\u5458\u53d8\u91cf\u548c\u6210\u5458\u65b9\u6cd5:")," \u88ab static \u4fee\u9970\u7684\u6210\u5458\u5c5e\u4e8e\u7c7b\uff0c\u4e0d\u5c5e\u4e8e\u5355\u4e2a\u8fd9\u4e2a\u7c7b\u7684\u67d0\u4e2a\u5bf9\u8c61\uff0c\u88ab\u7c7b\u4e2d\u6240\u6709\u5bf9\u8c61\u5171\u4eab\uff0c\u53ef\u4ee5\u5e76\u4e14\u5efa\u8bae\u901a\u8fc7\u7c7b\u540d\u8c03\u7528\u3002\u88ab static \u58f0\u660e\u7684\u6210\u5458\u53d8\u91cf\u5c5e\u4e8e\u9759\u6001\u6210\u5458\u53d8\u91cf\uff0c\u9759\u6001\u53d8\u91cf \u5b58\u653e\u5728 Java \u5185\u5b58\u533a\u57df\u7684\u65b9\u6cd5\u533a\u3002\u8c03\u7528\u683c\u5f0f\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"\u7c7b\u540d.\u9759\u6001\u53d8\u91cf\u540d")," ",(0,l.kt)("inlineCode",{parentName:"li"},"\u7c7b\u540d.\u9759\u6001\u65b9\u6cd5\u540d()")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u9759\u6001\u4ee3\u7801\u5757:")," \u9759\u6001\u4ee3\u7801\u5757\u5b9a\u4e49\u5728\u7c7b\u4e2d\u65b9\u6cd5\u5916, \u9759\u6001\u4ee3\u7801\u5757\u5728\u975e\u9759\u6001\u4ee3\u7801\u5757\u4e4b\u524d\u6267\u884c(\u9759\u6001\u4ee3\u7801\u5757\u2014>\u975e\u9759\u6001\u4ee3\u7801\u5757\u2014>\u6784\u9020\u65b9\u6cd5)\u3002 \u8be5\u7c7b\u4e0d\u7ba1\u521b\u5efa\u591a\u5c11\u5bf9\u8c61\uff0c\u9759\u6001\u4ee3\u7801\u5757\u53ea\u6267\u884c\u4e00\u6b21."),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u9759\u6001\u5185\u90e8\u7c7b\uff08static \u4fee\u9970\u7c7b\u7684\u8bdd\u53ea\u80fd\u4fee\u9970\u5185\u90e8\u7c7b\uff09\uff1a")," \u9759\u6001\u5185\u90e8\u7c7b\u4e0e\u975e\u9759\u6001\u5185\u90e8\u7c7b\u4e4b\u95f4\u5b58\u5728\u4e00\u4e2a\u6700\u5927\u7684\u533a\u522b:  \u975e\u9759\u6001\u5185\u90e8\u7c7b\u5728\u7f16\u8bd1\u5b8c\u6210\u4e4b\u540e\u4f1a\u9690\u542b\u5730\u4fdd\u5b58\u7740\u4e00\u4e2a\u5f15\u7528\uff0c\u8be5\u5f15\u7528\u662f\u6307\u5411\u521b\u5efa\u5b83\u7684\u5916\u56f4\u7c7b\uff0c\u4f46\u662f\u9759\u6001\u5185\u90e8\u7c7b\u5374\u6ca1\u6709\u3002\u6ca1\u6709\u8fd9\u4e2a\u5f15\u7528\u5c31\u610f\u5473\u7740\uff1a1.  \u5b83\u7684\u521b\u5efa\u662f\u4e0d\u9700\u8981\u4f9d\u8d56\u5916\u56f4\u7c7b\u7684\u521b\u5efa\u30022. \u5b83\u4e0d\u80fd\u4f7f\u7528\u4efb\u4f55\u5916\u56f4\u7c7b\u7684\u975e static \u6210\u5458\u53d8\u91cf\u548c\u65b9\u6cd5\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u9759\u6001\u5bfc\u5305(\u7528\u6765\u5bfc\u5165\u7c7b\u4e2d\u7684\u9759\u6001\u8d44\u6e90\uff0c1.5 \u4e4b\u540e\u7684\u65b0\u7279\u6027):")," \u683c\u5f0f\u4e3a\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"import static")," \u8fd9\u4e24\u4e2a\u5173\u952e\u5b57\u8fde\u7528\u53ef\u4ee5\u6307\u5b9a\u5bfc\u5165\u67d0\u4e2a\u7c7b\u4e2d\u7684\u6307\u5b9a\u9759\u6001\u8d44\u6e90\uff0c\u5e76\u4e14\u4e0d\u9700\u8981\u4f7f\u7528\u7c7b\u540d\u8c03\u7528\u7c7b\u4e2d\u9759\u6001\u6210\u5458\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7c7b\u4e2d\u9759\u6001\u6210\u5458\u53d8\u91cf\u548c\u6210\u5458\u65b9\u6cd5\u3002")),(0,l.kt)("h4",{id:"final"},"final"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"final \u5173\u952e\u5b57\uff0c\u610f\u601d\u662f\u6700\u7ec8\u7684\u3001\u4e0d\u53ef\u4fee\u6539\u7684\uff0c\u6700\u89c1\u4e0d\u5f97\u53d8\u5316 \uff0c\u7528\u6765\u4fee\u9970\u7c7b\u3001\u65b9\u6cd5\u548c\u53d8\u91cf\uff0c\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"final \u4fee\u9970\u7684\u7c7b\u4e0d\u80fd\u88ab\u7ee7\u627f\uff0cfinal \u7c7b\u4e2d\u7684\u6240\u6709\u6210\u5458\u65b9\u6cd5\u90fd\u4f1a\u88ab\u9690\u5f0f\u7684\u6307\u5b9a\u4e3a final \u65b9\u6cd5\uff1b"),(0,l.kt)("li",{parentName:"ol"},"final \u4fee\u9970\u7684\u65b9\u6cd5\u4e0d\u80fd\u88ab\u91cd\u5199\uff1b"),(0,l.kt)("li",{parentName:"ol"},"final \u4fee\u9970\u7684\u53d8\u91cf\u662f\u5e38\u91cf\uff0c\u5982\u679c\u662f\u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u5219\u5176\u6570\u503c\u4e00\u65e6\u5728\u521d\u59cb\u5316\u4e4b\u540e\u4fbf\u4e0d\u80fd\u66f4\u6539\uff1b\u5982\u679c\u662f\u5f15\u7528\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u5219\u5728\u5bf9\u5176\u521d\u59cb\u5316\u4e4b\u540e\u4fbf\u4e0d\u80fd\u8ba9\u5176\u6307\u5411\u53e6\u4e00\u4e2a\u5bf9\u8c61\u3002")),(0,l.kt)("p",null,"\u8bf4\u660e\uff1a\u4f7f\u7528 final \u65b9\u6cd5\u7684\u539f\u56e0\u6709\u4e24\u4e2a\u3002\u7b2c\u4e00\u4e2a\u539f\u56e0\u662f\u628a\u65b9\u6cd5\u9501\u5b9a\uff0c\u4ee5\u9632\u4efb\u4f55\u7ee7\u627f\u7c7b\u4fee\u6539\u5b83\u7684\u542b\u4e49\uff1b\u7b2c\u4e8c\u4e2a\u539f\u56e0\u662f\u6548\u7387\u3002\u5728\u65e9\u671f\u7684 Java \u5b9e\u73b0\u7248\u672c\u4e2d\uff0c\u4f1a\u5c06  final \u65b9\u6cd5\u8f6c\u4e3a\u5185\u5d4c\u8c03\u7528\u3002\u4f46\u662f\u5982\u679c\u65b9\u6cd5\u8fc7\u4e8e\u5e9e\u5927\uff0c\u53ef\u80fd\u770b\u4e0d\u5230\u5185\u5d4c\u8c03\u7528\u5e26\u6765\u7684\u4efb\u4f55\u6027\u80fd\u63d0\u5347\uff08\u73b0\u5728\u7684 Java \u7248\u672c\u5df2\u7ecf\u4e0d\u9700\u8981\u4f7f\u7528 final  \u65b9\u6cd5\u8fdb\u884c\u8fd9\u4e9b\u4f18\u5316\u4e86\uff09\u3002\u7c7b\u4e2d\u6240\u6709\u7684 private \u65b9\u6cd5\u90fd\u9690\u5f0f\u5730\u6307\u5b9a\u4e3a final\u3002"),(0,l.kt)("h4",{id:"this"},"this"),(0,l.kt)("p",null,"this \u5173\u952e\u5b57\u7528\u4e8e\u5f15\u7528\u7c7b\u7684\u5f53\u524d\u5b9e\u4f8b\u3002 \u4f8b\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'class Manager {\n    Employees[] employees;\n    void manageEmployees() {\n        int totalEmp = this.employees.length;\n        System.out.println("Total employees: " + totalEmp);\n        this.report();\n    }\n    void report() { }\n}\n')),(0,l.kt)("p",null,"\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0cthis \u5173\u952e\u5b57\u7528\u4e8e\u4e24\u4e2a\u5730\u65b9\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"this.employees.length\uff1a\u8bbf\u95ee\u7c7b Manager \u7684\u5f53\u524d\u5b9e\u4f8b\u7684\u53d8\u91cf\u3002"),(0,l.kt)("li",{parentName:"ul"},"this.report\uff08\uff09\uff1a\u8c03\u7528\u7c7b Manager \u7684\u5f53\u524d\u5b9e\u4f8b\u7684\u65b9\u6cd5\u3002")),(0,l.kt)("p",null,"\u6b64\u5173\u952e\u5b57\u662f\u53ef\u9009\u7684\uff0c\u8fd9\u610f\u5473\u7740\u5982\u679c\u4e0a\u9762\u7684\u793a\u4f8b\u5728\u4e0d\u4f7f\u7528\u6b64\u5173\u952e\u5b57\u7684\u60c5\u51b5\u4e0b\u8868\u73b0\u76f8\u540c\u3002 \u4f46\u662f\uff0c\u4f7f\u7528\u6b64\u5173\u952e\u5b57\u53ef\u80fd\u4f1a\u4f7f\u4ee3\u7801\u66f4\u6613\u8bfb\u6216\u6613\u61c2\u3002"),(0,l.kt)("h4",{id:"super-\u5173\u952e\u5b57"},"super \u5173\u952e\u5b57"),(0,l.kt)("p",null,"super \u5173\u952e\u5b57\u7528\u4e8e\u4ece\u5b50\u7c7b\u8bbf\u95ee\u7236\u7c7b\u7684\u53d8\u91cf\u548c\u65b9\u6cd5\u3002 \u4f8b\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public class Super {\n    protected int number;\n    protected showNumber() {\n        System.out.println("number = " + number);\n    }\n}\npublic class Sub extends Super {\n    void bar() {\n        super.number = 10;\n        super.showNumber();\n    }\n}\n')),(0,l.kt)("p",null,"\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0cSub \u7c7b\u8bbf\u95ee\u7236\u7c7b\u6210\u5458\u53d8\u91cf number \u5e76\u8c03\u7528\u5176\u7236\u7c7b Super \u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"showNumber\uff08\uff09")," \u65b9\u6cd5\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4f7f\u7528 this \u548c super \u8981\u6ce8\u610f\u7684\u95ee\u9898\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5728\u6784\u9020\u5668\u4e2d\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"super()")," \u8c03\u7528\u7236\u7c7b\u4e2d\u7684\u5176\u4ed6\u6784\u9020\u65b9\u6cd5\u65f6\uff0c\u8be5\u8bed\u53e5\u5fc5\u987b\u5904\u4e8e\u6784\u9020\u5668\u7684\u9996\u884c\uff0c\u5426\u5219\u7f16\u8bd1\u5668\u4f1a\u62a5\u9519\u3002\u53e6\u5916\uff0cthis \u8c03\u7528\u672c\u7c7b\u4e2d\u7684\u5176\u4ed6\u6784\u9020\u65b9\u6cd5\u65f6\uff0c\u4e5f\u8981\u653e\u5728\u9996\u884c\u3002"),(0,l.kt)("li",{parentName:"ul"},"this\u3001super \u4e0d\u80fd\u7528\u5728 static \u65b9\u6cd5\u4e2d\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7b80\u5355\u89e3\u91ca\u4e00\u4e0b\uff1a")),(0,l.kt)("p",null,"\u88ab static \u4fee\u9970\u7684\u6210\u5458\u5c5e\u4e8e\u7c7b\uff0c\u4e0d\u5c5e\u4e8e\u5355\u4e2a\u8fd9\u4e2a\u7c7b\u7684\u67d0\u4e2a\u5bf9\u8c61\uff0c\u88ab\u7c7b\u4e2d\u6240\u6709\u5bf9\u8c61\u5171\u4eab\u3002\u800c this \u4ee3\u8868\u5bf9\u672c\u7c7b\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u6307\u5411\u672c\u7c7b\u5bf9\u8c61\uff1b\u800c super \u4ee3\u8868\u5bf9\u7236\u7c7b\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u6307\u5411\u7236\u7c7b\u5bf9\u8c61\uff1b\u6240\u4ee5\uff0c ",(0,l.kt)("strong",{parentName:"p"},"this \u548c super \u662f\u5c5e\u4e8e\u5bf9\u8c61\u8303\u7574\u7684\u4e1c\u897f\uff0c\u800c\u9759\u6001\u65b9\u6cd5\u662f\u5c5e\u4e8e\u7c7b\u8303\u7574\u7684\u4e1c\u897f"),"\u3002"),(0,l.kt)("h3",{id:"this\u4e0esuper\u7684\u533a\u522b"},"this\u4e0esuper\u7684\u533a\u522b"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"super:\u5b83\u5f15\u2f64\u5f53\u524d\u5bf9\u8c61\u7684\u76f4\u63a5\u2f57\u7c7b\u4e2d\u7684\u6210\u5458\uff08\u2f64\u6765\u8bbf\u95ee\u76f4\u63a5\u2f57\u7c7b\u4e2d\u88ab\u9690\u85cf\u7684\u2f57\u7c7b\u4e2d\u6210\u5458\u6570\u636e\u6216\u51fd\u6570\uff0c\u57fa\u7c7b\u4e0e\u6d3e\u2f63\u7c7b\u4e2d\u6709\u76f8\u540c\u6210\u5458\u5b9a\u4e49\u65f6\u5982\uff1asuper.\u53d8\u91cf\u540dsuper.\u6210\u5458\u51fd\u6570\u636e\u540d\uff08\u5b9e\u53c2\uff09"),(0,l.kt)("li",{parentName:"ul"},"this\uff1a\u5b83\u4ee3\u8868\u5f53\u524d\u5bf9\u8c61\u540d\uff08\u5728\u7a0b\u5e8f\u4e2d\u6613\u4ea7\u2f63\u2f06\u4e49\u6027\u4e4b\u5904\uff0c\u5e94\u4f7f\u2f64this\u6765\u6307\u660e\u5f53\u524d\u5bf9\u8c61\uff1b\u5982\u679c\u51fd\u6570\u7684\u5f62\u53c2\u4e0e\u7c7b\u4e2d\u7684\u6210\u5458\u6570\u636e\u540c\u540d\uff0c\u8fd9\u65f6\u9700\u2f64this\u6765\u6307\u660e\u6210\u5458\u53d8\u91cf\u540d\uff09"),(0,l.kt)("li",{parentName:"ul"},"\ud83d\udc7bsuper()\u548cthis()\u7c7b\u4f3c\uff0c\u533a\u522b\u662f\uff1asuper()\u5728\u2f26\u7c7b\u4e2d\u8c03\u2f64\u2f57\u7c7b\u7684\u6784\u9020\u2f45\u6cd5\uff0cthis()\u5728\u672c\u7c7b\u5185\u8c03\u2f64\u672c\u7c7b\u7684\u5176\u5b83\u6784\u9020\u2f45\u6cd5\u3002"),(0,l.kt)("li",{parentName:"ul"},"\ud83d\udc7bsuper()\u548cthis()\u5747\u9700\u653e\u5728\u6784\u9020\u2f45\u6cd5\u5185\u7b2c\u2f00\u2f8f\u3002"),(0,l.kt)("li",{parentName:"ul"},"\ud83d\udc7bthis\u548csuper\u4e0d\u80fd\u540c\u65f6\u51fa\u73b0\u5728\u2f00\u4e2a\u6784\u9020\u51fd\u6570\u2fa5\u2faf\uff0c\u56e0\u4e3athis\u5fc5\u7136\u4f1a\u8c03\u2f64\u5176\u5b83\u7684\u6784\u9020\u51fd\u6570\uff0c\u5176\u5b83\u7684\u6784\u9020\u51fd\u6570\u5fc5\u7136\u4e5f\u4f1a\u6709super\u8bed\u53e5\u7684\u5b58\u5728\uff0c\u6240\u4ee5\u5728\u540c\u2f00\u4e2a\u6784\u9020\u51fd\u6570\u2fa5\u2faf\u6709\u76f8\u540c\u7684\u8bed\u53e5\uff0c\u5c31\u5931\u53bb\u4e86\u8bed\u53e5\u7684\u610f\u4e49\uff0c\u7f16\u8bd1\u5668\u4e5f\u4e0d\u4f1a\u901a\u8fc7\u3002"),(0,l.kt)("li",{parentName:"ul"},"this()\u548csuper()\u90fd\u6307\u7684\u662f\u5bf9\u8c61\uff0c\u6240\u4ee5\uff0c\u5747\u4e0d\u53ef\u4ee5\u5728static\u73af\u5883\u4e2d\u4f7f\u2f64\u3002\u5305\u62ec\uff1astatic\u53d8\u91cf,static\u2f45\u6cd5\uff0cstatic\u8bed\u53e5\u5757\u3002"),(0,l.kt)("li",{parentName:"ul"},"\ud83d\udc7b\u4ece\u672c\u8d28\u4e0a\u8bb2\uff0cthis\u662f\u2f00\u4e2a\u6307\u5411\u672c\u5bf9\u8c61\u7684\u6307\u9488,\u7136\u2f7dsuper\u662f\u2f00\u4e2aJava\u5173\u952e\u5b57\u3002")),(0,l.kt)("h3",{id:"\u9759\u6001\u4ee3\u7406\u548c\u52a8\u6001\u4ee3\u7406"},"\u9759\u6001\u4ee3\u7406\u548c\u52a8\u6001\u4ee3\u7406"),(0,l.kt)("h4",{id:"\u6982\u8ff0"},"\u6982\u8ff0"),(0,l.kt)("p",null,"\u4ee3\u7406\u6a21\u5f0f\u5c31\u662f ",(0,l.kt)("strong",{parentName:"p"},"\u4f7f\u7528\u4ee3\u7406\u5bf9\u8c61\u6765\u4ee3\u66ff\u5bf9\u771f\u5b9e\u5bf9\u8c61\u7684\u8bbf\u95ee\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728\u4e0d\u4fee\u6539\u539f\u76ee\u6807\u5bf9\u8c61\u7684\u524d\u63d0\u4e0b\uff0c\u63d0\u4f9b\u989d\u5916\u7684\u529f\u80fd\u64cd\u4f5c\uff0c\u6269\u5c55\u76ee\u6807\u5bf9\u8c61\u7684\u529f\u80fd\u3002")),(0,l.kt)("p",null,"\u4ee3\u7406\u6a21\u5f0f\u5927\u81f4\u6709\u4e09\u79cd\u89d2\u8272\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Real Subject\uff1a\u771f\u5b9e\u7c7b\uff0c\u4e5f\u5c31\u662f\u88ab\u4ee3\u7406\u7c7b\u3001\u59d4\u6258\u7c7b\u3002\u7528\u6765\u771f\u6b63\u5b8c\u6210\u4e1a\u52a1\u670d\u52a1\u529f\u80fd\uff1b"),(0,l.kt)("li",{parentName:"ul"},"Proxy\uff1a\u4ee3\u7406\u7c7b\u3002\u5c06\u81ea\u8eab\u7684\u8bf7\u6c42\u7528 Real Subject \u5bf9\u5e94\u7684\u529f\u80fd\u6765\u5b9e\u73b0\uff0c\u4ee3\u7406\u7c7b\u5bf9\u8c61\u5e76\u4e0d\u771f\u6b63\u7684\u53bb\u5b9e\u73b0\u5176\u4e1a\u52a1\u529f\u80fd\uff1b"),(0,l.kt)("li",{parentName:"ul"},"Subject\uff1a\u5b9a\u4e49 RealSubject \u548c Proxy \u89d2\u8272\u90fd\u5e94\u8be5\u5b9e\u73b0\u7684\u63a5\u53e3\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(84104).Z,width:"1184",height:"533"})),(0,l.kt)("p",null,"\u901a\u4fd7\u6765\u8bf4\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4ee3\u7406\u6a21\u5f0f\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u6269\u5c55\u76ee\u6807\u5bf9\u8c61\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u8bf4\u5728\u76ee\u6807\u5bf9\u8c61\u7684\u67d0\u4e2a\u65b9\u6cd5\u6267\u884c\u524d\u540e\u4f60\u53ef\u4ee5\u589e\u52a0\u4e00\u4e9b\u989d\u5916\u7684\u64cd\u4f5c\uff0c\u5e76\u4e14\u4e0d\u7528\u4fee\u6539\u8fd9\u4e2a\u65b9\u6cd5\u7684\u539f\u6709\u4ee3\u7801"),"\u3002\u5982\u679c\u5927\u5bb6\u5b66\u8fc7 Spring \u7684 AOP\uff0c\u4e00\u5b9a\u80fd\u591f\u5f88\u597d\u7684\u7406\u89e3\u8fd9\u53e5\u8bdd\u3002"),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff1a\u4f60\u627e\u4e86\u5c0f\u7ea2\u6765\u5e2e\u4f60\u5411\u5c0f\u7eff\u95ee\u8bdd\uff0c\u5c0f\u7ea2\u5c31\u770b\u4f5c\u662f\u4ee3\u7406\u6211\u7684\u4ee3\u7406\u7c7b Proxy\uff0c\u800c\u4f60\u662f Real Subject\uff0c\u56e0\u4e3a\u5c0f\u7ea2\u8981\u4f20\u8fbe\u7684\u8bdd\u5176\u5b9e\u662f\u4f60\u8bf4\u7684\u3002\u90a3\u4e48\u4f60\u548c\u5c0f\u7ea2\u90fd\u9700\u8981\u5b9e\u73b0\u7684\u63a5\u53e3\uff08Subject\uff09\u5c31\u662f\u8bf4\u8bdd\uff0c\u7531\u4e8e\u4f60\u4fe9\u90fd\u80fd\u8bf4\u8bdd\uff0c\u5728\u5916\u754c\u770b\u6765\u4f60\u4fe9\u5c31\u662f\u4e00\u6837\u7684"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723002924420",src:n(48820).Z,width:"1292",height:"277"})),(0,l.kt)("p",null,"\u770b\u5230\u8fd9\u91cc\uff0c\u4e0d\u77e5\u9053\u5927\u5bb6\u80fd\u4e0d\u80fd\u7406\u89e3\u4e86\u4e3a\u4ec0\u4e48\u59d4\u6258\u7c7b\u548c\u4ee3\u7406\u7c7b\u90fd\u9700\u8981\u5b9e\u73b0\u76f8\u540c\u7684\u63a5\u53e3\uff1f"),(0,l.kt)("p",null,"\u90a3\u662f\u4e3a\u4e86\u4fdd\u6301\u884c\u4e3a\u7684\u4e00\u81f4\u6027\uff0c\u5728\u8bbf\u95ee\u8005\u770b\u6765\u4e24\u8005\u4e4b\u95f4\u5c31\u6ca1\u6709\u533a\u522b\u3002\u8fd9\u6837\uff0c\u901a\u8fc7\u4ee3\u7406\u7c7b\u8fd9\u4e2a\u4e2d\u95f4\u5c42\uff0c\u5f88\u597d\u5730\u9690\u85cf\u548c\u4fdd\u62a4\u4e86\u59d4\u6258\u7c7b\u5bf9\u8c61\uff0c\u80fd",(0,l.kt)("strong",{parentName:"p"},"\u6709\u6548\u5c4f\u853d\u5916\u754c\u5bf9\u59d4\u6258\u7c7b\u5bf9\u8c61\u7684\u76f4\u63a5\u8bbf\u95ee"),"\u3002\u540c\u65f6\uff0c\u4e5f\u53ef\u4ee5\u5728\u4ee3\u7406\u7c7b\u4e0a\u52a0\u4e0a\u989d\u5916\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982",(0,l.kt)("strong",{parentName:"p"},"\u5c0f\u7ea2\u5728\u8bf4\u8bdd\u4e4b\u524d\u4f1a\u8df3\u4e00\u6bb5\u821e\uff0c\u5916\u754c\u5c31\u4f1a\u89c9\u5f97\u4f60\u5728\u8bf4\u8bdd\u524d\u4f1a\u8df3\u4e00\u6bb5\u821e\uff0c\u6240\u4ee5\uff0c\u8fd9\u5c31\u5b9e\u73b0\u4e86\u59d4\u6258\u7c7b\u7684\u529f\u80fd\u589e\u5f3a"),"\u3002"),(0,l.kt)("p",null,"\u4ee3\u7406\u6a21\u5f0f\u6709\u9759\u6001\u4ee3\u7406\u548c\u52a8\u6001\u4ee3\u7406\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f\u3002"),(0,l.kt)("h4",{id:"\u9759\u6001\u4ee3\u7406"},"\u9759\u6001\u4ee3\u7406"),(0,l.kt)("p",null,"\u5148\u6765\u770b\u9759\u6001\u4ee3\u7406\u7684\u5b9e\u73b0\u6b65\u9aa4\uff1a"),(0,l.kt)("p",null,"1\uff09\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\uff08Subject\uff09"),(0,l.kt)("p",null,"2\uff09\u521b\u5efa\u4e00\u4e2a\u59d4\u6258\u7c7b\uff08Real Subject\uff09\u5b9e\u73b0\u8fd9\u4e2a\u63a5\u53e3"),(0,l.kt)("p",null,"3\uff09\u521b\u5efa\u4e00\u4e2a\u4ee3\u7406\u7c7b\uff08Proxy\uff09\u540c\u6837\u5b9e\u73b0\u8fd9\u4e2a\u63a5\u53e3"),(0,l.kt)("p",null,"4\uff09",(0,l.kt)("strong",{parentName:"p"},"\u5c06\u59d4\u6258\u7c7b Real Subject \u6ce8\u5165\u8fdb\u4ee3\u7406\u7c7b Proxy"),"\uff0c\u5728\u4ee3\u7406\u7c7b\u7684\u65b9\u6cd5\u4e2d\u8c03\u7528 Real Subject \u4e2d\u7684\u5bf9\u5e94\u65b9\u6cd5\u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u4ee3\u7406\u7c7b\u5c4f\u853d\u5bf9\u76ee\u6807\u5bf9\u8c61\u7684\u8bbf\u95ee\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u76ee\u6807\u65b9\u6cd5\u6267\u884c\u524d\u540e\u505a\u4e00\u4e9b\u81ea\u5df1\u60f3\u505a\u7684\u4e8b\u60c5\u3002"),(0,l.kt)("p",null,"\u4ece\u5b9e\u73b0\u548c\u5e94\u7528\u89d2\u5ea6\u6765\u8bf4\uff0c\u9759\u6001\u4ee3\u7406\u4e2d\uff0c\u6211\u4eec\u5bf9\u76ee\u6807\u5bf9\u8c61\u7684\u6bcf\u4e2a\u65b9\u6cd5\u7684\u589e\u5f3a\u90fd\u662f\u624b\u52a8\u5b8c\u6210\u7684\uff0c\u975e\u5e38\u4e0d\u7075\u6d3b\uff08\u6bd4\u5982\u63a5\u53e3\u4e00\u65e6\u65b0\u589e\u52a0\u65b9\u6cd5\uff0c\u76ee\u6807\u5bf9\u8c61\u548c\u4ee3\u7406\u5bf9\u8c61\u90fd\u8981\u8fdb\u884c\u4fee\u6539\uff09\u4e14\u9ebb\u70e6\uff08\u9700\u8981\u5bf9\u6bcf\u4e2a\u76ee\u6807\u7c7b\u90fd\u5355\u72ec\u5199\u4e00\u4e2a\u4ee3\u7406\u7c7b\uff09\u3002 \u5b9e\u9645\u5e94\u7528\u573a\u666f\u975e\u5e38\u975e\u5e38\u5c11\uff0c\u65e5\u5e38\u5f00\u53d1\u51e0\u4e4e\u770b\u4e0d\u5230\u4f7f\u7528\u9759\u6001\u4ee3\u7406\u7684\u573a\u666f\u3002"),(0,l.kt)("p",null,"\u4ece JVM \u5c42\u9762\u6765\u8bf4\uff0c ",(0,l.kt)("strong",{parentName:"p"},"\u9759\u6001\u4ee3\u7406\u5728\u7f16\u8bd1\u65f6\u5c31\u5c06\u63a5\u53e3\u3001\u59d4\u6258\u7c7b\u3001\u4ee3\u7406\u7c7b\u8fd9\u4e9b\u90fd\u53d8\u6210\u4e86\u4e00\u4e2a\u4e2a\u5b9e\u9645\u7684 ",(0,l.kt)("inlineCode",{parentName:"strong"},".class")," \u6587\u4ef6\u3002")),(0,l.kt)("p",null,"1\uff09\u5b9a\u4e49\u53d1\u9001\u77ed\u4fe1\u7684\u63a5\u53e3"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public interface SmsService {\n    String send(String message);\n}\n")),(0,l.kt)("p",null,"2\uff09\u521b\u5efa\u4e00\u4e2a\u59d4\u6258\u7c7b\uff08Real Subject\uff09\u5b9e\u73b0\u8fd9\u4e2a\u63a5\u53e3"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public class SmsServiceImpl implements SmsService {\n    public String send(String message) {\n        System.out.println("send message:" + message);\n        return message;\n    }\n}\n')),(0,l.kt)("p",null,"3\uff09\u521b\u5efa\u4e00\u4e2a\u4ee3\u7406\u7c7b\uff08Proxy\uff09\u540c\u6837\u5b9e\u73b0\u8fd9\u4e2a\u63a5\u53e3"),(0,l.kt)("p",null,"4\uff09\u5c06\u59d4\u6258\u7c7b Real Subject \u6ce8\u5165\u8fdb\u4ee3\u7406\u7c7b Proxy\uff0c\u5728\u4ee3\u7406\u7c7b\u7684\u65b9\u6cd5\u4e2d\u8c03\u7528 Real Subject \u4e2d\u7684\u5bf9\u5e94\u65b9\u6cd5\u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u4ee3\u7406\u7c7b\u5c4f\u853d\u5bf9\u76ee\u6807\u5bf9\u8c61\u7684\u8bbf\u95ee\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u76ee\u6807\u65b9\u6cd5\u6267\u884c\u524d\u540e\u505a\u4e00\u4e9b\u81ea\u5df1\u60f3\u505a\u7684\u4e8b\u60c5\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public class SmsProxy implements SmsService {\n\n    // \u5c06\u59d4\u6258\u7c7b\u6ce8\u5165\u8fdb\u4ee3\u7406\u7c7b\n    private final SmsService smsService;\n\n    public SmsProxy(SmsService smsService) {\n        this.smsService = smsService;\n    }\n\n    @Override\n    public String send(String message) {\n        // \u8c03\u7528\u59d4\u6258\u7c7b\u65b9\u6cd5\u4e4b\u524d\uff0c\u6211\u4eec\u53ef\u4ee5\u6dfb\u52a0\u81ea\u5df1\u7684\u64cd\u4f5c\n        System.out.println("before method send()");\n        // \u8c03\u7528\u59d4\u6258\u7c7b\u65b9\u6cd5\n        smsService.send(message); \n        // \u8c03\u7528\u59d4\u6258\u7c7b\u65b9\u6cd5\u4e4b\u540e\uff0c\u6211\u4eec\u540c\u6837\u53ef\u4ee5\u6dfb\u52a0\u81ea\u5df1\u7684\u64cd\u4f5c\n        System.out.println("after method send()");\n        return null;\n    }\n}\n')),(0,l.kt)("p",null,"\u90a3\u4e48\uff0c\u5982\u4f55\u4f7f\u7528\u8fd9\u4e2a\u88ab\u589e\u5f3a\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"send")," \u65b9\u6cd5\u5462\uff1f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public class Main {\n    public static void main(String[] args) {\n        SmsService smsService = new SmsServiceImpl();\n        SmsProxy smsProxy = new SmsProxy(smsService);\n        smsProxy.send("Java");\n    }\n}\n')),(0,l.kt)("p",null,"\u8fd0\u884c\u4e0a\u8ff0\u4ee3\u7801\u4e4b\u540e\uff0c\u63a7\u5236\u53f0\u6253\u5370\u51fa\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"before method send()\nsend message:java\nafter method send()\n")),(0,l.kt)("p",null,"\u4ece\u8f93\u51fa\u7ed3\u679c\u53ef\u4ee5\u770b\u51fa\uff0c\u6211\u4eec\u5df2\u7ecf\u589e\u5f3a\u4e86\u59d4\u6258\u7c7b ",(0,l.kt)("inlineCode",{parentName:"p"},"SmsServiceImpl"),"  \u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"send()")," \u65b9\u6cd5\u3002"),(0,l.kt)("p",null,"\u5f53\u7136\uff0c\u4ece\u4e0a\u8ff0\u4ee3\u7801\u6211\u4eec\u4e5f\u80fd\u770b\u51fa\u6765\uff0c\u9759\u6001\u4ee3\u7406\u5b58\u5728\u4e00\u5b9a\u7684\u5f0a\u7aef\u3002\u5047\u5982\u8bf4\u6211\u4eec\u73b0\u5728\u65b0\u589e\u4e86\u4e00\u4e2a\u59d4\u6258\u7c7b\u5b9e\u73b0\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"SmsService")," \u63a5\u53e3\uff0c\u5982\u679c\u6211\u4eec\u60f3\u8981\u5bf9\u8fd9\u4e2a\u59d4\u6258\u7c7b\u8fdb\u884c\u589e\u5f3a\uff0c\u5c31\u9700\u8981\u91cd\u65b0\u5199\u4e00\u4e2a\u4ee3\u7406\u7c7b\uff0c\u7136\u540e\u6ce8\u5165\u8fd9\u4e2a\u65b0\u7684\u59d4\u6258\u7c7b\uff0c\u975e\u5e38\u4e0d\u7075\u6d3b\u3002\u4e5f\u5c31\u662f\u8bf4\u9759\u6001\u4ee3\u7406\u662f\u4e00\u4e2a\u59d4\u6258\u4e86\u5bf9\u5e94\u4e00\u4e2a\u4ee3\u7406\u7c7b\uff0c\u80fd\u4e0d\u80fd",(0,l.kt)("strong",{parentName:"p"},"\u5c06\u4ee3\u7406\u7c7b\u505a\u6210\u4e00\u4e2a\u901a\u7528\u7684"),"\u5462\uff1f\u4e3a\u6b64\uff0c\u52a8\u6001\u4ee3\u7406\u5e94\u7528\u800c\u751f\u3002"),(0,l.kt)("h4",{id:"java-\u5b57\u8282\u7801\u751f\u6210\u6846\u67b6"},"Java \u5b57\u8282\u7801\u751f\u6210\u6846\u67b6"),(0,l.kt)("p",null,"\u5728\u8bb2\u89e3\u52a8\u6001\u4e4b\u524d\uff0c\u6211\u4eec\u6709\u5fc5\u8981\u8be6\u7ec6\u8bf4\u4e00\u4e0b ",(0,l.kt)("inlineCode",{parentName:"p"},".class")," \u5b57\u8282\u7801\u6587\u4ef6\u8fd9\u4e2a\u4e1c\u897f\u3002\u52a8\u6001\u4ee3\u7406\u673a\u5236\u548c Java \u5b57\u8282\u7801\u751f\u6210\u6846\u67b6\u606f\u606f\u76f8\u5173\u3002"),(0,l.kt)("p",null,"\u5728\u4e0a\u6587\u53cd\u5c04\u4e2d\u6211\u4eec\u63d0\u5230\uff0c\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"Class")," \u7c7b\u5bf9\u5e94\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},".class")," \u5b57\u8282\u7801\u6587\u4ef6\uff0c\u4e5f\u5c31\u8bf4\u5b57\u8282\u7801\u6587\u4ef6\u4e2d\u5b58\u50a8\u4e86\u4e00\u4e2a\u7c7b\u7684\u5168\u90e8\u4fe1\u606f\u3002\u5b57\u8282\u7801\u5176\u5b9e\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5185\u5bb9\u662f\u53ea\u6709 JVM \u80fd\u591f\u8bc6\u522b\u7684\u673a\u5668\u7801\u3002"),(0,l.kt)("p",null,"\u89e3\u6790\u8fc7\u7a0b\u8fd9\u6837\u7684\uff1aJVM \u8bfb\u53d6 ",(0,l.kt)("inlineCode",{parentName:"p"},".class")," \u5b57\u8282\u7801\u6587\u4ef6\uff0c\u53d6\u51fa\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\uff0c\u89e3\u6790\u5b57\u8282\u7801\u6587\u4ef6\u5185\u7684\u4fe1\u606f\uff0c\u751f\u6210\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Class")," \u7c7b\u5bf9\u8c61\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723003010392",src:n(61632).Z,width:"1491",height:"911"})),(0,l.kt)("p",null,"\u663e\u7136\uff0c\u4e0a\u8ff0\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u5728\u7f16\u8bd1\u671f\u5c31\u53d1\u751f\u7684\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\uff0c\u7531\u4e8eJVM \u662f\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},".class")," \u5b57\u8282\u7801\u6587\u4ef6\uff08\u4e5f\u5c31\u662f\u4e8c\u8fdb\u5236\u4fe1\u606f\uff09\u52a0\u8f7d\u7c7b\u7684\uff0c\u5982\u679c\u6211\u4eec\u5728\u8fd0\u884c\u671f\u9075\u5faa Java \u7f16\u8bd1\u7cfb\u7edf\u7ec4\u7ec7 ",(0,l.kt)("inlineCode",{parentName:"p"},".class")," \u5b57\u8282\u7801\u6587\u4ef6\u7684\u683c\u5f0f\u548c\u7ed3\u6784\uff0c\u751f\u6210\u76f8\u5e94\u7684\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u7136\u540e\u518d\u628a\u8fd9\u4e2a\u4e8c\u8fdb\u5236\u6570\u636e\u52a0\u8f7d\u8f6c\u6362\u6210\u5bf9\u5e94\u7684\u7c7b\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u4e0d\u5c31\u5b8c\u6210\u4e86\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u7684\u521b\u5efa\u4e00\u4e2a\u7c7b\u3002\u8fd9\u4e2a\u601d\u60f3\u5176\u5b9e\u4e5f\u5c31\u662f\u52a8\u6001\u4ee3\u7406\u7684\u601d\u60f3\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723003018675",src:n(85157).Z,width:"1734",height:"965"})),(0,l.kt)("p",null,"\u5728\u8fd0\u884c\u65f6\u671f\u6309\u7167 JVM \u89c4\u8303\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"p"},".class")," \u5b57\u8282\u7801\u6587\u4ef6\u7684\u7ec4\u7ec7\u89c4\u5219\uff0c\u751f\u6210\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u3002\u5f53\u524d\u6709\u5f88\u591a\u5f00\u6e90\u6846\u67b6\u53ef\u4ee5\u5b8c\u6210\u8fd9\u4e2a\u529f\u80fd\uff0c\u5982"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"ASM"),(0,l.kt)("li",{parentName:"ul"},"CGLIB"),(0,l.kt)("li",{parentName:"ul"},"Javassist"),(0,l.kt)("li",{parentName:"ul"},"......")),(0,l.kt)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c",(0,l.kt)("strong",{parentName:"p"},"CGLIB \u662f\u57fa\u4e8e ASM \u7684"),"\u3002 \u8fd9\u91cc\u7b80\u5355\u5bf9\u6bd4\u4e00\u4e0b ASM \u548c Javassist\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Javassist \u6e90\u4ee3\u7801\u7ea7 API \u6bd4 ASM \u4e2d\u5b9e\u9645\u7684\u5b57\u8282\u7801\u64cd\u4f5c\u66f4\u5bb9\u6613\u4f7f\u7528"),(0,l.kt)("li",{parentName:"ul"},"Javassist \u5728\u590d\u6742\u7684\u5b57\u8282\u7801\u7ea7\u64cd\u4f5c\u4e0a\u63d0\u4f9b\u4e86\u66f4\u9ad8\u7ea7\u522b\u7684\u62bd\u8c61\u5c42\u3002Javassist \u6e90\u4ee3\u7801\u7ea7 API \u53ea\u9700\u8981\u5f88\u5c11\u7684\u5b57\u8282\u7801\u77e5\u8bc6\uff0c\u751a\u81f3\u4e0d\u9700\u8981\u4efb\u4f55\u5b9e\u9645\u5b57\u8282\u7801\u77e5\u8bc6\uff0c\u56e0\u6b64\u5b9e\u73b0\u8d77\u6765\u66f4\u5bb9\u6613\u3001\u66f4\u5feb\u3002"),(0,l.kt)("li",{parentName:"ul"},"Javassist \u4f7f\u7528\u53cd\u5c04\u673a\u5236\uff0c\u8fd9\u4f7f\u5f97\u5b83\u6bd4 ASM \u6162\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u603b\u7684\u6765\u8bf4 ASM \u6bd4 Javassist \u5feb\u5f97\u591a\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e86\u66f4\u597d\u7684\u6027\u80fd\uff0c\u4f46\u662f Javassist \u76f8\u5bf9\u6765\u8bf4\u66f4\u5bb9\u6613\u4f7f\u7528"),"\uff0c\u4e24\u8005\u5404\u6709\u5343\u79cb\u3002"),(0,l.kt)("p",null,"\u4ee5 Javassist \u4e3a\u4f8b\uff0c\u6211\u4eec\u6765\u770b\u770b\u8fd9\u4e9b\u6846\u67b6\u5728\u8fd0\u884c\u65f6\u751f\u6210 ",(0,l.kt)("inlineCode",{parentName:"p"},".class")," \u5b57\u8282\u7801\u6587\u4ef6\u7684\u5f3a\u5927\u80fd\u529b\u3002"),(0,l.kt)("p",null,"\u6b63\u5e38\u6765\u8bf4\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u7c7b\u7684\u4ee3\u7801\u662f\u8fd9\u6837\u7684\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'package com.samples;\n\npublic class Programmer {\n    public void code(){\n        System.out.println("I\'m a Programmer,Just Coding.....");\n    }\n}\n')),(0,l.kt)("p",null,"\u4e0b\u9762\u901a\u8fc7 Javassist \u521b\u5efa\u548c\u4e0a\u9762\u4e00\u6a21\u4e00\u6837\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Programmer")," \u7c7b\u7684\u5b57\u8282\u7801\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'import javassist.ClassPool;\nimport javassist.CtClass;\nimport javassist.CtMethod;\nimport javassist.CtNewMethod;\n\npublic class MyGenerator {\n    public static void main(String[] args) throws Exception {\n        ClassPool pool = ClassPool.getDefault();\n          // \u521b\u5efa Programmer \u7c7b        \n        CtClass cc= pool.makeClass("com.samples.Programmer");\n        // \u5b9a\u4e49\u65b9\u6cd5\n        CtMethod method = CtNewMethod.make("public void code(){}", cc);\n        // \u63d2\u5165\u65b9\u6cd5\u4ee3\u7801\n        method.insertBefore("System.out.println(\\"I\'m a Programmer,Just Coding.....\\");");\n        cc.addMethod(method);\n        // \u4fdd\u5b58\u751f\u6210\u7684\u5b57\u8282\u7801\n        cc.writeFile("d://temp");\n    }\n}\n')),(0,l.kt)("p",null,"\u901a\u8fc7\u53cd\u7f16\u8bd1\u5de5\u5177\u6253\u5f00 ",(0,l.kt)("inlineCode",{parentName:"p"},"Programmer.class")," \u53ef\u4ee5\u770b\u5230\u4ee5\u4e0b\u4ee3\u7801\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723003032359",src:n(15194).Z,width:"1234",height:"555"})),(0,l.kt)("h4",{id:"\u52a8\u6001\u4ee3\u7406"},"\u52a8\u6001\u4ee3\u7406"),(0,l.kt)("p",null,"\u4e86\u89e3\u4e86 Java \u5b57\u8282\u7801\u751f\u6210\u6846\u67b6\uff0c\u53ef\u4ee5\u5f00\u59cb\u5b66\u4e60\u52a8\u6001\u4ee3\u7406\uff08Dynamic Proxy\uff09\u4e86\u3002"),(0,l.kt)("p",null,"\u56de\u987e\u4e00\u4e0b\u9759\u6001\u4ee3\u7406\uff0c\u6211\u4eec\u628a\u9759\u6001\u4ee3\u7406\u7684\u6267\u884c\u8fc7\u7a0b\u62bd\u8c61\u4e3a\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723003049255",src:n(36802).Z,width:"1228",height:"967"})),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u89c1\uff0c\u4ee3\u7406\u7c7b\u65e0\u975e\u662f\u5728\u8c03\u7528\u59d4\u6258\u7c7b\u65b9\u6cd5\u7684\u524d\u540e\u589e\u52a0\u4e86\u4e00\u4e9b\u64cd\u4f5c\u3002\u59d4\u6258\u7c7b\u7684\u4e0d\u540c\uff0c\u4e5f\u5c31\u5bfc\u81f4\u4ee3\u7406\u7c7b\u7684\u4e0d\u540c\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\u4e3a\u4e86\u505a\u4e00\u4e2a\u901a\u7528\u6027\u7684\u4ee3\u7406\u7c7b\u51fa\u6765\uff0c\u6211\u4eec\u628a\u8c03\u7528\u59d4\u6258\u7c7b\u65b9\u6cd5\u7684\u8fd9\u4e2a\u52a8\u4f5c\u62bd\u53d6\u51fa\u6765\uff0c\u628a\u5b83\u5c01\u88c5\u6210\u4e00\u4e2a\u901a\u7528\u6027\u7684\u5904\u7406\u7c7b\uff0c\u4e8e\u662f\u5c31\u6709\u4e86\u52a8\u6001\u4ee3\u7406\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"InvocationHandler")," \u89d2\u8272\uff08\u5904\u7406\u7c7b\uff09\u3002"),(0,l.kt)("p",null,"\u4e8e\u662f\uff0c\u5728\u4ee3\u7406\u7c7b\u548c\u59d4\u6258\u7c7b\u4e4b\u95f4\u5c31\u591a\u4e86\u4e00\u4e2a\u5904\u7406\u7c7b\u7684\u89d2\u8272\uff0c\u8fd9\u4e2a\u89d2\u8272\u4e3b\u8981\u662f",(0,l.kt)("strong",{parentName:"p"},"\u5bf9\u4ee3\u7406\u7c7b\u8c03\u7528\u59d4\u6258\u7c7b\u65b9\u6cd5\u7684\u8fd9\u4e2a\u52a8\u4f5c\u8fdb\u884c\u7edf\u4e00\u7684\u8c03\u7528"),"\uff0c\u4e5f\u5c31\u662f\u7531 ",(0,l.kt)("inlineCode",{parentName:"p"},"InvocationHandler")," \u6765\u7edf\u4e00\u5904\u7406\u4ee3\u7406\u7c7b\u8c03\u7528\u59d4\u6258\u7c7b\u65b9\u6cd5\u8fd9\u4e2a\u64cd\u4f5c\u3002\u770b\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723003057769",src:n(88750).Z,width:"1485",height:"540"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4ece JVM \u89d2\u5ea6\u6765\u8bf4\uff0c\u52a8\u6001\u4ee3\u7406\u662f\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u751f\u6210 ",(0,l.kt)("inlineCode",{parentName:"strong"},".class")," \u5b57\u8282\u7801\u6587\u4ef6 \uff0c\u5e76\u52a0\u8f7d\u5230 JVM \u4e2d\u7684"),"\u3002\u8fd9\u4e2a\u6211\u4eec\u5728 Java \u5b57\u8282\u7801\u751f\u6210\u6846\u67b6\u4e2d\u5df2\u7ecf\u63d0\u5230\u8fc7\u3002"),(0,l.kt)("p",null,"\u867d\u7136\u52a8\u6001\u4ee3\u7406\u5728\u6211\u4eec\u65e5\u5e38\u5f00\u53d1\u4e2d\u4f7f\u7528\u7684\u76f8\u5bf9\u8f83\u5c11\uff0c\u4f46\u662f\u5728\u6846\u67b6\u4e2d\u7684\u51e0\u4e4e\u662f\u5fc5\u7528\u7684\u4e00\u95e8\u6280\u672f\u3002\u5b66\u4f1a\u4e86\u52a8\u6001\u4ee3\u7406\u4e4b\u540e\uff0c\u5bf9\u4e8e\u6211\u4eec\u7406\u89e3\u548c\u5b66\u4e60\u5404\u79cd\u6846\u67b6\u7684\u539f\u7406\u4e5f\u975e\u5e38\u6709\u5e2e\u52a9\uff0c",(0,l.kt)("strong",{parentName:"p"},"Spring AOP\u3001RPC \u7b49\u6846\u67b6\u7684\u5b9e\u73b0\u90fd\u4f9d\u8d56\u4e86\u52a8\u6001\u4ee3\u7406"),"\u3002"),(0,l.kt)("p",null,"\u5c31 Java \u6765\u8bf4\uff0c\u52a8\u6001\u4ee3\u7406\u7684\u5b9e\u73b0\u65b9\u5f0f\u6709\u5f88\u591a\u79cd\uff0c\u6bd4\u5982\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"JDK \u52a8\u6001\u4ee3\u7406"),(0,l.kt)("li",{parentName:"ul"},"CGLIB \u52a8\u6001\u4ee3\u7406"),(0,l.kt)("li",{parentName:"ul"},"Javassit \u52a8\u6001\u4ee3\u7406"),(0,l.kt)("li",{parentName:"ul"},"......")),(0,l.kt)("p",null,"\u4e0b\u9762\u8be6\u7ec6\u8bb2\u89e3\u8fd9\u4e09\u79cd\u52a8\u6001\u4ee3\u7406\u673a\u5236\u3002"),(0,l.kt)("h4",{id:"jdk-\u52a8\u6001\u4ee3\u7406\u673a\u5236"},"JDK \u52a8\u6001\u4ee3\u7406\u673a\u5236"),(0,l.kt)("p",null,"\u5148\u6765\u770b\u4e0b JDK \u52a8\u6001\u4ee3\u7406\u673a\u5236\u7684\u4f7f\u7528\u6b65\u9aa4\uff1a"),(0,l.kt)("p",null,"1\uff09\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\uff08Subject\uff09"),(0,l.kt)("p",null,"2\uff09\u521b\u5efa\u4e00\u4e2a\u59d4\u6258\u7c7b\uff08Real Subject\uff09\u5b9e\u73b0\u8fd9\u4e2a\u63a5\u53e3"),(0,l.kt)("p",null,"3\uff09\u521b\u5efa\u4e00\u4e2a\u5904\u7406\u7c7b\u5e76\u5b9e\u73b0 ",(0,l.kt)("inlineCode",{parentName:"p"},"InvocationHandler")," \u63a5\u53e3\uff0c\u91cd\u5199\u5176 ",(0,l.kt)("inlineCode",{parentName:"p"},"invoke")," \u65b9\u6cd5\uff08\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"invoke")," \u65b9\u6cd5\u4e2d\u5229\u7528\u53cd\u5c04\u673a\u5236\u8c03\u7528\u59d4\u6258\u7c7b\u7684\u65b9\u6cd5\uff0c\u5e76\u81ea\u5b9a\u4e49\u4e00\u4e9b\u5904\u7406\u903b\u8f91\uff09\uff0c\u5e76\u5c06\u59d4\u6258\u7c7b\u6ce8\u5165\u5904\u7406\u7c7b"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723003128864",src:n(4834).Z,width:"1339",height:"229"})),(0,l.kt)("p",null,"\u8be5\u65b9\u6cd5\u6709\u4e0b\u9762\u4e09\u4e2a\u53c2\u6570\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"proxy\uff1a\u4ee3\u7406\u7c7b\u5bf9\u8c61\uff08\u89c1\u4e0b\u4e00\u6b65\uff09"),(0,l.kt)("li",{parentName:"ul"},"method\uff1a\u8fd8\u8bb0\u5f97\u6211\u4eec\u5728\u4e0a\u7bc7\u6587\u7ae0\u53cd\u5c04\u4e2d\u8bb2\u5230\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"Method.invoke")," \u5417\uff1f\u5c31\u662f\u8fd9\u4e2a\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b83\u6765\u8c03\u7528\u59d4\u6258\u7c7b\u7684\u65b9\u6cd5\uff08\u53cd\u5c04\uff09")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723003137612",src:n(11073).Z,width:"1357",height:"772"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"args\uff1a\u4f20\u7ed9\u59d4\u6258\u7c7b\u65b9\u6cd5\u7684\u53c2\u6570\u5217\u8868")),(0,l.kt)("p",null,"4\uff09\u521b\u5efa\u4ee3\u7406\u5bf9\u8c61\uff08Proxy\uff09\uff1a\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"Proxy.newProxyInstance()")," \u521b\u5efa\u59d4\u6258\u7c7b\u5bf9\u8c61\u7684\u4ee3\u7406\u5bf9\u8c61"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723003147365",src:n(67713).Z,width:"1173",height:"271"})),(0,l.kt)("p",null,"\u8fd9\u4e2a\u65b9\u6cd5\u9700\u8981 3 \u4e2a\u53c2\u6570\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7c7b\u52a0\u8f7d\u5668 ClassLoader"),(0,l.kt)("li",{parentName:"ul"},"\u59d4\u6258\u7c7b\u5b9e\u73b0\u7684\u63a5\u53e3\u6570\u7ec4\uff0c\u81f3\u5c11\u9700\u8981\u4f20\u5165\u4e00\u4e2a\u63a5\u53e3\u8fdb\u53bb"),(0,l.kt)("li",{parentName:"ul"},"\u8c03\u7528\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"InvocationHandler")," \u5b9e\u4f8b\u5904\u7406\u63a5\u53e3\u65b9\u6cd5\uff08\u4e5f\u5c31\u662f\u7b2c 3 \u6b65\u6211\u4eec\u521b\u5efa\u7684\u7c7b\u7684\u5b9e\u4f8b\uff09")),(0,l.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff1a\u6211\u4eec\u5728\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"Proxy")," \u7c7b\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"newProxyInstance()")," \u521b\u5efa\u7684\u4ee3\u7406\u5bf9\u8c61\u5728\u8c03\u7528\u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4f1a\u8c03\u7528\u5230\u5b9e\u73b0\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"InvocationHandler")," \u63a5\u53e3\u7684\u5904\u7406\u7c7b\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"invoke()"),"\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"invoke()")," \u65b9\u6cd5\u4e2d\u81ea\u5b9a\u4e49\u5904\u7406\u903b\u8f91\uff0c\u6bd4\u5982\u5728\u65b9\u6cd5\u6267\u884c\u524d\u540e\u505a\u4ec0\u4e48\u4e8b\u60c5\u3002"),(0,l.kt)("p",null,"1\uff09\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\uff08Subject\uff09"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public interface SmsService {\n    String send(String message);\n}\n")),(0,l.kt)("p",null,"2\uff09\u521b\u5efa\u4e00\u4e2a\u59d4\u6258\u7c7b\uff08Real Subject\uff09\u5b9e\u73b0\u8fd9\u4e2a\u63a5\u53e3"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public class SmsServiceImpl implements SmsService {\n    public String send(String message) {\n        System.out.println("send message:" + message);\n        return message;\n    }\n}\n')),(0,l.kt)("p",null,"3\uff09\u521b\u5efa\u4e00\u4e2a\u5904\u7406\u7c7b\uff0c\u5e76\u5c06\u59d4\u6258\u7c7b\u6ce8\u5165\u5904\u7406\u7c7b\uff0c\u53e6\u5916\uff0c\u8fd9\u4e2a\u5904\u7406\u7c7b\u9700\u8981\u5b9e\u73b0 ",(0,l.kt)("inlineCode",{parentName:"p"},"InvocationHandler")," \u63a5\u53e3\uff0c\u91cd\u5199\u5176 ",(0,l.kt)("inlineCode",{parentName:"p"},"invoke")," \u65b9\u6cd5\uff08\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"invoke")," \u65b9\u6cd5\u4e2d\u5229\u7528\u53cd\u5c04\u673a\u5236\u8c03\u7528\u59d4\u6258\u7c7b\u7684\u65b9\u6cd5\uff0c\u5e76\u81ea\u5b9a\u4e49\u4e00\u4e9b\u5904\u7406\u903b\u8f91\uff09"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'import java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\n\npublic class DebugInvocationHandler implements InvocationHandler {\n\n    // \u5c06\u59d4\u6258\u7c7b\u6ce8\u5165\u5904\u7406\u7c7b\uff08\u8fd9\u91cc\u6211\u4eec\u7528 Object \u4ee3\u66ff\uff0c\u65b9\u4fbf\u6269\u5c55\uff09\n    private final Object target;\n\n    public DebugInvocationHandler(Object target) {\n        this.target = target;\n    }\n\n    // \u91cd\u5199 invoke \u65b9\u6cd5\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws InvocationTargetException, IllegalAccessException {\n        //\u8c03\u7528\u65b9\u6cd5\u4e4b\u524d\uff0c\u6211\u4eec\u53ef\u4ee5\u6dfb\u52a0\u81ea\u5df1\u7684\u64cd\u4f5c\n        System.out.println("before method " + method.getName());\n        Object result = method.invoke(target, args);\n        //\u8c03\u7528\u65b9\u6cd5\u4e4b\u540e\uff0c\u6211\u4eec\u540c\u6837\u53ef\u4ee5\u6dfb\u52a0\u81ea\u5df1\u7684\u64cd\u4f5c\n        System.out.println("after method " + method.getName());\n        return result;\n    }\n}\n')),(0,l.kt)("p",null,"4\uff09\u5b9a\u4e49\u4e00\u4e2a\u521b\u5efa\u4ee3\u7406\u5bf9\u8c61\uff08Proxy\uff09\u7684\u5de5\u5382\u7c7b\uff1a\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"Proxy.newProxyInstance()")," \u521b\u5efa\u59d4\u6258\u7c7b\u5bf9\u8c61\u7684\u4ee3\u7406\u5bf9\u8c61"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public class JdkProxyFactory {\n    public static Object getProxy(Object target) {\n        return Proxy.newProxyInstance(\n                target.getClass().getClassLoader(),\n                target.getClass().getInterfaces(),\n                new DebugInvocationHandler(target)\n        );\n    }\n}\n")),(0,l.kt)("p",null,"5\uff09\u5b9e\u9645\u4f7f\u7528"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'SmsService smsService = (SmsService) JdkProxyFactory.getProxy(new SmsServiceImpl());\nsmsService.send("Java");\n')),(0,l.kt)("p",null,"\u8fd0\u884c\u4e0a\u8ff0\u4ee3\u7801\u4e4b\u540e\uff0c\u63a7\u5236\u53f0\u6253\u5370\u51fa\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"before method send\nsend message:Java\nafter method send\n")),(0,l.kt)("h4",{id:"cglib-\u52a8\u6001\u4ee3\u7406\u673a\u5236"},"CGLIB \u52a8\u6001\u4ee3\u7406\u673a\u5236"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"JDK \u52a8\u6001\u4ee3\u7406\u6709\u4e00\u4e2a\u6700\u81f4\u547d\u7684\u95ee\u9898\u662f\u5b83\u53ea\u80fd\u4ee3\u7406\u5b9e\u73b0\u4e86\u67d0\u4e2a\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\uff0c\u5e76\u4e14\u4ee3\u7406\u7c7b\u4e5f\u53ea\u80fd\u4ee3\u7406\u63a5\u53e3\u4e2d\u5b9e\u73b0\u7684\u65b9\u6cd5\uff0c\u8981\u662f\u5b9e\u73b0\u7c7b\u4e2d\u6709\u81ea\u5df1\u79c1\u6709\u7684\u65b9\u6cd5\uff0c\u800c\u63a5\u53e3\u4e2d\u6ca1\u6709\u7684\u8bdd\uff0c\u8be5\u65b9\u6cd5\u4e0d\u80fd\u8fdb\u884c\u4ee3\u7406\u8c03\u7528"),"\u3002"),(0,l.kt)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 CGLIB \u52a8\u6001\u4ee3\u7406\u673a\u5236\u3002"),(0,l.kt)("p",null,"\u4e0a\u6587\u4e5f\u63d0\u5230\u8fc7\uff0cCGLIB\uff08Code Generation Library\uff09\u662f\u4e00\u4e2a\u57fa\u4e8e ASM \u7684 Java \u5b57\u8282\u7801\u751f\u6210\u6846\u67b6\uff0c\u5b83\u5141\u8bb8\u6211\u4eec\u5728\u8fd0\u884c\u65f6\u5bf9\u5b57\u8282\u7801\u8fdb\u884c\u4fee\u6539\u548c\u52a8\u6001\u751f\u6210\u3002\u539f\u7406\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u901a\u8fc7\u5b57\u8282\u7801\u6280\u672f\u751f\u6210\u4e00\u4e2a\u5b50\u7c7b\uff0c\u5e76\u5728\u5b50\u7c7b\u4e2d\u62e6\u622a\u7236\u7c7b\u65b9\u6cd5\u7684\u8c03\u7528\uff0c\u7ec7\u5165\u989d\u5916\u7684\u4e1a\u52a1\u903b\u8f91"),"\u3002\u5173\u952e\u8bcd\u5927\u5bb6\u6ce8\u610f\u5230\u6ca1\u6709\uff0c\u62e6\u622a\uff01CGLIB \u5f15\u5165\u4e00\u4e2a\u65b0\u7684\u89d2\u8272\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u65b9\u6cd5\u62e6\u622a\u5668")," ",(0,l.kt)("inlineCode",{parentName:"p"},"MethodInterceptor"),"\u3002\u548c JDK \u4e2d\u7684\u5904\u7406\u7c7b ",(0,l.kt)("inlineCode",{parentName:"p"},"InvocationHandler")," \u5dee\u4e0d\u591a\uff0c\u4e5f\u662f\u7528\u6765\u5b9e\u73b0\u65b9\u6cd5\u7684\u7edf\u4e00\u8c03\u7528\u7684\u3002\u770b\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723003222393",src:n(70599).Z,width:"1679",height:"771"})),(0,l.kt)("p",null,"\u53e6\u5916\u7531\u4e8e CGLIB \u91c7\u7528",(0,l.kt)("strong",{parentName:"p"},"\u7ee7\u627f"),"\u7684\u65b9\u5f0f\uff0c\u6240\u4ee5\u88ab\u4ee3\u7406\u7684\u7c7b\u4e0d\u80fd\u88ab ",(0,l.kt)("inlineCode",{parentName:"p"},"final")," \u4fee\u9970\u3002"),(0,l.kt)("p",null,"\u5f88\u591a\u77e5\u540d\u7684\u5f00\u6e90\u6846\u67b6\u90fd\u4f7f\u7528\u5230\u4e86 CGLIB\uff0c \u4f8b\u5982 ",(0,l.kt)("strong",{parentName:"p"},"Spring \u4e2d\u7684 AOP \u6a21\u5757\u4e2d\uff1a\u5982\u679c\u76ee\u6807\u5bf9\u8c61\u5b9e\u73b0\u4e86\u63a5\u53e3\uff0c\u5219\u9ed8\u8ba4\u91c7\u7528 JDK \u52a8\u6001\u4ee3\u7406\uff0c\u5426\u5219\u91c7\u7528 CGLIB \u52a8\u6001\u4ee3\u7406"),"\u3002"),(0,l.kt)("p",null,"\u6765\u770b CGLIB \u52a8\u6001\u4ee3\u7406\u7684\u4f7f\u7528\u6b65\u9aa4\uff1a"),(0,l.kt)("p",null,"1\uff09\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u59d4\u6258\u7c7b\uff08Real Subject\uff09"),(0,l.kt)("p",null,"2\uff09\u521b\u5efa\u4e00\u4e2a\u65b9\u6cd5\u62e6\u622a\u5668\u5b9e\u73b0\u63a5\u53e3 ",(0,l.kt)("inlineCode",{parentName:"p"},"MethodInterceptor"),"\uff0c\u5e76\u91cd\u5199 ",(0,l.kt)("inlineCode",{parentName:"p"},"intercept")," \u65b9\u6cd5\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"intercept")," \u7528\u4e8e\u62e6\u622a\u5e76\u589e\u5f3a\u59d4\u6258\u7c7b\u7684\u65b9\u6cd5\uff08\u548c JDK \u52a8\u6001\u4ee3\u7406 ",(0,l.kt)("inlineCode",{parentName:"p"},"InvocationHandler")," \u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"invoke")," \u65b9\u6cd5\u7c7b\u4f3c\uff09"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723003232098",src:n(4892).Z,width:"1874",height:"156"})),(0,l.kt)("p",null,"\u8be5\u65b9\u6cd5\u62e5\u6709\u56db\u4e2a\u53c2\u6570\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Object var1\uff1a\u59d4\u6258\u7c7b\u5bf9\u8c61"),(0,l.kt)("li",{parentName:"ul"},"Method var2\uff1a\u88ab\u62e6\u622a\u7684\u65b9\u6cd5\uff08\u59d4\u6258\u7c7b\u4e2d\u9700\u8981\u589e\u5f3a\u7684\u65b9\u6cd5\uff09"),(0,l.kt)("li",{parentName:"ul"},"Object[] var3\uff1a\u65b9\u6cd5\u5165\u53c2"),(0,l.kt)("li",{parentName:"ul"},"MethodProxy var4\uff1a\u7528\u4e8e\u8c03\u7528\u59d4\u6258\u7c7b\u7684\u539f\u59cb\u65b9\u6cd5\uff08\u5e95\u5c42\u4e5f\u662f\u901a\u8fc7\u53cd\u5c04\u673a\u5236\uff0c\u4e0d\u8fc7\u4e0d\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"Method.invoke")," \u4e86\uff0c\u800c\u662f\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"MethodProxy.invokeSuper")," \u65b9\u6cd5\uff09")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723003242424",src:n(42113).Z,width:"1360",height:"416"})),(0,l.kt)("p",null,"3\uff09\u521b\u5efa\u4ee3\u7406\u5bf9\u8c61\uff08Proxy\uff09\uff1a\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"Enhancer.create()")," \u521b\u5efa\u59d4\u6258\u7c7b\u5bf9\u8c61\u7684\u4ee3\u7406\u5bf9\u8c61"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723003250555",src:n(85746).Z,width:"1765",height:"723"})),(0,l.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff1a\u6211\u4eec\u5728\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"Enhancer")," \u7c7b\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"create()")," \u521b\u5efa\u7684\u4ee3\u7406\u5bf9\u8c61\u5728\u8c03\u7528\u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4f1a\u8c03\u7528\u5230\u5b9e\u73b0\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"MethodInterceptor")," \u63a5\u53e3\u7684\u5904\u7406\u7c7b\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"intercept()"),"\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"intercept()")," \u65b9\u6cd5\u4e2d\u81ea\u5b9a\u4e49\u5904\u7406\u903b\u8f91\uff0c\u6bd4\u5982\u5728\u65b9\u6cd5\u6267\u884c\u524d\u540e\u505a\u4ec0\u4e48\u4e8b\u60c5\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u53ef\u4ee5\u53d1\u73b0\uff0cCGLIB \u52a8\u6001\u4ee3\u7406\u673a\u5236\u548c JDK \u52a8\u6001\u4ee3\u7406\u673a\u5236\u7684\u6b65\u9aa4\u5dee\u4e0d\u591a\uff0cCGLIB \u52a8\u6001\u4ee3\u7406\u7684\u6838\u5fc3\u662f\u65b9\u6cd5\u62e6\u622a\u5668 ",(0,l.kt)("inlineCode",{parentName:"p"},"MethodInterceptor")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"Enhancer"),"\uff0c\u800c JDK \u52a8\u6001\u4ee3\u7406\u7684\u6838\u5fc3\u662f\u5904\u7406\u7c7b ",(0,l.kt)("inlineCode",{parentName:"p"},"InvocationHandler")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"Proxy"),"\u3002")),(0,l.kt)("p",null,"\u4e0d\u540c\u4e8e JDK \u52a8\u6001\u4ee3\u7406\u4e0d\u9700\u8981\u989d\u5916\u7684\u4f9d\u8d56\u3002CGLIB \u662f\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u5982\u679c\u4f60\u8981\u4f7f\u7528\u5b83\u7684\u8bdd\uff0c\u9700\u8981\u624b\u52a8\u6dfb\u52a0\u76f8\u5173\u4f9d\u8d56\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-xml"},"<dependency>\n  <groupId>cglib</groupId>\n  <artifactId>cglib</artifactId>\n  <version>3.3.0</version>\n</dependency>\n")),(0,l.kt)("p",null,"1\uff09\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u59d4\u6258\u7c7b\uff08Real Subject\uff09"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public class AliSmsService {\n    public String send(String message) {\n        System.out.println("send message:" + message);\n        return message;\n    }\n}\n')),(0,l.kt)("p",null,"2\uff09\u521b\u5efa\u4e00\u4e2a\u65b9\u6cd5\u62e6\u622a\u5668\u5b9e\u73b0\u63a5\u53e3 ",(0,l.kt)("inlineCode",{parentName:"p"},"MethodInterceptor"),"\uff0c\u5e76\u91cd\u5199 ",(0,l.kt)("inlineCode",{parentName:"p"},"intercept")," \u65b9\u6cd5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'import net.sf.cglib.proxy.MethodInterceptor;\nimport net.sf.cglib.proxy.MethodProxy;\nimport java.lang.reflect.Method;\n\npublic class DebugMethodInterceptor implements MethodInterceptor {\n\n    @Override\n    public Object intercept(Object o, Method method, Object[] args, MethodProxy methodProxy) throws Throwable {\n        // \u8c03\u7528\u65b9\u6cd5\u4e4b\u524d\uff0c\u6211\u4eec\u53ef\u4ee5\u6dfb\u52a0\u81ea\u5df1\u7684\u64cd\u4f5c\n        System.out.println("before method " + method.getName());\n        // \u901a\u8fc7\u53cd\u5c04\u8c03\u7528\u59d4\u6258\u7c7b\u7684\u65b9\u6cd5\n        Object object = methodProxy.invokeSuper(o, args);\n        // \u8c03\u7528\u65b9\u6cd5\u4e4b\u540e\uff0c\u6211\u4eec\u540c\u6837\u53ef\u4ee5\u6dfb\u52a0\u81ea\u5df1\u7684\u64cd\u4f5c\n        System.out.println("after method " + method.getName());\n        return object;\n    }\n\n}\n')),(0,l.kt)("p",null,"3\uff09\u521b\u5efa\u4ee3\u7406\u5bf9\u8c61\uff08Proxy\uff09\uff1a\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"Enhancer.create()")," \u521b\u5efa\u59d4\u6258\u7c7b\u5bf9\u8c61\u7684\u4ee3\u7406\u5bf9\u8c61"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"import net.sf.cglib.proxy.Enhancer;\n\npublic class CglibProxyFactory {\n    public static Object getProxy(Class<?> clazz) {\n        // \u521b\u5efa\u52a8\u6001\u4ee3\u7406\u589e\u5f3a\u7c7b\n        Enhancer enhancer = new Enhancer();\n        // \u8bbe\u7f6e\u7c7b\u52a0\u8f7d\u5668\n        enhancer.setClassLoader(clazz.getClassLoader());\n        // \u8bbe\u7f6e\u59d4\u6258\u7c7b\uff08\u8bbe\u7f6e\u7236\u7c7b\uff09\n        enhancer.setSuperclass(clazz);\n        // \u8bbe\u7f6e\u65b9\u6cd5\u62e6\u622a\u5668\n        enhancer.setCallback(new DebugMethodInterceptor());\n        // \u521b\u5efa\u4ee3\u7406\u7c7b\n        return enhancer.create();\n    }\n}\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4ece ",(0,l.kt)("inlineCode",{parentName:"p"},"setSuperclass")," \u6211\u4eec\u5c31\u80fd\u770b\u51fa\uff0c\u4e3a\u4ec0\u4e48\u8bf4 CGLIB \u662f\u57fa\u4e8e\u7ee7\u627f\u7684\u3002")),(0,l.kt)("p",null,"4\uff09\u5b9e\u9645\u4f7f\u7528"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'AliSmsService aliSmsService = \n    (AliSmsService) CglibProxyFactory.getProxy(AliSmsService.class);\naliSmsService.send("Java");\n')),(0,l.kt)("p",null,"\u8fd0\u884c\u4e0a\u8ff0\u4ee3\u7801\u4e4b\u540e\uff0c\u63a7\u5236\u53f0\u6253\u5370\u51fa\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"before method send\nsend message:Java\nafter method send\n")),(0,l.kt)("h4",{id:"jdk-\u52a8\u6001\u4ee3\u7406\u548c-cglib-\u52a8\u6001\u4ee3\u7406\u5bf9\u6bd4"},"JDK \u52a8\u6001\u4ee3\u7406\u548c CGLIB \u52a8\u6001\u4ee3\u7406\u5bf9\u6bd4"),(0,l.kt)("p",null,"1\uff09JDK \u52a8\u6001\u4ee3\u7406\u662f\u57fa\u4e8e\u5b9e\u73b0\u4e86\u63a5\u53e3\u7684\u59d4\u6258\u7c7b\uff0c\u901a\u8fc7\u63a5\u53e3\u5b9e\u73b0\u4ee3\u7406\uff1b\u800c CGLIB \u52a8\u6001\u4ee3\u7406\u662f\u57fa\u4e8e\u7ee7\u627f\u4e86\u59d4\u6258\u7c7b\u7684\u5b50\u7c7b\uff0c\u901a\u8fc7\u5b50\u7c7b\u5b9e\u73b0\u4ee3\u7406\u3002"),(0,l.kt)("p",null,"2\uff09JDK \u52a8\u6001\u4ee3\u7406\u53ea\u80fd\u4ee3\u7406\u5b9e\u73b0\u4e86\u63a5\u53e3\u7684\u7c7b\uff0c\u4e14\u53ea\u80fd\u589e\u5f3a\u63a5\u53e3\u4e2d\u73b0\u6709\u7684\u65b9\u6cd5\uff1b\u800c CGLIB \u53ef\u4ee5\u4ee3\u7406\u672a\u5b9e\u73b0\u4efb\u4f55\u63a5\u53e3\u7684\u7c7b\u3002"),(0,l.kt)("p",null,"3\uff09\u5c31\u4e8c\u8005\u7684\u6548\u7387\u6765\u8bf4\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u90fd\u662f JDK \u52a8\u6001\u4ee3\u7406\u7684\u6548\u7387\u66f4\u9ad8\uff0c\u968f\u7740 JDK \u7248\u672c\u7684\u5347\u7ea7\uff0c\u8fd9\u4e2a\u4f18\u52bf\u66f4\u52a0\u660e\u663e\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u63d0\u4e00\u5634\uff0c\u5e38\u89c1\u7684\u8fd8\u6709 ",(0,l.kt)("strong",{parentName:"p"},"Javassist \u52a8\u6001\u4ee3\u7406\u673a\u5236"),"\u3002\u548c CGLIB \u4e00\u6837\uff0c\u4f5c\u4e3a\u4e00\u4e2a Java \u5b57\u8282\u7801\u751f\u6210\u6846\u67b6\uff0cJavassist \u5929\u751f\u5c31\u62e5\u6709\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u521b\u5efa\u4e00\u4e2a\u7c7b\u7684\u80fd\u529b\uff0c\u5b9e\u73b0\u52a8\u6001\u4ee3\u7406\u81ea\u7136\u4e0d\u5728\u8bdd\u4e0b\u3002 Dubbo \u5c31\u662f\u9ed8\u8ba4\u4f7f\u7528 Javassit \u6765\u8fdb\u884c\u52a8\u6001\u4ee3\u7406\u7684\u3002")),(0,l.kt)("h4",{id:"\u9759\u6001\u4ee3\u7406\u548c\u52a8\u6001\u4ee3\u7406\u5bf9\u6bd4"},"\u9759\u6001\u4ee3\u7406\u548c\u52a8\u6001\u4ee3\u7406\u5bf9\u6bd4"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u7075\u6d3b\u6027")," \uff1a\u52a8\u6001\u4ee3\u7406\u66f4\u52a0\u7075\u6d3b\uff0c\u4e0d\u9700\u8981\u5fc5\u987b\u5b9e\u73b0\u63a5\u53e3\uff0c\u53ef\u4ee5\u76f4\u63a5\u4ee3\u7406\u5b9e\u73b0\u7c7b\uff0c\u5e76\u4e14\u53ef\u4ee5\u4e0d\u9700\u8981\u9488\u5bf9\u6bcf\u4e2a\u76ee\u6807\u7c7b\u90fd\u521b\u5efa\u4e00\u4e2a\u4ee3\u7406\u7c7b\u3002\u53e6\u5916\uff0c\u9759\u6001\u4ee3\u7406\u4e2d\uff0c\u63a5\u53e3\u4e00\u65e6\u65b0\u589e\u52a0\u65b9\u6cd5\uff0c\u76ee\u6807\u5bf9\u8c61\u548c\u4ee3\u7406\u5bf9\u8c61\u90fd\u8981\u8fdb\u884c\u4fee\u6539\uff0c\u8fd9\u662f\u975e\u5e38\u9ebb\u70e6\u7684"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"JVM \u5c42\u9762")," \uff1a\u9759\u6001\u4ee3\u7406\u5728\u7f16\u8bd1\u65f6\u5c31\u5c06\u63a5\u53e3\u3001\u5b9e\u73b0\u7c7b\u3001\u4ee3\u7406\u7c7b\u8fd9\u4e9b\u90fd\u53d8\u6210\u4e86\u4e00\u4e2a\u4e2a\u5b9e\u9645\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},".class")," \u5b57\u8282\u7801\u6587\u4ef6\u3002\u800c\u52a8\u6001\u4ee3\u7406\u662f\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u751f\u6210\u7c7b\u5b57\u8282\u7801\uff0c\u5e76\u52a0\u8f7d\u5230 JVM \u4e2d\u7684\u3002")),(0,l.kt)("h4",{id:"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f7f\u7528\u52a8\u6001\u4ee3\u7406"},"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f7f\u7528\u52a8\u6001\u4ee3\u7406"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u8bbe\u8ba1\u6a21\u5f0f\u4e2d\u6709\u4e00\u4e2a\u8bbe\u8ba1\u539f\u5219\u662f",(0,l.kt)("strong",{parentName:"li"},"\u5f00\u95ed\u539f\u5219"),"\uff0c\u5373",(0,l.kt)("strong",{parentName:"li"},"\u5bf9\u4fee\u6539\u5173\u95ed\uff0c\u5bf9\u6269\u5c55\u5f00\u653e"),"\uff0c\u6211\u4eec\u5728\u5de5\u4f5c\u4e2d\u6709\u65f6\u4f1a\u63a5\u624b\u5f88\u591a\u524d\u4eba\u7684\u4ee3\u7801\uff0c\u91cc\u9762\u4ee3\u7801\u903b\u8f91\u8ba9\u4eba\u6478\u4e0d\u7740\u5934\u8111\uff0c\u5c31\u5f88\u96be\u53bb\u4e0b\u624b\u4fee\u6539\u4ee3\u7801\uff0c\u90a3\u4e48\u8fd9\u65f6\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u4ee3\u7406\u5bf9\u7c7b\u8fdb\u884c\u589e\u5f3a\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u6211\u4eec\u5728\u4f7f\u7528 ",(0,l.kt)("strong",{parentName:"li"},"RPC \u6846\u67b6"),"\u7684\u65f6\u5019\uff0c\u6846\u67b6\u672c\u8eab\u5e76\u4e0d\u80fd\u63d0\u524d\u77e5\u9053\u5404\u4e2a\u4e1a\u52a1\u65b9\u8981\u8c03\u7528\u54ea\u4e9b\u63a5\u53e3\u7684\u54ea\u4e9b\u65b9\u6cd5 \u3002\u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\uff0c\u5c31\u53ef\u7528\u901a\u8fc7\u52a8\u6001\u4ee3\u7406\u7684\u65b9\u5f0f\u6765\u5efa\u7acb\u4e00\u4e2a\u4e2d\u95f4\u4eba\u7ed9\u5ba2\u6237\u7aef\u4f7f\u7528\uff0c\u4e5f\u65b9\u4fbf\u6846\u67b6\u8fdb\u884c\u642d\u5efa\u903b\u8f91\uff0c\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u4e5f\u662f\u5ba2\u6237\u7aef\u4ee3\u7801\u548c\u6846\u67b6\u677e\u8026\u5408\u7684\u4e00\u79cd\u8868\u73b0\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"Spring \u7684 AOP")," \u673a\u5236\u540c\u6837\u4e5f\u662f\u91c7\u7528\u4e86\u52a8\u6001\u4ee3\u7406\uff0c\u6b64\u5904\u4e0d\u505a\u8be6\u7ec6\u8ba8\u8bba\u3002")),(0,l.kt)("h4",{id:"\u603b\u7ed3"},"\u603b\u7ed3"),(0,l.kt)("p",null,"\u5168\u90e8\u634b\u4e00\u904d\u4e0b\u6765\u8fd8\u662f\u6536\u83b7\u86ee\u591a\u7684\uff0c\u6211\u611f\u89c9\u53ea\u8981\u7406\u89e3\u4e86\u5b57\u8282\u7801\u5728\u7f16\u8bd1\u671f\u751f\u6210\u8fd8\u662f\u5728\u8fd0\u884c\u671f\u751f\u6210\uff0c\u5c31\u5dee\u4e0d\u591a\u80fd\u591f\u628a\u63e1\u4f4f\u9759\u6001\u4ee3\u7406\u548c\u52a8\u6001\u4ee3\u7406\u4e86\u3002\u603b\u7ed3\u4e00\u4e0b\u9759\u6001\u4ee3\u7406\u548c\u52a8\u6001\u4ee3\u7406\u4e2d\u7684\u89d2\u8272\uff1a"),(0,l.kt)("p",null,"\u9759\u6001\u4ee3\u7406\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Subject\uff1a\u516c\u5171\u63a5\u53e3"),(0,l.kt)("li",{parentName:"ul"},"Real Subject\uff1a\u59d4\u6258\u7c7b"),(0,l.kt)("li",{parentName:"ul"},"Proxy\uff1a\u4ee3\u7406\u7c7b")),(0,l.kt)("p",null,"JDK \u52a8\u6001\u4ee3\u7406\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Subject\uff1a\u516c\u5171\u63a5\u53e3"),(0,l.kt)("li",{parentName:"ul"},"Real Subject\uff1a\u59d4\u6258\u7c7b"),(0,l.kt)("li",{parentName:"ul"},"Proxy\uff1a\u4ee3\u7406\u7c7b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"InvocationHandler"),"\uff1a\u5904\u7406\u7c7b\uff0c\u7edf\u4e00\u8c03\u7528\u65b9\u6cd5")),(0,l.kt)("p",null,"CGLIB \u52a8\u6001\u4ee3\u7406\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Subject\uff1a\u516c\u5171\u63a5\u53e3"),(0,l.kt)("li",{parentName:"ul"},"Real Subject\uff1a\u59d4\u6258\u7c7b"),(0,l.kt)("li",{parentName:"ul"},"Proxy\uff1a\u4ee3\u7406\u7c7b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"MethodInterceptor"),"\uff1a\u65b9\u6cd5\u62e6\u622a\u5668\uff0c\u7edf\u4e00\u8c03\u7528\u65b9\u6cd5")),(0,l.kt)("h3",{id:"static\u9759\u6001\u4ee3\u7801\u5757\u4e0e\u975e\u9759\u6001\u4ee3\u7801\u5757\u6784\u9020\u4ee3\u7801\u5757"},"static{}\u9759\u6001\u4ee3\u7801\u5757\u4e0e{}\u975e\u9759\u6001\u4ee3\u7801\u5757(\u6784\u9020\u4ee3\u7801\u5757)"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u76f8\u540c\u70b9"),"\uff1a \u90fd\u662f\u5728 JVM \u52a0\u8f7d\u7c7b\u65f6\u4e14\u5728\u6784\u9020\u65b9\u6cd5\u6267\u884c\u4e4b\u524d\u6267\u884c\uff0c\u5728\u7c7b\u4e2d\u90fd\u53ef\u4ee5\u5b9a\u4e49\u591a\u4e2a\uff0c\u5b9a\u4e49\u591a\u4e2a\u65f6\u6309\u5b9a\u4e49\u7684\u987a\u5e8f\u6267\u884c\uff0c\u4e00\u822c\u5728\u4ee3\u7801\u5757\u4e2d\u5bf9\u4e00\u4e9b static \u53d8\u91cf\u8fdb\u884c\u8d4b\u503c\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e0d\u540c\u70b9"),"\uff1a \u9759\u6001\u4ee3\u7801\u5757\u5728\u975e\u9759\u6001\u4ee3\u7801\u5757\u4e4b\u524d\u6267\u884c(\u9759\u6001\u4ee3\u7801\u5757 -> \u975e\u9759\u6001\u4ee3\u7801\u5757 -> \u6784\u9020\u65b9\u6cd5)\u3002\u9759\u6001\u4ee3\u7801\u5757\u53ea\u5728\u7b2c\u4e00\u6b21 new  \u6267\u884c\u4e00\u6b21\uff0c\u4e4b\u540e\u4e0d\u518d\u6267\u884c\uff0c\u800c\u975e\u9759\u6001\u4ee3\u7801\u5757\u5728\u6bcf new \u4e00\u6b21\u5c31\u6267\u884c\u4e00\u6b21\u3002 \u975e\u9759\u6001\u4ee3\u7801\u5757\u53ef\u5728\u666e\u901a\u65b9\u6cd5\u4e2d\u5b9a\u4e49(\u4e0d\u8fc7\u4f5c\u7528\u4e0d\u5927)\uff1b\u800c\u9759\u6001\u4ee3\u7801\u5757\u4e0d\u884c\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\ud83d\udc1b ",(0,l.kt)("strong",{parentName:"p"},"\u4fee\u6b63"),"\uff1a\u9759\u6001\u4ee3\u7801\u5757\u53ef\u80fd\u5728\u7b2c\u4e00\u6b21 new \u5bf9\u8c61\u7684\u65f6\u5019\u6267\u884c\uff0c\u4f46\u4e0d\u4e00\u5b9a\u53ea\u5728\u7b2c\u4e00\u6b21 new \u7684\u65f6\u5019\u6267\u884c\u3002\u6bd4\u5982\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},'Class.forName("ClassDemo")'),"\u521b\u5efa Class \u5bf9\u8c61\u7684\u65f6\u5019\u4e5f\u4f1a\u6267\u884c\uff0c\u5373 new \u6216\u8005 ",(0,l.kt)("inlineCode",{parentName:"p"},'Class.forName("ClassDemo")')," \u90fd\u4f1a\u6267\u884c\u9759\u6001\u4ee3\u7801\u5757\u3002 \u4e00\u822c\u60c5\u51b5\u4e0b,\u5982\u679c\u6709\u4e9b\u4ee3\u7801\u6bd4\u5982\u4e00\u4e9b\u9879\u76ee\u6700\u5e38\u7528\u7684\u53d8\u91cf\u6216\u5bf9\u8c61\u5fc5\u987b\u5728\u9879\u76ee\u542f\u52a8\u7684\u65f6\u5019\u5c31\u6267\u884c\u7684\u65f6\u5019,\u9700\u8981\u4f7f\u7528\u9759\u6001\u4ee3\u7801\u5757,\u8fd9\u79cd\u4ee3\u7801\u662f\u4e3b\u52a8\u6267\u884c\u7684\u3002\u5982\u679c\u6211\u4eec\u60f3\u8981\u8bbe\u8ba1\u4e0d\u9700\u8981\u521b\u5efa\u5bf9\u8c61\u5c31\u53ef\u4ee5\u8c03\u7528\u7c7b\u4e2d\u7684\u65b9\u6cd5\uff0c\u4f8b\u5982\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"Arrays")," \u7c7b\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"Character")," \u7c7b\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"String")," \u7c7b\u7b49\uff0c\u5c31\u9700\u8981\u4f7f\u7528\u9759\u6001\u65b9\u6cd5, \u4e24\u8005\u7684\u533a\u522b\u662f \u9759\u6001\u4ee3\u7801\u5757\u662f\u81ea\u52a8\u6267\u884c\u7684\u800c\u9759\u6001\u65b9\u6cd5\u662f\u88ab\u8c03\u7528\u7684\u65f6\u5019\u624d\u6267\u884c\u7684.")),(0,l.kt)("p",null,"Example\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public class Test {\n    public Test() {\n        System.out.print("\u9ed8\u8ba4\u6784\u9020\u65b9\u6cd5\uff01--");\n    }\n    //\u975e\u9759\u6001\u4ee3\u7801\u5757\n    {\n        System.out.print("\u975e\u9759\u6001\u4ee3\u7801\u5757\uff01--");\n    }\n    //\u9759\u6001\u4ee3\u7801\u5757\n    static {\n        System.out.print("\u9759\u6001\u4ee3\u7801\u5757\uff01--");\n    }\n    private static void test() {\n        System.out.print("\u9759\u6001\u65b9\u6cd5\u4e2d\u7684\u5185\u5bb9! --");\n        {\n            System.out.print("\u9759\u6001\u65b9\u6cd5\u4e2d\u7684\u4ee3\u7801\u5757\uff01--");\n        }\n    }\n    public static void main(String[] args) {\n        Test test = new Test();\n        Test.test();//\u9759\u6001\u4ee3\u7801\u5757\uff01--\u9759\u6001\u65b9\u6cd5\u4e2d\u7684\u5185\u5bb9! --\u9759\u6001\u65b9\u6cd5\u4e2d\u7684\u4ee3\u7801\u5757\uff01--\n    }\n}\n')),(0,l.kt)("p",null,"\u4e0a\u8ff0\u4ee3\u7801\u8f93\u51fa\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u9759\u6001\u4ee3\u7801\u5757\uff01--\u975e\u9759\u6001\u4ee3\u7801\u5757\uff01--\u9ed8\u8ba4\u6784\u9020\u65b9\u6cd5\uff01--\u9759\u6001\u65b9\u6cd5\u4e2d\u7684\u5185\u5bb9! --\u9759\u6001\u65b9\u6cd5\u4e2d\u7684\u4ee3\u7801\u5757\uff01--\n")),(0,l.kt)("p",null,"\u5f53\u53ea\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"Test.test();")," \u65f6\u8f93\u51fa\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u9759\u6001\u4ee3\u7801\u5757\uff01--\u9759\u6001\u65b9\u6cd5\u4e2d\u7684\u5185\u5bb9! --\u9759\u6001\u65b9\u6cd5\u4e2d\u7684\u4ee3\u7801\u5757\uff01--\n")),(0,l.kt)("p",null,"\u5f53\u53ea\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"Test test = new Test();")," \u65f6\u8f93\u51fa\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u9759\u6001\u4ee3\u7801\u5757\uff01--\u975e\u9759\u6001\u4ee3\u7801\u5757\uff01--\u9ed8\u8ba4\u6784\u9020\u65b9\u6cd5\uff01--\n")),(0,l.kt)("p",null,"\u975e\u9759\u6001\u4ee3\u7801\u5757\u4e0e\u6784\u9020\u51fd\u6570\u7684\u533a\u522b\u662f\uff1a  \u975e\u9759\u6001\u4ee3\u7801\u5757\u662f\u7ed9\u6240\u6709\u5bf9\u8c61\u8fdb\u884c\u7edf\u4e00\u521d\u59cb\u5316\uff0c\u800c\u6784\u9020\u51fd\u6570\u662f\u7ed9\u5bf9\u5e94\u7684\u5bf9\u8c61\u521d\u59cb\u5316\uff0c\u56e0\u4e3a\u6784\u9020\u51fd\u6570\u662f\u53ef\u4ee5\u591a\u4e2a\u7684\uff0c\u8fd0\u884c\u54ea\u4e2a\u6784\u9020\u51fd\u6570\u5c31\u4f1a\u5efa\u7acb\u4ec0\u4e48\u6837\u7684\u5bf9\u8c61\uff0c\u4f46\u65e0\u8bba\u5efa\u7acb\u54ea\u4e2a\u5bf9\u8c61\uff0c\u90fd\u4f1a\u5148\u6267\u884c\u76f8\u540c\u7684\u6784\u9020\u4ee3\u7801\u5757\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6784\u9020\u4ee3\u7801\u5757\u4e2d\u5b9a\u4e49\u7684\u662f\u4e0d\u540c\u5bf9\u8c61\u5171\u6027\u7684\u521d\u59cb\u5316\u5185\u5bb9\u3002"),(0,l.kt)("h3",{id:"char\u578b\u53d8\u91cf\u4e2d\u80fd\u5426\u80fd\u4e0d\u80fd\u5b58\u50a8\u4e2a\u4e2d\u6c49\u5b57\u4e3a\u4ec0\u4e48"},"char\u578b\u53d8\u91cf\u4e2d\u80fd\u5426\u80fd\u4e0d\u80fd\u5b58\u50a8\u2f00\u4e2a\u4e2d\u2f42\u6c49\u5b57\uff0c\u4e3a\u4ec0\u4e48\uff1f"),(0,l.kt)("p",null,"char\u53ef\u4ee5\u5b58\u50a8\u2f00\u4e2a\u4e2d\u2f42\u6c49\u5b57\uff0c\u56e0\u4e3aJava\u4e2d\u4f7f\u2f64\u7684\u7f16\u7801\u662fUnicode(\u4e0d\u9009\u62e9\u4efb\u4f55\u7279\u5b9a\u7684\u7f16\u7801\uff0c\u76f4\u63a5\u4f7f\u2f64\u5b57\u7b26\u5728\u5b57\u7b26\u96c6\u4e2d\u7684\u7f16\u53f7\uff0c\u8fd9\u662f\u7edf\u2f00\u7684\u552f\u2f00\u2f45\u6cd5\uff09\uff0c\u2f00\u4e2achar\u7c7b\u578b\u53602\u4e2a\u5b57\u8282\uff0816\u2f50\u7279\uff09\uff0c\u6240\u4ee5\u653e\u2f00\u4e2a\u4e2d\u2f42\u662f\u6ca1\u95ee\u9898\u7684\u3002"),(0,l.kt)("h3",{id:"\u662f\u5426\u53ef\u4ee5\u7ee7\u627fstring\u7c7b"},"\u662f\u5426\u53ef\u4ee5\u7ee7\u627fString\u7c7b\uff1f"),(0,l.kt)("p",null,"String\u7c7b\u662ffinal\u7c7b\uff0c\u4e0d\u53ef\u4ee5\u88ab\u7ee7\u627f\u3002"),(0,l.kt)("p",null,"\u8865\u5145\uff1a\u7ee7\u627fString\u672c\u8eab\u5c31\u662f\u2f00\u4e2a\u9519\u8bef\u7684\u2f8f\u4e3a\uff0c\u5bf9String\u7c7b\u578b\u6700\u597d\u7684\u91cd\u2f64\u2f45\u5f0f\u662f\u5173\u8054\u5173\u7cfb\uff08Has-A\uff09\u548c\u4f9d\u8d56\u5173\u7cfb\uff08Use-A\uff09\u2f7d\u4e0d\u662f\u7ee7\u627f\u5173\u7cfb\uff08Is-A\uff09\u3002"),(0,l.kt)("h3",{id:"\u8c08\u8c08\u4f60\u5bf9\u591a\u6001\u7684\u7406\u89e3"},"\u8c08\u8c08\u4f60\u5bf9\u591a\u6001\u7684\u7406\u89e3\uff1f"),(0,l.kt)("p",null,"\u591a\u6001\u7684\u6982\u5ff5\u5e76\u4e0d\u96be\uff0c\u5e76\u4e14\u5728\u5b9e\u9645\u7f16\u7801\u4e2d\u53ef\u4ee5\u8bf4\u662f\u6700\u6700\u9ad8\u9891\u4f7f\u7528\u7387\u3002\u591a\u6001\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u4f7f\u5f97\u540c\u4e00\u4e2a\u884c\u4e3a\u5177\u6709\u591a\u4e2a\u4e0d\u540c\u8868\u73b0\u5f62\u5f0f\u6216\u5f62\u6001\u7684\u80fd\u529b"),"\u3002\u4e3e\u4e2a\u5f62\u8c61\u70b9\u7684\u4f8b\u5b50\uff1a\u5bf9\u4e8e \u201c\u6253\u5370\u201d \u8fd9\u4e2a\u884c\u4e3a\uff0c\u4f7f\u7528\u5f69\u8272\u6253\u5370\u673a \u201c\u6253\u5370\u201d \u51fa\u6765\u7684\u6548\u679c\u5c31\u662f\u5f69\u8272\u7684\uff0c\u800c\u4f7f\u7528\u9ed1\u767d\u6253\u5370\u673a \u201c\u6253\u5370\u201d \u51fa\u6765\u7684\u6548\u679c\u5c31\u662f\u9ed1\u767d\u7684\u3002\u6211\u4eec\u5c31\u79f0 \u201c\u6253\u5370\u201d \u8fd9\u4e2a\u884c\u4e3a\u662f\u591a\u6001\u7684\uff0c\u5f69\u8272\u6253\u5370\u6548\u679c\u548c\u9ed1\u767d\u6253\u5370\u6548\u679c\u5c31\u662f \u201c\u6253\u5370\u201d \u8fd9\u4e2a\u884c\u4e3a\u7684\u4e24\u4e2a\u4e0d\u540c\u7684\u8868\u73b0\u5f62\u5f0f\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220618172157050",src:n(77985).Z,width:"1136",height:"812"})),(0,l.kt)("p",null,"\u8fd8\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u540c\u4e00\u4e2a\u884c\u4e3a\u5728\u4e0d\u540c\u7684\u5bf9\u8c61\u4e0a\u4f1a\u4ea7\u751f\u4e0d\u540c\u7684\u7ed3\u679c"),"\u3002\u518d\u4e3e\u4e2a\u5f62\u8c61\u70b9\u7684\u4f8b\u5b50\uff1a\u6bd4\u5982\u6211\u4eec\u6309\u4e0b F1 \u952e\u8fd9\u4e2a\u884c\u4e3a\uff1a\u5982\u679c\u5f53\u524d\u5728 Word \u4e0b\u5f39\u51fa\u7684\u5c31\u662f Word \u5e2e\u52a9\u548c\u652f\u6301\uff1b\u5728 Windows \u4e0b\u5f39\u51fa\u7684\u5c31\u662f Windows \u5e2e\u52a9\u548c\u652f\u6301\u3002"),(0,l.kt)("h4",{id:"\u591a\u6001\u53d1\u751f\u7684\u4e09\u4e2a\u5fc5\u8981\u6761\u4ef6"},"\u591a\u6001\u53d1\u751f\u7684\u4e09\u4e2a\u5fc5\u8981\u6761\u4ef6"),(0,l.kt)("p",null,"\u5148\u770b\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\uff0c\u9996\u5148\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u57fa\u7c7b ",(0,l.kt)("inlineCode",{parentName:"p"},"Shape"),"\uff0c\u4e09\u4e2a\u5b50\u7c7b\uff0c\u5e76\u4e14\u90fd\u91cd\u5199\u4e86\u57fa\u7c7b\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"draw")," \u65b9\u6cd5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'class Shape {\n    void draw() {}\n}\n \nclass Circle extends Shape {\n    void draw() {\n        System.out.println("Circle.draw()");\n    }\n}\n \nclass Square extends Shape {\n    void draw() {\n        System.out.println("Square.draw()");\n    }\n}\n \nclass Triangle extends Shape {\n    void draw() {\n        System.out.println("Triangle.draw()");\n    }\n}\n')),(0,l.kt)("p",null,"\u4e0b\u9762\u8fd9\u51e0\u884c\u4ee3\u7801\u5c31\u5145\u5206\u4f53\u73b0\u4e86\u591a\u6001\u6027\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"Shape circle = new Circle();\nShape square = new Square();\nShape triangle = new Triangle();\n")),(0,l.kt)("p",null,"\u5927\u5bb6\u5e94\u8be5\u4e0d\u4f1a\u592a\u964c\u751f\uff0c\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u5411\u4e0a\u8f6c\u578b"),"\uff0c\u6ca1\u9519\uff0c\u5b83\u5c31\u662f\u591a\u6001\u7684\u4f53\u73b0\u3002\u540c\u6837\u7684\u4e00\u4e2a draw \u65b9\u6cd5\uff0c\u5728\u8fd9\u4e09\u4e2a\u4e0d\u540c\u7684\u5bf9\u8c61\u4e0a\u4ea7\u751f\u4e86\u4e09\u79cd\u4e0d\u540c\u7684\u884c\u4e3a\uff0c\u591a\u6001\u5728\u6b64\u4f53\u73b0\u7684\u6dcb\u6f13\u5c3d\u81f4\u3002"),(0,l.kt)("p",null,"\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5f53\u4f7f\u7528\u591a\u6001\u65b9\u5f0f\u8c03\u7528\u65b9\u6cd5\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u9996\u5148\u68c0\u67e5\u7236\u7c7b\u4e2d\u662f\u5426\u6709\u8be5\u65b9\u6cd5\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5219\u7f16\u8bd1\u9519\u8bef\uff1b\u5982\u679c\u7236\u7c7b\u4e2d\u6709\u8be5\u65b9\u6cd5\uff0c\u5e76\u4e14\u88ab\u5b50\u7c7b\u91cd\u5199\uff0c\u5c31\u4f1a\u8c03\u7528\u5b50\u7c7b\u7684\u8fd9\u4e2a\u65b9\u6cd5\uff1b\u5982\u679c\u7236\u7c7b\u7684\u65b9\u6cd5\u6ca1\u6709\u88ab\u5b50\u7c7b\u91cd\u5199\uff0c\u5c31\u4f1a\u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"Shape circle = new Circle();\ncircle.draw(); // \u8c03\u7528\u7684\u662f Circle \u7684 eat\n")),(0,l.kt)("p",null,"\u7b80\u5355\u6765\u8bf4\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u5f53\u7236\u7c7b\u5f15\u7528\u53d8\u91cf\u6307\u5411\u5b50\u7c7b\u5bf9\u8c61\u540e\uff08\u591a\u6001\uff09\uff0c\u53ea\u80fd\u4f7f\u7528\u7236\u7c7b\u5df2\u58f0\u660e\u7684\u65b9\u6cd5\uff0c\u4f46\u65b9\u6cd5\u5982\u679c\u88ab\u91cd\u5199\u4f1a\u6267\u884c\u5b50\u7c7b\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u65b9\u6cd5\u672a\u88ab\u91cd\u5199\u90a3\u4e48\u5c06\u6267\u884c\u7236\u7c7b\u7684\u65b9\u6cd5"),"\u3002"),(0,l.kt)("p",null,"\u7ed3\u5408\u4e0a\u8ff0\u8fd9\u6bb5\u7b80\u5355\u7684\u4ee3\u7801\uff0c\u6211\u4eec\u603b\u7ed3\u4e00\u4e0b\u591a\u6001\u4ea7\u751f\u7684\u5fc5\u8981\u6761\u4ef6\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1\uff09\u7ee7\u627f"),(0,l.kt)("li",{parentName:"ul"},"2\uff09\u91cd\u5199"),(0,l.kt)("li",{parentName:"ul"},"3\uff09\u7236\u7c7b\u5f15\u7528\u6307\u5411\u5b50\u7c7b\u5bf9\u8c61\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"Parent p = new Child();"))),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220618172217768",src:n(30507).Z,width:"1256",height:"1042"})),(0,l.kt)("h4",{id:"\u591a\u6001\u662f\u5982\u4f55\u53d1\u751f\u7684"},"\u591a\u6001\u662f\u5982\u4f55\u53d1\u751f\u7684"),(0,l.kt)("p",null,"\u2753 \u90a3\u4e48\uff0c\u591a\u6001\u5230\u5e95\u662f\u5982\u4f55\u53d1\u751f\u7684\uff1f\u7f16\u8bd1\u5668\u662f\u5982\u4f55\u77e5\u9053\u7236\u7c7b Shape \u5f15\u7528\u6307\u5411\u7684\u662f Circle \u800c\u4e0d\u662f Triangle \u6216 Square \u5462\uff1f"),(0,l.kt)("p",null,"\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u4e86\u89e3\u9759\u6001\u7ed1\u5b9a\u548c\u52a8\u6001\u7ed1\u5b9a\u7684\u6982\u5ff5\u3002\u4ec0\u4e48\u662f",(0,l.kt)("strong",{parentName:"p"},"\u7ed1\u5b9a"),"\uff1f\u5c06\u4e00\u4e2a\u65b9\u6cd5\u8c03\u7528\u540c\u4e00\u4e2a\u65b9\u6cd5\u4e3b\u4f53\u5173\u8054\u8d77\u6765\u7684\u8fc7\u7a0b\u5c31\u79f0\u4f5c\u7ed1\u5b9a\u3002"),(0,l.kt)("p",null,"\u82e5\u7ed1\u5b9a\u53d1\u751f\u5728\u7a0b\u5e8f\u8fd0\u884c\u524d\uff0c\u53eb\u505a",(0,l.kt)("strong",{parentName:"p"},"\u9759\u6001\u7ed1\u5b9a"),"\uff0c\u4e5f\u79f0",(0,l.kt)("strong",{parentName:"p"},"\u524d\u671f\u7ed1\u5b9a"),"\u3002\u4f60\u53ef\u80fd\u4ece\u6765\u6ca1\u6709\u542c\u8bf4\u8fd9\u4e2a\u672f\u8bed\uff0c\u56e0\u4e3a\u5b83\u662f",(0,l.kt)("strong",{parentName:"p"},"\u9762\u5411\u8fc7\u7a0b"),"\u8bed\u8a00\u4e0d\u9700\u9009\u62e9\u9ed8\u8ba4\u7684\u7ed1\u5b9a\u65b9\u5f0f\uff0c\u4f8b\u5982\u5728 C \u8bed\u8a00\u4e2d\u5c31\u53ea\u6709\u524d\u671f\u7ed1\u5b9a\u8fd9\u4e00\u79cd\u65b9\u6cd5\u8c03\u7528\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\u5bf9\u4e8e\u8fd9\u6bb5\u4ee3\u7801\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"Shape circle = new Circle();\nShape square = new Square();\ncircle.draw(); \n")),(0,l.kt)("p",null,"Shape \u5373\u5f15\u7528\u7c7b\u578b\u5728\u7f16\u8bd1\u671f\u53ef\u77e5\uff0c\u4e0d\u4f1a\u88ab\u6539\u53d8\uff0c\u800c Circle \u4f5c\u4e3a\u5b9e\u4f8b\u5bf9\u8c61\u7c7b\u578b\u5728\u8fd0\u884c\u671f\u624d\u53ef\u77e5\uff0c\u53ef\u80fd\u4f1a\u53d1\u751f\u53d8\u5316\u3002\u6240\u4ee5\u5982\u679c\u4f7f\u7528\u524d\u671f\u7ed1\u5b9a\uff0c\u5728\u8fd0\u884c\u4e4b\u524d\uff0c\u7f16\u8bd1\u5668\u53ea\u77e5\u9053\u6709\u4e00\u4e2a Shape \u5f15\u7528\uff0c\u5b83\u65e0\u6cd5\u5f97\u77e5\u7a76\u7adf\u4f1a\u8c03\u7528\u54ea\u4e2a\u65b9\u6cd5\u3002"),(0,l.kt)("p",null,"\u89e3\u51b3\u65b9\u6cd5\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u52a8\u6001\u7ed1\u5b9a")," Dynamic Binding\uff0c\u5728\u8fd0\u884c\u65f6\u6839\u636e\u5bf9\u8c61\u7684\u7c7b\u578b\u81ea\u52a8\u7684\u8fdb\u884c\u7ed1\u5b9a\uff0c\u6240\u4ee5\u52a8\u6001\u7ed1\u5b9a\u4e5f\u79f0",(0,l.kt)("strong",{parentName:"p"},"\u8fd0\u884c\u65f6\u7ed1\u5b9a"),"\u3002\u52a8\u6001\u7ed1\u5b9a\u662f\u591a\u6001\u7684\u57fa\u7840\u3002"),(0,l.kt)("p",null,"\u6ce8\u610f\uff1aJava \u4e2d\u9664\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"static"),"\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"final"),"\u65b9\u6cd5\uff08",(0,l.kt)("inlineCode",{parentName:"p"},"private"),"\u65b9\u6cd5\u5c5e\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"final"),"\u65b9\u6cd5\uff09\u4e4b\u5916\uff0c\u5176\u4ed6\u6240\u6709\u65b9\u6cd5\u90fd\u662f\u52a8\u6001\u7ed1\u5b9a\u3002\u8fd9\u610f\u5473\u7740\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u5224\u65ad\u52a8\u6001\u7ed1\u5b9a\u662f\u5426\u4f1a\u53d1\u751f\uff0c\u5b83\u662f\u81ea\u52a8\u53d1\u751f\u7684\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"final")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"static")," \u5173\u952e\u5b57\u540e\u7eed\u4f1a\u5355\u72ec\u51fa\u6587\u7ae0\u8bb2\u89e3\uff0c\u6b64\u5904\u5c31\u7b3c\u7edf\u7684\u6982\u8ff0\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u8fd9\u4e24\u4e2a\u5173\u952e\u5b57\u4fee\u9970\u7684\u65b9\u6cd5\u662f\u9759\u6001\u7ed1\u5b9a\u7684\uff1a"),(0,l.kt)("ul",{parentName:"blockquote"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"final")," \u4e0d\u5141\u8bb8\u65b9\u6cd5\u91cd\u5199\uff0c\u800c\u591a\u6001\u53d1\u751f\u7684\u6761\u4ef6\u4e4b\u4e00\u5c31\u662f\u91cd\u5199\uff0c\u6240\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"li"},"final")," \u65b9\u6cd5\u4f1a\u5728\u7f16\u8bd1\u671f\u95f4\u5c31\u8fdb\u884c\u7ed1\u5b9a\uff0c\u5373\u9759\u6001\u7ed1\u5b9a"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"static")," \u65b9\u6cd5\u662f\u7c7b\u76f4\u63a5\u62e5\u6709\u7684\u7684\uff0c\u4e0e\u8be5\u7c7b\u7684\u4efb\u4f55\u4e00\u4e2a\u5bf9\u8c61\u90fd\u65e0\u5173\uff08\u8be5\u7c7b\u7684\u6240\u6709\u5bf9\u8c61\u5171\u540c\u7ef4\u62a4\uff09\uff0c\u6240\u4ee5\u4e5f\u662f\u9759\u6001\u7ed1\u5b9a"))),(0,l.kt)("h4",{id:"\u91cd\u8f7d\u548c\u91cd\u5199"},"\u91cd\u8f7d\u548c\u91cd\u5199"),(0,l.kt)("p",null,"\u91cd\u8f7d\u548c\u91cd\u5199\u5728\u4e4b\u524d\u7684\u6587\u7ae0\u4e2d\u90fd\u8bf4\u8fc7\u4e86\uff0c\u6b64\u5904\u6b63\u597d\u501f\u7740\u591a\u6001\u8fd9\u4e2a\u4e3b\u9898\u5c06\u8fd9\u4e24\u4e2a\u5bb9\u6613\u6df7\u6dc6\u7684\u6982\u5ff5\u603b\u7ed3\u4e00\u6ce2\u3002"),(0,l.kt)("p",null,"\u65b9\u6cd5\u7684",(0,l.kt)("strong",{parentName:"p"},"\u91cd\u5199 Overriding")," \u548c",(0,l.kt)("strong",{parentName:"p"},"\u91cd\u8f7d Overloading")," \u90fd\u662f\u662f Java \u591a\u6001\u6027\u7684\u8868\u73b0\u3002"),(0,l.kt)("p",null,"\ud83d\udd38 1\uff09",(0,l.kt)("strong",{parentName:"p"},"\u65b9\u6cd5\u91cd\u5199\u662f\u7236\u7c7b\u4e0e\u5b50\u7c7b\u4e4b\u95f4\u591a\u6001\u6027\u7684\u8868\u73b0"),"\u3002\u5176\u5b50\u7c7b\u548c\u7236\u7c7b\u65b9\u6cd5\u7684\u540d\u5b57\u76f8\u540c\uff0c\u53c2\u6570\u4e2a\u6570\u76f8\u540c\uff0c\u8fd4\u56de\u7c7b\u578b\u4e5f\u76f8\u540c\uff0c\u5e76\u4e14\u5b50\u7c7b\u7684\u8bbf\u95ee\u6743\u9650\u4e0d\u80fd\u6bd4\u7236\u7c7b\u7684\u4e25\u683c\uff0c\u6bd4\u5982\u7236\u7c7b\u662f public\uff0c\u90a3\u4e48\u5b50\u7c7b\u4e5f\u53ea\u80fd\u662f public\uff0c\u4e0d\u80fd\u6bd4 public \u66f4\u4e25\u683c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u65b9\u6cd5\u91cd\u5199\uff0c\u53ea\u6709\u65b9\u6cd5\u4f53\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u8bbf\u95ee\u6743\u9650\u53ef\u4ee5\u6709\u9650\u5236\u7684\u4fee\u6539"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'class Shape {\n    public void draw() {}\n}\n \nclass Circle extends Shape {\n    public void draw() {\n        System.out.println("Circle.draw()");\n    }\n}\n')),(0,l.kt)("p",null,"\ud83d\udea8 \u5176\u5b9e\uff0c\u4e0a\u9762\u8bf4\u7684\u8fd4\u56de\u7c7b\u578b\u5b8c\u5168\u76f8\u540c\u5e76\u4e0d\u4e25\u683c\u6b63\u786e\u3002\u4e0b\u9762\u6211\u4eec\u6765\u89e3\u91ca\u4e00\u4e0b\u3002"),(0,l.kt)("p",null,"\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u77e5\u9053",(0,l.kt)("strong",{parentName:"p"},"\u65b9\u6cd5\u7684\u540d\u5b57\u548c\u53c2\u6570\u5217\u8868\u79f0\u4e3a\u65b9\u6cd5\u7684\u7b7e\u540d"),"\u3002\u4f8b\u5982\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"draw()"),"  \u548c  ",(0,l.kt)("inlineCode",{parentName:"p"},"draw(String)")," \u662f\u4e24\u4e2a\u5177\u6709\u76f8\u540c\u540d\u5b57\uff0c \u4e0d\u540c\u7b7e\u540d\u7684\u65b9\u6cd5\u3002\u5982\u679c\u5728\u5b50\u7c7b\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e2a\u4e0e\u8d85\u7c7b\u7b7e\u540d\u76f8\u540c\u7684\u65b9\u6cd5\uff0c \u90a3\u4e48\u5b50\u7c7b\u4e2d\u7684\u8fd9\u4e2a\u65b9\u6cd5\u5c31\u8986\u76d6/\u91cd\u5199\u4e86\u8d85\u7c7b\u4e2d\u7684\u8fd9\u4e2a\u76f8\u540c\u7b7e\u540d\u7684\u65b9\u6cd5\u3002"),(0,l.kt)("p",null,"\u4e0d\u8fc7\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u7c7b\u578b\u4e0d\u662f\u7b7e\u540d\u7684\u4e00\u90e8\u5206"),"\uff0c \u56e0\u6b64\uff0c\u5728\u8986\u76d6/\u91cd\u5199\u65b9\u6cd5\u65f6\uff0c \u4e00\u5b9a\u8981\u4fdd\u8bc1\u8fd4\u56de\u7c7b\u7684\u517c\u5bb9\u6027\u3002 ",(0,l.kt)("strong",{parentName:"p"},"\u5141\u8bb8\u5b50\u7c7b\u5c06\u8986\u76d6\u65b9\u6cd5\u7684\u8fd4\u56de\u7c7b\u578b\u5b9a\u4e49\u4e3a\u539f\u8fd4\u56de\u7c7b\u578b\u7684\u5b50\u7c7b\u578b"),"\u3002"),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c \u5047\u8bbe ",(0,l.kt)("inlineCode",{parentName:"p"},"Shape")," \u7c7b\u6709"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"class Shape {\n    public Shape draw() {\n        ......\n    }\n}\n")),(0,l.kt)("p",null,"\u5728\u540e\u9762\u7684\u5b50\u7c7b ",(0,l.kt)("inlineCode",{parentName:"p"},"Circle")," \u4e2d\uff0c \u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u6240\u793a\u7684\u65b9\u5f0f\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"class Circle extends Shape {\n    public Circle draw() {\n        ......\n    }\n}\n")),(0,l.kt)("p",null,"\u7528\u4e13\u4e1a\u672f\u8bed\u6765\u8bf4\uff0c\u8fd9\u4e24\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"draw")," \u65b9\u6cd5\u5177\u6709",(0,l.kt)("strong",{parentName:"p"},"\u53ef\u534f\u53d8\u7684\u8fd4\u56de\u7c7b\u578b"),"\u3002"),(0,l.kt)("p",null,"\ud83d\udd38 2\uff09\u65b9\u6cd5\u91cd\u8f7d\u5e76\u975e\u591a\u6001\u7684\u5fc5\u8981\u6761\u4ef6\uff0c\u4e0d\u8fc7\u53ef\u4ee5\u7406\u89e3\u6210",(0,l.kt)("strong",{parentName:"p"},"\u67d0\u4e2a\u7c7b\u7684\u591a\u6001\u6027\u7684\u8868\u73b0"),"\u3002\u6240\u8c13\u65b9\u6cd5\u91cd\u8f7d\uff0c\u5c31\u662f\u4e00\u4e2a\u7c7b\u4e2d\u5b9a\u4e49\u4e86\u591a\u4e2a\u65b9\u6cd5\u540d\u76f8\u540c\uff0c\u4f46\u662f\u53c2\u6570\u7684\u6570\u91cf\u6216\u8005\u7c7b\u578b\u4e0d\u540c\u3002\u65b9\u6cd5\u7684\u8fd4\u56de\u7c7b\u578b\u548c\u8bbf\u95ee\u6743\u9650\u53ef\u4ee5\u4efb\u610f\u4fee\u6539\uff0c\u4e0d\u4ee5\u5b83\u4fe9\u4f5c\u4e3a\u65b9\u6cd5\u91cd\u8f7d\u7684\u6807\u5fd7\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'class Circle extends Shape {\n    public void draw() {\n        System.out.println("Circle.draw()");\n    }\n  \n    public void draw(int i) {\n        System.out.println("Circle.draw()" + i);\n    }\n}\n')),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220618172249142",src:n(29237).Z,width:"1277",height:"844"})),(0,l.kt)("p",null,"\u603b\u7ed3\u4e00\u4e0b\u65b9\u6cd5\u91cd\u8f7d\u548c\u91cd\u5199\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"}),(0,l.kt)("th",{parentName:"tr",align:"center"},"\u65b9\u6cd5\u91cd\u8f7d"),(0,l.kt)("th",{parentName:"tr",align:"center"},"\u65b9\u6cd5\u91cd\u5199"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"\u65b9\u6cd5\u540d"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u76f8\u540c"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u76f8\u540c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"\u53c2\u6570\u5217\u8868"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u5fc5\u987b\u4e0d\u540c"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u5fc5\u987b\u76f8\u540c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"\u8fd4\u56de\u7c7b\u578b"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u53ef\u4ee5\u4e0d\u540c"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u5b50\u7c7b\u65b9\u6cd5\u7684\u8fd4\u56de\u7c7b\u578b\u53ef\u4ee5\u662f\u539f\u7236\u7c7b\u65b9\u6cd5\u8fd4\u56de\u7c7b\u578b\u7684\u5b50\u7c7b\u578b")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"\u8bbf\u95ee\u4fee\u9970\u7b26"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u53ef\u4ee5\u4e0d\u540c"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u5b50\u7c7b\u4e0d\u80fd\u505a\u66f4\u4e25\u683c\u7684\u9650\u5236\uff08\u53ef\u4ee5\u964d\u4f4e\u9650\u5236\uff09")))),(0,l.kt)("h4",{id:"main-\u65b9\u6cd5\u662f\u5426\u53ef\u4ee5\u91cd\u8f7d"},"main \u65b9\u6cd5\u662f\u5426\u53ef\u4ee5\u91cd\u8f7d"),(0,l.kt)("p",null,"IBM \u65e9\u4e9b\u5e74\u51fa\u8fc7\u8fd9\u65b9\u9762\u7684\u9898\uff0c\u8003\u5012\u4e86\u4e00\u7247\u4eba\u3002\u9996\u5148\uff0c\u7b54\u6848\u662f\u80af\u5b9a\u7684\uff0cmain \u65e2\u7136\u4f5c\u4e3a\u4e00\u4e2a\u65b9\u6cd5\uff0c\u90a3\u5b83\u5f53\u7136\u53ef\u4ee5\u88ab\u91cd\u8f7d\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5982\u679c\u662f\u4f5c\u4e3a\u7a0b\u5e8f\u7684\u5165\u53e3\uff0c\u90a3\u4e48 main \u51fd\u6570\u53ea\u6709\u4e00\u79cd\u5199\u6cd5\uff0cJava \u865a\u62df\u673a\u5728\u8fd0\u884c\u7684\u65f6\u5019\u53ea\u4f1a\u8c03\u7528\u5e26\u6709\u53c2\u6570\u662f String \u6570\u7ec4\u7684\u90a3\u4e2a ",(0,l.kt)("inlineCode",{parentName:"strong"},"main()")," \u65b9\u6cd5"),"\uff0c\u800c\u5176\u4ed6\u91cd\u8f7d\u7684\u5199\u6cd5\u865a\u62df\u673a\u662f\u4e0d\u8ba4\u7684\uff0c\u53ea\u80fd\u4eba\u4e3a\u7684\u8c03\u7528\u3002"),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'class Test {\n    public static void main(String[] args) {\n        main(1);\n    }\n    public static void main(int i) {\n        System.out.println("\u91cd\u8f7d\u7684 main \u65b9\u6cd5");\n    }\n}\n')),(0,l.kt)("p",null,"\u8be5\u7a0b\u5e8f\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u91cd\u8f7d\u7684 main \u65b9\u6cd5\n")),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u51fa\u7b2c\u4e00\u4e2a main \u65b9\u6cd5\u6b63\u5e38\u8c03\u7528\u4e86\u91cd\u8f7d\u7684\u7b2c\u4e8c\u4e2a main \u65b9\u6cd5\uff0c\u5373 main \u65b9\u6cd5\u80fd\u591f\u88ab\u5b8c\u7f8e\u91cd\u8f7d\u3002\u4f46\u662f\u7a0b\u5e8f\u7684\u5165\u53e3\u4ecd\u7136\u662f\u7b2c\u4e00\u4e2a main \u65b9\u6cd5\u5373\u53c2\u6570\u4e3a String \u6570\u7ec4\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220618172317736",src:n(95763).Z,width:"1389",height:"586"})),(0,l.kt)("h3",{id:"\u6784\u9020\u5668constructor\u662f\u5426\u53ef\u88ab\u91cd\u5199override"},"\u6784\u9020\u5668\uff08constructor\uff09\u662f\u5426\u53ef\u88ab\u91cd\u5199\uff08override\uff09\uff1f"),(0,l.kt)("p",null,"\u6784\u9020\u5668\u4e0d\u80fd\u88ab\u7ee7\u627f\uff0c\u56e0\u6b64\u4e0d\u80fd\u88ab\u91cd\u5199\uff0c\u4f46\u53ef\u4ee5\u88ab\u91cd\u8f7d"),(0,l.kt)("h3",{id:"java-\u4e2d\u64cd\u4f5c\u5b57\u7b26\u4e32\u90fd\u6709\u54ea\u4e9b\u7c7b\u5b83\u4eec\u4e4b\u95f4\u6709\u4ec0\u4e48\u533a\u522b"},"Java \u4e2d\u64cd\u4f5c\u5b57\u7b26\u4e32\u90fd\u6709\u54ea\u4e9b\u7c7b\uff1f\u5b83\u4eec\u4e4b\u95f4\u6709\u4ec0\u4e48\u533a\u522b\uff1f"),(0,l.kt)("p",null,"\u64cd\u4f5c\u5b57\u7b26\u4e32\u7684\u7c7b\u6709\uff1a",(0,l.kt)("strong",{parentName:"p"},"String\u3001StringBuffer\u3001StringBuilder"),"\u3002"),(0,l.kt)("p",null,"\u7b2c\u4e00\u70b9: \u53ef\u53d8\u548c\u9002\u7528\u8303\u56f4\u3002String\u5bf9\u8c61\u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u800cStringBuffer\u548cStringBuilder\u662f\u53ef\u53d8\u5b57\u7b26\u5e8f\u5217\u3002\u6bcf\u6b21\u5bf9String\u7684\u64cd\u4f5c\u76f8\u5f53\u4e8e\u751f\u6210\u4e00\u4e2a\u65b0\u7684String\u5bf9\u8c61\uff0c\u800c\u5bf9StringBuffer\u548cStringBuilder\u7684\u64cd\u4f5c\u662f\u5bf9\u5bf9\u8c61\u672c\u8eab\u7684\u64cd\u4f5c\uff0c\u800c\u4e0d\u4f1a\u751f\u6210\u65b0\u7684\u5bf9\u8c61\uff0c\u6240\u4ee5\u5bf9\u4e8e\u9891\u7e41\u6539\u53d8\u5185\u5bb9\u7684\u5b57\u7b26\u4e32\u907f\u514d\u4f7f\u7528String\uff0c\u56e0\u4e3a\u9891\u7e41\u7684\u751f\u6210\u5bf9\u8c61\u5c06\u4f1a\u5bf9\u7cfb\u7edf\u6027\u80fd\u4ea7\u751f\u5f71\u54cd\u3002"),(0,l.kt)("p",null,"\u7b2c\u4e8c\u70b9: \u7ebf\u7a0b\u5b89\u5168\u3002String\u7531\u4e8e\u6709final\u4fee\u9970\uff0c\u662fimmutable\u7684\uff0c\u5b89\u5168\u6027\u662f\u7b80\u5355\u800c\u7eaf\u7cb9\u7684\u3002StringBuilder\u548cStringBuffer\u7684\u533a\u522b\u5728\u4e8eStringBuilder\u4e0d\u4fdd\u8bc1\u540c\u6b65\uff0c\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u9700\u8981\u7ebf\u7a0b\u5b89\u5168\u9700\u8981\u4f7f\u7528StringBuffer\uff0c\u4e0d\u9700\u8981\u540c\u6b65\u7684StringBuilder\u6548\u7387\u66f4\u9ad8"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"}),(0,l.kt)("th",{parentName:"tr",align:"center"},"\u53ef\u53d8\u6027"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7ebf\u7a0b\u5b89\u5168"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"String"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u4e0d\u53ef\u53d8"),(0,l.kt)("td",{parentName:"tr",align:null},"\u56e0\u4e3a\u4e0d\u53ef\u53d8\uff0c\u6240\u4ee5\u662f\u7ebf\u7a0b\u5b89\u5168\u7684")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"StringBuffer"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u53ef\u53d8"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u56e0\u4e3a\u5176\u5185\u90e8\u5927\u591a\u6570\u65b9\u6cd5\u90fd\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"td"},"synchronized"),"\u8fdb\u884c\u540c\u6b65\u3002\u5176\u6548\u7387\u8f83\u4f4e")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"StringBuilder"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u53ef\u53d8"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4e0d\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u56e0\u4e3a\u6ca1\u6709\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"td"},"synchronized"),"\u8fdb\u884c\u540c\u6b65\uff0c\u8fd9\u4e5f\u662f\u5176\u6548\u7387\u9ad8\u4e8e StringBuffer  \u7684\u539f\u56e0\u3002\u5355\u7ebf\u7a0b\u4e0b\uff0c\u4f18\u5148\u8003\u8651\u4f7f\u7528 StringBuilder\u3002")))),(0,l.kt)("h3",{id:"string-str--i-\u548cstring-str--new-string1\u6837\u5417"},'String str = "i" \u548cString str = new String("1")\u2f00\u6837\u5417\uff1f'),(0,l.kt)("p",null,'\u4e0d\u2f00\u6837\uff0c\u56e0\u4e3a\u5185\u5b58\u7684\u5206\u914d\u2f45\u5f0f\u4e0d\u2f00\u6837\u3002String str="i"\u7684\u2f45\u5f0f\uff0cJVM\u4f1a\u5c06\u5176\u5206\u914d\u5230\u5e38\u91cf\u6c60\u4e2d\uff1b\u2f7dString str=new String("i")\uff0cJVM\u4f1a\u5c06\u5176\u5206\u914d\u5230\u5806\u5185\u5b58\u4e2d\u3002'),(0,l.kt)("h3",{id:"\u4ec0\u4e48\u662f\u5e8f\u5217\u5316\u53cd\u5e8f\u5217\u5316"},"\u4ec0\u4e48\u662f\u5e8f\u5217\u5316\u53cd\u5e8f\u5217\u5316?"),(0,l.kt)("p",null,"\u5982\u679c\u6211\u4eec\u9700\u8981\u6301\u4e45\u5316 Java \u5bf9\u8c61\u6bd4\u5982\u5c06 Java \u5bf9\u8c61\u4fdd\u5b58\u5728\u6587\u4ef6\u4e2d\uff0c\u6216\u8005\u5728\u7f51\u7edc\u4f20\u8f93 Java \u5bf9\u8c61\uff0c\u8fd9\u4e9b\u573a\u666f\u90fd\u9700\u8981\u7528\u5230\u5e8f\u5217\u5316\u3002"),(0,l.kt)("p",null,"\u7b80\u5355\u6765\u8bf4\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5e8f\u5217\u5316"),"\uff1a \u5c06\u6570\u636e\u7ed3\u6784\u6216\u5bf9\u8c61\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236\u5b57\u8282\u6d41\u7684\u8fc7\u7a0b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u53cd\u5e8f\u5217\u5316"),"\uff1a\u5c06\u5728\u5e8f\u5217\u5316\u8fc7\u7a0b\u4e2d\u6240\u751f\u6210\u7684\u4e8c\u8fdb\u5236\u5b57\u8282\u6d41\u8f6c\u6362\u6210\u6570\u636e\u7ed3\u6784\u6216\u8005\u5bf9\u8c61\u7684\u8fc7\u7a0b")),(0,l.kt)("p",null,"\u5bf9\u4e8e Java \u8fd9\u79cd\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u8bed\u8a00\u6765\u8bf4\uff0c\u6211\u4eec\u5e8f\u5217\u5316\u7684\u90fd\u662f\u5bf9\u8c61\uff08Object\uff09\u4e5f\u5c31\u662f\u5b9e\u4f8b\u5316\u540e\u7684\u7c7b(Class)\uff0c\u4f46\u662f\u5728 C++\u8fd9\u79cd\u534a\u9762\u5411\u5bf9\u8c61\u7684\u8bed\u8a00\u4e2d\uff0cstruct(\u7ed3\u6784\u4f53)\u5b9a\u4e49\u7684\u662f\u6570\u636e\u7ed3\u6784\u7c7b\u578b\uff0c\u800c class \u5bf9\u5e94\u7684\u662f\u5bf9\u8c61\u7c7b\u578b\u3002"),(0,l.kt)("p",null,"\u7ef4\u57fa\u767e\u79d1\u662f\u5982\u662f\u4ecb\u7ecd\u5e8f\u5217\u5316\u7684\uff1a"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"\u5e8f\u5217\u5316"),"\uff08serialization\uff09\u5728\u8ba1\u7b97\u673a\u79d1\u5b66\u7684\u6570\u636e\u5904\u7406\u4e2d\uff0c\u662f\u6307\u5c06\u6570\u636e\u7ed3\u6784\u6216\u5bf9\u8c61\u72b6\u6001\u8f6c\u6362\u6210\u53ef\u53d6\u7528\u683c\u5f0f\uff08\u4f8b\u5982\u5b58\u6210\u6587\u4ef6\uff0c\u5b58\u4e8e\u7f13\u51b2\uff0c\u6216\u7ecf\u7531\u7f51\u7edc\u4e2d\u53d1\u9001\uff09\uff0c\u4ee5\u7559\u5f85\u540e\u7eed\u5728\u76f8\u540c\u6216\u53e6\u4e00\u53f0\u8ba1\u7b97\u673a\u73af\u5883\u4e2d\uff0c\u80fd\u6062\u590d\u539f\u5148\u72b6\u6001\u7684\u8fc7\u7a0b\u3002\u4f9d\u7167\u5e8f\u5217\u5316\u683c\u5f0f\u91cd\u65b0\u83b7\u53d6\u5b57\u8282\u7684\u7ed3\u679c\u65f6\uff0c\u53ef\u4ee5\u5229\u7528\u5b83\u6765\u4ea7\u751f\u4e0e\u539f\u59cb\u5bf9\u8c61\u76f8\u540c\u8bed\u4e49\u7684\u526f\u672c\u3002\u5bf9\u4e8e\u8bb8\u591a\u5bf9\u8c61\uff0c\u50cf\u662f\u4f7f\u7528\u5927\u91cf\u5f15\u7528\u7684\u590d\u6742\u5bf9\u8c61\uff0c\u8fd9\u79cd\u5e8f\u5217\u5316\u91cd\u5efa\u7684\u8fc7\u7a0b\u5e76\u4e0d\u5bb9\u6613\u3002\u9762\u5411\u5bf9\u8c61\u4e2d\u7684\u5bf9\u8c61\u5e8f\u5217\u5316\uff0c\u5e76\u4e0d\u6982\u62ec\u4e4b\u524d\u539f\u59cb\u5bf9\u8c61\u6240\u5173\u7cfb\u7684\u51fd\u6570\u3002\u8fd9\u79cd\u8fc7\u7a0b\u4e5f\u79f0\u4e3a\u5bf9\u8c61\u7f16\u7ec4\uff08marshalling\uff09\u3002\u4ece\u4e00\u7cfb\u5217\u5b57\u8282\u63d0\u53d6\u6570\u636e\u7ed3\u6784\u7684\u53cd\u5411\u64cd\u4f5c\uff0c\u662f\u53cd\u5e8f\u5217\u5316\uff08\u4e5f\u79f0\u4e3a\u89e3\u7f16\u7ec4\u3001deserialization\u3001unmarshalling\uff09\u3002")),(0,l.kt)("p",null,"\u7efc\u4e0a\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u5e8f\u5217\u5316\u7684\u4e3b\u8981\u76ee\u7684\u662f\u901a\u8fc7\u7f51\u7edc\u4f20\u8f93\u5bf9\u8c61\u6216\u8005\u8bf4\u662f\u5c06\u5bf9\u8c61\u5b58\u50a8\u5230\u6587\u4ef6\u7cfb\u7edf\u3001\u6570\u636e\u5e93\u3001\u5185\u5b58\u4e2d\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220620170922943",src:n(69465).Z,width:"664",height:"266"})),(0,l.kt)("h3",{id:"final-finally-finalize\u7684\u533a\u522b"},"final finally finalize\u7684\u533a\u522b"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"final\u53ef\u4ee5\u4fee\u9970\u7c7b\u3001\u53d8\u91cf\u3001\u2f45\u6cd5\uff0c\u4fee\u9970\u7c7b\u8868\u793a\u8be5\u7c7b\u4e0d\u80fd\u88ab\u7ee7\u627f\u3001\u4fee\u9970\u2f45\u6cd5\u8868\u793a\u8be5\u2f45\u6cd5\u4e0d\u80fd\u88ab\u91cd\u5199\u3001\u4fee\u9970\u53d8\u91cf\u8868\u793a\u8be5\u53d8\u91cf\u662f\u2f00\u4e2a\u5e38\u91cf\u4e0d\u80fd\u88ab\u91cd\u65b0\u8d4b\u503c\u3002"),(0,l.kt)("li",{parentName:"ul"},"finally\u2f00\u822c\u4f5c\u2f64\u5728try-catch\u4ee3\u7801\u5757\u4e2d\uff0c\u5728\u5904\u7406\u5f02\u5e38\u7684\u65f6\u5019\uff0c\u901a\u5e38\u6211\u4eec\u5c06\u2f00\u5b9a\u8981\u6267\u2f8f\u7684\u4ee3\u7801\u2f45\u6cd5finally\u4ee3\u7801\u5757\u4e2d\uff0c\u8868\u793a\u4e0d\u7ba1\u662f\u5426\u51fa\u73b0\u5f02\u5e38\uff0c\u8be5\u4ee3\u7801\u5757\u90fd\u4f1a\u6267\u2f8f\uff0c\u2f00\u822c\u2f64\u6765\u5b58\u653e\u2f00\u4e9b\u5173\u95ed\u8d44\u6e90\u7684\u4ee3\u7801\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f\u7279\u6b8a\u60c5\u51b5\uff1a\u5f53finally\u4e2d\u5305\u542breturn"),(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("img",{alt:"image-20220619143704353",src:n(77819).Z,width:"850",height:"530"}))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"finalize\u662f\u2f00\u4e2a\u2f45\u6cd5\uff0c\u5c5e\u4e8eObject\u7c7b\u7684\u2f00\u4e2a\u2f45\u6cd5\uff0c\u2f7dObject\u7c7b\u662f\u6240\u6709\u7c7b\u7684\u2f57\u7c7b\uff0c\u8be5\u2f45\u6cd5\u2f00\u822c\u7531\u5783\u573e\u56de\u6536\u5668\u6765\u8c03\u2f64\uff0c\u5f53\u6211\u4eec\u8c03\u2f64System.gc()\u2f45\u6cd5\u7684\u65f6\u5019\uff0c\u7531\u5783\u573e\u56de\u6536\u5668\u8c03\u2f64finalize()\uff0c\u56de\u6536\u5783\u573e\uff0c\u2f00\u4e2a\u5bf9\u8c61\u662f\u5426\u53ef\u56de\u6536\u7684\u6700\u540e\u5224\u65ad\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f\u6ce8\uff1a"),(0,l.kt)("ul",{parentName:"blockquote"},(0,l.kt)("li",{parentName:"ul"},"Java \u8bed\u8a00\u63d0\u4f9b\u4e86\u5bf9\u8c61\u7ec8\u6b62\uff08finalization\uff09\u673a\u5236\u6765\u5141\u8bb8\u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u5bf9\u8c61\u88ab\u9500\u6bc1\u4e4b\u524d\u7684\u81ea\u5b9a\u4e49\u5904\u7406\u903b\u8f91\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5f53\u5783\u573e\u56de\u6536\u5668\u53d1\u73b0\u6ca1\u6709\u5f15\u7528\u6307\u5411\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5373\uff1a\u5783\u573e\u56de\u6536\u6b64\u5bf9\u8c61\u4e4b\u524d\uff0c\u603b\u4f1a\u5148\u8c03\u7528\u8fd9\u4e2a\u5bf9\u8c61\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"finalize( )")," \u65b9\u6cd5\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"finalize( )")," \u65b9\u6cd5\u5141\u8bb8\u5728\u5b50\u7c7b\u4e2d\u88ab\u91cd\u5199\uff0c\u7528\u4e8e\u5728\u5bf9\u8c61\u88ab\u56de\u6536\u65f6\u8fdb\u884c\u8d44\u6e90\u91ca\u653e\u3002\u901a\u5e38\u5728\u8fd9\u4e2a\u65b9\u6cd5\u4e2d\u8fdb\u884c\u4e00\u4e9b\u8d44\u6e90\u91ca\u653e\u548c\u6e05\u7406\u7684\u5de5\u4f5c\uff0c\u6bd4\u5982\u5173\u95ed\u6587\u4ef6\u3001\u5957\u63a5\u5b57\u548c\u6570\u636e\u5e93\u8fde\u63a5\u7b49\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u6c38\u8fdc\u4e0d\u8981\u4e3b\u52a8\u8c03\u7528\u67d0\u4e2a\u5bf9\u8c61\u7684 finalize ( ) \u65b9\u6cd5\uff0c\u5e94\u8be5\u4ea4\u7ed9\u5783\u573e\u56de\u6536\u673a\u5236\u8c03\u7528"),"\u3002\u7406\u7531\u5305\u62ec\u4e0b\u9762\u4e09\u70b9\uff1a",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5728 ",(0,l.kt)("inlineCode",{parentName:"li"},"finalize( )")," \u6267\u884c\u65f6\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5bf9\u8c61\u590d\u6d3b\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"finalize( )")," \u65b9\u6cd5\u7684\u6267\u884c\u65f6\u95f4\u662f\u6ca1\u6709\u4fdd\u969c\u7684\uff0c\u5b83\u5b8c\u5168\u7531 GC \u7ebf\u7a0b\u51b3\u5b9a\uff0c\u6781\u7aef\u60c5\u51b5\u4e0b\uff0c\u82e5\u4e0d\u53d1\u751f GC\uff0c\u5219 ",(0,l.kt)("inlineCode",{parentName:"li"},"finalize( )")," \u65b9\u6cd5\u5c06\u6ca1\u6709\u6267\u884c\u673a\u4f1a\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u4e00\u4e2a\u7cdf\u7cd5\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"finalize( )")," \u4f1a\u4e25\u91cd\u5f71\u54cd GC \u7684\u6027\u80fd\u3002"))),(0,l.kt)("li",{parentName:"ul"},"\u4ece\u529f\u80fd\u4e0a\u6765\u8bf4\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"finalize( )")," \u65b9\u6cd5\u4e0e C++ \u4e2d\u7684\u6790\u6784\u51fd\u6570\u6bd4\u8f83\u76f8\u4f3c\uff0c\u4f46\u662f Java \u91c7\u7528\u7684\u662f\u57fa\u4e8e\u5783\u573e\u56de\u6536\u5668\u7684\u81ea\u52a8\u5185\u5b58\u7ba1\u7406\u673a\u5236\uff0c\u6240\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"li"},"finalize( )")," \u65b9\u6cd5\u5728\u672c\u8d28\u4e0a\u4e0d\u540c\u4e8e C++ \u4e2d\u7684\u6790\u6784\u51fd\u6570\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7531\u4e8e ",(0,l.kt)("inlineCode",{parentName:"li"},"finalize( )")," \u65b9\u6cd5\u7684\u5b58\u5728\uff0c\u865a\u62df\u673a\u4e2d\u7684\u5bf9\u8c61\u4e00\u822c\u5904\u4e8e\u4e09\u79cd\u53ef\u80fd\u7684\u72b6\u6001"))),(0,l.kt)("h3",{id:"java\u6709\u54ea\u4e9b\u6570\u636e\u7c7b\u578b"},"\u2b50Java\u6709\u54ea\u4e9b\u6570\u636e\u7c7b\u578b"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud83d\udd22 \u6570\u503c\uff1abyte\uff0cshort\uff0cint\uff0clong"),(0,l.kt)("li",{parentName:"ul"},"\ud83e\uddff \u6d6e\u70b9\uff1afloat\uff0cdouble"),(0,l.kt)("li",{parentName:"ul"},"\ud83d\udd23 \u5b57\u7b26\uff1achar"),(0,l.kt)("li",{parentName:"ul"},"\u2611\ufe0f \u5e03\u5c14\uff1aboolean")),(0,l.kt)("p",null,"\u8fd9\u516b\u79cd\u57fa\u672c\u7c7b\u578b\u90fd\u6709\u5bf9\u5e94\u7684\u5305\u88c5\u7c7b\u5206\u522b\u4e3a\uff1aByte\u3001Short\u3001Integer\u3001Long\u3001Float\u3001Double\u3001Character\u3001Boolean"),(0,l.kt)("h4",{id:"\u57fa\u672c\u7c7b\u578b\u548c\u5305\u88c5\u7c7b\u578b\u7684\u533a\u522b"},"\u57fa\u672c\u7c7b\u578b\u548c\u5305\u88c5\u7c7b\u578b\u7684\u533a\u522b\uff1f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5305\u88c5\u7c7b\u578b\u4e0d\u8d4b\u503c\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"null")," \uff0c\u800c\u57fa\u672c\u7c7b\u578b\u6709\u9ed8\u8ba4\u503c\u4e14\u4e0d\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"null"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5305\u88c5\u7c7b\u578b\u53ef\u7528\u4e8e\u6cdb\u578b\uff0c\u800c\u57fa\u672c\u7c7b\u578b\u4e0d\u53ef\u4ee5\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u5c40\u90e8\u53d8\u91cf\u5b58\u653e\u5728 Java \u865a\u62df\u673a\u6808\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf\u8868\u4e2d\uff0c\u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u6210\u5458\u53d8\u91cf\uff08\u672a\u88ab ",(0,l.kt)("inlineCode",{parentName:"li"},"static")," \u4fee\u9970 \uff09\u5b58\u653e\u5728 Java \u865a\u62df\u673a\u7684\u5806\u4e2d\u3002\u5305\u88c5\u7c7b\u578b\u5c5e\u4e8e\u5bf9\u8c61\u7c7b\u578b\uff0c\u6211\u4eec\u77e5\u9053\u51e0\u4e4e\u6240\u6709\u5bf9\u8c61\u5b9e\u4f8b\u90fd\u5b58\u5728\u4e8e\u5806\u4e2d\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u76f8\u6bd4\u4e8e\u5bf9\u8c61\u7c7b\u578b\uff0c \u57fa\u672c\u6570\u636e\u7c7b\u578b\u5360\u7528\u7684\u7a7a\u95f4\u975e\u5e38\u5c0f\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e3a\u4ec0\u4e48\u8bf4\u662f\u51e0\u4e4e\u6240\u6709\u5bf9\u8c61\u5b9e\u4f8b\u5462\uff1f")," \u8fd9\u662f\u56e0\u4e3a HotSpot \u865a\u62df\u673a\u5f15\u5165\u4e86 JIT \u4f18\u5316\u4e4b\u540e\uff0c\u4f1a\u5bf9\u5bf9\u8c61\u8fdb\u884c\u9003\u9038\u5206\u6790\uff0c\u5982\u679c\u53d1\u73b0\u67d0\u4e00\u4e2a\u5bf9\u8c61\u5e76\u6ca1\u6709\u9003\u9038\u5230\u65b9\u6cd5\u5916\u90e8\uff0c\u90a3\u4e48\u5c31\u53ef\u80fd\u901a\u8fc7\u6807\u91cf\u66ff\u6362\u6765\u5b9e\u73b0\u6808\u4e0a\u5206\u914d\uff0c\u800c\u907f\u514d\u5806\u4e0a\u5206\u914d\u5185\u5b58"),(0,l.kt)("p",null,"\u26a0\ufe0f\u6ce8\u610f \uff1a ",(0,l.kt)("strong",{parentName:"p"},"\u57fa\u672c\u6570\u636e\u7c7b\u578b\u5b58\u653e\u5728\u6808\u4e2d\u662f\u4e00\u4e2a\u5e38\u89c1\u7684\u8bef\u533a\uff01")," \u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u6210\u5458\u53d8\u91cf\u5982\u679c\u6ca1\u6709\u88ab ",(0,l.kt)("inlineCode",{parentName:"p"},"static")," \u4fee\u9970\u7684\u8bdd\uff08\u4e0d\u5efa\u8bae\u8fd9\u4e48\u4f7f\u7528\uff0c\u5e94\u8be5\u8981\u4f7f\u7528\u57fa\u672c\u6570\u636e\u7c7b\u578b\u5bf9\u5e94\u7684\u5305\u88c5\u7c7b\u578b\uff09\uff0c\u5c31\u5b58\u653e\u5728\u5806\u4e2d\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"class BasicTypeVar{\n  private int x;\n}\n")),(0,l.kt)("h4",{id:"\u5305\u88c5\u7c7b\u578b\u7684\u7f13\u5b58\u673a\u5236\u4e86\u89e3\u4e48"},"\u5305\u88c5\u7c7b\u578b\u7684\u7f13\u5b58\u673a\u5236\u4e86\u89e3\u4e48\uff1f"),(0,l.kt)("p",null,"Java \u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u5305\u88c5\u7c7b\u578b\u7684\u5927\u90e8\u5206\u90fd\u7528\u5230\u4e86\u7f13\u5b58\u673a\u5236\u6765\u63d0\u5347\u6027\u80fd\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Byte"),",",(0,l.kt)("inlineCode",{parentName:"p"},"Short"),",",(0,l.kt)("inlineCode",{parentName:"p"},"Integer"),",",(0,l.kt)("inlineCode",{parentName:"p"},"Long")," \u8fd9 4 \u79cd\u5305\u88c5\u7c7b\u9ed8\u8ba4\u521b\u5efa\u4e86\u6570\u503c ",(0,l.kt)("strong",{parentName:"p"},"[-128\uff0c127]")," \u7684\u76f8\u5e94\u7c7b\u578b\u7684\u7f13\u5b58\u6570\u636e\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"Character")," \u521b\u5efa\u4e86\u6570\u503c\u5728 ",(0,l.kt)("strong",{parentName:"p"},"[0,127]")," \u8303\u56f4\u7684\u7f13\u5b58\u6570\u636e\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"Boolean")," \u76f4\u63a5\u8fd4\u56de ",(0,l.kt)("inlineCode",{parentName:"p"},"True")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"False"),"\u3002"),(0,l.kt)("h4",{id:"\ufe0f\u5360\u7528\u7684\u7a7a\u95f4\u5927\u5c0f"},"\u2b50\ufe0f\u5360\u7528\u7684\u7a7a\u95f4\u5927\u5c0f"),(0,l.kt)("p",null,"\ud83d\udc68\u200d\ud83d\udcbb\u9762\u8bd5\u5b98 \uff1a \u5b83\u4eec\u7684\u9ed8\u8ba4\u503c\u548c\u5360\u7528\u7684\u7a7a\u95f4\u5927\u5c0f\u77e5\u9053\u4e0d\uff1f"),(0,l.kt)("p",null,"\ud83d\ude4b \u6211 \uff1a\u8fd9 8 \u79cd\u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u9ed8\u8ba4\u503c\u4ee5\u53ca\u6240\u5360\u7a7a\u95f4\u7684\u5927\u5c0f\u5982\u4e0b\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u57fa\u672c\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u4f4d\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u8282"),(0,l.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"int"),(0,l.kt)("td",{parentName:"tr",align:null},"32"),(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"short"),(0,l.kt)("td",{parentName:"tr",align:null},"16"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"long"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null},"8"),(0,l.kt)("td",{parentName:"tr",align:null},"0L")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"byte"),(0,l.kt)("td",{parentName:"tr",align:null},"8"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"char"),(0,l.kt)("td",{parentName:"tr",align:null},"16"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"'u0000'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"float"),(0,l.kt)("td",{parentName:"tr",align:null},"32"),(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"0f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"double"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null},"8"),(0,l.kt)("td",{parentName:"tr",align:null},"0d")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"false")))),(0,l.kt)("p",null,"\u53e6\u5916\uff0c\u5bf9\u4e8e boolean\uff0c\u5b98\u65b9\u6587\u6863\u672a\u660e\u786e\u5b9a\u4e49\uff0c\u5b83\u4f9d\u8d56\u4e8e JVM \u5382\u5546\u7684\u5177\u4f53\u5b9e\u73b0\u3002\u903b\u8f91\u4e0a\u7406\u89e3\u662f\u5360\u7528 1 \u4f4d\uff0c\u4f46\u662f\u5b9e\u9645\u4e2d\u4f1a\u8003\u8651\u8ba1\u7b97\u673a\u9ad8\u6548\u5b58\u50a8\u56e0\u7d20\u3002"),(0,l.kt)("h4",{id:"java-\u4e2d-boolean-\u5360\u591a\u5c11\u5b57\u8282"},"Java \u4e2d boolean \u5360\u591a\u5c11\u5b57\u8282\uff1f"),(0,l.kt)("p",null,"Oracle \u5b98\u65b9\u6587\u6863\u5730\u5740\u5728\u6b64\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html"},"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(17884).Z,width:"1284",height:"989"})),(0,l.kt)("p",null,"\u603b\u5171 8 \u5927\u57fa\u7840\u6570\u636e\u7c7b\u578b\uff0c\u5176\u4f59 7 \u4e2a\u90fd\u975e\u5e38\u660e\u786e\u7684\u6807\u660e\u4e86\u5360\u7528\u591a\u5c11\u5b57\u8282\uff0c\u53ea\u6709 boolean \u6a21\u68f1\u4e24\u53ef\uff1a"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"boolean"),": The ",(0,l.kt)("inlineCode",{parentName:"p"},"boolean")," data type has only two possible values: ",(0,l.kt)("inlineCode",{parentName:"p"},"true")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"false"),". Use this data type for simple flags that track true/false conditions. This data type represents one bit of information, but its \"size\" isn't something that's precisely defined.")),(0,l.kt)("p",null,"\u7ffb\u8bd1\u4e0b\u5212\u7ebf\u90e8\u5206\uff1a\u8fd9\u4e2a\u6570\u636e\u7c7b\u578b\u8868\u793a 1 bit \u7684\u4fe1\u606f\uff08true or false\uff0c\u7f16\u8bd1\u540e\u7528 0 \u6216 1 \u6765\u8868\u793a\uff09\uff0c\u4f46\u662f\u5b83\u7684 size \u5e76\u6ca1\u6709\u88ab\u7cbe\u786e\u5730\u5b9a\u4e49\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4e0d\u7ba1\u5b83\u5360\u591a\u5927\u7684\u7a7a\u95f4\uff0c\u53ea\u6709 1 \u4e2a bit \u7684\u4fe1\u606f\u662f\u6709\u610f\u4e49\u7684\u3002")),(0,l.kt)("p",null,"\u4e8b\u5b9e\u4e0a\uff0cboolean \u5230\u5e95\u5360\u7528\u591a\u5c11\u5927\u5c0f\u7684\u7a7a\u95f4\uff0c\u201cIt's virtual machine dependent.\u201d\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5b8c\u5168\u53d6\u51b3\u4e8e Java \u865a\u62df\u673a\u672c\u8eab\u7684\u8bbe\u8ba1"),"\u3002"),(0,l.kt)("p",null,"\u4e0d\u8fc7\u663e\u7136 boolean \u662f\u80af\u5b9a\u4e0d\u53ef\u80fd\u53ea\u5360\u7528 1 \u4e2a bit \u7684\uff0c\u6700\u8d77\u7801\u4e5f\u662f 1 \u4e2a Bytes\uff08\u5b57\u8282\uff09\uff0c\u56e0\u4e3a\u8ba1\u7b97\u673a\u5904\u7406\u6570\u636e\u7684\u6700\u5c0f\u5355\u4f4d\u662f 1 \u4e2a\u5b57\u8282"),(0,l.kt)("p",null,"\u300aJava \u865a\u62df\u673a\u89c4\u8303\u300b\u5bf9\u4e8e boolean \u5230\u5e95\u5360\u7528\u591a\u5c11\u7a7a\u95f4\u63d0\u4f9b\u4e86\u4e00\u5b9a\u7684\u5efa\u8bae\uff08\u53ea\u662f\u5efa\u8bae\uff0c\u5177\u4f53\u7684\u5b9e\u73b0\u4ecd\u7136\u53d6\u51b3\u4e8e\u6bcf\u4e2a\u865a\u62df\u673a\u662f\u5426\u6309\u7167\u89c4\u8303\u6765\uff09\uff0c\u5b98\u65b9\u6587\u6863\u5728\u8fd9\u91cc\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.3.4"},"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.3.4")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Although the Java Virtual Machine defines a ",(0,l.kt)("inlineCode",{parentName:"p"},"boolean")," type, it only provides very limited support for it. There are no Java Virtual Machine instructions solely dedicated to operations on ",(0,l.kt)("inlineCode",{parentName:"p"},"boolean")," values. Instead, expressions in the Java programming language that operate on ",(0,l.kt)("inlineCode",{parentName:"p"},"boolean")," values are compiled to use values of the Java Virtual Machine ",(0,l.kt)("inlineCode",{parentName:"p"},"int")," data type.")),(0,l.kt)("p",null,"\u5c3d\u7ba1 Java \u865a\u62df\u673a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5e03\u5c14\u7c7b\u578b\uff0c\u4f46\u662f\u5b83\u53ea\u63d0\u4f9b\u4e86\u975e\u5e38\u6709\u9650\u7684\u652f\u6301\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5e76\u3010\u6ca1\u6709\u3011\u4e13\u95e8\u7528\u4e8e\u5bf9\u3010boolean \u503c\u3011\u8fdb\u884c\u64cd\u4f5c\u7684 Java \u865a\u62df\u673a\u6307\u4ee4"),"\u3002\u76f8\u53cd\uff0c",(0,l.kt)("strong",{parentName:"p"},"Java \u4e2d\u64cd\u4f5c boolean \u503c\u7684\u8868\u8fbe\u5f0f\u88ab\u7f16\u8bd1\u4e3a\u4f7f\u7528 int \u6570\u636e\u7c7b\u578b\u7684\u503c"),"\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"The Java Virtual Machine does directly support ",(0,l.kt)("inlineCode",{parentName:"p"},"boolean")," arrays. Its ",(0,l.kt)("inlineCode",{parentName:"p"},"newarray")," instruction (",(0,l.kt)("inlineCode",{parentName:"p"},"newarray"),") enables creation of ",(0,l.kt)("inlineCode",{parentName:"p"},"boolean")," arrays. Arrays of type ",(0,l.kt)("inlineCode",{parentName:"p"},"boolean")," are accessed and modified using the ",(0,l.kt)("inlineCode",{parentName:"p"},"byte")," array instructions ",(0,l.kt)("inlineCode",{parentName:"p"},"baload")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"bastore"),".")),(0,l.kt)("p",null,"\u4e0d\u8fc7\uff0c",(0,l.kt)("strong",{parentName:"p"},"Java \u865a\u62df\u673a\u3010\u76f4\u63a5\u652f\u6301\u3011\u3010boolean \u6570\u7ec4\u3011"),"\uff0c\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"newarray")," \u6307\u4ee4\u521b\u5efa boolean \u6570\u7ec4\uff0c\u7136\u540e\u901a\u8fc7 byte \u6570\u7ec4\u6307\u4ee4 ",(0,l.kt)("inlineCode",{parentName:"p"},"baload")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"bastore")," \u6765\u8bbf\u95ee\u548c\u4fee\u6539 boolean \u6570\u7ec4\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"newarray")," \u6307\u4ee4\uff1aCreate new array"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"baload")," \u6307\u4ee4\uff1aLoad ",(0,l.kt)("inlineCode",{parentName:"li"},"byte")," or ",(0,l.kt)("inlineCode",{parentName:"li"},"boolean")," from array"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"bastore")," \u6307\u4ee4\uff1aStore into ",(0,l.kt)("inlineCode",{parentName:"li"},"byte")," or ",(0,l.kt)("inlineCode",{parentName:"li"},"boolean")," array")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"In Oracle\u2019s Java Virtual Machine implementation, ",(0,l.kt)("inlineCode",{parentName:"p"},"boolean")," arrays in the Java programming language are encoded as Java Virtual Machine ",(0,l.kt)("inlineCode",{parentName:"p"},"byte")," arrays, using 8 bits per ",(0,l.kt)("inlineCode",{parentName:"p"},"boolean")," element.")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5728 Oracle \u7684 Java \u865a\u62df\u673a\u5b9e\u73b0\u4e2d\uff0cJava \u4e2d\u7684 boolean \u6570\u7ec4\u88ab\u7f16\u7801\u4e3a byte \u6570\u7ec4\uff0c\u6bcf\u4e2a boolean \u5143\u7d20\u4f7f\u7528 1 \u5b57\u8282\uff088 bit\uff09"),"\u3002"),(0,l.kt)("p",null,"\u603b\u7ed3\u4e0b\uff0cJava \u865a\u62df\u673a\u89c4\u8303\u63d0\u8bae\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c boolean \u662f \u201c\u5355\u72ec\u4f7f\u7528\u201d\uff1aboolean \u88ab\u7f16\u8bd1\u4e3a int \u7c7b\u578b\uff0c\u5360 ",(0,l.kt)("strong",{parentName:"li"},"4")," \u4e2a\u5b57\u8282"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679cboolean \u662f\u4ee5 \u201cboolean \u6570\u7ec4\u201d \u7684\u5f62\u5f0f\u4f7f\u7528\uff1aboolean \u5360 ",(0,l.kt)("strong",{parentName:"li"},"1")," \u4e2a\u5b57\u8282\uff0cJava \u865a\u62df\u673a\u76f4\u63a5\u652f\u6301 boolean \u6570\u7ec4\uff0c\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"li"},"newarray")," \u6307\u4ee4\u521b\u5efa boolean \u6570\u7ec4\uff0c\u7136\u540e\u901a\u8fc7 byte \u6570\u7ec4\u6307\u4ee4 ",(0,l.kt)("inlineCode",{parentName:"li"},"baload")," \u548c ",(0,l.kt)("inlineCode",{parentName:"li"},"bastore")," \u6765\u8bbf\u95ee\u548c\u4fee\u6539 boolean \u6570\u7ec4")),(0,l.kt)("h3",{id:"float-f34\u662f\u5426\u6b63\u786e"},"float f=3.4;\u662f\u5426\u6b63\u786e\uff1f"),(0,l.kt)("p",null,'\u4e0d\u6b63\u786e\uff0c\u8d4b\u503c\u8fd0\u7b97\u7b26 "=" \u5de6\u53f3\u4e24\u8fb9\u7684\u7cbe\u5ea6\u7c7b\u578b\u4e0d\u5339\u914d\u3002'),(0,l.kt)("p",null,"Java\u4e2d\uff0c\u6709\u5c0f\u6570\u70b9\u7684\u9ed8\u8ba4\u88ab\u5b58\u50a8\u4e3adouble\u7c7b\u578b\uff0c\u5373\u53cc\u7cbe\u5ea6\uff1b\u800cfloat\u7c7b\u578b\u7684\u53d8\u91cf\u4e3a\u5355\u7cbe\u5ea6\u3002"),(0,l.kt)("p",null,"\u53ef\u4ee5\u4f7f\u7528\u5f3a\u8f6c\u6216\u52a0f\uff0c\u5373 float f = (folat)3.4\uff0cfloat f = 3.4f\u3002"),(0,l.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public static void main(String[] args) {\n    float f = 3.14222222222222222222222;\n    double d = 3.4;\n    System.out.println(f);\n    System.out.println(d);\n}\n-------------------------------------------\n1.java:3: \u9519\u8bef: \u4e0d\u517c\u5bb9\u7684\u7c7b\u578b: \u4ecedouble\u8f6c\u6362\u5230float\u53ef\u80fd\u4f1a\u6709\u635f\u5931\nfloat f = 3.14222222222222222222222;\n      ^\n1 \u4e2a\u9519\u8bef\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u62d3\u5c55\uff1aInteger a = 1000\uff0cInteger b = 1000\uff0ca==b \u7684\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f\u90a3\u5982\u679c a\uff0cb \u90fd\u4e3a1\uff0c\u7ed3\u679c\u53c8\u662f\u4ec0\u4e48\uff1f")),(0,l.kt)("p",null,"Integer a = 1000\uff0cInteger b = 1000\uff0ca==b \u7ed3\u679c\u4e3a",(0,l.kt)("strong",{parentName:"p"},"false")),(0,l.kt)("p",null,"Integer a = 1\uff0cInteger b = 1\uff0ca==b \u7ed3\u679c\u4e3a",(0,l.kt)("strong",{parentName:"p"},"true")),(0,l.kt)("p",null,"\u8fd9\u9053\u9898\u4e3b\u8981\u8003\u5bdf Integer \u5305\u88c5\u7c7b\u7f13\u5b58\u7684\u8303\u56f4,",(0,l.kt)("strong",{parentName:"p"},"\u5728-128~127\u4e4b\u95f4\u4f1a\u7f13\u5b58\u8d77\u6765"),",\u6bd4\u8f83\u7684\u662f\u76f4\u63a5\u7f13\u5b58\u7684\u6570\u636e,\u5728\u6b64\u4e4b\u5916\u6bd4\u8f83\u7684\u662f\u5bf9\u8c61"),(0,l.kt)("h3",{id:"\u6210\u5458\u53d8\u91cf\u4e0e\u5c40\u90e8\u53d8\u91cf\u7684\u533a\u522b\u6709\u54ea\u4e9b"},"\u6210\u5458\u53d8\u91cf\u4e0e\u5c40\u90e8\u53d8\u91cf\u7684\u533a\u522b\u6709\u54ea\u4e9b\uff1f"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u4ece",(0,l.kt)("strong",{parentName:"li"},"\u8bed\u6cd5\u5f62\u5f0f\u4e0a"),"\u770b:\u6210\u5458\u53d8\u91cf\u662f\u5c5e\u4e8e\u7c7b\u7684\uff0c\u800c\u5c40\u90e8\u53d8\u91cf\u662f\u5728\u65b9\u6cd5\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u6216\u662f\u65b9\u6cd5\u7684\u53c2\u6570\uff1b\u6210\u5458\u53d8\u91cf\u53ef\u4ee5\u88abpublic,private,static\u7b49\u4fee\u9970\u7b26\u6240\u4fee\u9970\uff0c\u800c",(0,l.kt)("strong",{parentName:"li"},"\u5c40\u90e8\u53d8\u91cf\u4e0d\u80fd\u88ab\u8bbf\u95ee\u63a7\u5236\u4fee\u9970\u7b26\u53castatic\u6240\u4fee\u9970"),"\uff1b\u4f46\u662f\uff0c\u6210\u5458\u53d8\u91cf\u548c\u5c40\u90e8\u53d8\u91cf\u90fd\u80fd\u88abfinal\u6240\u4fee\u9970\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u4ece\u53d8\u91cf",(0,l.kt)("strong",{parentName:"li"},"\u5728\u5185\u5b58\u4e2d\u7684\u5b58\u50a8\u65b9\u5f0f"),"\u6765\u770b:\u5982\u679c\u6210\u5458\u53d8\u91cf\u662f\u4f7f\u7528static\u4fee\u9970\u7684\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6210\u5458\u53d8\u91cf\u662f\u5c5e\u4e8e\u7c7b\u7684\uff0c\u5982\u679c\u6ca1\u6709\u4f7f\u7528static\u4fee\u9970\uff0c\u8fd9\u4e2a\u6210\u5458\u53d8\u91cf\u662f\u5c5e\u4e8e\u5b9e\u4f8b\u7684\u3002\u5bf9\u8c61\u5b58\u4e8e\u5806\u5185\u5b58\uff0c\u5982\u679c\u5c40\u90e8\u53d8\u91cf\u7c7b\u578b\u4e3a\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u90a3\u4e48\u5b58\u50a8\u5728\u6808\u5185\u5b58\uff0c\u5982\u679c\u4e3a\u5f15\u7528\u6570\u636e\u7c7b\u578b\uff0c\u90a3\u5b58\u653e\u7684\u662f\u6307\u5411\u5806\u5185\u5b58\u5bf9\u8c61\u7684\u5f15\u7528\u6216\u8005\u662f\u6307\u5411\u5e38\u91cf\u6c60\u4e2d\u7684\u5730\u5740\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u4ece\u53d8\u91cf\u5728",(0,l.kt)("strong",{parentName:"li"},"\u5185\u5b58\u4e2d\u7684\u751f\u5b58\u65f6\u95f4\u4e0a"),"\u770b:\u6210\u5458\u53d8\u91cf\u662f\u5bf9\u8c61\u7684\u4e00\u90e8\u5206\uff0c\u5b83\u968f\u7740\u5bf9\u8c61\u7684\u521b\u5efa\u800c\u5b58\u5728\uff0c\u800c\u5c40\u90e8\u53d8\u91cf\u968f\u7740\u65b9\u6cd5\u7684\u8c03\u7528\u800c\u81ea\u52a8\u6d88\u5931\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u6210\u5458\u53d8\u91cf",(0,l.kt)("strong",{parentName:"li"},"\u5982\u679c\u6ca1\u6709\u88ab\u8d4b\u521d\u503c"),":\u5219\u4f1a\u81ea\u52a8\u4ee5\u7c7b\u578b\u7684\u9ed8\u8ba4\u503c\u800c\u8d4b\u503c\uff08\u4e00\u79cd\u60c5\u51b5\u4f8b\u5916:\u88abfinal\u4fee\u9970\u7684\u6210\u5458\u53d8\u91cf\u4e5f\u5fc5\u987b\u663e\u5f0f\u5730\u8d4b\u503c\uff09\uff0c\u800c",(0,l.kt)("strong",{parentName:"li"},"\u5c40\u90e8\u53d8\u91cf\u5219\u4e0d\u4f1a\u81ea\u52a8\u8d4b\u503c"),"\u3002")),(0,l.kt)("h3",{id:"\u63a5\u53e3\u548c\u62bd\u8c61\u7c7b\u7684\u533a\u522b\u662f\u4ec0\u4e48"},"\u2b50\u63a5\u53e3\u548c\u62bd\u8c61\u7c7b\u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u63a5\u53e3\u7684\u65b9\u6cd5\u9ed8\u8ba4\u662fpublic\uff0c\u6240\u6709\u65b9\u6cd5\u5728\u63a5\u53e3\u4e2d\u4e0d\u80fd\u6709\u5b9e\u73b0(Java8\u5f00\u59cb\u63a5\u53e3\u65b9\u6cd5\u53ef\u4ee5\u6709\u9ed8\u8ba4\u5b9e\u73b0\uff09\uff0c\u800c\u62bd\u8c61\u7c7b\u53ef\u4ee5\u6709\u975e\u62bd\u8c61\u7684\u65b9\u6cd5\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u63a5\u53e3\u4e2d\u9664\u4e86static\u3001final\u53d8\u91cf\uff0c\u4e0d\u80fd\u6709\u5176\u4ed6\u53d8\u91cf\uff0c\u800c\u62bd\u8c61\u7c7b\u4e2d\u5219\u4e0d\u4e00\u5b9a\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u4e00\u4e2a\u7c7b\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u63a5\u53e3\uff0c\u4f46\u53ea\u80fd\u5b9e\u73b0\u4e00\u4e2a\u62bd\u8c61\u7c7b\u3002\u63a5\u53e3\u81ea\u5df1\u672c\u8eab\u53ef\u4ee5\u901a\u8fc7extends\u5173\u952e\u5b57\u6269\u5c55\u591a\u4e2a\u63a5\u53e3\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u63a5\u53e3\u65b9\u6cd5\u9ed8\u8ba4\u4fee\u9970\u7b26\u662fpublic\uff0c\u62bd\u8c61\u65b9\u6cd5\u53ef\u4ee5\u6709public\u3001protected\u548cdefault\u8fd9\u4e9b\u4fee\u9970\u7b26\uff08\u62bd\u8c61\u65b9\u6cd5\u5c31\u662f\u4e3a\u4e86\u88ab\u91cd\u5199\u6240\u4ee5\u4e0d\u80fd\u4f7f\u7528private\u5173\u952e\u5b57\u4fee\u9970\uff01\uff09\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u4ece\u8bbe\u8ba1\u5c42\u9762\u6765\u8bf4\uff0c\u62bd\u8c61\u662f\u5bf9\u7c7b\u7684\u62bd\u8c61\uff0c\u662f\u4e00\u79cd\u6a21\u677f\u8bbe\u8ba1\uff0c\u800c\u63a5\u53e3\u662f\u5bf9\u884c\u4e3a\u7684\u62bd\u8c61\uff0c\u662f\u4e00\u79cd\u884c\u4e3a\u7684\u89c4\u8303\u3002")),(0,l.kt)("h3",{id:"java-\u6cdb\u578b\u4e86\u89e3\u4e48\u6cdb\u578b\u7684\u4f5c\u7528\u4ec0\u4e48\u662f\u7c7b\u578b\u64e6\u9664"},"\ud83c\udf20Java \u6cdb\u578b\u4e86\u89e3\u4e48\uff1f\u6cdb\u578b\u7684\u4f5c\u7528\uff1f\u4ec0\u4e48\u662f\u7c7b\u578b\u64e6\u9664\uff1f"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Java \u6cdb\u578b\uff08Generics\uff09")," \u662f JDK 5 \u4e2d\u5f15\u5165\u7684\u4e00\u4e2a\u65b0\u7279\u6027\u3002\u4f7f\u7528\u6cdb\u578b\u53c2\u6570\uff0c\u53ef\u4ee5\u589e\u5f3a\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u4ee5\u53ca\u7a33\u5b9a\u6027\u3002"),(0,l.kt)("p",null,"\u7f16\u8bd1\u5668\u53ef\u4ee5\u5bf9\u6cdb\u578b\u53c2\u6570\u8fdb\u884c\u68c0\u6d4b\uff0c\u5e76\u4e14\u901a\u8fc7\u6cdb\u578b\u53c2\u6570\u53ef\u4ee5\u6307\u5b9a\u4f20\u5165\u7684\u5bf9\u8c61\u7c7b\u578b\u3002\u6bd4\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"ArrayList<Persion> persons = new ArrayList<Persion>()")," \u8fd9\u884c\u4ee3\u7801\u5c31\u6307\u660e\u4e86\u8be5 ",(0,l.kt)("inlineCode",{parentName:"p"},"ArrayList")," \u5bf9\u8c61\u53ea\u80fd\u4f20\u5165 ",(0,l.kt)("inlineCode",{parentName:"p"},"Persion")," \u5bf9\u8c61\uff0c\u5982\u679c\u4f20\u5165\u5176\u4ed6\u7c7b\u578b\u7684\u5bf9\u8c61\u5c31\u4f1a\u62a5\u9519\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"ArrayList<E> extends AbstractList<E>\n")),(0,l.kt)("p",null,"\u5e76\u4e14\uff0c\u539f\u751f ",(0,l.kt)("inlineCode",{parentName:"p"},"List")," \u8fd4\u56de\u7c7b\u578b\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"Object")," \uff0c\u9700\u8981\u624b\u52a8\u8f6c\u6362\u7c7b\u578b\u624d\u80fd\u4f7f\u7528\uff0c\u4f7f\u7528\u6cdb\u578b\u540e\u7f16\u8bd1\u5668\u81ea\u52a8\u8f6c\u6362\u3002"),(0,l.kt)("p",null,"\u6cdb\u578b\u4e00\u822c\u6709\u4e09\u79cd\u4f7f\u7528\u65b9\u5f0f:",(0,l.kt)("strong",{parentName:"p"},"\u6cdb\u578b\u7c7b"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u6cdb\u578b\u63a5\u53e3"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u6cdb\u578b\u65b9\u6cd5"),"\u3002"),(0,l.kt)("p",null,"Java\u6cdb\u578b\u7684\u5b9e\u73b0\u91c7\u53d6\u4e86\u201c\u4f2a\u6cdb\u578b\u201d\u7684\u7b56\u7565\uff0c\u5373Java\u5728\u8bed\u6cd5\u4e0a\u652f\u6301\u6cdb\u578b\uff0c\u4f46\u662f",(0,l.kt)("strong",{parentName:"p"},"\u5728\u7f16\u8bd1\u9636\u6bb5\u4f1a\u8fdb\u884c\u6240\u8c13\u7684\u201c\u7c7b\u578b\u64e6\u9664\u201d\uff08Type  Erasure\uff09"),"\uff0c\u5c06\u6240\u6709\u7684\u6cdb\u578b\u8868\u793a\uff08\u5c16\u62ec\u53f7\u4e2d\u7684\u5185\u5bb9\uff09\u90fd\u66ff\u6362\u4e3a\u5177\u4f53\u7684\u7c7b\u578b\uff08\u5176\u5bf9\u5e94\u7684\u539f\u751f\u6001\u7c7b\u578b\uff09\uff0c\u5c31\u50cf\u5b8c\u5168\u6ca1\u6709\u6cdb\u578b\u4e00\u6837\u3002\u7406\u89e3",(0,l.kt)("strong",{parentName:"p"},"\u7c7b\u578b\u64e6\u9664"),"\u5bf9\u4e8e\u7528\u597d\u6cdb\u578b\u662f\u5f88\u6709\u5e2e\u52a9\u7684\uff0c\u5c24\u5176\u662f\u4e00\u4e9b\u770b\u8d77\u6765\u201c\u7591\u96be\u6742\u75c7\u201d\u7684\u95ee\u9898\uff0c\u5f04\u660e\u767d\u4e86\u7c7b\u578b\u64e6\u9664\u4e5f\u5c31\u8fce\u5203\u800c\u89e3\u4e86\u3002"),(0,l.kt)("p",null,"\u6cdb\u578b\u7684\u7c7b\u578b\u64e6\u9664\u539f\u5219\u662f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6d88\u9664\u7c7b\u578b\u53c2\u6570\u58f0\u660e\uff0c\u5373\u5220\u9664 ",(0,l.kt)("inlineCode",{parentName:"li"},"<>"),"\u53ca\u5176\u5305\u56f4\u7684\u90e8\u5206\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6839\u636e\u7c7b\u578b\u53c2\u6570\u7684\u4e0a\u4e0b\u754c\u63a8\u65ad\u5e76\u66ff\u6362\u6240\u6709\u7684\u7c7b\u578b\u53c2\u6570\u4e3a\u539f\u751f\u6001\u7c7b\u578b\uff1a\u5982\u679c\u7c7b\u578b\u53c2\u6570\u662f\u65e0\u9650\u5236\u901a\u914d\u7b26\u6216\u6ca1\u6709\u4e0a\u4e0b\u754c\u9650\u5b9a\u5219\u66ff\u6362\u4e3aObject\uff0c\u5982\u679c\u5b58\u5728\u4e0a\u4e0b\u754c\u9650\u5b9a\u5219\u6839\u636e\u5b50\u7c7b\u66ff\u6362\u539f\u5219\u53d6\u7c7b\u578b\u53c2\u6570\u7684\u6700\u5de6\u8fb9\u9650\u5b9a\u7c7b\u578b\uff08\u5373\u7236\u7c7b\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u4e3a\u4e86\u4fdd\u8bc1\u7c7b\u578b\u5b89\u5168\uff0c\u5fc5\u8981\u65f6\u63d2\u5165\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u4ee3\u7801\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u81ea\u52a8\u4ea7\u751f\u201c\u6865\u63a5\u65b9\u6cd5\u201d\u4ee5\u4fdd\u8bc1\u64e6\u9664\u7c7b\u578b\u540e\u7684\u4ee3\u7801\u4ecd\u7136\u5177\u6709\u6cdb\u578b\u7684\u201c\u591a\u6001\u6027\u201d\u3002")),(0,l.kt)("h4",{id:"\u64e6\u9664\u7c7b\u5b9a\u4e49\u4e2d\u7684\u7c7b\u578b\u53c2\u6570"},"\u64e6\u9664\u7c7b\u5b9a\u4e49\u4e2d\u7684\u7c7b\u578b\u53c2\u6570"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u65e0\u9650\u5236\u7c7b\u578b\u64e6\u9664"),"  \u5f53\u7c7b\u5b9a\u4e49\u4e2d\u7684\u7c7b\u578b\u53c2\u6570\u6ca1\u6709\u4efb\u4f55\u9650\u5236\u65f6\uff0c\u5728\u7c7b\u578b\u64e6\u9664\u4e2d\u76f4\u63a5\u88ab\u66ff\u6362\u4e3aObject\uff0c\u5373\u5f62\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"<T>"),"\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"<?>"),"\u7684\u7c7b\u578b\u53c2\u6570\u90fd\u88ab\u66ff\u6362\u4e3aObject"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617165626034",src:n(43483).Z,width:"776",height:"223"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6709\u9650\u5236\u7c7b\u578b\u64e6\u9664"),"  \u5f53\u7c7b\u5b9a\u4e49\u4e2d\u7684\u7c7b\u578b\u53c2\u6570\u5b58\u5728\u9650\u5236\uff08\u4e0a\u4e0b\u754c\uff09\u65f6\uff0c\u5728\u7c7b\u578b\u64e6\u9664\u4e2d\u66ff\u6362\u4e3a\u7c7b\u578b\u53c2\u6570\u7684\u4e0a\u754c\u6216\u8005\u4e0b\u754c\uff0c\u6bd4\u5982\u5f62\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"<T extends Number>"),"\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"<? extends Number>"),"\u7684\u7c7b\u578b\u53c2\u6570\u88ab\u66ff\u6362\u4e3aNumber\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"<? super  Number>"),"\u88ab\u66ff\u6362\u4e3aObject"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617165706253",src:n(18829).Z,width:"822",height:"236"})),(0,l.kt)("h4",{id:"\u64e6\u9664\u65b9\u6cd5\u5b9a\u4e49\u4e2d\u7684\u7c7b\u578b\u53c2\u6570"},"\u64e6\u9664\u65b9\u6cd5\u5b9a\u4e49\u4e2d\u7684\u7c7b\u578b\u53c2\u6570"),(0,l.kt)("p",null,"\u64e6\u9664\u65b9\u6cd5\u5b9a\u4e49\u4e2d\u7684\u7c7b\u578b\u53c2\u6570\u539f\u5219\u548c\u64e6\u9664\u7c7b\u5b9a\u4e49\u4e2d\u7684\u7c7b\u578b\u53c2\u6570\u662f\u4e00\u6837\u7684\uff0c\u8fd9\u91cc\u4ec5\u4ee5\u64e6\u9664\u65b9\u6cd5\u5b9a\u4e49\u4e2d\u7684\u6709\u9650\u5236\u7c7b\u578b\u53c2\u6570\u4e3a\u4f8b"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617165721328",src:n(83168).Z,width:"982",height:"144"})),(0,l.kt)("h4",{id:"\u6865\u63a5\u65b9\u6cd5\u548c\u6cdb\u578b\u7684\u591a\u6001"},"\u6865\u63a5\u65b9\u6cd5\u548c\u6cdb\u578b\u7684\u591a\u6001"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"http://softlab.sdut.edu.cn/blog/subaochen/2017/01/generics-type-erasure/"},"http://softlab.sdut.edu.cn/blog/subaochen/2017/01/generics-type-erasure/")),(0,l.kt)("p",null,"\u7531\u4e8e\u539f\u6587\u7684\u7bc7\u5e45\u8fc7\u957f\uff0c\u8fdb\u884c\u4ee5\u4e0b\u603b\u7ed3\uff1a"),(0,l.kt)("p",null,"\u6240\u8c13\u7684\u201c\u6865\u63a5\u65b9\u6cd5\u201d\uff08bridge method\uff09\u6765\u6ee1\u8db3Java\u8bed\u6cd5\u7684\u8981\u6c42\uff0c\u540c\u65f6\u4e5f\u4fdd\u8bc1\u4e86\u57fa\u4e8e\u6cdb\u578b\u7684\u591a\u6001\u80fd\u591f\u6709\u6548"),(0,l.kt)("p",null,"\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u4f1a\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"p"},"Child"),"\u7c7b\u7684\u65b9\u6cd5\u8868\u8fdb\u884c\u641c\u7d22\uff0c\u5148\u5206\u6790\u4e00\u4e0b ",(0,l.kt)("inlineCode",{parentName:"p"},"Child"),"\u7c7b\u7684\u65b9\u6cd5\u8868\u91cc\u6709\u54ea\u4e9b\u4e1c\u897f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"1. sayHello(Object value) : \u4ece\u7c7b\u578b\u88ab\u64e6\u9664\u540e\u7684\u8d85\u7c7b\u4e2d\u7ee7\u627f\u8fc7\u6765\n2. sayHello(String value) : \u81ea\u5df1\u65b0\u589e\u7684\u65b9\u6cd5\uff0c\u548c\u8d85\u7c7b\u6beb\u65e0\u8054\u7cfb\n")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622211220694",src:n(13696).Z,width:"1124",height:"561"})),(0,l.kt)("h4",{id:"\u4e3a\u4e86\u66f4\u6df1\u5c42\u6b21\u7684\u7406\u89e3\u7c7b\u578b\u64e6\u9664\u9009\u53d6\u4e86stackoverflow\u7684\u9ad8\u8d5e\u56de\u7b54"},"\u4e3a\u4e86\u66f4\u6df1\u5c42\u6b21\u7684\u7406\u89e3\u7c7b\u578b\u64e6\u9664\uff0c\u9009\u53d6\u4e86Stackoverflow\u7684\u9ad8\u8d5e\u56de\u7b54"),(0,l.kt)("p",null,"\u539f\u5e16\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens"},"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\ud83d\ude23\u95ee\u9898\u662f\uff1a",(0,l.kt)("strong",{parentName:"p"},"When does type erasure occur?")," At compile time or runtime? When the class is loaded? When the class is instantiated?"),(0,l.kt)("p",{parentName:"blockquote"},"\u7c7b\u578b\u64e6\u9664\u4f55\u65f6\u53d1\u751f? \u5728\u7f16\u8bd1\u65f6\u8fd8\u662f\u8fd0\u884c\u65f6? \u5f53\u7c7b\u88ab\u52a0\u8f7d\u65f6? \u5f53\u7c7b\u88ab\u5b9e\u4f8b\u5316\u65f6\uff1f")),(0,l.kt)("p",null,"\ud83e\uddd0\u7c7b\u578b\u64e6\u9664\u9002\u7528\u4e8e\u6cdb\u578b\u7684\u4f7f\u7528\u3002\u7c7b\u6587\u4ef6\u4e2d\u80af\u5b9a\u6709\u5143\u6570\u636e\u6765\u8bf4\u660e\u65b9\u6cd5/\u7c7b\u578b\u662f\u5426\u662f\u6cdb\u578b\uff0c\u4ee5\u53ca\u7ea6\u675f\u662f\u4ec0\u4e48\u7b49\u7b49\u3002\u4f46\u662f\u5f53\u4f7f\u7528\u6cdb\u578b\u65f6\uff0c\u5b83\u4eec\u88ab\u8f6c\u6362\u4e3a\u7f16\u8bd1\u65f6\u68c0\u67e5\u548c\u6267\u884c\u65f6\u5f3a\u5236\u8f6c\u6362\u3002\u6240\u4ee5\u8fd9\u4e2a\u4ee3\u7801\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'List<String> list = new ArrayList<String>();\nlist.add("Hi");\nString x = list.get(0);\n')),(0,l.kt)("p",null,"\u88ab\u7f16\u8bd1\u6210"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'List list = new ArrayList();\nlist.add("Hi");\nString x = (String) list.get(0);\n')),(0,l.kt)("p",null,"\u5728\u6267\u884c\u65f6\uff0c\u6ca1\u6709\u529e\u6cd5\u627e\u51fa\u5217\u8868\u5bf9\u8c61\u7684 T = String \u8fd9\u4e2a\u4fe1\u606f\u5df2\u7ecf\u6d88\u5931\u4e86\u3002\u4f46\u662f List < T > \u754c\u9762\u672c\u8eab\u4ecd\u7136\u5ba3\u79f0\u81ea\u5df1\u662f\u901a\u7528\u7684\u3002"),(0,l.kt)("p",null,"\u539f\u5e16\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/313584/what-is-the-concept-of-erasure-in-generics-in-java"},"https://stackoverflow.com/questions/313584/what-is-the-concept-of-erasure-in-generics-in-java")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\ud83d\ude23What is the concept of erasure in generics in Java?"),(0,l.kt)("p",{parentName:"blockquote"},"\u5728 Java\u7684\u7c7b\u578b\u64e6\u9664\u4e2d\uff0c\u64e6\u9664\u7684\u6982\u5ff5\u662f\u4ec0\u4e48\uff1f")),(0,l.kt)("p",null,"\ud83e\uddd0\u8fd9\u57fa\u672c\u4e0a\u662f\u901a\u8fc7\u7f16\u8bd1\u5668\u6280\u5de7\u5728 Java \u4e2d\u5b9e\u73b0\u6cdb\u578b\u7684\u65b9\u5f0f\u3002\u7f16\u8bd1\u540e\u7684\u6cdb\u578b\u4ee3\u7801\u5b9e\u9645\u4e0a\u53ea\u4f7f\u7528 java.lang\u3002\u5bf9\u8c61\uff0c\u800c\u4e14\u6709\u4e00\u4e9b\u5143\u6570\u636e\uff08some metadata\uff09\u53ef\u4ee5\u544a\u8bc9\u7f16\u8bd1\u5668\u5b83\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u6cdb\u578b\u7c7b\u578b\u3002"),(0,l.kt)("p",null,"\u5f53\u4f60\u9488\u5bf9\u4e00\u4e2a\u6cdb\u578b\u7c7b\u578b\u6216\u65b9\u6cd5\u7f16\u8bd1\u4e00\u4e9b\u4ee3\u7801\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u8ba1\u7b97\u51fa\u4f60\u7684\u771f\u6b63\u610f\u601d(\u4f8b\u5982 T \u7684\u7c7b\u578b\u53c2\u6570\u662f\u4ec0\u4e48)  \uff0c\u5e76\u5728\u7f16\u8bd1\u65f6\u9a8c\u8bc1\u4f60\u505a\u7684\u662f\u6b63\u786e\u7684\u4e8b\u60c5\uff0c\u4f46\u662f\u53d1\u51fa\u7684\u4ee3\u7801\u518d\u6b21\u4f7f\u7528 java.lang\u3002\u5bf9\u8c61-\u7f16\u8bd1\u5668\u5728\u5fc5\u8981\u65f6\u751f\u6210\u989d\u5916\u7684\u5f3a\u5236\u8f6c\u6362\u3002\u5728\u6267\u884c\u65f6\uff0cList  < String > \u548c List < Date > \u5b8c\u5168\u76f8\u540c; \u7f16\u8bd1\u5668\u5df2\u7ecf\u64e6\u9664\u4e86\u989d\u5916\u7684\u7c7b\u578b\u4fe1\u606f\u3002"),(0,l.kt)("p",null,"\u6bd4\u8f83\u4e00\u4e0b C # \uff0c\u5b83\u5728\u6267\u884c\u65f6\u4fdd\u7559\u4fe1\u606f\uff0c\u5141\u8bb8\u4ee3\u7801\u5305\u542b\u8868\u8fbe\u5f0f\uff0c\u4f8b\u5982 typeof (T) \uff0c\u5b83\u7b49\u4ef7\u4e8e T  \u7c7b\u2014\u2014\u9664\u975e\u540e\u8005\u662f\u65e0\u6548\u7684\u3002(\u4e24\u8005\u4e4b\u95f4\u8fd8\u6709\u8fdb\u4e00\u6b65\u7684\u533a\u522b\u3002NET \u6cdb\u578b\u548c Java \u6cdb\u578b\uff0c\u8bf7\u6ce8\u610f\u3002)\u5728\u5904\u7406 Java  \u6cdb\u578b\u65f6\uff0c\u7c7b\u578b\u64e6\u9664\u662f\u8bb8\u591a\u201c\u5947\u602a\u201d\u8b66\u544a/\u9519\u8bef\u6d88\u606f\u7684\u6765\u6e90\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\ud83e\udd71\u518d\u770b\u4e00\u4e2a\u8fd9\u4e2a\u56de\u7b54\u7684\u5b9e\u6218\u5185\u5bb9")),(0,l.kt)("p",null,"\u64e6\u9664\uff0c\u5b57\u9762\u610f\u601d\u662f\u4ece\u5df2\u7f16\u8bd1\u7684\u5b57\u8282\u7801\u4e2d\u64e6\u9664\u6e90\u4ee3\u7801\u4e2d\u5b58\u5728\u7684\u7c7b\u578b\u4fe1\u606f\u3002\u8ba9\u6211\u4eec\u7528\u4e00\u4e9b\u4ee3\u7801\u6765\u7406\u89e3\u8fd9\u4e00\u70b9\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'import java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\n\npublic class GenericsErasure {\n    public static void main(String args[]) {\n        List<String> list = new ArrayList<String>();\n        list.add("Hello");\n        Iterator<String> iter = list.iterator();\n        while(iter.hasNext()) {\n            String s = iter.next();\n            System.out.println(s);\n        }\n    }\n}\n')),(0,l.kt)("p",null,"\u5982\u679c\u60a8\u7f16\u8bd1\u8fd9\u6bb5\u4ee3\u7801\uff0c\u7136\u540e\u7528 Java \u53cd\u7f16\u8bd1\u5668\u53cd\u7f16\u8bd1\u5b83\uff0c\u60a8\u5c06\u5f97\u5230\u7c7b\u4f3c\u4e0b\u9762\u7684\u4ee3\u7801\u3002\u6ce8\u610f\uff0c\u53cd\u7f16\u8bd1\u7684\u4ee3\u7801\u4e0d\u5305\u542b\u539f\u59cb\u6e90\u4ee3\u7801\u4e2d\u663e\u793a\u7684\u7c7b\u578b\u4fe1\u606f\u7684\u8ddf\u8e2a\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'import java.io.PrintStream;\nimport java.util.*;\n\npublic class GenericsErasure\n{\n\n    public GenericsErasure()\n    {\n    }\n\n    public static void main(String args[])\n    {\n        List list = new ArrayList();\n        list.add("Hello");\n        String s;\n        for(Iterator iter = list.iterator(); iter.hasNext(); System.out.println(s))\n            s = (String)iter.next();\n\n    }\n} \n')),(0,l.kt)("h3",{id:"-\u4e0e-equals"},"\u2b50== \u4e0e equals"),(0,l.kt)("p",null,"\u5bf9\u4e8e",(0,l.kt)("strong",{parentName:"p"},"\u57fa\u672c\u7c7b\u578b"),"\u6765\u8bf4\uff0c== \u6bd4\u8f83\u7684\u662f\u503c\u662f\u5426\u76f8\u7b49\uff1b"),(0,l.kt)("p",null,"\u5bf9\u4e8e",(0,l.kt)("strong",{parentName:"p"},"\u5f15\u7528\u7c7b\u578b"),"\u6765\u8bf4\uff0c== \u6bd4\u8f83\u7684\u662f\u4e24\u4e2a\u5f15\u7528\u662f\u5426\u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\u5730\u5740\uff08\u4e24\u8005\u5728\u5185\u5b58\u4e2d\u5b58\u653e\u7684\u5730\u5740\uff08\u5806\u5185\u5b58\u5730\u5740\uff09\u662f\u5426\u6307\u5411\u540c\u4e00\u4e2a\u5730\u65b9\uff09\uff1b"),(0,l.kt)("p",null,"equals \uff1a\u7528\u6765\u6bd4\u8f83\u4e24\u4e2a\u5bf9\u8c61\u7684\u5185\u5bb9\u662f\u5426\u76f8\u7b49\u3002\u6ce8\u610f\uff1aequals \u65b9\u6cd5\u4e0d\u80fd\u7528\u4e8e\u6bd4\u8f83\u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u53d8\u91cf\u3002\u5982\u679c\u6ca1\u6709\u5bf9 equals \u65b9\u6cd5\u8fdb\u884c\u91cd\u5199\uff0c\u5219\u6bd4\u8f83\u7684\u662f\u5f15\u7528\u7c7b\u578b\u7684\u53d8\u91cf\u6240\u6307\u5411\u7684\u5bf9\u8c61\u7684\u5730\u5740\uff08\u5f88\u591a\u7c7b\u91cd\u5199\u4e86 equals \u65b9\u6cd5\uff0c\u6bd4\u5982 String\u3001Integer \u7b49\u628a\u5b83\u53d8\u6210\u4e86\u503c\u6bd4\u8f83\uff0c\u6240\u4ee5\u4e00\u822c\u60c5\u51b5\u4e0b equals \u6bd4\u8f83\u7684\u662f\u503c\u662f\u5426\u76f8\u7b49\uff09"),(0,l.kt)("h3",{id:"hashcode-\u4e0e-equals"},"hashCode \u4e0e equals"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u4e24\u4e2a\u5bf9\u8c61\u76f8\u7b49\uff0c\u5219 hashcode \u4e00\u5b9a\u4e5f\u662f\u76f8\u540c\u7684"),(0,l.kt)("li",{parentName:"ol"},"\u4e24\u4e2a\u5bf9\u8c61\u76f8\u7b49,\u5bf9\u4e24\u4e2a equals() \u65b9\u6cd5\u8fd4\u56de true"),(0,l.kt)("li",{parentName:"ol"},"\u4e24\u4e2a\u5bf9\u8c61\u6709\u76f8\u540c\u7684 hashcode \u503c\uff0c\u5b83\u4eec\u4e5f\u4e0d\u4e00\u5b9a\u662f\u76f8\u7b49\u7684"),(0,l.kt)("li",{parentName:"ol"},"\u7efc\u4e0a\uff0c equals() \u65b9\u6cd5\u88ab\u8986\u76d6\u8fc7\uff0c\u5219 hashCode() \u65b9\u6cd5\u4e5f\u5fc5\u987b\u88ab\u8986\u76d6"),(0,l.kt)("li",{parentName:"ol"},"hashCode() \u7684\u9ed8\u8ba4\u884c\u4e3a\u662f\u5bf9\u5806\u4e0a\u7684\u5bf9\u8c61\u4ea7\u751f\u72ec\u7279\u503c\u3002\u5982\u679c\u6ca1\u6709\u91cd\u5199 hashCode() \uff0c\u5219\u8be5class \u7684\u4e24\u4e2a\u5bf9\u8c61\u65e0\u8bba\u5982\u4f55\u90fd\u4e0d\u4f1a\u76f8\u7b49\uff08\u5373\u4f7f\u8fd9\u4e24\u4e2a\u5bf9\u8c61\u6307\u5411\u76f8\u540c\u7684\u6570\u636e\uff09")),(0,l.kt)("h3",{id:"\u5982\u4f55\u51b3\u5b9a\u4f7f\u7528-hashmap-\u8fd8\u662f-treemap"},"\u5982\u4f55\u51b3\u5b9a\u4f7f\u7528 HashMap \u8fd8\u662f TreeMap\uff1f"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"TreeMap<K,V>"),"\u7684Key\u503c\u662f\u8981\u6c42\u5b9e\u73b0java.lang.Comparable\uff0c\u6240\u4ee5\u8fed\u4ee3\u7684\u65f6\u5019TreeMap\u9ed8\u8ba4\u662f\u6309\u7167Key\u503c\u5347\u5e8f\u6392\u5e8f\u7684\uff1bTreeMap\u7684\u5b9e\u73b0\u662f\u57fa\u4e8e\u7ea2\u9ed1\u6811\u7ed3\u6784\u3002\u9002\u7528\u4e8e\u6309\u81ea\u7136\u987a\u5e8f\u6216\u81ea\u5b9a\u4e49\u987a\u5e8f\u904d\u5386\u952e\uff08key\uff09\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"HashMap<K,V>"),"\u7684Key\u503c\u5b9e\u73b0\u6563\u5217hashCode()\uff0c\u5206\u5e03\u662f\u6563\u5217\u7684\u3001\u5747\u5300\u7684\uff0c\u4e0d\u652f\u6301\u6392\u5e8f\uff1b\u6570\u636e\u7ed3\u6784\u4e3b\u8981\u662f\u6876(\u6570\u7ec4)\uff0c\u94fe\u8868\u6216\u7ea2\u9ed1\u6811\u3002\u9002\u7528\u4e8e\u5728Map\u4e2d\u63d2\u5165\u3001\u5220\u9664\u548c\u5b9a\u4f4d\u5143\u7d20\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7ed3\u8bba"),"\n\u5982\u679c\u4f60\u9700\u8981\u5f97\u5230\u4e00\u4e2a\u6709\u5e8f\u7684\u7ed3\u679c\u65f6\u5c31\u5e94\u8be5\u4f7f\u7528TreeMap\uff08\u56e0\u4e3aHashMap\u4e2d\u5143\u7d20\u7684\u6392\u5217\u987a\u5e8f\u662f\u4e0d\u56fa\u5b9a\u7684\uff09\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u7531\u4e8eHashMap\u6709\u66f4\u597d\u7684\u6027\u80fd\uff0c\u6240\u4ee5\u5927\u591a\u4e0d\u9700\u8981\u6392\u5e8f\u7684\u65f6\u5019\u6211\u4eec\u4f1a\u4f7f\u7528HashMap\u3002"),(0,l.kt)("h3",{id:"hashmap-\u7684\u5e95\u5c42\u5b9e\u73b0"},"\u2b50HashMap \u7684\u5e95\u5c42\u5b9e\u73b0"),(0,l.kt)("h4",{id:"jdk18-\u4e4b\u524d"},"JDK1.8 \u4e4b\u524d"),(0,l.kt)("p",null,"JDK1.8 \u4e4b\u524d ",(0,l.kt)("inlineCode",{parentName:"p"},"HashMap")," \u5e95\u5c42\u662f ",(0,l.kt)("strong",{parentName:"p"},"\u6570\u7ec4\u548c\u94fe\u8868")," \u7ed3\u5408\u5728\u4e00\u8d77\u4f7f\u7528\u4e5f\u5c31\u662f ",(0,l.kt)("strong",{parentName:"p"},"\u94fe\u8868\u6563\u5217"),"\u3002",(0,l.kt)("strong",{parentName:"p"},"HashMap \u901a\u8fc7 key \u7684 hashCode \u7ecf\u8fc7\u6270\u52a8\u51fd\u6570\u5904\u7406\u8fc7\u540e\u5f97\u5230 hash \u503c\uff0c\u7136\u540e\u901a\u8fc7 (n - 1) & hash  \u5224\u65ad\u5f53\u524d\u5143\u7d20\u5b58\u653e\u7684\u4f4d\u7f6e\uff08\u8fd9\u91cc\u7684 n \u6307\u7684\u662f\u6570\u7ec4\u7684\u957f\u5ea6\uff09\uff0c\u5982\u679c\u5f53\u524d\u4f4d\u7f6e\u5b58\u5728\u5143\u7d20\u7684\u8bdd\uff0c\u5c31\u5224\u65ad\u8be5\u5143\u7d20\u4e0e\u8981\u5b58\u5165\u7684\u5143\u7d20\u7684 hash \u503c\u4ee5\u53ca key  \u662f\u5426\u76f8\u540c\uff0c\u5982\u679c\u76f8\u540c\u7684\u8bdd\uff0c\u76f4\u63a5\u8986\u76d6\uff0c\u4e0d\u76f8\u540c\u5c31\u901a\u8fc7\u62c9\u94fe\u6cd5\u89e3\u51b3\u51b2\u7a81\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6240\u8c13\u6270\u52a8\u51fd\u6570\u6307\u7684\u5c31\u662f HashMap \u7684 hash \u65b9\u6cd5\u3002\u4f7f\u7528 hash \u65b9\u6cd5\u4e5f\u5c31\u662f\u6270\u52a8\u51fd\u6570\u662f\u4e3a\u4e86\u9632\u6b62\u4e00\u4e9b\u5b9e\u73b0\u6bd4\u8f83\u5dee\u7684 hashCode() \u65b9\u6cd5 \u6362\u53e5\u8bdd\u8bf4\u4f7f\u7528\u6270\u52a8\u51fd\u6570\u4e4b\u540e\u53ef\u4ee5\u51cf\u5c11\u78b0\u649e\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"JDK 1.8 HashMap \u7684 hash \u65b9\u6cd5\u6e90\u7801:")),(0,l.kt)("p",null,"JDK 1.8 \u7684 hash \u65b9\u6cd5 \u76f8\u6bd4\u4e8e JDK 1.7 hash \u65b9\u6cd5\u66f4\u52a0\u7b80\u5316\uff0c\u4f46\u662f\u539f\u7406\u4e0d\u53d8\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"    static final int hash(Object key) {\n      int h;\n      // key.hashCode()\uff1a\u8fd4\u56de\u6563\u5217\u503c\u4e5f\u5c31\u662fhashcode\n      // ^ \uff1a\u6309\u4f4d\u5f02\u6216\n      // >>>:\u65e0\u7b26\u53f7\u53f3\u79fb\uff0c\u5ffd\u7565\u7b26\u53f7\u4f4d\uff0c\u7a7a\u4f4d\u90fd\u4ee50\u8865\u9f50\n      return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);\n  }\n")),(0,l.kt)("p",null,"\u5bf9\u6bd4\u4e00\u4e0b JDK1.7 \u7684 HashMap \u7684 hash \u65b9\u6cd5\u6e90\u7801."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"static int hash(int h) {\n    // This function ensures that hashCodes that differ only by\n    // constant multiples at each bit position have a bounded\n    // number of collisions (approximately 8 at default load factor).\n\n    h ^= (h >>> 20) ^ (h >>> 12);\n    return h ^ (h >>> 7) ^ (h >>> 4);\n}\n")),(0,l.kt)("p",null,"\u76f8\u6bd4\u4e8e JDK1.8 \u7684 hash \u65b9\u6cd5 \uff0cJDK 1.7 \u7684 hash \u65b9\u6cd5\u7684\u6027\u80fd\u4f1a\u7a0d\u5dee\u4e00\u70b9\u70b9\uff0c\u56e0\u4e3a\u6bd5\u7adf\u6270\u52a8\u4e86 4 \u6b21\u3002"),(0,l.kt)("p",null,"\u6240\u8c13 ",(0,l.kt)("strong",{parentName:"p"},"\u201c\u62c9\u94fe\u6cd5\u201d")," \u5c31\u662f\uff1a\u5c06\u94fe\u8868\u548c\u6570\u7ec4\u76f8\u7ed3\u5408\u3002\u4e5f\u5c31\u662f\u8bf4\u521b\u5efa\u4e00\u4e2a\u94fe\u8868\u6570\u7ec4\uff0c\u6570\u7ec4\u4e2d\u6bcf\u4e00\u683c\u5c31\u662f\u4e00\u4e2a\u94fe\u8868\u3002\u82e5\u9047\u5230\u54c8\u5e0c\u51b2\u7a81\uff0c\u5219\u5c06\u51b2\u7a81\u7684\u503c\u52a0\u5230\u94fe\u8868\u4e2d\u5373\u53ef\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220616155615352",src:n(58135).Z,width:"1024",height:"803"})),(0,l.kt)("h4",{id:"jdk18-\u4e4b\u540e"},"JDK1.8 \u4e4b\u540e"),(0,l.kt)("p",null,"\u76f8\u6bd4\u4e8e\u4e4b\u524d\u7684\u7248\u672c\uff0c JDK1.8 \u4e4b\u540e\u5728\u89e3\u51b3\u54c8\u5e0c\u51b2\u7a81\u65f6\u6709\u4e86\u8f83\u5927\u7684\u53d8\u5316\uff0c\u5f53\u94fe\u8868\u957f\u5ea6\u5927\u4e8e\u9608\u503c\uff08\u9ed8\u8ba4\u4e3a 8\uff09\uff08\u5c06\u94fe\u8868\u8f6c\u6362\u6210\u7ea2\u9ed1\u6811\u524d\u4f1a\u5224\u65ad\uff0c\u5982\u679c\u5f53\u524d\u6570\u7ec4\u7684\u957f\u5ea6\u5c0f\u4e8e 64\uff0c\u90a3\u4e48\u4f1a\u9009\u62e9\u5148\u8fdb\u884c\u6570\u7ec4\u6269\u5bb9\uff0c\u800c\u4e0d\u662f\u8f6c\u6362\u4e3a\u7ea2\u9ed1\u6811\uff09\u65f6\uff0c\u5c06\u94fe\u8868\u8f6c\u5316\u4e3a\u7ea2\u9ed1\u6811\uff0c\u4ee5\u51cf\u5c11\u641c\u7d22\u65f6\u95f4\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220616155623710",src:n(57467).Z,width:"1024",height:"656"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"TreeMap\u3001TreeSet \u4ee5\u53ca JDK1.8 \u4e4b\u540e\u7684 HashMap \u5e95\u5c42\u90fd\u7528\u5230\u4e86\u7ea2\u9ed1\u6811\u3002\u7ea2\u9ed1\u6811\u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u4e8c\u53c9\u67e5\u627e\u6811\u7684\u7f3a\u9677\uff0c\u56e0\u4e3a\u4e8c\u53c9\u67e5\u627e\u6811\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4f1a\u9000\u5316\u6210\u4e00\u4e2a\u7ebf\u6027\u7ed3\u6784\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u9762\u8bd5\u53ef\u4ee5\u8fd9\u6837\u56de\u7b54\uff1ahashmap\u7684\u5e95\u5c42\u662f\u54c8\u5e0c\u8868\uff0c\u662f\u57fa\u4e8ehash\u7b97\u6cd5\u5b9e\u73b0\u7684\uff0chashmap\u901a\u8fc7put(key,value)\u5b58\u50a8\uff0c\u901a\u8fc7get(key)\u83b7\u53d6\uff0c\u5f53\u4f20\u5165key\u65f6\uff0chashmap\u4f1a\u8c03\u7528key.hashcode()\u65b9\u6cd5\u8ba1\u7b97\u51fahash\u503c\uff0c\u6839\u636e hash \u503c\u5c06 value \u4fdd\u5b58\u5728 bucket \u91cc\u3002\u5f53\u8ba1\u7b97"),(0,l.kt)("p",{parentName:"blockquote"},"\u51fa\u7684 hash \u503c\u76f8\u540c\u65f6\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a hash \u51b2\u7a81\uff0cHashMap \u7684\u505a\u6cd5\u662f\u7528\u94fe\u8868\u548c\u7ea2\u9ed1\u6811\u5b58\u50a8\u76f8\u540c hash \u503c\u7684value\u3002\u5f53 hash \u51b2\u7a81\u7684\u4e2a\u6570\u5c11\u4e8e\u7b49\u4e8e8\u4e2a\u65f6\uff0c\u4f7f\u7528\u94fe\u8868\u5426\u5219\u4f7f\u7528\u7ea2\u9ed1\u6811\u3002")),(0,l.kt)("h3",{id:"hashmap\u6e90\u7801\u5206\u6790"},"\u2b50HashMap\u6e90\u7801\u5206\u6790"),(0,l.kt)("h4",{id:"get"},"get()"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"get(Object key)"),"\u65b9\u6cd5\u6839\u636e\u6307\u5b9a\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"key"),"\u503c\u8fd4\u56de\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"value"),"\uff0c\u8be5\u65b9\u6cd5\u8c03\u7528\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"getEntry(Object key)"),"\u5f97\u5230\u76f8\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"entry"),"\uff0c\u7136\u540e\u8fd4\u56de ",(0,l.kt)("inlineCode",{parentName:"p"},"entry.getValue()"),"\u3002\u56e0\u6b64 ",(0,l.kt)("inlineCode",{parentName:"p"},"getEntry()"),"\u662f\u7b97\u6cd5\u7684\u6838\u5fc3\u3002 ",(0,l.kt)("strong",{parentName:"p"},"\u7b97\u6cd5\u601d\u60f3"),"\u662f\u9996\u5148\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"hash()"),"\u51fd\u6570\u5f97\u5230\u5bf9\u5e94 ",(0,l.kt)("inlineCode",{parentName:"p"},"bucket"),"\u7684\u4e0b\u6807\uff0c\u7136\u540e\u4f9d\u6b21\u904d\u5386\u51b2\u7a81\u94fe\u8868\uff0c\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"key.equals(k)"),"\u65b9\u6cd5\u6765\u5224\u65ad\u662f\u5426\u662f\u8981\u627e\u7684\u90a3\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"entry"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220616161400630",src:n(31443).Z,width:"1200",height:"947"})),(0,l.kt)("p",null,"\u4e0a\u56fe\u4e2d ",(0,l.kt)("inlineCode",{parentName:"p"},"hash(k)&(table.length-1)"),"\u7b49\u4ef7\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"hash(k)%table.length"),"\uff0c\u539f\u56e0\u662f",(0,l.kt)("em",{parentName:"p"},"HashMap"),"\u8981\u6c42 ",(0,l.kt)("inlineCode",{parentName:"p"},"table.length"),"\u5fc5\u987b\u662f2\u7684\u6307\u6570\uff0c\u56e0\u6b64 ",(0,l.kt)("inlineCode",{parentName:"p"},"table.length-1"),"\u5c31\u662f\u4e8c\u8fdb\u5236\u4f4e\u4f4d\u5168\u662f1\uff0c\u8ddf ",(0,l.kt)("inlineCode",{parentName:"p"},"hash(k)"),"\u76f8\u4e0e\u4f1a\u5c06\u54c8\u5e0c\u503c\u7684\u9ad8\u4f4d\u5168\u62b9\u6389\uff0c\u5269\u4e0b\u7684\u5c31\u662f\u4f59\u6570\u4e86\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"//getEntry()\u65b9\u6cd5\nfinal Entry<K,V> getEntry(Object key) {\n    ......\n    int hash = (key == null) ? 0 : hash(key);\n    for (Entry<K,V> e = table[hash&(table.length-1)];//\u5f97\u5230\u51b2\u7a81\u94fe\u8868\n         e != null; e = e.next) {//\u4f9d\u6b21\u904d\u5386\u51b2\u7a81\u94fe\u8868\u4e2d\u7684\u6bcf\u4e2aentry\n        Object k;\n        //\u4f9d\u636eequals()\u65b9\u6cd5\u5224\u65ad\u662f\u5426\u76f8\u7b49\n        if (e.hash == hash &&\n            ((k = e.key) == key || (key != null && key.equals(k))))\n            return e;\n    }\n    return null;\n}\n")),(0,l.kt)("h4",{id:"put"},"put()"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"put(K key, V value)"),"\u65b9\u6cd5\u662f\u5c06\u6307\u5b9a\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"key, value"),"\u5bf9\u6dfb\u52a0\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"map"),"\u91cc\u3002\u8be5\u65b9\u6cd5\u9996\u5148\u4f1a\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"p"},"map"),"\u505a\u4e00\u6b21\u67e5\u627e\uff0c\u770b\u662f\u5426\u5305\u542b\u8be5\u5143\u7ec4\uff0c\u5982\u679c\u5df2\u7ecf\u5305\u542b\u5219\u76f4\u63a5\u8fd4\u56de\uff0c\u67e5\u627e\u8fc7\u7a0b\u7c7b\u4f3c\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"getEntry()"),"\u65b9\u6cd5\uff1b\u5982\u679c\u6ca1\u6709\u627e\u5230\uff0c\u5219\u4f1a\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"addEntry(int hash, K key, V value, int bucketIndex)"),"\u65b9\u6cd5\u63d2\u5165\u65b0\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"entry"),"\uff0c\u63d2\u5165\u65b9\u5f0f\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u5934\u63d2\u6cd5"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220616161439305",src:n(93395).Z,width:"1200",height:"1002"})),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"//addEntry()\nvoid addEntry(int hash, K key, V value, int bucketIndex) {\n    if ((size >= threshold) && (null != table[bucketIndex])) {\n        resize(2 * table.length);//\u81ea\u52a8\u6269\u5bb9\uff0c\u5e76\u91cd\u65b0\u54c8\u5e0c\n        hash = (null != key) ? hash(key) : 0;\n        bucketIndex = hash & (table.length-1);//hash%table.length\n    }\n    //\u5728\u51b2\u7a81\u94fe\u8868\u5934\u90e8\u63d2\u5165\u65b0\u7684entry\n    Entry<K,V> e = table[bucketIndex];\n    table[bucketIndex] = new Entry<>(hash, key, value, e);\n    size++;\n}\n\n\n")),(0,l.kt)("h4",{id:"remove"},"remove()"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"remove(Object key)"),"\u7684\u4f5c\u7528\u662f\u5220\u9664 ",(0,l.kt)("inlineCode",{parentName:"p"},"key"),"\u503c\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"entry"),"\uff0c\u8be5\u65b9\u6cd5\u7684\u5177\u4f53\u903b\u8f91\u662f\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"removeEntryForKey(Object key)"),"\u91cc\u5b9e\u73b0\u7684\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"removeEntryForKey()"),"\u65b9\u6cd5\u4f1a\u9996\u5148\u627e\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"key"),"\u503c\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"entry"),"\uff0c\u7136\u540e\u5220\u9664\u8be5 ",(0,l.kt)("inlineCode",{parentName:"p"},"entry"),"(\u4fee\u6539\u94fe\u8868\u7684\u76f8\u5e94\u5f15\u7528)\u3002\u67e5\u627e\u8fc7\u7a0b\u8ddf ",(0,l.kt)("inlineCode",{parentName:"p"},"getEntry()"),"\u8fc7\u7a0b\u7c7b\u4f3c\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220616161551183",src:n(14200).Z,width:"1300",height:"1033"})),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"//removeEntryForKey()\nfinal Entry<K,V> removeEntryForKey(Object key) {\n    ......\n    int hash = (key == null) ? 0 : hash(key);\n    int i = indexFor(hash, table.length);//hash&(table.length-1)\n    Entry<K,V> prev = table[i];//\u5f97\u5230\u51b2\u7a81\u94fe\u8868\n    Entry<K,V> e = prev;\n    while (e != null) {//\u904d\u5386\u51b2\u7a81\u94fe\u8868\n        Entry<K,V> next = e.next;\n        Object k;\n        if (e.hash == hash &&\n            ((k = e.key) == key || (key != null && key.equals(k)))) {//\u627e\u5230\u8981\u5220\u9664\u7684entry\n            modCount++; size--;\n            if (prev == e) table[i] = next;//\u5220\u9664\u7684\u662f\u51b2\u7a81\u94fe\u8868\u7684\u7b2c\u4e00\u4e2aentry\n            else prev.next = next;\n            return e;\n        }\n        prev = e; e = next;\n    }\n    return e;\n}\n")),(0,l.kt)("h3",{id:"hashmap-\u7684\u957f\u5ea6\u4e3a\u4ec0\u4e48\u662f-2-\u7684\u5e42\u6b21\u65b9"},"HashMap \u7684\u957f\u5ea6\u4e3a\u4ec0\u4e48\u662f 2 \u7684\u5e42\u6b21\u65b9"),(0,l.kt)("p",null,"\u4e3a\u4e86\u80fd\u8ba9 HashMap \u5b58\u53d6\u9ad8\u6548\uff0c\u5c3d\u91cf\u8f83\u5c11\u78b0\u649e\uff0c\u4e5f\u5c31\u662f\u8981\u5c3d\u91cf\u628a\u6570\u636e\u5206\u914d\u5747\u5300\u3002\u6211\u4eec\u4e0a\u9762\u4e5f\u8bb2\u5230\u4e86\u8fc7\u4e86\uff0cHash  \u503c\u7684\u8303\u56f4\u503c-2147483648 \u5230 2147483647\uff0c\u524d\u540e\u52a0\u8d77\u6765\u5927\u6982 40  \u4ebf\u7684\u6620\u5c04\u7a7a\u95f4\uff0c\u53ea\u8981\u54c8\u5e0c\u51fd\u6570\u6620\u5c04\u5f97\u6bd4\u8f83\u5747\u5300\u677e\u6563\uff0c\u4e00\u822c\u5e94\u7528\u662f\u5f88\u96be\u51fa\u73b0\u78b0\u649e\u7684\u3002\u4f46\u95ee\u9898\u662f\u4e00\u4e2a 40  \u4ebf\u957f\u5ea6\u7684\u6570\u7ec4\uff0c\u5185\u5b58\u662f\u653e\u4e0d\u4e0b\u7684\u3002\u6240\u4ee5\u8fd9\u4e2a\u6563\u5217\u503c\u662f\u4e0d\u80fd\u76f4\u63a5\u62ff\u6765\u7528\u7684\u3002\u7528\u4e4b\u524d\u8fd8\u8981\u5148\u505a\u5bf9\u6570\u7ec4\u7684\u957f\u5ea6\u53d6\u6a21\u8fd0\u7b97\uff0c\u5f97\u5230\u7684\u4f59\u6570\u624d\u80fd\u7528\u6765\u8981\u5b58\u653e\u7684\u4f4d\u7f6e\u4e5f\u5c31\u662f\u5bf9\u5e94\u7684\u6570\u7ec4\u4e0b\u6807\u3002\u8fd9\u4e2a\u6570\u7ec4\u4e0b\u6807\u7684\u8ba1\u7b97\u65b9\u6cd5\u662f\u201c ",(0,l.kt)("inlineCode",{parentName:"p"},"(n - 1) & hash"),"\u201d\u3002\uff08n \u4ee3\u8868\u6570\u7ec4\u957f\u5ea6\uff09\u3002\u8fd9\u4e5f\u5c31\u89e3\u91ca\u4e86 HashMap \u7684\u957f\u5ea6\u4e3a\u4ec0\u4e48\u662f 2 \u7684\u5e42\u6b21\u65b9\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8fd9\u4e2a\u7b97\u6cd5\u5e94\u8be5\u5982\u4f55\u8bbe\u8ba1\u5462\uff1f")),(0,l.kt)("p",null,"\u6211\u4eec\u9996\u5148\u53ef\u80fd\u4f1a\u60f3\u5230\u91c7\u7528%\u53d6\u4f59\u7684\u64cd\u4f5c\u6765\u5b9e\u73b0\u3002\u4f46\u662f\uff0c\u91cd\u70b9\u6765\u4e86\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u201c\u53d6\u4f59(%)\u64cd\u4f5c\u4e2d\u5982\u679c\u9664\u6570\u662f 2 \u7684\u5e42\u6b21\u5219\u7b49\u4ef7\u4e8e\u4e0e\u5176\u9664\u6570\u51cf\u4e00\u7684\u4e0e(&)\u64cd\u4f5c\uff08\u4e5f\u5c31\u662f\u8bf4 hash%length==hash&(length-1)\u7684\u524d\u63d0\u662f length \u662f 2 \u7684 n \u6b21\u65b9\uff1b\uff09\u3002\u201d")," \u5e76\u4e14 ",(0,l.kt)("strong",{parentName:"p"},"\u91c7\u7528\u4e8c\u8fdb\u5236\u4f4d\u64cd\u4f5c &\uff0c\u76f8\u5bf9\u4e8e%\u80fd\u591f\u63d0\u9ad8\u8fd0\u7b97\u6548\u7387\uff0c\u8fd9\u5c31\u89e3\u91ca\u4e86 HashMap \u7684\u957f\u5ea6\u4e3a\u4ec0\u4e48\u662f 2 \u7684\u5e42\u6b21\u65b9\u3002")),(0,l.kt)("p",null,"\ud83d\ude4b\u200d\u2642\ufe0f\u7b14\u8005\u8ba4\u4e3aGuide\u5199\u7684\u8fd9\u4e2a\u6478\u68f1\u4e24\u53ef\uff0c\u6240\u4ee5\u627e\u4e86\u4e00\u4e2aStackOverFlow\u4e2d\u63cf\u8ff0\u66f4\u4e3a\u6e05\u695a\u7684\u7ffb\u8bd1\u4e3a\u4e0b\uff1a"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\ud83e\uddda\u200d\u2642\ufe0f\u539f\u5e16\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/53526790/why-are-hashmaps-implemented-using-powers-of-two"},"https://stackoverflow.com/questions/53526790/why-are-hashmaps-implemented-using-powers-of-two")),(0,l.kt)("p",{parentName:"blockquote"},"\u5f53\u4f60\u4ece\u4e00\u4e2a\u5e42\u4e3a2\u7684\u6570\u5b57\u4e2d\u51cf\u53bb1\u5f97\u5230\u7684\u662f\u4e00\u4e2a\u4e8c\u8fdb\u5236\u8868\u793a\u90fd\u662f1\u7684\u6570\u5b57\u3002\u4f8b\u598216\u662f2\u7684\u5e42\u3002\u5982\u679c\u4ece\u4e2d\u51cf\u53bb1\uff0c\u5f97\u523015\uff0c\u5b83\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u662f1111\u3002\u73b0\u5728\uff0c\u5982\u679c\u4f60\u75281111\u5bf9\u4efb\u4f55\u4e00\u4e2a\u6570\u5b57\u8fdb\u884c\u4f4d AND  \u8fd0\u7b97\uff0c\u4f60\u5c06\u5f97\u5230\u8fd9\u4e2a\u6570\u5b57\u7684\u6700\u540e4\u4f4d\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u5b83\u7b49\u4e8e\u8fd9\u4e2a\u6570\u5b57\u4e58\u4ee516\u7684\u6a21(\u9664\u6cd5\u8fd0\u7b97\u901a\u5e38\u662f\u4e00\u4e2a\u6602\u8d35\u7684\u8fd0\u7b97\u3002\u56e0\u6b64\uff0c\u4f4d\u64cd\u4f5c\u901a\u5e38\u6bd4\u9664\u6cd5\u66f4\u53d7\u6b22\u8fce)\u3002\u6700\u540e\u76844\u4f4d\u5c06\u8ba1\u7b97\u4e3a0\u523015\u4e4b\u95f4\u7684\u4efb\u610f\u6570\u5b57\uff0c\u8fd9\u4e9b\u6570\u5b57\u662f\u57fa\u7840\u6570\u7ec4\u7684\u7d22\u5f15\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u4f60\u53ef\u4ee5\u6539\u621017\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4ece\u4e2d\u51cf\u53bb1\u5f97\u523016\u4e5f\u5c31\u662f\u4e8c\u8fdb\u5236\u768410000\u3002\u73b0\u5728\u4f60\u5bf9\u4e00\u4e2a16\u7684\u6570\u505a AND\uff08\u4e0e&\uff09  \u8fd0\u7b97\uff0c\u4f60\u4f1a\u5931\u53bb\u6240\u6709\u7684\u4f4d\uff0c\u9664\u4e86\u4ece\u7ed3\u5c3e\u5f00\u59cb\u7684\u7b2c5\u4f4d\u3002\u56e0\u6b64\uff0c\u65e0\u8bba\u53d6\u591a\u5c11\u6570\uff0c\u6570\u7ec4\u7d22\u5f15\u90fd\u662f16\u62160\u3002\u8fd9\u610f\u5473\u7740\u4f1a\u6709\u5f88\u591a\u51b2\u7a81\uff0c\u8fd9\u53cd\u8fc7\u6765\u53c8\u610f\u5473\u7740\u6027\u80fd\u5f88\u5dee\u3002\u60a8\u5c06\u9700\u8981 O (log n)\u800c\u4e0d\u662f O  (1)\u8fdb\u884c\u68c0\u7d22\uff0c\u56e0\u4e3a\u5f53\u51b2\u7a81\u53d1\u751f\u65f6\uff0c\u7ed9\u5b9a\u6876\u4e2d\u7684\u6240\u6709\u8282\u70b9\u90fd\u5c06\u5b58\u50a8\u5728\u4e00\u4e2a\u7ea2\u9ed1\u8272\u6811\u4e2d\u3002\u4e0d\u4ec5\u5982\u6b64\u3002\u5982\u679c\u60a8\u5728\u4e00\u4e2a\u591a\u7ebf\u7a0b\u73af\u5883\u4e2d\u4f7f\u7528  ConcurrentHashMap\uff0c\u90a3\u4e48\u60a8\u5c06\u7ecf\u5386\u5927\u91cf\u7684\u540c\u6b65\uff0c\u56e0\u4e3a\u6240\u6709\u65b0\u6dfb\u52a0\u7684\u5185\u5bb9\u6700\u7ec8\u90fd\u4f1a\u4ee5\u975e\u5e38\u5c11\u7684\u5b58\u50a8\u6876(\u5728\u4e0a\u8ff0\u60c5\u51b5\u4e0b\u53ea\u67092-0\u548c16\u4e2a)\u7ed3\u675f\uff0c\u5e76\u4e14\u5f53\u60a8\u5728\u4e00\u4e2a\u5df2\u7ecf\u6709\u5176\u4ed6\u8282\u70b9\u7684\u5b58\u50a8\u6876\u4e2d\u6dfb\u52a0\u65b0\u8282\u70b9\u65f6\uff0c\u5b58\u50a8\u6876\u5c06\u88ab\u9501\u5b9a\uff0c\u4ee5\u907f\u514d\u7531\u4e8e\u591a\u4e2a\u7ebf\u7a0b\u7684\u4fee\u6539\u800c\u5bfc\u81f4\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u3002\u56e0\u6b64\uff0c\u5c1d\u8bd5\u6dfb\u52a0\u65b0\u8282\u70b9\u7684\u5176\u4ed6\u7ebf\u7a0b\u9700\u8981\u7b49\u5f85\u5f53\u524d\u7ebf\u7a0b\u91ca\u653e\u9501\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u6700\u540e\uff0c\u6211\u8fd8\u5e94\u8be5\u63d0\u5230\uff0cJava HashMap \u5b9e\u73b0\u8fd8\u5c06\u952e\u7684\u54c8\u5e0c\u4ee3\u7801\u768416\u4f4d\u5411\u53f3\u79fb\u52a8\uff0c\u5e76\u5728\u7528(length-1)\u8fdb\u884c\u4f4d AND \u4e4b\u524d\u5bf9\u539f\u54c8\u5e0c\u4ee3\u7801\u8fdb\u884c\u4f4d\u5f02\u6216\u64cd\u4f5c\uff0c\u4ee5\u786e\u4fdd\u9ad8\u9636\u4f4d\u7684\u6548\u679c\u4e5f\u88ab\u6355\u83b7\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u56e0\u6b64\uff0c\u57fa\u672c\u4e0a\u8981\u70b9\u662f\uff0c\u5982\u679c\u5927\u5c0f\u662f2\u7684\u5e42\u6b21\u65b9\uff0c\u90a3\u4e48\u4e0e\u5176\u4ed6\u4efb\u4f55\u4e0d\u662f2\u7684\u5927\u5c0f\u76f8\u6bd4\uff0c\u952e\u5c06\u66f4\u5747\u5300\u5730\u5206\u5e03\u5728\u6574\u4e2a\u6570\u7ec4\u4e2d\uff0c\u6700\u5c0f\u7684\u51b2\u7a81\u5c06\u5bfc\u81f4\u66f4\u597d\u7684\u68c0\u7d22\u6027\u80fd(\u5728ConcurrentHashMap \u7684\u60c5\u51b5\u4e0b\u4e5f\u66f4\u5c11\u7684\u540c\u6b65)\u3002")),(0,l.kt)("p",null,"\u4e3a\u4ec0\u4e48\u80fd\u51cf\u5c11\u78b0\u649e\uff1f\u8fd9\u662f\u56e0\u4e3ahashmap\u7684hash\u503c\u662fhashCode\u53f3\u79fb16\u4f4d\u5f97\u5230\u7684\uff0c\u8fd9\u4e48\u505a\u4f7f\u5f97hash\u503c\u7684\u4f4e\u4f4d\u4fdd\u7559\u4e86\u9ad8\u4f4d\u7684\u4fe1\u606f\uff0c\u6240\u4ee5\u53ea\u8981\u4f4e\u4f4d\u5c31\u53ef\u4ee5\u4e86\u3002"),(0,l.kt)("p",null,"\u4e00\u53e5\u8bdd\uff0cHashMap\u7684\u957f\u5ea6\u4e3a2\u7684\u5e42\u6b21\u65b9\u7684\u539f\u56e0\u662f\u4e3a\u4e86\u51cf\u5c11Hash\u78b0\u649e\uff0c\u5c3d\u91cf\u4f7fHash\u7b97\u6cd5\u7684\u7ed3\u679c\u5747\u5300\u5206\u5e03\u3002\uff08\u53ea\u6709\u5f53\u957f\u5ea6\u662f2^n\u65f6\uff0c\u957f\u5ea6-1\u7684\u4e8c\u8fdb\u5236\u4f4e\u4f4d\u624d\u5168\u90e8\u662f1\uff09"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5b9e\u9645\u573a\u666f\u53ef\u4ee5\u8fd9\u6837\u56de\u7b54")),(0,l.kt)("p",null,"Hash \u503c\u7684\u8303\u56f4\u503c\u6bd4\u8f83\u5927\uff0c\u4f7f\u7528\u4e4b\u524d\u9700\u8981\u5148\u5bf9\u6570\u7ec4\u7684\u957f\u5ea6\u53d6\u6a21\u8fd0\u7b97\uff0c\u5f97\u5230\u7684\u4f59\u6570\u624d\u662f\u5143\u7d20\u5b58\u653e\u7684\u4f4d\u7f6e\u4e5f\u5c31\u662f\u5bf9\u5e94\u7684\u6570\u7ec4\u4e0b\u6807\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u6570\u7ec4\u4e0b\u6807\u7684\u8ba1\u7b97\u65b9\u6cd5\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"(n - 1) & hash")),(0,l.kt)("p",null,"\u5c06HashMap\u7684\u957f\u5ea6\u5b9a\u4e3a2 \u7684\u5e42\u6b21\u65b9\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"(n - 1)&hash"),"\u4f4d\u8fd0\u7b97\u4ee3\u66ff%\u53d6\u4f59\u7684\u64cd\u4f5c\uff0c\u63d0\u9ad8\u6027\u80fd\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u62d3\u5c55\uff1a",(0,l.kt)("strong",{parentName:"p"},"HashMap\u9ed8\u8ba4\u52a0\u8f7d\u56e0\u5b50\u4e3a\u4ec0\u4e48\u9009\u62e90.75\u5462\uff1f"))),(0,l.kt)("p",null,"0.75\u662f\u5bf9",(0,l.kt)("strong",{parentName:"p"},"\u7a7a\u95f4\u548c\u65f6\u95f4\u6548\u7387"),"\u7684\u4e00\u4e2a\u5e73\u8861\u9009\u62e9\uff0c\u6839\u636e\u6cca\u677e\u5206\u5e03\uff0cloadFactor \u53d60.75\u78b0\u649e\u6700\u5c0f\u3002\u4e00\u822c\u4e0d\u4f1a\u4fee\u6539\uff0c\u9664\u975e\u5728\u65f6\u95f4\u548c\u7a7a\u95f4\u6bd4\u8f83\u7279\u6b8a\u7684\u60c5\u51b5\u4e0b \uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u5185\u5b58\u7a7a\u95f4\u5f88\u591a\u800c\u53c8\u5bf9\u65f6\u95f4\u6548\u7387\u8981\u6c42\u5f88\u9ad8\uff0c\u53ef\u4ee5\u964d\u4f4e\u8d1f\u8f7d\u56e0\u5b50Load factor\u7684\u503c \u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u5185\u5b58\u7a7a\u95f4\u7d27\u5f20\u800c\u5bf9\u65f6\u95f4\u6548\u7387\u8981\u6c42\u4e0d\u9ad8\uff0c\u53ef\u4ee5\u589e\u52a0\u8d1f\u8f7d\u56e0\u5b50loadFactor\u7684\u503c\uff0c\u8fd9\u4e2a\u503c\u53ef\u4ee5\u5927\u4e8e1\u3002")),(0,l.kt)("h3",{id:"hashmap-\u591a\u7ebf\u7a0b\u64cd\u4f5c\u5bfc\u81f4\u6b7b\u5faa\u73af\u95ee\u9898"},"HashMap \u591a\u7ebf\u7a0b\u64cd\u4f5c\u5bfc\u81f4\u6b7b\u5faa\u73af\u95ee\u9898"),(0,l.kt)("p",null,"\u4e3b\u8981\u539f\u56e0\u5728\u4e8e\u5e76\u53d1\u4e0b\u7684 Rehash \u4f1a\u9020\u6210\u5143\u7d20\u4e4b\u95f4\u4f1a\u5f62\u6210\u4e00\u4e2a\u5faa\u73af\u94fe\u8868\u3002\u4e0d\u8fc7\uff0cjdk 1.8 \u540e\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u662f\u8fd8\u662f\u4e0d\u5efa\u8bae\u5728\u591a\u7ebf\u7a0b\u4e0b\u4f7f\u7528  HashMap,\u56e0\u4e3a\u591a\u7ebf\u7a0b\u4e0b\u4f7f\u7528 HashMap \u8fd8\u662f\u4f1a\u5b58\u5728\u5176\u4ed6\u95ee\u9898\u6bd4\u5982\u6570\u636e\u4e22\u5931\u3002\u5e76\u53d1\u73af\u5883\u4e0b\u63a8\u8350\u4f7f\u7528 ConcurrentHashMap \u3002"),(0,l.kt)("p",null,"\u8be6\u60c5\u8bf7\u67e5\u770b\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://coolshell.cn/articles/9606.html"},"https://coolshell.cn/articles/9606.html")),(0,l.kt)("h3",{id:"\u4e3a\u4ec0\u4e48java\u53ea\u6709\u503c\u4f20\u9012"},"\u4e3a\u4ec0\u4e48Java\u53ea\u6709\u503c\u4f20\u9012"),(0,l.kt)("p",null,"\u4e2a\u4eba\u7406\u89e3\uff0c\u4e0d\u7ba1\u5728\u65b9\u6cd5\u4e2d\u5982\u4f55\u8c03\u7528\u90fd\u662f\u53ea\u62f7\u8d1d\u3002\u4f8b\u5982\uff08int a, int b\uff09\u5c31\u662f\u62f7\u8d1d\u4f20\u5165\u7684\u503c\u5230\u53e6\u5916\u4e00\u4e2a\u5730\u5740\uff1b\u5982\u679c\u4f20\u5165\u7684\u662f\uff08int[] arr\uff09\u6216\u8005\uff08Integer a\uff09\u5219\u5c31\u662f\u62f7\u8d1d\u8fd9\u4e2a\u7684\u5730\u5740\u5230\u53e6\u5916\u4e00\u4e2a\u5730\u5740\uff0c\u5b9e\u8d28\u4e0a\u4e24\u4e2a\uff08\u539f\u503c\u548c\u62f7\u8d1d\u7684\u5730\u5740\uff09\u90fd\u6307\u5411\u540c\u4e00\u4e2a\u5730\u5740\u3002"),(0,l.kt)("h3",{id:"\u5f02\u5e38\u5904\u7406\u603b\u7ed3"},"\u5f02\u5e38\u5904\u7406\u603b\u7ed3"),(0,l.kt)("p",null,"finally \u5757\u4e0d\u4f1a\u88ab\u6267\u884c\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5728 try \u6216 finally \u5757\u4e2d\u7528\u4e86 System.exit(int) \u9000\u51fa\u7a0b\u5e8f\u3002\u4f46\u662f\uff0c\u5982\u679c System.exit(int) \u5728\u5f02\u5e38\n\u8bed\u53e5\u4e4b\u540e\uff0c finally \u8fd8\u662f\u4f1a\u88ab\u6267\u884c"),(0,l.kt)("li",{parentName:"ol"},"\u7a0b\u5e8f\u6240\u5728\u7684\u7ebf\u7a0b\u6b7b\u4ea1\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5173\u95ed CPU\u3002")),(0,l.kt)("p",null,"\u4e0b\u9762\u8fd9\u90e8\u5206\u5185\u5bb9\u6765\u81ea issue:",(0,l.kt)("a",{parentName:"p",href:"https://github.com/Snailclimb/JavaGuide/issues/190%E3%80%82"},"https://github.com/Snailclimb/JavaGuide/issues/190\u3002"),"\n",(0,l.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff1a")," \u5f53 try \u8bed\u53e5\u548c finally \u8bed\u53e5\u4e2d\u90fd\u6709 return \u8bed\u53e5\u65f6\uff0c\u5728\u65b9\u6cd5\u8fd4\u56de\u4e4b\u524d\uff0cfinally \u8bed\u53e5\u7684\u5185\u5bb9\u5c06\u88ab\u6267\u884c\uff0c\u5e76\u4e14 finally \u8bed\u53e5\u7684\u8fd4\u56de\u503c\u5c06\u4f1a\u8986\u76d6\u539f\u59cb\u7684\u8fd4\u56de\u503c\u3002\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public static int f(int value) {\n    try {\n        return value * value;\n    } finally {\n    if (value == 2) {\n        return 0;\n    }\n}\n")),(0,l.kt)("p",null,"\u300ajava\u6838\u5fc3\u6280\u672f\u5377\u4e00\u300b\u4e2d\u63d0\u5230\u8fc7\uff1a\u5f53finally\u5b50\u53e5\u5305\u542breturn \u8bed\u53e5\u65f6\uff08\u5f53\u7136\u5728\u8bbe\u8ba1\u539f\u5219\u4e0a\u662f\u4e0d\u5141\u8bb8\u5728finally\u5757\u4e2d\u629b\u51fa\u5f02\u5e38\u6216\u8005 \u6267\u884creturn\u8bed\u53e5\u7684\uff09\uff0c\u5c06\u4f1a\u51fa\u73b0\u4e00\u79cd\u610f\u60f3\u4e0d\u5230\u7684\u7ed3\u679c\u3002\u5047\u8bbe\u5229\u7528return\u8bed\u53e5\u4ecetry \u8bed\u53e5\u5757\u4e2d\u9000\u51fa\u3002\u5728\u65b9\u6cd5\u8fd4\u56de\u524d\uff0cfinally\u5b50\u53e5\u7684\u5185\u5bb9\u5c06\u88ab\u6267\u884c\u3002\u5982\u679cfinally\u5b50\u53e5\u4e2d\u4e5f\u6709\u4e00\u4e2areturn\u8bed\u53e5\uff0c\u8fd9\u4e2a\u8fd4\u56de\u503c\u5c06\u4f1a\u8986\u76d6\u539f\u59cb\u7684\u8fd4\u56de\u503c\u3002"),(0,l.kt)("h3",{id:"\u6709\u54ea\u4e9b\u5e38\u89c1\u7684-io-\u6a21\u578b"},"\u6709\u54ea\u4e9b\u5e38\u89c1\u7684 IO \u6a21\u578b?"),(0,l.kt)("p",null,"UNIX \u7cfb\u7edf\u4e0b\uff0c IO \u6a21\u578b\u4e00\u5171\u6709 5 \u79cd\uff1a \u540c\u6b65\u963b\u585e I/O\u3001\u540c\u6b65\u975e\u963b\u585e I/O\u3001I/O \u591a\u8def\u590d\u7528\u3001\u4fe1\u53f7\u9a71\u52a8 I/O \u548c\u5f02\u6b65 I/O\u3002"),(0,l.kt)("h4",{id:"\u963b\u585e\u5f0f-io"},"\u963b\u585e\u5f0f I/O"),(0,l.kt)("p",null,"\u5e94\u7528\u8fdb\u7a0b\u88ab\u963b\u585e\uff0c\u76f4\u5230\u6570\u636e\u590d\u5236\u5230\u5e94\u7528\u8fdb\u7a0b\u7f13\u51b2\u533a\u4e2d\u624d\u8fd4\u56de\u3002 \u5e94\u8be5\u6ce8\u610f\u5230\uff0c\u5728\u963b\u585e\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5176\u5b83\u7a0b\u5e8f\u8fd8\u53ef\u4ee5\u6267\u884c\uff0c\u56e0\u6b64\u963b\u585e\u4e0d\u610f\u5473\u7740\u6574\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u90fd\u88ab\u963b\u585e\u3002\u56e0\u4e3a\u5176\u4ed6\u7a0b\u5e8f\u8fd8\u53ef\u4ee5\u6267\u884c\uff0c\u56e0\u6b64\u4e0d\u6d88\u8017 CPU \u65f6\u95f4\uff0c\u8fd9\u79cd\u6a21\u578b\u7684\u6267\u884c\u6548\u7387\u4f1a\u6bd4\u8f83\u9ad8\u3002 \u4e0b\u56fe\u4e2d\uff0crecvfrom \u7528\u4e8e\u63a5\u6536 Socket \u4f20\u6765\u7684\u6570\u636e\uff0c\u5e76\u590d\u5236\u5230\u5e94\u7528\u8fdb\u7a0b\u7684\u7f13\u51b2\u533a buf \u4e2d\u3002\u8fd9\u91cc\u628a recvfrom() \u5f53\u6210\u7cfb\u7edf\u8c03\u7528\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628221701308",src:n(42666).Z,width:"981",height:"367"})),(0,l.kt)("h4",{id:"\u975e\u963b\u585e\u5f0f-io"},"\u975e\u963b\u585e\u5f0f I/O"),(0,l.kt)("p",null,"\u5e94\u7528\u8fdb\u7a0b\u6267\u884c\u7cfb\u7edf\u8c03\u7528\u4e4b\u540e\uff0c\u5185\u6838\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u7801\u3002\u5e94\u7528\u8fdb\u7a0b\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\uff0c\u4f46\u662f\u9700\u8981\u4e0d\u65ad\u7684\u6267\u884c\u7cfb\u7edf\u8c03\u7528\u6765\u83b7\u77e5 I/O \u662f\u5426\u5b8c\u6210\uff0c\u8fd9\u79cd\u65b9\u5f0f\u79f0\u4e3a\u8f6e\u8be2(polling)\u3002"),(0,l.kt)("p",null,"\u7531\u4e8e CPU \u8981\u5904\u7406\u66f4\u591a\u7684\u7cfb\u7edf\u8c03\u7528\uff0c\u56e0\u6b64\u8fd9\u79cd\u6a21\u578b\u662f\u6bd4\u8f83\u4f4e\u6548\u7684\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628221710263",src:n(84014).Z,width:"998",height:"488"})),(0,l.kt)("h4",{id:"io-\u590d\u7528"},"I/O \u590d\u7528"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4f7f\u7528 select \u6216\u8005 poll \u7b49\u5f85\u6570\u636e"),"\uff0c\u5e76\u4e14\u53ef\u4ee5\u7b49\u5f85\u591a\u4e2a\u5957\u63a5\u5b57\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u53d8\u4e3a\u53ef\u8bfb\uff0c\u8fd9\u4e00\u8fc7\u7a0b\u4f1a\u88ab\u963b\u585e\uff0c\u5f53\u67d0\u4e00\u4e2a\u5957\u63a5\u5b57\u53ef\u8bfb\u65f6\u8fd4\u56de\u3002\u4e4b\u540e\u518d\u4f7f\u7528 recvfrom \u628a\u6570\u636e\u4ece\u5185\u6838\u590d\u5236\u5230\u8fdb\u7a0b\u4e2d\u3002"),(0,l.kt)("p",null,"\u5b83\u53ef\u4ee5\u8ba9\u5355\u4e2a\u8fdb\u7a0b\u5177\u6709\u5904\u7406\u591a\u4e2a I/O \u4e8b\u4ef6\u7684\u80fd\u529b\u3002\u53c8\u88ab\u79f0\u4e3a Event Driven I/O\uff0c\u5373\u4e8b\u4ef6\u9a71\u52a8 I/O\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u4e00\u4e2a Web \u670d\u52a1\u5668\u6ca1\u6709 I/O \u590d\u7528\uff0c\u90a3\u4e48\u6bcf\u4e00\u4e2a Socket \u8fde\u63a5\u90fd\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\u53bb\u5904\u7406\u3002\u5982\u679c\u540c\u65f6\u6709\u51e0\u4e07\u4e2a\u8fde\u63a5\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u521b\u5efa\u76f8\u540c\u6570\u91cf\u7684\u7ebf\u7a0b\u3002\u5e76\u4e14\u76f8\u6bd4\u4e8e\u591a\u8fdb\u7a0b\u548c\u591a\u7ebf\u7a0b\u6280\u672f\uff0cI/O \u590d\u7528\u4e0d\u9700\u8981\u8fdb\u7a0b\u7ebf\u7a0b\u521b\u5efa\u548c\u5207\u6362\u7684\u5f00\u9500\uff0c\u7cfb\u7edf\u5f00\u9500\u66f4\u5c0f\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628221721484",src:n(87537).Z,width:"1105",height:"393"})),(0,l.kt)("h4",{id:"\u4fe1\u53f7\u9a71\u52a8-io"},"\u4fe1\u53f7\u9a71\u52a8 I/O"),(0,l.kt)("p",null,"\u5e94\u7528\u8fdb\u7a0b\u4f7f\u7528 sigaction \u7cfb\u7edf\u8c03\u7528\uff0c\u5185\u6838\u7acb\u5373\u8fd4\u56de\uff0c\u5e94\u7528\u8fdb\u7a0b\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\uff0c\u4e5f\u5c31\u662f\u8bf4\u7b49\u5f85\u6570\u636e\u9636\u6bb5\u5e94\u7528\u8fdb\u7a0b\u662f\u975e\u963b\u585e\u7684\u3002\u5185\u6838\u5728\u6570\u636e\u5230\u8fbe\u65f6\u5411\u5e94\u7528\u8fdb\u7a0b\u53d1\u9001 SIGIO \u4fe1\u53f7\uff0c\u5e94\u7528\u8fdb\u7a0b\u6536\u5230\u4e4b\u540e\u5728\u4fe1\u53f7\u5904\u7406\u7a0b\u5e8f\u4e2d\u8c03\u7528 recvfrom \u5c06\u6570\u636e\u4ece\u5185\u6838\u590d\u5236\u5230\u5e94\u7528\u8fdb\u7a0b\u4e2d\u3002"),(0,l.kt)("p",null,"\u76f8\u6bd4\u4e8e\u975e\u963b\u585e\u5f0f I/O \u7684\u8f6e\u8be2\u65b9\u5f0f\uff0c\u4fe1\u53f7\u9a71\u52a8 I/O \u7684 CPU \u5229\u7528\u7387\u66f4\u9ad8\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628221734114",src:n(4326).Z,width:"996",height:"381"})),(0,l.kt)("h4",{id:"\u5f02\u6b65-io"},"\u5f02\u6b65 I/O"),(0,l.kt)("p",null,"\u8fdb\u884c aio_read\uff08asynchronous read\uff09 \u7cfb\u7edf\u8c03\u7528\u4f1a\u7acb\u5373\u8fd4\u56de\uff0c\u5e94\u7528\u8fdb\u7a0b\u7ee7\u7eed\u6267\u884c\uff0c\u4e0d\u4f1a\u88ab\u963b\u585e\uff0c\u5185\u6838\u4f1a\u5728\u6240\u6709\u64cd\u4f5c\u5b8c\u6210\u4e4b\u540e\u5411\u5e94\u7528\u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7\u3002"),(0,l.kt)("p",null,"\u5f02\u6b65 I/O \u4e0e\u4fe1\u53f7\u9a71\u52a8 I/O \u7684\u533a\u522b\u5728\u4e8e\uff0c\u5f02\u6b65 I/O \u7684\u4fe1\u53f7\u662f\u901a\u77e5\u5e94\u7528\u8fdb\u7a0b I/O \u5b8c\u6210\uff0c\u800c\u4fe1\u53f7\u9a71\u52a8 I/O \u7684\u4fe1\u53f7\u662f\u901a\u77e5\u5e94\u7528\u8fdb\u7a0b\u53ef\u4ee5\u5f00\u59cb I/O\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628221741472",src:n(95371).Z,width:"949",height:"402"})),(0,l.kt)("h3",{id:"bionioaio-\u6709\u4ec0\u4e48\u533a\u522b"},"\u2b50BIO,NIO,AIO \u6709\u4ec0\u4e48\u533a\u522b"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220615203937591",src:n(71848).Z,width:"928",height:"340"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Java BIO","[Blocking I/O]"," | \u540c\u6b65\u963b\u585eI/O\u6a21\u5f0f")),(0,l.kt)("p",null,"BIO \u5168\u79f0Block-IO \u662f\u4e00\u79cd\u540c\u6b65\u4e14\u963b\u585e\u7684\u901a\u4fe1\u6a21\u5f0f\u3002\u662f\u4e00\u4e2a\u6bd4\u8f83\u4f20\u7edf\u7684\u901a\u4fe1\u65b9\u5f0f\uff0c\u6a21\u5f0f\u7b80\u5355\uff0c\u4f7f\u7528\u65b9\u4fbf\u3002\u4f46\u5e76\u53d1\u5904\u7406\u80fd\u529b\u4f4e\uff0c\u901a\u4fe1\u8017\u65f6\uff0c\u4f9d\u8d56\u7f51\u901f"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Java NIO","[New I/O]"," | \u540c\u6b65\u975e\u963b\u585e\u6a21\u5f0f")),(0,l.kt)("p",null,"\u4f20\u7edf\u7684NIO\uff1a"),(0,l.kt)("p",null,"\u5728\u975e\u963b\u585e\u6a21\u5f0f\u4e2d\uff0c\u53d1\u51fa Socket \u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"accept()")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"read()")," \u64cd\u4f5c\u65f6\uff0c\u5982\u679c\u5185\u6838\u4e2d\u7684\u6570\u636e\u8fd8\u6ca1\u6709\u51c6\u5907\u597d\uff0c\u90a3\u4e48\u5b83\u5e76\u4e0d\u4f1a\u963b\u585e\u7528\u6237\u8fdb\u7a0b\uff0c\u800c\u662f\u7acb\u523b\u8fd4\u56de\u4e00\u4e2a\u4fe1\u606f\u3002\u4e5f\u5c31\u662f\u8bf4\u8fdb\u7a0b\u53d1\u8d77\u4e00\u4e2a read \u64cd\u4f5c\u540e\uff0c\u5e76\u4e0d\u9700\u8981\u4e00\u76f4\u963b\u585e\u7b49\u5f85\uff0c\u800c\u662f\u9a6c\u4e0a\u5c31\u5f97\u5230\u4e86\u4e00\u4e2a\u7ed3\u679c\u3002 \u5982\u679c\u7ed3\u679c\u53d1\u73b0\u6570\u636e\u51c6\u5907\u5b8c\u6bd5\u5c31\u53ef\u4ee5\u8bfb\u53d6\u6570\u636e\uff0c\u7136\u540e\u62f7\u8d1d\u5230\u7528\u6237\u5185\u5b58\u3002\u5982\u679c\u7ed3\u679c\u53d1\u73b0\u6570\u636e\u6ca1\u6709\u5c31\u7eea\u4e5f\u4f1a\u8fd4\u56de\uff0c\u8fdb\u7a0b\u7ee7\u7eed\u4e0d\u65ad\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"\u4e3b\u52a8\u8be2\u95ee"),"\u6570\u636e\u7684\u51c6\u5907\u60c5\u51b5\u662f\u975e\u963b\u585e\u6a21\u5f0f\u7684\u4e00\u4e2a\u7279\u70b9\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622215041962",src:n(81546).Z,width:"1240",height:"928"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u6570\u636e\u51c6\u5907\u9636\u6bb5\uff1a")," \u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u7f51\u7edc\u6570\u636e\u5305\u5230\u8fbe\u7f51\u5361\uff0c\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"li"},"DMA")," \u7684\u65b9\u5f0f\u5c06\u6570\u636e\u5305\u62f7\u8d1d\u5230\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u7ecf\u8fc7\u786c\u4e2d\u65ad\uff0c\u8f6f\u4e2d\u65ad\uff0c\u63a5\u7740\u901a\u8fc7\u5185\u6838\u7ebf\u7a0b ",(0,l.kt)("inlineCode",{parentName:"li"},"ksoftirqd"),"\u7ecf\u8fc7\u5185\u6838\u534f\u8bae\u6808\u7684\u5904\u7406\uff0c\u6700\u7ec8\u5c06\u6570\u636e\u53d1\u9001\u5230 ",(0,l.kt)("inlineCode",{parentName:"li"},"\u5185\u6838Socket"),"\u7684\u63a5\u6536\u7f13\u51b2\u533a\u4e2d"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u6570\u636e\u62f7\u8d1d\u9636\u6bb5\uff1a")," \u5f53\u6570\u636e\u5230\u8fbe ",(0,l.kt)("inlineCode",{parentName:"li"},"\u5185\u6838Socket"),"\u7684\u63a5\u6536\u7f13\u51b2\u533a\u4e2d\u65f6\uff0c\u6b64\u65f6\u6570\u636e\u5b58\u5728\u4e8e ",(0,l.kt)("inlineCode",{parentName:"li"},"\u5185\u6838\u7a7a\u95f4"),"\u4e2d\uff0c\u9700\u8981\u5c06\u6570\u636e ",(0,l.kt)("inlineCode",{parentName:"li"},"\u62f7\u8d1d"),"\u5230 ",(0,l.kt)("inlineCode",{parentName:"li"},"\u7528\u6237\u7a7a\u95f4"),"\u4e2d\uff0c\u624d\u80fd\u591f\u88ab\u5e94\u7528\u7a0b\u5e8f\u8bfb\u53d6\u3002")),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u7f8e\u56e2\u6280\u672f\u56e2\u961f2016\u5e74\u5199\u7684\u6587\u7ae0\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://tech.meituan.com/2016/11/04/nio.html"},"Java NIO\u6d45\u6790")),(0,l.kt)("p",null,"Java \u4e2d\u7684 NIO \u4e8e Java 1.4 \u4e2d\u5f15\u5165\uff0c\u5bf9\u5e94 ",(0,l.kt)("inlineCode",{parentName:"p"},"java.nio")," \u5305\uff0c\u63d0\u4f9b\u4e86Java NIO\u7684\u5b9e\u73b0\u4e3b\u8981\u6d89\u53ca\u4e09\u5927\u6838\u5fc3\u5185\u5bb9\uff1a ",(0,l.kt)("inlineCode",{parentName:"p"},"Channel")," , ",(0,l.kt)("inlineCode",{parentName:"p"},"Selector"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"Buffer")," \u7b49\u62bd\u8c61\u3002Selector\u7528\u4e8e\u76d1\u542c\u591a\u4e2aChannel\u7684\u4e8b\u4ef6\uff0c\u6bd4\u5982\u8fde\u63a5\u6253\u5f00\u6216\u6570\u636e\u5230\u8fbe\uff0c\u56e0\u6b64\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u591a\u4e2a\u6570\u636eChannel\u7684\u7ba1\u7406\u3002\u4f20\u7edfI/O\u57fa\u4e8e\u6570\u636e\u6d41\u8fdb\u884cI/O\u8bfb\u5199\u64cd\u4f5c\uff1b\u800cJava NIO\u57fa\u4e8eChannel\u548cBuffer\u8fdb\u884cI/O\u8bfb\u5199\u64cd\u4f5c\uff0c\u5e76\u4e14\u6570\u636e\u603b\u662f\u88ab\u4eceChannel\u8bfb\u53d6\u5230Buffer\u4e2d\uff0c\u6216\u8005\u4eceBuffer\u5199\u5165Channel\u4e2d\u3002"),(0,l.kt)("p",null,"Java \u4e2d\u7684 NIO \u53ef\u4ee5\u770b\u4f5c\u662f ",(0,l.kt)("strong",{parentName:"p"},"I/O \u591a\u8def\u590d\u7528\u6a21\u578b"),"\u3002\u4e5f\u6709\u5f88\u591a\u4eba\u8ba4\u4e3a\uff0cJava \u4e2d\u7684 NIO \u5c5e\u4e8e\u540c\u6b65\u975e\u963b\u585e IO \u6a21\u578b\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220615204150338",src:n(82538).Z,width:"578",height:"664"})),(0,l.kt)("p",null,"\u540c\u6b65\u975e\u963b\u585e IO \u6a21\u578b\u4e2d\uff0c\u5e94\u7528\u7a0b\u5e8f\u4f1a",(0,l.kt)("strong",{parentName:"p"},"\u4e00\u76f4\u53d1\u8d77 read \u8c03\u7528\uff0c\u7b49\u5f85\u6570\u636e\u4ece\u5185\u6838\u7a7a\u95f4\u62f7\u8d1d\u5230\u7528\u6237\u7a7a\u95f4\u7684\u8fd9\u6bb5\u65f6\u95f4\u91cc\uff0c\u7ebf\u7a0b\u4f9d\u7136\u662f\u963b\u585e\u7684\uff0c\u76f4\u5230\u5728\u5185\u6838\u628a\u6570\u636e\u62f7\u8d1d\u5230\u7528\u6237\u7a7a\u95f4"),"\u3002"),(0,l.kt)("p",null,"\u76f8\u6bd4\u4e8e\u540c\u6b65\u963b\u585e IO \u6a21\u578b\uff0c\u540c\u6b65\u975e\u963b\u585e IO \u6a21\u578b\u786e\u5b9e\u6709\u4e86\u5f88\u5927\u6539\u8fdb\u3002\u901a\u8fc7\u8f6e\u8be2\u64cd\u4f5c\uff0c\u907f\u514d\u4e86\u4e00\u76f4\u963b\u585e\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\uff0c\u8fd9\u79cd IO \u6a21\u578b\u540c\u6837\u5b58\u5728\u95ee\u9898\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u5e94\u7528\u7a0b\u5e8f\u4e0d\u65ad\u8fdb\u884c I/O \u7cfb\u7edf\u8c03\u7528\u8f6e\u8be2\u6570\u636e\u662f\u5426\u5df2\u7ecf\u51c6\u5907\u597d\u7684\u8fc7\u7a0b\u662f\u5341\u5206\u6d88\u8017 CPU \u8d44\u6e90\u7684\u3002")),(0,l.kt)("p",null,"\u8fd9\u4e2a\u65f6\u5019\uff0c",(0,l.kt)("strong",{parentName:"p"},"I/O \u591a\u8def\u590d\u7528\u6a21\u578b")," \u5c31\u4e0a\u573a\u4e86\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220615204200618",src:n(37868).Z,width:"588",height:"570"})),(0,l.kt)("p",null,"IO \u591a\u8def\u590d\u7528\u6a21\u578b\u4e2d\uff0c\u7ebf\u7a0b",(0,l.kt)("strong",{parentName:"p"},"\u9996\u5148\u53d1\u8d77 select \u8c03\u7528\uff0c\u8be2\u95ee\u5185\u6838\u6570\u636e\u662f\u5426\u51c6\u5907\u5c31\u7eea"),"\uff0c\u7b49\u5185\u6838\u628a\u6570\u636e\u51c6\u5907\u597d\u4e86\uff0c\u7528\u6237\u7ebf\u7a0b\u518d\u53d1\u8d77 read \u8c03\u7528\u3002",(0,l.kt)("strong",{parentName:"p"},"read \u8c03\u7528\u7684\u8fc7\u7a0b\uff08\u6570\u636e\u4ece\u5185\u6838\u7a7a\u95f4 -> \u7528\u6237\u7a7a\u95f4\uff09\u8fd8\u662f\u963b\u585e\u7684"),"\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u76ee\u524d\u652f\u6301 IO \u591a\u8def\u590d\u7528\u7684\u7cfb\u7edf\u8c03\u7528\uff0c\u6709 select\uff0cepoll \u7b49\u7b49\u3002select \u7cfb\u7edf\u8c03\u7528\uff0c\u76ee\u524d\u51e0\u4e4e\u5728\u6240\u6709\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u90fd\u6709\u652f\u6301\u3002"),(0,l.kt)("ul",{parentName:"blockquote"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"select \u8c03\u7528")," \uff1a\u5185\u6838\u63d0\u4f9b\u7684\u7cfb\u7edf\u8c03\u7528\uff0c\u5b83\u652f\u6301\u4e00\u6b21\u67e5\u8be2\u591a\u4e2a\u7cfb\u7edf\u8c03\u7528\u7684\u53ef\u7528\u72b6\u6001\u3002\u51e0\u4e4e\u6240\u6709\u7684\u64cd\u4f5c\u7cfb\u7edf\u90fd\u652f\u6301\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"epoll \u8c03\u7528")," \uff1alinux 2.6 \u5185\u6838\uff0c\u5c5e\u4e8e select \u8c03\u7528\u7684\u589e\u5f3a\u7248\u672c\uff0c\u4f18\u5316\u4e86 IO \u7684\u6267\u884c\u6548\u7387\u3002"))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"IO \u591a\u8def\u590d\u7528\u6a21\u578b\uff0c\u901a\u8fc7\u51cf\u5c11\u65e0\u6548\u7684\u7cfb\u7edf\u8c03\u7528\uff0c\u51cf\u5c11\u4e86\u5bf9 CPU \u8d44\u6e90\u7684\u6d88\u8017\u3002")),(0,l.kt)("p",null,"Java \u4e2d\u7684 NIO \uff0c\u6709\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684",(0,l.kt)("strong",{parentName:"p"},"\u9009\u62e9\u5668 ( Selector )")," \u7684\u6982\u5ff5\uff0c\u4e5f\u53ef\u4ee5\u88ab\u79f0\u4e3a ",(0,l.kt)("strong",{parentName:"p"},"\u591a\u8def\u590d\u7528\u5668"),"\u3002\u901a\u8fc7\u5b83\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u7ebf\u7a0b\u4fbf\u53ef\u4ee5\u7ba1\u7406\u591a\u4e2a\u5ba2\u6237\u7aef\u8fde\u63a5\u3002\u5f53\u5ba2\u6237\u7aef\u6570\u636e\u5230\u4e86\u4e4b\u540e\uff0c\u624d\u4f1a\u4e3a\u5176\u670d\u52a1\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220615204212255",src:n(95642).Z,width:"2384",height:"1686"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Java AIO","[Asynchronous I/O]"," | \u5f02\u6b65\u975e\u963b\u585eI/O\u6a21\u578b")),(0,l.kt)("p",null,"AIO \u4e5f\u5c31\u662f NIO 2\u3002Java 7 \u4e2d\u5f15\u5165\u4e86 NIO \u7684\u6539\u8fdb\u7248 NIO 2,\u5b83\u662f\u5f02\u6b65 IO \u6a21\u578b\u3002"),(0,l.kt)("p",null,"\u5f02\u6b65 IO \u662f\u57fa\u4e8e\u4e8b\u4ef6\u548c\u56de\u8c03\u673a\u5236\u5b9e\u73b0\u7684\uff0c\u4e5f\u5c31\u662f\u5e94\u7528\u64cd\u4f5c\u4e4b\u540e\u4f1a\u76f4\u63a5\u8fd4\u56de\uff0c\u4e0d\u4f1a\u5835\u585e\u5728\u90a3\u91cc\uff0c\u5f53\u540e\u53f0\u5904\u7406\u5b8c\u6210\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u901a\u77e5\u76f8\u5e94\u7684\u7ebf\u7a0b\u8fdb\u884c\u540e\u7eed\u7684\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220615205139466",src:n(25963).Z,width:"570",height:"660"})),(0,l.kt)("p",null,"\u76ee\u524d\u6765\u8bf4 AIO \u7684\u5e94\u7528\u8fd8\u4e0d\u662f\u5f88\u5e7f\u6cdb\u3002Netty \u4e4b\u524d\u4e5f\u5c1d\u8bd5\u4f7f\u7528\u8fc7 AIO\uff0c\u4e0d\u8fc7\u53c8\u653e\u5f03\u4e86\u3002\u8fd9\u662f\u56e0\u4e3a\uff0cNetty \u4f7f\u7528\u4e86 AIO \u4e4b\u540e\uff0c\u5728 Linux \u7cfb\u7edf\u4e0a\u7684\u6027\u80fd\u5e76\u6ca1\u6709\u591a\u5c11\u63d0\u5347\u3002"),(0,l.kt)("p",null,"\u6700\u540e\uff0c\u6765\u4e00\u5f20\u56fe\uff0c\u7b80\u5355\u603b\u7ed3\u4e00\u4e0b Java \u4e2d\u7684 BIO\u3001NIO\u3001AIO\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220615205148242",src:n(55961).Z,width:"1184",height:"1124"})),(0,l.kt)("h3",{id:"io-\u591a\u8def\u590d\u7528selectpollepoll"},"\ud83d\udcabI/O \u591a\u8def\u590d\u7528\uff1aselect/poll/epoll"),(0,l.kt)("h4",{id:"\u6700\u57fa\u672c\u7684-socket-\u6a21\u578b"},"\u6700\u57fa\u672c\u7684 Socket \u6a21\u578b"),(0,l.kt)("p",null,"\u8981\u60f3\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u80fd\u5728\u7f51\u7edc\u4e2d\u901a\u4fe1\uff0c\u90a3\u5fc5\u987b\u5f97\u4f7f\u7528 Socket  \u7f16\u7a0b\uff0c\u5b83\u662f\u8fdb\u7a0b\u95f4\u901a\u4fe1\u91cc\u6bd4\u8f83\u7279\u522b\u7684\u65b9\u5f0f\uff0c\u7279\u522b\u4e4b\u5904\u5728\u4e8e\u5b83\u662f\u53ef\u4ee5\u8de8\u4e3b\u673a\u95f4\u901a\u4fe1\u3002"),(0,l.kt)("p",null,"Socket  \u7684\u4e2d\u6587\u540d\u53eb\u4f5c\u63d2\u53e3\uff0c\u548b\u4e00\u770b\u8fd8\u633a\u8ff7\u60d1\u7684\u3002\u4e8b\u5b9e\u4e0a\uff0c\u53cc\u65b9\u8981\u8fdb\u884c\u7f51\u7edc\u901a\u4fe1\u524d\uff0c\u5404\u81ea\u5f97\u521b\u5efa\u4e00\u4e2a  Socket\uff0c\u8fd9\u76f8\u5f53\u4e8e\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u90fd\u5f00\u4e86\u4e00\u4e2a\u201c\u53e3\u5b50\u201d\uff0c\u53cc\u65b9\u8bfb\u53d6\u548c\u53d1\u9001\u6570\u636e\u7684\u65f6\u5019\uff0c\u90fd\u901a\u8fc7\u8fd9\u4e2a\u201c\u53e3\u5b50\u201d\u3002\u8fd9\u6837\u4e00\u770b\uff0c\u662f\u4e0d\u662f\u89c9\u5f97\u5f88\u50cf\u5f04\u4e86\u4e00\u6839\u7f51\u7ebf\uff0c\u4e00\u5934\u63d2\u5728\u5ba2\u6237\u7aef\uff0c\u4e00\u5934\u63d2\u5728\u670d\u52a1\u7aef\uff0c\u7136\u540e\u8fdb\u884c\u901a\u4fe1\u3002"),(0,l.kt)("p",null,"\u521b\u5efa Socket \u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u6307\u5b9a\u7f51\u7edc\u5c42\u4f7f\u7528\u7684\u662f IPv4 \u8fd8\u662f IPv6\uff0c\u4f20\u8f93\u5c42\u4f7f\u7528\u7684\u662f TCP \u8fd8\u662f UDP\u3002"),(0,l.kt)("p",null,"UDP \u7684 Socket \u7f16\u7a0b\u76f8\u5bf9\u7b80\u5355\u4e9b\uff0c\u8fd9\u91cc\u6211\u4eec\u53ea\u4ecb\u7ecd\u57fa\u4e8e TCP \u7684 Socket \u7f16\u7a0b\u3002"),(0,l.kt)("p",null,"\u670d\u52a1\u5668\u7684\u7a0b\u5e8f\u8981\u5148\u8dd1\u8d77\u6765\uff0c\u7136\u540e\u7b49\u5f85\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u548c\u6570\u636e\uff0c\u6211\u4eec\u5148\u6765\u770b\u770b\u670d\u52a1\u7aef\u7684 Socket \u7f16\u7a0b\u8fc7\u7a0b\u662f\u600e\u6837\u7684\u3002"),(0,l.kt)("p",null,"\u670d\u52a1\u7aef\u9996\u5148\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"socket()")," \u51fd\u6570\uff0c\u521b\u5efa\u7f51\u7edc\u534f\u8bae\u4e3a IPv4\uff0c\u4ee5\u53ca\u4f20\u8f93\u534f\u8bae\u4e3a TCP \u7684 Socket \uff0c\u63a5\u7740\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"bind()")," \u51fd\u6570\uff0c\u7ed9\u8fd9\u4e2a Socket \u7ed1\u5b9a\u4e00\u4e2a ",(0,l.kt)("strong",{parentName:"p"},"IP \u5730\u5740\u548c\u7aef\u53e3"),"\uff0c\u7ed1\u5b9a\u8fd9\u4e24\u4e2a\u7684\u76ee\u7684\u662f\u4ec0\u4e48\uff1f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7ed1\u5b9a\u7aef\u53e3\u7684\u76ee\u7684\uff1a\u5f53\u5185\u6838\u6536\u5230 TCP \u62a5\u6587\uff0c\u901a\u8fc7 TCP \u5934\u91cc\u9762\u7684\u7aef\u53e3\u53f7\uff0c\u6765\u627e\u5230\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u7136\u540e\u628a\u6570\u636e\u4f20\u9012\u7ed9\u6211\u4eec\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7ed1\u5b9a IP \u5730\u5740\u7684\u76ee\u7684\uff1a\u4e00\u53f0\u673a\u5668\u662f\u53ef\u4ee5\u6709\u591a\u4e2a\u7f51\u5361\u7684\uff0c\u6bcf\u4e2a\u7f51\u5361\u90fd\u6709\u5bf9\u5e94\u7684 IP \u5730\u5740\uff0c\u5f53\u7ed1\u5b9a\u4e00\u4e2a\u7f51\u5361\u65f6\uff0c\u5185\u6838\u5728\u6536\u5230\u8be5\u7f51\u5361\u4e0a\u7684\u5305\uff0c\u624d\u4f1a\u53d1\u7ed9\u6211\u4eec\uff1b")),(0,l.kt)("p",null,"\u7ed1\u5b9a\u5b8c IP \u5730\u5740\u548c\u7aef\u53e3\u540e\uff0c\u5c31\u53ef\u4ee5\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"listen()")," \u51fd\u6570\u8fdb\u884c\u76d1\u542c\uff0c\u6b64\u65f6\u5bf9\u5e94 TCP \u72b6\u6001\u56fe\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"listen"),"\uff0c\u5982\u679c\u6211\u4eec\u8981\u5224\u5b9a\u670d\u52a1\u5668\u4e2d\u4e00\u4e2a\u7f51\u7edc\u7a0b\u5e8f\u6709\u6ca1\u6709\u542f\u52a8\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"netstat")," \u547d\u4ee4\u67e5\u770b\u5bf9\u5e94\u7684\u7aef\u53e3\u53f7\u662f\u5426\u6709\u88ab\u76d1\u542c\u3002"),(0,l.kt)("p",null,"\u670d\u52a1\u7aef\u8fdb\u5165\u4e86\u76d1\u542c\u72b6\u6001\u540e\uff0c\u901a\u8fc7\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"accept()")," \u51fd\u6570\uff0c\u6765\u4ece\u5185\u6838\u83b7\u53d6\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\uff0c\u5982\u679c\u6ca1\u6709\u5ba2\u6237\u7aef\u8fde\u63a5\uff0c\u5219\u4f1a\u963b\u585e\u7b49\u5f85\u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u5230\u6765\u3002"),(0,l.kt)("p",null,"\u90a3\u5ba2\u6237\u7aef\u662f\u600e\u4e48\u53d1\u8d77\u8fde\u63a5\u7684\u5462\uff1f\u5ba2\u6237\u7aef\u5728\u521b\u5efa\u597d Socket \u540e\uff0c\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"connect()")," \u51fd\u6570\u53d1\u8d77\u8fde\u63a5\uff0c\u8be5\u51fd\u6570\u7684\u53c2\u6570\u8981\u6307\u660e\u670d\u52a1\u7aef\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\uff0c\u7136\u540e\u4e07\u4f17\u671f\u5f85\u7684 TCP \u4e09\u6b21\u63e1\u624b\u5c31\u5f00\u59cb\u4e86\u3002"),(0,l.kt)("p",null,"\u5728  TCP \u8fde\u63a5\u7684\u8fc7\u7a0b\u4e2d\uff0c\u670d\u52a1\u5668\u7684\u5185\u6838\u5b9e\u9645\u4e0a\u4e3a\u6bcf\u4e2a Socket \u7ef4\u62a4\u4e86\u4e24\u4e2a\u961f\u5217\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e00\u4e2a\u662f\u8fd8\u6ca1\u5b8c\u5168\u5efa\u7acb\u8fde\u63a5\u7684\u961f\u5217\uff0c\u79f0\u4e3a ",(0,l.kt)("strong",{parentName:"li"},"TCP \u534a\u8fde\u63a5\u961f\u5217"),"\uff0c\u8fd9\u4e2a\u961f\u5217\u90fd\u662f\u6ca1\u6709\u5b8c\u6210\u4e09\u6b21\u63e1\u624b\u7684\u8fde\u63a5\uff0c\u6b64\u65f6\u670d\u52a1\u7aef\u5904\u4e8e ",(0,l.kt)("inlineCode",{parentName:"li"},"syn_rcvd")," \u7684\u72b6\u6001\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u4e00\u4e2a\u662f\u4e00\u4ef6\u5efa\u7acb\u8fde\u63a5\u7684\u961f\u5217\uff0c\u79f0\u4e3a ",(0,l.kt)("strong",{parentName:"li"},"TCP \u5168\u8fde\u63a5\u961f\u5217"),"\uff0c\u8fd9\u4e2a\u961f\u5217\u90fd\u662f\u5b8c\u6210\u4e86\u4e09\u6b21\u63e1\u624b\u7684\u8fde\u63a5\uff0c\u6b64\u65f6\u670d\u52a1\u7aef\u5904\u4e8e ",(0,l.kt)("inlineCode",{parentName:"li"},"established")," \u72b6\u6001\uff1b")),(0,l.kt)("p",null,"\u5f53 TCP \u5168\u8fde\u63a5\u961f\u5217\u4e0d\u4e3a\u7a7a\u540e\uff0c\u670d\u52a1\u7aef\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"accept()")," \u51fd\u6570\uff0c\u5c31\u4f1a\u4ece\u5185\u6838\u4e2d\u7684 TCP \u5168\u8fde\u63a5\u961f\u5217\u91cc\u62ff\u51fa\u4e00\u4e2a\u5df2\u7ecf\u5b8c\u6210\u8fde\u63a5\u7684  Socket \u8fd4\u56de\u5e94\u7528\u7a0b\u5e8f\uff0c\u540e\u7eed\u6570\u636e\u4f20\u8f93\u90fd\u7528\u8fd9\u4e2a Socket\u3002"),(0,l.kt)("p",null,"\u6ce8\u610f\uff0c\u76d1\u542c\u7684 Socket \u548c\u771f\u6b63\u7528\u6765\u4f20\u6570\u636e\u7684 Socket \u662f\u4e24\u4e2a\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e00\u4e2a\u53eb\u4f5c",(0,l.kt)("strong",{parentName:"li"},"\u76d1\u542c Socket"),"\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u4e00\u4e2a\u53eb\u4f5c",(0,l.kt)("strong",{parentName:"li"},"\u5df2\u8fde\u63a5 Socket"),"\uff1b")),(0,l.kt)("p",null,"\u8fde\u63a5\u5efa\u7acb\u540e\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u5c31\u5f00\u59cb\u76f8\u4e92\u4f20\u8f93\u6570\u636e\u4e86\uff0c\u53cc\u65b9\u90fd\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"read()")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"write()")," \u51fd\u6570\u6765\u8bfb\u5199\u6570\u636e\u3002"),(0,l.kt)("p",null,"\u81f3\u6b64\uff0c TCP \u534f\u8bae\u7684 Socket \u7a0b\u5e8f\u7684\u8c03\u7528\u8fc7\u7a0b\u5c31\u7ed3\u675f\u4e86\uff0c\u6574\u4e2a\u8fc7\u7a0b\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220717162534775",src:n(33386).Z,width:"640",height:"955"})),(0,l.kt)("p",null,"\u770b\u5230\u8fd9\uff0c\u4e0d\u77e5\u9053\u4f60\u6709\u6ca1\u6709\u89c9\u5f97\u8bfb\u5199 Socket  \u7684\u65b9\u5f0f\uff0c\u597d\u50cf\u8bfb\u5199\u6587\u4ef6\u4e00\u6837\u3002"),(0,l.kt)("p",null,"\u662f\u7684\uff0c\u57fa\u4e8e Linux \u4e00\u5207\u7686\u6587\u4ef6\u7684\u7406\u5ff5\uff0c\u5728\u5185\u6838\u4e2d Socket \u4e5f\u662f\u4ee5\u300c\u6587\u4ef6\u300d\u7684\u5f62\u5f0f\u5b58\u5728\u7684\uff0c\u4e5f\u662f\u6709\u5bf9\u5e94\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"PS : \u4e0b\u9762\u4f1a\u8bf4\u5230\u5185\u6838\u91cc\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4e0d\u611f\u5174\u8da3\u7684\u53ef\u4ee5\u8df3\u8fc7\u8fd9\u4e00\u90e8\u5206\uff0c\u4e0d\u4f1a\u5bf9\u540e\u7eed\u7684\u5185\u5bb9\u6709\u5f71\u54cd\u3002")),(0,l.kt)("p",null,"\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f\u6bcf\u4e00\u4e2a\u8fdb\u7a0b\u90fd\u6709\u4e00\u4e2a\u6570\u636e\u7ed3\u6784 ",(0,l.kt)("inlineCode",{parentName:"p"},"task_struct"),"\uff0c\u8be5\u7ed3\u6784\u4f53\u91cc\u6709\u4e00\u4e2a\u6307\u5411\u300c\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u7ec4\u300d\u7684\u6210\u5458\u6307\u9488\u3002\u8be5\u6570\u7ec4\u91cc\u5217\u51fa\u8fd9\u4e2a\u8fdb\u7a0b\u6253\u5f00\u7684\u6240\u6709\u6587\u4ef6\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002\u6570\u7ec4\u7684\u4e0b\u6807\u662f\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u800c\u6570\u7ec4\u7684\u5185\u5bb9\u662f\u4e00\u4e2a\u6307\u9488\uff0c\u6307\u5411\u5185\u6838\u4e2d\u6240\u6709\u6253\u5f00\u7684\u6587\u4ef6\u7684\u5217\u8868\uff0c\u4e5f\u5c31\u662f\u8bf4\u5185\u6838\u53ef\u4ee5\u901a\u8fc7\u6587\u4ef6\u63cf\u8ff0\u7b26\u627e\u5230\u5bf9\u5e94\u6253\u5f00\u7684\u6587\u4ef6\u3002"),(0,l.kt)("p",null,"\u7136\u540e\u6bcf\u4e2a\u6587\u4ef6\u90fd\u6709\u4e00\u4e2a inode\uff0cSocket \u6587\u4ef6\u7684 inode \u6307\u5411\u4e86\u5185\u6838\u4e2d\u7684 Socket \u7ed3\u6784\uff0c\u5728\u8fd9\u4e2a\u7ed3\u6784\u4f53\u91cc\u6709\u4e24\u4e2a\u961f\u5217\uff0c\u5206\u522b\u662f",(0,l.kt)("strong",{parentName:"p"},"\u53d1\u9001\u961f\u5217"),"\u548c",(0,l.kt)("strong",{parentName:"p"},"\u63a5\u6536\u961f\u5217"),"\uff0c\u8fd9\u4e2a\u4e24\u4e2a\u961f\u5217\u91cc\u9762\u4fdd\u5b58\u7684\u662f\u4e00\u4e2a\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"struct sk_buff"),"\uff0c\u7528\u94fe\u8868\u7684\u7ec4\u7ec7\u5f62\u5f0f\u4e32\u8d77\u6765\u3002"),(0,l.kt)("p",null,"sk_buff \u53ef\u4ee5\u8868\u793a\u5404\u4e2a\u5c42\u7684\u6570\u636e\u5305\uff0c\u5728\u5e94\u7528\u5c42\u6570\u636e\u5305\u53eb data\uff0c\u5728 TCP \u5c42\u6211\u4eec\u79f0\u4e3a segment\uff0c\u5728 IP \u5c42\u6211\u4eec\u53eb packet\uff0c\u5728\u6570\u636e\u94fe\u8def\u5c42\u79f0\u4e3a frame\u3002"),(0,l.kt)("p",null,"\u4f60\u53ef\u80fd\u4f1a\u597d\u5947\uff0c\u4e3a\u4ec0\u4e48\u5168\u90e8\u6570\u636e\u5305\u53ea\u7528\u4e00\u4e2a\u7ed3\u6784\u4f53\u6765\u63cf\u8ff0\u5462\uff1f\u534f\u8bae\u6808\u91c7\u7528\u7684\u662f\u5206\u5c42\u7ed3\u6784\uff0c\u4e0a\u5c42\u5411\u4e0b\u5c42\u4f20\u9012\u6570\u636e\u65f6\u9700\u8981\u589e\u52a0\u5305\u5934\uff0c\u4e0b\u5c42\u5411\u4e0a\u5c42\u6570\u636e\u65f6\u53c8\u9700\u8981\u53bb\u6389\u5305\u5934\uff0c\u5982\u679c\u6bcf\u4e00\u5c42\u90fd\u7528\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u90a3\u5728\u5c42\u4e4b\u95f4\u4f20\u9012\u6570\u636e\u7684\u65f6\u5019\uff0c\u5c31\u8981\u53d1\u751f\u591a\u6b21\u62f7\u8d1d\uff0c\u8fd9\u5c06\u5927\u5927\u964d\u4f4e CPU \u6548\u7387\u3002"),(0,l.kt)("p",null,"\u4e8e\u662f\uff0c\u4e3a\u4e86\u5728\u5c42\u7ea7\u4e4b\u95f4\u4f20\u9012\u6570\u636e\u65f6\uff0c\u4e0d\u53d1\u751f\u62f7\u8d1d\uff0c\u53ea\u7528 sk_buff \u4e00\u4e2a\u7ed3\u6784\u4f53\u6765\u63cf\u8ff0\u6240\u6709\u7684\u7f51\u7edc\u5305\uff0c\u90a3\u5b83\u662f\u5982\u4f55\u505a\u5230\u7684\u5462\uff1f\u662f\u901a\u8fc7\u8c03\u6574 sk_buff \u4e2d ",(0,l.kt)("inlineCode",{parentName:"p"},"data")," \u7684\u6307\u9488\uff0c\u6bd4\u5982\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f53\u63a5\u6536\u62a5\u6587\u65f6\uff0c\u4ece\u7f51\u5361\u9a71\u52a8\u5f00\u59cb\uff0c\u901a\u8fc7\u534f\u8bae\u6808\u5c42\u5c42\u5f80\u4e0a\u4f20\u9001\u6570\u636e\u62a5\uff0c\u901a\u8fc7\u589e\u52a0 skb->data \u7684\u503c\uff0c\u6765\u9010\u6b65\u5265\u79bb\u534f\u8bae\u9996\u90e8\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5f53\u8981\u53d1\u9001\u62a5\u6587\u65f6\uff0c\u521b\u5efa sk_buff \u7ed3\u6784\u4f53\uff0c\u6570\u636e\u7f13\u5b58\u533a\u7684\u5934\u90e8\u9884\u7559\u8db3\u591f\u7684\u7a7a\u95f4\uff0c\u7528\u6765\u586b\u5145\u5404\u5c42\u9996\u90e8\uff0c\u5728\u7ecf\u8fc7\u5404\u4e0b\u5c42\u534f\u8bae\u65f6\uff0c\u901a\u8fc7\u51cf\u5c11 skb->data \u7684\u503c\u6765\u589e\u52a0\u534f\u8bae\u9996\u90e8\u3002")),(0,l.kt)("p",null,"\u4f60\u53ef\u4ee5\u4ece\u4e0b\u9762\u8fd9\u5f20\u56fe\u770b\u5230\uff0c\u5f53\u53d1\u9001\u62a5\u6587\u65f6\uff0cdata \u6307\u9488\u7684\u79fb\u52a8\u8fc7\u7a0b\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220717161851452",src:n(44595).Z,width:"639",height:"460"})),(0,l.kt)("h4",{id:"\u5982\u4f55\u670d\u52a1\u66f4\u591a\u7684\u7528\u6237"},"\u5982\u4f55\u670d\u52a1\u66f4\u591a\u7684\u7528\u6237\uff1f"),(0,l.kt)("p",null,"\u524d\u9762\u63d0\u5230\u7684 TCP Socket \u8c03\u7528\u6d41\u7a0b\u662f\u6700\u7b80\u5355\u3001\u6700\u57fa\u672c\u7684\uff0c\u5b83\u57fa\u672c\u53ea\u80fd\u4e00\u5bf9\u4e00\u901a\u4fe1\uff0c\u56e0\u4e3a\u4f7f\u7528\u7684\u662f\u540c\u6b65\u963b\u585e\u7684\u65b9\u5f0f\uff0c\u5f53\u670d\u52a1\u7aef\u5728\u8fd8\u6ca1\u5904\u7406\u5b8c\u4e00\u4e2a\u5ba2\u6237\u7aef\u7684\u7f51\u7edc I/O \u65f6\uff0c\u6216\u8005 \u8bfb\u5199\u64cd\u4f5c\u53d1\u751f\u963b\u585e\u65f6\uff0c\u5176\u4ed6\u5ba2\u6237\u7aef\u662f\u65e0\u6cd5\u4e0e\u670d\u52a1\u7aef\u8fde\u63a5\u7684\u3002"),(0,l.kt)("p",null,"\u53ef\u5982\u679c\u6211\u4eec\u670d\u52a1\u5668\u53ea\u80fd\u670d\u52a1\u4e00\u4e2a\u5ba2\u6237\uff0c\u90a3\u8fd9\u6837\u5c31\u592a\u6d6a\u8d39\u8d44\u6e90\u4e86\uff0c\u4e8e\u662f\u6211\u4eec\u8981\u6539\u8fdb\u8fd9\u4e2a\u7f51\u7edc I/O \u6a21\u578b\uff0c\u4ee5\u652f\u6301\u66f4\u591a\u7684\u5ba2\u6237\u7aef\u3002"),(0,l.kt)("p",null,"\u5728\u6539\u8fdb\u7f51\u7edc I/O \u6a21\u578b\u524d\uff0c\u6211\u5148\u6765\u63d0\u4e00\u4e2a\u95ee\u9898\uff0c\u4f60\u77e5\u9053\u670d\u52a1\u5668\u5355\u673a\u7406\u8bba\u6700\u5927\u80fd\u8fde\u63a5\u591a\u5c11\u4e2a\u5ba2\u6237\u7aef\uff1f"),(0,l.kt)("p",null,"\u76f8\u4fe1\u4f60\u77e5\u9053 TCP \u8fde\u63a5\u662f\u7531\u56db\u5143\u7ec4\u552f\u4e00\u786e\u8ba4\u7684\uff0c\u8fd9\u4e2a\u56db\u5143\u7ec4\u5c31\u662f\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u672c\u673aIP, \u672c\u673a\u7aef\u53e3, \u5bf9\u7aefIP, \u5bf9\u7aef\u7aef\u53e3"),"\u3002"),(0,l.kt)("p",null,"\u670d\u52a1\u5668\u4f5c\u4e3a\u670d\u52a1\u65b9\uff0c\u901a\u5e38\u4f1a\u5728\u672c\u5730\u56fa\u5b9a\u76d1\u542c\u4e00\u4e2a\u7aef\u53e3\uff0c\u7b49\u5f85\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u3002\u56e0\u6b64\u670d\u52a1\u5668\u7684\u672c\u5730 IP \u548c\u7aef\u53e3\u662f\u56fa\u5b9a\u7684\uff0c\u4e8e\u662f\u5bf9\u4e8e\u670d\u52a1\u7aef TCP \u8fde\u63a5\u7684\u56db\u5143\u7ec4\u53ea\u6709\u5bf9\u7aef IP \u548c\u7aef\u53e3\u662f\u4f1a\u53d8\u5316\u7684\uff0c\u6240\u4ee5",(0,l.kt)("strong",{parentName:"p"},"\u6700\u5927 TCP \u8fde\u63a5\u6570 = \u5ba2\u6237\u7aef IP \u6570\xd7\u5ba2\u6237\u7aef\u7aef\u53e3\u6570"),"\u3002"),(0,l.kt)("p",null,"\u5bf9\u4e8e IPv4\uff0c\u5ba2\u6237\u7aef\u7684 IP \u6570\u6700\u591a\u4e3a 2 \u7684 32 \u6b21\u65b9\uff0c\u5ba2\u6237\u7aef\u7684\u7aef\u53e3\u6570\u6700\u591a\u4e3a 2 \u7684 16 \u6b21\u65b9\uff0c\u4e5f\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u670d\u52a1\u7aef\u5355\u673a\u6700\u5927 TCP \u8fde\u63a5\u6570\u7ea6\u4e3a 2 \u7684 48 \u6b21\u65b9"),"\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u7406\u8bba\u503c\u76f8\u5f53\u201c\u4e30\u6ee1\u201d\uff0c\u4f46\u662f\u670d\u52a1\u5668\u80af\u5b9a\u627f\u8f7d\u4e0d\u4e86\u90a3\u4e48\u5927\u7684\u8fde\u63a5\u6570\uff0c\u4e3b\u8981\u4f1a\u53d7\u4e24\u4e2a\u65b9\u9762\u7684\u9650\u5236\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u6587\u4ef6\u63cf\u8ff0\u7b26"),"\uff0cSocket \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u6587\u4ef6\uff0c\u4e5f\u5c31\u4f1a\u5bf9\u5e94\u4e00\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002\u5728 Linux \u4e0b\uff0c\u5355\u4e2a\u8fdb\u7a0b\u6253\u5f00\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u662f\u6709\u9650\u5236\u7684\uff0c\u6ca1\u6709\u7ecf\u8fc7\u4fee\u6539\u7684\u503c\u4e00\u822c\u90fd\u662f 1024\uff0c\u4e0d\u8fc7\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 ulimit \u589e\u5927\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u6570\u76ee\uff1b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7cfb\u7edf\u5185\u5b58"),"\uff0c\u6bcf\u4e2a TCP \u8fde\u63a5\u5728\u5185\u6838\u4e2d\u90fd\u6709\u5bf9\u5e94\u7684\u6570\u636e\u7ed3\u6784\uff0c\u610f\u5473\u7740\u6bcf\u4e2a\u8fde\u63a5\u90fd\u662f\u4f1a\u5360\u7528\u4e00\u5b9a\u5185\u5b58\u7684\uff1b")),(0,l.kt)("p",null,"\u90a3\u5982\u679c\u670d\u52a1\u5668\u7684\u5185\u5b58\u53ea\u6709 2 GB\uff0c\u7f51\u5361\u662f\u5343\u5146\u7684\uff0c\u80fd\u652f\u6301\u5e76\u53d1 1 \u4e07\u8bf7\u6c42\u5417\uff1f"),(0,l.kt)("p",null,"\u5e76\u53d1 1 \u4e07\u8bf7\u6c42\uff0c\u4e5f\u5c31\u662f\u7ecf\u5178\u7684 C10K \u95ee\u9898 \uff0cC \u662f Client \u5355\u8bcd\u9996\u5b57\u6bcd\u7f29\u5199\uff0cC10K \u5c31\u662f\u5355\u673a\u540c\u65f6\u5904\u7406 1 \u4e07\u4e2a\u8bf7\u6c42\u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u4ece\u786c\u4ef6\u8d44\u6e90\u89d2\u5ea6\u770b\uff0c\u5bf9\u4e8e 2GB \u5185\u5b58\u5343\u5146\u7f51\u5361\u7684\u670d\u52a1\u5668\uff0c\u5982\u679c\u6bcf\u4e2a\u8bf7\u6c42\u5904\u7406\u5360\u7528\u4e0d\u5230 200KB \u7684\u5185\u5b58\u548c 100Kbit \u7684\u7f51\u7edc\u5e26\u5bbd\u5c31\u53ef\u4ee5\u6ee1\u8db3\u5e76\u53d1 1 \u4e07\u4e2a\u8bf7\u6c42\u3002"),(0,l.kt)("p",null,"\u4e0d\u8fc7\uff0c\u8981\u60f3\u771f\u6b63\u5b9e\u73b0 C10K \u7684\u670d\u52a1\u5668\uff0c\u8981\u8003\u8651\u7684\u5730\u65b9\u5728\u4e8e\u670d\u52a1\u5668\u7684\u7f51\u7edc I/O \u6a21\u578b\uff0c\u6548\u7387\u4f4e\u7684\u6a21\u578b\uff0c\u4f1a\u52a0\u91cd\u7cfb\u7edf\u5f00\u9500\uff0c\u4ece\u800c\u4f1a\u79bb C10K \u7684\u76ee\u6807\u8d8a\u6765\u8d8a\u8fdc\u3002"),(0,l.kt)("h4",{id:"\u591a\u8fdb\u7a0b\u6a21\u578b"},"\u591a\u8fdb\u7a0b\u6a21\u578b"),(0,l.kt)("p",null,"\u57fa\u4e8e\u6700\u539f\u59cb\u7684\u963b\u585e\u7f51\u7edc I/O\uff0c \u5982\u679c\u670d\u52a1\u5668\u8981\u652f\u6301\u591a\u4e2a\u5ba2\u6237\u7aef\uff0c\u5176\u4e2d\u6bd4\u8f83\u4f20\u7edf\u7684\u65b9\u5f0f\uff0c\u5c31\u662f\u4f7f\u7528",(0,l.kt)("strong",{parentName:"p"},"\u591a\u8fdb\u7a0b\u6a21\u578b"),"\uff0c\u4e5f\u5c31\u662f\u4e3a\u6bcf\u4e2a\u5ba2\u6237\u7aef\u5206\u914d\u4e00\u4e2a\u8fdb\u7a0b\u6765\u5904\u7406\u8bf7\u6c42\u3002"),(0,l.kt)("p",null,"\u670d\u52a1\u5668\u7684\u4e3b\u8fdb\u7a0b\u8d1f\u8d23\u76d1\u542c\u5ba2\u6237\u7684\u8fde\u63a5\uff0c\u4e00\u65e6\u4e0e\u5ba2\u6237\u7aef\u8fde\u63a5\u5b8c\u6210\uff0caccept() \u51fd\u6570\u5c31\u4f1a\u8fd4\u56de\u4e00\u4e2a\u300c\u5df2\u8fde\u63a5 Socket\u300d\uff0c\u8fd9\u65f6\u5c31\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"fork()")," \u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u5b50\u8fdb\u7a0b\uff0c\u5b9e\u9645\u4e0a\u5c31\u628a\u7236\u8fdb\u7a0b\u6240\u6709\u76f8\u5173\u7684\u4e1c\u897f\u90fd",(0,l.kt)("strong",{parentName:"p"},"\u590d\u5236"),"\u4e00\u4efd\uff0c\u5305\u62ec\u6587\u4ef6\u63cf\u8ff0\u7b26\u3001\u5185\u5b58\u5730\u5740\u7a7a\u95f4\u3001\u7a0b\u5e8f\u8ba1\u6570\u5668\u3001\u6267\u884c\u7684\u4ee3\u7801\u7b49\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e24\u4e2a\u8fdb\u7a0b\u521a\u590d\u5236\u5b8c\u7684\u65f6\u5019\uff0c\u51e0\u4e4e\u4e00\u6478\u4e00\u6837\u3002\u4e0d\u8fc7\uff0c\u4f1a\u6839\u636e",(0,l.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u503c"),"\u6765\u533a\u5206\u662f\u7236\u8fdb\u7a0b\u8fd8\u662f\u5b50\u8fdb\u7a0b\uff0c\u5982\u679c\u8fd4\u56de\u503c\u662f 0\uff0c\u5219\u662f\u5b50\u8fdb\u7a0b\uff1b\u5982\u679c\u8fd4\u56de\u503c\u662f\u5176\u4ed6\u7684\u6574\u6570\uff0c\u5c31\u662f\u7236\u8fdb\u7a0b\u3002"),(0,l.kt)("p",null,"\u6b63\u56e0\u4e3a\u5b50\u8fdb\u7a0b\u4f1a",(0,l.kt)("strong",{parentName:"p"},"\u590d\u5236\u7236\u8fdb\u7a0b\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26"),"\uff0c\u4e8e\u662f\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u300c\u5df2\u8fde\u63a5 Socket \u300d\u548c\u5ba2\u6237\u7aef\u901a\u4fe1\u4e86\uff0c"),(0,l.kt)("p",null,"\u53ef\u4ee5\u53d1\u73b0\uff0c\u5b50\u8fdb\u7a0b\u4e0d\u9700\u8981\u5173\u5fc3\u300c\u76d1\u542c Socket\u300d\uff0c\u53ea\u9700\u8981\u5173\u5fc3\u300c\u5df2\u8fde\u63a5 Socket\u300d\uff1b\u7236\u8fdb\u7a0b\u5219\u76f8\u53cd\uff0c\u5c06\u5ba2\u6237\u670d\u52a1\u4ea4\u7ed9\u5b50\u8fdb\u7a0b\u6765\u5904\u7406\uff0c\u56e0\u6b64\u7236\u8fdb\u7a0b\u4e0d\u9700\u8981\u5173\u5fc3\u300c\u5df2\u8fde\u63a5 Socket\u300d\uff0c\u53ea\u9700\u8981\u5173\u5fc3\u300c\u76d1\u542c Socket\u300d\u3002"),(0,l.kt)("p",null,"\u4e0b\u9762\u8fd9\u5f20\u56fe\u63cf\u8ff0\u4e86\u4ece\u8fde\u63a5\u8bf7\u6c42\u5230\u8fde\u63a5\u5efa\u7acb\uff0c\u7236\u8fdb\u7a0b\u521b\u5efa\u751f\u5b50\u8fdb\u7a0b\u4e3a\u5ba2\u6237\u670d\u52a1\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220717163910297",src:n(53072).Z,width:"977",height:"407"})),(0,l.kt)("p",null,"\u53e6\u5916\uff0c\u5f53\u300c\u5b50\u8fdb\u7a0b\u300d\u9000\u51fa\u65f6\uff0c\u5b9e\u9645\u4e0a\u5185\u6838\u91cc\u8fd8\u4f1a\u4fdd\u7559\u8be5\u8fdb\u7a0b\u7684\u4e00\u4e9b\u4fe1\u606f\uff0c\u4e5f\u662f\u4f1a\u5360\u7528\u5185\u5b58\u7684\uff0c\u5982\u679c\u4e0d\u505a\u597d\u201c\u56de\u6536\u201d\u5de5\u4f5c\uff0c\u5c31\u4f1a\u53d8\u6210",(0,l.kt)("strong",{parentName:"p"},"\u50f5\u5c38\u8fdb\u7a0b"),"\uff0c\u968f\u7740\u50f5\u5c38\u8fdb\u7a0b\u8d8a\u591a\uff0c\u4f1a\u6162\u6162\u8017\u5c3d\u6211\u4eec\u7684\u7cfb\u7edf\u8d44\u6e90\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e00\u4e2a\u5b50\u8fdb\u7a0b\u7684\u8fdb\u7a0b\u63cf\u8ff0\u7b26\u5728\u5b50\u8fdb\u7a0b\u9000\u51fa\u65f6\u4e0d\u4f1a\u91ca\u653e\uff0c\u53ea\u6709\u5f53\u7236\u8fdb\u7a0b\u901a\u8fc7 wait() \u6216 waitpid() \u83b7\u53d6\u4e86\u5b50\u8fdb\u7a0b\u4fe1\u606f\u540e\u624d\u4f1a\u91ca\u653e\u3002\u5982\u679c\u5b50\u8fdb\u7a0b\u9000\u51fa\uff0c\u800c\u7236\u8fdb\u7a0b\u5e76\u6ca1\u6709\u8c03\u7528 wait() \u6216 waitpid()\uff0c\u90a3\u4e48\u5b50\u8fdb\u7a0b\u7684\u8fdb\u7a0b\u63cf\u8ff0\u7b26\u4ecd\u7136\u4fdd\u5b58\u5728\u7cfb\u7edf\u4e2d\uff0c\u8fd9\u79cd\u8fdb\u7a0b\u79f0\u4e4b\u4e3a\u50f5\u5c38\u8fdb\u7a0b\u3002")),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c\u7236\u8fdb\u7a0b\u8981\u201c\u5584\u540e\u201d\u597d\u81ea\u5df1\u7684\u5b69\u5b50\uff0c\u600e\u4e48\u5584\u540e\u5462\uff1f\u90a3\u4e48\u6709\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5728\u5b50\u8fdb\u7a0b\u9000\u51fa\u540e\u56de\u6536\u8d44\u6e90\uff0c\u5206\u522b\u662f\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"wait()")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"waitpid()")," \u51fd\u6570\u3002"),(0,l.kt)("p",null,"\u8fd9\u79cd\u7528\u591a\u4e2a\u8fdb\u7a0b\u6765\u5e94\u4ed8\u591a\u4e2a\u5ba2\u6237\u7aef\u7684\u65b9\u5f0f\uff0c\u5728\u5e94\u5bf9 100 \u4e2a\u5ba2\u6237\u7aef\u8fd8\u662f\u53ef\u884c\u7684\uff0c\u4f46\u662f\u5f53\u5ba2\u6237\u7aef\u6570\u91cf\u9ad8\u8fbe\u4e00\u4e07\u65f6\uff0c\u80af\u5b9a\u625b\u4e0d\u4f4f\u7684\uff0c\u56e0\u4e3a\u6bcf\u4ea7\u751f\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u5fc5\u4f1a\u5360\u636e\u4e00\u5b9a\u7684\u7cfb\u7edf\u8d44\u6e90\uff0c\u800c\u4e14\u8fdb\u7a0b\u95f4\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u201c\u5305\u88b1\u201d\u662f\u5f88\u91cd\u7684\uff0c\u6027\u80fd\u4f1a\u5927\u6253\u6298\u6263\u3002"),(0,l.kt)("p",null,"\u8fdb\u7a0b\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u4e0d\u4ec5\u5305\u542b\u4e86\u865a\u62df\u5185\u5b58\u3001\u6808\u3001\u5168\u5c40\u53d8\u91cf\u7b49\u7528\u6237\u7a7a\u95f4\u7684\u8d44\u6e90\uff0c\u8fd8\u5305\u62ec\u4e86\u5185\u6838\u5806\u6808\u3001\u5bc4\u5b58\u5668\u7b49\u5185\u6838\u7a7a\u95f4\u7684\u8d44\u6e90\u3002"),(0,l.kt)("h4",{id:"\u591a\u7ebf\u7a0b\u6a21\u578b"},"\u591a\u7ebf\u7a0b\u6a21\u578b"),(0,l.kt)("p",null,"\u65e2\u7136\u8fdb\u7a0b\u95f4\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u201c\u5305\u88b1\u201d\u5f88\u91cd\uff0c\u90a3\u6211\u4eec\u5c31\u641e\u4e2a\u6bd4\u8f83\u8f7b\u91cf\u7ea7\u7684\u6a21\u578b\u6765\u5e94\u5bf9\u591a\u7528\u6237\u7684\u8bf7\u6c42 \u2014\u2014 ",(0,l.kt)("strong",{parentName:"p"},"\u591a\u7ebf\u7a0b\u6a21\u578b"),"\u3002"),(0,l.kt)("p",null,"\u7ebf\u7a0b\u662f\u8fd0\u884c\u5728\u8fdb\u7a0b\u4e2d\u7684\u4e00\u4e2a\u201c\u903b\u8f91\u6d41\u201d\uff0c\u5355\u8fdb\u7a0b\u4e2d\u53ef\u4ee5\u8fd0\u884c\u591a\u4e2a\u7ebf\u7a0b\uff0c\u540c\u8fdb\u7a0b\u91cc\u7684\u7ebf\u7a0b\u53ef\u4ee5\u5171\u4eab\u8fdb\u7a0b\u7684\u90e8\u5206\u8d44\u6e90\u7684\uff0c\u6bd4\u5982\u6587\u4ef6\u63cf\u8ff0\u7b26\u5217\u8868\u3001\u8fdb\u7a0b\u7a7a\u95f4\u3001\u4ee3\u7801\u3001\u5168\u5c40\u6570\u636e\u3001\u5806\u3001\u5171\u4eab\u5e93\u7b49\uff0c\u8fd9\u4e9b\u5171\u4eab\u4e9b\u8d44\u6e90\u5728\u4e0a\u4e0b\u6587\u5207\u6362\u65f6\u662f\u4e0d\u9700\u8981\u5207\u6362\uff0c\u800c\u53ea\u9700\u8981\u5207\u6362\u7ebf\u7a0b\u7684\u79c1\u6709\u6570\u636e\u3001\u5bc4\u5b58\u5668\u7b49\u4e0d\u5171\u4eab\u7684\u6570\u636e\uff0c\u56e0\u6b64\u540c\u4e00\u4e2a\u8fdb\u7a0b\u4e0b\u7684\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u5f00\u9500\u8981\u6bd4\u8fdb\u7a0b\u5c0f\u5f97\u591a\u3002"),(0,l.kt)("p",null,"\u5f53\u670d\u52a1\u5668\u4e0e\u5ba2\u6237\u7aef TCP \u5b8c\u6210\u8fde\u63a5\u540e\uff0c\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"pthread_create()")," \u51fd\u6570\u521b\u5efa\u7ebf\u7a0b\uff0c\u7136\u540e\u5c06\u300c\u5df2\u8fde\u63a5 Socket\u300d\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u4f20\u9012\u7ed9\u7ebf\u7a0b\u51fd\u6570\uff0c\u63a5\u7740\u5728\u7ebf\u7a0b\u91cc\u548c\u5ba2\u6237\u7aef\u8fdb\u884c\u901a\u4fe1\uff0c\u4ece\u800c\u8fbe\u5230\u5e76\u53d1\u5904\u7406\u7684\u76ee\u7684\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u6bcf\u6765\u4e00\u4e2a\u8fde\u63a5\u5c31\u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u7ebf\u7a0b\u8fd0\u884c\u5b8c\u540e\uff0c\u8fd8\u5f97\u64cd\u4f5c\u7cfb\u7edf\u8fd8\u5f97\u9500\u6bc1\u7ebf\u7a0b\uff0c\u867d\u8bf4\u7ebf\u7a0b\u5207\u6362\u7684\u4e0a\u5199\u6587\u5f00\u9500\u4e0d\u5927\uff0c\u4f46\u662f\u5982\u679c\u9891\u7e41\u521b\u5efa\u548c\u9500\u6bc1\u7ebf\u7a0b\uff0c\u7cfb\u7edf\u5f00\u9500\u4e5f\u662f\u4e0d\u5c0f\u7684\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528",(0,l.kt)("strong",{parentName:"p"},"\u7ebf\u7a0b\u6c60"),"\u7684\u65b9\u5f0f\u6765\u907f\u514d\u7ebf\u7a0b\u7684\u9891\u7e41\u521b\u5efa\u548c\u9500\u6bc1\uff0c\u6240\u8c13\u7684\u7ebf\u7a0b\u6c60\uff0c\u5c31\u662f\u63d0\u524d\u521b\u5efa\u82e5\u5e72\u4e2a\u7ebf\u7a0b\uff0c\u8fd9\u6837\u5f53\u7531\u65b0\u8fde\u63a5\u5efa\u7acb\u65f6\uff0c\u5c06\u8fd9\u4e2a\u5df2\u8fde\u63a5\u7684 Socket \u653e\u5165\u5230\u4e00\u4e2a\u961f\u5217\u91cc\uff0c\u7136\u540e\u7ebf\u7a0b\u6c60\u91cc\u7684\u7ebf\u7a0b\u8d1f\u8d23\u4ece\u961f\u5217\u4e2d\u53d6\u51fa\u5df2\u8fde\u63a5 Socket \u8fdb\u7a0b\u5904\u7406\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220717163933495",src:n(63336).Z,width:"1382",height:"452"})),(0,l.kt)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e2a\u961f\u5217\u662f\u5168\u5c40\u7684\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u4f1a\u64cd\u4f5c\uff0c\u4e3a\u4e86\u907f\u514d\u591a\u7ebf\u7a0b\u7ade\u4e89\uff0c\u7ebf\u7a0b\u5728\u64cd\u4f5c\u8fd9\u4e2a\u961f\u5217\u524d\u8981\u52a0\u9501\u3002"),(0,l.kt)("p",null,"\u4e0a\u9762\u57fa\u4e8e\u8fdb\u7a0b\u6216\u8005\u7ebf\u7a0b\u6a21\u578b\u7684\uff0c\u5176\u5b9e\u8fd8\u662f\u6709\u95ee\u9898\u7684\u3002\u65b0\u5230\u6765\u4e00\u4e2a TCP \u8fde\u63a5\uff0c\u5c31\u9700\u8981\u5206\u914d\u4e00\u4e2a\u8fdb\u7a0b\u6216\u8005\u7ebf\u7a0b\uff0c\u90a3\u4e48\u5982\u679c\u8981\u8fbe\u5230 C10K\uff0c\u610f\u5473\u7740\u8981\u4e00\u53f0\u673a\u5668\u7ef4\u62a4 1 \u4e07\u4e2a\u8fde\u63a5\uff0c\u76f8\u5f53\u4e8e\u8981\u7ef4\u62a4 1 \u4e07\u4e2a\u8fdb\u7a0b/\u7ebf\u7a0b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c31\u7b97\u6b7b\u625b\u4e5f\u662f\u625b\u4e0d\u4f4f\u7684\u3002"),(0,l.kt)("h4",{id:"io-\u591a\u8def\u590d\u7528"},"I/O \u591a\u8def\u590d\u7528"),(0,l.kt)("p",null,"\u65e2\u7136\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u5206\u914d\u4e00\u4e2a\u8fdb\u7a0b/\u7ebf\u7a0b\u7684\u65b9\u5f0f\u4e0d\u5408\u9002\uff0c\u90a3\u6709\u6ca1\u6709\u53ef\u80fd\u53ea\u4f7f\u7528\u4e00\u4e2a\u8fdb\u7a0b\u6765\u7ef4\u62a4\u591a\u4e2a Socket \u5462\uff1f\u7b54\u6848\u662f\u6709\u7684\uff0c\u90a3\u5c31\u662f ",(0,l.kt)("strong",{parentName:"p"},"I/O \u591a\u8def\u590d\u7528"),"\u6280\u672f\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220717165055763",src:n(63302).Z,width:"617",height:"407"})),(0,l.kt)("p",null,"\u4e00\u4e2a\u8fdb\u7a0b\u867d\u7136\u4efb\u4e00\u65f6\u523b\u53ea\u80fd\u5904\u7406\u4e00\u4e2a\u8bf7\u6c42\uff0c\u4f46\u662f\u5904\u7406\u6bcf\u4e2a\u8bf7\u6c42\u7684\u4e8b\u4ef6\u65f6\uff0c\u8017\u65f6\u63a7\u5236\u5728 1 \u6beb\u79d2\u4ee5\u5185\uff0c\u8fd9\u6837 1 \u79d2\u5185\u5c31\u53ef\u4ee5\u5904\u7406\u4e0a\u5343\u4e2a\u8bf7\u6c42\uff0c\u628a\u65f6\u95f4\u62c9\u957f\u6765\u770b\uff0c\u591a\u4e2a\u8bf7\u6c42\u590d\u7528\u4e86\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u8fd9\u5c31\u662f\u591a\u8def\u590d\u7528\uff0c\u8fd9\u79cd\u601d\u60f3\u5f88\u7c7b\u4f3c\u4e00\u4e2a CPU \u5e76\u53d1\u591a\u4e2a\u8fdb\u7a0b\uff0c\u6240\u4ee5\u4e5f\u53eb\u505a\u65f6\u5206\u591a\u8def\u590d\u7528\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u719f\u6089\u7684 select/poll/epoll \u5185\u6838\u63d0\u4f9b\u7ed9\u7528\u6237\u6001\u7684\u591a\u8def\u590d\u7528\u7cfb\u7edf\u8c03\u7528\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528\u51fd\u6570\u4ece\u5185\u6838\u4e2d\u83b7\u53d6\u591a\u4e2a\u4e8b\u4ef6"),"\u3002"),(0,l.kt)("p",null,"select/poll/epoll \u662f\u5982\u4f55\u83b7\u53d6\u7f51\u7edc\u4e8b\u4ef6\u7684\u5462\uff1f\u5728\u83b7\u53d6\u4e8b\u4ef6\u65f6\uff0c\u5148\u628a\u6240\u6709\u8fde\u63a5\uff08\u6587\u4ef6\u63cf\u8ff0\u7b26\uff09\u4f20\u7ed9\u5185\u6838\uff0c\u518d\u7531\u5185\u6838\u8fd4\u56de\u4ea7\u751f\u4e86\u4e8b\u4ef6\u7684\u8fde\u63a5\uff0c\u7136\u540e\u5728\u7528\u6237\u6001\u4e2d\u518d\u5904\u7406\u8fd9\u4e9b\u8fde\u63a5\u5bf9\u5e94\u7684\u8bf7\u6c42\u5373\u53ef\u3002"),(0,l.kt)("p",null,"select/poll/epoll \u8fd9\u662f\u4e09\u4e2a\u591a\u8def\u590d\u7528\u63a5\u53e3\uff0c\u90fd\u80fd\u5b9e\u73b0 C10K \u5417\uff1f\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5206\u522b\u8bf4\u8bf4\u5b83\u4eec\u3002"),(0,l.kt)("h4",{id:"selectpoll"},"select/poll"),(0,l.kt)("p",null,"select \u5b9e\u73b0\u591a\u8def\u590d\u7528\u7684\u65b9\u5f0f\u662f\uff0c\u5c06\u5df2\u8fde\u63a5\u7684 Socket \u90fd\u653e\u5230\u4e00\u4e2a",(0,l.kt)("strong",{parentName:"p"},"\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408"),"\uff0c\u7136\u540e\u8c03\u7528 select \u51fd\u6570\u5c06\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408",(0,l.kt)("strong",{parentName:"p"},"\u62f7\u8d1d"),"\u5230\u5185\u6838\u91cc\uff0c\u8ba9\u5185\u6838\u6765\u68c0\u67e5\u662f\u5426\u6709\u7f51\u7edc\u4e8b\u4ef6\u4ea7\u751f\uff0c\u68c0\u67e5\u7684\u65b9\u5f0f\u5f88\u7c97\u66b4\uff0c\u5c31\u662f\u901a\u8fc7",(0,l.kt)("strong",{parentName:"p"},"\u904d\u5386"),"\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u7684\u65b9\u5f0f\uff0c\u5f53\u68c0\u67e5\u5230\u6709\u4e8b\u4ef6\u4ea7\u751f\u540e\uff0c\u5c06\u6b64 Socket \u6807\u8bb0\u4e3a\u53ef\u8bfb\u6216\u53ef\u5199\uff0c \u63a5\u7740\u518d\u628a\u6574\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408",(0,l.kt)("strong",{parentName:"p"},"\u62f7\u8d1d"),"\u56de\u7528\u6237\u6001\u91cc\uff0c\u7136\u540e\u7528\u6237\u6001\u8fd8\u9700\u8981\u518d\u901a\u8fc7",(0,l.kt)("strong",{parentName:"p"},"\u904d\u5386"),"\u7684\u65b9\u6cd5\u627e\u5230\u53ef\u8bfb\u6216\u53ef\u5199\u7684 Socket\uff0c\u7136\u540e\u518d\u5bf9\u5176\u5904\u7406\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u5bf9\u4e8e select \u8fd9\u79cd\u65b9\u5f0f\uff0c\u9700\u8981\u8fdb\u884c ",(0,l.kt)("strong",{parentName:"p"},"2 \u6b21\u300c\u904d\u5386\u300d\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408"),"\uff0c\u4e00\u6b21\u662f\u5728\u5185\u6838\u6001\u91cc\uff0c\u4e00\u4e2a\u6b21\u662f\u5728\u7528\u6237\u6001\u91cc \uff0c\u800c\u4e14\u8fd8\u4f1a\u53d1\u751f ",(0,l.kt)("strong",{parentName:"p"},"2 \u6b21\u300c\u62f7\u8d1d\u300d\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408"),"\uff0c\u5148\u4ece\u7528\u6237\u7a7a\u95f4\u4f20\u5165\u5185\u6838\u7a7a\u95f4\uff0c\u7531\u5185\u6838\u4fee\u6539\u540e\uff0c\u518d\u4f20\u51fa\u5230\u7528\u6237\u7a7a\u95f4\u4e2d\u3002"),(0,l.kt)("p",null,"select \u4f7f\u7528\u56fa\u5b9a\u957f\u5ea6\u7684 BitsMap\uff0c\u8868\u793a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\uff0c\u800c\u4e14\u6240\u652f\u6301\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u4e2a\u6570\u662f\u6709\u9650\u5236\u7684\uff0c\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c\u7531\u5185\u6838\u4e2d\u7684 FD_SETSIZE \u9650\u5236\uff0c \u9ed8\u8ba4\u6700\u5927\u503c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"1024"),"\uff0c\u53ea\u80fd\u76d1\u542c 0~1023 \u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002"),(0,l.kt)("p",null,"poll \u4e0d\u518d\u7528 BitsMap \u6765\u5b58\u50a8\u6240\u5173\u6ce8\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u53d6\u800c\u4ee3\u4e4b\u7528\u52a8\u6001\u6570\u7ec4\uff0c\u4ee5\u94fe\u8868\u5f62\u5f0f\u6765\u7ec4\u7ec7\uff0c\u7a81\u7834\u4e86 select \u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e2a\u6570\u9650\u5236\uff0c\u5f53\u7136\u8fd8\u4f1a\u53d7\u5230\u7cfb\u7edf\u6587\u4ef6\u63cf\u8ff0\u7b26\u9650\u5236\u3002"),(0,l.kt)("p",null,"\u4f46\u662f poll \u548c select \u5e76\u6ca1\u6709\u592a\u5927\u7684\u672c\u8d28\u533a\u522b\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u90fd\u662f\u4f7f\u7528\u300c\u7ebf\u6027\u7ed3\u6784\u300d\u5b58\u50a8\u8fdb\u7a0b\u5173\u6ce8\u7684 Socket \u96c6\u5408\uff0c\u56e0\u6b64\u90fd\u9700\u8981\u904d\u5386\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u6765\u627e\u5230\u53ef\u8bfb\u6216\u53ef\u5199\u7684 Socket\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(n)\uff0c\u800c\u4e14\u4e5f\u9700\u8981\u5728\u7528\u6237\u6001\u4e0e\u5185\u6838\u6001\u4e4b\u95f4\u62f7\u8d1d\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408"),"\uff0c\u8fd9\u79cd\u65b9\u5f0f\u968f\u7740\u5e76\u53d1\u6570\u4e0a\u6765\uff0c\u6027\u80fd\u7684\u635f\u8017\u4f1a\u5448\u6307\u6570\u7ea7\u589e\u957f\u3002"),(0,l.kt)("h4",{id:"epoll"},"epoll"),(0,l.kt)("p",null,"\u5148\u590d\u4e60\u4e0b epoll \u7684\u7528\u6cd5\u3002\u5982\u4e0b\u7684\u4ee3\u7801\u4e2d\uff0c\u5148\u7528e poll_create \u521b\u5efa\u4e00\u4e2a epol l\u5bf9\u8c61 epfd\uff0c\u518d\u901a\u8fc7 epoll_ctl \u5c06\u9700\u8981\u76d1\u89c6\u7684 socket \u6dfb\u52a0\u5230epfd\u4e2d\uff0c\u6700\u540e\u8c03\u7528 epoll_wait \u7b49\u5f85\u6570\u636e\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int s = socket(AF_INET, SOCK_STREAM, 0);\nbind(s, ...);\nlisten(s, ...)\n\nint epfd = epoll_create(...);\nepoll_ctl(epfd, ...); //\u5c06\u6240\u6709\u9700\u8981\u76d1\u542c\u7684socket\u6dfb\u52a0\u5230epfd\u4e2d\n\nwhile(1) {\n    int n = epoll_wait(...);\n    for(\u63a5\u6536\u5230\u6570\u636e\u7684socket){\n        //\u5904\u7406\n    }\n}\n")),(0,l.kt)("p",null,"epoll \u901a\u8fc7\u4e24\u4e2a\u65b9\u9762\uff0c\u5f88\u597d\u89e3\u51b3\u4e86 select/poll \u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u7b2c\u4e00\u70b9"),"\uff0cepoll \u5728\u5185\u6838\u91cc\u4f7f\u7528",(0,l.kt)("strong",{parentName:"p"},"\u7ea2\u9ed1\u6811\u6765\u8ddf\u8e2a\u8fdb\u7a0b\u6240\u6709\u5f85\u68c0\u6d4b\u7684\u6587\u4ef6\u63cf\u8ff0\u5b57"),"\uff0c\u628a\u9700\u8981\u76d1\u63a7\u7684 socket \u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"epoll_ctl()")," \u51fd\u6570\u52a0\u5165\u5185\u6838\u4e2d\u7684\u7ea2\u9ed1\u6811\u91cc\uff0c\u7ea2\u9ed1\u6811\u662f\u4e2a\u9ad8\u6548\u7684\u6570\u636e\u7ed3\u6784\uff0c\u589e\u5220\u6539\u4e00\u822c\u65f6\u95f4\u590d\u6742\u5ea6\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"O(logn)"),"\u3002\u800c select/poll \u5185\u6838\u91cc\u6ca1\u6709\u7c7b\u4f3c epoll \u7ea2\u9ed1\u6811\u8fd9\u79cd\u4fdd\u5b58\u6240\u6709\u5f85\u68c0\u6d4b\u7684 socket \u7684\u6570\u636e\u7ed3\u6784\uff0c\u6240\u4ee5 select/poll  \u6bcf\u6b21\u64cd\u4f5c\u65f6\u90fd\u4f20\u5165\u6574\u4e2a socket \u96c6\u5408\u7ed9\u5185\u6838\uff0c\u800c epoll \u56e0\u4e3a\u5728\u5185\u6838\u7ef4\u62a4\u4e86\u7ea2\u9ed1\u6811\uff0c\u53ef\u4ee5\u4fdd\u5b58\u6240\u6709\u5f85\u68c0\u6d4b\u7684 socket  \uff0c\u6240\u4ee5\u53ea\u9700\u8981\u4f20\u5165\u4e00\u4e2a\u5f85\u68c0\u6d4b\u7684 socket\uff0c\u51cf\u5c11\u4e86\u5185\u6838\u548c\u7528\u6237\u7a7a\u95f4\u5927\u91cf\u7684\u6570\u636e\u62f7\u8d1d\u548c\u5185\u5b58\u5206\u914d\u3002"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u7b2c\u4e8c\u70b9"),"\uff0c epoll \u4f7f\u7528",(0,l.kt)("strong",{parentName:"p"},"\u4e8b\u4ef6\u9a71\u52a8"),"\u7684\u673a\u5236\uff0c\u5185\u6838\u91cc",(0,l.kt)("strong",{parentName:"p"},"\u7ef4\u62a4\u4e86\u4e00\u4e2a\u94fe\u8868\u6765\u8bb0\u5f55\u5c31\u7eea\u4e8b\u4ef6"),"\uff0c\u5f53\u67d0\u4e2a socket \u6709\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u901a\u8fc7",(0,l.kt)("strong",{parentName:"p"},"\u56de\u8c03\u51fd\u6570"),"\u5185\u6838\u4f1a\u5c06\u5176\u52a0\u5165\u5230\u8fd9\u4e2a\u5c31\u7eea\u4e8b\u4ef6\u5217\u8868\u4e2d\uff0c\u5f53\u7528\u6237\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"epoll_wait()")," \u51fd\u6570\u65f6\uff0c\u53ea\u4f1a\u8fd4\u56de\u6709\u4e8b\u4ef6\u53d1\u751f\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u4e2a\u6570\uff0c\u4e0d\u9700\u8981\u50cf select/poll \u90a3\u6837\u8f6e\u8be2\u626b\u63cf\u6574\u4e2a socket \u96c6\u5408\uff0c\u5927\u5927\u63d0\u9ad8\u4e86\u68c0\u6d4b\u7684\u6548\u7387\u3002"),(0,l.kt)("p",null,"\u4ece\u4e0b\u56fe\u4f60\u53ef\u4ee5\u770b\u5230 epoll \u76f8\u5173\u7684\u63a5\u53e3\u4f5c\u7528\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220717165140152",src:n(12846).Z,width:"1142",height:"527"})),(0,l.kt)("p",null,"epoll \u7684\u65b9\u5f0f\u5373\u4f7f\u76d1\u542c\u7684 Socket \u6570\u91cf\u8d8a\u591a\u7684\u65f6\u5019\uff0c\u6548\u7387\u4e0d\u4f1a\u5927\u5e45\u5ea6\u964d\u4f4e\uff0c\u80fd\u591f\u540c\u65f6\u76d1\u542c\u7684 Socket \u7684\u6570\u76ee\u4e5f\u975e\u5e38\u7684\u591a\u4e86\uff0c\u4e0a\u9650\u5c31\u4e3a\u7cfb\u7edf\u5b9a\u4e49\u7684\u8fdb\u7a0b\u6253\u5f00\u7684\u6700\u5927\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e2a\u6570\u3002\u56e0\u800c\uff0c",(0,l.kt)("strong",{parentName:"p"},"epoll \u88ab\u79f0\u4e3a\u89e3\u51b3 C10K \u95ee\u9898\u7684\u5229\u5668"),"\u3002"),(0,l.kt)("p",null,"\u63d2\u4e2a\u9898\u5916\u8bdd\uff0c\u7f51\u4e0a\u6587\u7ae0\u4e0d\u5c11\u8bf4\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"epoll_wait")," \u8fd4\u56de\u65f6\uff0c\u5bf9\u4e8e\u5c31\u7eea\u7684\u4e8b\u4ef6\uff0cepoll \u4f7f\u7528\u7684\u662f\u5171\u4eab\u5185\u5b58\u7684\u65b9\u5f0f\uff0c\u5373\u7528\u6237\u6001\u548c\u5185\u6838\u6001\u90fd\u6307\u5411\u4e86\u5c31\u7eea\u94fe\u8868\uff0c\u6240\u4ee5\u5c31\u907f\u514d\u4e86\u5185\u5b58\u62f7\u8d1d\u6d88\u8017\u3002"),(0,l.kt)("p",null,"\u8fd9\u662f\u9519\u7684\uff01\u770b\u8fc7 epoll \u5185\u6838\u6e90\u7801\u7684\u90fd\u77e5\u9053\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u538b\u6839\u5c31\u6ca1\u6709\u4f7f\u7528\u5171\u4eab\u5185\u5b58\u8fd9\u4e2a\u73a9\u610f"),"\u3002\u4f60\u53ef\u4ee5\u4ece\u4e0b\u9762\u8fd9\u4efd\u4ee3\u7801\u770b\u5230\uff0c epoll_wait \u5b9e\u73b0\u7684\u5185\u6838\u4ee3\u7801\u4e2d\u8c03\u7528\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"__put_user")," \u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u5c31\u662f\u5c06\u6570\u636e\u4ece\u5185\u6838\u62f7\u8d1d\u5230\u7528\u6237\u7a7a\u95f4\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220717165148621",src:n(77371).Z,width:"876",height:"472"})),(0,l.kt)("h5",{id:"\u8fb9\u7f18\u89e6\u53d1\u548c\u6c34\u5e73\u89e6\u53d1"},"\u8fb9\u7f18\u89e6\u53d1\u548c\u6c34\u5e73\u89e6\u53d1"),(0,l.kt)("p",null,"\u8fd9\u4e24\u4e2a\u672f\u8bed\u8fd8\u633a\u62bd\u8c61\u7684\uff0c\u5176\u5b9e\u5b83\u4eec\u7684\u533a\u522b\u8fd8\u662f\u5f88\u597d\u7406\u89e3\u7684\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u8fb9\u7f18\u89e6\u53d1\u6a21\u5f0f\u65f6\uff0c\u5f53\u88ab\u76d1\u63a7\u7684 Socket \u63cf\u8ff0\u7b26\u4e0a\u6709\u53ef\u8bfb\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u670d\u52a1\u5668\u7aef\u53ea\u4f1a\u4ece epoll_wait \u4e2d\u82cf\u9192\u4e00\u6b21"),"\uff0c\u5373\u4f7f\u8fdb\u7a0b\u6ca1\u6709\u8c03\u7528 read \u51fd\u6570\u4ece\u5185\u6838\u8bfb\u53d6\u6570\u636e\uff0c\u4e5f\u4f9d\u7136\u53ea\u82cf\u9192\u4e00\u6b21\uff0c\u56e0\u6b64\u6211\u4eec\u7a0b\u5e8f\u8981\u4fdd\u8bc1\u4e00\u6b21\u6027\u5c06\u5185\u6838\u7f13\u51b2\u533a\u7684\u6570\u636e\u8bfb\u53d6\u5b8c\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u6c34\u5e73\u89e6\u53d1\u6a21\u5f0f\u65f6\uff0c\u5f53\u88ab\u76d1\u63a7\u7684 Socket \u4e0a\u6709\u53ef\u8bfb\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u670d\u52a1\u5668\u7aef\u4e0d\u65ad\u5730\u4ece epoll_wait \u4e2d\u82cf\u9192\uff0c\u76f4\u5230\u5185\u6838\u7f13\u51b2\u533a\u6570\u636e\u88ab read \u51fd\u6570\u8bfb\u5b8c\u624d\u7ed3\u675f"),"\uff0c\u76ee\u7684\u662f\u544a\u8bc9\u6211\u4eec\u6709\u6570\u636e\u9700\u8981\u8bfb\u53d6\uff1b")),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4f60\u7684\u5feb\u9012\u88ab\u653e\u5230\u4e86\u4e00\u4e2a\u5feb\u9012\u7bb1\u91cc\uff0c\u5982\u679c\u5feb\u9012\u7bb1\u53ea\u4f1a\u901a\u8fc7\u77ed\u4fe1\u901a\u77e5\u4f60\u4e00\u6b21\uff0c\u5373\u4f7f\u4f60\u4e00\u76f4\u6ca1\u6709\u53bb\u53d6\uff0c\u5b83\u4e5f\u4e0d\u4f1a\u518d\u53d1\u9001\u7b2c\u4e8c\u6761\u77ed\u4fe1\u63d0\u9192\u4f60\uff0c\u8fd9\u4e2a\u65b9\u5f0f\u5c31\u662f\u8fb9\u7f18\u89e6\u53d1\uff1b\u5982\u679c\u5feb\u9012\u7bb1\u53d1\u73b0\u4f60\u7684\u5feb\u9012\u6ca1\u6709\u88ab\u53d6\u51fa\uff0c\u5b83\u5c31\u4f1a\u4e0d\u505c\u5730\u53d1\u77ed\u4fe1\u901a\u77e5\u4f60\uff0c\u76f4\u5230\u4f60\u53d6\u51fa\u4e86\u5feb\u9012\uff0c\u5b83\u624d\u6d88\u505c\uff0c\u8fd9\u4e2a\u5c31\u662f\u6c34\u5e73\u89e6\u53d1\u7684\u65b9\u5f0f\u3002"),(0,l.kt)("p",null,"\u8fd9\u5c31\u662f\u4e24\u8005\u7684\u533a\u522b\uff0c\u6c34\u5e73\u89e6\u53d1\u7684\u610f\u601d\u662f\u53ea\u8981\u6ee1\u8db3\u4e8b\u4ef6\u7684\u6761\u4ef6\uff0c\u6bd4\u5982\u5185\u6838\u4e2d\u6709\u6570\u636e\u9700\u8981\u8bfb\uff0c\u5c31\u4e00\u76f4\u4e0d\u65ad\u5730\u628a\u8fd9\u4e2a\u4e8b\u4ef6\u4f20\u9012\u7ed9\u7528\u6237\uff1b\u800c\u8fb9\u7f18\u89e6\u53d1\u7684\u610f\u601d\u662f\u53ea\u6709\u7b2c\u4e00\u6b21\u6ee1\u8db3\u6761\u4ef6\u7684\u65f6\u5019\u624d\u89e6\u53d1\uff0c\u4e4b\u540e\u5c31\u4e0d\u4f1a\u518d\u4f20\u9012\u540c\u6837\u7684\u4e8b\u4ef6\u4e86\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u4f7f\u7528\u6c34\u5e73\u89e6\u53d1\u6a21\u5f0f\uff0c\u5f53\u5185\u6838\u901a\u77e5\u6587\u4ef6\u63cf\u8ff0\u7b26\u53ef\u8bfb\u5199\u65f6\uff0c\u63a5\u4e0b\u6765\u8fd8\u53ef\u4ee5\u7ee7\u7eed\u53bb\u68c0\u6d4b\u5b83\u7684\u72b6\u6001\uff0c\u770b\u5b83\u662f\u5426\u4f9d\u7136\u53ef\u8bfb\u6216\u53ef\u5199\u3002\u6240\u4ee5\u5728\u6536\u5230\u901a\u77e5\u540e\uff0c\u6ca1\u5fc5\u8981\u4e00\u6b21\u6267\u884c\u5c3d\u53ef\u80fd\u591a\u7684\u8bfb\u5199\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u4f7f\u7528\u8fb9\u7f18\u89e6\u53d1\u6a21\u5f0f\uff0cI/O \u4e8b\u4ef6\u53d1\u751f\u65f6\u53ea\u4f1a\u901a\u77e5\u4e00\u6b21\uff0c\u800c\u4e14\u6211\u4eec\u4e0d\u77e5\u9053\u5230\u5e95\u80fd\u8bfb\u5199\u591a\u5c11\u6570\u636e\uff0c\u6240\u4ee5\u5728\u6536\u5230\u901a\u77e5\u540e\u5e94\u5c3d\u53ef\u80fd\u5730\u8bfb\u5199\u6570\u636e\uff0c\u4ee5\u514d\u9519\u5931\u8bfb\u5199\u7684\u673a\u4f1a\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u4f1a",(0,l.kt)("strong",{parentName:"p"},"\u5faa\u73af"),"\u4ece\u6587\u4ef6\u63cf\u8ff0\u7b26\u8bfb\u5199\u6570\u636e\uff0c\u90a3\u4e48\u5982\u679c\u6587\u4ef6\u63cf\u8ff0\u7b26\u662f\u963b\u585e\u7684\uff0c\u6ca1\u6709\u6570\u636e\u53ef\u8bfb\u5199\u65f6\uff0c\u8fdb\u7a0b\u4f1a\u963b\u585e\u5728\u8bfb\u5199\u51fd\u6570\u90a3\u91cc\uff0c\u7a0b\u5e8f\u5c31\u6ca1\u529e\u6cd5\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c\u3002\u6240\u4ee5\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u8fb9\u7f18\u89e6\u53d1\u6a21\u5f0f\u4e00\u822c\u548c\u975e\u963b\u585e I/O \u642d\u914d\u4f7f\u7528"),"\uff0c\u7a0b\u5e8f\u4f1a\u4e00\u76f4\u6267\u884c I/O \u64cd\u4f5c\uff0c\u76f4\u5230\u7cfb\u7edf\u8c03\u7528\uff08\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"read")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"write"),"\uff09\u8fd4\u56de\u9519\u8bef\uff0c\u9519\u8bef\u7c7b\u578b\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"EAGAIN")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"EWOULDBLOCK"),"\u3002"),(0,l.kt)("p",null,"\u4e00\u822c\u6765\u8bf4\uff0c\u8fb9\u7f18\u89e6\u53d1\u7684\u6548\u7387\u6bd4\u6c34\u5e73\u89e6\u53d1\u7684\u6548\u7387\u8981\u9ad8\uff0c\u56e0\u4e3a\u8fb9\u7f18\u89e6\u53d1\u53ef\u4ee5\u51cf\u5c11 epoll_wait \u7684\u7cfb\u7edf\u8c03\u7528\u6b21\u6570\uff0c\u7cfb\u7edf\u8c03\u7528\u4e5f\u662f\u6709\u4e00\u5b9a\u7684\u5f00\u9500\u7684\u7684\uff0c\u6bd5\u7adf\u4e5f\u5b58\u5728\u4e0a\u4e0b\u6587\u7684\u5207\u6362\u3002"),(0,l.kt)("p",null,"select/poll \u53ea\u6709\u6c34\u5e73\u89e6\u53d1\u6a21\u5f0f\uff0cepoll \u9ed8\u8ba4\u7684\u89e6\u53d1\u6a21\u5f0f\u662f\u6c34\u5e73\u89e6\u53d1\uff0c\u4f46\u662f\u53ef\u4ee5\u6839\u636e\u5e94\u7528\u573a\u666f\u8bbe\u7f6e\u4e3a\u8fb9\u7f18\u89e6\u53d1\u6a21\u5f0f\u3002"),(0,l.kt)("p",null,"\u53e6\u5916\uff0c\u4f7f\u7528 I/O \u591a\u8def\u590d\u7528\u65f6\uff0c\u6700\u597d\u642d\u914d\u975e\u963b\u585e I/O \u4e00\u8d77\u4f7f\u7528\uff0cLinux \u624b\u518c\u5173\u4e8e select \u7684\u5185\u5bb9\u4e2d\u6709\u5982\u4e0b\u8bf4\u660e\uff1a"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},'Under Linux, select() may report a socket file descriptor as "ready for  reading", while nevertheless a subsequent read blocks. This could for  example happen when data has arrived but upon examination has wrong  checksum and is discarded. There may be other circumstances in which a  file descriptor is spuriously reported as ready. Thus it may be safer to use O_NONBLOCK on sockets that should not block.')),(0,l.kt)("p",null,"\u6211\u8c37\u6b4c\u7ffb\u8bd1\u7684\u7ed3\u679c\uff1a"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},'\u5728Linux\u4e0b\uff0cselect() \u53ef\u80fd\u4f1a\u5c06\u4e00\u4e2a socket \u6587\u4ef6\u63cf\u8ff0\u7b26\u62a5\u544a\u4e3a  "\u51c6\u5907\u8bfb\u53d6"\uff0c\u800c\u540e\u7eed\u7684\u8bfb\u53d6\u5757\u5374\u6ca1\u6709\u3002\u4f8b\u5982\uff0c\u5f53\u6570\u636e\u5df2\u7ecf\u5230\u8fbe\uff0c\u4f46\u7ecf\u68c0\u67e5\u540e\u53d1\u73b0\u6709\u9519\u8bef\u7684\u6821\u9a8c\u548c\u800c\u88ab\u4e22\u5f03\u65f6\uff0c\u5c31\u4f1a\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u3002\u4e5f\u6709\u53ef\u80fd\u5728\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u6587\u4ef6\u63cf\u8ff0\u7b26\u88ab\u9519\u8bef\u5730\u62a5\u544a\u4e3a\u5c31\u7eea\u3002\u56e0\u6b64\uff0c\u5728\u4e0d\u5e94\u8be5\u963b\u585e\u7684 socket \u4e0a\u4f7f\u7528 O_NONBLOCK \u53ef\u80fd\u66f4\u5b89\u5168\u3002')),(0,l.kt)("p",null,"\u7b80\u5355\u70b9\u7406\u89e3\uff0c\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u591a\u8def\u590d\u7528 API \u8fd4\u56de\u7684\u4e8b\u4ef6\u5e76\u4e0d\u4e00\u5b9a\u53ef\u8bfb\u5199\u7684"),"\uff0c\u5982\u679c\u4f7f\u7528\u963b\u585e I/O\uff0c \u90a3\u4e48\u5728\u8c03\u7528 read/write \u65f6\u5219\u4f1a\u53d1\u751f\u7a0b\u5e8f\u963b\u585e\uff0c\u56e0\u6b64\u6700\u597d\u642d\u914d\u975e\u963b\u585e I/O\uff0c\u4ee5\u4fbf\u5e94\u5bf9\u6781\u5c11\u6570\u7684\u7279\u6b8a\u60c5\u51b5\u3002"),(0,l.kt)("h4",{id:"\u603b\u7ed3-1"},"\u603b\u7ed3"),(0,l.kt)("p",null,"\u6700\u57fa\u7840\u7684 TCP \u7684 Socket \u7f16\u7a0b\uff0c\u5b83\u662f\u963b\u585e I/O \u6a21\u578b\uff0c\u57fa\u672c\u4e0a\u53ea\u80fd\u4e00\u5bf9\u4e00\u901a\u4fe1\uff0c\u90a3\u4e3a\u4e86\u670d\u52a1\u66f4\u591a\u7684\u5ba2\u6237\u7aef\uff0c\u6211\u4eec\u9700\u8981\u6539\u8fdb\u7f51\u7edc I/O \u6a21\u578b\u3002"),(0,l.kt)("p",null,"\u6bd4\u8f83\u4f20\u7edf\u7684\u65b9\u5f0f\u662f\u4f7f\u7528\u591a\u8fdb\u7a0b/\u7ebf\u7a0b\u6a21\u578b\uff0c\u6bcf\u6765\u4e00\u4e2a\u5ba2\u6237\u7aef\u8fde\u63a5\uff0c\u5c31\u5206\u914d\u4e00\u4e2a\u8fdb\u7a0b/\u7ebf\u7a0b\uff0c\u7136\u540e\u540e\u7eed\u7684\u8bfb\u5199\u90fd\u5728\u5bf9\u5e94\u7684\u8fdb\u7a0b/\u7ebf\u7a0b\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5904\u7406 100 \u4e2a\u5ba2\u6237\u7aef\u6ca1\u95ee\u9898\uff0c\u4f46\u662f\u5f53\u5ba2\u6237\u7aef\u589e\u5927\u5230 10000  \u4e2a\u65f6\uff0c10000 \u4e2a\u8fdb\u7a0b/\u7ebf\u7a0b\u7684\u8c03\u5ea6\u3001\u4e0a\u4e0b\u6587\u5207\u6362\u4ee5\u53ca\u5b83\u4eec\u5360\u7528\u7684\u5185\u5b58\uff0c\u90fd\u4f1a\u6210\u4e3a\u74f6\u9888\u3002"),(0,l.kt)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u4e0a\u9762\u8fd9\u4e2a\u95ee\u9898\uff0c\u5c31\u51fa\u73b0\u4e86 I/O \u7684\u591a\u8def\u590d\u7528\uff0c\u53ef\u4ee5\u53ea\u5728\u4e00\u4e2a\u8fdb\u7a0b\u91cc\u5904\u7406\u591a\u4e2a\u6587\u4ef6\u7684  I/O\uff0cLinux \u4e0b\u6709\u4e09\u79cd\u63d0\u4f9b I/O \u591a\u8def\u590d\u7528\u7684 API\uff0c\u5206\u522b\u662f\uff1a select\u3001poll\u3001epoll\u3002"),(0,l.kt)("p",null,"select \u548c poll \u5e76\u6ca1\u6709\u672c\u8d28\u533a\u522b\uff0c\u5b83\u4eec\u5185\u90e8\u90fd\u662f\u4f7f\u7528\u300c\u7ebf\u6027\u7ed3\u6784\u300d\u6765\u5b58\u50a8\u8fdb\u7a0b\u5173\u6ce8\u7684 Socket \u96c6\u5408\u3002"),(0,l.kt)("p",null,"\u5728\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u9996\u5148\u9700\u8981\u628a\u5173\u6ce8\u7684 Socket \u96c6\u5408\u901a\u8fc7 select/poll \u7cfb\u7edf\u8c03\u7528\u4ece\u7528\u6237\u6001\u62f7\u8d1d\u5230\u5185\u6838\u6001\uff0c\u7136\u540e\u7531\u5185\u6838\u68c0\u6d4b\u4e8b\u4ef6\uff0c\u5f53\u6709\u7f51\u7edc\u4e8b\u4ef6\u4ea7\u751f\u65f6\uff0c\u5185\u6838\u9700\u8981\u904d\u5386\u8fdb\u7a0b\u5173\u6ce8  Socket \u96c6\u5408\uff0c\u627e\u5230\u5bf9\u5e94\u7684 Socket\uff0c\u5e76\u8bbe\u7f6e\u5176\u72b6\u6001\u4e3a\u53ef\u8bfb/\u53ef\u5199\uff0c\u7136\u540e\u628a\u6574\u4e2a Socket  \u96c6\u5408\u4ece\u5185\u6838\u6001\u62f7\u8d1d\u5230\u7528\u6237\u6001\uff0c\u7528\u6237\u6001\u8fd8\u8981\u7ee7\u7eed\u904d\u5386\u6574\u4e2a Socket \u96c6\u5408\u627e\u5230\u53ef\u8bfb/\u53ef\u5199\u7684 Socket\uff0c\u7136\u540e\u5bf9\u5176\u5904\u7406\u3002"),(0,l.kt)("p",null,"\u5f88\u660e\u663e\u53d1\u73b0\uff0cselect \u548c poll \u7684\u7f3a\u9677\u5728\u4e8e\uff0c\u5f53\u5ba2\u6237\u7aef\u8d8a\u591a\uff0c\u4e5f\u5c31\u662f Socket \u96c6\u5408\u8d8a\u5927\uff0cSocket \u96c6\u5408\u7684\u904d\u5386\u548c\u62f7\u8d1d\u4f1a\u5e26\u6765\u5f88\u5927\u7684\u5f00\u9500\uff0c\u56e0\u6b64\u4e5f\u5f88\u96be\u5e94\u5bf9 C10K\u3002"),(0,l.kt)("p",null,"epoll \u662f\u89e3\u51b3 C10K \u95ee\u9898\u7684\u5229\u5668\uff0c\u901a\u8fc7\u4e24\u4e2a\u65b9\u9762\u89e3\u51b3\u4e86 select/poll \u7684\u95ee\u9898\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"epoll \u5728\u5185\u6838\u91cc\u4f7f\u7528\u300c\u7ea2\u9ed1\u6811\u300d\u6765\u5173\u6ce8\u8fdb\u7a0b\u6240\u6709\u5f85\u68c0\u6d4b\u7684 Socket\uff0c\u7ea2\u9ed1\u6811\u662f\u4e2a\u9ad8\u6548\u7684\u6570\u636e\u7ed3\u6784\uff0c\u589e\u5220\u6539\u4e00\u822c\u65f6\u95f4\u590d\u6742\u5ea6\u662f  O(logn)\uff0c\u901a\u8fc7\u5bf9\u8fd9\u68f5\u9ed1\u7ea2\u6811\u7684\u7ba1\u7406\uff0c\u4e0d\u9700\u8981\u50cf select/poll \u5728\u6bcf\u6b21\u64cd\u4f5c\u65f6\u90fd\u4f20\u5165\u6574\u4e2a Socket  \u96c6\u5408\uff0c\u51cf\u5c11\u4e86\u5185\u6838\u548c\u7528\u6237\u7a7a\u95f4\u5927\u91cf\u7684\u6570\u636e\u62f7\u8d1d\u548c\u5185\u5b58\u5206\u914d\u3002"),(0,l.kt)("li",{parentName:"ul"},"epoll \u4f7f\u7528\u4e8b\u4ef6\u9a71\u52a8\u7684\u673a\u5236\uff0c\u5185\u6838\u91cc\u7ef4\u62a4\u4e86\u4e00\u4e2a\u300c\u94fe\u8868\u300d\u6765\u8bb0\u5f55\u5c31\u7eea\u4e8b\u4ef6\uff0c\u53ea\u5c06\u6709\u4e8b\u4ef6\u53d1\u751f\u7684 Socket \u96c6\u5408\u4f20\u9012\u7ed9\u5e94\u7528\u7a0b\u5e8f\uff0c\u4e0d\u9700\u8981\u50cf select/poll \u90a3\u6837\u8f6e\u8be2\u626b\u63cf\u6574\u4e2a\u96c6\u5408\uff08\u5305\u542b\u6709\u548c\u65e0\u4e8b\u4ef6\u7684 Socket \uff09\uff0c\u5927\u5927\u63d0\u9ad8\u4e86\u68c0\u6d4b\u7684\u6548\u7387\u3002")),(0,l.kt)("p",null,"\u800c\u4e14\uff0cepoll \u652f\u6301\u8fb9\u7f18\u89e6\u53d1\u548c\u6c34\u5e73\u89e6\u53d1\u7684\u65b9\u5f0f\uff0c\u800c select/poll \u53ea\u652f\u6301\u6c34\u5e73\u89e6\u53d1\uff0c\u4e00\u822c\u800c\u8a00\uff0c\u8fb9\u7f18\u89e6\u53d1\u7684\u65b9\u5f0f\u4f1a\u6bd4\u6c34\u5e73\u89e6\u53d1\u7684\u6548\u7387\u9ad8\u3002"),(0,l.kt)("h3",{id:"java\u96c6\u5408\u7c7b\u6846\u67b6\u7684\u57fa\u672c\u63a5\u53e3\u6709\u54ea\u4e9b"},"\u2b50Java\u96c6\u5408\u7c7b\u6846\u67b6\u7684\u57fa\u672c\u63a5\u53e3\u6709\u54ea\u4e9b\uff1f"),(0,l.kt)("p",null,"Java\u4e2d\u7684\u96c6\u5408\u5206\u4e3avalue\uff08Conllection\uff09\uff0ckey-value(Map)\u4e24\u79cd\u5b58\u50a8\u7ed3\u6784"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5b58\u50a8value\u6709\u5206\u4e3aList \u3001Set\u3001Queue")),(0,l.kt)("p",null,"List\uff1a\u6709\u5e8f\uff0c\u53ef\u5b58\u50a8\u91cd\u590d\u5143\u7d20"),(0,l.kt)("p",null,"Set\uff1a\u65e0\u5e8f\uff0c\u5143\u7d20\u4e0d\u53ef\u91cd\u590d\u3002\u6839\u636eequals\u548chashcode\u5224\u65ad\uff08\u5982\u679c\u4e00\u4e2a\u5bf9\u8c61\u8981\u5b58\u50a8\u5728Set\u4e2d\uff0c\u5fc5\u987b\u91cd\u5199equals\u548chashCode\u65b9\u6cd5\uff09"),(0,l.kt)("p",null,"Queue\uff1a\u961f\u5217"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5b58\u50a8key-value\u7684\u4e3amap")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220609215207876",src:n(60274).Z,width:"984",height:"521"})),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220609215218381",src:n(43462).Z,width:"974",height:"532"})),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220609215224938",src:n(14094).Z,width:"1063",height:"505"})),(0,l.kt)("h3",{id:"-arraylist-\u4e0e-linkedlist-\u533a\u522b"},"\u2b50 Arraylist \u4e0e LinkedList \u533a\u522b"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u662f\u5426\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168"),"\uff1a ArrayList \u548c LinkedList \u90fd\u662f\u4e0d\u540c\u6b65\u7684\uff0c\u4e5f\u5c31\u662f\u4e0d\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\uff1b"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5e95\u5c42\u6570\u636e\u7ed3\u6784"),"\uff1a Arraylist \u5e95\u5c42\u4f7f\u7528\u7684\u662f Object \u6570\u7ec4\uff1b LinkedList \u5e95\u5c42\u4f7f\u7528\u7684\u662f \u53cc\u5411\u94fe\u8868\u6570\u636e\u7ed3\u6784\uff08JDK1.6 \u4e4b\u524d\u4e3a\u5faa\u73af\u94fe\u8868\uff0cJDK1.7 \u53d6\u6d88\u4e86\u5faa\u73af\u3002\u6ce8\u610f\u53cc\u5411\u94fe\u8868\u548c\u53cc\u5411\u5faa\u73af\u94fe\u8868\u7684\u533a\u522b\uff0c\u4e0b\u9762\u6709\u4ecb\u7ecd\u5230\uff01\uff09"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u63d2\u5165\u548c\u5220\u9664\u662f\u5426\u53d7\u5143\u7d20\u4f4d\u7f6e\u7684\u5f71\u54cd"),"\uff1a\u2460ArrayList\u91c7\u7528\u6570\u7ec4\u5b58\u50a8\uff0c\u6240\u4ee5\u63d2\u5165\u548c\u5220\u9664\u5143\u7d20\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u53d7\u5143\u7d20\u4f4d\u7f6e\u7684\u5f71\u54cd\u3002\u6bd4\u5982\uff1a\u6267\u884cadd(Ee)\u65b9\u6cd5\u7684\u65f6\u5019\uff0cArrayList\u4f1a\u9ed8\u8ba4\u5728\u5c06\u6307\u5b9a\u7684\u5143\u7d20\u8ffd\u52a0\u5230\u6b64\u5217\u8868\u7684\u672b\u5c3e\uff0c\u8fd9\u79cd\u60c5\u51b5\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u662fO(1)\u3002\u4f46\u662f\u5982\u679c\u8981\u5728\u6307\u5b9a\u4f4d\u7f6ei\u63d2\u5165\u548c\u5220\u9664\u5143\u7d20\u7684\u8bdd\uff08add(intindex,Eelement)\uff09\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u4e3aO(n-i)\u3002\u56e0\u4e3a\u5728\u8fdb\u884c\u4e0a\u8ff0\u64cd\u4f5c\u7684\u65f6\u5019\u96c6\u5408\u4e2d\u7b2ci\u548c\u7b2ci\u4e2a\u5143\u7d20\u4e4b\u540e\u7684(n-i)\u4e2a\u5143\u7d20\u90fd\u8981\u6267\u884c\u5411\u540e\u4f4d/\u5411\u524d\u79fb\u4e00\u4f4d\u7684\u64cd\u4f5c\u3002\u2461LinkedList\u91c7\u7528\u94fe\u8868\u5b58\u50a8\uff0c\u6240\u4ee5\u5bf9\u4e8eadd(Ee)\u65b9\u6cd5\u7684\u63d2\u5165\uff0c\u5220\u9664\u5143\u7d20\u65f6\u95f4\u590d\u6742\u5ea6\u4e0d\u53d7\u5143\u7d20\u4f4d\u7f6e\u7684\u5f71\u54cd\uff0c\u8fd1\u4f3cO(1)\uff0c\u5982\u679c\u662f\u8981\u5728\u6307\u5b9a\u4f4d\u7f6ei\u63d2\u5165\u548c\u5220\u9664\u5143\u7d20\u7684\u8bdd\uff08(add(intindex,Eelement)\uff09\u65f6\u95f4\u590d\u6742\u5ea6\u8fd1\u4f3c\u4e3ao(n))\u56e0\u4e3a\u9700\u8981\u5148\u79fb\u52a8\u5230\u6307\u5b9a\u4f4d\u7f6e\u518d\u63d2\u5165\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u662f\u5426\u652f\u6301\u5feb\u901f\u968f\u673a\u8bbf\u95ee"),"\uff1aLinkedList\u4e0d\u652f\u6301\u9ad8\u6548\u7684\u968f\u673a\u5143\u7d20\u8bbf\u95ee\uff0c\u800cArrayList\u652f\u6301\u3002\u5feb\u901f\u968f\u673a\u8bbf\u95ee\u5c31\u662f\u901a\u8fc7\u5143\u7d20\u7684\u5e8f\u53f7\u5feb\u901f\u83b7\u53d6\u5143\u7d20\u5bf9\u8c61(\u5bf9\u5e94\u4e8eget(intindex)\u65b9\u6cd5)\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5185\u5b58\u7a7a\u95f4\u5360\u7528"),"\uff1aArrayList\u7684\u7a7a\u95f4\u6d6a\u8d39\u4e3b\u8981\u4f53\u73b0\u5728\u5728list\u5217\u8868\u7684\u7ed3\u5c3e\u4f1a\u9884\u7559\u4e00\u5b9a\u7684\u5bb9\u91cf\u7a7a\u95f4\uff0c\u800cLinkedList\u7684\u7a7a\u95f4\u82b1\u8d39\u5219\u4f53\u73b0\u5728\u5b83\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u90fd\u9700\u8981\u6d88\u8017\u6bd4ArrayList\u66f4\u591a\u7684\u7a7a\u95f4\uff08\u56e0\u4e3a\u8981\u5b58\u653e\u76f4\u63a5\u540e\u7ee7\u548c\u76f4\u63a5\u524d\u9a71\u4ee5\u53ca\u6570\u636e\uff09\u3002")),(0,l.kt)("h3",{id:"hashmap\u548chashtable\u6709\u4ec0\u4e48\u533a\u522b"},"HashMap\u548cHashTable\u6709\u4ec0\u4e48\u533a\u522b"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"HashMap"),"\u53ef\u4ee5\u63a5\u53d7\u4e3anull\u7684key\u548cvalue\uff0ckey\u4e3anull\u7684\u952e\u503c\u5bf9\u653e\u5728\u4e0b\u6807\u4e3a0\u7684\u5934\u7ed3\u70b9\u7684\u94fe\u8868\u4e2d\uff0c\u800c",(0,l.kt)("strong",{parentName:"li"},"Hashtable"),"\u5219\u4e0d\u884c\u3002"),(0,l.kt)("li",{parentName:"ol"},"HashMap\u662f",(0,l.kt)("strong",{parentName:"li"},"\u975e\u7ebf\u7a0b\u5b89\u5168"),"\u7684\uff0cHashTable\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\u3002Jdk1.5\u63d0\u4f9b\u4e86",(0,l.kt)("strong",{parentName:"li"},"ConcurrentHashMap"),"\uff0c\u5b83\u662fHashTable\u7684\u66ff\u4ee3\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"Hashtable"),"\u5f88\u591a\u65b9\u6cd5\u662f",(0,l.kt)("strong",{parentName:"li"},"\u540c\u6b65"),"\u65b9\u6cd5\uff0c\u5728\u5355\u7ebf\u7a0b\u73af\u5883\u4e0b\u5b83\u6bd4HashMap\u8981\u6162\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u54c8\u5e0c\u503c\u7684\u4f7f\u7528"),"\u4e0d\u540c\uff0cHashTable\u76f4\u63a5\u4f7f\u7528\u5bf9\u8c61\u7684hashCode\u3002\u800cHashMap\u91cd\u65b0\u8ba1\u7b97hash\u503c\u3002")),(0,l.kt)("h3",{id:"concurrenthashmap-\u548c-hashtable-\u7684\u533a\u522b"},"ConcurrentHashMap \u548c Hashtable \u7684\u533a\u522b"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ConcurrentHashMap")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"Hashtable")," \u7684\u533a\u522b\u4e3b\u8981\u4f53\u73b0\u5728\u5b9e\u73b0\u7ebf\u7a0b\u5b89\u5168\u7684\u65b9\u5f0f\u4e0a\u4e0d\u540c\u3002"),(0,l.kt)("p",null,"\u5e95\u5c42\u6570\u636e\u7ed3\u6784\uff1aJDK1.7\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"ConcurrentHashMap"),"\u5e95\u5c42\u91c7\u7528",(0,l.kt)("strong",{parentName:"p"},"\u5206\u6bb5\u7684\u6570\u7ec4+\u94fe\u8868"),"\u5b9e\u73b0\uff0cJDK1.8\u91c7\u7528\u7684\u6570\u636e\u7ed3\u6784\u8ddf ",(0,l.kt)("inlineCode",{parentName:"p"},"HashMap1.8"),"\u7684\u7ed3\u6784\u4e00\u6837\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u6570\u7ec4+\u94fe\u8868/\u7ea2\u9ed1\u4e8c\u53c9\u6811"),"\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"Hashtable"),"\u548cJDK1.8\u4e4b\u524d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"HashMap"),"\u7684\u5e95\u5c42\u6570\u636e\u7ed3\u6784\u7c7b\u4f3c\u90fd\u662f\u91c7\u7528\u6570\u7ec4+\u94fe\u8868\u7684\u5f62\u5f0f\uff0c\u6570\u7ec4\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"HashMap"),"\u7684\u4e3b\u4f53\uff0c\u94fe\u8868\u5219\u662f\u4e3b\u8981\u4e3a\u4e86\u89e3\u51b3\u54c8\u5e0c\u51b2\u7a81\u800c\u5b58\u5728\u7684\uff1b"),(0,l.kt)("p",null,"\u5b9e\u73b0\u7ebf\u7a0b\u5b89\u5168\u7684\u65b9\u5f0f\uff08\u91cd\u8981\uff09\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5728JDK1.7\u7684\u65f6\u5019\uff0cConcurrentHashMap\uff08\u5206\u6bb5\u9501\uff09\u5bf9\u6574\u4e2a\u6876\u6570\u7ec4\u8fdb\u884c\u4e86\u5206\u5272\u5206\u6bb5(Segment)\uff0c\u6bcf\u4e00\u628a\u9501\u53ea\u9501\u5bb9\u5668\u5176\u4e2d\u4e00\u90e8\u5206\u6570\u636e\uff0c\u591a\u7ebf\u7a0b\u8bbf\u95ee\u5bb9\u5668\u91cc\u4e0d\u540c\u6570\u636e\u6bb5\u7684\u6570\u636e\uff0c\u5c31\u4e0d\u4f1a\u5b58\u5728\u9501\u7ade\u4e89\uff0c\u63d0\u9ad8\u5e76\u53d1\u8bbf\u95ee\u7387\u3002\u5230\u4e86JDK1.8\u7684\u65f6\u5019\u5df2\u7ecf\u6452\u5f03\u4e86Segment\u7684\u6982\u5ff5\uff0c\u800c\u662f\u76f4\u63a5\u7528Node\u6570\u7ec4+\u94fe\u8868+\u7ea2\u9ed1\u6811\u7684\u6570\u636e\u7ed3\u6784\u6765\u5b9e\u73b0\uff0c\u5e76\u53d1\u63a7\u5236\u4f7f\u7528synchronized\u548cCAS\u6765\u64cd\u4f5c\u3002\uff08JDK1.6\u4ee5\u540e\u5bf9synchronized\u9501\u505a\u4e86\u5f88\u591a\u4f18\u5316\uff09\u6574\u4e2a\u770b\u8d77\u6765\u5c31\u50cf\u662f\u4f18\u5316\u8fc7\u4e14\u7ebf\u7a0b\u5b89\u5168\u7684HashMap\uff0c\u867d\u7136\u5728JDK1.8\u4e2d\u8fd8\u80fd\u770b\u5230Segment\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4f46\u662f\u5df2\u7ecf\u7b80\u5316\u4e86\u5c5e\u6027\uff0c\u53ea\u662f\u4e3a\u4e86\u517c\u5bb9\u65e7\u7248\u672c\uff1b"),(0,l.kt)("li",{parentName:"ol"},"HashTable\u548cHashMap\u7684\u5b9e\u73b0\u539f\u7406\u51e0\u4e4e\u4e00\u6837\uff0c\u5dee\u522b\u65e0\u975e\u662f",(0,l.kt)("strong",{parentName:"li"},"1.HashTable\u4e0d\u5141\u8bb8key\u548cvalue\u4e3anull\uff1b2.HashTable\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\u3002"),"\u4f46\u662fHashTable\u7ebf\u7a0b\u5b89\u5168\u7684\u7b56\u7565\u5b9e\u73b0\u4ee3\u4ef7\u5374\u592a\u5927\u4e86\uff0c\u7b80\u5355\u7c97\u66b4\uff0cget/put\u6240\u6709\u76f8\u5173\u64cd\u4f5c\u90fd\u662fsynchronized\u7684\uff0c\u8fd9\u76f8\u5f53\u4e8e\u7ed9\u6574\u4e2a\u54c8\u5e0c\u8868\u52a0\u4e86\u4e00\u628a",(0,l.kt)("strong",{parentName:"li"},"\u5927\u9501"),"\uff0c\u591a\u7ebf\u7a0b\u8bbf\u95ee\u65f6\u5019\uff0c\u53ea\u8981\u6709\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u6216\u64cd\u4f5c\u8be5\u5bf9\u8c61\uff0c\u90a3\u5176\u4ed6\u7ebf\u7a0b\u53ea\u80fd\u963b\u585e\uff0c\u76f8\u5f53\u4e8e\u5c06\u6240\u6709\u7684\u64cd\u4f5c",(0,l.kt)("strong",{parentName:"li"},"\u4e32\u884c\u5316"),"\uff0c\u5728\u7ade\u4e89\u6fc0\u70c8\u7684\u5e76\u53d1\u573a\u666f\u4e2d\u6027\u80fd\u5c31\u4f1a\u975e\u5e38\u5dee\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220606221411976",src:n(39140).Z,width:"1692",height:"1264"})),(0,l.kt)("p",null,"JDK1.7 \u7684 ConcurrentHashMap\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220606221435298",src:n(66080).Z,width:"1798",height:"944"})),(0,l.kt)("p",null,"JDK1.8 \u7684 ConcurrentHashMap\uff1a\nJDK1.8 \u7684 ConcurrentHashMap \u4e0d\u5728\u662f Segment \u6570\u7ec4 + HashEntry \u6570\u7ec4 + \u94fe\u8868\uff0c\u800c\u662f Node \u6570\u7ec4 + \u94fe\u8868 / \u7ea2\u9ed1\u6811\u3002\u4e0d\u8fc7\uff0cNode \u53ea\u80fd\u7528\u4e8e\u94fe\u8868\u7684\u60c5\u51b5\uff0c\u7ea2\u9ed1\u6811\u7684\u60c5\u51b5\u9700\u8981\u4f7f\u7528 TreeNode \u3002\u5f53\u51b2\u7a81\u94fe\u8868\u8fbe\u5230\u4e00\u5b9a\u2ed3\u5ea6\u65f6\uff0c\u94fe\u8868\u4f1a\u8f6c\u6362\u6210\u7ea2\u9ed1\u6811\u3002"),(0,l.kt)("h3",{id:"concurrenthashmap\u7ebf\u7a0b\u5b89\u5168\u7684\u5177\u4f53\u5b9e\u73b0\u65b9\u5f0f\u5e95\u5c42\u5177\u4f53\u5b9e\u73b0"},"\u2b50ConcurrentHashMap\u7ebf\u7a0b\u5b89\u5168\u7684\u5177\u4f53\u5b9e\u73b0\u65b9\u5f0f/\u5e95\u5c42\u5177\u4f53\u5b9e\u73b0"),(0,l.kt)("h4",{id:"jdk17"},"JDK1.7"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220606221435298",src:n(66080).Z,width:"1798",height:"944"})),(0,l.kt)("p",null,"\u9996\u5148\u5c06\u6570\u636e\u5206\u4e3a\u4e00\u6bb5\u4e00\u6bb5\u7684\u5b58\u50a8\uff0c\u7136\u540e\u7ed9\u6bcf\u4e00\u6bb5\u6570\u636e\u914d\u4e00\u628a\u9501\uff0c\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u5360\u7528\u9501\u8bbf\u95ee\u5176\u4e2d\u4e00\u4e2a\u6bb5\u6570\u636e\u65f6\uff0c\u5176\u4ed6\u6bb5\u7684\u6570\u636e\u4e5f\u80fd\u88ab\u5176\u4ed6\u7ebf\u7a0b\u8bbf\u95ee\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ConcurrentHashMap")," \u662f\u7531 ",(0,l.kt)("inlineCode",{parentName:"p"},"Segment "),"\u6570\u7ec4\u7ed3\u6784\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"HashEntry")," \u6570\u7ec4\u7ed3\u6784\u7ec4\u6210\u3002"),(0,l.kt)("p",null,"Segment\u5b9e\u73b0\u4e86ReentrantLock,\u6240\u4ee5Segment\u662f\u4e00\u79cd\u53ef\u91cd\u5165\u9501\uff0c\u626e\u6f14\u9501\u7684\u2ec6\u8272\u3002HashEntry\u7528\u4e8e\u5b58\u50a8\u952e\u503c\u5bf9\u6570\u636e\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-JAVA"},"static class Segment<K,V> extends ReentrantLock implements Serializable {\n}\n")),(0,l.kt)("p",null,"\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"ConcurrentHashMap"),"\u91cc\u5305\u542b\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"Segment"),"\u6570\u7ec4\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"Segment"),"\u7684\u7ed3\u6784\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"HashMap"),"\u7c7b\u4f3c\uff0c\u662f\u4e00\u79cd\u6570\u7ec4\u548c\u94fe\u8868\u7ed3\u6784\uff0c\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"Segment"),"\u5305\u542b\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"HashEntry"),"\u6570\u7ec4\uff0c\u6bcf\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"HashEntry"),"\u662f\u4e00\u4e2a\u94fe\u8868\u7ed3\u6784\u7684\u5143\u7d20\uff0c\u6bcf\u4e2aSegment\u5b88\u62a4\u7740\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"HashEntry"),"\u6570\u7ec4\u91cc\u7684\u5143\u7d20\uff0c\u5f53\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"p"},"HashEntry"),"\u6570\u7ec4\u7684\u6570\u636e\u8fdb\u884c\u4fee\u6539\u65f6\uff0c\u5fc5\u987b\u9996\u5148\u83b7\u5f97\u5bf9\u5e94\u7684Segment\u7684\u9501\u3002"),(0,l.kt)("h4",{id:"jdk18"},"JDK1.8"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220606222144072",src:n(22547).Z,width:"732",height:"276"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ConcurrentHashMap"),"\u53d6\u6d88\u4e86Segment\u5206\u6bb5\u9501\uff0c\u91c7\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"CAS"),"\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"synchronized"),"\u6765\u4fdd\u8bc1\u5e76\u53d1\u5b89\u5168\u3002\u6570\u636e\u7ed3\u6784\u8ddf ",(0,l.kt)("inlineCode",{parentName:"p"},"HashMap1.8"),"\u7684\u7ed3\u6784\u7c7b\u4f3c\uff0c\u6570\u7ec4+\u94fe\u8868/\u7ea2\u9ed1\u4e8c\u53c9\u6811\u3002Java 8\u5728\u94fe\u8868\u2ed3\u5ea6\u8d85\u8fc7\u4e00\u5b9a\u9608\u503c\uff088\uff09\u65f6\u5c06\u94fe\u8868\uff08\u5bfb\u5740\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(N)\uff09\u8f6c\u6362\u4e3a\u7ea2\u9ed1\u6811\uff08\u5bfb\u5740\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(log(N))\uff09synchronized\u53ea\u9501\u5b9a\u5f53\u524d\u94fe\u8868\u6216\u7ea2\u9ed1\u4e8c\u53c9\u6811\u7684\u9996\u8282\u70b9\uff0c\u8fd9\u6837\u53ea\u8981hash\u4e0d\u51b2\u7a81\uff0c\u5c31\u4e0d\u4f1a\u4ea7\u751f\u5e76\u53d1\uff0c\u6548\u7387\u53c8\u63d0\u5347N\u500d\u3002"),(0,l.kt)("h3",{id:"\u8bf4\u4e00\u8bf4java\u53cd\u5c04"},"\u8bf4\u4e00\u8bf4Java\u53cd\u5c04\uff1f"),(0,l.kt)("p",null,"\u53cd\u5c04\u662f\u5728\u8fd0\u884c\u72b6\u6001\u4e2d\uff0c\u5bf9\u4e8e\u4efb\u610f\u4e00\u4e2a\u7c7b\uff0c\u90fd\u80fd\u591f\u77e5\u9053\u8fd9\u4e2a\u7c7b\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff1b\u5bf9\u4e8e\u4efb\u610f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u90fd\u80fd\u591f\u8c03\u7528\u5b83\u7684\u4efb\u610f\u4e00\u4e2a\u65b9\u6cd5\u548c\u5c5e\u6027\uff1b\u8fd9\u79cd\u52a8\u6001\u83b7\u53d6\u7684\u4fe1\u606f\u4ee5\u53ca\u52a8\u6001\u8c03\u7528\u5bf9\u8c61\u7684\u65b9\u6cd5\u7684\u529f\u80fd\u79f0\u4e3a Java \u8bed\u8a00\u7684\u53cd\u5c04\u673a\u5236\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4f18\u70b9\uff1a\u80fd\u591f\u8fd0\u884c\u65f6\u52a8\u6001\u83b7\u53d6\u7c7b\u7684\u5b9e\u4f8b\uff0c\u63d0\u9ad8\u7075\u6d3b\u6027\uff1b\u53ef\u4e0e\u52a8\u6001\u7f16\u8bd1\u7ed3\u5408",(0,l.kt)("inlineCode",{parentName:"li"},"Class.forName('com.mysql.jdbc.Driver.class');"),"\uff0c\u52a0\u8f7d",(0,l.kt)("a",{parentName:"li",href:"https://www.wkcto.com/courses/mysql.html"},"MySQL"),"\u7684\u9a71\u52a8\u7c7b\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7f3a\u70b9\uff1a\u4f7f\u7528\u53cd\u5c04\u6027\u80fd\u8f83\u4f4e\uff0c\u9700\u8981\u89e3\u6790\u5b57\u8282\u7801\uff0c\u5c06\u5185\u5b58\u4e2d\u7684\u5bf9\u8c61\u8fdb\u884c\u89e3\u6790\u3002\u5176\u89e3\u51b3\u65b9\u6848\u662f\uff1a\u901a\u8fc7setAccessible(true)\u5173\u95edJDK\u7684\u5b89\u5168\u68c0\u67e5\u6765\u63d0\u5347\u53cd\u5c04\u901f\u5ea6\uff1b\u591a\u6b21\u521b\u5efa\u4e00\u4e2a\u7c7b\u7684\u5b9e\u4f8b\u65f6\uff0c\u6709\u7f13\u5b58\u4f1a\u5feb\u5f88\u591a\uff1bReflflectASM\u5de5\u5177\u7c7b\uff0c\u901a\u8fc7\u5b57\u8282\u7801\u751f\u6210\u7684\u65b9\u5f0f\u52a0\u5feb\u53cd\u5c04\u901f\u5ea6\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5e94\u7528\u573a\u666f")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"JDBC\u8fde\u63a5\u6570\u636e\u5e93\u65f6\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"li"},"Class.forName()"),"\u901a\u8fc7\u53cd\u5c04\u52a0\u8f7d\u6570\u636e\u5e93\u7684\u9a71\u52a8\u7a0b\u5e8f"),(0,l.kt)("li",{parentName:"ol"},"Eclispe\u3001IDEA\u7b49\u5f00\u53d1\u5de5\u5177\u5229\u7528\u53cd\u5c04\u52a8\u6001\u89e3\u6790\u5bf9\u8c61\u7684\u7c7b\u578b\u4e0e\u7ed3\u6784\uff0c\u52a8\u6001\u63d0\u793a\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5"),(0,l.kt)("li",{parentName:"ol"},"Web\u670d\u52a1\u5668\u4e2d\u5229\u7528\u53cd\u5c04\u8c03\u7528\u4e86Sevlet\u7684",(0,l.kt)("inlineCode",{parentName:"li"},"service"),"\u65b9\u6cd5"),(0,l.kt)("li",{parentName:"ol"},"JDK\u52a8\u6001\u4ee3\u7406\u5e95\u5c42\u4f9d\u8d56\u53cd\u5c04\u5b9e\u73b0")),(0,l.kt)("h2",{id:"-java\u5e76\u53d1"},"\ud83d\udd59 Java\u5e76\u53d1"),(0,l.kt)("h3",{id:"\u8bf7\u7b80\u8981\u63cf\u8ff0\u7ebf\u7a0b\u4e0e\u8fdb\u7a0b\u7684\u5173\u7cfb\u533a\u522b\u53ca\u4f18\u7f3a\u70b9"},"\u8bf7\u7b80\u8981\u63cf\u8ff0\u7ebf\u7a0b\u4e0e\u8fdb\u7a0b\u7684\u5173\u7cfb,\u533a\u522b\u53ca\u4f18\u7f3a\u70b9\uff1f"),(0,l.kt)("h4",{id:"\u56fe\u89e3\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u5173\u7cfb"},"\u56fe\u89e3\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u5173\u7cfb"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220607152830775",src:n(13703).Z,width:"778",height:"640"})),(0,l.kt)("p",null,"\u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff1a\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u53ef\u4ee5\u6709\u591a\u4e2a\u7ebf\u7a0b\uff0c\u591a\u4e2a\u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684",(0,l.kt)("strong",{parentName:"p"},"\u5806\u548c\u65b9\u6cd5\u533a(JDK1.8\u4e4b\u540e\u7684\u5143\u7a7a\u95f4)"),"\u8d44\u6e90\uff0c\u4f46\u662f\u6bcf\u4e2a\u7ebf\u7a0b\u6709\u81ea\u5df1\u7684",(0,l.kt)("strong",{parentName:"p"},"\u7a0b\u5e8f\u8ba1\u6570\u5668\u3001\u865a\u62df\u673a\u6808\u548c\u672c\u5730\u65b9\u6cd5\u6808"),"\u3002"),(0,l.kt)("p",null,"\u603b\u7ed3\uff1a\u7ebf\u7a0b\u662f\u8fdb\u7a0b\u5212\u5206\u6210\u7684\u66f4\u5c0f\u7684\u8fd0\u884c\u5355\u4f4d\u3002\u7ebf\u7a0b\u548c\u8fdb\u7a0b\u6700\u5927\u7684\u4e0d\u540c\u5728\u4e8e\u57fa\u672c\u4e0a\u5404\u8fdb\u7a0b\u662f\u72ec\u7acb\u7684\uff0c\u800c\u5404\u7ebf\u7a0b\u5219\u4e0d\u4e00\u5b9a\uff0c\u56e0\u4e3a\u540c\u4e00\u8fdb\u7a0b\u4e2d\u7684\u7ebf\u7a0b\u6781\u6709\u53ef\u80fd\u4f1a\u76f8\u4e92\u5f71\u54cd\u3002\u7ebf\u7a0b\u6267\u884c\u5f00\u9500\u5c0f\uff0c\u4f46\u4e0d\u5229\u4e8e\u8d44\u6e90\u7684\u7ba1\u7406\u548c\u4fdd\u62a4\uff1b\u800c\u8fdb\u7a0b\u6b63\u76f8\u53cd"),(0,l.kt)("h4",{id:"\u7a0b\u5e8f\u8ba1\u6570\u5668\u4e3a\u4ec0\u4e48\u662f\u79c1\u6709\u7684"},"\u7a0b\u5e8f\u8ba1\u6570\u5668\u4e3a\u4ec0\u4e48\u662f\u79c1\u6709\u7684?"),(0,l.kt)("p",null,"\u7a0b\u5e8f\u8ba1\u6570\u5668\u4e3b\u8981\u6709\u4e0b\u9762\u4e24\u4e2a\u4f5c\u7528\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5b57\u8282\u7801\u89e3\u91ca\u5668\u901a\u8fc7\u6539\u53d8\u7a0b\u5e8f\u8ba1\u6570\u5668\u6765\u4f9d\u6b21\u8bfb\u53d6\u6307\u4ee4\uff0c\u4ece\u800c\u5b9e\u73b0\u4ee3\u7801\u7684\u6d41\u7a0b\u63a7\u5236\uff0c\u5982\uff1a\u987a\u5e8f\u6267\n\u884c\u3001\u9009\u62e9\u3001\u5faa\u73af\u3001\u5f02\u5e38\u5904\u7406\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5728\u591a\u7ebf\u7a0b\u7684\u60c5\u51b5\u4e0b\uff0c\u7a0b\u5e8f\u8ba1\u6570\u5668\u7528\u4e8e\u8bb0\u5f55\u5f53\u524d\u7ebf\u7a0b\u6267\u884c\u7684\u4f4d\u7f6e\uff0c\u4ece\u800c\u5f53\u7ebf\u7a0b\u88ab\u5207\u6362\u56de\u6765\u7684\u65f6\n\u5019\u80fd\u591f\u77e5\u9053\u8be5\u7ebf\u7a0b\u4e0a\u6b21\u8fd0\u884c\u5230\u54ea\u513f\u4e86\u3002")),(0,l.kt)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u6267\u884c\u7684\u662fnative\u65b9\u6cd5\uff0c\u90a3\u4e48\u7a0b\u5e8f\u8ba1\u6570\u5668\u8bb0\u5f55\u7684\u662fundefined\u5730\u5740\uff0c\u53ea\u6709\u6267\u884c\u7684\u662fJava\u4ee3\u7801\u65f6\u7a0b\u5e8f\u8ba1\u6570\u5668\u8bb0\u5f55\u7684\u624d\u662f\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u3002\u6240\u4ee5\uff0c\u7a0b\u5e8f\u8ba1\u6570\u5668\u79c1\u6709\u4e3b\u8981\u662f\u4e3a\u4e86\u7ebf\u7a0b\u5207\u6362\u540e\u80fd\u6062\u590d\u5230\u6b63\u786e\u7684\u6267\u884c\u4f4d\u7f6e\u3002"),(0,l.kt)("h4",{id:"\u865a\u62df\u673a\u6808\u548c\u672c\u5730\u65b9\u6cd5\u6808\u4e3a\u4ec0\u4e48\u662f\u79c1\u6709\u7684"},"\u865a\u62df\u673a\u6808\u548c\u672c\u5730\u65b9\u6cd5\u6808\u4e3a\u4ec0\u4e48\u662f\u79c1\u6709\u7684?"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u865a\u62df\u673a\u6808\uff1a\u6bcf\u4e2aJava\u65b9\u6cd5\u5728\u6267\u884c\u7684\u540c\u65f6\u4f1a\u521b\u5efa\u4e00\u4e2a\u6808\u5e27\u7528\u4e8e\u5b58\u50a8\u5c40\u90e8\u53d8\u91cf\u8868\u3001\u64cd\u4f5c\u6570\u6808\u3001\u5e38\u91cf\u6c60\u5f15\u7528\u7b49\u4fe1\u606f\u3002\u4ece\u65b9\u6cd5\u8c03\u7528\u76f4\u81f3\u6267\u884c\u5b8c\u6210\u7684\u8fc7\u7a0b\uff0c\u5c31\u5bf9\u5e94\u7740\u4e00\u4e2a\u6808\u5e27\u5728Java\u865a\u62df\u673a\u6808\u4e2d\u5165\u6808\u548c\u51fa\u6808\u7684\u8fc7\u7a0b\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u672c\u5730\u65b9\u6cd5\u6808\uff1a\u548c\u865a\u62df\u673a\u6808\u6240\u53d1\u6325\u7684\u4f5c\u7528\u975e\u5e38\u76f8\u4f3c\uff0c\u533a\u522b\u662f\uff1a\u865a\u62df\u673a\u6808\u4e3a\u865a\u62df\u673a\u6267\u884cJava\u65b9\u6cd5\uff08\u4e5f\u5c31\u662f\u5b57\u8282\u7801\uff09\u670d\u52a1\uff0c\u800c\u672c\u5730\u65b9\u6cd5\u6808\u5219\u4e3a\u865a\u62df\u673a\u4f7f\u7528\u5230\u7684Native\u65b9\u6cd5\u670d\u52a1\u3002\u5728HotSpot\u865a\u62df\u673a\u4e2d\u548cJava\u865a\u62df\u673a\u6808\u5408\u4e8c\u4e3a\u4e00\u3002")),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u7ebf\u7a0b\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf\u4e0d\u88ab\u522b\u7684\u7ebf\u7a0b\u8bbf\u95ee\u5230\uff0c\u865a\u62df\u673a\u6808\u548c\u672c\u5730\u65b9\u6cd5\u6808\u662f\u7ebf\u7a0b\u79c1\u6709\u7684\u3002"),(0,l.kt)("h4",{id:"\u4e00\u53e5\u8bdd\u7b80\u5355\u4e86\u89e3\u5806\u548c\u65b9\u6cd5\u533a"},"\u4e00\u53e5\u8bdd\u7b80\u5355\u4e86\u89e3\u5806\u548c\u65b9\u6cd5\u533a"),(0,l.kt)("p",null,"\u5806\u548c\u65b9\u6cd5\u533a\u662f\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\u7684\u8d44\u6e90\uff0c\u5176\u4e2d\u5806\u662f\u8fdb\u7a0b\u4e2d\u6700\u5927\u7684\u4e00\u5757\u5185\u5b58\uff0c\u4e3b\u8981\u7528\u4e8e\u5b58\u653e\u65b0\u521b\u5efa\u7684\u5bf9\u8c61(\u6240\u6709\u5bf9\u8c61\u90fd\u5728\u8fd9\u91cc\u5206\u914d\u5185\u5b58)\uff0c\u65b9\u6cd5\u533a\u4e3b\u8981\u7528\u4e8e\u5b58\u653e\u5df2\u88ab\u52a0\u8f7d\u7684\u7c7b\u4fe1\u606f\u3001\u5e38\u91cf\u3001\u9759\u6001\u53d8\u91cf\u3001\u5373\u65f6\u7f16\u8bd1\u5668\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u7b49\u6570\u636e\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u7cbe\u7b80\u7248")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8fdb\u7a0b\u662f\u7cfb\u7edf\u8d44\u6e90\u5206\u914d\u548c\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d"),"\uff0c\u5b83\u80fd\u5e76\u53d1\u6267\u884c\u8f83\u9ad8\u7cfb\u7edf\u8d44\u6e90\u7684\u5229\u7528\u7387."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7ebf\u7a0b"),"\u662f",(0,l.kt)("strong",{parentName:"p"},"\u6bd4\u8fdb\u7a0b\u66f4\u5c0f"),"\u7684\u80fd\u72ec\u7acb\u8fd0\u884c\u7684\u57fa\u672c\u5355\u4f4d,\u521b\u5efa\u3001\u9500\u6bc1\u3001\u5207\u6362\u6210\u672c\u8981\u5c0f\u4e8e\u8fdb\u7a0b,\u53ef\u4ee5\u51cf\u5c11\u7a0b\u5e8f\u5e76\u53d1\u6267\u884c\u65f6\u7684\u65f6\u95f4\u548c\u7a7a\u95f4\u5f00\u9500\uff0c\u4f7f\u5f97\u64cd\u4f5c\u7cfb\u7edf\u5177\u6709\u66f4\u597d\u7684\u5e76\u53d1\u6027\u3002"),(0,l.kt)("h3",{id:"java\u7ebf\u7a0b\u7684\u521b\u5efa\u65b9\u5f0f"},"Java\u7ebf\u7a0b\u7684\u521b\u5efa\u65b9\u5f0f"),(0,l.kt)("p",null,"\u6709",(0,l.kt)("strong",{parentName:"p"},"\u56db\u79cd"),"\u65b9\u5f0f\u53ef\u4ee5\u7528\u6765\u521b\u5efa\u7ebf\u7a0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7ee7\u627f",(0,l.kt)("strong",{parentName:"li"},"Thread"),"\u7c7b"),(0,l.kt)("li",{parentName:"ul"},"\u5b9e\u73b0",(0,l.kt)("strong",{parentName:"li"},"Runnable"),"\u63a5\u53e3"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Callable"),"\u548c",(0,l.kt)("strong",{parentName:"li"},"FutureTask"),"\u521b\u5efa\u7ebf\u7a0b\uff1a\u4e3a\u4e86\u89e3\u51b3\u5f02\u6b65\u6267\u884c\u7684\u7ed3\u679c\u95ee\u9898\uff0cJava\u8bed\u8a00\u57281.5\u7248\u672c\u4e4b\u540e\u63d0\u4f9b\u4e86\u4e00\u79cd\u65b0\u7684\u591a\u7ebf\u7a0b\u521b\u5efa\u65b9\u6cd5\uff1a\u901a\u8fc7Callable\u63a5\u53e3\u548cFutureTask\u7c7b\u76f8\u7ed3\u5408\u521b\u5efa\u7ebf\u7a0b\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7ebf\u7a0b\u6c60"),"\u521b\u5efa\u7ebf\u7a0b",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u4f7f\u7528Executors\u521b\u5efa\u7ebf\u7a0b\u6c60")))),(0,l.kt)("p",null,"\u5b9e\u73b0Runnable\u63a5\u53e3\u8fd9\u79cd\u65b9\u5f0f\u66f4\u53d7\u6b22\u8fce\uff0c\u56e0\u4e3a\u8fd9\u4e0d\u9700\u8981\u7ee7\u627fThread\u7c7b\u3002\u5728\u5e94\u7528\u8bbe\u8ba1\u4e2d\u5df2\u7ecf\u7ee7\u627f\u4e86\u522b\u7684\u5bf9\u8c61\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd9\u9700\u8981\u591a\u7ee7\u627f\uff08\u800cJava\u4e0d\u652f\u6301\u591a\u7ee7\u627f\uff09\uff0c\u53ea\u80fd\u5b9e\u73b0\u63a5\u53e3\u3002\u540c\u65f6\uff0c\u7ebf\u7a0b\u6c60\u4e5f\u662f\u975e\u5e38\u9ad8\u6548\u7684\uff0c\u5f88\u5bb9\u6613\u5b9e\u73b0\u548c\u4f7f\u7528\u3002"),(0,l.kt)("h3",{id:"jmm-\u662f\u4ec0\u4e48"},"JMM \u662f\u4ec0\u4e48\uff1f"),(0,l.kt)("p",null,"\u7f51\u4e0a\u7684\u6982\u5ff5\u9c7c\u9f99\u6df7\u6742\uff0c\u7b14\u8005\u76f4\u63a5\u6458\u5f55\u90e8\u5206\u300aJava\u9ad8\u5e76\u53d1\u6838\u5fc3\u7f16\u7a0b\u300b\u548c\u300aJava\u5e76\u53d1\u7f16\u7a0b\u7684\u827a\u672f\u300b\u4e2d\u7684\u4ecb\u7ecd\uff1a"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"JMM\uff08Java Memory Model and Thread Specification\uff09\uff1a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7ebf\u7a0b\u5bf9\u5171\u4eab\u53d8\u91cf\u5199\u5165\u65f6\uff0c\u5982\u4f55\u786e\u4fdd\u5bf9\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u662f\u53ef\u89c1\u7684\u3002\u5b9e\u9645\u4e0a\uff0cJMM\u63d0\u4f9b\u4e86\u5408\u7406\u7684\u7981\u7528\u7f13\u5b58\u4ee5\u53ca\u7981\u6b62\u91cd\u6392\u5e8f\u7684\u65b9\u6cd5\uff0c\u6240\u4ee5\u5176\u6838\u5fc3\u7684\u4ef7\u503c\u5728\u4e8e\u89e3\u51b3\u53ef\u89c1\u6027\u548c\u6709\u5e8f\u6027\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"Java\u5185\u5b58\u6a21\u578b\u89c4\u5b9a\u6240\u6709\u7684\u53d8\u91cf\u90fd\u5b58\u50a8\u5728\u4e3b\u5b58\u4e2d\uff0cJMM\u7684\u4e3b\u5b58\u7c7b\u4f3c\u4e8e\u7269\u7406\u5185\u5b58\uff0c\u4f46\u6709\u533a\u522b\uff0c\u8fd8\u80fd\u5305\u542b\u90e8\u5206\u5171\u4eab\u7f13\u5b58\u3002\u6bcf\u4e2aJava\u7ebf\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u5de5\u4f5c\u5185\u5b58\uff08\u7c7b\u4f3c\u4e8eCPU\u9ad8\u901f\u7f13\u5b58\uff0c\u4f46\u4e5f\u6709\u533a\u522b\uff09\n")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u4e3b\u5b58\uff1a\u4e3b\u8981\u5b58\u50a8\u7684\u662fJava\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u6240\u6709\u7ebf\u7a0b\u521b\u5efa\u7684\u5b9e\u4f8b\u5bf9\u8c61\u90fd\u5b58\u653e\u5728\u4e3b\u5b58\u4e2d\uff0c\u65e0\u8bba\u8be5\u5b9e\u4f8b\u5bf9\u8c61\u662f\u6210\u5458\u53d8\u91cf\u8fd8\u662f\u65b9\u6cd5\u4e2d\u7684\u672c\u5730\u53d8\u91cf\uff08\u4e5f\u79f0\u5c40\u90e8\u53d8\u91cf\uff09\uff0c\u5f53\u7136\u4e5f\u5305\u62ec\u5171\u4eab\u7684\u7c7b\u4fe1\u606f\u3001\u5e38\u91cf\u3001\u9759\u6001\u53d8\u91cf\u3002\u7531\u4e8e\u662f\u5171\u4eab\u6570\u636e\u533a\u57df\uff0c\u56e0\u6b64\u591a\u6761\u7ebf\u7a0b\u5bf9\u540c\u4e00\u4e2a\u53d8\u91cf\u8fdb\u884c\u8bbf\u95ee\u53ef\u80fd\u4f1a\u53d1\u73b0\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5de5\u4f5c\u5185\u5b58\uff1a\u4e3b\u8981\u5b58\u50a8\u5f53\u524d\u65b9\u6cd5\u7684\u6240\u6709\u672c\u5730\u53d8\u91cf\u4fe1\u606f\uff08\u5de5\u4f5c\u5185\u5b58\u4e2d\u5b58\u50a8\u7740\u4e3b\u5b58\u4e2d\u7684\u53d8\u91cf\u526f\u672c\uff09\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u53ea\u80fd\u8bbf\u95ee\u81ea\u5df1\u7684\u5de5\u4f5c\u5185\u5b58\uff0c\u5373\u7ebf\u7a0b\u4e2d\u7684\u672c\u5730\u53d8\u91cf\u5bf9\u5176\u4ed6\u7ebf\u7a0b\u662f\u4e0d\u53ef\u89c1\u7684\uff0c\u5373\u4f7f\u4e24\u4e2a\u7ebf\u7a0b\u6267\u884c\u7684\u662f\u540c\u4e00\u6bb5\u4ee3\u7801\uff0c\u5b83\u4eec\u4e5f\u4f1a\u5404\u81ea\u5728\u81ea\u5df1\u7684\u5de5\u4f5c\u5185\u5b58\u4e2d\u521b\u5efa\u5c5e\u4e8e\u5f53\u524d\u7ebf\u7a0b\u7684\u672c\u5730\u53d8\u91cf\uff0c\u5f53\u7136\u4e5f\u5305\u62ec\u5b57\u8282\u7801\u884c\u53f7\u6307\u793a\u5668\u3001\u76f8\u5173Native\u65b9\u6cd5\u7684\u4fe1\u606f\u3002\u6ce8\u610f\uff0c\u7531\u4e8e\u5de5\u4f5c\u5185\u5b58\u662f\u6bcf\u4e2a\u7ebf\u7a0b\u7684\u79c1\u6709\u6570\u636e\uff0c\u7ebf\u7a0b\u95f4\u65e0\u6cd5\u76f8\u4e92\u8bbf\u95ee\u5de5\u4f5c\u5185\u5b58\uff0c\u56e0\u6b64\u5b58\u50a8\u5728\u5de5\u4f5c\u5185\u5b58\u7684\u6570\u636e\u4e0d\u5b58\u5728\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u3002")),(0,l.kt)("p",null,"JMM\u89c4\u5b9a\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u6240\u6709\u53d8\u91cf\u5b58\u50a8\u5728\u4e3b\u5b58\u4e2d"),(0,l.kt)("li",{parentName:"ol"},"\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u5de5\u4f5c\u5185\u5b58\uff0c\u4e14\u5bf9\u53d8\u91cf\u7684\u64cd\u4f5c\u90fd\u662f\u5728\u5de5\u4f5c\u5185\u5b58\u4e2d\u8fdb\u884c\u7684"),(0,l.kt)("li",{parentName:"ol"},"\u4e0d\u540c\u7ebf\u7a0b\u4e4b\u95f4\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee\u5f7c\u6b64\u5de5\u4f5c\u5185\u5b58\u4e2d\u7684\u53d8\u91cf\uff0c\u8981\u60f3\u8bbf\u95ee\u53ea\u80fd\u901a\u8fc7\u4e3b\u5b58\u6765\u4f20\u9012\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220624105619768",src:n(90037).Z,width:"957",height:"633"})),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"JMM\u5c06\u6240\u6709\u7684\u53d8\u91cf\u90fd\u5b58\u653e\u5728\u516c\u5171\u4e3b\u5b58\u4e2d\uff0c\u5f53\u7ebf\u7a0b\u4f7f\u7528\u53d8\u91cf\u65f6\uff0c\u4f1a\u628a\u516c\u5171\u4e3b\u5b58\u4e2d\u7684\u53d8\u91cf\u590d\u5236\u5230\u81ea\u5df1\u7684\u5de5\u4f5c\u5185\u5b58\uff08\u6216\u8005\u53eb\u4f5c\u79c1\u6709\u5185\u5b58\uff09\u4e2d\uff0c\u7ebf\u7a0b\u5bf9\u53d8\u91cf\u7684\u8bfb\u5199\u64cd\u4f5c\u662f\u81ea\u5df1\u7684\u5de5\u4f5c\u5185\u5b58\u4e2d\u7684\u53d8\u91cf\u526f\u672c\u3002\u56e0\u6b64\uff0cJMM\u6a21\u578b\u4e5f\u9700\u8981\u89e3\u51b3\u4ee3\u7801\u91cd\u6392\u5e8f\u548c\u7f13\u5b58\u53ef\u89c1\u6027\u95ee\u9898\u3002JMM\u63d0\u4f9b\u4e86\u4e00\u5957\u81ea\u5df1\u7684\u65b9\u6848\u53bb\u7981\u7528\u7f13\u5b58\u4ee5\u53ca\u7981\u6b62\u91cd\u6392\u5e8f\u6765\u89e3\u51b3\u8fd9\u4e9b\u53ef\u89c1\u6027\u548c\u6709\u5e8f\u6027\u95ee\u9898\u3002JMM\u63d0\u4f9b\u7684\u65b9\u6848\u5305\u62ec\u5927\u5bb6\u90fd\u5f88\u719f\u6089\u7684volatile\u3001synchronized\u3001final\u7b49\u3002JMM\u5b9a\u4e49\u4e86\u4e00\u4e9b\u5185\u5b58\u64cd\u4f5c\u7684\u62bd\u8c61\u6307\u4ee4\u96c6\uff0c\u7136\u540e\u5c06\u8fd9\u4e9b\u62bd\u8c61\u6307\u4ee4\u5305\u542b\u5230Java\u7684volatile\u3001synchronized\u7b49\u5173\u952e\u5b57\u7684\u8bed\u4e49\u4e2d\uff0c\u5e76\u8981\u6c42JVM\u5728\u5b9e\u73b0\u8fd9\u4e9b\u5173\u952e\u5b57\u65f6\u5fc5\u987b\u5177\u5907\u5176\u5305\u542b\u7684JMM\u62bd\u8c61\u6307\u4ee4\u7684\u80fd\u529b\u3002\n")),(0,l.kt)("p",null,"\u4e3e\u4e2a\ud83c\udf30 \u5982\u679c\u7ebf\u7a0bA\u4e0e\u7ebf\u7a0bB\u4e4b\u95f4\u8981\u901a\u4fe1\u7684\u8bdd\uff0c\u5fc5\u987b\u8981\u7ecf\u5386\u4e0b\u97622\u4e2a\u6b65\u9aa4\u3002"),(0,l.kt)("p",null,"1\uff09\u7ebf\u7a0bA\u628a\u672c\u5730\u5185\u5b58A\u4e2d\u66f4\u65b0\u8fc7\u7684\u5171\u4eab\u53d8\u91cf\u5237\u65b0\u5230\u4e3b\u5185\u5b58\u4e2d\u53bb\u3002"),(0,l.kt)("p",null,"2\uff09\u7ebf\u7a0bB\u5230\u4e3b\u5185\u5b58\u4e2d\u53bb\u8bfb\u53d6\u7ebf\u7a0bA\u4e4b\u524d\u5df2\u66f4\u65b0\u8fc7\u7684\u5171\u4eab\u53d8\u91cf\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220624112700211",src:n(67236).Z,width:"1095",height:"868"})),(0,l.kt)("p",null,"\u6ce8\u610f\uff0c\u6839\u636eJMM\u7684\u89c4\u5b9a\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u7ebf\u7a0b\u5bf9\u5171\u4eab\u53d8\u91cf\u7684\u6240\u6709\u64cd\u4f5c\u90fd\u5fc5\u987b\u5728\u81ea\u5df1\u7684\u672c\u5730\u5185\u5b58\u4e2d\u8fdb\u884c\uff0c\u4e0d\u80fd\u76f4\u63a5\u4ece\u4e3b\u5185\u5b58\u4e2d\u8bfb\u53d6"),"\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\u7ebf\u7a0bB\u5e76\u4e0d\u662f\u76f4\u63a5\u53bb\u4e3b\u5185\u5b58\u4e2d\u8bfb\u53d6\u5171\u4eab\u53d8\u91cf\u7684\u503c\uff0c\u800c\u662f\u5148\u5728\u672c\u5730\u5185\u5b58B\u4e2d\u627e\u5230\u8fd9\u4e2a\u5171\u4eab\u53d8\u91cf\uff0c\u53d1\u73b0\u8fd9\u4e2a\u5171\u4eab\u53d8\u91cf\u5df2\u7ecf\u88ab\u66f4\u65b0\u4e86\uff0c\u7136\u540e\u672c\u5730\u5185\u5b58B\u53bb\u4e3b\u5185\u5b58\u4e2d\u8bfb\u53d6\u8fd9\u4e2a\u5171\u4eab\u53d8\u91cf\u7684\u65b0\u503c\uff0c\u5e76\u62f7\u8d1d\u5230\u672c\u5730\u5185\u5b58B\u4e2d\uff0c\u6700\u540e\u7ebf\u7a0bB\u518d\u8bfb\u53d6\u672c\u5730\u5185\u5b58B\u4e2d\u7684\u65b0\u503c\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\u600e\u4e48\u77e5\u9053\u8fd9\u4e2a\u5171\u4eab\u53d8\u91cf\u7684\u88ab\u5176\u4ed6\u7ebf\u7a0b\u66f4\u65b0\u4e86\u5462\uff1f\u8fd9\u5c31\u662fJMM\u7684\u529f\u52b3\u4e86\uff0c\u4e5f\u662fJMM\u5b58\u5728\u7684\u5fc5\u8981\u6027\u4e4b\u4e00\u3002",(0,l.kt)("strong",{parentName:"p"},"JMM\u901a\u8fc7\u63a7\u5236\u4e3b\u5185\u5b58\u4e0e\u6bcf\u4e2a\u7ebf\u7a0b\u7684\u672c\u5730\u5185\u5b58\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u6765\u63d0\u4f9b\u5185\u5b58\u53ef\u89c1\u6027\u4fdd\u8bc1"),"\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u89e3\u51b3\u6df7\u6dc6\u95ee\u9898\uff1aJVM\u548cJMM\u7684\u533a\u522b\uff1f")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u533a\u522b"),(0,l.kt)("p",{parentName:"li"},"\u4e24\u8005\u662f\u4e0d\u540c\u7684\u6982\u5ff5\u5c42\u6b21\u3002JMM\u662f\u62bd\u8c61\u7684\uff0c\u4ed6\u662f\u7528\u6765\u63cf\u8ff0\u4e00\u7ec4\u89c4\u5219\uff0c\u901a\u8fc7\u8fd9\u4e2a\u89c4\u5219\u6765\u63a7\u5236\u5404\u4e2a\u53d8\u91cf\u7684\u8bbf\u95ee\u65b9\u5f0f\uff0c\u56f4\u7ed5\u539f\u5b50\u6027\u3001\u6709\u5e8f\u6027\u3001\u53ef\u89c1\u6027\u7b49\u5c55\u5f00\u7684\u3002\u800cJava\u8fd0\u884c\u65f6\u5185\u5b58\u7684\u5212\u5206\u662f\u5177\u4f53\u7684\uff0c\u662fJVM\u8fd0\u884cJava\u7a0b\u5e8f\u65f6\uff0c\u5fc5\u8981\u7684\u5185\u5b58\u5212\u5206\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u8054\u7cfb"),(0,l.kt)("p",{parentName:"li"},"\u90fd\u5b58\u5728\u79c1\u6709\u6570\u636e\u533a\u57df\u548c\u5171\u4eab\u6570\u636e\u533a\u57df\u3002\u4e00\u822c\u6765\u8bf4\uff0cJMM\u4e2d\u7684\u4e3b\u5185\u5b58\u5c5e\u4e8e\u5171\u4eab\u6570\u636e\u533a\u57df\uff0c\u4ed6\u662f\u5305\u542b\u4e86\u5806\u548c\u65b9\u6cd5\u533a\uff1b\u540c\u6837\uff0cJMM\u4e2d\u7684\u672c\u5730\u5185\u5b58\u5c5e\u4e8e\u79c1\u6709\u6570\u636e\u533a\u57df\uff0c\u5305\u542b\u4e86\u7a0b\u5e8f\u8ba1\u6570\u5668\u3001\u672c\u5730\u65b9\u6cd5\u6808\u3001\u865a\u62df\u673a\u6808\u3002"))),(0,l.kt)("p",null,"\u6700\u540e\u518d\u9644\u4e0aJVM\u7684\u8fd0\u884c\u65f6\u6570\u636e\u533a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220624110312966",src:n(6623).Z,width:"552",height:"383"})),(0,l.kt)("h4",{id:"\u91cd\u6392\u5e8f"},"\u91cd\u6392\u5e8f"),(0,l.kt)("p",null,"\u4e3a\u4e86\u63d0\u9ad8\u6027\u80fd\uff0c\u7f16\u8bd1\u5668\u548cCPU\u5e38\u5e38\u4f1a\u5bf9\u6307\u4ee4\u8fdb\u884c\u91cd\u6392\u5e8f\u3002\u91cd\u6392\u5e8f\u4e3b\u8981\u5206\u4e3a\u4e24\u7c7b\uff1a\u7f16\u8bd1\u5668\u91cd\u6392\u5e8f\u548cCPU\u91cd\u6392\u5e8f"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220626134324559",src:n(98659).Z,width:"929",height:"183"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7f16\u8bd1\u5668\u91cd\u6392\u5e8f"),"\u6307\u7684\u662f\u5728\u4ee3\u7801\u7f16\u8bd1\u9636\u6bb5\u8fdb\u884c\u6307\u4ee4\u91cd\u6392\uff0c\u4e0d\u6539\u53d8\u7a0b\u5e8f\u6267\u884c\u7ed3\u679c\u7684\u60c5\u51b5\u4e0b\uff0c\u4e3a\u4e86\u63d0\u5347\u6548\u7387\uff0c\u7f16\u8bd1\u5668\u5bf9\u6307\u4ee4\u8fdb\u884c\u4e71\u5e8f\uff08Out-of-Order\uff09\u7684\u7f16\u8bd1\u3002"),(0,l.kt)("p",null,"\u7f16\u8bd1\u5668\u4e3a\u4ec0\u4e48\u8981\u91cd\u6392\u5e8f\uff08Re-Order\uff09\u5462\uff1f\u5b83\u7684\u76ee\u7684\u4e3a\uff1a\u4e0e\u5176\u7b49\u5f85\u963b\u585e\u6307\u4ee4\uff08\u5982\u7b49\u5f85\u7f13\u5b58\u5237\u5165\uff09\u5b8c\u6210\uff0c\u4e0d\u5982\u5148\u53bb\u6267\u884c\u5176\u4ed6\u6307\u4ee4\u3002\u4e0eCPU\u4e71\u5e8f\u6267\u884c\u76f8\u6bd4\uff0c\u7f16\u8bd1\u5668\u91cd\u6392\u5e8f\u80fd\u591f\u5b8c\u6210\u66f4\u5927\u8303\u56f4\u3001\u6548\u679c\u66f4\u597d\u7684\u4e71\u5e8f\u4f18\u5316\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"CPU\u91cd\u6392\u5e8f"),"\u5305\u62ec\u4e24\u7c7b\uff1a\u6307\u4ee4\u7ea7\u91cd\u6392\u5e8f\u548c\u5185\u5b58\u7cfb\u7edf\u91cd\u6392\u5e8f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6307\u4ee4\u7ea7\u91cd\u6392\u5e8f\u3002\u5728\u4e0d\u5f71\u54cd\u7a0b\u5e8f\u6267\u884c\u7ed3\u679c\u7684\u60c5\u51b5\u4e0b\uff0cCPU\u5185\u6838\u91c7\u7528ILP\uff08Instruction-Level Parallelism\uff0c\u6307\u4ee4\u7ea7\u5e76\u884c\u8fd0\u7b97\uff09\u6280\u672f\u6765\u5c06\u591a\u6761\u6307\u4ee4\u91cd\u53e0\u6267\u884c\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u63d0\u5347\u6548\u7387\u3002\u5982\u679c\u6307\u4ee4\u4e4b\u95f4\u4e0d\u5b58\u5728\u6570\u636e\u4f9d\u8d56\u6027\uff0cCPU\u5c31\u53ef\u4ee5\u6539\u53d8\u8bed\u53e5\u7684\u5bf9\u5e94\u673a\u5668\u6307\u4ee4\u7684\u6267\u884c\u987a\u5e8f"),(0,l.kt)("li",{parentName:"ul"},"\u5185\u5b58\u7cfb\u7edf\u91cd\u6392\u5e8f\uff1a\u5bf9\u4e8e\u73b0\u4ee3\u7684CPU\u6765\u8bf4\uff0c\u5728CPU\u5185\u6838\u548c\u4e3b\u5b58\u4e4b\u95f4\u90fd\u5177\u5907\u4e00\u4e2a\u9ad8\u901f\u7f13\u5b58\uff0c\u9ad8\u901f\u7f13\u5b58\u7684\u4f5c\u7528\u4e3b\u8981\u662f\u51cf\u5c11CPU\u5185\u6838\u548c\u4e3b\u5b58\u7684\u4ea4\u4e92\uff08CPU\u5185\u6838\u7684\u5904\u7406\u901f\u5ea6\u8981\u5feb\u5f97\u591a\uff09\uff0c\u5728CPU\u5185\u6838\u8fdb\u884c\u8bfb\u64cd\u4f5c\u65f6\uff0c\u5982\u679c\u7f13\u5b58\u6ca1\u6709\u7684\u8bdd\u5c31\u4ece\u4e3b\u5b58\u53d6\uff0c\u800c\u5bf9\u4e8e\u5199\u64cd\u4f5c\u90fd\u662f\u5148\u5199\u5728\u7f13\u5b58\u4e2d\uff0c\u6700\u540e\u518d\u4e00\u6b21\u6027\u5199\u5165\u4e3b\u5b58\uff0c\u539f\u56e0\u662f\u51cf\u5c11\u8ddf\u4e3b\u5b58\u4ea4\u4e92\u65f6CPU\u5185\u6838\u7684\u77ed\u6682\u5361\u987f\uff0c\u4ece\u800c\u63d0\u5347\u6027\u80fd\u3002\u4f46\u662f\uff0c\u5185\u5b58\u7cfb\u7edf\u91cd\u6392\u5e8f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e00\u4e2a\u95ee\u9898\u2014\u2014\u6570\u636e\u4e0d\u4e00\u81f4\u3002")),(0,l.kt)("h4",{id:"as-if-serial\u89c4\u5219"},"As-if-Serial\u89c4\u5219"),(0,l.kt)("p",null,"\u5728\u5355\u6838CPU\u7684\u573a\u666f\u4e0b\uff0c\u5f53\u6307\u4ee4\u88ab\u91cd\u6392\u5e8f\u4e4b\u540e\uff0c\u5982\u4f55\u4fdd\u969c\u8fd0\u884c\u7684\u6b63\u786e\u6027\u5462\uff1f\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u7f16\u8bd1\u5668\u548cCPU\u90fd\u9700\u8981\u9075\u5b88As-if-Serial\u89c4\u5219\u3002"),(0,l.kt)("p",null,"As-if-Serial\u89c4\u5219\u7684\u5177\u4f53\u5185\u5bb9\u4e3a\uff1a\u65e0\u8bba\u5982\u4f55\u91cd\u6392\u5e8f\uff0c\u90fd\u5fc5\u987b\u4fdd\u8bc1\u4ee3\u7801\u5728\u5355\u7ebf\u7a0b\u4e0b\u8fd0\u884c\u6b63\u786e\u3002"),(0,l.kt)("p",null,"\u4e3a\u4e86\u9075\u5b88As-if-Serial\u89c4\u5219\uff0c\u7f16\u8bd1\u5668\u548cCPU\u4e0d\u4f1a\u5bf9\u5b58\u5728\u6570\u636e\u4f9d\u8d56\u5173\u7cfb\u7684\u64cd\u4f5c\u8fdb\u884c\u91cd\u6392\u5e8f\uff0c\u56e0\u4e3a\u8fd9\u79cd\u91cd\u6392\u5e8f\u4f1a\u6539\u53d8\u6267\u884c\u7ed3\u679c\u3002\u4f46\u662f\uff0c\u5982\u679c\u6307\u4ee4\u4e4b\u95f4\u4e0d\u5b58\u5728\u6570\u636e\u4f9d\u8d56\u5173\u7cfb\uff0c\u8fd9\u4e9b\u6307\u4ee4\u53ef\u80fd\u88ab\u7f16\u8bd1\u5668\u548cCPU\u91cd\u6392\u5e8f\u3002"),(0,l.kt)("p",null,"As-if-Serial\u89c4\u5219\u53ea\u80fd\u4fdd\u969c\u5355\u5185\u6838\u6307\u4ee4\u91cd\u6392\u5e8f\u4e4b\u540e\u7684\u6267\u884c\u7ed3\u679c\u6b63\u786e\uff0c\u4e0d\u80fd\u4fdd\u969c\u591a\u5185\u6838\u4ee5\u53ca\u8de8CPU\u6307\u4ee4\u91cd\u6392\u5e8f\u4e4b\u540e\u7684\u6267\u884c\u7ed3\u679c\u6b63\u786e\u3002"),(0,l.kt)("h4",{id:"happens-before\u89c4\u5219"},"Happens-Before\u89c4\u5219"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"\u7a0b\u5e8f\u6b21\u5e8f\u89c4\u5219"),"\uff08Program Order Rule\uff09\uff1a\u5728\u4e00\u4e2a\u7ebf\u7a0b\u5185\uff0c\u6309\u7167\u63a7\u5236\u6d41\u987a\u5e8f\uff0c\u4e66\u5199\u5728\u524d\u9762\u7684\u64cd\u4f5c\u5148\u884c\u53d1\u751f\uff08Happens-before\uff09\u4e8e\u4e66\u5199\u5728\u540e\u9762\u7684\u64cd\u4f5c\u3002\u6ce8\u610f\uff0c\u8fd9\u91cc\u8bf4\u7684\u662f\u63a7\u5236\u6d41\u987a\u5e8f\u800c\u4e0d\u662f\u7a0b\u5e8f\u4ee3\u7801\u987a\u5e8f\uff0c\u56e0\u4e3a\u8981\u8003\u8651\u5206\u652f\u3001\u5faa\u73af\u7b49\u7ed3\u6784\u3002")),(0,l.kt)("p",null,"\u4e3e\u7684\u4f8b\u5b50\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"int a = 1;      // A\nint b = 2;      // B\nint c = a + b;  // C\n")),(0,l.kt)("p",null,"\u6839\u636e\u7a0b\u5e8f\u6b21\u5e8f\u89c4\u5219\uff0c\u4e0a\u8ff0\u4ee3\u7801\u5b58\u5728 3 \u4e2a Happens-before \u5173\u7cfb\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"A Happens-before B"),(0,l.kt)("li",{parentName:"ul"},"B Happens-before C"),(0,l.kt)("li",{parentName:"ul"},"A Happens-before C")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"\u7ba1\u7a0b\u9501\u5b9a\u89c4\u5219"),"\uff08Monitor Lock Rule\uff09\uff1a\u4e00\u4e2a unlock \u64cd\u4f5c\u5148\u884c\u53d1\u751f\u4e8e\u540e\u9762\u5bf9\u540c\u4e00\u4e2a\u9501\u7684 lock \u64cd\u4f5c\u3002\u8fd9\u91cc\u5fc5\u987b\u5f3a\u8c03\u7684\u662f \u201c\u540c\u4e00\u4e2a\u9501\u201d\uff0c\u800c \u201c\u540e\u9762\u201d \u662f\u6307\u65f6\u95f4\u4e0a\u7684\u5148\u540e\u3002")),(0,l.kt)("p",null,"\u8fd9\u4e2a\u89c4\u5219\u5176\u5b9e\u5c31\u662f\u9488\u5bf9 synchronized \u7684\u3002JVM \u5e76\u6ca1\u6709\u628a ",(0,l.kt)("inlineCode",{parentName:"p"},"lock")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"unlock")," \u64cd\u4f5c\u76f4\u63a5\u5f00\u653e\u7ed9\u7528\u6237\u4f7f\u7528\uff0c\u4f46\u662f\u5374\u63d0\u4f9b\u4e86\u66f4\u9ad8\u5c42\u6b21\u7684\u5b57\u8282\u7801\u6307\u4ee4 ",(0,l.kt)("inlineCode",{parentName:"p"},"monitorenter")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"monitorexit")," \u6765\u9690\u5f0f\u5730\u4f7f\u7528\u8fd9\u4e24\u4e2a\u64cd\u4f5c\u3002\u8fd9\u4e24\u4e2a\u5b57\u8282\u7801\u6307\u4ee4\u53cd\u6620\u5230 Java \u4ee3\u7801\u4e2d\u5c31\u662f\u540c\u6b65\u5757 \u2014 ",(0,l.kt)("inlineCode",{parentName:"p"},"synchronized"),"\u3002"),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"synchronized (this) { // \u6b64\u5904\u81ea\u52a8\u52a0\u9501\n    if (x > 1) {\n        x = 1;\n    }    \n} // \u6b64\u5904\u81ea\u52a8\u89e3\u9501\n")),(0,l.kt)("p",null,"\u6839\u636e\u7ba1\u7a0b\u9501\u5b9a\u89c4\u5219\uff0c\u5047\u8bbe x \u7684\u521d\u59cb\u503c\u662f 10\uff0c\u7ebf\u7a0b A \u6267\u884c\u5b8c\u4ee3\u7801\u5757\u540e x \u7684\u503c\u4f1a\u53d8\u6210 1\uff0c\u6267\u884c\u5b8c\u81ea\u52a8\u91ca\u653e\u9501\uff0c\u7ebf\u7a0b B \u8fdb\u5165\u4ee3\u7801\u5757\u65f6\uff0c\u80fd\u591f\u770b\u5230\u7ebf\u7a0b A \u5bf9 x \u7684\u5199\u64cd\u4f5c\uff0c\u4e5f\u5c31\u662f\u7ebf\u7a0b B \u80fd\u591f\u770b\u5230 x == 1\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"volatile \u53d8\u91cf\u89c4\u5219"),"\uff08Volatile Variable Rule\uff09\uff1a\u5bf9\u4e00\u4e2a volatile \u53d8\u91cf\u7684\u5199\u64cd\u4f5c\u5148\u884c\u53d1\u751f\u4e8e\u540e\u9762\u5bf9\u8fd9\u4e2a\u53d8\u91cf\u7684\u8bfb\u64cd\u4f5c\uff0c\u8fd9\u91cc\u7684 \u201c\u540e\u9762\u201d \u540c\u6837\u662f\u6307\u65f6\u95f4\u4e0a\u7684\u5148\u540e\u3002")),(0,l.kt)("p",null,"\u8fd9\u4e2a\u89c4\u5219\u5c31\u662f JDK 1.5 \u7248\u672c\u5bf9 volatile \u8bed\u4e49\u7684\u589e\u5f3a\uff0c\u5176\u610f\u4e49\u4e4b\u91cd\u5927\uff0c\u9760\u7740\u8fd9\u4e2a\u89c4\u5219\u641e\u5b9a\u53ef\u89c1\u6027\u6613\u5982\u53cd\u638c\u3002"),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220626135043138",src:n(37851).Z,width:"692",height:"565"})),(0,l.kt)("p",null,"\u5047\u8bbe\u7ebf\u7a0b A \u6267\u884c writer() \u65b9\u6cd5\u4e4b\u540e\uff0c\u7ebf\u7a0b B \u6267\u884c reader() \u65b9\u6cd5\u3002"),(0,l.kt)("p",null,"\u6839\u636e\u6839\u636e\u7a0b\u5e8f\u6b21\u5e8f\u89c4\u5219\uff1a1 Happens-before 2\uff1b3 Happens-before 4\u3002"),(0,l.kt)("p",null,"\u6839\u636e volatile \u53d8\u91cf\u89c4\u5219\uff1a2 Happens-before 3\u3002"),(0,l.kt)("p",null,"\u6839\u636e\u4f20\u9012\u6027\u89c4\u5219\uff1a1 Happens-before 3\uff1b1 Happens-before 4\u3002"),(0,l.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u7ebf\u7a0b B \u8bfb\u5230\u4e86 \u201cflag==true\u201d \u6216\u8005 \u201cint i = a\u201d \u90a3\u4e48\u7ebf\u7a0b A \u8bbe\u7f6e\u7684\u201ca=42\u201d\u5bf9\u7ebf\u7a0b B \u662f\u53ef\u89c1\u7684\u3002"),(0,l.kt)("p",null,"\u770b\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220626135050496",src:n(13720).Z,width:"658",height:"699"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"\u7ebf\u7a0b\u542f\u52a8\u89c4\u5219"),"\uff08Thread Start Rule\uff09\uff1aThread \u5bf9\u8c61\u7684 start() \u65b9\u6cd5\u5148\u884c\u53d1\u751f\u4e8e\u6b64\u7ebf\u7a0b\u7684\u6bcf\u4e00\u4e2a\u52a8\u4f5c\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"\u7ebf\u7a0b\u7ec8\u6b62\u89c4\u5219"),"\uff08Thread Termination Rule\uff09\uff1a\u7ebf\u7a0b\u4e2d\u7684\u6240\u6709\u64cd\u4f5c\u90fd\u5148\u884c\u53d1\u751f\u4e8e\u5bf9\u6b64\u7ebf\u7a0b\u7684\u7ec8\u6b62\u68c0\u6d4b\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 Thread \u5bf9\u8c61\u7684 join() \u65b9\u6cd5\u662f\u5426\u7ed3\u675f\u3001Thread \u5bf9\u8c61\u7684 isAlive() \u7684\u8fd4\u56de\u503c\u7b49\u624b\u6bb5\u68c0\u6d4b\u7ebf\u7a0b\u662f\u5426\u5df2\u7ecf\u7ec8\u6b62\u6267\u884c\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"\u7ebf\u7a0b\u4e2d\u65ad\u89c4\u5219"),"\uff08Thread Interruption Rule\uff09\uff1a\u5bf9\u7ebf\u7a0b interrupt() \u65b9\u6cd5\u7684\u8c03\u7528\u5148\u884c\u53d1\u751f\u4e8e\u88ab\u4e2d\u65ad\u7ebf\u7a0b\u7684\u4ee3\u7801\u68c0\u6d4b\u5230\u4e2d\u65ad\u4e8b\u4ef6\u7684\u53d1\u751f\uff0c\u53ef\u4ee5\u901a\u8fc7 Thread \u5bf9\u8c61\u7684 interrupted() \u65b9\u6cd5\u68c0\u6d4b\u5230\u662f\u5426\u6709\u4e2d\u65ad\u53d1\u751f\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"\u5bf9\u8c61\u7ec8\u7ed3\u89c4\u5219"),"\uff08Finalizer Rule\uff09\uff1a\u4e00\u4e2a\u5bf9\u8c61\u7684\u521d\u59cb\u5316\u5b8c\u6210\uff08\u6784\u9020\u51fd\u6570\u6267\u884c\u7ed3\u675f\uff09\u5148\u884c\u53d1\u751f\u4e8e\u5b83\u7684 finalize() \u65b9\u6cd5\u7684\u5f00\u59cb\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"\u4f20\u9012\u6027"),"\uff08Transitivity\uff09\uff1a\u5982\u679c\u64cd\u4f5c A \u5148\u884c\u53d1\u751f\u4e8e\u64cd\u4f5c B\uff0c\u64cd\u4f5c B \u5148\u884c\u53d1\u751f\u4e8e\u64cd\u4f5c C\uff0c\u90a3\u5c31\u53ef\u4ee5\u5f97\u51fa\u64cd\u4f5c A \u5148\u884c\u53d1\u751f\u4e8e\u64cd\u4f5c C \u7684\u7ed3\u8bba\u3002")),(0,l.kt)("h3",{id:"\u804a\u804avolatile"},"\u804a\u804avolatile"),(0,l.kt)("p",null,"\u5148\u8981\u4ece ",(0,l.kt)("strong",{parentName:"p"},"CPU \u7f13\u5b58\u6a21\u578b")," \u8bf4\u8d77"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e3a\u4ec0\u4e48\u8981\u5f04\u4e00\u4e2a CPU \u9ad8\u901f\u7f13\u5b58\u5462\uff1f")," ",(0,l.kt)("strong",{parentName:"p"},"CPU Cache \u7f13\u5b58\u7684\u662f\u5185\u5b58\u6570\u636e\u7528\u4e8e\u89e3\u51b3 CPU \u5904\u7406\u901f\u5ea6\u548c\u5185\u5b58\u4e0d\u5339\u914d\u7684\u95ee\u9898\uff0c\u5185\u5b58\u7f13\u5b58\u7684\u662f\u786c\u76d8\u6570\u636e\u7528\u4e8e\u89e3\u51b3\u786c\u76d8\u8bbf\u95ee\u901f\u5ea6\u8fc7\u6162\u7684\u95ee\u9898\u3002")),(0,l.kt)("p",null,"\u4e3a\u4e86\u66f4\u597d\u5730\u7406\u89e3\uff0c\u6211\u753b\u4e86\u4e00\u4e2a\u7b80\u5355\u7684 CPU Cache \u793a\u610f\u56fe\u5982\u4e0b\uff08\u5b9e\u9645\u4e0a\uff0c\u73b0\u4ee3\u7684 CPU Cache \u901a\u5e38\u5206\u4e3a\u4e09\u5c42\uff0c\u5206\u522b\u53eb L1,L2,L3 Cache\uff09:"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220624113325156",src:n(16752).Z,width:"566",height:"611"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"CPU Cache \u7684\u5de5\u4f5c\u65b9\u5f0f\uff1a")),(0,l.kt)("p",null,"\u5148\u590d\u5236\u4e00\u4efd\u6570\u636e\u5230 CPU Cache \u4e2d\uff0c\u5f53 CPU \u9700\u8981\u7528\u5230\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u76f4\u63a5\u4ece CPU Cache \u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u5f53\u8fd0\u7b97\u5b8c\u6210\u540e\uff0c\u518d\u5c06\u8fd0\u7b97\u5f97\u5230\u7684\u6570\u636e\u5199\u56de Main Memory \u4e2d\u3002\u4f46\u662f\uff0c\u8fd9\u6837\u5b58\u5728 ",(0,l.kt)("strong",{parentName:"p"},"\u5185\u5b58\u7f13\u5b58\u4e0d\u4e00\u81f4\u6027\u7684\u95ee\u9898")," \uff01\u6bd4\u5982\u6211\u6267\u884c\u4e00\u4e2a i++\u64cd\u4f5c\u7684\u8bdd\uff0c\u5982\u679c\u4e24\u4e2a\u7ebf\u7a0b\u540c\u65f6\u6267\u884c\u7684\u8bdd\uff0c\u5047\u8bbe\u4e24\u4e2a\u7ebf\u7a0b\u4ece CPU Cache \u4e2d\u8bfb\u53d6\u7684 i=1\uff0c\u4e24\u4e2a\u7ebf\u7a0b\u505a\u4e86 1++\u8fd0\u7b97\u5b8c\u4e4b\u540e\u518d\u5199\u56de Main Memory \u4e4b\u540e i=2\uff0c\u800c\u6b63\u786e\u7ed3\u679c\u5e94\u8be5\u662f i=3\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"CPU \u4e3a\u4e86\u89e3\u51b3\u5185\u5b58\u7f13\u5b58\u4e0d\u4e00\u81f4\u6027\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u5236\u5b9a\u7f13\u5b58\u4e00\u81f4\u534f\u8bae\u6216\u8005\u5176\u4ed6\u624b\u6bb5\u6765\u89e3\u51b3\u3002")),(0,l.kt)("p",null,"\u524d\u9762\u4ecb\u7ecd\u8fc7\uff0c\u4e3a\u4e86\u89e3\u51b3CPU\u8bbf\u95ee\u4e3b\u5b58\u65f6\u4e3b\u5b58\u8bfb\u5199\u6027\u80fd\u7684\u77ed\u677f\uff0c\u5728CPU\u4e2d\u589e\u52a0\u4e86\u9ad8\u901f\u7f13\u5b58\uff0c\u4f46\u8fd9\u5e26\u6765\u4e86\u53ef\u89c1\u6027\u95ee\u9898\u3002\u800cJava\u7684",(0,l.kt)("strong",{parentName:"p"},"volatile\u5173\u952e\u5b57\u53ef\u4ee5\u4fdd\u8bc1\u5171\u4eab\u53d8\u91cf\u7684\u4e3b\u5b58\u53ef\u89c1\u6027\uff0c\u4e5f\u5c31\u662f\u5c06\u5171\u4eab\u53d8\u91cf\u7684\u6539\u52a8\u503c\u7acb\u5373\u5237\u65b0\u56de\u4e3b\u5b58"),"\u3002\u5728\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u7cfb\u7edf\u64cd\u4f5c\u5e76\u4e0d\u4f1a\u6821\u9a8c\u5171\u4eab\u53d8\u91cf\u7684\u7f13\u5b58\u4e00\u81f4\u6027\uff0c\u53ea\u6709\u5f53\u5171\u4eab\u53d8\u91cf\u7528volatile\u5173\u952e\u5b57\u4fee\u9970\u4e86\uff0c\u8be5\u53d8\u91cf\u6240\u5728\u7684\u7f13\u5b58\u884c\u624d\u88ab\u8981\u6c42\u8fdb\u884c\u7f13\u5b58\u4e00\u81f4\u6027\u7684\u6821\u9a8c\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\ud83d\udcd6\u300aJava\u5e76\u53d1\u7f16\u7a0b\u5b9e\u6218\u300b\u4e2d\u8fd9\u6837\u8bf4\u5230\uff1a"),(0,l.kt)("pre",{parentName:"blockquote"},(0,l.kt)("code",{parentName:"pre"},"Java\u8bed\u8a00\u63d0\u4f9b\u4e86\u4e00\u79cd\u7a0d\u5f31\u7684\u540c\u6b65\u673a\u5236\uff0c\u5373volatile\u53d8\u91cf\uff0c\u7528\u6765\u786e\u4fdd\u5c06\u53d8\u91cf\u7684\u66f4\u65b0\u64cd\u4f5c\u901a\u77e5\u5230\u5176\u4ed6\u7ebf\u7a0b\u3002\u5f53\u628a\u53d8\u91cf\u58f0\u660e\u4e3avolatile\u7c7b\u578b\u540e\uff0c\u7f16\u8bd1\u5668\u4e0e\u8fd0\u884c\u65f6\u90fd\u4f1a\u6ce8\u610f\u5230\u8fd9\u4e2a\u53d8\u91cf\u662f\u5171\u4eab\u7684\uff0c\u56e0\u6b64\u4e0d\u4f1a\u5c06\u8be5\u53d8\u91cf\u4e0a\u7684\u64cd\u4f5c\u4e0e\u5176\u4ed6\u5185\u5b58\u64cd\u4f5c\u4e00\u8d77\u91cd\u6392\u5e8f\u3002volatile\u53d8\u91cf\u4e0d\u4f1a\u88ab\u7f13\u5b58\u5728\u5bc4\u5b58\u5668\u6216\u8005\u5bf9\u5176\u4ed6\u5904\u7406\u5668\u4e0d\u53ef\u89c1\u7684\u5730\u65b9\uff0c\u56e0\u6b64\u5728\u8bfb\u53d6volatile\u7c7b\u578b\u7684\u53d8\u91cf\u65f6\u603b\u4f1a\u8fd4\u56de\u6700\u65b0\u5199\u5165\u7684\u503c\n\nvolatile\u53d8\u91cf\u5bf9\u53ef\u89c1\u6027\u7684\u5f71\u54cd\u6bd4volatile\u53d8\u91cf\u672c\u8eab\u66f4\u4e3a\u91cd\u8981\u3002\u5f53\u7ebf\u7a0bA\u9996\u5148\u5199\u5165\u4e00\u4e2avolatile\u53d8\u91cf\u5e76\u4e14\u7ebf\u7a0bB\u968f\u540e\u8bfb\u53d6\u8be5\u53d8\u91cf\u65f6\uff0c\u5728\u5199\u5165volatile\u53d8\u91cf\u4e4b\u524d\u5bf9A\u53ef\u89c1\u7684\u6240\u6709\u53d8\u91cf\u7684\u503c\uff0c\u5728B\u8bfb\u53d6\u4e86volatile\u53d8\u91cf\u540e\uff0c\u5bf9B\u4e5f\u662f\u53ef\u89c1\u7684\u3002\u56e0\u6b64\uff0c**\u4ece\u5185\u5b58\u53ef\u89c1\u6027\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u5199\u5165volatile\u53d8\u91cf\u76f8\u5f53\u4e8e\u9000\u51fa\u540c\u6b65\u4ee3\u7801\u5757\uff0c\u800c\u8bfb\u53d6volatile\u53d8\u91cf\u5c31\u76f8\u5f53\u4e8e\u8fdb\u5165\u540c\u6b65\u4ee3\u7801\u5757**\u3002\n"))),(0,l.kt)("h3",{id:"cas-\u662f\u4ec0\u4e48"},"CAS \u662f\u4ec0\u4e48\uff1f"),(0,l.kt)("p",null,"cas \u53eb\u505a CompareAndSwap\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u6bd4\u8f83\u5e76\u4ea4\u6362"),"\uff0c\u5f88\u591a\u5730\u65b9\u4f7f\u7528\u5230\u4e86\u5b83\uff0c\u6bd4\u5982\u9501\u5347\u7ea7\u4e2d\u81ea\u65cb\u9501\u5c31\u6709\u7528\u5230\uff0c\u4e3b\u8981\u662f",(0,l.kt)("strong",{parentName:"p"},"\u901a\u8fc7\u5904\u7406\u5668\u7684\u6307\u4ee4\u6765\u4fdd\u8bc1\u64cd\u4f5c\u7684\u539f\u5b50\u6027"),"\uff0c\u5b83\u4e3b\u8981\u5305\u542b\u4e09\u4e2a\u53d8\u91cf\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"1.\u53d8\u91cf\u5185\u5b58\u5730\u5740")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"2.\u65e7\u7684\u9884\u671f\u503c A")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"3.\u51c6\u5907\u8bbe\u7f6e\u7684\u65b0\u503c B"))),(0,l.kt)("p",null,"\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u9700\u8981\u4fee\u6539\u4e00\u4e2a\u5171\u4eab\u53d8\u91cf\u7684\u503c\uff0c\u5b8c\u6210\u8fd9\u4e2a\u64cd\u4f5c\u9700\u8981\u5148\u53d6\u51fa\u5171\u4eab\u53d8\u91cf\u7684\u503c\uff0c\u8d4b\u7ed9 A\uff0c\u57fa\u4e8e A \u8fdb\u884c\u8ba1\u7b97\uff0c\u5f97\u5230\u65b0\u503c B\uff0c\u5728\u7528\u9884\u671f\u539f\u503c A \u548c\u5185\u5b58\u4e2d\u7684\u5171\u4eab\u53d8\u91cf\u503c\u8fdb\u884c\u6bd4\u8f83\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5982\u679c\u76f8\u540c\u5c31\u8ba4\u4e3a\u5176\u4ed6\u7ebf\u7a0b\u6ca1\u6709\u8fdb\u884c\u4fee\u6539"),"\uff0c\u800c\u5c06\u65b0\u503c\u5199\u5165\u5185\u5b58"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"CAS\u7684\u7f3a\u70b9")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"CPU\u5f00\u9500\u6bd4\u8f83\u5927"),"\uff1a\u5728\u5e76\u53d1\u91cf\u6bd4\u8f83\u9ad8\u7684\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u8bb8\u591a\u7ebf\u7a0b\u53cd\u590d\u5c1d\u8bd5\u66f4\u65b0\u67d0\u4e00\u4e2a\u53d8\u91cf\uff0c\u5374\u53c8\u4e00\u76f4\u66f4\u65b0\u4e0d\u6210\u529f\uff0c\u53c8\u56e0\u4e3a",(0,l.kt)("strong",{parentName:"li"},"\u81ea\u65cb"),"\u7684\u65f6\u5019\u4f1a\u4e00\u76f4\u5360\u7528CPU\uff0c\u5982\u679cCAS\u4e00\u76f4\u66f4\u65b0\u4e0d\u6210\u529f\u5c31\u4f1a\u4e00\u76f4\u5360\u7528\uff0c\u9020\u6210CPU\u7684\u6d6a\u8d39\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"ABA \u95ee\u9898"),"\uff1a\u6bd4\u5982\u7ebf\u7a0b A \u53bb\u4fee\u6539 1 \u8fd9\u4e2a\u503c\uff0c\u4fee\u6539\u6210\u529f\u4e86\uff0c\u4f46\u662f\u4e2d\u95f4 \u7ebf\u7a0b B \u4e5f\u4fee\u6539\u4e86\u8fd9\u4e2a\u503c\uff0c\u4f46\u662f\u4fee\u6539\u540e\u7684\u7ed3\u679c\u8fd8\u662f 1\uff0c\u6240\u4ee5\u4e0d\u5f71\u54cd A \u7684\u64cd\u4f5c\uff0c\u8fd9\u5c31\u4f1a\u6709\u95ee\u9898\u3002\u53ef\u4ee5\u7528",(0,l.kt)("strong",{parentName:"li"},"\u7248\u672c\u53f7"),"\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u53ea\u80fd\u4fdd\u8bc1\u4e00\u4e2a\u5171\u4eab\u53d8\u91cf\u7684\u539f\u5b50\u6027"))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\ud83d\udcd6\u300aoffer\u6765\u4e86\u300b\u8fd9\u6837\u5b9a\u4e49CAS\u7684\uff1a",(0,l.kt)("strong",{parentName:"p"},"CAS\uff08Compare And Swap\uff09"),"\u6307\u6bd4\u8f83\u5e76\u4ea4\u6362\u3002CAS\u7b97\u6cd5CAS(V, E, N)\u5305\u542b3\u4e2a\u53c2\u6570\uff0cV\u8868\u793a\u8981\u66f4\u65b0\u7684\u53d8\u91cf\uff0cE\u8868\u793a\u9884\u671f\u7684\u503c\uff0cN\u8868\u793a\u65b0\u503c\u3002\u5728\u4e14\u4ec5\u5728V\u503c\u7b49\u4e8e E\u503c\u65f6\uff0c\u624d\u4f1a\u5c06V\u503c\u8bbe\u4e3a N\uff0c\u5982\u679c V\u503c\u548c E\u503c\u4e0d\u540c\uff0c\u5219\u8bf4\u660e\u5df2\u7ecf\u6709\u5176\u4ed6\u7ebf\u7a0b\u505a\u4e86\u66f4\u65b0\uff0c\u5f53\u524d\u7ebf\u7a0b\u4ec0\u4e48\u90fd\u4e0d\u505a\u3002\u6700\u540e\uff0cCAS\u8fd4\u56de\u5f53\u524dV\u7684\u771f\u5b9e\u503c\u3002"),(0,l.kt)("ul",{parentName:"blockquote"},(0,l.kt)("li",{parentName:"ul"},"CAS\u7684\u7279\u6027\uff1a\u4e50\u89c2\u9501"),(0,l.kt)("li",{parentName:"ul"},"CAS\u81ea\u65cb\u7b49\u5f85\uff1a\u5728JDK\u7684\u539f\u5b50\u5305java.util.concurrent.atomic\u91cc\u9762\u63d0\u4f9b\u4e86\u4e00\u7ec4\u539f\u5b50\u7c7b\uff0c\u8fd9\u4e9b\u539f\u5b50\u7c7b\u7684\u57fa\u672c\u7279\u6027\u5c31\u662f\u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4e0b\uff0c\u5728\u6709\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u6267\u884c\u8fd9\u4e9b\u7c7b\u7684\u5b9e\u4f8b\u5305\u542b\u7684\u65b9\u6cd5\u65f6\uff0c\u4f1a\u6709\u6392\u4ed6\u6027\u3002\u5176\u5185\u90e8\u4fbf\u662f\u57fa\u4e8eCAS\u7b97\u6cd5\u5b9e\u73b0\u7684\uff0c\u5373\u5728\u67d0\u4e2a\u7ebf\u7a0b\u8fdb\u5165\u65b9\u6cd5\u4e2d\u6267\u884c\u5176\u4e2d\u7684\u6307\u4ee4\u65f6\uff0c\u4e0d\u4f1a\u88ab\u5176\u4ed6\u7ebf\u7a0b\u6253\u65ad\uff1b\u800c\u522b\u7684\u7ebf\u7a0b\u5c31\u50cf\u81ea\u65cb\u9501\u4e00\u6837\uff0c\u4e00\u76f4\u7b49\u5230\u8be5\u65b9\u6cd5\u6267\u884c\u5b8c\u6210\u624d\u7531JVM\u4ece\u7b49\u5f85\u7684\u961f\u5217\u4e2d\u9009\u62e9\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u8fdb\u5165\u3002"))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\ud83d\ude4b\u7b14\u8005\u8ba4\u4e3a\u4ecb\u7ecdCAS\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u5c31\u662f\u4e3e\u4e2a\ud83c\udf30\u7ed9\u9762\u8bd5\u5b98\u542c\uff1a"),(0,l.kt)("p",{parentName:"blockquote"},"\u5047\u5982\u67d0\u4e2a\u5185\u5b58\u5730\u5740\uff08\u67d0\u5bf9\u8c61\u7684\u5c5e\u6027\uff09\u7684\u503c\u4e3a100\uff0c\u73b0\u5728\u6709\u4e24\u4e2a\u7ebf\u7a0b\uff08\u7ebf\u7a0bA\u548c\u7ebf\u7a0bB\uff09\u4f7f\u7528CAS\u65e0\u9501\u7f16\u7a0b\u5bf9\u8be5\u5185\u5b58\u5730\u5740\u8fdb\u884c\u66f4\u65b0\uff0c\u7ebf\u7a0bA\u6b32\u5c06\u5176\u503c\u66f4\u65b0\u4e3a200\uff0c\u7ebf\u7a0bB\u6b32\u5c06\u5176\u503c\u66f4\u65b0\u4e3a300\uff0c\u5982\u56fe3-1\u6240\u793a\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u7ebf\u7a0b\u662f\u5e76\u53d1\u6267\u884c\u7684\uff0c\u8c01\u90fd\u6709\u53ef\u80fd\u5148\u6267\u884c\u3002\u4f46\u662fCAS\u662f\u539f\u5b50\u64cd\u4f5c\uff0c\u5bf9\u540c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u7684CAS\u64cd\u4f5c\u5728\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u6267\u884c\u4e00\u4e2a\u3002\u56e0\u6b64\uff0c\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u8981\u4e48\u7ebf\u7a0bA\u5148\u6267\u884c\uff0c\u8981\u4e48\u7ebf\u7a0bB\u5148\u6267\u884c\u3002\u5047\u8bbe\u7ebf\u7a0bA\u7684CAS(100,200)\u6267\u884c\u5728\u524d\uff0c\u7531\u4e8e\u5185\u5b58\u5730\u5740\u7684\u65e7\u503c100\u4e0e\u8be5CAS\u7684\u671f\u671b\u503c100\u76f8\u7b49\uff0c\u56e0\u6b64\u7ebf\u7a0bA\u4f1a\u64cd\u4f5c\u6210\u529f\uff0c\u5185\u5b58\u5730\u5740\u7684\u503c\u88ab\u66f4\u65b0\u4e3a200\u3002\uff08\u56fe\u6765\u81ea\u300aJava\u9ad8\u5e76\u53d1\u6838\u5fc3\u7f16\u7a0b\u300b\uff09"),(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("img",{alt:"image-20220626202716155",src:n(8985).Z,width:"1675",height:"566"})),(0,l.kt)("p",{parentName:"blockquote"},"\u7ebf\u7a0bA\u6267\u884cCAS(100,200)\u6210\u529f\u4e4b\u540e\uff0c\u5185\u5b58\u5730\u5740\u7684"),(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("img",{alt:"image-20220626202746011",src:n(50244).Z,width:"1646",height:"558"})),(0,l.kt)("p",{parentName:"blockquote"},"\u63a5\u4e0b\u6765\u6267\u884c\u7ebf\u7a0bB\u7684CAS(100,300)\u64cd\u4f5c\uff0c\u6b64\u65f6\u5185\u5b58\u5730\u5740\u7684\u503c\u4e3a200\uff0c\u4e0d\u7b49\u4e8eCAS\u7684\u671f\u671b\u503c100\uff0c\u7ebf\u7a0bB\u64cd\u4f5c\u5931\u8d25\u3002\u7ebf\u7a0bB\u53ea\u80fd\u81ea\u65cb\uff0c\u5f00\u59cb\u65b0\u7684\u5faa\u73af\uff0c\u8fd9\u4e00\u8f6e\u5faa\u73af\u9996\u5148\u83b7\u53d6\u5230\u5185\u5b58\u5730\u5740\u7684\u503c200\uff0c\u7136\u540e\u8fdb\u884cCAS(200,300)\u64cd\u4f5c\uff0c\u8fd9\u4e00\u6b21\u5185\u5b58\u5730\u5740\u7684\u503c\u4e0eCAS\u7684\u9884\u671f\u503c\uff08oldValue\uff09\u76f8\u7b49\uff0c\u7ebf\u7a0bB\u64cd\u4f5c\u6210\u529f\u3002")),(0,l.kt)("h4",{id:"aba\u95ee\u9898"},"ABA\u95ee\u9898"),(0,l.kt)("p",null,"ABA \u662f CAS \u64cd\u4f5c\u7684\u4e00\u4e2a\u7ecf\u5178\u95ee\u9898\uff0c\u5047\u8bbe\u6709\u4e00\u4e2a\u53d8\u91cf\u521d\u59cb\u503c\u4e3a A\uff0c\u4fee\u6539\u4e3a B\uff0c\u7136\u540e\u53c8\u4fee\u6539\u4e3a A\uff0c\u8fd9\u4e2a\u53d8\u91cf\u5b9e\u9645\u88ab\u4fee\u6539\u8fc7\u4e86\uff0c\u4f46\u662f CAS \u64cd\u4f5c\u53ef\u80fd\u65e0\u6cd5\u611f\u77e5\u5230\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u662f\u6574\u5f62\u8fd8\u597d\uff0c\u4e0d\u4f1a\u5f71\u54cd\u6700\u7ec8\u7ed3\u679c\uff0c\u4f46\u5982\u679c\u662f\u5bf9\u8c61\u7684\u5f15\u7528\u7c7b\u578b\u5305\u542b\u4e86\u591a\u4e2a\u53d8\u91cf\uff0c\u5f15\u7528\u6ca1\u6709\u53d8\u5b9e\u9645\u4e0a\u5305\u542b\u7684\u53d8\u91cf\u5df2\u7ecf\u88ab\u4fee\u6539\uff0c\u8fd9\u5c31\u4f1a\u9020\u6210\u5927\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u5982\u4f55\u89e3\u51b3\uff1f\u601d\u8def\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u5728\u53d8\u91cf\u524d\u52a0\u7248\u672c\u53f7\uff0c\u6bcf\u6b21\u53d8\u91cf\u66f4\u65b0\u4e86\u5c31\u628a\u7248\u672c\u53f7\u52a0\u4e00\uff0c\u7ed3\u679c\u5982\u4e0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220627105538790",src:n(36659).Z,width:"1834",height:"720"})),(0,l.kt)("p",null,"\u6700\u7ec8\u7ed3\u679c\u90fd\u662f A \u4f46\u662f\u7248\u672c\u53f7\u6539\u53d8\u4e86\u3002"),(0,l.kt)("p",null,"\u4ece JDK 1.5 \u5f00\u59cb\u63d0\u4f9b\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"AtomicStampedReference"),"\u7c7b\uff0c\u8fd9\u4e2a\u7c7b\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"compareAndSe "),"\u65b9\u6cd5\u9996\u5148\u68c0\u67e5 ",(0,l.kt)("inlineCode",{parentName:"p"},"\u5f53\u524d\u5f15\u7528"),"\u662f\u5426\u7b49\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"\u9884\u671f\u5f15\u7528"),"\uff0c\u5e76\u4e14 ",(0,l.kt)("inlineCode",{parentName:"p"},"\u5f53\u524d\u6807\u5fd7"),"\u662f\u5426\u7b49\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"\u9884\u671f\u6807\u5fd7"),"\uff0c\u5982\u679c\u5168\u90e8\u76f8\u7b49\uff0c\u5219\u4ee5\u539f\u5b50\u65b9\u5f0f\u5c06\u8be5\u5f15\u7528\u548c\u8be5\u6807\u5fd7\u7684\u503c\u8bbe\u7f6e\u4e3a\u7ed9\u5b9a\u7684\u66f4\u65b0\u503c\u3002"),(0,l.kt)("h4",{id:"\u81ea\u65cb\u5f00\u9500\u95ee\u9898"},"\u81ea\u65cb\u5f00\u9500\u95ee\u9898"),(0,l.kt)("p",null,"CAS \u51fa\u73b0\u51b2\u7a81\u540e\u5c31\u4f1a\u5f00\u59cb ",(0,l.kt)("inlineCode",{parentName:"p"},"\u81ea\u65cb"),"\u64cd\u4f5c\uff0c\u5982\u679c\u8d44\u6e90\u7ade\u4e89\u975e\u5e38\u6fc0\u70c8\uff0c\u81ea\u65cb\u957f\u65f6\u95f4\u4e0d\u80fd\u6210\u529f\u5c31\u4f1a\u7ed9 CPU \u5e26\u6765\u975e\u5e38\u5927\u7684\u5f00\u9500\u3002"),(0,l.kt)("p",null,"\u89e3\u51b3\u65b9\u6848\uff1a\u53ef\u4ee5\u8003\u8651\u9650\u5236\u81ea\u65cb\u7684\u6b21\u6570\uff0c\u907f\u514d\u8fc7\u5ea6\u6d88\u8017 CPU\uff1b\u53e6\u5916\u8fd8\u53ef\u4ee5\u8003\u8651\u5ef6\u8fdf\u6267\u884c\u3002"),(0,l.kt)("h4",{id:"\u53ea\u80fd\u4fdd\u8bc1\u5355\u4e2a\u53d8\u91cf\u7684\u539f\u5b50\u6027"},"\u53ea\u80fd\u4fdd\u8bc1\u5355\u4e2a\u53d8\u91cf\u7684\u539f\u5b50\u6027"),(0,l.kt)("p",null,"\u5f53\u5bf9\u4e00\u4e2a\u5171\u4eab\u53d8\u91cf\u6267\u884c\u64cd\u4f5c\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 CAS \u6765\u4fdd\u8bc1\u539f\u5b50\u6027\uff0c\u4f46\u662f\u5982\u679c\u8981\u5bf9\u591a\u4e2a\u5171\u4eab\u53d8\u91cf\u8fdb\u884c\u64cd\u4f5c\u65f6\uff0cCAS \u662f\u65e0\u6cd5\u4fdd\u8bc1\u539f\u5b50\u6027\u7684\uff0c\u6bd4\u5982\u9700\u8981\u5c06 i \u548c j \u540c\u65f6\u52a0 1\uff1a"),(0,l.kt)("p",null,"i++\uff1bj++\uff1b"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u4f7f\u7528 synchronized \u8fdb\u884c\u52a0\u9501\uff0c\u6709\u6ca1\u6709\u5176\u4ed6\u529e\u6cd5\u5462\uff1f\u6709\uff0c\u5c06\u591a\u4e2a\u53d8\u91cf\u64cd\u4f5c\u5408\u6210\u4e00\u4e2a\u53d8\u91cf\u64cd\u4f5c\u3002\u4ece JDK1.5 \u5f00\u59cb\u63d0\u4f9b\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"AtomicReference")," \u7c7b\u6765\u4fdd\u8bc1\u5f15\u7528\u5bf9\u8c61\u4e4b\u95f4\u7684\u539f\u5b50\u6027\uff0c\u4f60\u53ef\u4ee5\u628a\u591a\u4e2a\u53d8\u91cf\u653e\u5728\u4e00\u4e2a\u5bf9\u8c61\u91cc\u6765\u8fdb\u884cCAS\u64cd\u4f5c\u3002"),(0,l.kt)("h3",{id:"\u4ec0\u4e48\u662f\u4e0a\u4e0b\u6587\u5207\u6362"},"\u4ec0\u4e48\u662f\u4e0a\u4e0b\u6587\u5207\u6362\uff1f"),(0,l.kt)("p",null,"\u591a\u7ebf\u7a0b\u7f16\u7a0b\u4e2d\u4e00\u822c\u7ebf\u7a0b\u7684\u4e2a\u6570\u90fd\u5927\u4e8eCPU\u6838\u5fc3\u7684\u4e2a\u6570\uff0c\u800c\u4e00\u4e2aCPU\u6838\u5fc3\u5728\u4efb\u610f\u65f6\u523b\u53ea\u80fd\u88ab\u4e00\u4e2a\u7ebf\u7a0b\u4f7f\u7528\uff0c\u4e3a\u4e86\u8ba9\u8fd9\u4e9b\u7ebf\u7a0b\u90fd\u80fd\u5f97\u5230\u6709\u6548\u6267\u884c\uff0cCPU\u91c7\u53d6\u7684\u7b56\u7565\u662f\u4e3a\u6bcf\u4e2a\u7ebf\u7a0b\u5206\u914d\u65f6\u95f4\u7247\u5e76\u8f6e\u8f6c\u7684\u5f62\u5f0f\u3002\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u7684\u65f6\u95f4\u7247\u7528\u5b8c\u7684\u65f6\u5019\u5c31\u4f1a\u91cd\u65b0\u5904\u4e8e\u5c31\u7eea\u72b6\u6001\u8ba9\u7ed9\u5176\u4ed6\u7ebf\u7a0b\u4f7f\u7528\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u5c5e\u4e8e\u4e00\u6b21\u4e0a\u4e0b\u6587\u5207\u6362\u3002"),(0,l.kt)("p",null,"\u6982\u62ec\u6765\u8bf4\u5c31\u662f\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u5f53\u524d\u4efb\u52a1\u5728\u6267\u884c\u5b8cCPU\u65f6\u95f4\u7247\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u4efb\u52a1\u4e4b\u524d\u4f1a\u5148\u4fdd\u5b58\u81ea\u5df1\u7684\u72b6\u6001\uff0c\u4ee5\u4fbf\u4e0b\u6b21\u518d\u5207\u6362\u56de\u8fd9\u4e2a\u4efb\u52a1\u65f6\uff0c\u53ef\u4ee5\u518d\u52a0\u8f7d\u8fd9\u4e2a\u4efb\u52a1\u7684\u72b6\u6001\u3002"),"\u4efb\u52a1\u4ece\u4fdd\u5b58\u5230\u518d\u52a0\u8f7d\u7684\u8fc7\u7a0b\u5c31\u662f\u4e00\u6b21\u4e0a\u4e0b\u6587\u5207\u6362\u3002"),(0,l.kt)("p",null,"\u4e0a\u4e0b\u6587\u5207\u6362\u901a\u5e38\u662f\u8ba1\u7b97\u5bc6\u96c6\u578b\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u9700\u8981\u76f8\u5f53\u53ef\u89c2\u7684\u5904\u7406\u5668\u65f6\u95f4\uff0c\u5728\u6bcf\u79d2\u51e0\u5341\u4e0a\u767e\u6b21\u7684\u5207\u6362\u4e2d\uff0c\u6bcf\u6b21\u5207\u6362\u90fd\u9700\u8981\u7eb3\u79d2\u91cf\u7ea7\u7684\u65f6\u95f4\u3002\u6240\u4ee5\uff0c\u4e0a\u4e0b\u6587\u5207\u6362\u5bf9\u7cfb\u7edf\u6765\u8bf4\u610f\u5473\u7740\u6d88\u8017\u5927\u91cf\u7684CPU\u65f6\u95f4\uff0c\u4e8b\u5b9e\u4e0a\uff0c\u53ef\u80fd\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u65f6\u95f4\u6d88\u8017\u6700\u5927\u7684\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,"Linux\u76f8\u6bd4\u4e0e\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\uff08\u5305\u62ec\u5176\u4ed6\u7c7bUnix\u7cfb\u7edf\uff09\u6709\u5f88\u591a\u7684\u4f18\u70b9\uff0c\u5176\u4e2d\u6709\u4e00\u9879\u5c31\u662f\uff0c\u5176\u4e0a\u4e0b\u6587\u5207\u6362\u548c\u6a21\u5f0f\u5207\u6362\u7684\u65f6\u95f4\u6d88\u8017\u975e\u5e38\u5c11\u3002"),(0,l.kt)("h3",{id:"\u8bf4\u8bf4-sleep-\u65b9\u6cd5\u548c-wait-\u65b9\u6cd5\u533a\u522b\u548c\u5171\u540c\u70b9"},"\u8bf4\u8bf4 sleep() \u65b9\u6cd5\u548c wait() \u65b9\u6cd5\u533a\u522b\u548c\u5171\u540c\u70b9?"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e24\u8005\u6700\u4e3b\u8981\u7684\u533a\u522b\u5728\u4e8e\uff1a",(0,l.kt)("strong",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"strong"},"sleep()")," \u65b9\u6cd5\u6ca1\u6709\u91ca\u653e\u9501\uff0c\u800c ",(0,l.kt)("inlineCode",{parentName:"strong"},"wait()")," \u65b9\u6cd5\u91ca\u653e\u4e86\u9501")," \u3002"),(0,l.kt)("li",{parentName:"ul"},"\u4e24\u8005\u90fd\u53ef\u4ee5\u6682\u505c\u7ebf\u7a0b\u7684\u6267\u884c\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"wait()")," \u901a\u5e38\u88ab\u7528\u4e8e\u7ebf\u7a0b\u95f4\u4ea4\u4e92/\u901a\u4fe1\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"sleep() "),"\u901a\u5e38\u88ab\u7528\u4e8e\u6682\u505c\u6267\u884c\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"wait()")," \u65b9\u6cd5\u88ab\u8c03\u7528\u540e\uff0c\u7ebf\u7a0b\u4e0d\u4f1a\u81ea\u52a8\u82cf\u9192\uff0c\u9700\u8981\u522b\u7684\u7ebf\u7a0b\u8c03\u7528\u540c\u4e00\u4e2a\u5bf9\u8c61\u4e0a\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"notify() "),"\u6216\u8005 ",(0,l.kt)("inlineCode",{parentName:"li"},"notifyAll()")," \u65b9\u6cd5\u3002",(0,l.kt)("inlineCode",{parentName:"li"},"sleep() "),"\u65b9\u6cd5\u6267\u884c\u5b8c\u6210\u540e\uff0c\u7ebf\u7a0b\u4f1a\u81ea\u52a8\u82cf\u9192\u3002\u6216\u8005\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"wait(long timeout)")," \u8d85\u65f6\u540e\u7ebf\u7a0b\u4f1a\u81ea\u52a8\u82cf\u9192\u3002")),(0,l.kt)("h3",{id:"\u4e3a\u4ec0\u4e48\u6211\u4eec\u8c03\u7528-start-\u65b9\u6cd5\u65f6\u4f1a\u6267\u884c-run-\u65b9\u6cd5\u4e3a\u4ec0\u4e48\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u8c03\u7528-run-\u65b9\u6cd5"},"\u4e3a\u4ec0\u4e48\u6211\u4eec\u8c03\u7528 start() \u65b9\u6cd5\u65f6\u4f1a\u6267\u884c run() \u65b9\u6cd5\uff0c\u4e3a\u4ec0\u4e48\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u8c03\u7528 run() \u65b9\u6cd5\uff1f"),(0,l.kt)("p",null,"\u8fd9\u662f\u53e6\u4e00\u4e2a\u975e\u5e38\u7ecf\u5178\u7684 Java \u591a\u7ebf\u7a0b\u9762\u8bd5\u95ee\u9898\uff0c\u800c\u4e14\u5728\u9762\u8bd5\u4e2d\u4f1a\u7ecf\u5e38\u88ab\u95ee\u5230\u3002\u5f88\u7b80\u5355\uff0c\u4f46\u662f\u5f88\u591a\u4eba\u90fd\u4f1a\u7b54\u4e0d\u4e0a\u6765\uff01"),(0,l.kt)("p",null,"new \u4e00\u4e2a Thread\uff0c\u7ebf\u7a0b\u8fdb\u5165\u4e86\u65b0\u5efa\u72b6\u6001\u3002\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"start()"),"\u65b9\u6cd5\uff0c\u4f1a\u542f\u52a8\u4e00\u4e2a\u7ebf\u7a0b\u5e76\u4f7f\u7ebf\u7a0b\u8fdb\u5165\u4e86\u5c31\u7eea\u72b6\u6001\uff0c\u5f53\u5206\u914d\u5230\u65f6\u95f4\u7247\u540e\u5c31\u53ef\u4ee5\u5f00\u59cb\u8fd0\u884c\u4e86\u3002 ",(0,l.kt)("inlineCode",{parentName:"p"},"start()")," \u4f1a\u6267\u884c\u7ebf\u7a0b\u7684\u76f8\u5e94\u51c6\u5907\u5de5\u4f5c\uff0c\u7136\u540e\u81ea\u52a8\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"run()")," \u65b9\u6cd5\u7684\u5185\u5bb9\uff0c\u8fd9\u662f\u771f\u6b63\u7684\u591a\u7ebf\u7a0b\u5de5\u4f5c\u3002 \u4f46\u662f\uff0c\u76f4\u63a5\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"run()")," \u65b9\u6cd5\uff0c\u4f1a\u628a ",(0,l.kt)("inlineCode",{parentName:"p"},"run()")," \u65b9\u6cd5\u5f53\u6210\u4e00\u4e2a main \u7ebf\u7a0b\u4e0b\u7684\u666e\u901a\u65b9\u6cd5\u53bb\u6267\u884c\uff0c\u5e76\u4e0d\u4f1a\u5728\u67d0\u4e2a\u7ebf\u7a0b\u4e2d\u6267\u884c\u5b83\uff0c\u6240\u4ee5\u8fd9\u5e76\u4e0d\u662f\u591a\u7ebf\u7a0b\u5de5\u4f5c\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u603b\u7ed3\uff1a \u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"strong"},"start()")," \u65b9\u6cd5\u65b9\u53ef\u542f\u52a8\u7ebf\u7a0b\u5e76\u4f7f\u7ebf\u7a0b\u8fdb\u5165\u5c31\u7eea\u72b6\u6001\uff0c\u76f4\u63a5\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"strong"},"run()")," \u65b9\u6cd5\u7684\u8bdd\u4e0d\u4f1a\u4ee5\u591a\u7ebf\u7a0b\u7684\u65b9\u5f0f\u6267\u884c\u3002")),(0,l.kt)("h3",{id:"synchronized\u6c47\u603b"},"synchronized\u6c47\u603b"),(0,l.kt)("h4",{id:"\u8bf4\u4e00\u8bf4\u81ea\u5df1\u5bf9\u4e8e-synchronized-\u5173\u952e\u5b57\u7684\u4e86\u89e3"},"\u8bf4\u4e00\u8bf4\u81ea\u5df1\u5bf9\u4e8e synchronized \u5173\u952e\u5b57\u7684\u4e86\u89e3"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("inlineCode",{parentName:"strong"},"synchronized")," \u5173\u952e\u5b57\u89e3\u51b3\u7684\u662f\u591a\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u8bbf\u95ee\u8d44\u6e90\u7684\u540c\u6b65\u6027\uff0c",(0,l.kt)("inlineCode",{parentName:"strong"},"synchronized"),"\u5173\u952e\u5b57\u53ef\u4ee5\u4fdd\u8bc1\u88ab\u5b83\u4fee\u9970\u7684\u65b9\u6cd5\u6216\u8005\u4ee3\u7801\u5757\u5728\u4efb\u610f\u65f6\u523b\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\u3002")),(0,l.kt)("p",null,"\u53e6\u5916\uff0c\u5728 Java \u65e9\u671f\u7248\u672c\u4e2d\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"synchronized")," \u5c5e\u4e8e ",(0,l.kt)("strong",{parentName:"p"},"\u91cd\u91cf\u7ea7\u9501"),"\uff0c\u6548\u7387\u4f4e\u4e0b\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e3a\u4ec0\u4e48\u5462\uff1f")),(0,l.kt)("p",null,"\u56e0\u4e3a\u76d1\u89c6\u5668\u9501\uff08monitor\uff09\u662f\u4f9d\u8d56\u4e8e\u5e95\u5c42\u7684\u64cd\u4f5c\u7cfb\u7edf\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Mutex Lock")," \u6765\u5b9e\u73b0\u7684\uff0cJava \u7684\u7ebf\u7a0b\u662f\u6620\u5c04\u5230\u64cd\u4f5c\u7cfb\u7edf\u7684\u539f\u751f\u7ebf\u7a0b\u4e4b\u4e0a\u7684\u3002\u5982\u679c\u8981\u6302\u8d77\u6216\u8005\u5524\u9192\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u90fd\u9700\u8981\u64cd\u4f5c\u7cfb\u7edf\u5e2e\u5fd9\u5b8c\u6210\uff0c\u800c\u64cd\u4f5c\u7cfb\u7edf\u5b9e\u73b0\u7ebf\u7a0b\u4e4b\u95f4\u7684\u5207\u6362\u65f6\u9700\u8981\u4ece\u7528\u6237\u6001\u8f6c\u6362\u5230\u5185\u6838\u6001\uff0c\u8fd9\u4e2a\u72b6\u6001\u4e4b\u95f4\u7684\u8f6c\u6362\u9700\u8981\u76f8\u5bf9\u6bd4\u8f83\u957f\u7684\u65f6\u95f4\uff0c\u65f6\u95f4\u6210\u672c\u76f8\u5bf9\u8f83\u9ad8\u3002"),(0,l.kt)("p",null,"\u5e86\u5e78\u7684\u662f\u5728 Java 6 \u4e4b\u540e Java \u5b98\u65b9\u5bf9\u4ece JVM \u5c42\u9762\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"p"},"synchronized")," \u8f83\u5927\u4f18\u5316\uff0c\u6240\u4ee5\u73b0\u5728\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"synchronized")," \u9501\u6548\u7387\u4e5f\u4f18\u5316\u5f97\u5f88\u4e0d\u9519\u4e86\u3002JDK1.6 \u5bf9\u9501\u7684\u5b9e\u73b0\u5f15\u5165\u4e86\u5927\u91cf\u7684\u4f18\u5316\uff0c\u5982\u81ea\u65cb\u9501\u3001\u9002\u5e94\u6027\u81ea\u65cb\u9501\u3001\u9501\u6d88\u9664\u3001\u9501\u7c97\u5316\u3001\u504f\u5411\u9501\u3001\u8f7b\u91cf\u7ea7\u9501\u7b49\u6280\u672f\u6765\u51cf\u5c11\u9501\u64cd\u4f5c\u7684\u5f00\u9500\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u4f60\u4f1a\u53d1\u73b0\u76ee\u524d\u7684\u8bdd\uff0c\u4e0d\u8bba\u662f\u5404\u79cd\u5f00\u6e90\u6846\u67b6\u8fd8\u662f JDK \u6e90\u7801\u90fd\u5927\u91cf\u4f7f\u7528\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"synchronized")," \u5173\u952e\u5b57\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u7b14\u8005\u4e2a\u4eba\u8ba4\u4e3a\u300aoffer\u6765\u4e86\u300b\u91cc\u9762\u89e3\u91caJava\u4e2d\u7684\u5173\u952e\u5b57\u662f\u771f\u7684\u4e0d\u9519\uff0c\u4e0a\u8ff0\u622a\u53d6\u7684Guide\uff0c\u4f46\u662f\u8fc7\u4e8e\u6666\u6da9\uff0c\u6240\u4ee5\u622a\u53d6\u4e86\u91cc\u9762\u5bf9synchronized \u7684\u89e3\u91ca\uff1a"),(0,l.kt)("p",{parentName:"blockquote"},"\ud83d\ude4b\u200d\u2642\ufe0f",(0,l.kt)("strong",{parentName:"p"},"synchronized"),"\u5173\u952e\u5b57\u7528\u4e8e\u4e3aJava\u5bf9\u8c61\u3001\u65b9\u6cd5\u3001\u4ee3\u7801\u5757\u63d0\u4f9b\u7ebf\u7a0b\u5b89\u5168\u7684\u64cd\u4f5c\u3002synchronized\u5c5e\u4e8e\u72ec\u5360\u5f0f\u7684\u60b2\u89c2\u9501\uff0c\u540c\u65f6\u5c5e\u4e8e\u53ef\u91cd\u5165\u9501\u3002\u5728\u4f7f\u7528synchronized\u4fee\u9970\u5bf9\u8c61\u65f6\uff0c\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u5bf9\u8be5\u5bf9\u8c61\u8fdb\u884c\u8bbf\u95ee\uff1b\u5728synchronized\u4fee\u9970\u65b9\u6cd5\u3001\u4ee3\u7801\u5757\u65f6\uff0c\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\u8be5\u65b9\u6cd5\u4f53\u6216\u4ee3\u7801\u5757\uff0c\u5176\u4ed6\u7ebf\u7a0b\u53ea\u6709\u7b49\u5f85\u5f53\u524d\u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5\u5e76\u91ca\u653e\u9501\u8d44\u6e90\u540e\u624d\u80fd\u8bbf\u95ee\u8be5\u5bf9\u8c61\u6216\u6267\u884c\u540c\u6b65\u4ee3\u7801\u5757\u3002Java\u4e2d\u7684\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u6709\u4e2amonitor\u5bf9\u8c61\uff0c\u52a0\u9501\u5c31\u662f\u5728\u7ade\u4e89monitor\uff08\u76d1\u89c6\u5668\u9501\uff09\u5bf9\u8c61\u3002\u5bf9\u4ee3\u7801\u5757\u52a0\u9501\u662f\u901a\u8fc7\u5728\u524d\u540e\u5206\u522b\u52a0\u4e0amonitorenter\u548cmonitorexit\u6307\u4ee4\u5b9e\u73b0\u7684\uff0c\u5bf9\u65b9\u6cd5\u662f\u5426\u52a0\u9501\u662f\u901a\u8fc7\u4e00\u4e2a\u6807\u8bb0\u4f4d\u6765\u5224\u65ad\u7684\u3002")),(0,l.kt)("h4",{id:"\u8bb2\u4e00\u4e0b-synchronized-\u5173\u952e\u5b57\u7684\u5e95\u5c42\u539f\u7406"},"\u8bb2\u4e00\u4e0b synchronized \u5173\u952e\u5b57\u7684\u5e95\u5c42\u539f\u7406"),(0,l.kt)("h5",{id:"synchronized-\u540c\u6b65\u8bed\u53e5\u5757\u7684\u60c5\u51b5"},"synchronized \u540c\u6b65\u8bed\u53e5\u5757\u7684\u60c5\u51b5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public class SynchronizedDemo {\n    public void method() {\n        synchronized (this) {\n            System.out.println("synchronized \u4ee3\u7801\u5757");\n        }\n    }\n}\n')),(0,l.kt)("p",null,"\u901a\u8fc7 JDK \u81ea\u5e26\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"javap")," \u547d\u4ee4\u67e5\u770b ",(0,l.kt)("inlineCode",{parentName:"p"},"SynchronizedDemo")," \u7c7b\u7684\u76f8\u5173\u5b57\u8282\u7801\u4fe1\u606f\uff1a\u9996\u5148\u5207\u6362\u5230\u7c7b\u7684\u5bf9\u5e94\u76ee\u5f55\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"javac SynchronizedDemo.java")," \u547d\u4ee4\u751f\u6210\u7f16\u8bd1\u540e\u7684 .class \u6587\u4ef6\uff0c\u7136\u540e\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"javap -c -s -v -l SynchronizedDemo.class"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220620224445896",src:n(43290).Z,width:"917",height:"633"})),(0,l.kt)("p",null,"\u4ece\u4e0a\u9762\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\uff1a",(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("inlineCode",{parentName:"strong"},"synchronized")," \u540c\u6b65\u8bed\u53e5\u5757\u7684\u5b9e\u73b0\u4f7f\u7528\u7684\u662f ",(0,l.kt)("inlineCode",{parentName:"strong"},"monitorenter")," \u548c ",(0,l.kt)("inlineCode",{parentName:"strong"},"monitorexit")," \u6307\u4ee4\uff0c\u5176\u4e2d ",(0,l.kt)("inlineCode",{parentName:"strong"},"monitorenter")," \u6307\u4ee4\u6307\u5411\u540c\u6b65\u4ee3\u7801\u5757\u7684\u5f00\u59cb\u4f4d\u7f6e\uff0c",(0,l.kt)("inlineCode",{parentName:"strong"},"monitorexit")," \u6307\u4ee4\u5219\u6307\u660e\u540c\u6b65\u4ee3\u7801\u5757\u7684\u7ed3\u675f\u4f4d\u7f6e\u3002")),(0,l.kt)("p",null,"\u5f53\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"monitorenter")," \u6307\u4ee4\u65f6\uff0c\u7ebf\u7a0b\u8bd5\u56fe\u83b7\u53d6\u9501\u4e5f\u5c31\u662f\u83b7\u53d6 ",(0,l.kt)("strong",{parentName:"p"},"\u5bf9\u8c61\u76d1\u89c6\u5668 ",(0,l.kt)("inlineCode",{parentName:"strong"},"monitor"))," \u7684\u6301\u6709\u6743\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5728 Java \u865a\u62df\u673a(HotSpot)\u4e2d\uff0cMonitor \u662f\u57fa\u4e8e C++\u5b9e\u73b0\u7684\uff0c\u7531",(0,l.kt)("a",{parentName:"p",href:"https://github.com/openjdk-mirror/jdk7u-hotspot/blob/50bdefc3afe944ca74c3093e7448d6b889cd20d1/src/share/vm/runtime/objectMonitor.cpp"},"ObjectMonitor"))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5b9e\u73b0\u7684\u3002\u6bcf\u4e2a\u5bf9\u8c61\u4e2d\u90fd\u5185\u7f6e\u4e86\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"ObjectMonitor"),"\u5bf9\u8c61\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u53e6\u5916\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"wait/notify"),"\u7b49\u65b9\u6cd5\u4e5f\u4f9d\u8d56\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"monitor"),"\u5bf9\u8c61\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u53ea\u6709\u5728\u540c\u6b65\u7684\u5757\u6216\u8005\u65b9\u6cd5\u4e2d\u624d\u80fd\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"wait/notify"),"\u7b49\u65b9\u6cd5\uff0c\u5426\u5219\u4f1a\u629b\u51fa ",(0,l.kt)("inlineCode",{parentName:"p"},"java.lang.IllegalMonitorStateException"),"\u7684\u5f02\u5e38\u7684\u539f\u56e0\u3002")),(0,l.kt)("p",null,"\u5728\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"monitorenter"),"\u65f6\uff0c\u4f1a\u5c1d\u8bd5\u83b7\u53d6\u5bf9\u8c61\u7684\u9501\uff0c\u5982\u679c\u9501\u7684\u8ba1\u6570\u5668\u4e3a 0 \u5219\u8868\u793a\u9501\u53ef\u4ee5\u88ab\u83b7\u53d6\uff0c\u83b7\u53d6\u540e\u5c06\u9501\u8ba1\u6570\u5668\u8bbe\u4e3a 1 \u4e5f\u5c31\u662f\u52a0 1\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220620224454145",src:n(60027).Z,width:"761",height:"801"})),(0,l.kt)("p",null,"\u5bf9\u8c61\u9501\u7684\u7684\u62e5\u6709\u8005\u7ebf\u7a0b\u624d\u53ef\u4ee5\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"monitorexit")," \u6307\u4ee4\u6765\u91ca\u653e\u9501\u3002\u5728\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"monitorexit")," \u6307\u4ee4\u540e\uff0c\u5c06\u9501\u8ba1\u6570\u5668\u8bbe\u4e3a 0\uff0c\u8868\u660e\u9501\u88ab\u91ca\u653e\uff0c\u5176\u4ed6\u7ebf\u7a0b\u53ef\u4ee5\u5c1d\u8bd5\u83b7\u53d6\u9501\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220620224500833",src:n(93169).Z,width:"761",height:"801"})),(0,l.kt)("p",null,"\u5982\u679c\u83b7\u53d6\u5bf9\u8c61\u9501\u5931\u8d25\uff0c\u90a3\u5f53\u524d\u7ebf\u7a0b\u5c31\u8981\u963b\u585e\u7b49\u5f85\uff0c\u76f4\u5230\u9501\u88ab\u53e6\u5916\u4e00\u4e2a\u7ebf\u7a0b\u91ca\u653e\u4e3a\u6b62\u3002"),(0,l.kt)("h5",{id:"synchronized-\u4fee\u9970\u65b9\u6cd5\u7684\u7684\u60c5\u51b5"},"synchronized \u4fee\u9970\u65b9\u6cd5\u7684\u7684\u60c5\u51b5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public class SynchronizedDemo2 {\n    public synchronized void method() {\n        System.out.println("synchronized \u65b9\u6cd5");\n    }\n}\n')),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220620224531013",src:n(14978).Z,width:"875",height:"421"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"synchronized")," \u4fee\u9970\u7684\u65b9\u6cd5\u5e76\u6ca1\u6709 ",(0,l.kt)("inlineCode",{parentName:"p"},"monitorenter")," \u6307\u4ee4\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"monitorexit")," \u6307\u4ee4\uff0c\u53d6\u5f97\u4ee3\u4e4b\u7684\u786e\u5b9e\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"ACC_SYNCHRONIZED")," \u6807\u8bc6\uff0c\u8be5\u6807\u8bc6\u6307\u660e\u4e86\u8be5\u65b9\u6cd5\u662f\u4e00\u4e2a\u540c\u6b65\u65b9\u6cd5\u3002JVM \u901a\u8fc7\u8be5 ",(0,l.kt)("inlineCode",{parentName:"p"},"ACC_SYNCHRONIZED")," \u8bbf\u95ee\u6807\u5fd7\u6765\u8fa8\u522b\u4e00\u4e2a\u65b9\u6cd5\u662f\u5426\u58f0\u660e\u4e3a\u540c\u6b65\u65b9\u6cd5\uff0c\u4ece\u800c\u6267\u884c\u76f8\u5e94\u7684\u540c\u6b65\u8c03\u7528\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u662f\u5b9e\u4f8b\u65b9\u6cd5\uff0cJVM \u4f1a\u5c1d\u8bd5\u83b7\u53d6\u5b9e\u4f8b\u5bf9\u8c61\u7684\u9501\u3002\u5982\u679c\u662f\u9759\u6001\u65b9\u6cd5\uff0cJVM \u4f1a\u5c1d\u8bd5\u83b7\u53d6\u5f53\u524d class \u7684\u9501\u3002"),(0,l.kt)("h5",{id:"\u603b\u7ed3-2"},"\u603b\u7ed3"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"synchronized")," \u540c\u6b65\u8bed\u53e5\u5757\u7684\u5b9e\u73b0\u4f7f\u7528\u7684\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"monitorenter")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"monitorexit")," \u6307\u4ee4\uff0c\u5176\u4e2d ",(0,l.kt)("inlineCode",{parentName:"p"},"monitorenter")," \u6307\u4ee4\u6307\u5411\u540c\u6b65\u4ee3\u7801\u5757\u7684\u5f00\u59cb\u4f4d\u7f6e\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"monitorexit")," \u6307\u4ee4\u5219\u6307\u660e\u540c\u6b65\u4ee3\u7801\u5757\u7684\u7ed3\u675f\u4f4d\u7f6e\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"synchronized")," \u4fee\u9970\u7684\u65b9\u6cd5\u5e76\u6ca1\u6709 ",(0,l.kt)("inlineCode",{parentName:"p"},"monitorenter")," \u6307\u4ee4\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"monitorexit")," \u6307\u4ee4\uff0c\u53d6\u5f97\u4ee3\u4e4b\u7684\u786e\u5b9e\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"ACC_SYNCHRONIZED")," \u6807\u8bc6\uff0c\u8be5\u6807\u8bc6\u6307\u660e\u4e86\u8be5\u65b9\u6cd5\u662f\u4e00\u4e2a\u540c\u6b65\u65b9\u6cd5\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e0d\u8fc7\u4e24\u8005\u7684\u672c\u8d28\u90fd\u662f\u5bf9\u5bf9\u8c61\u76d1\u89c6\u5668 monitor \u7684\u83b7\u53d6\u3002")),(0,l.kt)("h4",{id:"\u8bf4\u8bf4-synchronized-\u5173\u952e\u5b57\u548c-volatile-\u5173\u952e\u5b57\u7684\u533a\u522b"},"\u8bf4\u8bf4 synchronized \u5173\u952e\u5b57\u548c volatile \u5173\u952e\u5b57\u7684\u533a\u522b"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"synchronized")," \u5173\u952e\u5b57\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"volatile")," \u5173\u952e\u5b57\u662f\u4e24\u4e2a\u4e92\u8865\u7684\u5b58\u5728\uff0c\u800c\u4e0d\u662f\u5bf9\u7acb\u7684\u5b58\u5728\uff01"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"strong"},"volatile")," \u5173\u952e\u5b57"),"\u662f\u7ebf\u7a0b\u540c\u6b65\u7684",(0,l.kt)("strong",{parentName:"li"},"\u8f7b\u91cf\u7ea7\u5b9e\u73b0"),"\uff0c\u6240\u4ee5 ",(0,l.kt)("strong",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"strong"},"volatile "),"\u6027\u80fd\u80af\u5b9a\u6bd4 ",(0,l.kt)("inlineCode",{parentName:"strong"},"synchronized"),"\u5173\u952e\u5b57\u8981\u597d")," \u3002\u4f46\u662f ",(0,l.kt)("strong",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"strong"},"volatile")," \u5173\u952e\u5b57\u53ea\u80fd\u7528\u4e8e\u53d8\u91cf\u800c ",(0,l.kt)("inlineCode",{parentName:"strong"},"synchronized"),"   ","*","*\u540c\u6b65\u7684","*","*  \u5173\u952e\u5b57\u53ef\u4ee5\u4fee\u9970\u65b9\u6cd5\u4ee5\u53ca\u4ee3\u7801\u5757")," \u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"strong"},"volatile")," \u5173\u952e\u5b57\u80fd\u4fdd\u8bc1\u6570\u636e\u7684\u53ef\u89c1\u6027\uff0c\u4f46\u4e0d\u80fd\u4fdd\u8bc1\u6570\u636e\u7684\u539f\u5b50\u6027\u3002",(0,l.kt)("inlineCode",{parentName:"strong"},"synchronized")," \u5173\u952e\u5b57\u4e24\u8005\u90fd\u80fd\u4fdd\u8bc1\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"strong"},"volatile"),"\u5173\u952e\u5b57\u4e3b\u8981\u7528\u4e8e\u89e3\u51b3\u53d8\u91cf\u5728\u591a\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u7684\u53ef\u89c1\u6027\uff0c\u800c ",(0,l.kt)("inlineCode",{parentName:"strong"},"synchronized")," \u5173\u952e\u5b57\u89e3\u51b3\u7684\u662f\u591a\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u8bbf\u95ee\u8d44\u6e90\u7684\u540c\u6b65\u6027\u3002"))),(0,l.kt)("h4",{id:"synchronized-\u9501\u5347\u7ea7\u7684\u8fc7\u7a0b"},"synchronized \u9501\u5347\u7ea7\u7684\u8fc7\u7a0b"),(0,l.kt)("p",null,"\u5728 Java1.6 \u4e4b\u524d\u7684\u7248\u672c\u4e2d\uff0csynchronized \u5c5e\u4e8e\u91cd\u91cf\u7ea7\u9501\uff0c\u6548\u7387\u4f4e\u4e0b\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u9501\u662f")," cpu \u4e00\u4e2a",(0,l.kt)("strong",{parentName:"p"},"\u603b\u91cf\u7ea7\u7684\u8d44\u6e90"),"\uff0c\u6bcf\u6b21\u83b7\u53d6\u9501\u90fd\u8981\u548c cpu \u7533\u8bf7\uff0c\u975e\u5e38\u6d88\u8017\u6027\u80fd\u3002"),(0,l.kt)("p",null,"\u5728 ",(0,l.kt)("strong",{parentName:"p"},"jdk1.6 \u4e4b\u540e")," Java \u5b98\u65b9\u5bf9\u4ece JVM \u5c42\u9762\u5bf9 synchronized \u8f83\u5927\u4f18\u5316\uff0c\u6240\u4ee5\u73b0\u5728\u7684 synchronized \u9501\u6548\u7387\u4e5f\u4f18\u5316\u5f97\u5f88\u4e0d\u9519\u4e86\uff0cJdk1.6 \u4e4b\u540e\uff0c\u4e3a\u4e86\u51cf\u5c11\u83b7\u5f97\u9501\u548c\u91ca\u653e\u9501\u6240\u5e26\u6765\u7684\u6027\u80fd\u6d88\u8017\uff0c\u5f15\u5165\u4e86\u504f\u5411\u9501\u548c\u8f7b\u91cf\u7ea7\u9501\uff0c\u589e\u52a0\u4e86\u9501\u5347\u7ea7\u7684\u8fc7\u7a0b\uff0c\u7531",(0,l.kt)("strong",{parentName:"p"},"\u65e0\u9501->\u504f\u5411\u9501->\u81ea\u65cb\u9501->\u91cd\u91cf\u7ea7\u9501")),(0,l.kt)("p",null,"\u589e\u52a0\u9501\u5347\u7ea7\u7684\u8fc7\u7a0b\u4e3b\u8981\u662f",(0,l.kt)("strong",{parentName:"p"},"\u51cf\u5c11\u7528\u6237\u6001\u5230\u6838\u5fc3\u6001\u7684\u5207\u6362\uff0c\u63d0\u9ad8\u9501\u7684\u6548\u7387\uff0c\u4ece jvm \u5c42\u9762\u4f18\u5316\u9501"),"\uff08\u56fe\u6e90\uff1a\u6df1\u5165\u7406\u89e3Java\u865a\u62df\u673a\uff1aJVM\u9ad8\u7ea7\u7279\u6027\u4e0e\u6700\u4f73\u5b9e\u8df5\uff08\u7b2c2\u7248\uff09\uff09"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220711140002491",src:n(26198).Z,width:"1087",height:"366"})),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220711135916289",src:n(49535).Z,width:"978",height:"440"})),(0,l.kt)("h5",{id:"\u504f\u5411\u9501\u7b80\u4ecb"},"\u504f\u5411\u9501\u7b80\u4ecb"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5728\u5b9e\u9645\u573a\u666f\u4e2d\uff0c\u5982\u679c\u4e00\u4e2a\u540c\u6b65\u5757\uff08\u6216\u65b9\u6cd5\uff09\u6ca1\u6709\u591a\u4e2a\u7ebf\u7a0b\u7ade\u4e89\uff0c\u800c\u4e14\u603b\u662f\u7531\u540c\u4e00\u4e2a\u7ebf\u7a0b\u591a\u6b21\u91cd\u5165\u83b7\u53d6\u9501"),"\uff0c\u5982\u679c\u6bcf\u6b21\u8fd8\u6709\u963b\u585e\u7ebf\u7a0b\uff0c\u5524\u9192CPU\u4ece\u7528\u6237\u6001\u8f6c\u4e3a\u6838\u5fc3\u6001\uff0c\u90a3\u4e48\u5bf9\u4e8eCPU\u662f\u4e00\u79cd\u8d44\u6e90\u7684\u6d6a\u8d39\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u7c7b\u95ee\u9898\uff0c\u5c31\u5f15\u5165\u4e86\u504f\u5411\u9501\u7684\u6982\u5ff5\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u504f\u5411\u9501"),"  \u662f\u6307\u4e00\u6bb5\u540c\u6b65\u4ee3\u7801\u4e00\u76f4\u88ab\u540c\u4e00\u4e2a\u7ebf\u7a0b\u6240\u8bbf\u95ee\uff0c\u90a3\u4e48\u8be5\u7ebf\u7a0b\u4f1a\u81ea\u52a8\u83b7\u53d6\u9501\uff0c\u964d\u4f4e\u83b7\u53d6\u9501\u7684\u4ee3\u4ef7\u3002\u5982\u679c\u5185\u7f6e\u9501\u5904\u4e8e\u504f\u5411\u72b6\u6001\uff0c\u5f53\u6709\u4e00\u4e2a\u7ebf\u7a0b\u6765\u7ade\u4e89\u9501\u65f6\uff0c\u5148\u7528\u504f\u5411\u9501\uff0c\u8868\u793a\u5185\u7f6e\u9501\u504f\u7231\u8fd9\u4e2a\u7ebf\u7a0b\uff0c\u8fd9\u4e2a\u7ebf\u7a0b\u8981\u6267\u884c\u8be5\u9501\u5173\u8054\u7684\u540c\u6b65\u4ee3\u7801\u65f6\uff0c\u4e0d\u9700\u8981\u518d\u505a\u4efb\u4f55\u68c0\u67e5\u548c\u5207\u6362\u3002\u504f\u5411\u9501\u5728\u7ade\u4e89\u4e0d\u6fc0\u70c8\u7684\u60c5\u51b5\u4e0b\u6548\u7387\u975e\u5e38\u9ad8\u3002"),(0,l.kt)("p",null,"\u504f\u5411\u9501\u7684\u7f3a\u70b9\uff1a\u5982\u679c\u9501\u5bf9\u8c61\u65f6\u5e38\u88ab\u591a\u4e2a\u7ebf\u7a0b\u7ade\u4e89\uff0c\u504f\u5411\u9501\u5c31\u662f\u591a\u4f59\u7684\uff0c\u5e76\u4e14\u5176\u64a4\u9500\u7684\u8fc7\u7a0b\u4f1a\u5e26\u6765\u4e00\u4e9b\u6027\u80fd\u5f00\u9500\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6838\u5fc3\u539f\u7406\u662f\uff1a\u5982\u679c\u4e0d\u5b58\u5728\u7ebf\u7a0b\u7ade\u4e89\u7684\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u5f97\u4e86\u9501\uff0c\u90a3\u4e48\u9501\u5c31\u8fdb\u5165\u504f\u5411\u72b6\u6001\uff0c\u6b64\u65f6Mark Word\u7684\u7ed3\u6784\u53d8\u4e3a\u504f\u5411\u9501\u7ed3\u6784\uff0c\u9501\u5bf9\u8c61\u7684\u9501\u6807\u5fd7\u4f4d\uff08lock\uff09\u88ab\u6539\u4e3a01\uff0c\u504f\u5411\u6807\u5fd7\u4f4d\uff08biased_lock\uff09\u88ab\u6539\u4e3a1\uff0c\u7136\u540e\u7ebf\u7a0b\u7684ID\u8bb0\u5f55\u5728\u9501\u5bf9\u8c61\u7684Mark Word\u4e2d\uff08\u4f7f\u7528CAS\u64cd\u4f5c\u5b8c\u6210\uff09\u3002\u4ee5\u540e\u8be5\u7ebf\u7a0b\u83b7\u53d6\u9501\u65f6\u5224\u65ad\u4e00\u4e0b\u7ebf\u7a0bID\u548c\u6807\u5fd7\u4f4d\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8fdb\u5165\u540c\u6b65\u5757\uff0c\u8fdeCAS\u64cd\u4f5c\u90fd\u4e0d\u9700\u8981\uff0c\u8fd9\u6837\u5c31\u7701\u53bb\u4e86\u5927\u91cf\u6709\u5173\u9501\u7533\u8bf7\u7684\u64cd\u4f5c\uff0c\u4ece\u800c\u4e5f\u5c31\u63d0\u5347\u4e86\u7a0b\u5e8f\u7684\u6027\u80fd\u3002"),(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("img",{alt:"image-20220710203331089",src:n(17593).Z,width:"1639",height:"275"}))),(0,l.kt)("h5",{id:"\u8f7b\u91cf\u7ea7\u9501\u7b80\u4ecb"},"\u8f7b\u91cf\u7ea7\u9501\u7b80\u4ecb"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8f7b\u91cf\u9501\u5b58\u5728\u7684\u76ee\u7684\u662f\u5c3d\u53ef\u80fd\u4e0d\u52a8\u7528\u64cd\u4f5c\u7cfb\u7edf\u5c42\u9762\u7684\u4e92\u65a5\u9501\uff0c\u56e0\u4e3a\u5176\u6027\u80fd\u6bd4\u8f83\u5dee\u3002\u7ebf\u7a0b\u7684\u963b\u585e\u548c\u5524\u9192\u9700\u8981CPU\u4ece\u7528\u6237\u6001\u8f6c\u4e3a\u6838\u5fc3\u6001\uff0c\u9891\u7e41\u5730\u963b\u585e\u548c\u5524\u9192\u5bf9CPU\u6765\u8bf4\u662f\u4e00\u4ef6\u8d1f\u62c5\u5f88\u91cd\u7684\u5de5\u4f5c"),"\u3002\u540c\u65f6\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5f88\u591a\u5bf9\u8c61\u9501\u7684\u9501\u5b9a\u72b6\u6001\u53ea\u4f1a\u6301\u7eed\u5f88\u77ed\u7684\u4e00\u6bb5\u65f6\u95f4\uff0c\u4f8b\u5982\u6574\u6570\u7684\u81ea\u52a0\u64cd\u4f5c\uff0c\u5728\u5f88\u77ed\u7684\u65f6\u95f4\u5185\u963b\u585e\u5e76\u5524\u9192\u7ebf\u7a0b\u663e\u7136\u4e0d\u503c\u5f97\uff0c\u4e3a\u6b64\u5f15\u5165\u4e86\u8f7b\u91cf\u7ea7\u9501\u3002",(0,l.kt)("em",{parentName:"p"},"\u8f7b\u91cf\u7ea7\u9501\u662f\u4e00\u79cd\u81ea\u65cb\u9501"),"\uff0c\u56e0\u4e3aJVM\u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u5e94\u7528\uff0c\u6240\u4ee5\u5e0c\u671b\u5728\u5e94\u7528\u5c42\u9762\u4e0a\u901a\u8fc7\u81ea\u65cb\u89e3\u51b3\u7ebf\u7a0b\u540c\u6b65\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u8f7b\u91cf\u7ea7\u9501\u7684\u6267\u884c\u8fc7\u7a0b\uff1a\u5728\u62a2\u9501\u7ebf\u7a0b\u8fdb\u5165\u4e34\u754c\u533a\u4e4b\u524d\uff0c\u5982\u679c\u5185\u7f6e\u9501\uff08\u4e34\u754c\u533a\u7684\u540c\u6b65\u5bf9\u8c61\uff09\u6ca1\u6709\u88ab\u9501\u5b9a\uff0cJVM\u9996\u5148\u5c06\u5728\u62a2\u9501\u7ebf\u7a0b\u7684\u6808\u5e27\u4e2d\u5efa\u7acb\u4e00\u4e2a\u9501\u8bb0\u5f55\uff08Lock Record\uff09\uff0c\u7528\u4e8e\u5b58\u50a8\u5bf9\u8c61\u76ee\u524dMark Word\u7684\u62f7\u8d1d\uff0c\u8fd9\u65f6\u7684\u7ebf\u7a0b\u5806\u6808\u4e0e\u5185\u7f6e\u9501\u5bf9\u8c61\u5934\u5927\u81f4\u5982\u56fe"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220710203524080",src:n(10278).Z,width:"1500",height:"866"})),(0,l.kt)("p",null,"\u7136\u540e\u62a2\u9501\u7ebf\u7a0b\u5c06\u4f7f\u7528CAS\u81ea\u65cb\u64cd\u4f5c\uff0c\u5c1d\u8bd5\u5c06\u5185\u7f6e\u9501\u5bf9\u8c61\u5934\u7684Mark Word\u7684ptr_to_lock_record\uff08\u9501\u8bb0\u5f55\u6307\u9488\uff09\u66f4\u65b0\u4e3a\u62a2\u9501\u7ebf\u7a0b\u6808\u5e27\u4e2d\u9501\u8bb0\u5f55\u7684\u5730\u5740\uff0c\u5982\u679c\u8fd9\u4e2a\u66f4\u65b0\u6267\u884c\u6210\u529f\u4e86\uff0c\u8fd9\u4e2a\u7ebf\u7a0b\u5c31\u62e5\u6709\u4e86\u8fd9\u4e2a\u5bf9\u8c61\u9501\u3002\u7136\u540eJVM\u5c06Mark Word\u4e2d\u7684lock\u6807\u8bb0\u4f4d\u6539\u4e3a00\uff08\u8f7b\u91cf\u7ea7\u9501\u6807\u5fd7\uff09\uff0c\u5373\u8868\u793a\u8be5\u5bf9\u8c61\u5904\u4e8e\u8f7b\u91cf\u7ea7\u9501\u72b6\u6001\u3002\u62a2\u9501\u6210\u529f\u4e4b\u540e\uff0cJVM\u4f1a\u5c06Mark Word\u4e2d\u539f\u6765\u7684\u9501\u5bf9\u8c61\u4fe1\u606f\uff08\u5982\u54c8\u5e0c\u7801\u7b49\uff09\u4fdd\u5b58\u5728\u62a2\u9501\u7ebf\u7a0b\u9501\u8bb0\u5f55\u7684Displaced Mark Word\uff08\u53ef\u4ee5\u7406\u89e3\u4e3a\u653e\u9519\u5730\u65b9\u7684Mark Word\uff09\u5b57\u6bb5\u4e2d\uff0c\u518d\u5c06\u62a2\u9501\u7ebf\u7a0b\u4e2d\u9501\u8bb0\u5f55\u7684owner\u6307\u9488\u6307\u5411\u9501\u5bf9\u8c61\u3002"),(0,l.kt)("p",null,"\u5728\u8f7b\u91cf\u7ea7\u9501\u62a2\u5360\u6210\u529f\u4e4b\u540e\uff0c\u9501\u8bb0\u5f55\u548c\u5bf9\u8c61\u5934\u7684\u72b6\u6001\u5982\u56fe"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220710203611913",src:n(96320).Z,width:"1529",height:"873"})),(0,l.kt)("p",null,"\u9501\u8bb0\u5f55\u662f\u7ebf\u7a0b\u79c1\u6709\u7684\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u4e00\u4efd\u9501\u8bb0\u5f55\uff0c\u5728\u521b\u5efa\u5b8c\u9501\u8bb0\u5f55\u540e\uff0c\u4f1a\u5c06\u5185\u7f6e\u9501\u5bf9\u8c61\u7684Mark Word\u590d\u5236\u5230\u9501\u8bb0\u5f55\u7684Displaced Mark Word\u5b57\u6bb5\u3002\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f\u56e0\u4e3a\u5185\u7f6e\u9501\u5bf9\u8c61\u7684Mark Word\u7684\u7ed3\u6784\u4f1a\u6709\u6240\u53d8\u5316\uff0cMark Word\u5c06\u4f1a\u51fa\u73b0\u4e00\u4e2a\u6307\u5411\u9501\u8bb0\u5f55\u7684\u6307\u9488\uff0c\u800c\u4e0d\u518d\u5b58\u7740\u65e0\u9501\u72b6\u6001\u4e0b\u7684\u9501\u5bf9\u8c61\u54c8\u5e0c\u7801\u7b49\u4fe1\u606f\uff0c\u6240\u4ee5\u5fc5\u987b\u5c06\u8fd9\u4e9b\u4fe1\u606f\u6682\u5b58\u8d77\u6765\uff0c\u4f9b\u540e\u9762\u5728\u9501\u91ca\u653e\u65f6\u4f7f\u7528"),(0,l.kt)("h5",{id:"\u91cd\u91cf\u7ea7\u9501\u7b80\u4ecb"},"\u91cd\u91cf\u7ea7\u9501\u7b80\u4ecb"),(0,l.kt)("p",null,"JVM\u4e2d\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u4f1a\u6709\u4e00\u4e2a\u76d1\u89c6\u5668\uff0c\u76d1\u89c6\u5668\u548c\u5bf9\u8c61\u4e00\u8d77\u521b\u5efa\u3001\u9500\u6bc1\u3002\u76d1\u89c6\u5668\u76f8\u5f53\u4e8e\u4e00\u4e2a\u7528\u6765\u76d1\u89c6\u8fd9\u4e9b\u7ebf\u7a0b\u8fdb\u5165\u7684\u7279\u6b8a\u623f\u95f4\uff0c\u5176\u4e49\u52a1\u662f\u4fdd\u8bc1\uff08\u540c\u4e00\u65f6\u95f4\uff09\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u88ab\u4fdd\u62a4\u7684\u4e34\u754c\u533a\u4ee3\u7801\u5757\u3002"),(0,l.kt)("p",null,"\u672c\u8d28\u4e0a\uff0c\u76d1\u89c6\u5668\u662f\u4e00\u79cd\u540c\u6b65\u5de5\u5177\uff0c\u4e5f\u53ef\u4ee5\u8bf4\u662f\u4e00\u79cd\u540c\u6b65\u673a\u5236\uff0c\u4e3b\u8981\u7279\u70b9\u662f\uff1a"),(0,l.kt)("p",null,"\uff081\uff09\u540c\u6b65\u3002\u76d1\u89c6\u5668\u6240\u4fdd\u62a4\u7684\u4e34\u754c\u533a\u4ee3\u7801\u662f\u4e92\u65a5\u5730\u6267\u884c\u7684\u3002\u4e00\u4e2a\u76d1\u89c6\u5668\u662f\u4e00\u4e2a\u8fd0\u884c\u8bb8\u53ef\uff0c\u4efb\u4e00\u7ebf\u7a0b\u8fdb\u5165\u4e34\u754c\u533a\u4ee3\u7801\u90fd\u9700\u8981\u83b7\u5f97\u8fd9\u4e2a\u8bb8\u53ef\uff0c\u79bb\u5f00\u65f6\u628a\u8bb8\u53ef\u5f52\u8fd8\u3002"),(0,l.kt)("p",null,"\uff082\uff09\u534f\u4f5c\u3002\u76d1\u89c6\u5668\u63d0\u4f9bSignal\u673a\u5236\uff0c\u5141\u8bb8\u6b63\u6301\u6709\u8bb8\u53ef\u7684\u7ebf\u7a0b\u6682\u65f6\u653e\u5f03\u8bb8\u53ef\u8fdb\u5165\u963b\u585e\u7b49\u5f85\u72b6\u6001\uff0c\u7b49\u5f85\u5176\u4ed6\u7ebf\u7a0b\u53d1\u9001Signal\u53bb\u5524\u9192\uff1b\u5176\u4ed6\u62e5\u6709\u8bb8\u53ef\u7684\u7ebf\u7a0b\u53ef\u4ee5\u53d1\u9001Signal\uff0c\u5524\u9192\u6b63\u5728\u963b\u585e\u7b49\u5f85\u7684\u7ebf\u7a0b\uff0c\u8ba9\u5b83\u53ef\u4ee5\u91cd\u65b0\u83b7\u5f97\u8bb8\u53ef\u5e76\u542f\u52a8\u6267\u884c\u3002"),(0,l.kt)("h4",{id:"\u8c08\u8c08-synchronized-\u548c-reentrantlock-\u7684\u533a\u522b"},"\u8c08\u8c08 synchronized \u548c ReentrantLock \u7684\u533a\u522b"),(0,l.kt)("h5",{id:"\u4e24\u8005\u90fd\u662f\u53ef\u91cd\u5165\u9501"},"\u4e24\u8005\u90fd\u662f\u53ef\u91cd\u5165\u9501"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u201c\u53ef\u91cd\u5165\u9501\u201d"),"  \u6307\u7684\u662f\u81ea\u5df1\u53ef\u4ee5\u518d\u6b21\u83b7\u53d6\u81ea\u5df1\u7684\u5185\u90e8\u9501\u3002\u6bd4\u5982\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u5f97\u4e86\u67d0\u4e2a\u5bf9\u8c61\u7684\u9501\uff0c\u6b64\u65f6\u8fd9\u4e2a\u5bf9\u8c61\u9501\u8fd8\u6ca1\u6709\u91ca\u653e\uff0c\u5f53\u5176\u518d\u6b21\u60f3\u8981\u83b7\u53d6\u8fd9\u4e2a\u5bf9\u8c61\u7684\u9501\u7684\u65f6\u5019\u8fd8\u662f\u53ef\u4ee5\u83b7\u53d6\u7684\uff0c\u5982\u679c\u662f\u4e0d\u53ef\u91cd\u5165\u9501\u7684\u8bdd\uff0c\u5c31\u4f1a\u9020\u6210\u6b7b\u9501\u3002\u540c\u4e00\u4e2a\u7ebf\u7a0b\u6bcf\u6b21\u83b7\u53d6\u9501\uff0c\u9501\u7684\u8ba1\u6570\u5668\u90fd\u81ea\u589e 1\uff0c\u6240\u4ee5\u8981\u7b49\u5230\u9501\u7684\u8ba1\u6570\u5668\u4e0b\u964d\u4e3a 0 \u65f6\u624d\u80fd\u91ca\u653e\u9501\u3002"),(0,l.kt)("h5",{id:"synchronized-\u4f9d\u8d56\u4e8e-jvm-\u800c-reentrantlock-\u4f9d\u8d56\u4e8e-api"},"synchronized \u4f9d\u8d56\u4e8e JVM \u800c ReentrantLock \u4f9d\u8d56\u4e8e API"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"synchronized")," \u662f",(0,l.kt)("strong",{parentName:"p"},"\u4f9d\u8d56\u4e8e JVM \u5b9e\u73b0"),"\u7684\uff0c\u524d\u9762\u6211\u4eec\u4e5f\u8bb2\u5230\u4e86 \u865a\u62df\u673a\u56e2\u961f\u5728 JDK1.6 \u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"synchronized")," \u5173\u952e\u5b57\u8fdb\u884c\u4e86\u5f88\u591a\u4f18\u5316\uff0c\u4f46\u662f\u8fd9\u4e9b\u4f18\u5316\u90fd\u662f\u5728\u865a\u62df\u673a\u5c42\u9762\u5b9e\u73b0\u7684\uff0c\u5e76\u6ca1\u6709\u76f4\u63a5\u66b4\u9732\u7ed9\u6211\u4eec\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"ReentrantLock")," \u662f ",(0,l.kt)("strong",{parentName:"p"},"JDK \u5c42\u9762\u5b9e\u73b0"),"\u7684\uff08\u4e5f\u5c31\u662f API \u5c42\u9762\uff0c\u9700\u8981 lock() \u548c unlock() \u65b9\u6cd5\u914d\u5408 try/finally \u8bed\u53e5\u5757\u6765\u5b8c\u6210\uff09\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u67e5\u770b\u5b83\u7684\u6e90\u4ee3\u7801\uff0c\u6765\u770b\u5b83\u662f\u5982\u4f55\u5b9e\u73b0\u7684\u3002"),(0,l.kt)("h5",{id:"reentrantlock-\u6bd4-synchronized-\u589e\u52a0\u4e86\u4e00\u4e9b\u9ad8\u7ea7\u529f\u80fd"},"ReentrantLock \u6bd4 synchronized \u589e\u52a0\u4e86\u4e00\u4e9b\u9ad8\u7ea7\u529f\u80fd"),(0,l.kt)("p",null,"\u76f8\u6bd4 ",(0,l.kt)("inlineCode",{parentName:"p"},"synchronized"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"ReentrantLock"),"\u589e\u52a0\u4e86\u4e00\u4e9b\u9ad8\u7ea7\u529f\u80fd\u3002\u4e3b\u8981\u6765\u8bf4\u4e3b\u8981\u6709\u4e09\u70b9\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7b49\u5f85\u53ef\u4e2d\u65ad")," : ",(0,l.kt)("inlineCode",{parentName:"li"},"ReentrantLock"),"\u63d0\u4f9b\u4e86\u4e00\u79cd\u80fd\u591f\u4e2d\u65ad\u7b49\u5f85\u9501\u7684\u7ebf\u7a0b\u7684\u673a\u5236\uff0c\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"li"},"lock.lockInterruptibly()")," \u6765\u5b9e\u73b0\u8fd9\u4e2a\u673a\u5236\u3002\u4e5f\u5c31\u662f\u8bf4",(0,l.kt)("em",{parentName:"li"},"\u6b63\u5728\u7b49\u5f85\u7684\u7ebf\u7a0b\u53ef\u4ee5\u9009\u62e9\u653e\u5f03\u7b49\u5f85\uff0c\u6539\u4e3a\u5904\u7406\u5176\u4ed6\u4e8b\u60c5"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u53ef\u5b9e\u73b0\u516c\u5e73\u9501")," : ",(0,l.kt)("inlineCode",{parentName:"li"},"ReentrantLock"),"\u53ef\u4ee5\u6307\u5b9a\u662f\u516c\u5e73\u9501\u8fd8\u662f\u975e\u516c\u5e73\u9501\u3002\u800c ",(0,l.kt)("inlineCode",{parentName:"li"},"synchronized"),"\u53ea\u80fd\u662f\u975e\u516c\u5e73\u9501\u3002\u6240\u8c13\u7684\u516c\u5e73\u9501\u5c31\u662f\u5148\u7b49\u5f85\u7684\u7ebf\u7a0b\u5148\u83b7\u5f97\u9501\u3002",(0,l.kt)("inlineCode",{parentName:"li"},"ReentrantLock"),"\u9ed8\u8ba4\u60c5\u51b5\u662f\u975e\u516c\u5e73\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"li"},"ReentrantLock"),"\u7c7b\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"ReentrantLock(boolean fair)"),"\u6784\u9020\u65b9\u6cd5\u6765\u5236\u5b9a\u662f\u5426\u662f\u516c\u5e73\u7684\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u53ef\u5b9e\u73b0\u9009\u62e9\u6027\u901a\u77e5\uff08\u9501\u53ef\u4ee5\u7ed1\u5b9a\u591a\u4e2a\u6761\u4ef6\uff09"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"synchronized"),"\u5173\u952e\u5b57\u4e0e ",(0,l.kt)("inlineCode",{parentName:"li"},"wait()"),"\u548c ",(0,l.kt)("inlineCode",{parentName:"li"},"notify()"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"notifyAll()"),"\u65b9\u6cd5\u76f8\u7ed3\u5408\u53ef\u4ee5\u5b9e\u73b0\u7b49\u5f85/\u901a\u77e5\u673a\u5236\u3002",(0,l.kt)("inlineCode",{parentName:"li"},"ReentrantLock"),"\u7c7b\u5f53\u7136\u4e5f\u53ef\u4ee5\u5b9e\u73b0\uff0c\u4f46\u662f\u9700\u8981\u501f\u52a9\u4e8e ",(0,l.kt)("inlineCode",{parentName:"li"},"Condition"),"\u63a5\u53e3\u4e0e ",(0,l.kt)("inlineCode",{parentName:"li"},"newCondition()"),"\u65b9\u6cd5\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"Condition"),"\u662f JDK1.5 \u4e4b\u540e\u624d\u6709\u7684\uff0c\u5b83\u5177\u6709\u5f88\u597d\u7684\u7075\u6d3b\u6027\uff0c\u6bd4\u5982\u53ef\u4ee5\u5b9e\u73b0\u591a\u8def\u901a\u77e5\u529f\u80fd\u4e5f\u5c31\u662f\u5728\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"Lock"),"\u5bf9\u8c61\u4e2d\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"Condition"),"\u5b9e\u4f8b\uff08\u5373\u5bf9\u8c61\u76d1\u89c6\u5668\uff09\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u7ebf\u7a0b\u5bf9\u8c61\u53ef\u4ee5\u6ce8\u518c\u5728\u6307\u5b9a\u7684 ",(0,l.kt)("inlineCode",{parentName:"strong"},"Condition"),"\u4e2d\uff0c\u4ece\u800c\u53ef\u4ee5\u6709\u9009\u62e9\u6027\u7684\u8fdb\u884c\u7ebf\u7a0b\u901a\u77e5\uff0c\u5728\u8c03\u5ea6\u7ebf\u7a0b\u4e0a\u66f4\u52a0\u7075\u6d3b\u3002 \u5728\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"strong"},"notify()/notifyAll()"),"\u65b9\u6cd5\u8fdb\u884c\u901a\u77e5\u65f6\uff0c\u88ab\u901a\u77e5\u7684\u7ebf\u7a0b\u662f\u7531 JVM \u9009\u62e9\u7684\uff0c\u7528 ",(0,l.kt)("inlineCode",{parentName:"strong"},"ReentrantLock"),"\u7c7b\u7ed3\u5408 ",(0,l.kt)("inlineCode",{parentName:"strong"},"Condition"),"\u5b9e\u4f8b\u53ef\u4ee5\u5b9e\u73b0\u201c\u9009\u62e9\u6027\u901a\u77e5\u201d")," \uff0c\u8fd9\u4e2a\u529f\u80fd\u975e\u5e38\u91cd\u8981\uff0c\u800c\u4e14\u662f Condition \u63a5\u53e3\u9ed8\u8ba4\u63d0\u4f9b\u7684\u3002\u800c ",(0,l.kt)("inlineCode",{parentName:"p"},"synchronized"),"\u5173\u952e\u5b57\u5c31\u76f8\u5f53\u4e8e\u6574\u4e2a Lock \u5bf9\u8c61\u4e2d\u53ea\u6709\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"Condition"),"\u5b9e\u4f8b\uff0c\u6240\u6709\u7684\u7ebf\u7a0b\u90fd\u6ce8\u518c\u5728\u5b83\u4e00\u4e2a\u8eab\u4e0a\u3002\u5982\u679c\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"notifyAll()"),"\u65b9\u6cd5\u7684\u8bdd\u5c31\u4f1a\u901a\u77e5\u6240\u6709\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u7684\u7ebf\u7a0b\u8fd9\u6837\u4f1a\u9020\u6210\u5f88\u5927\u7684\u6548\u7387\u95ee\u9898\uff0c\u800c ",(0,l.kt)("inlineCode",{parentName:"p"},"Condition"),"\u5b9e\u4f8b\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"signalAll()"),"\u65b9\u6cd5 \u53ea\u4f1a\u5524\u9192\u6ce8\u518c\u5728\u8be5 ",(0,l.kt)("inlineCode",{parentName:"p"},"Condition"),"\u5b9e\u4f8b\u4e2d\u7684\u6240\u6709\u7b49\u5f85\u7ebf\u7a0b\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5982\u679c\u4f60\u60f3\u4f7f\u7528\u4e0a\u8ff0\u529f\u80fd\uff0c\u90a3\u4e48\u9009\u62e9 ReentrantLock \u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\u3002\u6027\u80fd\u5df2\u4e0d\u662f\u9009\u62e9\u6807\u51c6")),(0,l.kt)("h3",{id:"threadlocal-\u539f\u7406"},"\u2b50ThreadLocal \u539f\u7406"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5982\u679c\u60f3\u5b9e\u73b0\u6bcf\u4e00\u4e2a\u7ebf\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u4e13\u5c5e\u672c\u5730\u53d8\u91cf\u8be5\u5982\u4f55\u89e3\u51b3\u5462\uff1f")," JDK \u4e2d\u63d0\u4f9b\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"ThreadLocal"),"\u7c7b\u6b63\u662f\u4e3a\u4e86\u89e3\u51b3\u8fd9\u6837\u7684\u95ee\u9898\u3002 ",(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("inlineCode",{parentName:"strong"},"ThreadLocal"),"\u7c7b\u4e3b\u8981\u89e3\u51b3\u7684\u5c31\u662f\u8ba9\u6bcf\u4e2a\u7ebf\u7a0b\u7ed1\u5b9a\u81ea\u5df1\u7684\u503c\uff0c\u53ef\u4ee5\u5c06 ",(0,l.kt)("inlineCode",{parentName:"strong"},"ThreadLocal"),"\u7c7b\u5f62\u8c61\u7684\u6bd4\u55bb\u6210\u5b58\u653e\u6570\u636e\u7684\u76d2\u5b50\uff0c\u76d2\u5b50\u4e2d\u53ef\u4ee5\u5b58\u50a8\u6bcf\u4e2a\u7ebf\u7a0b\u7684\u79c1\u6709\u6570\u636e\u3002")),(0,l.kt)("p",null,"\u4e0b\u9762\u662fThreadLocal\u7684\u6e90\u7801\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public class Thread implements Runnable {\n    //......\n    //\u4e0e\u6b64\u7ebf\u7a0b\u6709\u5173\u7684ThreadLocal\u503c\u3002\u7531ThreadLocal\u7c7b\u7ef4\u62a4\n    ThreadLocal.ThreadLocalMap threadLocals = null;\n\n    //\u4e0e\u6b64\u7ebf\u7a0b\u6709\u5173\u7684InheritableThreadLocal\u503c\u3002\u7531InheritableThreadLocal\u7c7b\u7ef4\u62a4\n    ThreadLocal.ThreadLocalMap inheritableThreadLocals = null;\n    //......\n}\n\n")),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u51fa ",(0,l.kt)("strong",{parentName:"p"},"\u6700\u7ec8\u7684\u53d8\u91cf\u662f\u653e\u5728\u4e86\u5f53\u524d\u7ebf\u7a0b\u7684 ",(0,l.kt)("inlineCode",{parentName:"strong"},"ThreadLocalMap")," \u4e2d\uff0c\u5e76\u4e0d\u662f\u5b58\u5728 ",(0,l.kt)("inlineCode",{parentName:"strong"},"ThreadLocal")," \u4e0a\uff0c",(0,l.kt)("inlineCode",{parentName:"strong"},"ThreadLocal")," \u53ef\u4ee5\u7406\u89e3\u4e3a\u53ea\u662f ",(0,l.kt)("inlineCode",{parentName:"strong"},"ThreadLocalMap"),"\u7684\u5c01\u88c5\uff0c\u4f20\u9012\u4e86\u53d8\u91cf\u503c\u3002")," ",(0,l.kt)("inlineCode",{parentName:"p"},"ThrealLocal")," \u7c7b\u4e2d\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"Thread.currentThread()"),"\u83b7\u53d6\u5230\u5f53\u524d\u7ebf\u7a0b\u5bf9\u8c61\u540e\uff0c\u76f4\u63a5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"getMap(Thread t)"),"\u53ef\u4ee5\u8bbf\u95ee\u5230\u8be5\u7ebf\u7a0b\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"ThreadLocalMap"),"\u5bf9\u8c61\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6bcf\u4e2a ",(0,l.kt)("inlineCode",{parentName:"strong"},"Thread"),"\u4e2d\u90fd\u5177\u5907\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"strong"},"ThreadLocalMap"),"\uff0c\u800c ",(0,l.kt)("inlineCode",{parentName:"strong"},"ThreadLocalMap"),"\u53ef\u4ee5\u5b58\u50a8\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"strong"},"ThreadLocal"),"\u4e3a key \uff0cObject \u5bf9\u8c61\u4e3a value \u7684\u952e\u503c\u5bf9\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220608223419067",src:n(14373).Z,width:"806",height:"837"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6ce8\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"ThreadLocalMap"),"\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"ThreadLocal"),"\u7684\u9759\u6001\u5185\u90e8\u7c7b\u3002")),(0,l.kt)("p",null,"\u3010\u6269\u5c55\u3011 ThreadLocal\u7684\u5185\u5b58\u6cc4\u9732\uff08\u7b80\u5316\u7248\uff09\uff1a"),(0,l.kt)("p",null,"\u5177\u4f53\u8be6\u7ec6\u770bGuide\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://javaguide.cn/java/concurrent/java-concurrent-questions-02.html#threadlocal-%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2%E9%97%AE%E9%A2%98"},"ThreadLocal\u7684\u5185\u5b58\u6cc4\u9732")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ThreadLocalMap")," \u4e2d\u4f7f\u7528\u7684 key \u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"ThreadLocal")," \u7684\u5f31\u5f15\u7528,\u800c value \u662f\u5f3a\u5f15\u7528\u3002\u6240\u4ee5\uff0c\u5982\u679c ",(0,l.kt)("inlineCode",{parentName:"p"},"ThreadLocal")," \u6ca1\u6709\u88ab\u5916\u90e8\u5f3a\u5f15\u7528\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u5783\u573e\u56de\u6536\u7684\u65f6\u5019\uff0ckey \u4f1a\u88ab\u6e05\u7406\u6389\uff0c\u800c value \u4e0d\u4f1a\u88ab\u6e05\u7406\u6389\u3002"),(0,l.kt)("h3",{id:"\u5b9e\u73b0-runnable-\u63a5\u53e3\u548c-callable-\u63a5\u53e3\u7684\u533a\u522b"},"\u5b9e\u73b0 Runnable \u63a5\u53e3\u548c Callable \u63a5\u53e3\u7684\u533a\u522b"),(0,l.kt)("p",null,"\u7ee7\u627fThread\u7c7b\u6216\u8005\u5b9e\u73b0Runnable\u63a5\u53e3\u8fd9\u4e24\u79cd\u65b9\u5f0f\u6765\u521b\u5efa\u7ebf\u7a0b\u7c7b\uff0c\u4f46\u662f\u8fd9\u4e24\u79cd\u65b9\u5f0f\u6709\u4e00\u4e2a\u5171\u540c\u7684\u7f3a\u9677\uff1a\u4e0d\u80fd\u83b7\u53d6\u5f02\u6b65\u6267\u884c\u7684\u7ed3\u679c\u3002Callable\u63a5\u53e3\u7c7b\u4f3c\u4e8eRunnable\u3002\u4e0d\u540c\u7684\u662f\uff0cRunnable\u7684\u552f\u4e00\u62bd\u8c61\u65b9\u6cd5run()\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u4e5f\u6ca1\u6709\u53d7\u68c0\u5f02\u5e38\u7684\u5f02\u5e38\u58f0\u660e\u3002\u6bd4\u8f83\u800c\u8a00\uff0cCallable\u63a5\u53e3\u7684call()\u6709\u8fd4\u56de\u503c\uff0c\u5e76\u4e14\u58f0\u660e\u4e86\u53d7\u68c0\u5f02\u5e38\uff0c\u5176\u529f\u80fd\u66f4\u5f3a\u5927\u4e00\u4e9b\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Runnable"),"\u81ea Java 1.0 \u4ee5\u6765\u4e00\u76f4\u5b58\u5728\uff0c\u4f46 ",(0,l.kt)("inlineCode",{parentName:"p"},"Callable"),"\u4ec5\u5728 Java 1.5 \u4e2d\u5f15\u5165,\u76ee\u7684\u5c31\u662f\u4e3a\u4e86\u6765\u5904\u7406 ",(0,l.kt)("inlineCode",{parentName:"p"},"Runnable"),"\u4e0d\u652f\u6301\u7684\u7528\u4f8b\u3002",(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("inlineCode",{parentName:"strong"},"Runnable")," \u63a5\u53e3")," \u4e0d\u4f1a\u8fd4\u56de\u7ed3\u679c\u6216\u629b\u51fa\u68c0\u67e5\u5f02\u5e38\uff0c\u4f46\u662f ",(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("inlineCode",{parentName:"strong"},"Callable")," \u63a5\u53e3")," \u53ef\u4ee5\u3002\u6240\u4ee5\uff0c\u5982\u679c\u4efb\u52a1\u4e0d\u9700\u8981\u8fd4\u56de\u7ed3\u679c\u6216\u629b\u51fa\u5f02\u5e38\u63a8\u8350\u4f7f\u7528 ",(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("inlineCode",{parentName:"strong"},"Runnable")," \u63a5\u53e3")," \uff0c\u8fd9\u6837\u4ee3\u7801\u770b\u8d77\u6765\u4f1a\u66f4\u52a0\u7b80\u6d01\u3002"),(0,l.kt)("h3",{id:"\u6267\u884c-execute\u65b9\u6cd5\u548c-submit\u65b9\u6cd5\u7684\u533a\u522b\u662f\u4ec0\u4e48\u5462"},"\u6267\u884c execute()\u65b9\u6cd5\u548c submit()\u65b9\u6cd5\u7684\u533a\u522b\u662f\u4ec0\u4e48\u5462\uff1f"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"strong"},"execute()"),"\u65b9\u6cd5\u7528\u4e8e\u63d0\u4ea4\u4e0d\u9700\u8981\u8fd4\u56de\u503c\u7684\u4efb\u52a1\uff0c\u6240\u4ee5\u65e0\u6cd5\u5224\u65ad\u4efb\u52a1\u662f\u5426\u88ab\u7ebf\u7a0b\u6c60\u6267\u884c\u6210\u529f\u4e0e\u5426\uff1b")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"strong"},"submit()"),"\u65b9\u6cd5\u7528\u4e8e\u63d0\u4ea4\u9700\u8981\u8fd4\u56de\u503c\u7684\u4efb\u52a1\u3002\u7ebf\u7a0b\u6c60\u4f1a\u8fd4\u56de\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"strong"},"Future")," \u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u901a\u8fc7\u8fd9\u4e2a ",(0,l.kt)("inlineCode",{parentName:"strong"},"Future")," \u5bf9\u8c61\u53ef\u4ee5\u5224\u65ad\u4efb\u52a1\u662f\u5426\u6267\u884c\u6210\u529f"),"\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"li"},"Future")," \u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"get()"),"\u65b9\u6cd5\u6765\u83b7\u53d6\u8fd4\u56de\u503c\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"get()"),"\u65b9\u6cd5\u4f1a\u963b\u585e\u5f53\u524d\u7ebf\u7a0b\u76f4\u5230\u4efb\u52a1\u5b8c\u6210\uff0c\u800c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"get(long timeout\uff0cTimeUnit unit)"),"\u65b9\u6cd5\u5219\u4f1a\u963b\u585e\u5f53\u524d\u7ebf\u7a0b\u4e00\u6bb5\u65f6\u95f4\u540e\u7acb\u5373\u8fd4\u56de\uff0c\u8fd9\u65f6\u5019\u6709\u53ef\u80fd\u4efb\u52a1\u6ca1\u6709\u6267\u884c\u5b8c\u3002")),(0,l.kt)("p",null,"Execute()\u6e90\u7801"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public void execute(Runnable command) {\n  ...\n}\n")),(0,l.kt)("p",null,"submit\u5927\u81f4\u6e90\u7801"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public Future<?> submit(Runnable task) {\n    if (task == null) throw new NullPointerException();\n    RunnableFuture<Void> ftask = newTaskFor(task, null);\n    execute(ftask);\n    return ftask;\n}\n\nprotected <T> RunnableFuture<T> newTaskFor(Runnable runnable, T value) {\n    return new FutureTask<T>(runnable, value);\n}\n\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"newTaskFor")," \u65b9\u6cd5\u8fd4\u56de\u4e86\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"FutureTask")," \u5bf9\u8c61\u3002"),(0,l.kt)("h3",{id:"\u5982\u4f55\u521b\u5efa\u7ebf\u7a0b\u6c60"},"\u2b50\u5982\u4f55\u521b\u5efa\u7ebf\u7a0b\u6c60"),(0,l.kt)("p",null,"\u300a\u963f\u91cc\u5df4\u5df4 Java \u5f00\u53d1\u624b\u518c\u300b\u4e2d\u5f3a\u5236\u7ebf\u7a0b\u6c60\u4e0d\u5141\u8bb8\u4f7f\u7528 Executors \u53bb\u521b\u5efa\uff0c\u800c\u662f\u901a\u8fc7 ThreadPoolExecutor \u7684\u65b9\u5f0f\uff0c\u8fd9\u6837\u7684\u5904\u7406\u65b9\u5f0f\u8ba9\u5199\u7684\u540c\u5b66\u66f4\u52a0\u660e\u786e\u7ebf\u7a0b\u6c60\u7684\u8fd0\u884c\u89c4\u5219\uff0c\u89c4\u907f\u8d44\u6e90\u8017\u5c3d\u7684\u98ce\u9669"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Executors \u8fd4\u56de\u7ebf\u7a0b\u6c60\u5bf9\u8c61\u7684\u5f0a\u7aef\u5982\u4e0b\uff1a"),(0,l.kt)("ul",{parentName:"blockquote"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"FixedThreadPool \u548c SingleThreadExecutor")," \uff1a \u5141\u8bb8\u8bf7\u6c42\u7684\u961f\u5217\u957f\u5ea6\u4e3a Integer.MAX_VALUE \uff0c\u53ef\u80fd\u5806\u79ef\u5927\u91cf\u7684\u8bf7\u6c42\uff0c\u4ece\u800c\u5bfc\u81f4 OOM\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"CachedThreadPool \u548c ScheduledThreadPool")," \uff1a \u5141\u8bb8\u521b\u5efa\u7684\u7ebf\u7a0b\u6570\u91cf\u4e3a Integer.MAX_VALUE \uff0c\u53ef\u80fd\u4f1a\u521b\u5efa\u5927\u91cf\u7ebf\u7a0b\uff0c\u4ece\u800c\u5bfc\u81f4 OOM\u3002"))),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220609154049166",src:n(47201).Z,width:"969",height:"759"})),(0,l.kt)("p",null,"\u6e90\u7801\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * \u7528\u7ed9\u5b9a\u7684\u521d\u59cb\u53c2\u6570\u521b\u5efa\u4e00\u4e2a\u65b0\u7684ThreadPoolExecutor\u3002\n */\npublic ThreadPoolExecutor(int corePoolSize, //\u7ebf\u7a0b\u6c60\u7684\u6838\u5fc3\u7ebf\u7a0b\u6570\u91cf\n                      int maximumPoolSize, //\u7ebf\u7a0b\u6c60\u7684\u6700\u5927\u7ebf\u7a0b\u6570\n                      long keepAliveTime, //\u5f53\u7ebf\u7a0b\u6570\u5927\u4e8e\u6838\u5fc3\u7ebf\u7a0b\u6570\u65f6\uff0c\u591a\u4f59\u7684\u7a7a\u95f2\u7ebf\u7a0b\u5b58\u6d3b\u7684\u6700\u957f\u65f6\u95f4\n                      TimeUnit unit, //\u65f6\u95f4\u5355\u4f4d\n                      BlockingQueue<Runnable> workQueue, //\u4efb\u52a1\u961f\u5217\uff0c\u7528\u6765\u50a8\u5b58\u7b49\u5f85\u6267\u884c\u4efb\u52a1\u7684\u961f\u5217\n                      ThreadFactory threadFactory, //\u7ebf\u7a0b\u5de5\u5382\uff0c\u7528\u6765\u521b\u5efa\u7ebf\u7a0b\uff0c\u4e00\u822c\u9ed8\u8ba4\u5373\u53ef\n                      RejectedExecutionHandler handler //\u62d2\u7edd\u7b56\u7565\uff0c\u5f53\u63d0\u4ea4\u7684\u4efb\u52a1\u8fc7\u591a\u800c\u4e0d\u80fd\u53ca\u65f6\u5904\u7406\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u5236\u7b56\u7565\u6765\u5904\u7406\u4efb\u52a1\n                         ) {\n    if (corePoolSize < 0 ||\n        maximumPoolSize <= 0 ||\n        maximumPoolSize < corePoolSize ||\n        keepAliveTime < 0)\n            throw new IllegalArgumentException();\n    if (workQueue == null || threadFactory == null || handler == null)\n        throw new NullPointerException();\n    this.corePoolSize = corePoolSize;\n    this.maximumPoolSize = maximumPoolSize;\n    this.workQueue = workQueue;\n    this.keepAliveTime = unit.toNanos(keepAliveTime);\n    this.threadFactory = threadFactory;\n    this.handler = handler;\n}\n\n")),(0,l.kt)("hr",null),(0,l.kt)("details",null,(0,l.kt)("summary",null,"ThreadPoolExecutor 3 \u4e2a\u6700\u91cd\u8981\u7684\u53c2\u6570\uff1a"),(0,l.kt)("p",null,"corePoolSize : \u6838\u5fc3\u7ebf\u7a0b\u6570\u5b9a\u4e49\u4e86\u6700\u5c0f\u53ef\u4ee5\u540c\u65f6\u8fd0\u884c\u7684\u7ebf\u7a0b\u6570\u91cf\u3002"),(0,l.kt)("p",null,"maximumPoolSize : \u5f53\u961f\u5217\u4e2d\u5b58\u653e\u7684\u4efb\u52a1\u8fbe\u5230\u961f\u5217\u5bb9\u91cf\u7684\u65f6\u5019\uff0c\u5f53\u524d\u53ef\u4ee5\u540c\u65f6\u8fd0\u884c\u7684\u7ebf\u7a0b\u6570\u91cf\u53d8\u4e3a\u6700\u5927\u7ebf\u7a0b\u6570\u3002"),(0,l.kt)("p",null,"workQueue: \u5f53\u65b0\u4efb\u52a1\u6765\u7684\u65f6\u5019\u4f1a\u5148\u5224\u65ad\u5f53\u524d\u8fd0\u884c\u7684\u7ebf\u7a0b\u6570\u91cf\u662f\u5426\u8fbe\u5230\u6838\u5fc3\u7ebf\u7a0b\u6570\uff0c\u5982\u679c\u8fbe\u5230\u7684\u8bdd\uff0c\u65b0\u4efb\u52a1\u5c31\u4f1a\u88ab\u5b58\u653e\u5728\u961f\u5217\u4e2d\u3002")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"`ThreadPoolExecutor`\u5176\u4ed6\u5e38\u89c1\u53c2\u6570"),(0,l.kt)("p",null,"keepAliveTime: \u5f53\u7ebf\u7a0b\u6c60\u4e2d\u7684\u7ebf\u7a0b\u6570\u91cf\u5927\u4e8e `corePoolSize` \u7684\u65f6\u5019\uff0c\u5982\u679c\u8fd9\u65f6\u6ca1\u6709\u65b0\u7684\u4efb\u52a1\u63d0\u4ea4\uff0c\u6838\u5fc3\u7ebf\u7a0b\u5916\u7684\u7ebf\u7a0b\u4e0d\u4f1a\u7acb\u5373\u9500\u6bc1\uff0c\u800c\u662f\u4f1a\u7b49\u5f85\uff0c\u76f4\u5230\u7b49\u5f85\u7684\u65f6\u95f4\u8d85\u8fc7\u4e86 `keepAliveTime`\u624d\u4f1a\u88ab\u56de\u6536\u9500\u6bc1\uff1b"),(0,l.kt)("p",null,"unit: \u53c2\u6570\u7684\u65f6\u95f4\u5355\u4f4d"),(0,l.kt)("p",null,"threadFactory: executor \u521b\u5efa\u65b0\u7ebf\u7a0b\u7684\u65f6\u5019\u4f1a\u7528\u5230"),(0,l.kt)("p",null,"handler: \u62d2\u7edd\u7b56\u7565",(0,l.kt)("p",null,"1. `ThreadPoolExecutor.AbortPolicy`: \u629b\u51fa RejectedExecutionException\u6765\u62d2\u7edd\u65b0\u4efb\u52a1\u7684\u5904\u7406\u3002"),(0,l.kt)("p",null,"2. `ThreadPoolExecutor.CallerRunsPolicy`: \u63d0\u4ea4\u4efb\u52a1\u7684\u7ebf\u7a0b\u81ea\u5df1\u53bb\u6267\u884c\u8be5\u4efb\u52a1"),(0,l.kt)("p",null,"3. `ThreadPoolExecutor.DiscardPolicy`:  \u4e0d\u5904\u7406\u65b0\u4efb\u52a1\uff0c\u76f4\u63a5\u4e22\u5f03\u6389\u3002"),(0,l.kt)("p",null,"4. `ThreadPoolExecutor.DiscardOldestPolicy`:  \u6b64\u7b56\u7565\u5c06\u4e22\u5f03\u6700\u65e9\u7684\u672a\u5904\u7406\u7684\u4efb\u52a1\u8bf7\u6c42\u3002"))),(0,l.kt)("h3",{id:"juc-\u5305\u4e2d\u7684\u539f\u5b50\u7c7b\u662f\u54ea-4-\u7c7b"},"JUC \u5305\u4e2d\u7684\u539f\u5b50\u7c7b\u662f\u54ea 4 \u7c7b?"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u57fa\u672c\u7c7b\u578b")),(0,l.kt)("p",null,"\u4f7f\u7528\u539f\u5b50\u7684\u65b9\u5f0f\u66f4\u65b0\u57fa\u672c\u7c7b\u578b"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"AtomicInteger"),"\uff1a\u6574\u578b\u539f\u5b50\u7c7b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"AtomicLong"),"\uff1a\u957f\u6574\u578b\u539f\u5b50\u7c7b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"AtomicBoolean"),"\uff1a\u5e03\u5c14\u578b\u539f\u5b50\u7c7b")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6570\u7ec4\u7c7b\u578b")),(0,l.kt)("p",null,"\u4f7f\u7528\u539f\u5b50\u7684\u65b9\u5f0f\u66f4\u65b0\u6570\u7ec4\u91cc\u7684\u67d0\u4e2a\u5143\u7d20"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"AtomicIntegerArray"),"\uff1a\u6574\u578b\u6570\u7ec4\u539f\u5b50\u7c7b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"AtomicLongArray"),"\uff1a\u957f\u6574\u578b\u6570\u7ec4\u539f\u5b50\u7c7b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"AtomicReferenceArray"),"\uff1a\u5f15\u7528\u7c7b\u578b\u6570\u7ec4\u539f\u5b50\u7c7b")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5f15\u7528\u7c7b\u578b")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"AtomicReference"),"\uff1a\u5f15\u7528\u7c7b\u578b\u539f\u5b50\u7c7b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"AtomicStampedReference"),"\uff1a\u539f\u5b50\u66f4\u65b0\u5e26\u6709",(0,l.kt)("strong",{parentName:"li"},"\u7248\u672c\u53f7"),"\u7684\u5f15\u7528\u7c7b\u578b\u3002\u8be5\u7c7b\u5c06\u6574\u6570\u503c\u4e0e\u5f15\u7528\u5173\u8054\u8d77\u6765\uff0c\u53ef\u7528\u4e8e\u89e3\u51b3\u539f\u5b50\u7684\u66f4\u65b0\u6570\u636e\u548c\u6570\u636e\u7684\u7248\u672c\u53f7\uff0c\u53ef\u4ee5\u89e3\u51b3\u4f7f\u7528 CAS \u8fdb\u884c\u539f\u5b50\u66f4\u65b0\u65f6\u53ef\u80fd\u51fa\u73b0\u7684 ABA \u95ee\u9898\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"AtomicMarkableReference")," \uff1a\u539f\u5b50\u66f4\u65b0\u5e26\u6709",(0,l.kt)("strong",{parentName:"li"},"\u6807\u8bb0\u4f4d"),"\u7684\u5f15\u7528\u7c7b\u578b")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5bf9\u8c61\u7684\u5c5e\u6027\u4fee\u6539\u7c7b\u578b")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"AtomicIntegerFieldUpdater"),"\uff1a\u539f\u5b50\u66f4\u65b0\u6574\u578b\u5b57\u6bb5\u7684\u66f4\u65b0\u5668"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"AtomicLongFieldUpdater"),"\uff1a\u539f\u5b50\u66f4\u65b0\u957f\u6574\u578b\u5b57\u6bb5\u7684\u66f4\u65b0\u5668"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"AtomicReferenceFieldUpdater"),"\uff1a\u539f\u5b50\u66f4\u65b0\u5f15\u7528\u7c7b\u578b\u5b57\u6bb5\u7684\u66f4\u65b0\u5668")),(0,l.kt)("h3",{id:"\u80fd\u4e0d\u80fd\u7ed9\u6211\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b-atomicinteger-\u7c7b"},"\u80fd\u4e0d\u80fd\u7ed9\u6211\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b AtomicInteger \u7c7b"),(0,l.kt)("p",null,"\u5e38\u7528\u7c7b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public final int get() //\u83b7\u53d6\u5f53\u524d\u7684\u503c\npublic final int getAndSet(int newValue)//\u83b7\u53d6\u5f53\u524d\u7684\u503c\uff0c\u5e76\u8bbe\u7f6e\u65b0\u7684\u503c\npublic final int getAndIncrement()//\u83b7\u53d6\u5f53\u524d\u7684\u503c\uff0c\u5e76\u81ea\u589e\npublic final int getAndDecrement() //\u83b7\u53d6\u5f53\u524d\u7684\u503c\uff0c\u5e76\u81ea\u51cf\npublic final int getAndAdd(int delta) //\u83b7\u53d6\u5f53\u524d\u7684\u503c\uff0c\u5e76\u52a0\u4e0a\u9884\u671f\u7684\u503c\nboolean compareAndSet(int expect, int update) //\u5982\u679c\u8f93\u5165\u7684\u6570\u503c\u7b49\u4e8e\u9884\u671f\u503c\uff0c\u5219\u4ee5\u539f\u5b50\u65b9\u5f0f\u5c06\u8be5\u503c\u8bbe\u7f6e\u4e3a\u8f93\u5165\u503c\uff08update\uff09\npublic final void lazySet(int newValue)//\u6700\u7ec8\u8bbe\u7f6e\u4e3anewValue,\u4f7f\u7528 lazySet \u8bbe\u7f6e\u4e4b\u540e\u53ef\u80fd\u5bfc\u81f4\u5176\u4ed6\u7ebf\u7a0b\u5728\u4e4b\u540e\u7684\u4e00\u5c0f\u6bb5\u65f6\u95f4\u5185\u8fd8\u662f\u53ef\u4ee5\u8bfb\u5230\u65e7\u7684\u503c\u3002\n")),(0,l.kt)("p",null,"AtomicInteger \u7c7b\u4e3b\u8981\u5229\u7528 CAS (compare and swap) + volatile \u548c native \u65b9\u6cd5\u6765\u4fdd\u8bc1\u539f\u5b50\u64cd\u4f5c\uff0c\u4ece\u800c\u907f\u514d synchronized \u7684\u9ad8\u5f00\u9500\uff0c\u6267\u884c\u6548\u7387\u5927\u4e3a\u63d0\u5347\u3002"),(0,l.kt)("p",null,"AtomicInteger \u7c7b\u7684\u90e8\u5206\u6e90\u7801\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'// setup to use Unsafe.compareAndSwapInt for updates\uff08\u66f4\u65b0\u64cd\u4f5c\u65f6\u63d0\u4f9b\u201c\u6bd4\u8f83\u5e76\u66ff\u6362\u201d\u7684\u4f5c\u7528\uff09\nprivate static final Unsafe unsafe = Unsafe.getUnsafe();\nprivate static final long valueOffset;\n\nstatic {\n    try {\n        valueOffset = unsafe.objectFieldOffset\n            (AtomicInteger.class.getDeclaredField("value"));\n    } catch (Exception ex) { throw new Error(ex); }\n}\n\nprivate volatile int value;\n')),(0,l.kt)("p",null,"CAS \u7684\u539f\u7406\u662f\u62ff\u671f\u671b\u7684\u503c\u548c\u539f\u672c\u7684\u4e00\u4e2a\u503c\u4f5c\u6bd4\u8f83\uff0c\u5982\u679c\u76f8\u540c\u5219\u66f4\u65b0\u6210\u65b0\u7684\u503c\u3002UnSafe \u7c7b\u7684 objectFieldOffset()  \u65b9\u6cd5\u662f\u4e00\u4e2a\u672c\u5730\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u7528\u6765\u62ff\u5230\u201c\u539f\u6765\u7684\u503c\u201d\u7684\u5185\u5b58\u5730\u5740\uff0c\u8fd4\u56de\u503c\u662f valueOffset\u3002\u53e6\u5916 value \u662f\u4e00\u4e2a volatile  \u53d8\u91cf\uff0c\u5728\u5185\u5b58\u4e2d\u53ef\u89c1\uff0c\u56e0\u6b64 JVM \u53ef\u4ee5\u4fdd\u8bc1\u4efb\u4f55\u65f6\u523b\u4efb\u4f55\u7ebf\u7a0b\u603b\u80fd\u62ff\u5230\u8be5\u53d8\u91cf\u7684\u6700\u65b0\u503c\u3002"),(0,l.kt)("h3",{id:"-\u8bf7\u4f60\u8bf4\u4e00\u4e0b\u81ea\u5df1\u5bf9\u4e8e-aqs-\u539f\u7406\u7684\u7406\u89e3"},"\ud83d\udd25 \u8bf7\u4f60\u8bf4\u4e00\u4e0b\u81ea\u5df1\u5bf9\u4e8e AQS \u539f\u7406\u7684\u7406\u89e3"),(0,l.kt)("h4",{id:"\u524d\u63d0locksupport"},"\u524d\u63d0\uff1aLockSupport"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Basic thread blocking primitives (\u539f\u59cb) for creating locks and other synchronization (\u540c\u6b65) classes."),(0,l.kt)("p",{parentName:"blockquote"},"This class associates, with each thread that uses it, a permit (in the sense of the Semaphore class). A call to park will return immediately if the permit is available, consuming it in the process; otherwise it may block. A call to unpark makes the permit available, if it was not already available. (Unlike with Semaphores (\u65d7\u8bed) though, permits do not accumulate (\u79ef\u7d2f) . There is at most one.)")),(0,l.kt)("p",null,"\u7b80\u800c\u8a00\u4e4b\u5c31\u662fwait/notify\u7684\u52a0\u5f3a\u7248\uff0c\u5e38\u7528\u7684\u4e24\u4e2a\u51fd\u6570\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"park()"),(0,l.kt)("li",{parentName:"ul"},"unpark()")),(0,l.kt)("p",null,"\u5176\u4ed6\u8ba9\u7ebf\u7a0b\u963b\u585e\u5524\u9192\u7684\u65b9\u6cd5\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718201745624",src:n(78232).Z,width:"656",height:"202"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u9700\u8981\u6ce8\u610f\u7684\u662f"),(0,l.kt)("ol",{parentName:"blockquote"},(0,l.kt)("li",{parentName:"ol"},"wait\u548cnotify\u5fc5\u987b\u8981\u5728synchronized\u4ee3\u7801\u5757\u4e2d\u5426\u5219\u4f1a\u62a5\u9519"),(0,l.kt)("li",{parentName:"ol"},"await\u548csignal\u5fc5\u987b\u662f\u5728lock\uff08\u4f8b\u5982ReentrantLock\u91cc\u9762\uff09\u624d\u884c\uff0c\u5426\u5219\u62a5\u9519"))),(0,l.kt)("p",null,"LockSupport\u7528\u6765\u521b\u5efa\u9501\u548c\u5176\u4ed6\u540c\u6b65\u7c7b\u7684\u57fa\u672c\u7ebf\u7a0b\u963b\u585e\u539f\u8bed\u3002\u7b80\u800c\u8a00\u4e4b\uff0c\u5f53\u8c03\u7528LockSupport.park\u65f6\uff0c\u8868\u793a\u5f53\u524d\u7ebf\u7a0b\u5c06\u4f1a\u7b49\u5f85\uff0c\u76f4\u81f3\u83b7\u5f97\u8bb8\u53ef\uff0c\u5f53\u8c03\u7528LockSupport.unpark\u65f6\uff0c\u5fc5\u987b\u628a\u7b49\u5f85\u83b7\u5f97\u8bb8\u53ef\u7684\u7ebf\u7a0b\u4f5c\u4e3a\u53c2\u6570\u8fdb\u884c\u4f20\u9012\uff0c\u597d\u8ba9\u6b64\u7ebf\u7a0b\u7ee7\u7eed\u8fd0\u884c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public static void park() {\n    UNSAFE.park(false, 0L);\n}\npublic static void park(Object blocker) {\n    Thread t = Thread.currentThread();\n    setBlocker(t, blocker);\n    UNSAFE.park(false, 0L);\n    setBlocker(t, null);\n}\n\n...\npublic static void unpark(Thread thread) {\n    if (thread != null)\n        UNSAFE.unpark(thread);\n}\n")),(0,l.kt)("p",null,"permit\u9ed8\u8ba4\u662f0\uff0c\u6240\u4ee5\u4e00\u5f00\u59cb\u8c03\u7528park()\u65b9\u6cd5\uff0c\u5f53\u524d\u7ebf\u7a0b\u5c31\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u522b\u7684\u7ebf\u7a0b\u5c06\u5f53\u524d\u7ebf\u7a0b\u7684permit\u8bbe\u7f6e\u4e3a1\u65f6\uff0cpark\u65b9\u6cd5\u4f1a\u88ab\u5524\u9192\uff0c\u7136\u540e\u4f1a\u5c06permit\u518d\u6b21\u8bbe\u7f6e\u4e3a0\u5e76\u8fd4\u56de\u3002"),(0,l.kt)("p",null,"unpark(Thread thread) - \u5524\u9192\u5904\u4e8e\u963b\u585e\u72b6\u6001\u7684\u6307\u5b9a\u7ebf\u7a0b"),(0,l.kt)("p",null,"\u8c03\u7528unpark(thread)\u65b9\u6cd5\u540e\uff0c\u5c31\u4f1a\u5c06thread\u7ebf\u7a0b\u7684\u8bb8\u53efpermit\u8bbe\u7f6e\u62101\uff08\u6ce8\u610f\u591a\u6b21\u8c03\u7528unpark\u65b9\u6cd5\uff0c\u4e0d\u4f1a\u7d2f\u52a0\uff0cpemit\u503c\u8fd8\u662f1\uff09\u4f1a\u81ea\u52a8\u5524\u9192thead\u7ebf\u7a0b\uff0c\u5373\u4e4b\u524d\u963b\u585e\u4e2d\u7684LockSupport.park()\u65b9\u6cd5\u4f1a\u7acb\u5373\u8fd4\u56de\u3002"),(0,l.kt)("h4",{id:"\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u6a21\u677f\u65b9\u6cd5"},"\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u6a21\u677f\u65b9\u6cd5"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8be5\u5c0f\u8282\u53c2\u8003\u4e86\u300a\u79d2\u61c2\u8bbe\u8ba1\u6a21\u5f0f\u300b\u3001\u300a\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u7985\u300b\u3001\u300a\u56fe\u89e3\u8bbe\u8ba1\u6a21\u5f0f\u300b")),(0,l.kt)("p",null,"Define the skeleton of an algorithm in an operation,deferring some steps to subclasses.Template Method lets subclasses redefine certain steps of an algorithm without changing the algorithm's structure.\uff08\u5b9a\u4e49\u4e00\u4e2a\u64cd\u4f5c\u4e2d\u7684\u7b97\u6cd5\u7684\u6846\u67b6\uff0c\u800c\u5c06\u4e00\u4e9b\u6b65\u9aa4\u5ef6\u8fdf\u5230\u5b50\u7c7b\u4e2d\u3002\u4f7f\u5f97\u5b50\u7c7b\u53ef\u4ee5\u4e0d\u6539\u53d8\u4e00\u4e2a\u7b97\u6cd5\u7684\u7ed3\u6784\u5373\u53ef\u91cd\u5b9a\u4e49\u8be5\u7b97\u6cd5\u7684\u67d0\u4e9b\u7279\u5b9a\u6b65\u9aa4\u3002\uff09"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220627130052162",src:n(42810).Z,width:"739",height:"551"})),(0,l.kt)("p",null,"\u6a21\u677f\u6a21\u5f0f\u7684\u5173\u952e\u5728\u4e8e\uff1a\u7236\u7c7b\u63d0\u4f9b\u6846\u67b6\u6027\u7684\u516c\u5171\u903b\u8f91\uff0c\u5b50\u7c7b\u63d0\u4f9b\u4e2a\u6027\u5316\u7684\u5b9a\u5236\u903b\u8f91\u3002"),(0,l.kt)("p",null,"\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f\u786e\u5b9e\u975e\u5e38\u7b80\u5355\uff0c\u4ec5\u4ec5\u4f7f\u7528\u4e86Java\u7684\u7ee7\u627f\u673a\u5236\uff0c\u4f46\u5b83\u662f\u4e00\u4e2a\u5e94\u7528\u975e\u5e38\u5e7f\u6cdb\u7684\u6a21\u5f0f\u3002\u5176\u4e2d\uff0cAbstractClass\u53eb\u505a\u62bd\u8c61\u6a21\u677f\uff0c\u5b83\u7684\u65b9\u6cd5\u5206\u4e3a\u4e24\u7c7b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u57fa\u672c\u65b9\u6cd5"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u57fa\u672c\u65b9\u6cd5\u4e5f\u53eb\u505a\u57fa\u672c\u64cd\u4f5c\uff0c\u662f\u7531\u5b50\u7c7b\u5b9e\u73b0\u7684\u65b9\u6cd5\uff0c\u5e76\u4e14\u5728\u6a21\u677f\u65b9\u6cd5\u88ab\u8c03\u7528\u3002"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6a21\u677f\u65b9\u6cd5"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u6709\u4e00\u4e2a\u6216\u51e0\u4e2a\uff0c\u4e00\u822c\u662f\u4e00\u4e2a\u5177\u4f53\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u6846\u67b6\uff0c\u5b9e\u73b0\u5bf9\u57fa\u672c\u65b9\u6cd5\u7684\u8c03\u5ea6\uff0c\u5b8c\u6210\u56fa\u5b9a\u7684\u903b\u8f91\u3002")))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\u3000\u4e3a\u4e86\u9632\u6b62\u6076\u610f\u7684\u64cd\u4f5c\uff0c\u4e00\u822c\u6a21\u677f\u65b9\u6cd5\u90fd\u52a0\u4e0afinal\u5173\u952e\u5b57\uff0c\u4e0d\u5141\u8bb8\u88ab\u8986\u5199")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4ee3\u7801\u793a\u4f8b")),(0,l.kt)("p",null,"\u65e2\u7136\u9cb8\u3001\u4eba\u7c7b\u3001\u8759\u8760\u90fd\u662f\u52a8\u7269\uff0c\u90a3\u4e48\u4e00\u5b9a\u5f97\u5177\u5907\u52a8\u7269\u6700\u57fa\u672c\u7684\u751f\u5b58\u6280\u80fd\uff0c\u6240\u4ee5\u6211\u4eec\u5efa\u6a21\u65f6\u8981\u4f53\u73b0\u5176\u201c\u52a8\u201d\u4e0e\u201c\u5403\u201d\u8fd9\u4e24\u79cd\u672c\u80fd\u884c\u4e3a\uff0c\u7f3a\u4e00\u4e0d\u53ef"),(0,l.kt)("p",null,"\u5b9a\u4e49\u4e00\u4e2a\u884c\u4e3a\uff08\u6a21\u677f\uff09"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public abstract class Mammal {\n    public abstract void move( );\n    public abstract void eat( );\n    public final void live() {\n        move();\n        eat();\n    }\n}\n")),(0,l.kt)("p",null,"\u9cb8\u9c7c\u7c7b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'class Whale extends Mammal {\n    @Override\n    public void move() {\n        System.out.print("\u9cb8\u5728\u6c34\u91cc\u6e38\u7740...");\n    }\n    @Override\n    public void eat() {\n        System . out. println("\u6355\u9c7c\u5403\u3002");\n    }\n}\n')),(0,l.kt)("p",null,"\u4eba\u7c7b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'class Human extends Mammal {\n    @Override\n    public void move() {\n        System.out.print("\u4eba\u7c7b\u5728\u8def\u4e0a\u5f00\u7740\u8f66...");\n    }\n    @Override\n    public void eat() {\n        System. out. println("\u53bb\u516c\u53f8\u6323\u94b1\u5403\u996d\u3002");\n    }\n}\n')),(0,l.kt)("p",null,"\u54fa\u4e73\u52a8\u7269\u7edf\u4e00\u8c03\u7528\u4e86\u901a\u7528\u7684\u6a21\u677f\u65b9\u6cd5live()\uff0c\u4ee5\u6b64\u4f5c\u4e3a\u751f\u5b58\u6cd5\u5219\u5c31\u80fd\u5f88\u597d\u5730\u5b58\u6d3b\u4e0b\u53bb"),(0,l.kt)("p",null,"AQS\u7684\u6a21\u677f\u65b9\u6cd5"),(0,l.kt)("p",null,"\u52a0\u9501\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220719142312335",src:n(42807).Z,width:"1213",height:"785"})),(0,l.kt)("p",null,"\u91ca\u653e\u9501\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220719142348103",src:n(28041).Z,width:"1358",height:"616"})),(0,l.kt)("h4",{id:"aqs\u57fa\u672c\u539f\u7406"},"AQS\u57fa\u672c\u539f\u7406"),(0,l.kt)("p",null,"AQS\u4e3a\u6bcf\u4e2a\u5171\u4eab\u8d44\u6e90\u90fd\u8bbe\u7f6e\u4e00\u4e2a\u5171\u4eab\u8d44\u6e90\u9501\uff0c\u7ebf\u7a0b\u5728\u9700\u8981\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u65f6\u9996\u5148\u9700\u8981\u83b7\u53d6\u5171\u4eab\u8d44\u6e90\u9501\uff0c\u5982\u679c\u83b7\u53d6\u5230\u4e86\u5171\u4eab\u8d44\u6e90\u9501\uff0c\u4fbf\u53ef\u4ee5\u5728\u5f53\u524d\u7ebf\u7a0b\u4e2d\u4f7f\u7528\u8be5\u5171\u4eab\u8d44\u6e90\uff0c\u5982\u679c\u83b7\u53d6\u4e0d\u5230\uff0c\u5219\u5c06\u8be5\u7ebf\u7a0b\u653e\u5165\u7ebf\u7a0b\u7b49\u5f85\u961f\u5217\uff0c\u7b49\u5f85\u4e0b\u4e00\u6b21\u8d44\u6e90\u8c03\u5ea6\uff0c\u5177\u4f53\u7684\u6d41\u7a0b\u5982\u56fe\u3002\u8bb8\u591a\u540c\u6b65\u7c7b\u7684\u5b9e\u73b0\u90fd\u4f9d\u8d56\u4e8eAQS\uff0c\u4f8b\u5982\u5e38\u7528\u7684ReentrantLock\u3001Semaphore\u548cCountDownLatch\u3002\uff08\u56fe\u7247\u6765\u6e90\u4e8e\u300aoffer\u6765\u4e86\u300b\uff09"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220626111741892",src:n(27484).Z,width:"1701",height:"669"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"state\uff1a\u72b6\u6001")," Abstract Queued Synchronizer\u7ef4\u62a4\u4e86\u4e00\u4e2avolatile int\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u7528\u4e8e\u8868\u793a\u5f53\u524d\u7684\u540c\u6b65\u72b6\u6001\u3002Volatile\u867d\u7136\u4e0d\u80fd\u4fdd\u8bc1\u64cd\u4f5c\u7684\u539f\u5b50\u6027\uff0c\u4f46\u662f\u80fd\u4fdd\u8bc1\u5f53\u524d\u53d8\u91cfstate\u7684\u53ef\u89c1\u6027\u3002state\u7684\u8bbf\u95ee\u65b9\u5f0f\u6709\u4e09\u79cd\uff1agetState()\u3001setState()\u548ccompareAndSetState()\uff0c\u5747\u662f\u539f\u5b50\u64cd\u4f5c\uff0c\u5176\u4e2d\uff0ccompareAndSetState\u7684\u5b9e\u73b0\u4f9d\u8d56\u4e8eUnsafe\u7684compareAndSwapInt()\u3002\u5177\u4f53\u7684JDK\u4ee3\u7801\u5b9e\u73b0\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// \u8fd4\u56de\u540c\u6b65\u72b6\u6001\u7684\u5f53\u524d\u503c\u3002\u6b64\u64cd\u4f5c\u5177\u6709volatile\u8bfb\u53d6\u539f\u5b50\u64cd\u4f5c\u3002\nprotected final long getState() {\n    return state;\n}\n// \u8bbe\u7f6e\u540c\u6b65\u72b6\u6001\u7684\u503c\u3002\u6b64\u64cd\u4f5c\u5177\u6709volatile\u5199\u5165\u539f\u5b50\u64cd\u4f5c\u3002\nprotected final void setState(long newState) {\n    state = newState;\n}\n//\u81ea\u52a8\u5c06\u540c\u6b65\u72b6\u6001\u8bbe\u7f6e\u4e3a\u7ed9\u5b9a\u7684\u66f4\u65b0\u72b6\u6001\u503c(\u5982\u679c\u5f53\u524d\u72b6\u6001\u503c\u7b49\u4e8e\u9884\u671f\u503c)\n//\u6b64\u64cd\u4f5c\u7684\u5185\u5b58\u8bed\u4e49\u4e3avolatile\u4fee\u9970\u7684\u539f\u5b50\u8bfb\u5199\u64cd\u4f5c\nprotected final boolean compareAndSetState(long expect, long update) {\n    // See below for intrinsics setup to support this\n    return unsafe.compareAndSwapLong(this, stateOffset, expect, update);\n}\n")),(0,l.kt)("h4",{id:"aqs\u6570\u636e\u7ed3\u6784"},"AQS\u6570\u636e\u7ed3\u6784"),(0,l.kt)("h5",{id:"clh"},"CLH"),(0,l.kt)("p",null,"AbstractQueuedSynchronizer\u7c7b\u5e95\u5c42\u7684\u6570\u636e\u7ed3\u6784\u662f\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"CLH(Craig,Landin,and Hagersten)\u961f\u5217"),"\u662f\u4e00\u4e2a\u865a\u62df\u7684\u53cc\u5411\u961f\u5217(\u865a\u62df\u7684\u53cc\u5411\u961f\u5217\u5373\u4e0d\u5b58\u5728\u961f\u5217\u5b9e\u4f8b\uff0c\u4ec5\u5b58\u5728\u7ed3\u70b9\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb)\u3002AQS\u662f\u5c06\u6bcf\u6761\u8bf7\u6c42\u5171\u4eab\u8d44\u6e90\u7684\u7ebf\u7a0b\u5c01\u88c5\u6210\u4e00\u4e2aCLH\u9501\u961f\u5217\u7684\u4e00\u4e2a\u7ed3\u70b9(Node)\u6765\u5b9e\u73b0\u9501\u7684\u5206\u914d\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220626113216377",src:n(39174).Z,width:"681",height:"181"})),(0,l.kt)("h5",{id:"node"},"Node"),(0,l.kt)("p",null,"Node\u5373\u4e3a\u4e0a\u9762CLH\u53d8\u4f53\u961f\u5217\u4e2d\u7684\u8282\u70b9\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(31628).Z,width:"1675",height:"193"})),(0,l.kt)("p",null,"\u89e3\u91ca\u4e00\u4e0b\u51e0\u4e2a\u65b9\u6cd5\u548c\u5c5e\u6027\u503c\u7684\u542b\u4e49\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"\u65b9\u6cd5\u548c\u5c5e\u6027\u503c"),(0,l.kt)("th",{parentName:"tr",align:"left"},"\u542b\u4e49"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"waitStatus"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u5f53\u524d\u8282\u70b9\u5728\u961f\u5217\u4e2d\u7684\u72b6\u6001")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"thread"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u8868\u793a\u5904\u4e8e\u8be5\u8282\u70b9\u7684\u7ebf\u7a0b")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"prev"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u524d\u9a71\u6307\u9488")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"predecessor"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u8fd4\u56de\u524d\u9a71\u8282\u70b9\uff0c\u6ca1\u6709\u7684\u8bdd\u629b\u51fanpe")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"nextWaiter"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5411\u4e0b\u4e00\u4e2a\u5904\u4e8eCONDITION\u72b6\u6001\u7684\u8282\u70b9\uff08\u7531\u4e8e\u672c\u7bc7\u6587\u7ae0\u4e0d\u8bb2\u8ff0Condition Queue\u961f\u5217\uff0c\u8fd9\u4e2a\u6307\u9488\u4e0d\u591a\u4ecb\u7ecd\uff09")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"next"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u540e\u7ee7\u6307\u9488")))),(0,l.kt)("p",null,"\u7ebf\u7a0b\u4e24\u79cd\u9501\u7684\u6a21\u5f0f\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"\u6a21\u5f0f"),(0,l.kt)("th",{parentName:"tr",align:"left"},"\u542b\u4e49"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"SHARED"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u8868\u793a\u7ebf\u7a0b\u4ee5\u5171\u4eab\u7684\u6a21\u5f0f\u7b49\u5f85\u9501")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"EXCLUSIVE"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u8868\u793a\u7ebf\u7a0b\u6b63\u5728\u4ee5\u72ec\u5360\u7684\u65b9\u5f0f\u7b49\u5f85\u9501")))),(0,l.kt)("p",null,"waitStatus\u6709\u4e0b\u9762\u51e0\u4e2a\u679a\u4e3e\u503c\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"\u679a\u4e3e"),(0,l.kt)("th",{parentName:"tr",align:"left"},"\u542b\u4e49"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"0"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u5f53\u4e00\u4e2aNode\u88ab\u521d\u59cb\u5316\u7684\u65f6\u5019\u7684\u9ed8\u8ba4\u503c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"CANCELLED"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u4e3a1\uff0c\u8868\u793a\u7ebf\u7a0b\u83b7\u53d6\u9501\u7684\u8bf7\u6c42\u5df2\u7ecf\u53d6\u6d88\u4e86")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"CONDITION"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u4e3a-2\uff0c\u8868\u793a\u8282\u70b9\u5728\u7b49\u5f85\u961f\u5217\u4e2d\uff0c\u8282\u70b9\u7ebf\u7a0b\u7b49\u5f85\u5524\u9192")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"PROPAGATE"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u4e3a-3\uff0c\u5f53\u524d\u7ebf\u7a0b\u5904\u5728SHARED\u60c5\u51b5\u4e0b\uff0c\u8be5\u5b57\u6bb5\u624d\u4f1a\u4f7f\u7528")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"SIGNAL"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u4e3a-1\uff0c\u8868\u793a\u7ebf\u7a0b\u5df2\u7ecf\u51c6\u5907\u597d\u4e86\uff0c\u5c31\u7b49\u8d44\u6e90\u91ca\u653e\u4e86")))),(0,l.kt)("h4",{id:"aqs\u7684\u8d44\u6e90\u7684\u5171\u4eab\u65b9\u5f0f"},"AQS\u7684\u8d44\u6e90\u7684\u5171\u4eab\u65b9\u5f0f"),(0,l.kt)("p",null,"AQS\u5b9a\u4e49\u4e86\u4e24\u79cd\u8d44\u6e90\u5171\u4eab\u65b9\u5f0f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Exclusive\uff08\u72ec\u4eab\u9501\uff09\uff1a\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u80fd\u5360\u6709\u9501\u8d44\u6e90\uff0c\u5982ReentrantLock\u3002\u72ec\u4eab\u9501\u53c8\u53ef\u5206\u4e3a\u516c\u5e73\u9501\u548c\u975e\u516c\u5e73\u9501\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220626113011580",src:n(87994).Z,width:"446",height:"472"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Share\uff08\u5171\u4eab\u9501\uff09\uff1a\u591a\u4e2a\u7ebf\u7a0b\u53ef\u540c\u65f6\u5360\u6709\u9501\u8d44\u6e90\uff0c\u5982Semaphore\u3001CountDownLatch\u3001CyclicBarrier\u3001ReadWriteLock\u7684Read\u9501\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220626113018340",src:n(711).Z,width:"446",height:"472"})),(0,l.kt)("h4",{id:"aqs\u52a0\u9501\u8fc7\u7a0b"},"AQS\u52a0\u9501\u8fc7\u7a0b"),(0,l.kt)("p",null,"\u4ee5ReentrantLock\u4e3a\u4f8b"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220719155205627",src:n(37394).Z,width:"2068",height:"1772"})),(0,l.kt)("h5",{id:"tryacquirearg"},"!tryAcquire(arg)"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220719154816995",src:n(43326).Z,width:"1237",height:"764"})),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220719155237924",src:n(47026).Z,width:"850",height:"628"})),(0,l.kt)("h5",{id:"addwaiter"},"addWaiter"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220719154834850",src:n(95630).Z,width:"1251",height:"446"})),(0,l.kt)("h5",{id:"acquirequeued"},"acquireQueued"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220719154855457",src:n(61722).Z,width:"1242",height:"481"})),(0,l.kt)("h4",{id:"aqs\u62a2\u9501\u539f\u7406"},"AQS\u62a2\u9501\u539f\u7406"),(0,l.kt)("h5",{id:"\u6a21\u677f\u65b9\u6cd5acquire"},"\u6a21\u677f\u65b9\u6cd5\uff1aacquire"),(0,l.kt)("p",null,"acquire\u662fAQS\u5c01\u88c5\u597d\u7684\u83b7\u53d6\u8d44\u6e90\u7684\u516c\u5171\u5165\u53e3\uff0c\u5b83\u662fAQS\u63d0\u4f9b\u7684\u5229\u7528\u72ec\u5360\u7684\u65b9\u5f0f\u83b7\u53d6\u8d44\u6e90\u7684\u65b9\u6cd5\uff0c\u6e90\u7801\u5b9e\u73b0\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public final void acquire(int arg) {\n    if (!tryAcquire(arg) &&\n        acquireQueued(addWaiter(Node.EXCLUSIVE), arg))\n        selfInterrupt();\n}\n")),(0,l.kt)("p",null,"\u901a\u8fc7\u6e90\u7801\u53ef\u4ee5\u53d1\u73b0\uff0cacquire(arg)\u81f3\u5c11\u6267\u884c\u4e00\u6b21tryAcquire(arg)\u94a9\u5b50\u65b9\u6cd5\u3002tryAcquire(arg)\u65b9\u6cd5AQS\u9ed8\u8ba4\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\uff0c\u5177\u4f53\u7684\u83b7\u53d6\u72ec\u5360\u8d44\u6e90state\u7684\u903b\u8f91\u9700\u8981\u94a9\u5b50\u65b9\u6cd5\u6765\u5b9e\u73b0\u3002\u82e5\u8c03\u7528tryAcquire(arg)\u5c1d\u8bd5\u6210\u529f\uff0c\u5219acquire()\u5c06\u76f4\u63a5\u8fd4\u56de\uff0c\u8868\u793a\u5df2\u7ecf\u62a2\u5230\u9501\uff1b\u82e5\u4e0d\u6210\u529f\uff0c\u5219\u5c06\u7ebf\u7a0b\u52a0\u5165\u7b49\u5f85\u961f\u5217\u3002"),(0,l.kt)("h5",{id:"\u94a9\u5b50\u65b9\u6cd5tryacquire"},"\u94a9\u5b50\u65b9\u6cd5\uff1atryAcquire"),(0,l.kt)("p",null,"tryAcquire(int) \u72ec\u5360\u65b9\u5f0f\u3002\u5c1d\u8bd5\u83b7\u53d6\u8d44\u6e90\uff0c\u6210\u529f\u5219\u8fd4\u56detrue\uff0c\u5931\u8d25\u5219\u8fd4\u56defalse\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"protected boolean tryAcquire(int unused) {\n            //CAS\u64cd\u4f5c\uff0c\u66f4\u65b0\u6210\u529f\uff0c\u5219\u8bbe\u7f6e\u7ebf\u7a0b\u72ec\u5360\uff0c\u8fd4\u56detrue\n            if (compareAndSetState(0, 1)) {\n                setExclusiveOwnerThread(Thread.currentThread());\n                return true;\n            }\n            return false;\n        }\n")),(0,l.kt)("h5",{id:"\u76f4\u63a5\u5165\u961faddwaiter"},"\u76f4\u63a5\u5165\u961f\uff1aaddWaiter"),(0,l.kt)("p",null,"\u5728acquire\u6a21\u677f\u65b9\u6cd5\u4e2d\uff0c\u5982\u679c\u94a9\u5b50\u65b9\u6cd5tryAcquire\u5c1d\u8bd5\u83b7\u53d6\u540c\u6b65\u72b6\u6001\u5931\u8d25\u7684\u8bdd\uff0c\u5c31\u6784\u9020\u540c\u6b65\u8282\u70b9\uff08\u72ec\u5360\u5f0f\u8282\u70b9\u6a21\u5f0f\u4e3aNode.EXCLUSIVE\uff09\uff0c\u901a\u8fc7addWaiter(Node node,int args)\u65b9\u6cd5\u5c06\u8be5\u8282\u70b9\u52a0\u5165\u540c\u6b65\u961f\u5217\u7684\u961f\u5c3e\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"private Node addWaiter(Node mode) {\n        Node node = new Node(Thread.currentThread(), mode);\n        // Try the fast path of enq; backup to full enq on failure\n        Node pred = tail;\n        if (pred != null) {\n            node.prev = pred;\n            if (compareAndSetTail(pred, node)) {\n                pred.next = node;\n                return node;\n            }\n        }\n        enq(node);\n        return node;\n    }\n")),(0,l.kt)("h5",{id:"\u81ea\u65cb\u5165\u961fenq"},"\u81ea\u65cb\u5165\u961f\uff1aenq"),(0,l.kt)("p",null,"addWaiter()\u7b2c\u4e00\u6b21\u5c1d\u8bd5\u5728\u5c3e\u90e8\u6dfb\u52a0\u8282\u70b9\u5931\u8d25\uff0c\u610f\u5473\u7740\u6709\u5e76\u53d1\u62a2\u9501\u53d1\u751f\uff0c\u9700\u8981\u8fdb\u884c\u81ea\u65cb\u3002enq()\u65b9\u6cd5\u901a\u8fc7CAS\u81ea\u65cb\u5c06\u8282\u70b9\u6dfb\u52a0\u5230\u961f\u5217\u5c3e\u90e8\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8282\u70b9\u5728\u7b2c\u4e00\u6b21\u5165\u961f\u5931\u8d25\u540e\uff0c\u5c31\u4f1a\u5f00\u59cb\u81ea\u65cb\u5165\u961f\uff0c\u5206\u4e3a\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\uff1a"),(0,l.kt)("p",{parentName:"blockquote"},"\uff081\uff09\u5982\u679cAQS\u7684\u961f\u5217\u975e\u7a7a\uff0c\u65b0\u8282\u70b9\u5165\u961f\u7684\u63d2\u5165\u4f4d\u7f6e\u5728\u961f\u5217\u7684\u5c3e\u90e8\uff0c\u5e76\u4e14\u901a\u8fc7CAS\u65b9\u5f0f\u63d2\u5165\uff0c\u63d2\u5165\u4e4b\u540eAQS\u7684tail\u5c06\u6307\u5411\u65b0\u7684\u5c3e\u8282\u70b9\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\uff082\uff09\u5982\u679cAQS\u7684\u961f\u5217\u4e3a\u7a7a\uff0c\u65b0\u8282\u70b9\u5165\u961f\u65f6\uff0cAQS\u901a\u8fc7CAS\u65b9\u6cd5\u5c06\u65b0\u8282\u70b9\u8bbe\u7f6e\u4e3a\u5934\u8282\u70b9head\uff0c\u5e76\u4e14\u5c06tail\u6307\u9488\u6307\u5411\u65b0\u8282\u70b9\u3002"),(0,l.kt)("pre",{parentName:"blockquote"},(0,l.kt)("code",{parentName:"pre",className:"language-java"},"private Node enq(final Node node) {\n             for (;;) { //\u81ea\u65cb\u5165\u961f\n                 Node t = tail;\n                 if (t == null) {\n                      //\u961f\u5217\u4e3a\u7a7a\uff0c\u521d\u59cb\u5316\u5c3e\u8282\u70b9\u548c\u5934\u8282\u70b9\u4e3a\u65b0\u8282\u70b9\n                     if (compareAndSetHead(new Node()))\n                         tail = head;\n                 } else {\n                     //\u5982\u679c\u961f\u5217\u4e0d\u4e3a\u7a7a\uff0c\u5c06\u65b0\u8282\u70b9\u63d2\u5165\u961f\u5217\u5c3e\u90e8\n                     node.prev = t; \n                     if (compareAndSetTail(t, node)) {\n                         t.next = node;\n                         return t;\n                     }\n                 }\n             }\n         }\n"))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8282\u70b9\u51fa\u961f\u7684\u7b97\u6cd5\u5728acquireQueued()\u65b9\u6cd5\u4e2d\uff0c\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6a21\u677f\u65b9\u6cd5\u3002acquireQueued()\u65b9\u6cd5\u4e0d\u65ad\u5728\u524d\u9a71\u8282\u70b9\u4e0a\u81ea\u65cb\uff08for\u6b7b\u5faa\u73af\uff09\uff0c\u5982\u679c\u524d\u9a71\u8282\u70b9\u662f\u5934\u8282\u70b9\u5e76\u4e14\u5f53\u524d\u7ebf\u7a0b\u4f7f\u7528\u94a9\u5b50\u65b9\u6cd5tryAcquire(arg)\u83b7\u5f97\u4e86\u9501\uff0c\u5c31\u79fb\u9664\u5934\u8282\u70b9\uff0c\u5c06\u5f53\u524d\u8282\u70b9\u8bbe\u7f6e\u4e3a\u5934\u8282\u70b9\u3002"),(0,l.kt)("pre",{parentName:"blockquote"},(0,l.kt)("code",{parentName:"pre",className:"language-java"},"final boolean acquireQueued(final Node node, int arg) {\n             boolean failed = true;\n             try {\n                 boolean interrupted = false;\n                 // \u5728\u524d\u9a71\u8282\u70b9\u4e0a\u81ea\u65cb\n                 for (;;) {\n                     // \u83b7\u53d6\u8282\u70b9\u7684\u524d\u9a71\u8282\u70b9\n                     final Node p = node.predecessor();\n                     // \uff081\uff09\u524d\u9a71\u8282\u70b9\u662f\u5934\u8282\u70b9\n                     // \uff082\uff09\u901a\u8fc7\u5b50\u7c7b\u7684tryAcquire()\u94a9\u5b50\u5b9e\u73b0\u62a2\u5360\u6210\u529f\n                     if (p == head && tryAcquire(arg)) {\n                         // \u5c06\u5f53\u524d\u8282\u70b9\u8bbe\u7f6e\u4e3a\u5934\u8282\u70b9\uff0c\u4e4b\u524d\u7684\u5934\u8282\u70b9\u51fa\u961f\n                         setHead(node);\n                         p.next = null; // help GC\n                         failed = false;\n                         return interrupted;\n                     }\n                    // \u7701\u7565park\uff08\u65e0\u9650\u671f\u963b\u585e\uff09\u7ebf\u7a0b\u7684\u4ee3\u7801\n               }\n             } finally {\n                // \u7701\u7565\u5176\u4ed6 \n             }\n      }\n"))),(0,l.kt)("h5",{id:"\u81ea\u65cb\u62a2\u5360acquirequeued"},"\u81ea\u65cb\u62a2\u5360\uff1aacquireQueued()"),(0,l.kt)("p",null,"\u5728\u8282\u70b9\u5165\u961f\u4e4b\u540e\uff0c\u542f\u52a8\u81ea\u65cb\u62a2\u9501\u7684\u6d41\u7a0b\u3002acquireQueued()\u65b9\u6cd5\u7684\u4e3b\u8981\u903b\u8f91\uff1a\u5f53\u524dNode\u8282\u70b9\u7ebf\u7a0b\u5728\u6b7b\u5faa\u73af\u4e2d\u4e0d\u65ad\u83b7\u53d6\u540c\u6b65\u72b6\u6001\uff0c\u5e76\u4e14\u4e0d\u65ad\u5728\u524d\u9a71\u8282\u70b9\u4e0a\u81ea\u65cb\uff0c\u53ea\u6709\u5f53\u524d\u9a71\u8282\u70b9\u662f\u5934\u8282\u70b9\u65f6\u624d\u80fd\u5c1d\u8bd5\u83b7\u53d6\u9501\uff0c\u539f\u56e0\u662f\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5934\u8282\u70b9\u662f\u6210\u529f\u83b7\u53d6\u540c\u6b65\u72b6\u6001\uff08\u9501\uff09\u7684\u8282\u70b9\uff0c\u800c\u5934\u8282\u70b9\u7684\u7ebf\u7a0b\u91ca\u653e\u4e86\u540c\u6b65\u72b6\u6001\u4ee5\u540e\uff0c\u5c06\u4f1a\u5524\u9192\u5176\u540e\u7ee7\u8282\u70b9\uff0c\u540e\u7ee7\u8282\u70b9\u7684\u7ebf\u7a0b\u88ab\u5524\u9192\u540e\u8981\u68c0\u67e5\u81ea\u5df1\u7684\u524d\u9a71\u8282\u70b9\u662f\u5426\u4e3a\u5934\u8282\u70b9\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u7ef4\u62a4\u540c\u6b65\u961f\u5217\u7684FIFO\u539f\u5219\uff0c\u8282\u70b9\u8fdb\u5165\u540c\u6b65\u961f\u5217\u4e4b\u540e\uff0c\u5c31\u8fdb\u5165\u4e86\u81ea\u65cb\u7684\u8fc7\u7a0b\uff0c\u6bcf\u4e2a\u8282\u70b9\u90fd\u5728\u4e0d\u65ad\u5730\u6267\u884cfor\u6b7b\u5faa\u73af\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"final boolean acquireQueued(final Node node, int arg) {\n        boolean failed = true;\n        try {\n            boolean interrupted = false;\n            for (;;) {\n                final Node p = node.predecessor();\n                if (p == head && tryAcquire(arg)) {\n                    setHead(node);\n                    p.next = null; // help GC\n                    failed = false;\n                    return interrupted;\n                }\n                //\u8282\u70b9p\u4e0d\u662fhead\u8282\u70b9\uff0c\u6216\u8005\u62a2\u9501\u5931\u8d25\uff0c\u6267\u884c\u8fd9\u91cc\uff0c\u6302\u8d77\u5f53\u524d\u7ebf\u7a0b\n                if (shouldParkAfterFailedAcquire(p, node) && parkAndCheckInterrupt())\n                    interrupted = true;\n            }\n        } finally {\n            //\u5982\u679c\u6302\u8d77\u73b0\u573a\u5f02\u5e38\uff0c\u5219\u6267\u884c\u53d6\u6d88\u62a2\u9501\u64cd\u4f5c\n            if (failed)\n                cancelAcquire(node);\n        }\n    }\n")),(0,l.kt)("h5",{id:"\u6302\u8d77\u9884\u5224shouldparkafterfailedacquire"},"\u6302\u8d77\u9884\u5224\uff1ashouldParkAfterFailedAcquire()"),(0,l.kt)("p",null,"acquireQueued()\u81ea\u65cb\u5728\u963b\u585e\u81ea\u5df1\u7684\u7ebf\u7a0b\u4e4b\u524d\u4f1a\u8fdb\u884c\u6302\u8d77\u9884\u5224\u3002shouldParkAfterFailedAcquire()\u65b9\u6cd5\u7684\u4e3b\u8981\u529f\u80fd\u662f\uff1a\u5c06\u5f53\u524d\u8282\u70b9\u7684\u6709\u6548\u524d\u9a71\u8282\u70b9\uff08\u662f\u6307\u6709\u6548\u8282\u70b9\u4e0d\u662fCANCELLED\u7c7b\u578b\u7684\u8282\u70b9\uff09\u627e\u5230\uff0c\u5e76\u4e14\u5c06\u6709\u6548\u524d\u9a71\u8282\u70b9\u7684\u72b6\u6001\u8bbe\u7f6e\u4e3aSIGNAL\uff0c\u4e4b\u540e\u8fd4\u56detrue\u4ee3\u8868\u5f53\u524d\u7ebf\u7a0b\u53ef\u4ee5\u9a6c\u4e0a\u88ab\u963b\u585e\u4e86\u3002"),(0,l.kt)("p",null,"\u5177\u4f53\u53ef\u4ee5\u5206\u4e3a\u4e09\u79cd\u60c5\u51b5\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u524d\u9a71\u8282\u70b9\u7684\u72b6\u6001\u4e3a?1\uff08SIGNAL\uff09\uff0c\u8bf4\u660e\u524d\u9a71\u7684\u7b49\u5f85\u6807\u5fd7\u5df2\u8bbe\u597d\uff0c\u8fd4\u56detrue\u8868\u793a\u8bbe\u7f6e\u5b8c\u6bd5\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u524d\u9a71\u8282\u70b9\u7684\u72b6\u6001\u4e3a1\uff08CANCELLED\uff09\uff0c\u8bf4\u660e\u524d\u9a71\u8282\u70b9\u672c\u8eab\u4e0d\u518d\u7b49\u5f85\u4e86\uff0c\u9700\u8981\u8de8\u8d8a\u8fd9\u4e9b\u8282\u70b9\uff0c\u7136\u540e\u627e\u5230\u4e00\u4e2a\u6709\u6548\u8282\u70b9\uff0c\u518d\u628a\u5f53\u524d\u8282\u70b9\u548c\u8fd9\u4e2a\u6709\u6548\u8282\u70b9\u7684\u5524\u9192\u5173\u7cfb\u5efa\u7acb\u597d\uff1a\u8c03\u6574\u524d\u9a71\u8282\u70b9\u7684next\u6307\u9488\u4e3a\u81ea\u5df1\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u662f\u5176\u4ed6\u60c5\u51b5\uff1a?3\uff08PROPAGATE\uff0c\u5171\u4eab\u9501\u7b49\u5f85\uff09\u3001?2\uff08CONDITION\uff0c\u6761\u4ef6\u7b49\u5f85\uff09\u30010\uff08\u521d\u59cb\u72b6\u6001\uff09\uff0c\u90a3\u4e48\u901a\u8fc7CAS\u5c1d\u8bd5\u8bbe\u7f6e\u524d\u9a71\u8282\u70b9\u4e3aSIGNAL\uff0c\u8868\u793a\u53ea\u8981\u524d\u9a71\u8282\u70b9\u91ca\u653e\u9501\uff0c\u5f53\u524d\u8282\u70b9\u5c31\u53ef\u4ee5\u62a2\u5360\u9501\u4e86\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"private static boolean shouldParkAfterFailedAcquire(Node pred, Node node) {\n        int ws = pred.waitStatus;\n        if (ws == Node.SIGNAL)\n            /*\n             * This node has already set status asking a release\n             * to signal it, so it can safely park.\n             */\n            return true;\n        if (ws > 0) {\n            /*\n             * Predecessor was cancelled. Skip over predecessors and\n             * indicate retry.\n             */\n            do {\n                node.prev = pred = pred.prev;\n            } while (pred.waitStatus > 0);\n            pred.next = node;\n        } else {\n            /*\n             * waitStatus must be 0 or PROPAGATE.  Indicate that we\n             * need a signal, but don't park yet.  Caller will need to\n             * retry to make sure it cannot acquire before parking.\n             */\n            compareAndSetWaitStatus(pred, ws, Node.SIGNAL);\n        }\n        return false;\n    }\n")),(0,l.kt)("h5",{id:"\u7ebf\u7a0b\u6302\u8d77parkandcheckinterrupt"},"\u7ebf\u7a0b\u6302\u8d77\uff1aparkAndCheckInterrupt()"),(0,l.kt)("p",null,"parkAndCheckInterrupt()\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u6682\u505c\u5f53\u524d\u7ebf\u7a0b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"private final boolean parkAndCheckInterrupt() {\n        LockSupport.park(this);\n        return Thread.interrupted();\n    }\n")),(0,l.kt)("h4",{id:"aqs\u91ca\u653e\u9501\u539f\u7406"},"AQS\u91ca\u653e\u9501\u539f\u7406"),(0,l.kt)("h5",{id:"aqs\u6a21\u677f\u65b9\u6cd5release"},"AQS\u6a21\u677f\u65b9\u6cd5\uff1arelease()"),(0,l.kt)("p",null,"SimpleMockLock\u7684unlock()\u65b9\u6cd5\u88ab\u8c03\u7528\u65f6\uff0c\u4f1a\u8c03\u7528AQS\u7684release(\u2026)\u7684\u6a21\u677f\u65b9\u6cd5\u3002AQS\u7684release(\u2026)\u7684\u6a21\u677f\u65b9\u6cd5\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public final boolean release(long arg) {\n    if (tryRelease(arg)) {\n        Node h = head;\n        if (h != null && h.waitStatus != 0)\n            unparkSuccessor(h);\n        return true;\n    }\n    return false;\n}\n")),(0,l.kt)("h5",{id:"\u94a9\u5b50\u5b9e\u73b0tryrelease"},"\u94a9\u5b50\u5b9e\u73b0\uff1atryRelease()"),(0,l.kt)("p",null,"tryRelease()\u65b9\u6cd5\u662f\u9700\u8981\u5b50\u7c7b\u63d0\u4f9b\u5b9e\u73b0\u7684\u4e00\u4e2a\u94a9\u5b50\u65b9\u6cd5\uff0c\u9700\u8981\u5b50\u7c7b\u6839\u636e\u5177\u4f53\u4e1a\u52a1\u8fdb\u884c\u5177\u4f53\u7684\u5b9e\u73b0\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"protected final boolean tryRelease(int releases) {\n  \n    // \u9996\u5148\u5c06\u5f53\u524d\u6301\u6709\u9501\u7684\u7ebf\u7a0b\u4e2a\u6570\u51cf1(\u56de\u6eaf\u5230\u8c03\u7528\u6e90\u5934sync.release(1)\u53ef\u77e5, releases\u7684\u503c\u4e3a1)\n    // \u8fd9\u91cc\u7684\u64cd\u4f5c\u4e3b\u8981\u662f\u9488\u5bf9\u53ef\u91cd\u5165\u9501\u7684\u60c5\u51b5\u4e0b, c\u53ef\u80fd\u5927\u4e8e1\n    int c = getState() - releases; \n  \n    // \u91ca\u653e\u9501\u7684\u7ebf\u7a0b\u5f53\u524d\u5fc5\u987b\u662f\u6301\u6709\u9501\u7684\u7ebf\u7a0b\n    if (Thread.currentThread() != getExclusiveOwnerThread())\n        throw new IllegalMonitorStateException();\n  \n    // \u5982\u679cc\u4e3a0\u4e86, \u8bf4\u660e\u9501\u5df2\u7ecf\u5b8c\u5168\u91ca\u653e\u4e86\n    boolean free = false;\n    if (c == 0) {\n        free = true;\n        setExclusiveOwnerThread(null);\n    }\n    setState(c);\n    return free;\n}\n")),(0,l.kt)("h5",{id:"\u5524\u9192\u540e\u7ee7unparksuccessor"},"\u5524\u9192\u540e\u7ee7\uff1aunparkSuccessor()"),(0,l.kt)("p",null,"release()\u94a9\u5b50\u6267\u884ctryRelease()\u94a9\u5b50\u6210\u529f\u4e4b\u540e\uff0c\u4f7f\u7528unparkSuccessor()\u5524\u9192\u540e\u7ee7\u8282\u70b9"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"private void unparkSuccessor(Node node) {\n    int ws = node.waitStatus;\n  \n    // \u5982\u679chead\u8282\u70b9\u7684ws\u6bd40\u5c0f, \u5219\u76f4\u63a5\u5c06\u5b83\u8bbe\u4e3a0\n    if (ws < 0)\n        compareAndSetWaitStatus(node, ws, 0);\n\n    // \u901a\u5e38\u60c5\u51b5\u4e0b, \u8981\u5524\u9192\u7684\u8282\u70b9\u5c31\u662f\u81ea\u5df1\u7684\u540e\u7ee7\u8282\u70b9\n    // \u5982\u679c\u540e\u7ee7\u8282\u70b9\u5b58\u5728\u4e14\u4e5f\u5728\u7b49\u5f85\u9501, \u90a3\u5c31\u76f4\u63a5\u5524\u9192\u5b83\n    // \u4f46\u662f\u6709\u53ef\u80fd\u5b58\u5728 \u540e\u7ee7\u8282\u70b9\u53d6\u6d88\u7b49\u5f85\u9501 \u7684\u60c5\u51b5\n    // \u6b64\u65f6\u4ece\u5c3e\u8282\u70b9\u5f00\u59cb\u5411\u524d\u627e\u8d77, \u76f4\u5230\u627e\u5230\u8ddd\u79bbhead\u8282\u70b9\u6700\u8fd1\u7684ws<=0\u7684\u8282\u70b9\n    Node s = node.next;\n    if (s == null || s.waitStatus > 0) {\n        s = null;\n        for (Node t = tail; t != null && t != node; t = t.prev)\n            if (t.waitStatus <= 0)\n                s = t; // \u6ce8\u610f! \u8fd9\u91cc\u627e\u5230\u4e86\u4e4b\u5e76\u6709return, \u800c\u662f\u7ee7\u7eed\u5411\u524d\u627e\n    }\n    // \u5982\u679c\u627e\u5230\u4e86\u8fd8\u5728\u7b49\u5f85\u9501\u7684\u8282\u70b9,\u5219\u5524\u9192\u5b83\n    if (s != null)\n        LockSupport.unpark(s.thread);\n}\n")),(0,l.kt)("h3",{id:"\u804a\u804a-reentrantlock"},"\u804a\u804a ReentrantLock"),(0,l.kt)("p",null,"ReentrantLock \u6307\u7684\u662f\u4e00\u4e2a\u7ebf\u7a0b\u80fd\u591f\u5bf9\u4e00\u4e2a\u4e34\u754c\u8d44\u6e90\u91cd\u590d\u52a0\u9501\u3002ReentrantLock\u7ee7\u627f\u4e86Lock\u63a5\u53e3\u5e76\u5b9e\u73b0\u4e86\u5728\u63a5\u53e3\u4e2d\u5b9a\u4e49\u7684\u65b9\u6cd5\uff0c\u662f\u4e00\u4e2a\u53ef\u91cd\u5165\u7684\u72ec\u5360\u9501\u3002ReentrantLock\u901a\u8fc7\u81ea\u5b9a\u4e49\u961f\u5217\u540c\u6b65\u5668\uff08Abstract Queued Sychronized\uff0cAQS\uff09\u6765\u5b9e\u73b0\u9501\u7684\u83b7\u53d6\u4e0e\u91ca\u653e\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u72ec\u5360\u9501\u6307\u8be5\u9501\u5728\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u88ab\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u53d6\uff0c\u800c\u83b7\u53d6\u9501\u7684\u5176\u4ed6\u7ebf\u7a0b\u53ea\u80fd\u5728\u540c\u6b65\u961f\u5217\u4e2d\u7b49\u5f85\uff1b\u53ef\u91cd\u5165\u9501\u6307\u8be5\u9501\u80fd\u591f\u652f\u6301\u4e00\u4e2a\u7ebf\u7a0b\u5bf9\u540c\u4e00\u4e2a\u8d44\u6e90\u6267\u884c\u591a\u6b21\u52a0\u9501\u64cd\u4f5c\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"ReentrantLock\u4e0d\u4f46\u63d0\u4f9b\u4e86synchronized\u5bf9\u9501\u7684\u64cd\u4f5c\u529f\u80fd\uff0c\u8fd8\u63d0\u4f9b\u4e86\u8bf8\u5982\u53ef\u54cd\u5e94\u4e2d\u65ad\u9501\u3001\u53ef\u8f6e\u8be2\u9501\u8bf7\u6c42\u3001\u5b9a\u65f6\u9501\u7b49\u907f\u514d\u591a\u7ebf\u7a0b\u6b7b\u9501\u7684\u65b9\u6cd5\u3002\n\nReentrantLock\u4e4b\u6240\u4ee5\u88ab\u79f0\u4e3a\u53ef\u91cd\u5165\u9501\uff0c\u662f\u56e0\u4e3aReentrantLock\u9501\u53ef\u4ee5\u53cd\u590d\u8fdb\u5165\u3002\u5373\u5141\u8bb8\u8fde\u7eed\u4e24\u6b21\u83b7\u5f97\u540c\u4e00\u628a\u9501\uff0c\u4e24\u6b21\u91ca\u653e\u540c\u4e00\u628a\u9501\u3002\u5c06\u4e0a\u8ff0\u4ee3\u7801\u4e2d\u7684\u6ce8\u91ca\u90e8\u5206\u53bb\u6389\u540e\uff0c\u7a0b\u5e8f\u4ecd\u7136\u53ef\u4ee5\u6b63\u5e38\u6267\u884c\u3002\u5982\u679c\u91ca\u653e\u9501\u7684\u6b21\u6570\u5c11\u4e8e\u83b7\u53d6\u9501\u7684\u6b21\u6570\uff0c\u8be5\u7ebf\u7a0b\u5c31\u4f1a\u4e00\u76f4\u6301\u6709\u8be5\u9501\uff0c\u5176\u4ed6\u7ebf\u7a0b\u5c06\u65e0\u6cd5\u83b7\u53d6\u9501\u8d44\u6e90\u3002\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u53ef\u91cd\u5165\u9501\u4e3b\u8981\u7406\u89e3\u4e24\u4e2a\u6982\u5ff5\uff1a"),(0,l.kt)("p",{parentName:"blockquote"},"1\uff09\u53ef\u91cd\u5165\u7684\u542b\u4e49\uff1a\u8868\u793a\u8be5\u9501\u80fd\u591f\u652f\u6301\u4e00\u4e2a\u7ebf\u7a0b\u5bf9\u8d44\u6e90\u7684\u91cd\u590d\u52a0\u9501\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u591a\u6b21\u8fdb\u5165\u540c\u4e00\u4e2a\u9501\u6240\u540c\u6b65\u7684\u4e34\u754c\u533a\u4ee3\u7801\u5757\u3002\u6bd4\u5982\uff0c\u540c\u4e00\u7ebf\u7a0b\u5728\u5916\u5c42\u51fd\u6570\u83b7\u5f97\u9501\u540e\uff0c\u5728\u5185\u5c42\u51fd\u6570\u80fd\u518d\u6b21\u83b7\u53d6\u8be5\u9501\uff0c\u751a\u81f3\u591a\u6b21\u62a2\u5360\u5230\u540c\u4e00\u628a\u9501\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"2\uff09\u72ec\u5360\u7684\u542b\u4e49\uff1a\u5728\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u53d6\u5230\u9501\uff0c\u800c\u5176\u4ed6\u83b7\u53d6\u9501\u7684\u7ebf\u7a0b\u53ea\u80fd\u7b49\u5f85\uff0c\u53ea\u6709\u62e5\u6709\u9501\u7684\u7ebf\u7a0b\u91ca\u653e\u4e86\u9501\u540e\uff0c\u5176\u4ed6\u7684\u7ebf\u7a0b\u624d\u80fd\u591f\u83b7\u53d6\u9501\u3002")),(0,l.kt)("p",null,"\u6572\u9ed1\u677f\uff1a\u53ef\u91cd\u5165\u9501\u7684\u4e00\u4e2a\u597d\u5904\u662f\u53ef\u4e00\u5b9a\u7a0b\u5ea6\u907f\u514d\u6b7b\u9501\u3002"),(0,l.kt)("h4",{id:"\u907f\u514d\u6b7b\u9501"},"\u907f\u514d\u6b7b\u9501"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u54cd\u5e94\u4e2d\u65ad"),"  \u5728synchronized\u4e2d\u5982\u679c\u6709\u4e00\u4e2a\u7ebf\u7a0b\u5c1d\u8bd5\u83b7\u53d6\u4e00\u628a\u9501\uff0c\u5219\u5176\u7ed3\u679c\u662f\u8981\u4e48\u83b7\u53d6\u9501\u7ee7\u7eed\u6267\u884c\uff0c\u8981\u4e48\u4fdd\u6301\u7b49\u5f85\u3002ReentrantLock\u8fd8\u63d0\u4f9b\u4e86\u53ef\u54cd\u5e94\u4e2d\u65ad\u7684\u53ef\u80fd\uff0c\u5373\u5728\u7b49\u5f85\u9501\u7684\u8fc7\u7a0b\u4e2d\uff0c\u7ebf\u7a0b\u53ef\u4ee5\u6839\u636e\u9700\u8981\u53d6\u6d88\u5bf9\u9501\u7684\u8bf7\u6c42\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53ef\u8f6e\u8be2\u9501"),"  \u901a\u8fc7boolean tryLock()\u83b7\u53d6\u9501\u3002\u5982\u679c\u6709\u53ef\u7528\u9501\uff0c\u5219\u83b7\u53d6\u8be5\u9501\u5e76\u8fd4\u56detrue\uff0c\u5982\u679c\u65e0\u53ef\u7528\u9501\uff0c\u5219\u7acb\u5373\u8fd4\u56defalse\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5b9a\u65f6\u9501"),"  \u901a\u8fc7boolean tryLock(long time,TimeUnit unit) throws InterruptedException\u83b7\u53d6\u5b9a\u65f6\u9501\u3002\u5982\u679c\u5728\u7ed9\u5b9a\u7684\u65f6\u95f4\u5185\u83b7\u53d6\u5230\u4e86\u53ef\u7528\u9501\uff0c\u4e14\u5f53\u524d\u7ebf\u7a0b\u672a\u88ab\u4e2d\u65ad\uff0c\u5219\u83b7\u53d6\u8be5\u9501\u5e76\u8fd4\u56detrue\u3002\u5982\u679c\u5728\u7ed9\u5b9a\u7684\u65f6\u95f4\u5185\u83b7\u53d6\u4e0d\u5230\u53ef\u7528\u9501\uff0c\u5c06\u7981\u7528\u5f53\u524d\u7ebf\u7a0b\uff0c\u5e76\u4e14\u5728\u53d1\u751f\u4ee5\u4e0b\u4e09\u79cd\u60c5\u51b5\u4e4b\u524d\uff0c\u8be5\u7ebf\u7a0b\u4e00\u76f4\u5904\u4e8e\u4f11\u7720\u72b6\u6001\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f53\u524d\u7ebf\u7a0b\u83b7\u53d6\u5230\u4e86\u53ef\u7528\u9501\u5e76\u8fd4\u56detrue\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5f53\u524d\u7ebf\u7a0b\u5728\u8fdb\u5165\u6b64\u65b9\u6cd5\u65f6\u8bbe\u7f6e\u4e86\u8be5\u7ebf\u7a0b\u7684\u4e2d\u65ad\u72b6\u6001\uff0c\u6216\u8005\u5f53\u524d\u7ebf\u7a0b\u5728\u83b7\u53d6\u9501\u65f6\u88ab\u4e2d\u65ad\uff0c\u5219\u5c06\u629b\u51faInterruptedException\uff0c\u5e76\u6e05\u9664\u5f53\u524d\u7ebf\u7a0b\u7684\u5df2\u4e2d\u65ad\u72b6\u6001\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5f53\u524d\u7ebf\u7a0b\u83b7\u53d6\u9501\u7684\u65f6\u95f4\u8d85\u8fc7\u4e86\u6307\u5b9a\u7684\u7b49\u5f85\u65f6\u95f4\uff0c\u5219\u5c06\u8fd4\u56defalse\u3002\u5982\u679c\u8bbe\u5b9a\u7684\u65f6\u95f4\u5c0f\u4e8e\u7b49\u4e8e0\uff0c\u5219\u8be5\u65b9\u6cd5\u5c06\u5b8c\u5168\u4e0d\u7b49\u5f85\u3002")),(0,l.kt)("h4",{id:"\u975e\u516c\u5e73\u9501"},"\u975e\u516c\u5e73\u9501"),(0,l.kt)("p",null,"\u4ec0\u4e48\u662f\u975e\u516c\u5e73\u9501\u5462\uff1f\u975e\u516c\u5e73\u9501\u662f\u6307\u591a\u4e2a\u7ebf\u7a0b\u83b7\u53d6\u9501\u7684\u987a\u5e8f\u5e76\u4e0d\u4e00\u5b9a\u662f\u5176\u7533\u8bf7\u9501\u7684\u987a\u5e8f\uff0c\u6709\u53ef\u80fd\u540e\u7533\u8bf7\u7684\u7ebf\u7a0b\u6bd4\u5148\u7533\u8bf7\u7684\u7ebf\u7a0b\u4f18\u5148\u83b7\u53d6\u9501\uff0c\u62a2\u9501\u6210\u529f\u7684\u6b21\u5e8f\u4e0d\u4e00\u5b9a\u4f53\u73b0\u4e3aFIFO\uff08\u5148\u8fdb\u5148\u51fa\uff09\u987a\u5e8f\u3002\u975e\u516c\u5e73\u9501\u7684\u4f18\u70b9\u5728\u4e8e\u541e\u5410\u91cf\u6bd4\u516c\u5e73\u9501\u5927\uff0c\u5b83\u7684\u7f3a\u70b9\u662f\u6709\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7ebf\u7a0b\u4f18\u5148\u7ea7\u53cd\u8f6c\u6216\u8005\u7ebf\u7a0b\u9965\u997f\u73b0\u8c61\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220626120704721",src:n(53805).Z,width:"1232",height:"710"})),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"/**\n* \u521b\u5efa\u4e00\u4e2a\u53ef\u91cd\u5165\u9501\uff0ctrue \u8868\u793a\u516c\u5e73\u9501\uff0cfalse \u8868\u793a\u975e\u516c\u5e73\u9501\u3002\u9ed8\u8ba4\u975e\u516c\u5e73\u9501\n*/\nLock lock = new ReentrantLock(false);\n")),(0,l.kt)("h4",{id:"\u516c\u5e73\u9501"},"\u516c\u5e73\u9501"),(0,l.kt)("p",null,"\u4ec0\u4e48\u662f\u516c\u5e73\u9501\u5462\uff1f\u516c\u5e73\u9501\u662f\u6307\u591a\u4e2a\u7ebf\u7a0b\u6309\u7167\u7533\u8bf7\u9501\u7684\u987a\u5e8f\u6765\u83b7\u53d6\u9501\uff0c\u62a2\u9501\u6210\u529f\u7684\u6b21\u5e8f\u4f53\u73b0\u4e3aFIFO\uff08\u5148\u8fdb\u5148\u51fa\uff09\u987a\u5e8f\u3002\u867d\u7136ReentrantLock\u9501\u9ed8\u8ba4\u662f\u975e\u516c\u5e73\u9501\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u6784\u9020\u5668\u6307\u5b9a\u8be5\u9501\u4e3a\u516c\u5e73\u9501"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220626120658184",src:n(69790).Z,width:"1218",height:"726"})),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"/**\n* \u521b\u5efa\u4e00\u4e2a\u53ef\u91cd\u5165\u9501\uff0ctrue \u8868\u793a\u516c\u5e73\u9501\uff0cfalse \u8868\u793a\u975e\u516c\u5e73\u9501\u3002\u9ed8\u8ba4\u975e\u516c\u5e73\u9501\n*/\nLock lock = new ReentrantLock(true);\n")),(0,l.kt)("h3",{id:"cyclicbarrier-\u548c-countdownlatch-\u7684\u533a\u522b"},"CyclicBarrier \u548c CountDownLatch \u7684\u533a\u522b"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"CountDownLatch")," \u662f\u8ba1\u6570\u5668\uff0c\u53ea\u80fd\u4f7f\u7528\u4e00\u6b21\uff0c\u800c ",(0,l.kt)("inlineCode",{parentName:"p"},"CyclicBarrier")," \u7684\u8ba1\u6570\u5668\u63d0\u4f9b ",(0,l.kt)("inlineCode",{parentName:"p"},"reset")," \u529f\u80fd\uff0c\u53ef\u4ee5\u591a\u6b21\u4f7f\u7528\u3002\u4f46\u662f\u6211\u4e0d\u90a3\u4e48\u8ba4\u4e3a\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u4ec5\u4ec5\u5c31\u662f\u8fd9\u4e48\u7b80\u5355\u7684\u4e00\u70b9\u3002\u6211\u4eec\u6765\u4ece jdk \u4f5c\u8005\u8bbe\u8ba1\u7684\u76ee\u7684\u6765\u770b\uff0cjavadoc \u662f\u8fd9\u4e48\u63cf\u8ff0\u5b83\u4eec\u7684\uff1a"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"CountDownLatch: A synchronization aid that allows one or more threads to wait until a  set of operations being performed in other threads  completes.(CountDownLatch: \u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u7ebf\u7a0b\uff0c\u7b49\u5f85\u5176\u4ed6\u591a\u4e2a\u7ebf\u7a0b\u5b8c\u6210\u67d0\u4ef6\u4e8b\u60c5\u4e4b\u540e\u624d\u80fd\u6267\u884c\uff1b) CyclicBarrier : A synchronization aid that allows a set of threads to all wait for  each other to reach a common barrier point.(CyclicBarrier :  \u591a\u4e2a\u7ebf\u7a0b\u4e92\u76f8\u7b49\u5f85\uff0c\u76f4\u5230\u5230\u8fbe\u540c\u4e00\u4e2a\u540c\u6b65\u70b9\uff0c\u518d\u7ee7\u7eed\u4e00\u8d77\u6267\u884c\u3002)")),(0,l.kt)("p",null,"\u5bf9\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"CountDownLatch")," \u6765\u8bf4\uff0c\u91cd\u70b9\u662f\u201c\u4e00\u4e2a\u7ebf\u7a0b\uff08\u591a\u4e2a\u7ebf\u7a0b\uff09\u7b49\u5f85\u201d\uff0c\u800c\u5176\u4ed6\u7684 N \u4e2a\u7ebf\u7a0b\u5728\u5b8c\u6210\u201c\u67d0\u4ef6\u4e8b\u60c5\u201d\u4e4b\u540e\uff0c\u53ef\u4ee5\u7ec8\u6b62\uff0c\u4e5f\u53ef\u4ee5\u7b49\u5f85\u3002\u800c\u5bf9\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"CyclicBarrier"),"\uff0c\u91cd\u70b9\u662f\u591a\u4e2a\u7ebf\u7a0b\uff0c\u5728\u4efb\u610f\u4e00\u4e2a\u7ebf\u7a0b\u6ca1\u6709\u5b8c\u6210\uff0c\u6240\u6709\u7684\u7ebf\u7a0b\u90fd\u5fc5\u987b\u7b49\u5f85\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"CountDownLatch")," \u662f\u8ba1\u6570\u5668\uff0c\u7ebf\u7a0b\u5b8c\u6210\u4e00\u4e2a\u8bb0\u5f55\u4e00\u4e2a\uff0c\u53ea\u4e0d\u8fc7\u8ba1\u6570\u4e0d\u662f\u9012\u589e\u800c\u662f\u9012\u51cf\uff0c\u800c ",(0,l.kt)("inlineCode",{parentName:"p"},"CyclicBarrier")," \u66f4\u50cf\u662f\u4e00\u4e2a\u9600\u95e8\uff0c\u9700\u8981\u6240\u6709\u7ebf\u7a0b\u90fd\u5230\u8fbe\uff0c\u9600\u95e8\u624d\u80fd\u6253\u5f00\uff0c\u7136\u540e\u7ee7\u7eed\u6267\u884c\u3002"),(0,l.kt)("h3",{id:"\u4e50\u89c2\u9501\u548c\u60b2\u89c2\u9501\u7684\u533a\u522b"},"\u4e50\u89c2\u9501\u548c\u60b2\u89c2\u9501\u7684\u533a\u522b"),(0,l.kt)("h4",{id:"\u4e50\u89c2\u9501"},"\u4e50\u89c2\u9501"),(0,l.kt)("p",null,"\u539f\u7406\uff1a\u8bfb\u591a\u5199\u5c11\uff0c\u4e50\u89c2\u8ba4\u4e3a\u5e76\u53d1\u53ef\u80fd\u6027\u5c0f\u3002\u4e50\u89c2\u9501\u4e00\u79cd\u6bd4\u8f83\u5178\u578b\u7684\u5c31\u662fCAS\u539f\u5b50\u64cd\u4f5c\uff0cJUC\u5f3a\u5927\u7684\u9ad8\u5e76\u53d1\u6027\u80fd\u662f\u5efa\u7acb\u5728CAS\u539f\u5b50\u4e4b\u4e0a\u7684\u3002\uff08CAS\uff1aCompare And Set\uff09\u3002"),(0,l.kt)("p",null,"\u4e50\u89c2\u9501\u662f\u4e00\u79cd\u601d\u60f3\uff0c\u800cCAS\u662f\u8fd9\u79cd\u601d\u60f3\u7684\u4e00\u79cd\u5b9e\u73b0\u3002"),(0,l.kt)("p",null,"\u5b9e\u9645\u4e0a\uff0c\u5982\u679c\u9700\u8981\u5b8c\u6210\u6570\u636e\u7684\u6700\u7ec8\u66f4\u65b0\uff0c\u4ec5\u4ec5\u8fdb\u884c\u4e00\u6b21CAS\u64cd\u4f5c\u662f\u4e0d\u591f\u7684\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u8fdb\u884c\u81ea\u65cb\u64cd\u4f5c\uff0c\u5373\u4e0d\u65ad\u5730\u5faa\u73af\u91cd\u8bd5CAS\u64cd\u4f5c\u76f4\u5230\u6210\u529f\uff0c\u8fd9\u4e5f\u53ebCAS\u81ea\u65cb\u3002"),(0,l.kt)("p",null,"\u901a\u8fc7CAS\u81ea\u65cb\uff0c\u5728\u4e0d\u4f7f\u7528\u9501\u7684\u60c5\u51b5\u4e0b\u5b9e\u73b0\u591a\u7ebf\u7a0b\u4e4b\u95f4\u7684\u53d8\u91cf\u540c\u6b65\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u6ca1\u6709\u7ebf\u7a0b\u88ab\u963b\u585e\u7684\u60c5\u51b5\u4e0b\u5b9e\u73b0\u53d8\u91cf\u7684\u540c\u6b65\uff0c\u8fd9\u53eb\u4f5c\u201c\u975e\u963b\u585e\u540c\u6b65\u201d\uff08Non-Blocking Synchronization\uff09\uff0c\u6216\u8005\u8bf4\u201c\u65e0\u9501\u540c\u6b65\u201d\u3002\u4f7f\u7528\u57fa\u4e8eCAS\u81ea\u65cb\u7684\u4e50\u89c2\u9501\u8fdb\u884c\u540c\u6b65\u63a7\u5236\uff0c\u5c5e\u4e8e\u65e0\u9501\u7f16\u7a0b\uff08Lock Free\uff09\u7684\u4e00\u79cd\u5b9e\u8df5\u3002"),(0,l.kt)("h4",{id:"\u60b2\u89c2\u9501"},"\u60b2\u89c2\u9501"),(0,l.kt)("p",null,"\u539f\u7406\uff1a\u5199\u591a\u8bfb\u5c11\uff0c\u72ec\u5360\u9501\u5176\u5b9e\u5c31\u662f\u4e00\u79cd\u60b2\u89c2\u9501\uff0cJava\u7684synchronized\u662f\u60b2\u89c2\u9501\u3002\u60b2\u89c2\u9501\u53ef\u4ee5\u786e\u4fdd\u65e0\u8bba\u54ea\u4e2a\u7ebf\u7a0b\u6301\u6709\u9501\uff0c\u90fd\u80fd\u72ec\u5360\u5f0f\u8bbf\u95ee\u4e34\u754c\u533a\u3002\u867d\u7136\u60b2\u89c2\u9501\u7684\u903b\u8f91\u975e\u5e38\u7b80\u5355\uff0c\u4f46\u662f\u5b58\u5728\u4e0d\u5c11\u95ee\u9898\u3002\u60b2\u89c2\u9501\u603b\u662f\u5047\u8bbe\u4f1a\u53d1\u751f\u6700\u574f\u7684\u60c5\u51b5\uff0c\u6bcf\u6b21\u7ebf\u7a0b\u8bfb\u53d6\u6570\u636e\u65f6\uff0c\u4e5f\u4f1a\u4e0a\u9501\u3002\u8fd9\u6837\u5176\u4ed6\u7ebf\u7a0b\u5728\u8bfb\u53d6\u6570\u636e\u65f6\u5c31\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u5b83\u62ff\u5230\u9501\u3002\u4f20\u7edf\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7528\u5230\u4e86\u5f88\u591a\u60b2\u89c2\u9501\uff0c\u6bd4\u5982\u884c\u9501\u3001\u8868\u9501\u3001\u8bfb\u9501\u3001\u5199\u9501\u7b49\uff1b\u76f4\u63a5\u52a0Synchronize\uff0cAQS\u6846\u67b6\u662f\u5148CAS\u83b7\u53d6\u9501\uff0c\u83b7\u53d6\u4e0d\u5230\u540e\u52a0Synchronize\u60b2\u89c2\u9501 eg\uff1aReentranLock\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u62d3\u5c55\uff1a\u81ea\u65cb\u9501"),(0,l.kt)("p",{parentName:"blockquote"},"\u539f\u7406\uff1a\u5982\u679c\u6301\u6709\u9501\u7684\u7ebf\u7a0b\u5f88\u5feb\u5c31\u91ca\u653e\u9501\u8d44\u6e90\uff0c\u90a3\u4e48\u8fd9\u4e9b\u7b49\u5f85\u7ade\u4e89\u9501\u7684\u5f85\u91ca\u653e\u518d\u91cd\u65b0\u88ab\u9501\u4e0a\u7684\u7ebf\u7a0b\u4e0d\u7528\u5728\u5185\u6838\u6001\u548c\u7528\u6237\u6001\u7684\u5f71\u54cd\u4e0b\u5207\u6362\u5e76\u8fdb\u5165\u963b\u585e\u6302\u8d77\u72b6\u6001\uff0c\u4ed6\u4eec\u53ea\u9700\u8981\u81ea\u65cb\u7b49\u4e00\u4f1a\u7b49\u5f85\u5176\u4ed6\u7ebf\u7a0b\u91ca\u653e\u9501\u540e\u7acb\u5373\u83b7\u53d6\u9501\u3002")),(0,l.kt)("h2",{id:"\ufe0f-jvm"},"\u267b\ufe0f JVM"),(0,l.kt)("p",null,"\u56de\u5fc6\u5927\u7eb2\u56fe\uff08\u653e\u5927\u770b\u56de\u5fc6\u7684\u66f4\u52a0\u6e05\u695a\u5662\uff09"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"JVM\u7b80\u5316\u7248\u67b6\u6784",src:n(45392).Z,width:"6237",height:"10522"})),(0,l.kt)("h3",{id:"\u56fe\u89e3jvm\u7ed3\u6784"},"\u56fe\u89e3JVM\u7ed3\u6784"),(0,l.kt)("h4",{id:"\u6574\u4f53\u67b6\u6784\u56fe\u5efa\u8bae\u9ed8\u5199"},"\u6574\u4f53\u67b6\u6784\u56fe\uff1a\u5efa\u8bae\u9ed8\u5199"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220629110459744",src:n(32025).Z,width:"1796",height:"1894"})),(0,l.kt)("h4",{id:"\u7a0b\u5e8f\u8ba1\u6570\u5668"},"\u7a0b\u5e8f\u8ba1\u6570\u5668"),(0,l.kt)("p",null,"\u7a0b\u5e8f\u8ba1\u6570\u5668\u662f\u4e00\u5757\u8f83\u5c0f\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u5b83\u53ef\u4ee5\u770b\u4f5c\u662f\u5f53\u524d\u7ebf\u7a0b\u6240\u6267\u884c\u7684\u5b57\u8282\u7801\u7684\u884c\u53f7\u6307\u793a\u5668\u3002",(0,l.kt)("strong",{parentName:"p"},"\u5b57\u8282\u7801\u89e3\u91ca\u5668\u5de5\u4f5c\u65f6\u5c31\u662f\u901a\u8fc7\u6539\u53d8\u8fd9\u4e2a\u8ba1\u6570\u5668\u7684\u503c\u6765\u9009\u53d6\u4e0b\u4e00\u6761\u9700\u8981\u6267\u884c\u7684\u5b57\u8282\u7801\u6307\u4ee4\uff0c\u5206\u652f\u3001\u5faa\u73af\u3001\u8df3\u8f6c\u3001\u5f02\u5e38\u5904\u7406\u3001\u7ebf\u7a0b\u6062\u590d\u7b49\u57fa\u7840\u529f\u80fd\u90fd\u9700\u8981\u4f9d\u8d56\u8fd9\u4e2a\u8ba1\u6570\u5668\u6765\u5b8c\u6210"),"\u3002"),(0,l.kt)("p",null,"\u7531\u4e8e Java \u865a\u62df\u673a\u7684\u591a\u7ebf\u7a0b\u662f\u901a\u8fc7\u7ebf\u7a0b\u8f6e\u6d41\u5207\u6362\u3001\u5206\u914d\u5904\u7406\u5668\u6267\u884c\u65f6\u95f4\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u7684\uff0c\u5728\u4efb\u4f55\u4e00\u4e2a\u786e\u5b9a\u7684\u65f6\u523b\uff0c\u4e00\u4e2a\u5904\u7406\u5668\uff08\u5bf9\u4e8e\u591a\u6838\u5904\u7406\u5668\u6765\u8bf4\u662f\u4e00\u4e2a\u5185\u6838\uff09\u90fd\u53ea\u4f1a\u6267\u884c\u4e00\u6761\u7ebf\u7a0b\u4e2d\u7684\u6307\u4ee4\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u56e0\u6b64\uff0c\u4e3a\u4e86\u7ebf\u7a0b\u5207\u6362\u540e\u80fd\u6062\u590d\u5230\u6b63\u786e\u7684\u6267\u884c\u4f4d\u7f6e\uff0c\u6bcf\u6761\u7ebf\u7a0b\u90fd\u9700\u8981\u6709\u4e00\u4e2a\u72ec\u7acb\u7684\u7a0b\u5e8f\u8ba1\u6570\u5668\uff0c\u5404\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u7684\u8ba1\u6570\u5668\u4e92\u4e0d\u5f71\u54cd"),"\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\u7a0b\u5e8f\u8ba1\u6570\u5668\u91cc\u5b58\u7684\u5230\u5e95\u662f\u4ec0\u4e48\u4e1c\u897f\u5462\uff1f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u7ebf\u7a0b\u6b63\u5728\u6267\u884c\u7684\u662f\u4e00\u4e2a Java \u65b9\u6cd5\uff0c\u8fd9\u4e2a\u8ba1\u6570\u5668\u8bb0\u5f55\u7684\u662f\u6b63\u5728\u6267\u884c\u7684\u865a\u62df\u673a\u5b57\u8282\u7801\u6307\u4ee4\u7684\u5730\u5740"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u6b63\u5728\u6267\u884c\u7684\u662f\u672c\u5730\uff08Native\uff09\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u8ba1\u6570\u5668\u503c\u5219\u5e94\u4e3a\u7a7a\uff08Undefined\uff09\u3002\u81f3\u4e8e\u4ec0\u4e48\u662f Native \u65b9\u6cd5\uff0c\u5728\u672c\u5730\u65b9\u6cd5\u6808\u90a3\u4e00\u5c0f\u8282\u4f1a\u8be6\u7ec6\u89e3\u91ca")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff01\u6b64\u5185\u5b58\u533a\u57df\u662f\u552f\u4e00\u4e00\u4e2a\u5728\u300aJava\u865a\u62df\u673a\u89c4\u8303\u300b\u4e2d\u6ca1\u6709\u89c4\u5b9a\u4efb\u4f55 OutOfMemoryError\uff08\u5185\u5b58\u6ea2\u51fa\uff09\u60c5\u51b5\u7684\u533a\u57df\u3002\u8fd9\u4e2a\u95ee\u9898\u4e5f\u7b97\u662f\u4e00\u4e2a\u6bd4\u8f83\u5e38\u89c1\u7684\u9762\u8bd5\u9898\u4e86")),(0,l.kt)("h4",{id:"\u865a\u62df\u673a\u6808"},"\u865a\u62df\u673a\u6808"),(0,l.kt)("p",null,"\u6bcf\u4e2a\u7ebf\u7a0b\u5728\u521b\u5efa\u7684\u65f6\u5019\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u673a\u6808\uff0c\u5176\u5185\u90e8\u4fdd\u5b58\u4e00\u4e2a\u4e2a\u7684\u6808\u5e27(Stack Frame\uff09"),(0,l.kt)("p",null,"\u6bcf\u4e2a",(0,l.kt)("strong",{parentName:"p"},"\u6808\u5e27"),"\uff08Stack Frame\uff09\u4e2d\u5b58\u50a8\u7740\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5c40\u90e8\u53d8\u91cf\u8868\uff08Local Variables\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u64cd\u4f5c\u6570\u6808\uff08Operand Stack\uff09(\u6216\u79f0\u4e3a\u8868\u8fbe\u5f0f\u6808)"),(0,l.kt)("li",{parentName:"ul"},"\u52a8\u6001\u94fe\u63a5\uff08Dynamic Linking\uff09\uff1a\u6307\u5411\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u7684\u65b9\u6cd5\u5f15\u7528"),(0,l.kt)("li",{parentName:"ul"},"\u65b9\u6cd5\u8fd4\u56de\u5730\u5740\uff08Return Address\uff09\uff1a\u65b9\u6cd5\u6b63\u5e38\u9000\u51fa\u6216\u5f02\u5e38\u9000\u51fa\u7684\u5730\u5740"),(0,l.kt)("li",{parentName:"ul"},"\u4e00\u4e9b\u9644\u52a0\u4fe1\u606f")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628171657570",src:n(12490).Z,width:"1279",height:"931"})),(0,l.kt)("h4",{id:"\u672c\u5730\u65b9\u6cd5\u6808"},"\u672c\u5730\u65b9\u6cd5\u6808"),(0,l.kt)("p",null,"\u672c\u5730\u65b9\u6cd5\u6808\u548c\u4e0a\u9762\u6211\u4eec\u6240\u8bf4\u7684\u865a\u62df\u673a\u6808\u4f5c\u7528\u57fa\u672c\u4e00\u6837\uff0c\u533a\u522b\u53ea\u4e0d\u8fc7\u662f\u672c\u5730\u65b9\u6cd5\u6808\u4e3a\u865a\u62df\u673a\u4f7f\u7528\u5230\u7684 Native \u65b9\u6cd5\u670d\u52a1\uff0c\u800c\u865a\u62df\u673a\u6808\u4e3a\u865a\u62df\u673a\u6267\u884c Java \u65b9\u6cd5\uff08\u4e5f\u5c31\u662f\u5b57\u8282\u7801\uff09\u670d\u52a1\u3002"),(0,l.kt)("p",null,"\u8fd9\u91cc\u89e3\u91ca\u4e00\u4e0b ",(0,l.kt)("strong",{parentName:"p"},"Native \u65b9\u6cd5"),"\u7684\u6982\u5ff5\uff0c\u5176\u5b9e\u4e0d\u4ec5 Java\uff0c\u5f88\u591a\u8bed\u8a00\u4e2d\u90fd\u6709\u8fd9\u4e2a\u6982\u5ff5\u3002"),(0,l.kt)("p",null,'"A native method is a Java method whose implementation is provided by non-java code."'),(0,l.kt)("p",null,"\u5c31\u662f\u8bf4\u4e00\u4e2a Native \u65b9\u6cd5\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u63a5\u53e3\uff0c\u4f46\u662f\u5b83\u7684\u5177\u4f53\u5b9e\u73b0\u662f\u5728\u5916\u90e8\u7531\u975e Java \u8bed\u8a00\u6bd4\u5982 C \u6216 C++ \u7b49\u6765\u5199\u7684\u3002Java \u901a\u8fc7 JNI  \u6765\u8c03\u7528\u672c\u5730\u65b9\u6cd5\uff0c \u800c\u672c\u5730\u65b9\u6cd5\u662f\u4ee5\u5e93\u6587\u4ef6\u7684\u5f62\u5f0f\u5b58\u653e\u7684\uff08\u5728 WINDOWS \u5e73\u53f0\u4e0a\u662f DLL \u6587\u4ef6\u5f62\u5f0f\uff0c\u5728 UNIX \u673a\u5668\u4e0a\u662f SO \u6587\u4ef6\u5f62\u5f0f\uff09\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\u540c\u4e00\u4e2a Native \u65b9\u6cd5\uff0c\u5982\u679c\u7528\u4e0d\u540c\u7684\u865a\u62df\u673a\u53bb\u8c03\u7528\u5b83\uff0c\u90a3\u4e48\u5f97\u5230\u7684\u7ed3\u679c\u548c\u8fd0\u884c\u6548\u7387\u53ef\u80fd\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u865a\u62df\u673a\u5bf9\u4e8e\u67d0\u4e2a Native \u65b9\u6cd5\u90fd\u6709\u81ea\u5df1\u7684\u5b9e\u73b0\uff0c\u6bd4\u5982 Object \u7c7b\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"hashCode")," \u65b9\u6cd5\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u90a3\u4e48\u4e3a\u4ec0\u4e48\u9700\u8981 Native \u65b9\u6cd5\u5462"),"\uff1f"),(0,l.kt)("p",null,"\u5176\u4e3b\u8981\u539f\u56e0\u5c31\u662f Java \u867d\u7136\u4f7f\u7528\u8d77\u6765\u5f88\u65b9\u4fbf\uff0c\u4f46\u662f\u6709\u4e9b\u5c42\u6b21\u7684\u4efb\u52a1\u7528 Java \u5b9e\u73b0\u8d77\u6765\u4e0d\u5bb9\u6613\uff0c\u6216\u8005\u5bf9\u7a0b\u5e8f\u7684\u6548\u7387\u6709\u6bd4\u8f83\u9ad8\u7684\u8981\u6c42\u65f6\uff0cJava  \u8bed\u8a00\u53ef\u80fd\u5e76\u4e0d\u662f\u6700\u597d\u7684\u9009\u62e9\u3002\u6240\u4ee5 Native \u65b9\u6cd5\u4f7f\u5f97 Java \u7a0b\u5e8f\u80fd\u591f\u8d85\u8d8a Java \u8fd0\u884c\u65f6\u7684\u754c\u9650\uff0c\u6709\u6548\u5730\u6269\u5145\u4e86 JVM\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e0e\u865a\u62df\u673a\u6808\u4e00\u6837\uff0c\u672c\u5730\u65b9\u6cd5\u6808\u4e5f\u4f1a\u5728\u6808\u6df1\u5ea6\u6ea2\u51fa\u6216\u8005\u6808\u6269\u5c55\u5931\u8d25\u65f6\u5206\u522b\u629b\u51fa StackOverflowError \u548c OutOfMemoryError \u5f02\u5e38")),(0,l.kt)("h4",{id:"\u5806"},"\u5806"),(0,l.kt)("p",null,"Java \u5806\u662f\u865a\u62df\u673a\u6240\u7ba1\u7406\u7684\u5185\u5b58\u4e2d\u6700\u5927\u7684\u4e00\u5757\u3002",(0,l.kt)("strong",{parentName:"p"},"\u5806\u662f\u88ab\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\u7684\u4e00\u5757\u5185\u5b58\u533a\u57df\uff0c\u5728\u865a\u62df\u673a\u542f\u52a8\u65f6\u521b\u5efa\u3002\u6b64\u5185\u5b58\u533a\u57df\u7684\u552f\u4e00\u76ee\u7684\u5c31\u662f\u5b58\u653e\u5bf9\u8c61\u5b9e\u4f8b\uff0c\u201c\u51e0\u4e4e\u201d \u6240\u6709\u7684\u5bf9\u8c61\u5b9e\u4f8b\u90fd\u5728\u8fd9\u91cc\u5206\u914d\u5185\u5b58"),"\u3002"),(0,l.kt)("p",null,"\u6ce8\u610f\uff01\u8fd9\u91cc\u6211\u4eec\u7528\u7684\u662f\u51e0\u4e4e\uff0c\u6280\u672f\u53d1\u5c55\u81f3\u4eca\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5176\u5b9e\u5e76\u975e\u6240\u6709\u7684\u5bf9\u8c61\u5b9e\u4f8b\u90fd\u4f1a\u5206\u914d\u5230\u5806\u4e0a"),"\uff0c\u6bd4\u5982\u9003\u9038\u6280\u672f\uff0c\u8fd9\u4e2a\u6211\u4eec\u540e\u7eed\u6587\u7ae0\u6211\u518d\u505a\u89e3\u91ca~"),(0,l.kt)("p",null,"\u5806\u662f\u5783\u573e\u6536\u96c6\u5668\u7ba1\u7406\u7684\u5185\u5b58\u533a\u57df\uff0c\u56e0\u6b64\u4e00\u4e9b\u8d44\u6599\u4e2d\u5b83\u4e5f\u88ab\u79f0\u4f5c \u201cGC \u5806\u201d\uff08Garbage Collected Heap\uff09\u3002"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u5806\u8fd9\u4e2a\u6982\u5ff5\u5c0f\u4f19\u4f34\u4eec\u80af\u5b9a\u8fd8\u542c\u8bf4\u8fc7\u5404\u79cd\u8bf8\u5982\u65b0\u751f\u4ee3\u3001\u8001\u5e74\u4ee3\u3001\u6c38\u4e45\u4ee3\u3001Eden \u7a7a\u95f4\u3001From Survivor \u7a7a\u95f4\u3001To Survivor \u7a7a\u95f4\u7b49\u540d\u8bcd\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u8fd9\u4e9b\u533a\u57df\u5212\u5206\u4ec5\u4ec5\u662f\u4e00\u90e8\u5206\u5783\u573e\u6536\u96c6\u5668\u7684\u5171\u540c\u7279\u6027\u6216\u8005\u8bf4\u8bbe\u8ba1\u98ce\u683c\u800c\u5df2\uff0c\u53ea\u662f\u4e3a\u4e86\u901a\u8fc7\u8fd9\u79cd\u5206\u4ee3\u8bbe\u8ba1\u6765\u66f4\u597d\u5730\u56de\u6536\u5185\u5b58\uff0c\u6216\u8005\u66f4\u5feb\u5730\u5206\u914d\u5185\u5b58\uff0c\u800c\u975e\u67d0\u4e2a Java \u865a\u62df\u673a\u5177\u4f53\u5b9e\u73b0\u7684\u56fa\u6709\u5185\u5b58\u5e03\u5c40\uff0c\u66f4\u4e0d\u662f\u300aJava\u865a\u62df\u673a\u89c4\u8303\u300b\u91cc\u5bf9 Java \u5806\u7684\u8fdb\u4e00\u6b65\u7ec6\u81f4\u5212\u5206")),(0,l.kt)("p",null,"\u6839\u636e\u300aJava\u865a\u62df\u673a\u89c4\u8303\u300b\u7684\u89c4\u5b9a\uff0cJava  \u5806\u53ef\u4ee5\u5904\u4e8e\u7269\u7406\u4e0a\u4e0d\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4\u4e2d\uff0c\u4f46\u5728\u903b\u8f91\u4e0a\u5b83\u5e94\u8be5\u88ab\u89c6\u4e3a\u8fde\u7eed\u7684\uff0c\u8fd9\u70b9\u5c31\u50cf\u6211\u4eec\u7528\u78c1\u76d8\u7a7a\u95f4\u53bb\u5b58\u50a8\u6587\u4ef6\u4e00\u6837\uff0c\u5e76\u4e0d\u8981\u6c42\u6bcf\u4e2a\u6587\u4ef6\u90fd\u8fde\u7eed\u5b58\u653e\u3002\u4f46\u5bf9\u4e8e\u5927\u5bf9\u8c61\uff08\u5178\u578b\u7684\u5982\u6570\u7ec4\u5bf9\u8c61\uff09\uff0c\u591a\u6570\u865a\u62df\u673a\u5b9e\u73b0\u51fa\u4e8e\u5b9e\u73b0\u7b80\u5355\u3001\u5b58\u50a8\u9ad8\u6548\u7684\u8003\u8651\uff0c\u5f88\u53ef\u80fd\u4f1a\u8981\u6c42\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4\u3002"),(0,l.kt)("p",null,"Java \u5806\u65e2\u53ef\u4ee5\u88ab\u5b9e\u73b0\u6210\u56fa\u5b9a\u5927\u5c0f\u7684\uff0c\u4e5f\u53ef\u4ee5\u662f\u53ef\u6269\u5c55\u7684\uff0c\u5f53\u524d\u4e3b\u6d41\u7684 Java \u865a\u62df\u673a\u90fd\u662f\u6309\u7167\u53ef\u6269\u5c55\u6765\u5b9e\u73b0\u7684\uff08\u901a\u8fc7\u53c2\u6570 ",(0,l.kt)("inlineCode",{parentName:"p"},"-Xmx")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"-Xms")," \u8bbe\u5b9a\uff09"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5982\u679c\u5728\u5806\u4e2d\u6ca1\u6709\u5185\u5b58\u6765\u5b8c\u6210\u5bf9\u8c61\u5b9e\u4f8b\u7684\u5206\u914d\uff0c\u5e76\u4e14\u5806\u4e5f\u65e0\u6cd5\u518d\u6269\u5c55\u65f6\uff0cJVM \u5c31\u4f1a\u629b\u51fa OutOfMemoryError \u5f02\u5e38")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628162509521",src:n(72261).Z,width:"1258",height:"749"})),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628164028744",src:n(7535).Z,width:"1032",height:"524"})),(0,l.kt)("h4",{id:"\u65b9\u6cd5\u533a"},"\u65b9\u6cd5\u533a"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u65b9\u6cd5\u533a\u901a\u4fd7\u70b9\u7406\u89e3\u5c31\u662f\uff0c\u5728\u865a\u62df\u673a\u5b8c\u6210\u7c7b\u52a0\u8f7d\u4e4b\u540e\uff0c\u5b58\u50a8\u8fd9\u4e2a\u7c7b\u76f8\u5173\u7684\u7c7b\u578b\u4fe1\u606f\u3001\u5e38\u91cf\u3001\u9759\u6001\u53d8\u91cf\u3001\u5373\u65f6\u7f16\u8bd1\u5668\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u7f13\u5b58\u7b49\u6570\u636e"),"\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"It stores ",(0,l.kt)("inlineCode",{parentName:"p"},"per-class structures")," such as the ",(0,l.kt)("inlineCode",{parentName:"p"},"run-time constant pool"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"field")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"method data"),", and ",(0,l.kt)("inlineCode",{parentName:"p"},"the code for methods and constructors"),", including the special methods used in class and instance initialization and interface initialization.  \u5b83\u5b58\u50a8\u6bcf\u4e2a\u7c7b\u7684\u7ed3\u6784\uff0c\u5982\u8fd0\u884c\u65f6\u7684\u5e38\u91cf\u6c60\u3001\u5b57\u6bb5\u548c\u65b9\u6cd5\u6570\u636e\uff0c\u4ee5\u53ca\u65b9\u6cd5\u548c\u6784\u9020\u51fd\u6570\u7684\u4ee3\u7801\uff0c\u5305\u62ec\u7c7b\u548c\u5b9e\u4f8b\u521d\u59cb\u5316\u548c\u63a5\u53e3\u521d\u59cb\u5316\u4e2d\u4f7f\u7528\u7684\u7279\u6b8a\u65b9\u6cd5")),(0,l.kt)("p",null,"\u4e3e\u4e2a\u7b80\u5355\u7684\u5c0f\u4f8b\u5b50\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725144553583",src:n(85038).Z,width:"595",height:"247"})),(0,l.kt)("p",null,"\u65b9\u6cd5\u533a\u5176\u5b9e\u672c\u8eab\u5f88\u597d\u7406\u89e3\uff0c\u4f46\u662f\u300aJava \u865a\u62df\u673a\u89c4\u8303\u300b/ \u300a\u6df1\u5165\u7406\u89e3 Java \u865a\u62df\u673a\u300b\u63d0\u5230\u7684\u4e00\u53e5\u8bdd\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u65b9\u6cd5\u533a\u662f\u5806\u7684\u4e00\u4e2a\u903b\u8f91\u90e8\u5206"),"\uff0c\u771f\u7684\u662f\u8ba9\u6211\u56f0\u60d1\u4e86\u5f88\u957f\u65f6\u95f4\u3002"),(0,l.kt)("p",null,"\u4e0b\u9762\u6211\u6765\u7ed3\u5408\u6211\u7684\u7406\u89e3\u7ed9\u5927\u5bb6\u89e3\u91ca\u4e0b\uff0c\u6211\u89c9\u5f97\u8fd9\u4e2a \u201c\u65b9\u6cd5\u533a\u662f\u5806\u7684\u4e00\u4e2a\u903b\u8f91\u90e8\u5206\u201d \u5e94\u8be5\u9002\u7528\u4e8e JDK 8 \u4ee5\u524d\uff0c\u800c\u4e0d\u9002\u7528 JDK 8"),(0,l.kt)("p",null,"\u5148\u6765\u770b JDK 8 \u4e4b\u524d:"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725144601249",src:n(72242).Z,width:"706",height:"557"})),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c",(0,l.kt)("strong",{parentName:"p"},"JDK 8 \u4e4b\u524d\uff0c\u5806\u548c\u65b9\u6cd5\u533a\u5176\u5b9e\u662f\u8fde\u5728\u4e00\u8d77\u7684\uff0c\u6216\u8005\u8bf4\uff0c\u65b9\u6cd5\u533a\u5c31\u662f\u5806\u7684\u4e00\u90e8\u5206"),"\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\u5462\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u65b9\u6cd5\u533a\u5b58\u50a8\u7684\u4e1c\u897f\u53c8\u6709\u4e9b\u7279\u522b"),"\uff0c\u5728\u8fc7\u53bb\u81ea\u5b9a\u4e49\u7c7b\u52a0\u8f7d\u5668\u4f7f\u7528\u4e0d\u666e\u904d\u7684\u65f6\u5019\uff0c\u7c7b\u51e0\u4e4e\u662f \u201c\u9759\u6001\u7684\u201d \u5e76\u4e14\u5f88\u5c11\u88ab\u5378\u8f7d\u548c\u56de\u6536\uff0c\u56e0\u6b64\u7c7b\u4e5f\u53ef\u4ee5\u88ab\u770b\u6210 \u201c\u6c38\u4e45\u7684\u201d\uff08\u8fd9\u4e5f\u5c31\u662f\u6c38\u4e45\u4ee3\u7684\u542b\u4e49\uff09\uff0c\u53e6\u5916\u7531\u4e8e\u7c7b\u4f5c\u4e3a JVM \u5b9e\u73b0\u7684\u4e00\u90e8\u5206\uff0c\u5b83\u4eec\u4e0d\u7531\u7a0b\u5e8f\u6765\u521b\u5efa\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u6240\u4ee5\u4e3a\u4e86\u548c\u5806\u533a\u5206\u5f00\u6765\u5462"),"\uff0c\u5c31\u7ed9\u4e86 \u201c\u65b9\u6cd5\u533a\u201d \u8fd9\u6837\u4e00\u4e2a\u540d\u5b57\u7528\u6765\u5b58\u50a8\u7c7b\u7684\u4fe1\u606f\uff0c\u4e5f\u6709\u4eba\u628a\u65b9\u6cd5\u533a\u79f0\u4e3a \u201c\u975e\u5806\u201d\u3002"),(0,l.kt)("p",null,"\u2b50 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u65e0\u8bba\u662f\u65b9\u6cd5\u533a\u8fd8\u662f\u975e\u5806\uff0c\u5176\u5b9e\u90fd\u53ea\u662f\u4e00\u4e2a\u903b\u8f91\u4e0a\u7684\u6982\u5ff5\uff0c\u5728 JDK 8 \u4e4b\u524d\uff0c\u5176\u5177\u4f53\u7684\u5b9e\u73b0\u65b9\u6cd5\u662f\u6c38\u4e45\u4ee3"),"\u3002"),(0,l.kt)("p",null,"\u6c38\u4e45\u4ee3\u662f HotSpot \u865a\u62df\u673a\u7ed9\u51fa\u7684\u5b9e\u73b0\uff0c\u4f46\u662f\u5bf9\u4e8e\u5176\u4ed6\u865a\u62df\u673a\u5b9e\u73b0\uff0c\u8b6c\u5982 BEA JRockit\u3001IBM J9 \u7b49\u6765\u8bf4\uff0c\u662f\u4e0d\u5b58\u5728\u6c38\u4e45\u4ee3\u7684\u6982\u5ff5\u7684\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725144641131",src:n(91955).Z,width:"1257",height:"608"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6c38\u4e45\u4ee3\u662f\u4e00\u6bb5\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4"),"\uff0c\u6211\u4eec\u5728 JVM \u542f\u52a8\u4e4b\u524d\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e ",(0,l.kt)("inlineCode",{parentName:"p"},"-XX:MaxPermSize")," \u7684\u503c\u6765\u63a7\u5236\u6c38\u4e45\u4ee3\u7684\u5927\u5c0f\uff0c32 \u4f4d\u673a\u5668\u9ed8\u8ba4\u7684\u6c38\u4e45\u4ee3\u7684\u5927\u5c0f\u4e3a 64M\uff0c64 \u4f4d\u7684\u673a\u5668\u5219\u4e3a 85M\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6c38\u4e45\u4ee3\u7684\u5783\u573e\u56de\u6536\u548c\u8001\u5e74\u4ee3\u7684\u5783\u573e\u56de\u6536\u662f\u7ed1\u5b9a\u7684\uff0c\u4e00\u65e6\u5176\u4e2d\u4e00\u4e2a\u533a\u57df\u88ab\u5360\u6ee1\uff0c\u8fd9\u4e24\u4e2a\u533a\u90fd\u8981\u8fdb\u884c\u5783\u573e\u56de\u6536"),"\u3002"),(0,l.kt)("p",null,"\u663e\u7136\u8fd9\u79cd\u8bbe\u8ba1\u5e76\u4e0d\u662f\u4e00\u4e2a\u597d\u7684\u4e3b\u610f\uff0c\u7531\u4e8e\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"\u2011XX:MaxPermSize")," \u8bbe\u7f6e\u6c38\u4e45\u4ee3\u7684\u5927\u5c0f\uff0c\u4e00\u65e6\u7c7b\u7684\u5143\u6570\u636e\u8d85\u8fc7\u4e86\u8bbe\u5b9a\u7684\u5927\u5c0f\uff0c\u7a0b\u5e8f\u5c31\u4f1a\u8017\u5c3d\u5185\u5b58\uff0c\u5e76\u51fa\u73b0\u5185\u5b58\u6ea2\u51fa\u9519\u8bef (",(0,l.kt)("inlineCode",{parentName:"p"},"java.lang.OutOfMemoryError: PermGen space"),")\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u800c\u4e14\u6709\u6781\u5c11\u6570\u7684\u65b9\u6cd5"),"\uff08\u4f8b\u5982\u9002\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"String"),"\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"intern()"),"\u65b9\u6cd5\u53ef\u4ee5\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u624b\u52a8\u7684\u5c06\u5b57\u7b26\u4e32\u6dfb\u52a0\u5230 \u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u4e2d\uff0c\u5728 JDK1.7 \u4e4b\u524d\u7684 HotSpot \u865a\u62df\u673a\u4e2d\uff0c\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u88ab\u5b58\u50a8\u5728\u6c38\u4e45\u4ee3\u4e2d\uff09",(0,l.kt)("strong",{parentName:"p"},"\u4f1a\u56e0\u6c38\u4e45\u4ee3\u7684\u539f\u56e0\u800c\u5bfc\u81f4\u4e0d\u540c\u865a\u62df\u673a\u4e0b\u6709\u4e0d\u540c\u7684\u8868\u73b0"),"\uff08\u6bd4\u5982 JRockit \u865a\u62df\u673a\u5c31\u6ca1\u6709\u6c38\u4e45\u4ee3\u7684\u6982\u5ff5\uff09"),(0,l.kt)("p",null,"\u6240\u4ee5\u6211\u4eec\u603b\u7ed3\u4e0b HotSpots \u5728 JDK 8 \u629b\u5f03\u6c38\u4e45\u4ee3\uff0c\u8f6c\u800c\u7528\u5143\u7a7a\u95f4\u6765\u5b9e\u73b0\u65b9\u6cd5\u533a\u7684",(0,l.kt)("strong",{parentName:"p"},"\u4e24\u5927\u539f\u56e0"),"\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u7531\u4e8e\u6c38\u4e45\u4ee3\u7684\u5783\u573e\u56de\u6536\u548c\u8001\u5e74\u4ee3\u7684\u5783\u573e\u56de\u6536\u662f\u7ed1\u5b9a\u7684\uff0c\u4e00\u65e6\u5176\u4e2d\u4e00\u4e2a\u533a\u57df\u88ab\u5360\u6ee1\uff0c\u8fd9\u4e24\u4e2a\u533a\u90fd\u8981\u8fdb\u884c\u5783\u573e\u56de\u6536\uff0c\u589e\u5927\u4e86 OOM \u53d1\u751f\u7684\u6982\u7387"),(0,l.kt)("li",{parentName:"ol"},"\u6709\u5c11\u6570\u7684\u65b9\u6cd5\u4f8b\u5982 ",(0,l.kt)("inlineCode",{parentName:"li"},"String")," \u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"intern()")," \u65b9\u6cd5\u4f1a\u56e0\u6c38\u4e45\u4ee3\u7684\u539f\u56e0\u800c\u5bfc\u81f4\u4e0d\u540c\u865a\u62df\u673a\u4e0b\u6709\u4e0d\u540c\u7684\u8868\u73b0\uff0c\u4e0d\u5229\u4e8e\u4ee3\u7801\u8fc1\u79fb")),(0,l.kt)("p",null,"\u90a3\u4e48\u5143\u7a7a\u95f4\u5230\u5e95\u662f\u4e2a\u5565\uff0c\u548c\u65b9\u6cd5\u533a\u6709\u5565\u533a\u522b\uff1f"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5143\u7a7a\u95f4\u4e0e\u6c38\u4e45\u4ee3\u4e4b\u95f4\u6700\u5927\u7684\u533a\u522b\u5728\u4e8e\uff1a\u5143\u7a7a\u95f4\u4e0d\u518d\u4e0e\u5806\u8fde\u7eed\uff0c\u5e76\u4e14\u662f\u5b58\u5728\u4e8e\u672c\u5730\u5185\u5b58\uff08Native memory\uff09\u4e2d\u7684"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725144655251",src:n(76478).Z,width:"1192",height:"714"})),(0,l.kt)("p",null,"\u8fd0\u884c\u65f6\u6570\u636e\u533a\u57df\u7684\u5bf9\u6bd4\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725144703356",src:n(90614).Z,width:"1455",height:"615"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"\u5143\u7a7a\u95f4\u5b58\u5728\u4e8e\u672c\u5730\u5185\u5b58\uff0c\u610f\u5473\u7740\u53ea\u8981\u672c\u5730\u5185\u5b58\u8db3\u591f\uff0c\u5b83\u5c31\u4e0d\u4f1a OOM"),"\uff0c\u4e0d\u4f1a\u51fa\u73b0\u50cf\u6c38\u4e45\u4ee3\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"java.lang.OutOfMemoryError: PermGenspace"))),(0,l.kt)("h5",{id:"\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60"},"\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u662f\u65b9\u6cd5\u533a\u7684\u4e00\u90e8\u5206"),"\u3002\u4e0a\u9762\u6211\u4eec\u8bf4\u8fc7\u65b9\u6cd5\u533a\u5305\u542b\u7c7b\u4fe1\u606f\uff0c\u800c\u63cf\u8ff0\u7c7b\u4fe1\u606f\u7684 Class \u6587\u4ef6\u4e2d\u9664\u4e86\u6709\u7c7b\u7684\u7248\u672c\u3001\u5b57\u6bb5\u3001\u65b9\u6cd5\u3001\u63a5\u53e3\u7b49\u63cf\u8ff0\u4fe1\u606f\u5916\uff0c\u8fd8\u6709\u4e00\u9879\u4fe1\u606f\u662f",(0,l.kt)("strong",{parentName:"p"},"\u5e38\u91cf\u6c60\u8868 (Constant Pool Table)"),"\uff0c\u7528\u4e8e\u5b58\u653e",(0,l.kt)("strong",{parentName:"p"},"\u7f16\u8bd1\u671f"),"\u751f\u6210\u7684\u5404\u79cd\u5b57\u9762\u91cf\uff08\u5b57\u9762\u91cf\u76f8\u5f53\u4e8e Java \u8bed\u8a00\u5c42\u9762\u5e38\u91cf\u7684\u6982\u5ff5\uff0c\u5982\u6587\u672c\u5b57\u7b26\u4e32\uff0c\u58f0\u660e\u4e3a final \u7684\u5e38\u91cf\u503c\u7b49\uff09\u4e0e\u7b26\u53f7\u5f15\u7528\u3002\u6709\u4e00\u4e9b\u6587\u7ae0\u4f1a\u628a class \u5e38\u91cf\u6c60\u8868\u79f0\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u9759\u6001\u5e38\u91cf\u6c60"),"\u3002"),(0,l.kt)("p",null,"\u90fd\u662f\u5e38\u91cf\u6c60\uff0c\u5e38\u91cf\u6c60\u8868\u548c\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u6709\u5565\u5173\u7cfb\u5417\uff1f\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u662f\u5e72\u561b\u7684\u5462\uff1f"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u53ef\u4ee5\u5728\u8fd0\u884c\u671f\u95f4\u5c06 class \u5e38\u91cf\u6c60\u8868\u4e2d\u7684\u7b26\u53f7\u5f15\u7528\u89e3\u6790\u4e3a\u76f4\u63a5\u5f15\u7528"),"\u3002\u7b80\u5355\u6765\u8bf4\uff0cclass \u5e38\u91cf\u6c60\u8868\u5c31\u76f8\u5f53\u4e8e\u4e00\u5806\u7d22\u5f15\uff0c\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u6839\u636e\u8fd9\u4e9b\u7d22\u5f15\u6765\u67e5\u627e\u5bf9\u5e94\u65b9\u6cd5\u6216\u5b57\u6bb5\u6240\u5c5e\u7684\u7c7b\u578b\u4fe1\u606f\u548c\u540d\u79f0\u53ca\u63cf\u8ff0\u7b26\u4fe1\u606f"),(0,l.kt)("p",null,"\u4e3a\u4ec0\u4e48\u9700\u8981\u5e38\u91cf\u6c60\u8fd9\u4e2a\u4e1c\u897f\u5462\uff1f\u4e3b\u8981\u662f\u4e3a\u4e86\u907f\u514d\u9891\u7e41\u7684\u521b\u5efa\u548c\u9500\u6bc1\u5bf9\u8c61\u800c\u5f71\u54cd\u7cfb\u7edf\u6027\u80fd\uff0c\u5176\u5b9e\u73b0\u4e86\u5bf9\u8c61\u7684\u5171\u4eab\u3002\u4ee5",(0,l.kt)("strong",{parentName:"p"},"\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60"),"\u4e3a\u4f8b\uff0c\u5b57\u7b26\u4e32 ",(0,l.kt)("inlineCode",{parentName:"p"},"String")," \u65e2\u7136\u4f5c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"Java")," \u4e2d\u7684\u4e00\u4e2a\u7c7b\uff0c\u90a3\u4e48\u5b83\u548c\u5176\u4ed6\u7684\u5bf9\u8c61\u5206\u914d\u4e00\u6837\uff0c\u9700\u8981\u8017\u8d39\u9ad8\u6602\u7684\u65f6\u95f4\u4e0e\u7a7a\u95f4\u4ee3\u4ef7\uff0c\u4f5c\u4e3a\u6700\u57fa\u7840\u6700\u5e38\u7528\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5927\u91cf\u9891\u7e41\u7684\u521b\u5efa\u5b57\u7b26\u4e32\uff0c\u5c06\u4f1a\u6781\u5927\u7a0b\u5ea6\u7684\u5f71\u54cd\u7a0b\u5e8f\u7684\u6027\u80fd\u3002\u4e3a\u6b64\uff0cJVM \u4e3a\u4e86\u63d0\u9ad8\u6027\u80fd\u548c\u51cf\u5c11\u5185\u5b58\u5f00\u9500\uff0c\u5728\u5b9e\u4f8b\u5316\u5b57\u7b26\u4e32\u5e38\u91cf\u7684\u65f6\u5019\u8fdb\u884c\u4e86\u4e00\u4e9b\u4f18\u5316\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e3a\u5b57\u7b26\u4e32\u5f00\u8f9f\u4e86\u4e00\u4e2a",(0,l.kt)("strong",{parentName:"li"},"\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60 String Pool"),"\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u7f13\u5b58\u533a"),(0,l.kt)("li",{parentName:"ul"},"\u521b\u5efa\u5b57\u7b26\u4e32\u5e38\u91cf\u65f6\uff0c\u9996\u5148\u68c0\u67e5\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u4e2d\u662f\u5426\u5b58\u5728\u8be5\u5b57\u7b26\u4e32"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u82e5\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u4e2d\u5b58\u5728\u8be5\u5b57\u7b26\u4e32\uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u8be5\u5f15\u7528\u5b9e\u4f8b\uff0c\u65e0\u9700\u91cd\u65b0\u5b9e\u4f8b\u5316"),"\uff1b\u82e5\u4e0d\u5b58\u5728\uff0c\u5219\u5b9e\u4f8b\u5316\u8be5\u5b57\u7b26\u4e32\u5e76\u653e\u5165\u6c60\u4e2d\u3002")),(0,l.kt)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u7684\u4f4d\u7f6e\u5728 JDK 1.7 \u524d\u540e\u6709\u6240\u53d8\u5316\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0b\u9762\u8fd9\u5f20\u8868\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725144724148",src:n(48323).Z,width:"963",height:"313"})),(0,l.kt)("h3",{id:"\ufe0f\u7c7b\u7684\u751f\u547d\u5468\u671f\u7c7b\u52a0\u8f7d\u7684\u8fc7\u7a0b"},"\u2b50\ufe0f\u7c7b\u7684\u751f\u547d\u5468\u671f\u3001\u7c7b\u52a0\u8f7d\u7684\u8fc7\u7a0b"),(0,l.kt)("h4",{id:"\u7c7b\u7684\u751f\u547d\u5468\u671f"},"\u7c7b\u7684\u751f\u547d\u5468\u671f"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628160331611",src:n(34869).Z,width:"1021",height:"465"})),(0,l.kt)("h4",{id:"\u7c7b\u7684\u52a0\u8f7d\u8fc7\u7a0b"},"\u7c7b\u7684\u52a0\u8f7d\u8fc7\u7a0b"),(0,l.kt)("p",null,"\u7c97\u7565"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628160442776",src:n(83052).Z,width:"889",height:"762"})),(0,l.kt)("p",null,"\u8be6\u7ec6\u8fc7\u7a0b"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628160739969",src:n(53939).Z,width:"1297",height:"627"})),(0,l.kt)("h3",{id:"jdk-\u4e2d\u6709\u54ea\u4e9b\u9ed8\u8ba4\u7684\u7c7b\u52a0\u8f7d\u5668"},"JDK \u4e2d\u6709\u54ea\u4e9b\u9ed8\u8ba4\u7684\u7c7b\u52a0\u8f7d\u5668"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8fd9\u91cc\u53c2\u8003\u4e86",(0,l.kt)("a",{parentName:"p",href:"https://doocs.github.io/jvm/"},"JVM \u5e95\u5c42\u539f\u7406\u6700\u5168\u77e5\u8bc6\u603b\u7ed3"))),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628161228908",src:n(71345).Z,width:"721",height:"675"})),(0,l.kt)("p",null,"\u7cfb\u7edf\u63d0\u4f9b\u4e86 3 \u79cd\u7c7b\u52a0\u8f7d\u5668\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668\uff08Bootstrap ClassLoader\uff09\uff1a \u8d1f\u8d23\u5c06\u5b58\u653e\u5728 ",(0,l.kt)("inlineCode",{parentName:"li"},"<JAVA_HOME>\\lib")," \u76ee\u5f55\u4e2d\u7684\uff0c\u5e76\u4e14\u80fd\u88ab\u865a\u62df\u673a\u8bc6\u522b\u7684\uff08\u4ec5\u6309\u7167\u6587\u4ef6\u540d\u8bc6\u522b\uff0c\u5982 rt.jar\uff0c\u540d\u5b57\u4e0d\u7b26\u5408\u7684\u7c7b\u5e93\u5373\u4f7f\u653e\u5728 lib \u76ee\u5f55\u4e2d\u4e5f\u4e0d\u4f1a\u88ab\u52a0\u8f7d\uff09\u7c7b\u5e93\u52a0\u8f7d\u5230\u865a\u62df\u673a\u5185\u5b58\u4e2d\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6269\u5c55\u7c7b\u52a0\u8f7d\u5668\uff08Extension ClassLoader\uff09\uff1a \u8d1f\u8d23\u52a0\u8f7d ",(0,l.kt)("inlineCode",{parentName:"li"},"<JAVA_HOME>\\lib\\ext")," \u76ee\u5f55\u4e2d\u7684\u6240\u6709\u7c7b\u5e93\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u6269\u5c55\u7c7b\u52a0\u8f7d\u5668\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5e94\u7528\u7a0b\u5e8f\u7c7b\u52a0\u8f7d\u5668\uff08Application ClassLoader\uff09\uff1a \u7531\u4e8e\u8fd9\u4e2a\u7c7b\u52a0\u8f7d\u5668\u662f ClassLoader \u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"getSystemClassLoader()")," \u65b9\u6cd5\u7684\u8fd4\u56de\u503c\uff0c\u6240\u4ee5\u4e00\u822c\u4e5f\u79f0\u5b83\u4e3a\u201c\u7cfb\u7edf\u7c7b\u52a0\u8f7d\u5668\u201d\u3002\u5b83\u8d1f\u8d23\u52a0\u8f7d\u7528\u6237\u7c7b\u8def\u5f84\uff08classpath\uff09\u4e0a\u6240\u6307\u5b9a\u7684\u7c7b\u5e93\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u8fd9\u4e2a\u7c7b\u52a0\u8f7d\u5668\uff0c\u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u4e2d\u6ca1\u6709\u81ea\u5b9a\u4e49\u8fc7\u81ea\u5df1\u7684\u7c7b\u52a0\u8f7d\u5668\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u8fd9\u4e2a\u5c31\u662f\u7a0b\u5e8f\u4e2d\u9ed8\u8ba4\u7684\u7c7b\u52a0\u8f7d\u5668\u3002")),(0,l.kt)("h3",{id:"\u5982\u4f55\u5bf9\u6808\u8fdb\u884c\u53c2\u6570\u8c03\u4f18"},"\u5982\u4f55\u5bf9\u6808\u8fdb\u884c\u53c2\u6570\u8c03\u4f18"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u901a\u8fc7-Xss\uff1a\u8c03\u6574\u6bcf\u4e2a\u7ebf\u7a0b\u6808\u7a7a\u95f4\u7684\u5927\u5c0f"),(0,l.kt)("li",{parentName:"ul"},"-XXThreadStackSize\uff1a\u8bbe\u7f6e\u7ebf\u7a0b\u6808\u7684\u5927\u5c0f")),(0,l.kt)("h3",{id:"\u8bf4\u4e00\u4e0b\u65b9\u6cd5\u533a\u548c\u6c38\u4e45\u4ee3\u7684\u5173\u7cfb"},"\u8bf4\u4e00\u4e0b\u65b9\u6cd5\u533a\u548c\u6c38\u4e45\u4ee3\u7684\u5173\u7cfb"),(0,l.kt)("p",null,"\u65b9\u6cd5\u533a\u548c\u6c38\u4e45\u4ee3\u4ee5\u53ca\u5143\u7a7a\u95f4\u7684\u5173\u7cfb\u5f88\u50cf Java  \u4e2d\u63a5\u53e3\u548c\u7c7b\u7684\u5173\u7cfb\uff0c\u7c7b\u5b9e\u73b0\u4e86\u63a5\u53e3\uff0c\u8fd9\u91cc\u7684\u7c7b\u5c31\u53ef\u4ee5\u770b\u4f5c\u662f\u6c38\u4e45\u4ee3\u548c\u5143\u7a7a\u95f4\uff0c\u63a5\u53e3\u53ef\u4ee5\u770b\u4f5c\u662f\u65b9\u6cd5\u533a\uff0c\u4e5f\u5c31\u662f\u8bf4\u6c38\u4e45\u4ee3\u4ee5\u53ca\u5143\u7a7a\u95f4\u662f HotSpot  \u865a\u62df\u673a\u5bf9\u865a\u62df\u673a\u89c4\u8303\u4e2d\u65b9\u6cd5\u533a\u7684\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f\u3002\u5e76\u4e14\uff0c\u6c38\u4e45\u4ee3\u662f JDK 1.8 \u4e4b\u524d\u7684\u65b9\u6cd5\u533a\u5b9e\u73b0\uff0cJDK 1.8 \u53ca\u4ee5\u540e\u65b9\u6cd5\u533a\u7684\u5b9e\u73b0\u53d8\u6210\u4e86\u5143\u7a7a\u95f4\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628171430898",src:n(55433).Z,width:"471",height:"241"})),(0,l.kt)("h3",{id:"\u5982\u4f55\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u6b7b\u4ea1"},"\u5982\u4f55\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u6b7b\u4ea1"),(0,l.kt)("h4",{id:"\u5f15\u7528\u8ba1\u6570\u6cd5"},"\u5f15\u7528\u8ba1\u6570\u6cd5"),(0,l.kt)("p",null,"\u5728\u5bf9\u8c61\u5934\u7ef4\u62a4\u7740\u4e00\u4e2a counter \u8ba1\u6570\u5668\uff0c\u5bf9\u8c61\u88ab\u5f15\u7528\u4e00\u6b21\u5219\u8ba1\u6570\u5668 +1\uff1b\u82e5\u5f15\u7528\u5931\u6548\u5219\u8ba1\u6570\u5668 -1\u3002\u5f53\u8ba1\u6570\u5668\u4e3a 0 \u65f6\uff0c\u5c31\u8ba4\u4e3a\u8be5\u5bf9\u8c61\u65e0\u6548\u4e86\u3002"),(0,l.kt)("p",null,"\u5f15\u7528\u8ba1\u6570\u7b97\u6cd5\u7684\u5b9e\u73b0\u7b80\u5355\uff0c\u5224\u5b9a\u6548\u7387\u4e5f\u5f88\u9ad8\uff0c\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u5b83\u90fd\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u7b97\u6cd5\u3002\u4f46\u662f\u4e3b\u6d41\u7684 Java \u865a\u62df\u673a\u91cc\u6ca1\u6709\u9009\u7528\u5f15\u7528\u8ba1\u6570\u7b97\u6cd5\u6765\u7ba1\u7406\u5185\u5b58\uff0c\u4e3b\u8981\u662f\u56e0\u4e3a\u5b83\u5f88\u96be\u89e3\u51b3\u5bf9\u8c61\u4e4b\u95f4\u5faa\u73af\u5f15\u7528\u7684\u95ee\u9898\u3002\uff08\u867d\u7136\u5faa\u73af\u5f15\u7528\u7684\u95ee\u9898\u53ef\u901a\u8fc7 Recycler \u7b97\u6cd5\u89e3\u51b3\uff0c\u4f46\u662f\u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4e0b\uff0c\u5f15\u7528\u8ba1\u6570\u53d8\u66f4\u4e5f\u8981\u8fdb\u884c\u6602\u8d35\u7684\u540c\u6b65\u64cd\u4f5c\uff0c\u6027\u80fd\u8f83\u4f4e\uff0c\u65e9\u671f\u7684\u7f16\u7a0b\u8bed\u8a00\u4f1a\u91c7\u7528\u6b64\u7b97\u6cd5\u3002\uff09"),(0,l.kt)("h4",{id:"\u53ef\u8fbe\u6027\u5206\u6790"},"\u53ef\u8fbe\u6027\u5206\u6790"),(0,l.kt)("p",null,"\u53ef\u8fbe\u6027\u5206\u6790\u662f\u901a\u8fc7\u4e00\u7cfb\u5217\u88ab\u79f0\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"GC Roots")," \u7684\u6839\u5bf9\u8c61\u4f5c\u4e3a\u8d77\u59cb\u8282\u70b9\u96c6\uff0c\u4ece\u8fd9\u4e9b\u8282\u70b9\u5f00\u59cb\uff0c\u6839\u636e\u5f15\u7528\u5173\u7cfb\u5411\u4e0b\u641c\u7d22\uff0c\u641c\u7d22\u8fc7\u7a0b\u6240\u8d70\u8fc7\u7684\u8def\u5f84\u88ab\u79f0\u4e3a\u5f15\u7528\u94fe\uff08Reference Chain\uff09\uff0c\u5982\u679c\u67d0\u4e2a\u5bf9\u8c61\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"GC Roots")," \u95f4\u6ca1\u6709\u4efb\u4f55\u5f15\u7528\u94fe\u76f8\u8fde\uff0c\u8fd9\u4ee3\u8868 ",(0,l.kt)("inlineCode",{parentName:"p"},"GC Roots")," \u5230\u8be5\u5bf9\u8c61\u4e0d\u53ef\u8fbe\uff0c \u6b64\u65f6\u8bc1\u660e\u6b64\u8be5\u5bf9\u8c61\u4e0d\u53ef\u80fd\u518d\u88ab\u4f7f\u7528\u3002"),(0,l.kt)("p",null,"GC Roots \u662f\u6307\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u865a\u62df\u673a\u6808"),"\uff08\u6808\u5e27\u4e2d\u7684\u672c\u5730\u53d8\u91cf\u8868\uff09\u4e2d\u5f15\u7528\u7684\u5bf9\u8c61"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u672c\u5730\u65b9\u6cd5\u6808"),"\u4e2d\u5f15\u7528\u7684\u5bf9\u8c61"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u65b9\u6cd5\u533a"),"\u4e2d",(0,l.kt)("strong",{parentName:"li"},"\u5e38\u91cf"),"\u5f15\u7528\u7684\u5bf9\u8c61"),(0,l.kt)("li",{parentName:"ul"},"\u65b9\u6cd5\u533a\u4e2d\u7c7b",(0,l.kt)("strong",{parentName:"li"},"\u9759\u6001"),"\u5c5e\u6027\u5f15\u7528\u7684\u5bf9\u8c61")),(0,l.kt)("p",null,"GC Roots \u5e76\u4e0d\u5305\u62ec\u5806\u4e2d\u5bf9\u8c61\u6240\u5f15\u7528\u7684\u5bf9\u8c61\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u6709\u5faa\u73af\u5f15\u7528\u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220624223650067",src:n(37260).Z,width:"619",height:"437"})),(0,l.kt)("p",null,"\u2620\ufe0f\u8981\u771f\u6b63\u5ba3\u544a\u4e00\u4e2a\u5bf9\u8c61\u6b7b\u4ea1\uff0c\u9700\u8981\u7ecf\u8fc7\u81f3\u5c11\u270c\ufe0f\u6b21\u6807\u8bb0\u8fc7\u7a0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"1\ufe0f\u20e3\u5982\u679c\u5bf9\u8c61\u5728\u8fdb\u884c\u53ef\u8fbe\u6027\u5206\u6790\u540e\u53d1\u73b0 ",(0,l.kt)("inlineCode",{parentName:"li"},"GC Roots")," \u4e0d\u53ef\u8fbe\uff0c\u5c06\u4f1a\u8fdb\u884c\u7b2c\u4e00\u6b21\u6807\u8bb0\uff1b"),(0,l.kt)("li",{parentName:"ul"},"2\ufe0f\u20e3\u968f\u540e\u8fdb\u884c\u4e00\u6b21\u7b5b\u9009\uff0c\u7b5b\u9009\u7684\u6761\u4ef6\u662f\u6b64\u5bf9\u8c61\u662f\u5426\u6709\u5fc5\u8981\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"li"},"finalized()")," \u65b9\u6cd5\u3002\u5982\u679c\u5bf9\u8c61\u6ca1\u6709\u8986\u76d6 ",(0,l.kt)("inlineCode",{parentName:"li"},"finalized()")," \u65b9\u6cd5\uff0c\u6216\u8005 ",(0,l.kt)("inlineCode",{parentName:"li"},"finalized()")," \u5df2\u7ecf\u88ab\u865a\u62df\u673a\u8c03\u7528\u8fc7\uff0c\u8fd9\u4e24\u79cd\u60c5\u51b5\u90fd\u4f1a\u89c6\u4e3a\u6ca1\u6709\u5fc5\u8981\u6267\u884c\u3002\u5982\u679c\u5224\u5b9a\u7ed3\u679c\u662f\u6709\u5fc5\u8981\u6267\u884c\uff0c\u6b64\u65f6\u5bf9\u8c61\u4f1a\u88ab\u653e\u5165\u540d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"F-Queue")," \u7684\u961f\u5217\uff0c\u7b49\u5f85 Finalizer \u7ebf\u7a0b\u6267\u884c\u5176 ",(0,l.kt)("inlineCode",{parentName:"li"},"finalized()")," \u65b9\u6cd5\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6536\u96c6\u5668\u4f1a\u8fdb\u884c\u7b2c\u4e8c\u6b21\u5c0f\u89c4\u6a21\u7684\u6807\u8bb0\uff0c\u5982\u679c\u5bf9\u8c61\u5728 ",(0,l.kt)("inlineCode",{parentName:"li"},"finalized()")," \u65b9\u6cd5\u4e2d\u91cd\u65b0\u5c06\u81ea\u5df1\u4e0e\u5f15\u7528\u94fe\u4e0a\u7684\u4efb\u4f55\u4e00\u4e2a\u5bf9\u8c61\u8fdb\u884c\u4e86\u5173\u8054\uff0c\u5982\u5c06\u81ea\u5df1\uff08this \u5173\u952e\u5b57\uff09\u8d4b\u503c\u7ed9\u67d0\u4e2a\u7c7b\u53d8\u91cf\u6216\u8005\u5bf9\u8c61\u7684\u6210\u5458\u53d8\u91cf\uff0c\u6b64\u65f6\u5b83\u5c31\u5b9e\u73b0\u4e86\u81ea\u6211\u62ef\u6551\uff0c\u5219\u7b2c\u4e8c\u6b21\u6807\u8bb0\u4f1a\u5c06\u5176\u79fb\u9664 \u201c\u5373\u5c06\u56de\u6536\u201d \u7684\u96c6\u5408\uff0c\u5426\u5219\u8be5\u5bf9\u8c61\u5c31\u5c06\u88ab\u771f\u6b63\u56de\u6536\uff0c\u8d70\u5411\u6b7b\u4ea1\u3002")),(0,l.kt)("h3",{id:"\ufe0f\u865a\u5f15\u7528\u4e0e\u8f6f\u5f15\u7528\u548c\u5f31\u5f15\u7528\u7684\u533a\u522b"},"\u2b50\ufe0f\u865a\u5f15\u7528\u4e0e\u8f6f\u5f15\u7528\u548c\u5f31\u5f15\u7528\u7684\u533a\u522b"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u865a\u5f15\u7528"),"\uff1a\u865a\u5f15\u7528\u5fc5\u987b\u548c\u5f15\u7528\u961f\u5217\uff08ReferenceQueue\uff09\u8054\u5408\u4f7f\u7528\u3002\u5f53\u5783\u573e\u56de\u6536\u5668\u51c6\u5907\u56de\u6536\u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0c\u5982\u679c\u53d1\u73b0\u5b83\u8fd8\u6709\u865a\u5f15\u7528\uff0c\u5c31\u4f1a\u5728\u56de\u6536\u5bf9\u8c61\u7684\u5185\u5b58\u4e4b\u524d\uff0c\u628a\u8fd9\u4e2a\u865a\u5f15\u7528\u52a0\u5165\u5230\u4e0e\u4e4b\u5173\u8054\u7684\u5f15\u7528\u961f\u5217\u4e2d\u3002\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u5224\u65ad\u5f15\u7528\u961f\u5217\u4e2d\u662f\u5426\u5df2\u7ecf\u52a0\u5165\u4e86\u865a\u5f15\u7528\uff0c\u6765\u4e86\u89e3\u88ab\u5f15\u7528\u7684\u5bf9\u8c61\u662f\u5426\u5c06\u8981\u88ab\u5783\u573e\u56de\u6536\u3002\u7a0b\u5e8f\u5982\u679c\u53d1\u73b0\u67d0\u4e2a\u865a\u5f15\u7528\u5df2\u7ecf\u88ab\u52a0\u5165\u5230\u5f15\u7528\u961f\u5217\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u5728\u6240\u5f15\u7528\u7684\u5bf9\u8c61\u7684\u5185\u5b58\u88ab\u56de\u6536\u4e4b\u524d\u91c7\u53d6\u5fc5\u8981\u7684\u884c\u52a8\u3002"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u865a\u5f15\u7528\u4e3b\u8981\u7528\u6765\u8ddf\u8e2a\u5bf9\u8c61\u88ab\u5783\u573e\u56de\u6536\u7684\u6d3b\u52a8"),"\u3002"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u8f6f\u5f15\u7528"),"\uff1a\u5982\u679c\u5185\u5b58\u7a7a\u95f4\u8db3\u591f\uff0c\u5783\u573e\u56de\u6536\u5668\u5c31\u4e0d\u4f1a\u56de\u6536\u5b83\uff0c\u5982\u679c\u5185\u5b58\u7a7a\u95f4\u4e0d\u8db3\u4e86\uff0c\u5c31\u4f1a\u56de\u6536\u8fd9\u4e9b\u5bf9\u8c61\u7684\u5185\u5b58"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5b9e\u73b0\u5185\u5b58\u654f\u611f\u7684\u9ad8\u901f\u7f13\u5b58"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u5f31\u5f15\u7528"),"\uff1a\u53ea\u5177\u6709\u5f31\u5f15\u7528\u7684\u5bf9\u8c61\u62e5\u6709\u66f4\u77ed\u6682\u7684\u751f\u547d\u5468\u671f\u3002\u5728\u5783\u573e\u56de\u6536\u5668\u7ebf\u7a0b\u626b\u63cf\u5b83\u6240\u7ba1\u8f96\u7684\u5185\u5b58\u533a\u57df\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e00\u65e6\u53d1\u73b0\u4e86\u53ea\u5177\u6709\u5f31\u5f15\u7528\u7684\u5bf9\u8c61\uff0c\u4e0d\u7ba1\u5f53\u524d\u5185\u5b58\u7a7a\u95f4\u8db3\u591f\u4e0e\u5426\uff0c\u90fd\u4f1a\u56de\u6536\u5b83\u7684\u5185\u5b58\u3002\u4e0d\u8fc7\uff0c\u7531\u4e8e\u5783\u573e\u56de\u6536\u5668\u662f\u4e00\u4e2a\u4f18\u5148\u7ea7\u5f88\u4f4e\u7684\u7ebf\u7a0b\uff0c \u56e0\u6b64\u4e0d\u4e00\u5b9a\u4f1a\u5f88\u5feb\u53d1\u73b0\u90a3\u4e9b\u53ea\u5177\u6709\u5f31\u5f15\u7528\u7684\u5bf9\u8c61\u3002"))),(0,l.kt)("h3",{id:"\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u5e38\u91cf\u662f\u5e9f\u5f03\u5e38\u91cf"},"\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u5e38\u91cf\u662f\u5e9f\u5f03\u5e38\u91cf"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"JDK1.7 \u4e4b\u524d\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u903b\u8f91\u5305\u542b\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u5b58\u653e\u5728\u65b9\u6cd5\u533a, \u6b64\u65f6 hotspot \u865a\u62df\u673a\u5bf9\u65b9\u6cd5\u533a\u7684\u5b9e\u73b0\u4e3a\u6c38\u4e45\u4ee3"),(0,l.kt)("li",{parentName:"ol"},"JDK1.7 \u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u88ab\u4ece\u65b9\u6cd5\u533a\u62ff\u5230\u4e86\u5806\u4e2d, \u8fd9\u91cc\u6ca1\u6709\u63d0\u5230\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60,\u4e5f\u5c31\u662f\u8bf4\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u88ab\u5355\u72ec\u62ff\u5230\u5806,\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u5269\u4e0b\u7684\u4e1c\u897f\u8fd8\u5728\u65b9\u6cd5\u533a, \u4e5f\u5c31\u662f hotspot \u4e2d\u7684\u6c38\u4e45\u4ee3"),(0,l.kt)("li",{parentName:"ol"},"JDK1.8 hotspot \u79fb\u9664\u4e86\u6c38\u4e45\u4ee3\u7528\u5143\u7a7a\u95f4(Metaspace)\u53d6\u800c\u4ee3\u4e4b, \u8fd9\u65f6\u5019\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u8fd8\u5728\u5806, \u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u8fd8\u5728\u65b9\u6cd5\u533a, \u53ea\u4e0d\u8fc7\u65b9\u6cd5\u533a\u7684\u5b9e\u73b0\u4ece\u6c38\u4e45\u4ee3\u53d8\u6210\u4e86\u5143\u7a7a\u95f4(Metaspace)")),(0,l.kt)("p",null,'\u5047\u5982\u5728\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u4e2d\u5b58\u5728\u5b57\u7b26\u4e32 "abc"\uff0c\u5982\u679c\u5f53\u524d\u6ca1\u6709\u4efb\u4f55 String \u5bf9\u8c61\u5f15\u7528\u8be5\u5b57\u7b26\u4e32\u5e38\u91cf\u7684\u8bdd\uff0c\u5c31\u8bf4\u660e\u5e38\u91cf "abc" \u5c31\u662f\u5e9f\u5f03\u5e38\u91cf\uff0c\u5982\u679c\u8fd9\u65f6\u53d1\u751f\u5185\u5b58\u56de\u6536\u7684\u8bdd\u800c\u4e14\u6709\u5fc5\u8981\u7684\u8bdd\uff0c"abc" \u5c31\u4f1a\u88ab\u7cfb\u7edf\u6e05\u7406\u51fa\u5e38\u91cf\u6c60\u4e86\u3002'),(0,l.kt)("h3",{id:"\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\u5982\u679c\u6211\u4eec\u4e0d\u60f3\u7528\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\u600e\u4e48\u529e"},"\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\uff1f\u5982\u679c\u6211\u4eec\u4e0d\u60f3\u7528\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\u600e\u4e48\u529e\uff1f"),(0,l.kt)("p",null,"\u6bcf\u4e00\u4e2a\u7c7b\u90fd\u6709\u4e00\u4e2a\u5bf9\u5e94\u5b83\u7684\u7c7b\u52a0\u8f7d\u5668\u3002\u7cfb\u7edf\u4e2d\u7684 ClassLoader \u5728\u534f\u540c\u5de5\u4f5c\u7684\u65f6\u5019\u4f1a\u9ed8\u8ba4\u4f7f\u7528 ",(0,l.kt)("strong",{parentName:"p"},"\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b")," \u3002\u5373\u5728\u7c7b\u52a0\u8f7d\u7684\u65f6\u5019\uff0c\u7cfb\u7edf\u4f1a\u9996\u5148\u5224\u65ad\u5f53\u524d\u7c7b\u662f\u5426\u88ab\u52a0\u8f7d\u8fc7\u3002\u5df2\u7ecf\u88ab\u52a0\u8f7d\u7684\u7c7b\u4f1a\u76f4\u63a5\u8fd4\u56de\uff0c\u5426\u5219\u624d\u4f1a\u5c1d\u8bd5\u52a0\u8f7d\u3002\u52a0\u8f7d\u7684\u65f6\u5019\uff0c\u9996\u5148\u4f1a\u628a\u8be5\u8bf7\u6c42\u59d4\u6d3e\u7ed9\u7236\u7c7b\u52a0\u8f7d\u5668\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"loadClass()")," \u5904\u7406\uff0c\u56e0\u6b64\u6240\u6709\u7684\u8bf7\u6c42\u6700\u7ec8\u90fd\u5e94\u8be5\u4f20\u9001\u5230\u9876\u5c42\u7684\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668 ",(0,l.kt)("inlineCode",{parentName:"p"},"BootstrapClassLoader")," \u4e2d\u3002\u5f53\u7236\u7c7b\u52a0\u8f7d\u5668\u65e0\u6cd5\u5904\u7406\u65f6\uff0c\u624d\u7531\u81ea\u5df1\u6765\u5904\u7406\u3002\u5f53\u7236\u7c7b\u52a0\u8f7d\u5668\u4e3a null \u65f6\uff0c\u4f1a\u4f7f\u7528\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668 ",(0,l.kt)("inlineCode",{parentName:"p"},"BootstrapClassLoader")," \u4f5c\u4e3a\u7236\u7c7b\u52a0\u8f7d\u5668\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628172850425",src:n(46393).Z,width:"1105",height:"590"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5982\u679c\u6211\u4eec\u4e0d\u60f3\u7528\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\u600e\u4e48\u529e")),(0,l.kt)("p",null,"\u81ea\u5b9a\u4e49\u52a0\u8f7d\u5668\u7684\u8bdd\uff0c\u9700\u8981\u7ee7\u627f ",(0,l.kt)("inlineCode",{parentName:"p"},"ClassLoader")," \u3002\u5982\u679c\u6211\u4eec\u4e0d\u60f3\u6253\u7834\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\uff0c\u5c31\u91cd\u5199 ",(0,l.kt)("inlineCode",{parentName:"p"},"ClassLoader")," \u7c7b\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"findClass()")," \u65b9\u6cd5\u5373\u53ef\uff0c\u65e0\u6cd5\u88ab\u7236\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\u7684\u7c7b\u6700\u7ec8\u4f1a\u901a\u8fc7\u8fd9\u4e2a\u65b9\u6cd5\u88ab\u52a0\u8f7d\u3002\u4f46\u662f\uff0c\u5982\u679c\u60f3\u6253\u7834\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\u5219\u9700\u8981\u91cd\u5199 ",(0,l.kt)("inlineCode",{parentName:"p"},"loadClass()")," \u65b9\u6cd5"),(0,l.kt)("h3",{id:"\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u7c7b\u662f\u65e0\u7528\u7684\u7c7b"},"\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u7c7b\u662f\u65e0\u7528\u7684\u7c7b"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8be5\u7c7b\u6240\u6709\u7684\u5b9e\u4f8b\u90fd\u5df2\u7ecf\u88ab\u56de\u6536\uff0c\u4e5f\u5c31\u662f Java \u5806\u4e2d\u4e0d\u5b58\u5728\u8be5\u7c7b\u7684\u4efb\u4f55\u5b9e\u4f8b\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u52a0\u8f7d\u8be5\u7c7b\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"ClassLoader")," \u5df2\u7ecf\u88ab\u56de\u6536\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u8be5\u7c7b\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"java.lang.Class")," \u5bf9\u8c61\u6ca1\u6709\u5728\u4efb\u4f55\u5730\u65b9\u88ab\u5f15\u7528\uff0c\u65e0\u6cd5\u5728\u4efb\u4f55\u5730\u65b9\u901a\u8fc7\u53cd\u5c04\u8bbf\u95ee\u8be5\u7c7b\u7684\u65b9\u6cd5\u3002")),(0,l.kt)("h3",{id:"\ufe0f\u5783\u573e\u6536\u96c6\u6709\u54ea\u4e9b\u7b97\u6cd5\u5404\u81ea\u7684\u7279\u70b9"},"\u2b50\ufe0f\u5783\u573e\u6536\u96c6\u6709\u54ea\u4e9b\u7b97\u6cd5\uff0c\u5404\u81ea\u7684\u7279\u70b9"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6807\u8bb0-\u6e05\u9664\u7b97\u6cd5"),(0,l.kt)("li",{parentName:"ul"},"\u6807\u8bb0-\u590d\u5236\u7b97\u6cd5"),(0,l.kt)("li",{parentName:"ul"},"\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5")),(0,l.kt)("h4",{id:"\u6807\u8bb0-\u6e05\u9664\u7b97\u6cd5mark-sweep"},"\u6807\u8bb0-\u6e05\u9664\u7b97\u6cd5\uff0cMark-Sweep"),(0,l.kt)("p",null,"\u5b83\u662f\u6700\u57fa\u7840\u7684\u5783\u573e\u6536\u96c6\u7b97\u6cd5\uff0c\u6536\u96c6\u8fc7\u7a0b\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\uff1a\u9996\u5148\u6807\u8bb0\u51fa\u6240\u6709\u9700\u8981\u56de\u6536\u7684\u5bf9\u8c61\uff0c\u5728\u6807\u8bb0\u5b8c\u6210\u540e\uff0c\u7edf\u4e00\u56de\u6536\u6389\u6240\u6709\u88ab\u6807\u8bb0\u7684\u5bf9\u8c61\uff1b\u4e5f\u53ef\u4ee5\u53cd\u8fc7\u6765\uff0c\u6807\u8bb0\u5b58\u6d3b\u5bf9\u8c61\uff0c\u7edf\u4e00\u56de\u6536\u6240\u6709\u672a\u88ab\u6807\u8bb0\u7684\u5bf9\u8c61\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628153301516",src:n(52898).Z,width:"1794",height:"401"})),(0,l.kt)("p",null,"\u5b83\u4e3b\u8981\u6709\u4ee5\u4e0b\u4e24\u4e2a\u7f3a\u70b9\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6267\u884c\u6548\u7387\u4e0d\u7a33\u5b9a\uff1a\u5982\u679c Java \u5806\u4e0a\u5305\u542b\u5927\u91cf\u9700\u8981\u56de\u6536\u7684\u5bf9\u8c61\uff0c\u5219\u9700\u8981\u8fdb\u884c\u5927\u91cf\u6807\u8bb0\u548c\u6e05\u9664\u52a8\u4f5c\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5185\u5b58\u7a7a\u95f4\u788e\u7247\u5316\uff1a\u6807\u8bb0\u6e05\u9664\u540e\u4f1a\u4ea7\u751f\u5927\u91cf\u4e0d\u8fde\u7eed\u7684\u7a7a\u95f4\uff0c\u4ece\u800c\u53ef\u80fd\u5bfc\u81f4\u65e0\u6cd5\u4e3a\u5927\u5bf9\u8c61\u5206\u914d\u8db3\u591f\u7684\u8fde\u7eed\u5185\u5b58\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220629095233918",src:n(78899).Z,width:"806",height:"668"})),(0,l.kt)("h4",{id:"\u6807\u8bb0-\u590d\u5236\u7b97\u6cd5mark-copy"},"\u6807\u8bb0-\u590d\u5236\u7b97\u6cd5\uff0cMark-Copy"),(0,l.kt)("p",null,"\u6807\u8bb0-\u590d\u5236\u7b97\u6cd5\u57fa\u4e8e \u201d\u534a\u533a\u590d\u5236\u201c  \u7b97\u6cd5\uff1a\u5b83\u5c06\u53ef\u7528\u5185\u5b58\u6309\u5bb9\u91cf\u5212\u5206\u4e3a\u5927\u5c0f\u76f8\u7b49\u7684\u4e24\u5757\uff0c\u6bcf\u6b21\u53ea\u4f7f\u7528\u5176\u4e2d\u4e00\u5757\uff0c\u5f53\u8fd9\u4e00\u5757\u7684\u5185\u5b58\u4f7f\u7528\u5b8c\u4e86\uff0c\u5c31\u5c06\u8fd8\u5b58\u6d3b\u7740\u7684\u5bf9\u8c61\u590d\u5236\u5230\u53e6\u5916\u4e00\u5757\u4e0a\u9762\uff0c\u7136\u540e\u518d\u628a\u5df2\u7ecf\u4f7f\u7528\u8fc7\u7684\u90a3\u5757\u5185\u5b58\u7a7a\u95f4\u4e00\u6b21\u6027\u6e05\u7406\u6389\u3002\u5176\u4f18\u70b9\u5728\u4e8e\u907f\u514d\u4e86\u5185\u5b58\u7a7a\u95f4\u788e\u7247\u5316\u7684\u95ee\u9898\uff0c\u5176\u7f3a\u70b9\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u5185\u5b58\u4e2d\u591a\u6570\u5bf9\u8c61\u90fd\u662f\u5b58\u6d3b\u7684\uff0c\u8fd9\u79cd\u7b97\u6cd5\u5c06\u4ea7\u751f\u5927\u91cf\u7684\u590d\u5236\u5f00\u9500\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u6d6a\u8d39\u5185\u5b58\u7a7a\u95f4\uff0c\u5185\u5b58\u7a7a\u95f4\u53d8\u4e3a\u4e86\u539f\u6709\u7684\u4e00\u534a\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628153316648",src:n(83955).Z,width:"1817",height:"407"})),(0,l.kt)("p",null,"\u57fa\u4e8e\u65b0\u751f\u4ee3 \u201c\u671d\u751f\u5915\u706d\u201d \u7684\u7279\u70b9\uff0c\u5927\u591a\u6570\u865a\u62df\u673a\u90fd\u4e0d\u4f1a\u6309\u7167 1:1 \u7684\u6bd4\u4f8b\u6765\u8fdb\u884c\u5185\u5b58\u5212\u5206\uff0c\u4f8b\u5982 HotSpot \u865a\u62df\u673a\u4f1a\u5c06\u5185\u5b58\u7a7a\u95f4\u5212\u5206\u4e3a\u4e00\u5757\u8f83\u5927\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Eden")," \u548c \u4e24\u5757\u8f83\u5c0f\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Survivor")," \u7a7a\u95f4\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u6bd4\u4f8b\u662f 8:1:1 \u3002 \u6bcf\u6b21\u5206\u914d\u65f6\u53ea\u4f1a\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"Eden")," \u548c\u5176\u4e2d\u7684\u4e00\u5757 ",(0,l.kt)("inlineCode",{parentName:"p"},"Survivor")," \uff0c\u53d1\u751f\u5783\u573e\u56de\u6536\u65f6\uff0c\u53ea\u9700\u8981\u5c06\u5b58\u6d3b\u7684\u5bf9\u8c61\u4e00\u6b21\u6027\u590d\u5236\u5230\u53e6\u5916\u4e00\u5757 ",(0,l.kt)("inlineCode",{parentName:"p"},"Survivor")," \u4e0a\uff0c\u8fd9\u6837\u53ea\u6709 10% \u7684\u5185\u5b58\u7a7a\u95f4\u4f1a\u88ab\u6d6a\u8d39\u6389\u3002\u5f53 ",(0,l.kt)("inlineCode",{parentName:"p"},"Survivor")," \u7a7a\u95f4\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u4e00\u6b21 ",(0,l.kt)("inlineCode",{parentName:"p"},"Minor GC")," \u65f6\uff0c\u6b64\u65f6\u7531\u5176\u4ed6\u5185\u5b58\u533a\u57df\uff08\u901a\u5e38\u662f\u8001\u5e74\u4ee3\uff09\u6765\u8fdb\u884c\u5206\u914d\u62c5\u4fdd\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220629095353992",src:n(37005).Z,width:"591",height:"915"})),(0,l.kt)("h4",{id:"\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5mark-compact"},"\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5\uff0cMark-Compact"),(0,l.kt)("p",null,"\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5\u662f\u5728\u6807\u8bb0\u5b8c\u6210\u540e\uff0c\u8ba9\u6240\u6709\u5b58\u6d3b\u5bf9\u8c61\u90fd\u5411\u5185\u5b58\u7684\u4e00\u7aef\u79fb\u52a8\uff0c\u7136\u540e\u76f4\u63a5\u6e05\u7406\u6389\u8fb9\u754c\u4ee5\u5916\u7684\u5185\u5b58\u3002\u5176\u4f18\u70b9\u5728\u4e8e\u53ef\u4ee5\u907f\u514d\u5185\u5b58\u7a7a\u95f4\u788e\u7247\u5316\u7684\u95ee\u9898\uff0c\u4e5f\u53ef\u4ee5\u5145\u5206\u5229\u7528\u5185\u5b58\u7a7a\u95f4\uff1b\u5176\u7f3a\u70b9\u5728\u4e8e\u6839\u636e\u6240\u4f7f\u7528\u7684\u6536\u96c6\u5668\u7684\u4e0d\u540c\uff0c\u5728\u79fb\u52a8\u5b58\u6d3b\u5bf9\u8c61\u65f6\u53ef\u80fd\u8981\u5168\u7a0b\u6682\u505c\u7528\u6237\u7a0b\u5e8f\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628153332879",src:n(12728).Z,width:"1813",height:"412"})),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220629095251304",src:n(37668).Z,width:"768",height:"671"})),(0,l.kt)("h4",{id:"ignore\u6807\u8bb0---\u538b\u7f29\u6574\u7406\u7b97\u6cd5mark---compact"},"\ud83d\ude45\u3010Ignore\u3011\u6807\u8bb0 - \u538b\u7f29\uff08\u6574\u7406\uff09\u7b97\u6cd5\uff0cMark - Compact"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u9636\u6bb5\u548c\u6807\u8bb0\u6e05\u9664\u7b97\u6cd5\u4e00\u6837\uff0c\u4ece\u6839\u8282\u70b9\u5f00\u59cb\u6807\u8bb0\u6240\u6709\u88ab\u5f15\u7528\u5bf9\u8c61"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u9636\u6bb5\u5c06\u6240\u6709\u7684\u5b58\u6d3b\u5bf9\u8c61\u538b\u7f29\u5230\u5185\u5b58\u7684\u4e00\u7aef\uff0c\u6309\u987a\u5e8f\u6392\u653e\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u4e4b\u540e\uff0c\u6e05\u7406\u8fb9\u754c\u5916\u6240\u6709\u7684\u7a7a\u95f4\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6807\u8bb0\u6e05\u9664\u548c\u6807\u8bb0\u538b\u7f29\u7684\u533a\u522b")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6807\u8bb0 - \u538b\u7f29\u7b97\u6cd5\u7684\u6700\u7ec8\u6548\u679c\u7b49\u540c\u4e8e\u6807\u8bb0 - \u6e05\u9664\u7b97\u6cd5\u6267\u884c\u5b8c\u6210\u540e\uff0c\u518d\u8fdb\u884c\u4e00\u6b21\u5185\u5b58\u788e\u7247\u6574\u7406\uff0c\u56e0\u6b64\uff0c\u4e5f\u53ef\u4ee5\u628a\u5b83\u79f0\u4e3a",(0,l.kt)("strong",{parentName:"li"},"\u6807\u8bb0 - \u6e05\u9664 - \u538b\u7f29\uff08Mark-Sweep-Compact\uff09\u7b97\u6cd5\u3002")),(0,l.kt)("li",{parentName:"ul"},"\u4e8c\u8005\u7684\u672c\u8d28\u5dee\u5f02\u5728\u4e8e\u6807\u8bb0 - \u6e05\u9664\u7b97\u6cd5\u662f\u4e00\u79cd",(0,l.kt)("strong",{parentName:"li"},"\u975e\u79fb\u52a8\u5f0f\u7684\u56de\u6536\u7b97\u6cd5"),"\uff0c\u6807\u8bb0 - \u538b\u7f29\u662f",(0,l.kt)("strong",{parentName:"li"},"\u79fb\u52a8\u5f0f\u7684"),"\u3002\u662f\u5426\u79fb\u52a8\u56de\u6536\u540e\u7684\u5b58\u6d3b\u5bf9\u8c61\u662f\u4e00\u9879\u4f18\u7f3a\u70b9\u5e76\u5b58\u7684\u98ce\u9669\u51b3\u7b56\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u770b\u5230\uff0c\u6807\u8bb0\u7684\u5b58\u6d3b\u5bf9\u8c61\u5c06\u4f1a\u88ab\u6574\u7406\uff0c\u6309\u7167\u5185\u5b58\u5730\u5740\u4f9d\u6b21\u6392\u5217\uff0c\u800c\u672a\u88ab\u6807\u8bb0\u7684\u5185\u5b58\u4f1a\u88ab\u6e05\u7406\u6389\u3002\u5982\u6b64\u4e00\u6765\uff0c\u5f53\u6211\u4eec\u9700\u8981\u7ed9\u65b0\u5bf9\u8c61\u5206\u914d\u5185\u5b58\u65f6\uff0cJVM \u53ea\u9700\u8981\u6301\u6709\u4e00\u4e2a\u5185\u5b58\u7684\u8d77\u59cb\u5730\u5740\u5373\u53ef\uff0c\u8fd9\u6bd4\u7ef4\u62a4\u4e00\u4e2a\u7a7a\u95f2\u5217\u8868\u663e\u7136\u5c11\u4e86\u8bb8\u591a\u5f00\u9500")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6807\u8bb0\u538b\u7f29\u7b97\u6cd5\u5185\u90e8\u4f7f\u7528\u6307\u9488\u78b0\u649e")),(0,l.kt)("p",null,"\u5982\u679c\u5185\u5b58\u7a7a\u95f4\u4ee5\u89c4\u6574\u548c\u6709\u5e8f\u7684\u65b9\u5f0f\u5206\u5e03\uff0c\u5373\u5df2\u7528\u548c\u672a\u7528\u7684\u5185\u5b58\u90fd\u5404\u81ea\u4e00\u8fb9\uff0c\u5f7c\u6b64\u4e4b\u95f4\u7ef4\u7cfb\u7740\u4e00\u4e2a\u8bb0\u5f55\u4e0b\u4e00\u6b21\u5206\u914d\u8d77\u59cb\u70b9\u7684\u6807\u8bb0\u6307\u9488\uff0c\u5f53\u4e3a\u65b0\u5bf9\u8c61\u5206\u914d\u5185\u5b58\u65f6\uff0c\u53ea\u9700\u8981\u901a\u8fc7\u4fee\u6539\u6307\u9488\u7684\u504f\u79fb\u91cf\u5c06\u65b0\u5bf9\u8c61\u5206\u914d\u5728\u7b2c\u4e00\u4e2a\u7a7a\u95f2\u5185\u5b58\u4f4d\u7f6e\u4e0a\uff0c\u8fd9\u79cd\u5206\u914d\u65b9\u5f0f\u5c31\u53eb\u505a\u6307\u9488\u78b0\u649e\uff08Bump the Pointer\uff09"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628153345486",src:n(79124).Z,width:"1811",height:"414"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4f18\u70b9")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6d88\u9664\u4e86\u6807\u8bb0 - \u6e05\u9664\u7b97\u6cd5\u5f53\u4e2d\uff0c\u5185\u5b58\u533a\u57df\u5206\u6563\u7684\u7f3a\u70b9\uff0c\u6211\u4eec\u9700\u8981\u7ed9\u65b0\u5bf9\u8c61\u5206\u914d\u5185\u5b58\u65f6\uff0cJVM \u53ea\u9700\u8981\u6301\u6709\u4e00\u4e2a\u5185\u5b58\u7684\u8d77\u59cb\u5730\u5740\u5373\u53ef\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6d88\u9664\u4e86\u590d\u5236\u7b97\u6cd5\u5f53\u4e2d\uff0c\u5185\u5b58\u51cf\u534a\u7684\u9ad8\u989d\u4ee3\u4ef7\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u7f3a\u70b9")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4ece\u6548\u7387\u4e0a\u6765\u8bf4\uff0c\u6807\u8bb0 - \u6574\u7406\u7b97\u6cd5\u8981\u4f4e\u4e8e\u590d\u5236\u7b97\u6cd5\uff0c\u751a\u81f3\u8981\u4f4e\u4e8e\u6807\u8bb0 - \u6e05\u9664\u7b97\u6cd5"),(0,l.kt)("li",{parentName:"ul"},"\u79fb\u52a8\u5bf9\u8c61\u7684\u540c\u65f6\uff0c\u5982\u679c\u5bf9\u8c61\u88ab\u5176\u4ed6\u5bf9\u8c61\u5f15\u7528\uff0c\u5219\u8fd8\u9700\u8981\u8c03\u6574\u5f15\u7528\u7684\u5730\u5740"),(0,l.kt)("li",{parentName:"ul"},"\u79fb\u52a8\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u5168\u7a0b\u6682\u505c\u7528\u6237\u5e94\u7528\u7a0b\u5e8f\u3002\u5373\uff1aSTW")),(0,l.kt)("h3",{id:"hotspot-\u4e3a\u4ec0\u4e48\u8981\u5206\u4e3a\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3"},"HotSpot \u4e3a\u4ec0\u4e48\u8981\u5206\u4e3a\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3"),(0,l.kt)("p",null,"\u4e3a\u4e86\u8fdb\u884c\u9ad8\u6548\u7684\u5783\u573e\u56de\u6536\uff0c\u865a\u62df\u673a\u628a\u5806\u5185\u5b58",(0,l.kt)("strong",{parentName:"p"},"\u903b\u8f91\u4e0a"),"\u5212\u5206\u6210\u4e09\u5757\u533a\u57df\uff08\u5206\u4ee3\u7684\u552f\u4e00\u7406\u7531\u5c31\u662f\u4f18\u5316 GC \u6027\u80fd\uff09"),(0,l.kt)("h3",{id:"\ufe0f\u5e38\u89c1\u7684\u5783\u573e\u56de\u6536\u5668\u6709\u54ea\u4e9b"},"\u2b50\ufe0f\u5e38\u89c1\u7684\u5783\u573e\u56de\u6536\u5668\u6709\u54ea\u4e9b"),(0,l.kt)("h4",{id:"serial-\u6536\u96c6\u5668"},"Serial \u6536\u96c6\u5668"),(0,l.kt)("p",null,"Serial\uff08\u4e32\u884c\uff09\u6536\u96c6\u5668\u662f\u6700\u57fa\u672c\u3001\u5386\u53f2\u6700\u60a0\u4e45\u7684\u5783\u573e\u6536\u96c6\u5668\u4e86\u3002\u5927\u5bb6\u770b\u540d\u5b57\u5c31\u77e5\u9053\u8fd9\u4e2a\u6536\u96c6\u5668\u662f\u4e00\u4e2a\u5355\u7ebf\u7a0b\u6536\u96c6\u5668\u4e86\u3002\u5b83\u7684 ",(0,l.kt)("strong",{parentName:"p"},"\u201c\u5355\u7ebf\u7a0b\u201d")," \u7684\u610f\u4e49\u4e0d\u4ec5\u4ec5\u610f\u5473\u7740\u5b83\u53ea\u4f1a\u4f7f\u7528\u4e00\u6761\u5783\u573e\u6536\u96c6\u7ebf\u7a0b\u53bb\u5b8c\u6210\u5783\u573e\u6536\u96c6\u5de5\u4f5c\uff0c\u66f4\u91cd\u8981\u7684\u662f\u5b83\u5728\u8fdb\u884c\u5783\u573e\u6536\u96c6\u5de5\u4f5c\u7684\u65f6\u5019\u5fc5\u987b\u6682\u505c\u5176\u4ed6\u6240\u6709\u7684\u5de5\u4f5c\u7ebf\u7a0b\uff08 ",(0,l.kt)("strong",{parentName:"p"},'"Stop The World"')," \uff09\uff0c\u76f4\u5230\u5b83\u6536\u96c6\u7ed3\u675f\u3002"),(0,l.kt)("p",null,"\ud83d\udc76",(0,l.kt)("strong",{parentName:"p"},"\u65b0\u751f\u4ee3\u91c7\u7528\u6807\u8bb0-\u590d\u5236\u7b97\u6cd5\uff0c\ud83d\udc74\u8001\u5e74\u4ee3\u91c7\u7528\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628153037233",src:n(40108).Z,width:"1294",height:"329"})),(0,l.kt)("h4",{id:"parnew-\u6536\u96c6\u5668"},"ParNew \u6536\u96c6\u5668"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"ParNew \u6536\u96c6\u5668\u5176\u5b9e\u5c31\u662f Serial \u6536\u96c6\u5668\u7684\u591a\u7ebf\u7a0b\u7248\u672c\uff0c\u9664\u4e86\u4f7f\u7528\u591a\u7ebf\u7a0b\u8fdb\u884c\u5783\u573e\u6536\u96c6\u5916\uff0c\u5176\u4f59\u884c\u4e3a\uff08\u63a7\u5236\u53c2\u6570\u3001\u6536\u96c6\u7b97\u6cd5\u3001\u56de\u6536\u7b56\u7565\u7b49\u7b49\uff09\u548c Serial \u6536\u96c6\u5668\u5b8c\u5168\u4e00\u6837\u3002")),(0,l.kt)("p",null,"\ud83d\udc76",(0,l.kt)("strong",{parentName:"p"},"\u65b0\u751f\u4ee3\u91c7\u7528\u6807\u8bb0-\u590d\u5236\u7b97\u6cd5\uff0c\ud83d\udc74\u8001\u5e74\u4ee3\u91c7\u7528\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628153046946",src:n(22478).Z,width:"1282",height:"319"})),(0,l.kt)("h4",{id:"parallel-scavenge-\u6536\u96c6\u5668"},"Parallel Scavenge \u6536\u96c6\u5668"),(0,l.kt)("p",null,"Parallel Scavenge \u6536\u96c6\u5668\u4e5f\u662f\u4f7f\u7528\u6807\u8bb0-\u590d\u5236\u7b97\u6cd5\u7684\u591a\u7ebf\u7a0b\u6536\u96c6\u5668\uff0c\u5b83\u770b\u4e0a\u53bb\u51e0\u4e4e\u548c ParNew \u90fd\u4e00\u6837\u3002 ",(0,l.kt)("strong",{parentName:"p"},"\u90a3\u4e48\u5b83\u6709\u4ec0\u4e48\u7279\u522b\u4e4b\u5904\u5462\uff1f")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"-XX:+UseParallelGC\n\n    \u4f7f\u7528 Parallel \u6536\u96c6\u5668+ \u8001\u5e74\u4ee3\u4e32\u884c\n\n-XX:+UseParallelOldGC\n\n    \u4f7f\u7528 Parallel \u6536\u96c6\u5668+ \u8001\u5e74\u4ee3\u5e76\u884c\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parallel Scavenge \u6536\u96c6\u5668\u5173\u6ce8\u70b9\u662f\u541e\u5410\u91cf\uff08\u9ad8\u6548\u7387\u7684\u5229\u7528 CPU\uff09\u3002CMS \u7b49\u5783\u573e\u6536\u96c6\u5668\u7684\u5173\u6ce8\u70b9\u66f4\u591a\u7684\u662f\u7528\u6237\u7ebf\u7a0b\u7684\u505c\u987f\u65f6\u95f4\uff08\u63d0\u9ad8\u7528\u6237\u4f53\u9a8c\uff09\u3002\u6240\u8c13\u541e\u5410\u91cf\u5c31\u662f CPU \u4e2d\u7528\u4e8e\u8fd0\u884c\u7528\u6237\u4ee3\u7801\u7684\u65f6\u95f4\u4e0e CPU \u603b\u6d88\u8017\u65f6\u95f4\u7684\u6bd4\u503c\u3002")," Parallel Scavenge  \u6536\u96c6\u5668\u63d0\u4f9b\u4e86\u5f88\u591a\u53c2\u6570\u4f9b\u7528\u6237\u627e\u5230\u6700\u5408\u9002\u7684\u505c\u987f\u65f6\u95f4\u6216\u6700\u5927\u541e\u5410\u91cf\uff0c\u5982\u679c\u5bf9\u4e8e\u6536\u96c6\u5668\u8fd0\u4f5c\u4e0d\u592a\u4e86\u89e3\uff0c\u624b\u5de5\u4f18\u5316\u5b58\u5728\u56f0\u96be\u7684\u65f6\u5019\uff0c\u4f7f\u7528 Parallel  Scavenge \u6536\u96c6\u5668\u914d\u5408\u81ea\u9002\u5e94\u8c03\u8282\u7b56\u7565\uff0c\u628a\u5185\u5b58\u7ba1\u7406\u4f18\u5316\u4ea4\u7ed9\u865a\u62df\u673a\u53bb\u5b8c\u6210\u4e5f\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u65b0\u751f\u4ee3\u91c7\u7528\u6807\u8bb0-\u590d\u5236\u7b97\u6cd5\uff0c\u8001\u5e74\u4ee3\u91c7\u7528\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628153114059",src:n(43186).Z,width:"1281",height:"318"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8fd9\u662f JDK1.8 \u9ed8\u8ba4\u6536\u96c6\u5668")),(0,l.kt)("p",null,"\u4f7f\u7528 java -XX:+PrintCommandLineFlags -version \u547d\u4ee4\u67e5\u770b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},'-XX:InitialHeapSize=262921408 -XX:MaxHeapSize=4206742528 -XX:+PrintCommandLineFlags -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseParallelGC\njava version "1.8.0_211"\nJava(TM) SE Runtime Environment (build 1.8.0_211-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.211-b12, mixed mode)\n')),(0,l.kt)("p",null,"JDK1.8  \u9ed8\u8ba4\u4f7f\u7528\u7684\u662f Parallel Scavenge + Parallel Old\uff0c\u5982\u679c\u6307\u5b9a\u4e86-XX:+UseParallelGC  \u53c2\u6570\uff0c\u5219\u9ed8\u8ba4\u6307\u5b9a\u4e86-XX:+UseParallelOldGC\uff0c\u53ef\u4ee5\u4f7f\u7528-XX:-UseParallelOldGC \u6765\u7981\u7528\u8be5\u529f\u80fd"),(0,l.kt)("h4",{id:"serial-old-\u6536\u96c6\u5668"},"Serial Old \u6536\u96c6\u5668"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Serial \u6536\u96c6\u5668\u7684\ud83d\udc74\u8001\u5e74\u4ee3\u7248\u672c"),"\uff0c\u5b83\u540c\u6837\u662f\u4e00\u4e2a\u5355\u7ebf\u7a0b\u6536\u96c6\u5668\u3002\u5b83\u4e3b\u8981\u6709\u4e24\u5927\u7528\u9014\uff1a\u4e00\u79cd\u7528\u9014\u662f\u5728 JDK1.5 \u4ee5\u53ca\u4ee5\u524d\u7684\u7248\u672c\u4e2d\u4e0e Parallel Scavenge \u6536\u96c6\u5668\u642d\u914d\u4f7f\u7528\uff0c\u53e6\u4e00\u79cd\u7528\u9014\u662f\u4f5c\u4e3a CMS \u6536\u96c6\u5668\u7684\u540e\u5907\u65b9\u6848\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628153028054",src:n(3290).Z,width:"1294",height:"329"})),(0,l.kt)("h4",{id:"paralled-old-\u6536\u96c6\u5668"},"Paralled Old \u6536\u96c6\u5668"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parallel Scavenge \u6536\u96c6\u5668\u7684\ud83d\udc74\u8001\u5e74\u4ee3\u7248\u672c"),"\u3002\u4f7f\u7528\u591a\u7ebf\u7a0b\u548c\u201c\u6807\u8bb0-\u6574\u7406\u201d\u7b97\u6cd5\u3002\u5728\u6ce8\u91cd\u541e\u5410\u91cf\u4ee5\u53ca CPU \u8d44\u6e90\u7684\u573a\u5408\uff0c\u90fd\u53ef\u4ee5\u4f18\u5148\u8003\u8651 Parallel Scavenge \u6536\u96c6\u5668\u548c Parallel Old \u6536\u96c6\u5668\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628153107883",src:n(69820).Z,width:"1281",height:"318"})),(0,l.kt)("h4",{id:"cms-\u6536\u96c6\u5668"},"CMS \u6536\u96c6\u5668"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"CMS\uff08Concurrent Mark Sweep\uff09\u6536\u96c6\u5668\u662f\u4e00\u79cd\u4ee5\u83b7\u53d6\u6700\u77ed\u56de\u6536\u505c\u987f\u65f6\u95f4\u4e3a\u76ee\u6807\u7684\u6536\u96c6\u5668\u3002\u5b83\u975e\u5e38\u7b26\u5408\u5728\u6ce8\u91cd\u7528\u6237\u4f53\u9a8c\u7684\u5e94\u7528\u4e0a\u4f7f\u7528\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"CMS\uff08Concurrent Mark Sweep\uff09\u6536\u96c6\u5668\u662f HotSpot \u865a\u62df\u673a\u7b2c\u4e00\u6b3e\u771f\u6b63\u610f\u4e49\u4e0a\u7684\u5e76\u53d1\u6536\u96c6\u5668\uff0c\u5b83\u7b2c\u4e00\u6b21\u5b9e\u73b0\u4e86\u8ba9\u5783\u573e\u6536\u96c6\u7ebf\u7a0b\u4e0e\u7528\u6237\u7ebf\u7a0b\uff08\u57fa\u672c\u4e0a\uff09\u540c\u65f6\u5de5\u4f5c\u3002")),(0,l.kt)("p",null,"\u4ece\u540d\u5b57\u4e2d\u7684",(0,l.kt)("strong",{parentName:"p"},"Mark Sweep"),"\u8fd9\u4e24\u4e2a\u8bcd\u53ef\u4ee5\u770b\u51fa\uff0cCMS \u6536\u96c6\u5668\u662f\u4e00\u79cd ",(0,l.kt)("strong",{parentName:"p"},"\u201c\u6807\u8bb0-\u6e05\u9664\u201d\u7b97\u6cd5"),"\u5b9e\u73b0\u7684\uff0c\u5b83\u7684\u8fd0\u4f5c\u8fc7\u7a0b\u76f8\u6bd4\u4e8e\u524d\u9762\u51e0\u79cd\u5783\u573e\u6536\u96c6\u5668\u6765\u8bf4\u66f4\u52a0\u590d\u6742\u4e00\u4e9b\u3002\u6574\u4e2a\u8fc7\u7a0b\u5206\u4e3a\u56db\u4e2a\u6b65\u9aa4\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u521d\u59cb\u6807\u8bb0 (inital mark)"),"\uff1a\u6807\u8bb0 ",(0,l.kt)("inlineCode",{parentName:"li"},"GC Roots")," \u80fd\u76f4\u63a5\u5173\u8054\u5230\u7684\u5bf9\u8c61\uff0c\u8017\u65f6\u77ed\u4f46\u9700\u8981\u6682\u505c\u7528\u6237\u7ebf\u7a0b\uff1b"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5e76\u53d1\u6807\u8bb0 (concurrent mark)"),"\uff1a\u4ece ",(0,l.kt)("inlineCode",{parentName:"li"},"GC Roots")," \u80fd\u76f4\u63a5\u5173\u8054\u5230\u7684\u5bf9\u8c61\u5f00\u59cb\u904d\u5386\u6574\u4e2a\u5bf9\u8c61\u56fe\uff0c\u8017\u65f6\u957f\u4f46\u4e0d\u9700\u8981\u6682\u505c\u7528\u6237\u7ebf\u7a0b\uff1b"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u91cd\u65b0\u6807\u8bb0 (remark)"),"\uff1a\u91c7\u7528\u589e\u91cf\u66f4\u65b0\u7b97\u6cd5\uff0c\u5bf9\u5e76\u53d1\u6807\u8bb0\u9636\u6bb5\u56e0\u4e3a\u7528\u6237\u7ebf\u7a0b\u8fd0\u884c\u800c\u4ea7\u751f\u53d8\u52a8\u7684\u90a3\u90e8\u5206\u5bf9\u8c61\u8fdb\u884c\u91cd\u65b0\u6807\u8bb0\uff0c\u8017\u65f6\u6bd4\u521d\u59cb\u6807\u8bb0\u7a0d\u957f\u4e14\u9700\u8981\u6682\u505c\u7528\u6237\u7ebf\u7a0b\uff1b"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5e76\u53d1\u6e05\u9664 (inital sweep)"),"\uff1a\u5e76\u53d1\u6e05\u9664\u6389\u5df2\u7ecf\u6b7b\u4ea1\u7684\u5bf9\u8c61\uff0c\u8017\u65f6\u957f\u4f46\u4e0d\u9700\u8981\u6682\u505c\u7528\u6237\u7ebf\u7a0b\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628153004557",src:n(48456).Z,width:"1589",height:"317"})),(0,l.kt)("p",null,"\u4ece\u5b83\u7684\u540d\u5b57\u5c31\u53ef\u4ee5\u770b\u51fa\u5b83\u662f\u4e00\u6b3e\u4f18\u79c0\u7684\u5783\u573e\u6536\u96c6\u5668\uff0c\u4e3b\u8981\u4f18\u70b9\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u5e76\u53d1\u6536\u96c6\u3001\u4f4e\u505c\u987f"),"\u3002\u4f46\u662f\u5b83\u6709\u4e0b\u9762\u4e09\u4e2a\u660e\u663e\u7684\u7f3a\u70b9\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5bf9 CPU \u8d44\u6e90\u654f\u611f\uff1b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u65e0\u6cd5\u5904\u7406\u6d6e\u52a8\u5783\u573e\uff1b")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5b83\u4f7f\u7528\u7684\u56de\u6536\u7b97\u6cd5-\u201c\u6807\u8bb0-\u6e05\u9664\u201d\u7b97\u6cd5\u4f1a\u5bfc\u81f4\u6536\u96c6\u7ed3\u675f\u65f6\u4f1a\u6709\u5927\u91cf\u7a7a\u95f4\u788e\u7247\u4ea7\u751f\u3002"))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"CMS\u901a\u5e38\u6709\u4e24\u4e2a\u9636\u6bb5\u4f1a\u8fdb\u884cSTW")),(0,l.kt)("p",null,"\u7b2c\u4e00\u9636\u6bb5\u548c\u7b2c\u4e09\u9636\u6bb5"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u521d\u59cb\u6807\u8bb0\uff08Initial-Mark\uff09\u9636\u6bb5"),"\uff1a\u5728\u8fd9\u4e2a\u9636\u6bb5\u4e2d\uff0c\u7a0b\u5e8f\u4e2d\u6240\u6709\u7684\u5de5\u4f5c\u7ebf\u7a0b (\u7528\u6237\u7ebf\u7a0b) \u90fd\u5c06\u4f1a\u56e0\u4e3a  \u201cStop-The-World\u201d \u673a\u5236\u800c\u51fa\u73b0\u77ed\u6682\u7684\u6682\u505c\uff0c\u8fd9\u4e2a\u9636\u6bb5\u7684\u4e3b\u8981\u4efb\u52a1\u4ec5\u4ec5\u53ea\u662f\u6807\u8bb0\u51fa GC Roots  \u80fd\u76f4\u63a5\u5173\u8054\u5230\u7684\u5bf9\u8c61\u3002\u4e00\u65e6\u6807\u8bb0\u5b8c\u6210\u4e4b\u540e\u5c31\u4f1a\u6062\u590d\u4e4b\u524d\u88ab\u6682\u505c\u7684\u6240\u6709\u5e94\u7528\u7ebf\u7a0b\u3002\u7531\u4e8e\u76f4\u63a5\u5173\u8054\u5bf9\u8c61\u6bd4\u8f83\u5c0f\uff0c\u6240\u4ee5\u8fd9\u91cc\u7684\u901f\u5ea6\u975e\u5e38\u5feb\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u91cd\u65b0\u6807\u8bb0\uff08Remark\uff09\u9636\u6bb5"),"\uff1a\u7531\u4e8e\u5728\u5e76\u53d1\u6807\u8bb0\u9636\u6bb5\u4e2d\uff0c\u7a0b\u5e8f\u7684\u5de5\u4f5c\u7ebf\u7a0b\u4f1a\u548c\u5783\u573e\u6536\u96c6\u7ebf\u7a0b\u540c\u65f6\u8fd0\u884c\u6216\u8005\u4ea4\u53c9\u8fd0\u884c\uff0c\u56e0\u6b64\u4e3a\u4e86\u4fee\u6b63\u5e76\u53d1\u6807\u8bb0\u671f\u95f4\uff0c\u56e0\u7528\u6237\u7a0b\u5e8f\u7ee7\u7eed\u8fd0\u4f5c\u800c\u5bfc\u81f4\u6807\u8bb0\u4ea7\u751f\u53d8\u52a8\u7684\u90a3\u4e00\u90e8\u5206\u5bf9\u8c61\u7684\u6807\u8bb0\u8bb0\u5f55\uff0c\u8fd9\u4e2a\u9636\u6bb5\u7684\u505c\u987f\u65f6\u95f4\u901a\u5e38\u4f1a\u6bd4\u521d\u59cb\u6807\u8bb0\u9636\u6bb5\u7a0d\u957f\u4e00\u4e9b\uff0c\u4f46\u4e5f\u8fdc\u6bd4\u5e76\u53d1\u6807\u8bb0\u9636\u6bb5\u7684\u65f6\u95f4\u77ed\u3002"))),(0,l.kt)("h4",{id:"g1-\u6536\u96c6\u5668"},"G1 \u6536\u96c6\u5668"),(0,l.kt)("p",null,"Garbage First\uff08\u7b80\u79f0 G1\uff09\u662f\u4e00\u6b3e\u9762\u5411\u670d\u52a1\u7aef\u7684\u5783\u573e\u6536\u96c6\u5668\uff0c\u4e5f\u662f JDK 9  \u670d\u52a1\u7aef\u6a21\u5f0f\u4e0b\u9ed8\u8ba4\u7684\u5783\u573e\u6536\u96c6\u5668\uff0c\u5b83\u7684\u8bde\u751f\u5177\u6709\u91cc\u7a0b\u7891\u5f0f\u7684\u610f\u4e49\u3002G1 \u867d\u7136\u4e5f\u9075\u5faa\u5206\u4ee3\u6536\u96c6\u7406\u8bba\uff0c\u4f46\u4e0d\u518d\u4ee5\u56fa\u5b9a\u5927\u5c0f\u548c\u56fa\u5b9a\u6570\u91cf\u6765\u5212\u5206\u5206\u4ee3\u533a\u57df\uff0c\u800c\u662f\u628a\u8fde\u7eed\u7684  Java \u5806\u5212\u5206\u4e3a\u591a\u4e2a\u5927\u5c0f\u76f8\u7b49\u7684\u72ec\u7acb\u533a\u57df\uff08Region\uff09\u3002\u6bcf\u4e00\u4e2a Region \u90fd\u53ef\u4ee5\u6839\u636e\u4e0d\u540c\u7684\u9700\u6c42\u6765\u626e\u6f14\u65b0\u751f\u4ee3\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Eden")," \u7a7a\u95f4\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"Survivor")," \u7a7a\u95f4\u6216\u8005\u8001\u5e74\u4ee3\u7a7a\u95f4\uff0c\u6536\u96c6\u5668\u4f1a\u6839\u636e\u5176\u626e\u6f14\u89d2\u8272\u7684\u4e0d\u540c\u800c\u91c7\u7528\u4e0d\u540c\u7684\u6536\u96c6\u7b56\u7565\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220624224020148",src:n(82059).Z,width:"678",height:"380"})),(0,l.kt)("p",null,"\u4e0a\u9762\u8fd8\u6709\u4e00\u4e9b Region \u4f7f\u7528 H \u8fdb\u884c\u6807\u6ce8\uff0c\u5b83\u4ee3\u8868 Humongous\uff0c\u8868\u793a\u8fd9\u4e9b Region \u7528\u4e8e\u5b58\u50a8\u5927\u5bf9\u8c61\uff08humongous object\uff0cH-obj\uff09\uff0c\u5373\u5927\u5c0f\u5927\u4e8e\u7b49\u4e8e region \u4e00\u534a\u7684\u5bf9\u8c61\u3002G1 \u6536\u96c6\u5668\u7684\u8fd0\u884c\u5927\u81f4\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u56db\u4e2a\u6b65\u9aa4\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u521d\u59cb\u6807\u8bb0 (Inital Marking)"),"\uff1a\u6807\u8bb0 ",(0,l.kt)("inlineCode",{parentName:"li"},"GC Roots")," \u80fd\u76f4\u63a5\u5173\u8054\u5230\u7684\u5bf9\u8c61\uff0c\u5e76\u4e14\u4fee\u6539 TAMS\uff08Top at Mark Start\uff09\u6307\u9488\u7684\u503c\uff0c\u8ba9\u4e0b\u4e00\u9636\u6bb5\u7528\u6237\u7ebf\u7a0b\u5e76\u53d1\u8fd0\u884c\u65f6\uff0c\u80fd\u591f\u6b63\u786e\u7684\u5728 Reigin \u4e2d\u5206\u914d\u65b0\u5bf9\u8c61\u3002G1 \u4e3a\u6bcf\u4e00\u4e2a Reigin \u90fd\u8bbe\u8ba1\u4e86\u4e24\u4e2a\u540d\u4e3a TAMS  \u7684\u6307\u9488\uff0c\u65b0\u5206\u914d\u7684\u5bf9\u8c61\u5fc5\u987b\u4f4d\u4e8e\u8fd9\u4e24\u4e2a\u6307\u9488\u4f4d\u7f6e\u4ee5\u4e0a\uff0c\u4f4d\u4e8e\u8fd9\u4e24\u4e2a\u6307\u9488\u4f4d\u7f6e\u4ee5\u4e0a\u7684\u5bf9\u8c61\u9ed8\u8ba4\u88ab\u9690\u5f0f\u6807\u8bb0\u4e3a\u5b58\u6d3b\u7684\uff0c\u4e0d\u4f1a\u7eb3\u5165\u56de\u6536\u8303\u56f4\uff1b"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5e76\u53d1\u6807\u8bb0 (Concurrent Marking)"),"\uff1a\u4ece ",(0,l.kt)("inlineCode",{parentName:"li"},"GC Roots")," \u80fd\u76f4\u63a5\u5173\u8054\u5230\u7684\u5bf9\u8c61\u5f00\u59cb\u904d\u5386\u6574\u4e2a\u5bf9\u8c61\u56fe\u3002\u904d\u5386\u5b8c\u6210\u540e\uff0c\u8fd8\u9700\u8981\u5904\u7406 SATB  \u8bb0\u5f55\u4e2d\u53d8\u52a8\u7684\u5bf9\u8c61\u3002SATB\uff08snapshot-at-the-beginning\uff0c\u5f00\u59cb\u9636\u6bb5\u5feb\u7167\uff09\u80fd\u591f\u6709\u6548\u7684\u89e3\u51b3\u5e76\u53d1\u6807\u8bb0\u9636\u6bb5\u56e0\u4e3a\u7528\u6237\u7ebf\u7a0b\u8fd0\u884c\u800c\u5bfc\u81f4\u7684\u5bf9\u8c61\u53d8\u52a8\uff0c\u5176\u6548\u7387\u6bd4 CMS \u91cd\u65b0\u6807\u8bb0\u9636\u6bb5\u6240\u4f7f\u7528\u7684\u589e\u91cf\u66f4\u65b0\u7b97\u6cd5\u6548\u7387\u66f4\u9ad8\uff1b"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u6700\u7ec8\u6807\u8bb0 (Final Marking)"),"\uff1a\u5bf9\u7528\u6237\u7ebf\u7a0b\u505a\u4e00\u4e2a\u77ed\u6682\u7684\u6682\u505c\uff0c\u7528\u4e8e\u5904\u7406\u5e76\u53d1\u9636\u6bb5\u7ed3\u675f\u540e\u4ecd\u9057\u7559\u4e0b\u6765\u7684\u5c11\u91cf\u7684 STAB \u8bb0\u5f55\u3002\u867d\u7136\u5e76\u53d1\u6807\u8bb0\u9636\u6bb5\u4f1a\u5904\u7406 SATB \u8bb0\u5f55\uff0c\u4f46\u7531\u4e8e\u5904\u7406\u65f6\u7528\u6237\u7ebf\u7a0b\u4f9d\u7136\u662f\u8fd0\u884c\u4e2d\u7684\uff0c\u56e0\u6b64\u4f9d\u7136\u4f1a\u6709\u5c11\u91cf\u7684\u53d8\u52a8\uff0c\u6240\u4ee5\u9700\u8981\u6700\u7ec8\u6807\u8bb0\u6765\u5904\u7406\uff1b"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u7b5b\u9009\u56de\u6536 (Live Data Counting and Evacuation)"),"\uff1a\u8d1f\u8d23\u66f4\u65b0 Regin \u7edf\u8ba1\u6570\u636e\uff0c\u6309\u7167\u5404\u4e2a Regin \u7684\u56de\u6536\u4ef7\u503c\u548c\u6210\u672c\u8fdb\u884c\u6392\u5e8f\uff0c\u5728\u6839\u636e\u7528\u6237\u671f\u671b\u7684\u505c\u987f\u65f6\u95f4\u8fdb\u884c\u6765\u6307\u5b9a\u56de\u6536\u8ba1\u5212\uff0c\u53ef\u4ee5\u9009\u62e9\u4efb\u610f\u591a\u4e2a Regin \u6784\u6210\u56de\u6536\u96c6\u3002\u7136\u540e\u5c06\u56de\u6536\u96c6\u4e2d Regin \u7684\u5b58\u6d3b\u5bf9\u8c61\u590d\u5236\u5230\u7a7a\u7684 Regin \u4e2d\uff0c\u518d\u6e05\u7406\u6389\u6574\u4e2a\u65e7\u7684 Regin  \u3002\u6b64\u65f6\u56e0\u4e3a\u6d89\u53ca\u5230\u5b58\u6d3b\u5bf9\u8c61\u7684\u79fb\u52a8\uff0c\u6240\u4ee5\u9700\u8981\u6682\u505c\u7528\u6237\u7ebf\u7a0b\uff0c\u5e76\u7531\u591a\u4e2a\u6536\u96c6\u7ebf\u7a0b\u5e76\u884c\u6267\u884c\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628152953093",src:n(94160).Z,width:"1613",height:"425"})),(0,l.kt)("h4",{id:"zgc-\u6536\u96c6\u5668"},"ZGC \u6536\u96c6\u5668"),(0,l.kt)("p",null,"\u4e0e CMS \u4e2d\u7684 ParNew \u548c G1 \u7c7b\u4f3c\uff0cZGC \u4e5f\u91c7\u7528\u6807\u8bb0-\u590d\u5236\u7b97\u6cd5\uff0c\u4e0d\u8fc7 ZGC \u5bf9\u8be5\u7b97\u6cd5\u505a\u4e86\u91cd\u5927\u6539\u8fdb\u3002"),(0,l.kt)("p",null,"\u5728 ZGC \u4e2d\u51fa\u73b0 Stop The World \u7684\u60c5\u51b5\u4f1a\u66f4\u5c11\uff01"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u62d3\u5c55")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220612165223576",src:n(46366).Z,width:"1774",height:"985"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e24\u4e2a\u6536\u96c6\u5668\u95f4\u6709\u8fde\u7ebf\uff0c\u8868\u660e\u5b83\u4eec\u53ef\u4ee5\u642d\u914d\u4f7f\u7528\uff1aSerial/Serial Old\u3001Serial/CMS\u3001ParNew/Serial  Old\u3001ParNew/CMS\u3001Parallel Scavenge/Serial Old\u3001Parallel Scavenge/Parallel  Old\u3001G1\u3002"),(0,l.kt)("li",{parentName:"ul"},'\u5176\u4e2d Serial Old \u4f5c\u4e3a CMS \u51fa\u73b0"Concurrent Mode Failure"\u5931\u8d25\u7684\u540e\u5907\u9884\u6848\u3002'),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\uff08\u7ea2\u8272\u865a\u7ebf\uff09"),"\u7531\u4e8e\u7ef4\u62a4\u548c\u517c\u5bb9\u6027\u6d4b\u8bd5\u7684\u6210\u672c\uff0c\u5728 JDK 8 \u65f6\u5c06 Serial + CMS\u3001ParNew + Serial Old \u8fd9\u4e24\u4e2a\u7ec4\u5408\u58f0\u660e\u4e3a\u5e9f\u5f03\uff08JEP173\uff09\uff0c\u5e76\u5728 JDK 9 \u4e2d\u5b8c\u5168\u53d6\u6d88\u4e86\u8fd9\u4e9b\u7ec4\u5408\u7684\u652f\u6301\uff08JEP214\uff09\uff0c\u5373\uff1a\u79fb\u9664\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\uff08\u7eff\u8272\u865a\u7ebf\uff09"),"JDK 14 \u4e2d\uff1a\u5f03\u7528 Parallel Scavenge \u548c Serialold GC \u7ec4\u5408\uff08JEP366\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\uff08\u9752\u8272\u865a\u7ebf\uff09"),"JDK 14 \u4e2d\uff1a\u5220\u9664 CMS \u5783\u573e\u56de\u6536\u5668\uff08JEP363\uff09\u3002")),(0,l.kt)("h3",{id:"minor-gc-\u548c-full-gc-\u6709\u4ec0\u4e48\u4e0d\u540c\u5462"},"Minor Gc \u548c Full GC \u6709\u4ec0\u4e48\u4e0d\u540c\u5462"),(0,l.kt)("p",null,"\u65b0\u751f\u4ee3\u6536\u96c6\uff08Minor GC / Young GC\uff09\uff1a\u53ea\u5bf9\u65b0\u751f\u4ee3\u8fdb\u884c\u5783\u573e\u6536\u96c6"),(0,l.kt)("p",null,"\u6574\u5806\u6536\u96c6 (Full GC)\uff1a\u6536\u96c6\u6574\u4e2a Java \u5806\u548c\u65b9\u6cd5\u533a"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u62d3\u5c551\uff1a\u6709\u54ea\u4e9b\u5e38\u89c1\u7684 GC\uff1f")),(0,l.kt)("p",null,"\u9488\u5bf9 HotSpot VM \u7684\u5b9e\u73b0\uff0c\u5b83\u91cc\u9762\u7684 GC \u5176\u5b9e\u51c6\u786e\u5206\u7c7b\u53ea\u6709\u4e24\u5927\u79cd\uff1a"),(0,l.kt)("p",null,"\u90e8\u5206\u6536\u96c6 (Partial GC)\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u65b0\u751f\u4ee3\u6536\u96c6\uff08Minor GC / Young GC\uff09\uff1a\u53ea\u5bf9\u65b0\u751f\u4ee3\u8fdb\u884c\u5783\u573e\u6536\u96c6\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u8001\u5e74\u4ee3\u6536\u96c6\uff08Major GC / Old GC\uff09\uff1a\u53ea\u5bf9\u8001\u5e74\u4ee3\u8fdb\u884c\u5783\u573e\u6536\u96c6\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f Major GC \u5728\u6709\u7684\u8bed\u5883\u4e2d\u4e5f\u7528\u4e8e\u6307\u4ee3\u6574\u5806\u6536\u96c6\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u6df7\u5408\u6536\u96c6\uff08Mixed GC\uff09\uff1a\u5bf9\u6574\u4e2a\u65b0\u751f\u4ee3\u548c\u90e8\u5206\u8001\u5e74\u4ee3\u8fdb\u884c\u5783\u573e\u6536\u96c6\u3002")),(0,l.kt)("p",null,"\u6574\u5806\u6536\u96c6 (Full GC)\uff1a\u6536\u96c6\u6574\u4e2a Java \u5806\u548c\u65b9\u6cd5\u533a\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u62d3\u5c552\uff1a\u8c08\u8c08\u4f60\u5bf9 Minor GC\u3001\u8fd8\u6709 Full GC \u7684\u7406\u89e3\u3002Minor GC \u4e0e Full GC \u5206\u522b\u5728\u4ec0\u4e48\u65f6\u5019\u53d1\u751f\uff1f Minor GC \u4f1a\u53d1\u751f STW(stop the world) \u73b0\u8c61\u5417\uff1f")),(0,l.kt)("p",null," ",(0,l.kt)("strong",{parentName:"p"},"Minor GC")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f53\u5e74\u8f7b\u4ee3\u7a7a\u95f4\u4e0d\u8db3\u65f6\uff0c\u5c31\u4f1a\u89e6\u53d1Minor GC\uff0c\u8fd9\u91cc\u7684\u5e74\u8f7b\u4ee3\u6ee1\u6307\u7684\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"Eden\u533a\u6ee1"),"\uff0cSurvivor\u533a\u6ee1\u4e0d\u4f1a\u89e6\u53d1GC\u3002\uff08\u6bcf\u6b21Minor GC\u4f1a\u6e05\u7406\u5e74\u8f7b\u4ee3\u7684\u5185\u5b58\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u56e0\u4e3aJava\u5bf9\u8c61\u5927\u591a\u90fd\u5177\u5907\u671d\u751f\u5915\u706d\u7684\u7279\u6027\uff0c\u6240\u4ee5",(0,l.kt)("strong",{parentName:"li"},"Minor GC\u975e\u5e38\u9891\u7e41"),"\uff0c\u4e00\u822c\u56de\u6536\u901f\u5ea6\u4e5f\u6bd4\u8f83\u5feb\u3002\u8fd9\u4e00\u5b9a\u4e49\u65e2\u6e05\u6670\u53c8\u6613\u4e8e\u7406\u89e3\u3002"),(0,l.kt)("li",{parentName:"ul"},"Minor GC\u4f1a\u5f15\u53d1 ",(0,l.kt)("inlineCode",{parentName:"li"},"STW"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"\u6682\u505c\u5176\u5b83\u7528\u6237\u7684\u7ebf\u7a0b\uff0c\u7b49\u5f85\u5783\u573e\u56de\u6536\u7ebf\u7a0b\u7ed3\u675f\uff0c\u7528\u6237\u7ebf\u7a0b\u624d\u6062\u590d\u8fd0\u884c"))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Major GC")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6307\u53d1\u751f\u5728\u8001\u5e74\u4ee3\u7684GC\uff0c\u5bf9\u8c61\u4ece\u8001\u5e74\u4ee3\u6d88\u5931\u65f6\uff0c\u6211\u4eec\u8bf4 \u201cMajor Gc\u201d \u6216 \u201cFull GC\u201d \u53d1\u751f\u4e86"),(0,l.kt)("li",{parentName:"ul"},"\u51fa\u73b0\u4e86MajorGc\uff0c\u7ecf\u5e38\u4f1a\u4f34\u968f\u81f3\u5c11\u4e00\u6b21\u7684Minor GC",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u4f46\u975e\u7edd\u5bf9\u7684\uff0c\u5728Parallel Scavenge\u6536\u96c6\u5668\u7684\u6536\u96c6\u7b56\u7565\u91cc\u5c31\u6709\u76f4\u63a5\u8fdb\u884cMajor GC\u7684\u7b56\u7565\u9009\u62e9\u8fc7\u7a0b"),(0,l.kt)("li",{parentName:"ul"},"\u4e5f\u5c31\u662f\u5728\u8001\u5e74\u4ee3\u7a7a\u95f4\u4e0d\u8db3\u65f6\uff0c\u4f1a\u5148\u5c1d\u8bd5\u89e6\u53d1Minor GC\uff0c\u5982\u679c\u4e4b\u540e\u7a7a\u95f4\u8fd8\u4e0d\u8db3\uff0c\u5219\u89e6\u53d1Major GC"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Major GC\u7684\u901f\u5ea6\u4e00\u822c\u4f1a\u6bd4Minor GC\u616210\u500d\u4ee5\u4e0a"),"\uff0cSTW\u7684\u65f6\u95f4\u66f4\u957f"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679cMajor GC\u540e\uff0c\u5185\u5b58\u8fd8\u4e0d\u8db3\uff0c\u5c31\u62a5OOM\u4e86")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Full GC")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8c03\u7528System.gc( )\u65f6\uff0c\u7cfb\u7edf\u5efa\u8bae\u6267\u884cFull GC\uff0c\u4f46\u662f\u4e0d\u5fc5\u7136\u6267\u884c"),(0,l.kt)("li",{parentName:"ul"},"\u8001\u5e74\u4ee3\u7a7a\u95f4\u4e0d\u8db3"),(0,l.kt)("li",{parentName:"ul"},"\u65b9\u6cd5\u533a\u7a7a\u95f4\u4e0d\u8db3"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u901a\u8fc7Minor GC\u540e\u8fdb\u5165\u8001\u5e74\u4ee3\u7684\u5e73\u5747\u5927\u5c0f \u5927\u4e8e \u8001\u5e74\u4ee3\u7684\u53ef\u7528\u5185\u5b58")),(0,l.kt)("li",{parentName:"ul"},"\u7531Eden\u533a\u3001survivor space0\uff08From Space\uff09\u533a \u5411survivor space1\uff08To Space\uff09\u533a\u590d\u5236\u65f6\uff0c\u5bf9\u8c61\u5927\u5c0f\u5927\u4e8eTo Space\u53ef\u7528\u5185\u5b58\uff0c\u5219\u628a\u8be5\u5bf9\u8c61\u8f6c\u5b58\u5230\u8001\u5e74\u4ee3\uff0c\u4e14\u8001\u5e74\u4ee3\u7684\u53ef\u7528\u5185\u5b58 \u5c0f\u4e8e \u8be5\u5bf9\u8c61\u5927\u5c0f")),(0,l.kt)("h3",{id:"\ufe0f\u5bf9\u8c61\u7684\u521b\u5efa\u8fc7\u7a0b"},"\u2b50\ufe0f\u5bf9\u8c61\u7684\u521b\u5efa\u8fc7\u7a0b"),(0,l.kt)("h4",{id:"\u6982\u8ff0-1"},"\u6982\u8ff0"),(0,l.kt)("p",null,"\u9996\u5148\u5728\u6587\u4ef6\u5185\u521b\u5efa\u4e00\u4e2a\u7a7a\u5bf9\u8c61"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public class VM {\n}\n")),(0,l.kt)("p",null,"\u518d\u968f\u4fbfnew\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u5b83\u7684\u5b57\u8282\u7801"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public class newObject {\n\n    public static void main(String[] args) {\n        VM vm = new VM();\n    }\n}\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"0 new #2 <cn/zhiyucs/test/VM>\n3 dup\n4 invokespecial #3 <cn/zhiyucs/test/VM.<init> : ()V>\n7 astore_1\n8 return\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"new\u6307\u4ee4"),"\u76f8\u5f53\u4e8e\u53bb\u5bf9\u5e94\u7684\u5185\u5b58\u7a7a\u95f4\u7533\u8bf7\u4e00\u5757\u5185\u5b58\u5927\u5c0f \u7528\u4e8e\u5b58\u653e\u5bf9\u8c61\u6570\u636e \u5bf9\u8c61\u7684\u5927\u5c0f\u662f\u53ef\u4ee5\u786e\u5b9a\u7684 \u6bd4\u5982int\u5360\u75284\u4e2a\u5b57\u8282 \u5f15\u7528\u4e5f\u5360\u75284\u4e2a\u5b57\u8282 \u6240\u4ee5\u8fd9\u4e2a\u65f6\u5019\u7533\u8bf7\u7684\u5185\u5b58\u7a7a\u95f4\u5927\u5c0f\u662f\u56fa\u5b9a\u7684"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"dup"),"\u76f8\u5f53\u4e8e\u5c06\u5bf9\u5e94\u7684\u5185\u5b58\u5730\u5740\u7684\u5f15\u7528\u590d\u5236\u4e86\u4e00\u4efd\u538b\u5230\u6808\u4e2d,\u90a3\u4e48\u5bf9\u5e94\u6808\u4e2d\u4f1a\u67092\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u8fd92\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u4e00\u4e2a\u7528\u4e8e\u64cd\u4f5c\u5bf9\u8c61\u8d4b\u503c\uff0c\u4e00\u4e2a\u7528\u4e8e\u5bf9\u8c61\u7684\u65b9\u6cd5\u8c03\u7528"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"invokespecial\u6307\u4ee4"),"\u662f\u8c03\u7528\u5bf9\u8c61\u7684\u6784\u9020\u5668\u521d\u59cb\u5316\u5bf9\u8c61 \u6211\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u9ed8\u8ba4\u6784\u9020\u5668 \u7a7a\u53c2\u6784\u9020 \u4e00\u822c\u7528\u4e8e\u521d\u59cb\u5316\u5bf9\u8c61\u6570\u636e\uff0c\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"new"),"\u7684\u65f6\u5019JVM\u4f1a\u7ed9\u5bf9\u8c61\u7684\u5168\u5c40\u53d8\u91cf\u8d4b\u9ed8\u8ba4\u503c"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"astore\u6307\u4ee4"),"\u5c31\u662f\u5c06\u5bf9\u5e94\u5bf9\u8c61\u7684\u5f15\u7528\u5b58\u50a8\u5230\u5c40\u90e8\u53d8\u91cf\u8868\u4e2d"),(0,l.kt)("h4",{id:"\u4ecejvm\u5c42\u9762\u5206\u6790"},"\u4eceJVM\u5c42\u9762\u5206\u6790"),(0,l.kt)("h5",{id:"1\ufe0f\u20e3\u7c7b\u52a0\u8f7d"},"1\ufe0f\u20e3\u7c7b\u52a0\u8f7d"),(0,l.kt)("p",null,"\u5177\u4f53\u6765\u8bf4\uff0c\u5f53 Java \u865a\u62df\u673a\u9047\u5230\u4e00\u6761\u5b57\u8282\u7801 new \u6307\u4ee4\u65f6\uff1a"),(0,l.kt)("p",null,"1\uff09\u9996\u5148\u68c0\u67e5\u6839\u636e class \u6587\u4ef6\u4e2d\u7684\u5e38\u91cf\u6c60\u8868\uff08Constant Pool Table\uff09\u80fd\u5426\u627e\u5230\u8fd9\u4e2a\u7c7b\u5bf9\u5e94\u7684\u7b26\u53f7\u5f15\u7528"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6b64\u5904\u53ef\u4ee5\u56de\u987e\u4e00\u6ce2",(0,l.kt)("strong",{parentName:"p"},"\u5e38\u91cf\u6c60\u8868 (Constant Pool Table)")," \u7684\u6982\u5ff5\uff1a"),(0,l.kt)("p",{parentName:"blockquote"},"\u7528\u4e8e\u5b58\u653e",(0,l.kt)("strong",{parentName:"p"},"\u7f16\u8bd1\u671f"),"\u751f\u6210\u7684\u5404\u79cd\u5b57\u9762\u91cf\uff08\u5b57\u9762\u91cf\u76f8\u5f53\u4e8e Java \u8bed\u8a00\u5c42\u9762\u5e38\u91cf\u7684\u6982\u5ff5\uff0c\u5982\u6587\u672c\u5b57\u7b26\u4e32\uff0c\u58f0\u660e\u4e3a final \u7684\u5e38\u91cf\u503c\u7b49\uff09\u4e0e\u7b26\u53f7\u5f15\u7528\u3002\u6709\u4e00\u4e9b\u6587\u7ae0\u4f1a\u628a class \u5e38\u91cf\u6c60\u8868\u79f0\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u9759\u6001\u5e38\u91cf\u6c60"),"\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u90fd\u662f\u5e38\u91cf\u6c60\uff0c\u5e38\u91cf\u6c60\u8868\u548c\u65b9\u6cd5\u533a\u4e2d\u7684\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u6709\u5565\u5173\u7cfb\u5417\uff1f\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u662f\u5e72\u561b\u7684\u5462\uff1f"),(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u53ef\u4ee5\u5728\u8fd0\u884c\u671f\u95f4\u5c06 class \u5e38\u91cf\u6c60\u8868\u4e2d\u7684\u7b26\u53f7\u5f15\u7528\u89e3\u6790\u4e3a\u76f4\u63a5\u5f15\u7528"),"\u3002\u7b80\u5355\u6765\u8bf4\uff0cclass \u5e38\u91cf\u6c60\u8868\u5c31\u76f8\u5f53\u4e8e\u4e00\u5806\u7d22\u5f15\uff0c\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u6839\u636e\u8fd9\u4e9b\u7d22\u5f15\u6765\u67e5\u627e\u5bf9\u5e94\u65b9\u6cd5\u6216\u5b57\u6bb5\u6240\u5c5e\u7684\u7c7b\u578b\u4fe1\u606f\u548c\u540d\u79f0\u53ca\u63cf\u8ff0\u7b26\u4fe1\u606f")),(0,l.kt)("p",null,"2\uff09\u7136\u540e\u53bb\u65b9\u6cd5\u533a\u4e2d\u7684\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u4e2d\u67e5\u627e\u8be5\u7b26\u53f7\u5f15\u7528\u6240\u6307\u5411\u7684\u7c7b\u662f\u5426\u5df2\u88ab JVM \u52a0\u8f7d\u3001\u89e3\u6790\u548c\u521d\u59cb\u5316\u8fc7"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u6ca1\u6709\uff0c\u90a3\u5c31\u5148\u6267\u884c\u76f8\u5e94\u7684\u7c7b\u52a0\u8f7d\u8fc7\u7a0b"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u6709\uff0c\u90a3\u4e48\u8fdb\u5165\u4e0b\u4e00\u6b65\uff0c\u4e3a\u65b0\u751f\u5bf9\u8c61\u5206\u914d\u5185\u5b58")),(0,l.kt)("h5",{id:"2\ufe0f\u20e3\u5206\u914d\u5185\u5b58\u5bf9\u8c61\u5728\u5806\u4e0a\u5206\u914d\u7684\u4e24\u79cd\u65b9\u5f0f"},"2\ufe0f\u20e3\u5206\u914d\u5185\u5b58\uff08\u5bf9\u8c61\u5728\u5806\u4e0a\u5206\u914d\u7684\u4e24\u79cd\u65b9\u5f0f\uff09"),(0,l.kt)("p",null,"\u6839\u636e\u5806\u4e2d\u7684\u5185\u5b58\u662f\u5426\u89c4\u6574\uff0c\u6709\u4e24\u79cd\u5212\u5206\u65b9\u5f0f\uff0c\u6216\u8005\u8bf4\u5bf9\u8c61\u5728\u5806\u4e0a\u7684\u5206\u914d\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a"),(0,l.kt)("p",null,"1\uff09",(0,l.kt)("strong",{parentName:"p"},"\u5047\u8bbe Java \u5806\u4e2d\u5185\u5b58\u662f\u7edd\u5bf9\u89c4\u6574\u7684"),"\uff0c\u6240\u6709\u88ab\u4f7f\u7528\u8fc7\u7684\u5185\u5b58\u90fd\u88ab\u653e\u5728\u4e00\u8fb9\uff0c\u7a7a\u95f2\u7684\u5185\u5b58\u88ab\u653e\u5728\u53e6\u4e00\u8fb9\uff0c\u4e2d\u95f4\u653e\u7740\u4e00\u4e2a\u6307\u9488\u4f5c\u4e3a\u5206\u754c\u70b9\u7684\u6307\u793a\u5668\uff0c\u90a3\u6240\u5206\u914d\u5185\u5b58\u5c31\u4ec5\u4ec5\u662f\u628a\u8fd9\u4e2a\u6307\u9488 \u5411 \u7a7a\u95f2\u7a7a\u95f4\u65b9\u5411 \u632a\u52a8\u4e00\u6bb5\u4e0e\u5bf9\u8c61\u5927\u5c0f\u76f8\u7b49\u7684\u8ddd\u79bb\uff0c\u8fd9\u79cd\u5206\u914d\u65b9\u5f0f\u79f0\u4e3a ",(0,l.kt)("strong",{parentName:"p"},"\u6307\u9488\u78b0\u649e"),"\uff08Bump The Pointer\uff09"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628113523166",src:n(54407).Z,width:"1018",height:"578"})),(0,l.kt)("p",null,"2\uff09",(0,l.kt)("strong",{parentName:"p"},"\u5982\u679c Java \u5806\u4e2d\u7684\u5185\u5b58\u5e76\u4e0d\u662f\u89c4\u6574\u7684"),"\uff0c\u5df2\u88ab\u4f7f\u7528\u7684\u5185\u5b58\u548c\u7a7a\u95f2\u7684\u5185\u5b58\u76f8\u4e92\u4ea4\u9519\u5728\u4e00\u8d77\uff0c\u90a3\u5c31\u6ca1\u6709\u529e\u6cd5\u7b80\u5355\u5730\u8fdb\u884c\u6307\u9488\u78b0\u649e\u4e86\uff0c\u865a\u62df\u673a\u5c31\u5fc5\u987b\u7ef4\u62a4\u4e00\u4e2a\u5217\u8868\uff0c\u8bb0\u5f55\u54ea\u4e9b\u5185\u5b58\u5757\u662f\u53ef\u7528\u7684\uff0c\u5728\u5206\u914d\u7684\u65f6\u5019\u4ece\u5217\u8868\u4e2d\u627e\u5230\u4e00\u5757\u8db3\u591f\u5927\u7684\u8fde\u7eed\u7a7a\u95f4\u5212\u5206\u7ed9\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u5e76\u66f4\u65b0\u5217\u8868\u4e0a\u7684\u8bb0\u5f55\uff0c\u8fd9\u79cd\u5206\u914d\u65b9\u5f0f\u79f0\u4e3a ",(0,l.kt)("strong",{parentName:"p"},"\u7a7a\u95f2\u5217\u8868"),"\uff08Free List\uff09\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u9009\u62e9\u54ea\u79cd\u5206\u914d\u65b9\u5f0f\u7531 Java \u5806\u662f\u5426\u89c4\u6574\u51b3\u5b9a\uff0c\u90a3\u53c8\u6709\u540c\u5b66\u4f1a\u95ee\u4e86\uff0c\u5806\u662f\u5426\u89c4\u6574\u53c8\u7531\u8c01\u6765\u51b3\u5b9a\u5462\uff1f"),(0,l.kt)("p",{parentName:"blockquote"},"Java \u5806\u662f\u5426\u89c4\u6574\u7531\u6240\u91c7\u7528\u7684\u5783\u573e\u6536\u96c6\u5668\u662f\u5426\u5e26\u6709\u7a7a\u95f4\u538b\u7f29\u6574\u7406\uff08Compact\uff09\u7684\u80fd\u529b\u51b3\u5b9a\u7684\uff08\u6216\u8005\u8bf4\u7531\u5783\u573e\u6536\u96c6\u5668\u91c7\u7528\u7684\u5783\u573e\u6536\u96c6\u7b97\u6cd5\u6765\u51b3\u5b9a\u7684\uff0c\u5177\u4f53\u5783\u573e\u6536\u96c6\u7b97\u6cd5\u89c1\u540e\u7eed\u6587\u7ae0\uff09\uff1a"),(0,l.kt)("ul",{parentName:"blockquote"},(0,l.kt)("li",{parentName:"ul"},"\u56e0\u6b64\uff0c\u5f53\u4f7f\u7528 Serial\u3001ParNew \u7b49\u5e26\u538b\u7f29\u6574\u7406\u8fc7\u7a0b\u7684\u6536\u96c6\u5668\u65f6\uff0c\u7cfb\u7edf\u91c7\u7528\u7684\u5206\u914d\u7b97\u6cd5\u662f\u6307\u9488\u78b0\u649e\uff0c\u65e2\u7b80\u5355\u53c8\u9ad8\u6548"),(0,l.kt)("li",{parentName:"ul"},"\u800c\u5f53\u4f7f\u7528 CMS \u8fd9\u79cd\u57fa\u4e8e\u6e05\u9664\uff08Sweep\uff09\u7b97\u6cd5\u7684\u6536\u96c6\u5668\u65f6\uff0c\u7406\u8bba\u4e0a\u5c31\u53ea\u80fd\u91c7\u7528\u8f83\u4e3a\u590d\u6742\u7684\u7a7a\u95f2\u5217\u8868\u6765\u5206\u914d\u5185\u5b58"))),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628113934143",src:n(83903).Z,width:"976",height:"335"})),(0,l.kt)("h5",{id:"3\ufe0f\u20e3\u521d\u59cb\u5316\u96f6\u503c"},"3\ufe0f\u20e3\u521d\u59cb\u5316\u96f6\u503c"),(0,l.kt)("p",null,"\u4e3e\u4e2a\ud83c\udf30"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public class VM  {\n\n    private int value = 100;\n    private Object data;\n\n}\n")),(0,l.kt)("p",null,"\u6bd4\u5982\u6211\u4eec\u5bf9\u8c61\u4e2d \u5b9a\u4e49\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"value"),"\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"data")),(0,l.kt)("p",null,"JVM\u4e3a\u4e86\u5b9e\u73b0\u6211\u4eec\u4e0d\u505a\u8d4b\u503c\u64cd\u4f5c\u7684\u5bf9\u8c61\u4e5f\u53ef\u4ee5\u62ff\u6765\u76f4\u63a5\u4f7f\u7528\u5728\u7533\u8bf7\u7a7a\u95f4\u7684\u4f1a\u7ed9\u5bf9\u8c61\u8d4b\u503c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"null"),"\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u57fa\u672c\u6570\u636e\u7c7b\u578b\u4f1a\u8d4b\u503c\u4e3a\u9ed8\u8ba4\u503c,\u5f15\u7528\u6570\u636e\u4e3a\u8d4b\u503c\u4e3anull")),(0,l.kt)("p",null,"\u6bd4\u5982\u4e0a\u9762\u4ee3\u7801 ",(0,l.kt)("inlineCode",{parentName:"p"},"value"),"\u4f1a\u8d4b\u503c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"0")," ,",(0,l.kt)("inlineCode",{parentName:"p"},"data"),"\u4f1a\u8d4b\u503c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"null")," ,\u8fd9\u91cc\u662f\u8d4b\u4e3a\u9ed8\u8ba4\u503c\uff0c\u4e0d\u662f\u8d4b\u503c"),(0,l.kt)("p",null,"\u8fd9\u6b65\u64cd\u4f5c\u4fdd\u8bc1\u4e86\u5bf9\u8c61\u7684\u5b9e\u4f8b\u5b57\u6bb5\u5728 Java \u4ee3\u7801\u4e2d\u53ef\u4ee5\u4e0d\u8d4b\u521d\u59cb\u503c\u5c31\u76f4\u63a5\u4f7f\u7528\uff0c\u4f7f\u7a0b\u5e8f\u80fd\u8bbf\u95ee\u5230\u8fd9\u4e9b\u5b57\u6bb5\u7684\u6570\u636e\u7c7b\u578b\u6240\u5bf9\u5e94\u7684\u96f6\u503c\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5982\u679c\u4f7f\u7528\u4e86 TLAB \u7684\u8bdd\uff0c\u521d\u59cb\u5316\u96f6\u503c\u8fd9\u9879\u5de5\u4f5c\u53ef\u4ee5\u63d0\u524d\u81f3 TLAB \u5206\u914d\u65f6\u5c31\u987a\u4fbf\u8fdb\u884c\u4e86")),(0,l.kt)("h5",{id:"4\ufe0f\u20e3\u8bbe\u7f6e\u5bf9\u8c61\u5934"},"4\ufe0f\u20e3\u8bbe\u7f6e\u5bf9\u8c61\u5934"),(0,l.kt)("p",null,"\u5bf9\u8c61\u5728\u5185\u5b58\u4e2d\u7684\u5e03\u5c40\u53ef\u4ee5\u5206\u4e3a 3 \u5757\u533a\u57df\uff1a\u5bf9\u8c61\u5934\uff08Object Header\uff09\u3001\u5b9e\u4f8b\u6570\u636e\u548c\u5bf9\u9f50\u586b\u5145"),(0,l.kt)("p",null,"\u5bf9\u9f50\u586b\u5145\u5e76\u4e0d\u662f\u4ec0\u4e48\u6709\u610f\u4e49\u7684\u6570\u636e\uff0c\u5b9e\u4f8b\u6570\u636e\u6211\u4eec\u5728\u4e0a\u4e00\u6b65\u64cd\u4f5c\u4e2d\u8fdb\u884c\u4e86\u521d\u59cb\u5316\u96f6\u503c\uff0c\u90a3\u4e48\u5bf9\u4e8e\u5269\u4e0b\u7684\u5bf9\u8c61\u5934\u4e2d\u7684\u4fe1\u606f\u6765\u8bf4\uff0c\u81ea\u7136\u4e0d\u5fc5\u591a\u8bf4\uff0c\u4e5f\u662f\u8981\u8fdb\u884c\u4e00\u4e9b\u8d4b\u503c\u64cd\u4f5c\u7684\uff1a\u4f8b\u5982\u8fd9\u4e2a\u5bf9\u8c61\u662f\u54ea\u4e2a\u7c7b\u7684\u5b9e\u4f8b\u3001\u5982\u4f55\u624d\u80fd\u627e\u5230\u7c7b\u7684\u5143\u6570\u636e\u4fe1\u606f\u3001\u5bf9\u8c61\u7684\u54c8\u5e0c\u7801\u3001\u5bf9\u8c61\u7684 GC \u5206\u4ee3\u5e74\u9f84\u7b49\u4fe1\u606f\u3002\u6839\u636e\u865a\u62df\u673a\u5f53\u524d\u8fd0\u884c\u72b6\u6001\u7684\u4e0d\u540c\uff0c\u5982\u662f\u5426\u542f\u7528\u504f\u5411\u9501\u7b49\uff0c\u5bf9\u8c61\u5934\u4f1a\u6709\u4e0d\u540c\u7684\u8bbe\u7f6e\u65b9\u5f0f\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5bf9\u8c61\u5934")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628152051756",src:n(83636).Z,width:"1001",height:"554"})),(0,l.kt)("h5",{id:"5\ufe0f\u20e3\u6267\u884cinit"},"5\ufe0f\u20e3\u6267\u884cinit"),(0,l.kt)("p",null,"\u4e0a\u9762\u56db\u4e2a\u6b65\u9aa4\u90fd\u8d70\u5b8c\u4e4b\u540e\uff0c\u4ece JVM \u7684\u89c6\u89d2\u6765\u770b\uff0c\u5176\u5b9e\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u5df2\u7ecf\u6210\u529f\u8bde\u751f\u4e86\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\u4ece\u6211\u4eec\u7a0b\u5e8f\u5458\u7684\u89c6\u89d2\u6765\u770b\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u786e\u5b9e\u662f\u521b\u5efa\u51fa\u6765\u4e86\uff0c\u4f46\u662f\u8fd8\u6ca1\u6309\u7167\u6211\u4eec\u5b9a\u4e49\u7684\u6784\u9020\u51fd\u6570\u6765\u8fdb\u884c\u8d4b\u503c\u5462\uff0c\u6240\u6709\u7684\u5b57\u6bb5\u90fd\u8fd8\u662f\u9ed8\u8ba4\u7684\u96f6\u503c\u554a\u3002"),(0,l.kt)("p",null,"\u6784\u9020\u51fd\u6570\u5373 Class \u6587\u4ef6\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"<init>()")," \u65b9\u6cd5\uff0c\u4e00\u822c\u6765\u8bf4\uff0cnew \u6307\u4ee4\u4e4b\u540e\u4f1a\u63a5\u7740\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"<init>()")," \u65b9\u6cd5\uff0c\u6309\u7167\u6784\u9020\u51fd\u6570\u7684\u610f\u56fe\u5bf9\u8fd9\u4e2a\u5bf9\u8c61\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u8fd9\u6837\u4e00\u4e2a\u771f\u6b63\u53ef\u7528\u7684\u5bf9\u8c61\u624d\u7b97\u5b8c\u5168\u5730\u88ab\u6784\u9020\u51fa\u6765\u4e86"),(0,l.kt)("p",null,"\u4e3e\u4e2a\ud83c\udf30\uff0c\u4e0a\u8ff0\u4ee3\u7801\u7f16\u8bd1\u6210\u5b57\u8282\u7801\u4e4b\u540e"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"}," 0 aload_0\n 1 invokespecial #1 <java/lang/Object.<init> : ()V>\n 4 aload_0\n 5 bipush 100\n 7 putfield #2 <cn/zhiyucs/test/VM.value : I>\n 10 return\n")),(0,l.kt)("h5",{id:"\u603b\u89c8"},"\ud83e\udd0f\u603b\u89c8"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628151926533",src:n(34470).Z,width:"1457",height:"1024"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5bf9\u8c61\u521b\u5efa\u65f6\u5019\u7684\u5e76\u53d1\u5b89\u5168\u95ee\u9898")),(0,l.kt)("p",null,"\u53e6\u5916\uff0c\u5728\u4e3a\u5bf9\u8c61\u521b\u5efa\u5185\u5b58\u7684\u65f6\u5019\uff0c\u8fd8\u9700\u8981\u8003\u8651\u4e00\u4e2a\u95ee\u9898\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u5e76\u53d1\u5b89\u5168\u95ee\u9898"),"\u3002"),(0,l.kt)("p",null,"\u5bf9\u8c61\u521b\u5efa\u5728\u865a\u62df\u673a\u4e2d\u662f\u975e\u5e38\u9891\u7e41\u7684\u884c\u4e3a\uff0c\u4ee5\u4e0a\u9762\u4ecb\u7ecd\u7684\u6307\u9488\u78b0\u649e\u6cd5\u4e3a\u4f8b\uff0c\u5373\u4f7f\u53ea\u4fee\u6539\u4e00\u4e2a\u6307\u9488\u6240\u6307\u5411\u7684\u4f4d\u7f6e\uff0c\u5728\u5e76\u53d1\u60c5\u51b5\u4e0b\u4e5f\u5e76\u4e0d\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u53ef\u80fd\u51fa\u73b0\u67d0\u4e2a\u7ebf\u7a0b\u6b63\u5728\u7ed9\u5bf9\u8c61 A \u5206\u914d\u5185\u5b58\uff0c\u6307\u9488\u8fd8\u6ca1\u6765\u5f97\u53ca\u4fee\u6539\uff0c\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u521b\u5efa\u4e86\u5bf9\u8c61 B \u53c8\u540c\u65f6\u4f7f\u7528\u4e86\u539f\u6765\u7684\u6307\u9488\u6765\u5206\u914d\u5185\u5b58\u7684\u60c5\u51b5\u3002"),(0,l.kt)("p",null,"\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u6709\u4e24\u79cd\u53ef\u9009\u65b9\u6848\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u65b9\u6848 1\uff1a",(0,l.kt)("strong",{parentName:"li"},"CAS + \u5931\u8d25\u91cd\u8bd5"),"\uff1aCAS \u5927\u4f19\u5e94\u8be5\u90fd\u719f\u6089\uff0c\u6bd4\u8f83\u5e76\u4ea4\u6362\uff0c\u4e50\u89c2\u9501\u65b9\u6848\uff0c\u5982\u679c\u5931\u8d25\u5c31\u91cd\u8bd5\uff0c\u76f4\u5230\u6210\u529f\u4e3a\u6b62"),(0,l.kt)("li",{parentName:"ul"},"\u65b9\u6848 2\uff1a",(0,l.kt)("strong",{parentName:"li"},"\u672c\u5730\u7ebf\u7a0b\u5206\u914d\u7f13\u51b2"),"\uff08Thread Local Allocation Buffer\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"TLAB"),"\uff09\uff1a\u6bcf\u4e2a\u7ebf\u7a0b\u5728\u5806\u4e2d\u9884\u5148\u5206\u914d\u4e00\u5c0f\u5757\u5185\u5b58\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u62e5\u6709\u7684\u8fd9\u4e00\u5c0f\u5757\u5185\u5b58\u5c31\u79f0\u4e3a TLAB\u3002\u54ea\u4e2a\u7ebf\u7a0b\u8981\u5206\u914d\u5185\u5b58\u4e86\uff0c\u5c31\u5728\u54ea\u4e2a\u7ebf\u7a0b\u7684 TLAB \u4e2d\u8fdb\u884c\u5206\u914d\uff0c\u8fd9\u6837\u5404\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u4e92\u4e0d\u5e72\u6270\u3002\u5982\u679c\u67d0\u4e2a\u7ebf\u7a0b\u7684 TLAB  \u7528\u5b8c\u4e86\uff0c\u90a3\u4e48\u865a\u62df\u673a\u5c31\u9700\u8981\u4e3a\u5b83\u5206\u914d\u65b0\u7684 TLAB\uff0c\u8fd9\u65f6\u624d\u9700\u8981\u8fdb\u884c\u540c\u6b65\u9501\u5b9a\u3002\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"li"},"-XX\uff1a+/-UseTLAB")," \u53c2\u6570\u6765\u8bbe\u5b9a\u662f\u5426\u4f7f\u7528 TLAB\u3002")),(0,l.kt)("h3",{id:"\u5bf9\u8c61\u8bbf\u95ee\u65b9\u5f0f"},"\u5bf9\u8c61\u8bbf\u95ee\u65b9\u5f0f"),(0,l.kt)("p",null,"\u6216\u662f\u8fd9\u6837\u95ee\u4f60\uff1a\ud83d\udc69\u200d\ud83d\udcbb\u5bf9\u8c61\u7684\u8bbf\u95ee\u5b9a\u4f4d\u7684\u4e24\u79cd\u65b9\u5f0f\u77e5\u9053\u5417\uff1f\u5404\u6709\u4ec0\u4e48\u4f18\u7f3a\u70b9"),(0,l.kt)("h4",{id:"\u53e5\u67c4\u6c60"},"\u53e5\u67c4\u6c60"),(0,l.kt)("p",null,"\u5982\u679c\u4f7f\u7528\u53e5\u67c4\u7684\u8bdd\uff0c\u90a3\u4e48Java\u5806\u4e2d\u5c06\u4f1a\u5212\u5206\u51fa\u4e00\u5757\u5185\u5b58\u6765\u4f5c\u4e3a\u53e5\u67c4\u6c60\uff0creference \u4e2d\u5b58\u50a8\u7684\u5c31\u662f\u5bf9\u8c61\u7684\u53e5\u67c4\u5730\u5740\uff0c\u800c\u53e5\u67c4\u4e2d\u5305\u542b\u4e86\u5bf9\u8c61\u5b9e\u4f8b\u6570\u636e\u4e0e\u7c7b\u578b\u6570\u636e\u5404\u81ea\u7684\u5177\u4f53\u5730\u5740\u4fe1\u606f"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628152456384",src:n(31650).Z,width:"1168",height:"735"})),(0,l.kt)("p",null,"\u7f3a\u70b9 \u663e\u7136\u800c\u89c1 \u9700\u8981\u5355\u72ec\u5f00\u8f9f\u4e00\u5757\u7a7a\u95f4\u8bb0\u5f55\u53e5\u67c4\u6c60\u5b58\u50a8,\u5e76\u4e14\u8bbf\u95ee\u7684\u65f6\u5019\u9700\u8981\u4e2d\u8f6c \u8bbf\u95ee\u6548\u7387\u504f\u4f4e\u4e00\u70b9"),(0,l.kt)("p",null,"\u4f18\u70b9 \u5f53\u5bf9\u8c61\u6570\u636e\u53d8\u66f4\u7684\u65f6\u5019\u6bd4\u5982\u5783\u573e\u56de\u6536\u5668 \u9700\u8981\u6574\u7406\u5bf9\u8c61 \u9700\u8981\u79fb\u52a8\u590d\u5236\uff0cStack\u6808\u7a7a\u95f4\u4e2d\u7684\u5f15\u7528 \u662f\u4e0d\u9700\u8981\u4fee\u6539\u7684 \u53ea\u9700\u8981\u4fee\u6539\u53e5\u67c4\u6c60\u4e2d\u7684\u5f15\u7528"),(0,l.kt)("h4",{id:"\u76f4\u63a5\u5f15\u7528"},"\u76f4\u63a5\u5f15\u7528"),(0,l.kt)("p",null,"\u5982\u679c\u4f7f\u7528\u76f4\u63a5\u6307\u9488\u8bbf\u95ee\uff0c\u90a3\u4e48 Java \u5806\u5bf9\u8c61\u7684\u5e03\u5c40\u4e2d\u5c31\u5fc5\u987b\u8003\u8651\u5982\u4f55\u653e\u7f6e\u8bbf\u95ee\u7c7b\u578b\u6570\u636e\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u800creference \u4e2d\u5b58\u50a8\u7684\u76f4\u63a5\u5c31\u662f\u5bf9\u8c61\u7684\u5730\u5740\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628152505040",src:n(40700).Z,width:"1145",height:"701"})),(0,l.kt)("p",null,"\u7f3a\u70b9 \u5f53\u5bf9\u8c61\u6570\u636e\u53d8\u66f4\u5f15\u7528\u7684\u65f6\u5019 \u9700\u8981\u4fee\u6539Stack\u7684\u6307\u9488"),(0,l.kt)("p",null,"\u4f18\u70b9 \u4e0d\u9700\u8981\u989d\u5916\u7684\u5f00\u8f9f\u4e00\u5757\u7a7a\u95f4\u5b58\u50a8\u5f15\u7528\uff0c\u5728\u539f\u6709\u5bf9\u8c61\u5934\u4e2d\u6dfb\u52a0\u6307\u9488\u6307\u5411\u5373\u53ef\uff0c\u8bbf\u95ee\u5bf9\u8c61\u5b9e\u4f53\u6570\u636e\u7684\u65f6\u5019\u6548\u7387\u9ad8"),(0,l.kt)("h3",{id:"\u5b89\u5168\u70b9\u548c\u5b89\u5168\u533a\u5404\u4ee3\u8868\u4ec0\u4e48"},"\u5b89\u5168\u70b9\u548c\u5b89\u5168\u533a\u5404\u4ee3\u8868\u4ec0\u4e48\uff1f"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u672c\u8282\u5185\u5bb9\u6458\u81ea\u5468\u5fd7\u660e\u8001\u5e08\u7684\u300a\u6df1\u5165\u7406\u89e3Java\u865a\u62df\u673a\u300b\u5185\u5bb9")),(0,l.kt)("h4",{id:"oopmap"},"OopMap"),(0,l.kt)("p",null,"\u7531\u4e8e\u76ee\u524d\u4e3b\u6d41Java\u865a\u62df\u673a\u4f7f\u7528\u7684\u90fd\u662f\u51c6\u786e\u5f0f\u5783\u573e\u6536\u96c6\uff08\u8fd9\u4e2a\u6982\u5ff5\u5728\u7b2c1\u7ae0\u4ecb\u7ecdExact VM\u76f8\u5bf9\u4e8eClassic VM\u7684\u6539\u8fdb\u65f6\u4ecb\u7ecd\u8fc7\uff09\uff0c\u6240\u4ee5\u5f53\u7528\u6237\u7ebf\u7a0b\u505c\u987f\u4e0b\u6765\u4e4b\u540e\uff0c\u5176\u5b9e\u5e76\u4e0d\u9700\u8981\u4e00\u4e2a\u4e0d\u6f0f\u5730\u68c0\u67e5\u5b8c\u6240\u6709\u6267\u884c\u4e0a\u4e0b\u6587\u548c\u5168\u5c40\u7684\u5f15\u7528\u4f4d\u7f6e\uff0c\u865a\u62df\u673a\u5e94\u5f53\u662f\u6709\u529e\u6cd5\u76f4\u63a5\u5f97\u5230\u54ea\u4e9b\u5730\u65b9\u5b58\u653e\u7740\u5bf9\u8c61\u5f15\u7528\u7684\u3002\u5728HotSpot\u7684\u89e3\u51b3\u65b9\u6848\u91cc\uff0c\u662f\u4f7f\u7528\u4e00\u7ec4\u79f0\u4e3aOopMap\uff08Oop\u662f\u666e\u901a\u5bf9\u8c61\u6307\u9488\u7684\u610f\u601d\uff1aordinary object pointer\uff09\u7684\u6570\u636e\u7ed3\u6784\u6765\u8fbe\u5230\u8fd9\u4e2a\u76ee\u7684\u3002\u4e00\u65e6\u7c7b\u52a0\u8f7d\u52a8\u4f5c\u5b8c\u6210\u7684\u65f6\u5019\uff0cHotSpot\u5c31\u4f1a\u628a\u5bf9\u8c61\u5185\u4ec0\u4e48\u504f\u79fb\u91cf\u4e0a\u662f\u4ec0\u4e48\u7c7b\u578b\u7684\u6570\u636e\u8ba1\u7b97\u51fa\u6765\uff0c\u5728\u5373\u65f6\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\uff0c\u4e5f\u4f1a\u5728\u7279\u5b9a\u7684\u4f4d\u7f6e\u8bb0\u5f55\u4e0b\u6808\u91cc\u548c\u5bc4\u5b58\u5668\u91cc\u54ea\u4e9b\u4f4d\u7f6e\u662f\u5f15\u7528\u3002\u8fd9\u6837\u6536\u96c6\u5668\u5728\u626b\u63cf\u65f6\u5c31\u53ef\u4ee5\u76f4\u63a5\u5f97\u77e5\u8fd9\u4e9b\u4fe1\u606f\u4e86\uff0c\u5e76\u4e0d\u9700\u8981\u771f\u6b63\u4e00\u4e2a\u4e0d\u6f0f\u5730\u4ece\u65b9\u6cd5\u533a\u7b49GC Roots\u5f00\u59cb\u67e5\u627e\u3002\u56e0\u6b64\uff0c\u5728 HotSpot \u4e2d\u91c7\u53d6\u4e86\u7a7a\u95f4\u6362\u65f6\u95f4\u7684\u65b9\u6cd5\uff0c\u4f7f\u7528 OopMap \u6765\u5b58\u50a8\u6808\u4e0a\u7684\u5bf9\u8c61\u5f15\u7528\u7684\u4fe1\u606f\u3002"),(0,l.kt)("p",null,"\u5728 GC Roots \u679a\u4e3e\u65f6\uff0c\u53ea\u9700\u8981\u904d\u5386\u6bcf\u4e2a\u6808\u6862\u7684 OopMap\uff0c\u901a\u8fc7 OopMap \u5b58\u50a8\u7684\u4fe1\u606f\uff0c\u5feb\u6377\u5730\u627e\u5230 GC Roots\u3002"),(0,l.kt)("p",null,"OopMap \u4e2d\u5b58\u50a8\u4e86\u4e24\u79cd\u5bf9\u8c61\u7684\u5f15\u7528\uff1a"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u25c9 \u6808\u91cc\u548c\u5bc4\u5b58\u5668\u5185\u7684\u5f15\u7528\n\u5728\u5373\u65f6\u7f16\u8bd1\u4e2d\uff0c\u5728\u7279\u5b9a\u7684\u4f4d\u7f6e\u8bb0\u5f55\u4e0b\u6808\u91cc\u548c\u5bc4\u5b58\u5668\u91cc\u54ea\u4e9b\u4f4d\u7f6e\u662f\u5f15\u7528"),(0,l.kt)("p",{parentName:"blockquote"},"\u25c9 \u5bf9\u8c61\u5185\u7684\u5f15\u7528\n\u7c7b\u52a0\u8f7d\u52a8\u4f5c\u5b8c\u6210\u65f6\uff0cHotSpot \u5c31\u4f1a\u8ba1\u7b97\u51fa\u5bf9\u8c61\u5185\u4ec0\u4e48\u504f\u79fb\u91cf\u4e0a\u662f\u4ec0\u4e48\u7c7b\u578b\u7684\u6570\u636e\n\u6ce8\uff1a\u628a\u5b58\u50a8\u5355\u5143\u7684\u5b9e\u9645\u5730\u5740\u4e0e\u5176\u6240\u5728\u6bb5\u7684\u6bb5\u5730\u5740\u4e4b\u95f4\u7684\u8ddd\u79bb\u79f0\u4e3a\u6bb5\u5185\u504f\u79fb\uff0c\u4e5f\u79f0\u4e3a\u6709\u6548\u5730\u5740\u6216\u504f\u79fb\u91cf\uff0c\u56e0\u6b64\uff0c\u5b9e\u9645\u5730\u5740=\u6240\u5728\u6bb5\u7684\u8d77\u59cb\u5730\u5740+\u504f\u79fb\u91cf")),(0,l.kt)("p",null,"\u5728 JVM\u4e2d\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u4e3a\u4e00\u4e2a\u6808\uff0c\u4e00\u4e2a\u6808\u7531\u591a\u4e2a\u6808\u6862\u7ec4\u6210\uff0c\u4e00\u4e2a\u6808\u6862\u5bf9\u5e94\u4e00\u4e2a\u65b9\u6cd5\uff0c\u4e00\u4e2a\u6808\u5e27\u53ef\u80fd\u6709\u591a\u4e2a OopMap\u3002"),(0,l.kt)("p",null,"\u5047\u8bbe\uff0c\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u90fd\u53ea\u6709\u4e00\u4e2a OopMap\uff0c\u5e76\u4e14\u662f\u5728\u65b9\u6cd5\u8fd4\u56de\u4e4b\u524d\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// \u65b9\u6cd51\u5b58\u50a8\u5728\u6808\u5e273\npublic void testMethod1() {\n    // \u6808\u91cc\u548c\u5bc4\u5b58\u5668\u5185\u7684\u5f15\u7528\n    DemoD demoD = new DemoD();\n}\n\n// \u65b9\u6cd52\u5b58\u50a8\u5728\u6808\u5e278\npublic void testMethod2() {\n    // \u6808\u91cc\u548c\u5bc4\u5b58\u5668\u5185\u7684\u5f15\u7528\n    DemoA demoA = new DemoA();\n    // \u5bf9\u8c61\u5185\u7684\u5f15\u7528\n    demoA.setDemoC(new DemoC());\n    \n    // \u6808\u91cc\u548c\u5bc4\u5b58\u5668\u5185\u7684\u5f15\u7528\n    DemoA demoB = new DemoB();\n} \n")),(0,l.kt)("p",null,"\u90a3\u4e48 testMethod1() \u548c testMethod2() \u7684 OopMap \u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723173000230",src:n(92315).Z,width:"1019",height:"705"})),(0,l.kt)("h4",{id:"\u5b89\u5168\u70b9"},"\u5b89\u5168\u70b9"),(0,l.kt)("p",null,"\u5728 OopMap \u7684\u534f\u52a9\u4e0b\uff0cHotSpot \u53ef\u4ee5\u5feb\u901f\u5b8c\u6210\u6839\u8282\u70b9\u679a\u4e3e\u4e86\uff0c\u4f46\u4e00\u4e2a\u5f88\u73b0\u5b9e\u7684\u95ee\u9898\u968f\u4e4b\u800c\u6765\uff1a\u7531\u4e8e\u5f15\u7528\u5173\u7cfb\u53ef\u80fd\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u8fd9\u5c31\u4f1a\u5bfc\u81f4  OopMap \u5185\u5bb9\u53d8\u5316\u7684\u6307\u4ee4\u975e\u5e38\u591a\uff0c\u5982\u679c\u4e3a\u6bcf\u4e00\u6761\u6307\u4ee4\u90fd\u751f\u6210\u5bf9\u5e94\u7684  OopMap\uff0c\u90a3\u5c06\u4f1a\u9700\u8981\u5927\u91cf\u7684\u989d\u5916\u5b58\u50a8\u7a7a\u95f4\uff0c\u8fd9\u6837\u5783\u573e\u6536\u96c6\u4f34\u968f\u800c\u6765\u7684\u7a7a\u95f4\u6210\u672c\u5c31\u4f1a\u53d8\u5f97\u65e0\u6cd5\u5fcd\u53d7\u7684\u9ad8\u6602\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\u5b9e\u9645\u4e0a HotSpot \u4e5f\u786e\u5b9e\u6ca1\u6709\u4e3a\u6bcf\u6761\u6307\u4ee4\u90fd\u751f\u6210 OopMap\uff0c\u53ea\u662f\u5728 \u201c\u7279\u5b9a\u7684\u4f4d\u7f6e\u201d \u751f\u6210 OopMap\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u53ea\u6709\u5728\u67d0\u4e9b \u201d\u7279\u5b9a\u7684\u4f4d\u7f6e\u201c \u4e0a\u624d\u4f1a\u628a\u5bf9\u8c61\u5f15\u7528\u7684\u76f8\u5173\u4fe1\u606f\u7ed9\u8bb0\u5f55\u4e0b\u6765\uff0c\u8fd9\u4e9b\u4f4d\u7f6e\u4e5f\u88ab\u79f0\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u5b89\u5168\u70b9"),"\uff08Safepoint\uff09\u3002"),(0,l.kt)("p",null,"\u6709\u4e86\u5b89\u5168\u70b9\u7684\u8bbe\u5b9a\uff0c\u4e5f\u5c31\u51b3\u5b9a\u4e86\u7528\u6237\u7a0b\u5e8f\u6267\u884c\u65f6\u5e76\u4e0d\u662f\u968f\u4fbf\u54ea\u4e2a\u65f6\u5019\u90fd\u80fd\u591f\u505c\u987f\u4e0b\u6765\u5f00\u59cb GC \u7684\uff0c\u800c\u662f\u5f3a\u5236\u8981\u6c42",(0,l.kt)("strong",{parentName:"p"},"\u7a0b\u5e8f\u5fc5\u987b\u6267\u884c\u5230\u8fbe\u5b89\u5168\u70b9\u540e\u624d\u80fd\u591f\u8fdb\u884c GC"),"\uff08\u56e0\u4e3a\u4e0d\u5230\u8fbe\u5b89\u5168\u70b9\u8bdd\uff0c\u6ca1\u6709 OopMap\uff0c\u865a\u62df\u673a\u5c31\u6ca1\u6cd5\u5feb\u901f\u77e5\u9053\u5bf9\u8c61\u5f15\u7528\u7684\u4f4d\u7f6e\u5440\uff0c\u6ca1\u6cd5\u8fdb\u884c\u6839\u8282\u70b9\u679a\u4e3e\uff09\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220628203702554",src:n(73109).Z,width:"1296",height:"529"})),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5b89\u5168\u70b9\u7684\u8bbe\u5b9a\u65e2\u4e0d\u80fd\u592a\u5c11\u4ee5\u81f3\u4e8e\u8ba9\u5783\u573e\u6536\u96c6\u5668\u7b49\u5f85\u65f6\u95f4\u8fc7\u957f\uff0c\u4e5f\u4e0d\u80fd\u592a\u591a\u4ee5\u81f3\u4e8e\u9891\u7e41\u8fdb\u884c\u5783\u573e\u6536\u96c6\u4ece\u800c\u5bfc\u81f4\u8fd0\u884c\u65f6\u7684\u5185\u5b58\u8d1f\u8377\u5927\u5e45\u589e\u5927"),"\u3002\u6240\u4ee5\uff0c\u5b89\u5168\u70b9\u7684\u9009\u5b9a\u57fa\u672c\u4e0a\u662f\u4ee5 \u201c",(0,l.kt)("strong",{parentName:"p"},"\u662f\u5426\u5177\u6709\u8ba9\u7a0b\u5e8f\u957f\u65f6\u95f4\u6267\u884c\u7684\u7279\u5f81"),"\u201d \u4e3a\u6807\u51c6\u8fdb\u884c\u9009\u5b9a\u7684\uff0c\u6700\u5178\u578b\u7684\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u6307\u4ee4\u5e8f\u5217\u7684\u590d\u7528"),"\uff1a\u4f8b\u5982\u65b9\u6cd5\u8c03\u7528\u3001\u5faa\u73af\u8df3\u8f6c\u3001\u5f02\u5e38\u8df3\u8f6c\u7b49\uff0c\u6240\u4ee5\u53ea\u6709\u5177\u6709\u8fd9\u4e9b\u529f\u80fd\u7684\u6307\u4ee4\u624d\u4f1a\u4ea7\u751f\u5b89\u5168\u70b9\u3002"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u5b89\u5168\u70b9\uff0c\u53e6\u5916\u4e00\u4e2a\u9700\u8981\u8003\u8651\u7684\u95ee\u9898\u662f\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5982\u4f55\u5728 GC \u53d1\u751f\u65f6\u8ba9\u6240\u6709\u7528\u6237\u7ebf\u7a0b\u90fd\u6267\u884c\u5230\u6700\u8fd1\u7684\u5b89\u5168\u70b9\uff0c\u7136\u540e\u505c\u987f\u4e0b\u6765\u5462\uff1f"),"\u3002\u8fd9\u91cc\u6709\u4e24\u79cd\u65b9\u6848\u53ef\u4f9b\u9009\u62e9\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u62a2\u5148\u5f0f\u4e2d\u65ad"),"\uff08Preemptive Suspension\uff09\uff1a\u8fd9\u79cd\u601d\u8def\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u5728 GC \u53d1\u751f\u65f6\uff0c\u7cfb\u7edf\u5148\u628a\u6240\u6709\u7528\u6237\u7ebf\u7a0b\u5168\u90e8\u4e2d\u65ad\u6389\u3002\u7136\u540e\u5982\u679c\u53d1\u73b0\u6709\u7528\u6237\u7ebf\u7a0b\u4e2d\u65ad\u7684\u4f4d\u7f6e\u4e0d\u5728\u5b89\u5168\u70b9\u4e0a\uff0c\u5c31\u6062\u590d\u8fd9\u6761\u7ebf\u7a0b\u6267\u884c\uff0c\u76f4\u5230\u8dd1\u5230\u5b89\u5168\u70b9\u4e0a\u518d\u91cd\u65b0\u4e2d\u65ad\u3002"),(0,l.kt)("p",{parentName:"li"},"\u62a2\u5148\u5f0f\u4e2d\u65ad\u7684\u6700\u5927\u95ee\u9898\u662f\u65f6\u95f4\u6210\u672c\u7684\u4e0d\u53ef\u63a7\uff0c\u8fdb\u800c\u5bfc\u81f4\u6027\u80fd\u4e0d\u7a33\u5b9a\u548c\u541e\u5410\u91cf\u7684\u6ce2\u52a8\uff0c\u7279\u522b\u662f\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u8fd9\u662f\u975e\u5e38\u81f4\u547d\u7684\uff0c\u6240\u4ee5\u73b0\u5728\u51e0\u4e4e\u6ca1\u6709\u865a\u62df\u673a\u5b9e\u73b0\u91c7\u7528\u62a2\u5148\u5f0f\u4e2d\u65ad\u6765\u6682\u505c\u7ebf\u7a0b\u54cd\u5e94 GC \u4e8b\u4ef6")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u52a8\u5f0f\u4e2d\u65ad"),"\uff08Voluntary Suspension\uff09\uff1a\u4e3b\u52a8\u5f0f\u4e2d\u65ad\u4e0d\u4f1a\u76f4\u63a5\u4e2d\u65ad\u7ebf\u7a0b\uff0c\u800c\u662f\u5168\u5c40\u8bbe\u7f6e\u4e00\u4e2a\u6807\u5fd7\u4f4d\uff0c\u7528\u6237\u7ebf\u7a0b\u4f1a\u4e0d\u65ad\u7684\u8f6e\u8be2\u8fd9\u4e2a\u6807\u5fd7\u4f4d\uff0c\u5f53\u53d1\u73b0\u6807\u5fd7\u4f4d\u4e3a\u771f\u65f6\uff0c\u7ebf\u7a0b\u4f1a\u5728\u6700\u8fd1\u7684\u4e00\u4e2a\u5b89\u5168\u70b9\u4e3b\u52a8\u4e2d\u65ad\u6302\u8d77\u3002\u73b0\u5728\u7684\u865a\u62df\u673a\u57fa\u672c\u90fd\u662f\u7528\u8fd9\u79cd\u65b9\u5f0f"))),(0,l.kt)("h4",{id:"\u5b89\u5168\u533a\u57df-safe-region"},"\u5b89\u5168\u533a\u57df Safe Region"),(0,l.kt)("p",null,"\u5b89\u5168\u70b9\u673a\u5236\u4fdd\u8bc1\u4e86\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5728\u4e0d\u592a\u957f\u7684\u65f6\u95f4\u5185\u5c31\u4f1a\u9047\u5230\u53ef\u8fdb\u5165\u5783\u573e\u6536\u96c6\u8fc7\u7a0b\u7684\u5b89\u5168\u70b9\u3002"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u4e3b\u52a8\u5f0f\u4e2d\u65ad\u6765\u8bf4\uff0c\u7528\u6237\u7ebf\u7a0b\u9700\u8981\u4e0d\u65ad\u5730\u53bb\u8f6e\u8be2\u6807\u5fd7\u4f4d\uff0c\u90a3\u5bf9\u4e8e\u90a3\u4e9b\u5904\u4e8e sleep \u6216\u8005 blocked \u72b6\u6001\u7684\u7ebf\u7a0b\uff08\u4e0d\u5728\u6d3b\u8dc3\u72b6\u6001\u7684\u7ebf\u7a0b\uff09\u6765\u8bf4\u600e\u4e48\u529e\uff1f"),(0,l.kt)("p",null,"\u8fd9\u4e9b\u4e0d\u5728\u6d3b\u8dc3\u72b6\u6001\u7684\u7ebf\u7a0b\u6ca1\u6709\u83b7\u5f97 CPU \u65f6\u95f4\uff0c\u6ca1\u6cd5\u53bb\u8f6e\u8be2\u6807\u5fd7\u4f4d\uff0c\u81ea\u7136\u4e5f\u5c31\u6ca1\u6cd5\u627e\u5230\u6700\u8fd1\u7684\u5b89\u5168\u70b9\u4e3b\u52a8\u4e2d\u65ad\u6302\u8d77\u4e86\u3002"),(0,l.kt)("p",null,"\u6362\u53e5\u8bdd\u8bf4\uff0c\u5bf9\u4e8e\u8fd9\u4e9b\u4e0d\u6d3b\u8dc3\u7684\u7ebf\u7a0b\uff0c\u6211\u4eec\u6ca1\u6cd5\u638c\u63a7\u5b83\u4eec\u9192\u8fc7\u6765\u7684\u65f6\u95f4\u3002\u5f88\u53ef\u80fd\u5176\u4ed6\u7ebf\u7a0b\u90fd\u5df2\u7ecf\u901a\u8fc7\u8f6e\u8be2\u6807\u5fd7\u4f4d\u5230\u8fbe\u5b89\u5168\u70b9\u88ab\u4e2d\u65ad\u4e86\uff0c\u7136\u540e\u865a\u62df\u673a\u5f00\u59cb\u6839\u8282\u70b9\u679a\u4e3e\u4e86\uff08\u6839\u8282\u70b9\u679a\u4e3e\u9700\u8981\u6682\u505c\u6240\u6709\u7528\u6237\u7ebf\u7a0b\uff09\uff0c\u4f46\u662f\u8fd9\u65f6\u5019\u90a3\u4e9b\u672c\u4e0d\u6d3b\u8dc3\u7684\u7528\u6237\u7ebf\u7a0b\u53c8\u9192\u8fc7\u6765\u4e86\u5f00\u59cb\u6267\u884c\uff0c\u7834\u574f\u4e86\u5bf9\u8c61\u4e4b\u95f4\u7684\u5f15\u7528\u5173\u7cfb\uff0c\u90a3\u663e\u7136\u662f\u4e0d\u884c\u7684\u3002"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u8fd9\u79cd\u60c5\u51b5\uff0c\u5c31\u5fc5\u987b\u5f15\u5165",(0,l.kt)("strong",{parentName:"p"},"\u5b89\u5168\u533a\u57df"),"\uff08Safe Region\uff09\u6765\u89e3\u51b3\u3002"),(0,l.kt)("p",null,"\u5b89\u5168\u533a\u57df\u7684\u5b9a\u4e49\u662f\u8fd9\u6837\u7684\uff1a\u786e\u4fdd\u5728\u67d0\u4e00\u6bb5\u4ee3\u7801\u7247\u6bb5\u4e4b\u4e2d\uff0c\u5f15\u7528\u5173\u7cfb\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u56e0\u6b64\uff0c\u5728\u8fd9\u4e2a\u533a\u57df\u4e2d\u7684\u4efb\u610f\u5730\u65b9\u5f00\u59cb GC \u90fd\u662f\u5b89\u5168\u7684\u3002"),(0,l.kt)("p",null,"\u53ef\u4ee5\u7b80\u5355\u5730\u628a\u5b89\u5168\u533a\u57df\u770b\u4f5c",(0,l.kt)("strong",{parentName:"p"},"\u88ab\u62c9\u957f\u4e86\u7684\u5b89\u5168\u70b9"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5f53\u7528\u6237\u7ebf\u7a0b\u6267\u884c\u5230\u5b89\u5168\u533a\u57df\u91cc\u9762\u7684\u4ee3\u7801\u65f6\uff0c\u9996\u5148\u4f1a\u6807\u8bc6\u81ea\u5df1\u5df2\u7ecf\u8fdb\u5165\u4e86\u5b89\u5168\u533a\u57df\u3002\u90a3\u6837\u5f53\u8fd9\u6bb5\u65f6\u95f4\u91cc\u865a\u62df\u673a\u8981\u53d1\u8d77 GC  \u65f6\uff0c\u5c31\u4e0d\u5fc5\u53bb\u7ba1\u8fd9\u4e9b\u5728\u5b89\u5168\u533a\u57df\u5185\u7684\u7ebf\u7a0b\u4e86\u3002")),(0,l.kt)("p",null,"\u5f53\u5b89\u5168\u533a\u57df\u4e2d\u7684\u7ebf\u7a0b\u88ab\u5524\u9192\u5e76\u79bb\u5f00\u5b89\u5168\u533a\u57df\u65f6\uff0c\u5b83\u9700\u8981\u68c0\u67e5\u4e0b\u4e3b\u52a8\u5f0f\u4e2d\u65ad\u7b56\u7565\u7684\u6807\u5fd7\u4f4d\u662f\u5426\u4e3a\u771f\uff08\u865a\u62df\u673a\u662f\u5426\u5904\u4e8e  STW \u72b6\u6001"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e3a\u771f\u5219\u7ee7\u7eed\u6302\u8d77\u7b49\u5f85\uff08\u9632\u6b62\u6839\u8282\u70b9\u679a\u4e3e\u8fc7\u7a0b\u4e2d\u8fd9\u4e9b\u88ab\u5524\u9192\u7ebf\u7a0b\u7684\u6267\u884c\u7834\u574f\u4e86\u5bf9\u8c61\u4e4b\u95f4\u7684\u5f15\u7528\u5173\u7cfb\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e3a\u5047\u5219\u6807\u8bc6\u8fd8\u6ca1\u5f00\u59cb STW \u6216\u8005 STW \u521a\u521a\u7ed3\u675f\uff0c\u90a3\u4e48\u7ebf\u7a0b\u5c31\u53ef\u4ee5\u88ab\u5524\u9192\u7136\u540e\u7ee7\u7eed\u6267\u884c\u3002")),(0,l.kt)("h3",{id:"\u4e09\u8272\u6807\u8bb0\u6cd5"},"\u4e09\u8272\u6807\u8bb0\u6cd5"),(0,l.kt)("p",null,"\u53ef\u8fbe\u6027\u5206\u6790\u53ef\u4ee5\u5206\u6210\u4e24\u4e2a\u9636\u6bb5"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u6839\u8282\u70b9\u679a\u4e3e"),(0,l.kt)("li",{parentName:"ol"},"\u4ece\u6839\u8282\u70b9\u5f00\u59cb\u904d\u5386\u5bf9\u8c61\u56fe")),(0,l.kt)("p",null,"\u5728\u53ef\u8fbe\u6027\u5206\u6790\u4e2d\uff0c\u7b2c\u4e00\u9636\u6bb5 \u201d\u6839\u8282\u70b9\u679a\u4e3e\u201c \u662f\u5fc5\u987b STW  \u7684\uff0c\u4e0d\u7136\u5982\u679c\u5206\u6790\u8fc7\u7a0b\u4e2d\u7528\u6237\u8fdb\u7a0b\u8fd8\u5728\u8fd0\u884c\uff0c\u5c31\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6839\u8282\u70b9\u96c6\u5408\u7684\u5bf9\u8c61\u5f15\u7528\u5173\u7cfb\u4e0d\u65ad\u53d8\u5316\uff0c\u8fd9\u6837\u53ef\u8fbe\u6027\u5206\u6790\u7ed3\u679c\u7684\u51c6\u786e\u6027\u663e\u7136\u4e5f\u5c31\u65e0\u6cd5\u4fdd\u8bc1\u4e86\uff1b\u800c\u7b2c\u4e8c\u9636\u6bb5  \u201d\u4ece\u6839\u8282\u70b9\u5f00\u59cb\u904d\u5386\u5bf9\u8c61\u56fe\u201c\uff0c\u5982\u679c\u4e0d\u8fdb\u884c STW \u7684\u8bdd\uff0c\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u95ee\u9898\uff0c\u7531\u4e8e\u7b2c\u4e8c\u9636\u6bb5\u65f6\u95f4\u6bd4\u8f83\u957f\uff0c\u957f\u65f6\u95f4\u7684 STW  \u5f88\u5f71\u54cd\u6027\u80fd\uff0c\u6240\u4ee5\u5927\u4f6c\u4eec\u8bbe\u8ba1\u4e86\u4e00\u4e9b\u89e3\u51b3\u65b9\u6848\uff0c\u4ece\u800c\u4f7f\u5f97\u8fd9\u4e2a\u7b2c\u4e8c\u9636\u6bb5\u53ef\u4ee5\u4e0d\u7528 STW\uff0c\u5927\u5e45\u51cf\u5c11\u65f6\u95f4"),(0,l.kt)("h4",{id:"\u524d\u8a00"},"\u524d\u8a00"),(0,l.kt)("p",null,"\u4e8b\u5b9e\u4e0a\uff0cGC Roots \u76f8\u6bd4\u8d77\u6574\u4e2a Java \u5806\u4e2d\u5168\u90e8\u7684\u5bf9\u8c61\u6bd5\u7adf\u8fd8\u7b97\u662f\u6781\u5c11\u6570\uff0c\u4e14\u5728\u5404\u79cd\u4f18\u5316\u6280\u5de7\uff08\u6bd4\u5982 OopMap\uff09\u7684\u52a0\u6301\u4e0b\uff0c\u5b83\u5e26\u6765\u7684\u505c\u987f\u5df2\u7ecf\u662f\u975e\u5e38\u77ed\u6682\u4e14\u76f8\u5bf9\u56fa\u5b9a\u7684\u4e86\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u201c\u6839\u8282\u70b9\u679a\u4e3e\u201d \u9636\u6bb5\u7684\u505c\u987f\u65f6\u95f4\u4e0d\u4f1a\u968f\u7740\u5806\u5bb9\u91cf\u7684\u589e\u957f\u800c\u589e\u52a0"),"\u3002"),(0,l.kt)("p",null,"\u5f53\u6211\u4eec\u679a\u4e3e\u5b8c\u4e86\u6240\u6709\u7684 GC Roots\uff0c\u5c31\u5f97\u8fdb\u5165\u7b2c\u4e8c\u9636\u6bb5\u7ee7\u7eed\u5f80\u4e0b\u904d\u5386\u5bf9\u8c61\u56fe\u4e86\uff0c\u8fd9\u4e00\u6b65\u9aa4\u540c\u6837\u9700\u8981 STW\uff0c\u5e76\u4e14\u505c\u987f\u65f6\u95f4\u4e0e Java \u5806\u5bb9\u91cf\u76f4\u63a5\u6210\u6b63\u6bd4\u4f8b\u5173\u7cfb\uff1a\u5806\u8d8a\u5927\uff0c\u5b58\u50a8\u7684\u5bf9\u8c61\u8d8a\u591a\uff0c\u5bf9\u8c61\u56fe\u7ed3\u6784\u8d8a\u590d\u6742\uff0c\u8981\u6807\u8bb0\u66f4\u591a\u5bf9\u8c61\u800c\u4ea7\u751f\u7684\u505c\u987f\u65f6\u95f4\u81ea\u7136\u5c31\u66f4\u957f\uff0c\u8fd9\u662f\u7406\u6240\u5f53\u7136\u7684\u4e8b\u60c5"),(0,l.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u201c\u4ece\u6839\u8282\u70b9\u5f00\u59cb\u904d\u5386\u5bf9\u8c61\u56fe\u201d \u9636\u6bb5\u7684\u505c\u987f\u65f6\u95f4\u968f\u7740\u5806\u5bb9\u91cf\u7684\u589e\u957f\u800c\u589e\u52a0"),"\u3002"),(0,l.kt)("p",null,"\u8981\u77e5\u9053\u5305\u542b\u201c\u6807\u8bb0\u201d\u9636\u6bb5\uff08\u4e5f\u5c31\u662f\u53ef\u8fbe\u6027\u5206\u6790\uff09\u662f\u6240\u6709\u8ffd\u8e2a\u5f0f\u5783\u573e\u6536\u96c6\u7b97\u6cd5\u7684\u5171\u540c\u7279\u5f81\uff0c\u5982\u679c\u8fd9\u4e2a\u9636\u6bb5\u4f1a\u968f\u7740\u5806\u53d8\u5927\u800c\u7b49\u6bd4\u4f8b\u589e\u52a0\u505c\u987f\u65f6\u95f4\uff0c\u5176\u5f71\u54cd\u5c31\u4f1a\u6ce2\u53ca\u51e0\u4e4e\u6240\u6709\u7684\u5783\u573e\u6536\u96c6\u5668\u3002\u5982\u679c\u80fd\u591f\u51cf\u5c11\u8fd9\u90e8\u5206\u505c\u987f\u65f6\u95f4\u7684\u8bdd\uff0c\u90a3\u6536\u76ca\u4e5f\u5c06\u4f1a\u662f\u5de8\u5927\u7684"),(0,l.kt)("p",null,"\u60f3\u964d\u4f4e STW \u65f6\u95f4\u751a\u81f3\u662f\u907f\u514d STW\uff0c\u6211\u4eec\u5c31",(0,l.kt)("strong",{parentName:"p"},"\u8981\u5148\u641e\u6e05\u695a\u4e3a\u4ec0\u4e48\u5fc5\u987b\u5728\u4e00\u4e2a\u80fd\u4fdd\u969c\u4e00\u81f4\u6027\u7684\u5feb\u7167\u4e0a\u624d\u80fd\u8fdb\u884c\u5bf9\u8c61\u56fe\u7684\u904d\u5386"),"\uff1f"),(0,l.kt)("p",null,"\u4e3a\u4e86\u80fd\u89e3\u91ca\u6e05\u695a\u8fd9\u4e2a\u95ee\u9898\uff0c\u5927\u4f6c\u4eec\u5f15\u5165\u4e86\u4e09\u8272\u6807\u8bb0\u6cd5\uff08Tri-color Marking\uff09\u8fd9\u4e2a\u5de5\u5177"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e09\u8272\u6807\u8bb0\u6cd5\u53ea\u662f\u8f85\u52a9\u6211\u4eec\u5206\u6790\u7684\u5de5\u5177\uff0c\u5e76\u4e0d\u662f\u67d0\u4e2a\u5783\u573e\u6536\u96c6\u5668\u5177\u4f53\u4f7f\u7528\u7684\u7b97\u6cd5\uff01\uff01\uff01\uff01\uff01\u66f4\u4e0d\u662f\u964d\u4f4e STW \u65f6\u95f4 or \u6d88\u9664 STW \u7684\u65b9\u6cd5\uff0c\u5177\u4f53\u89e3\u51b3\u65b9\u6cd5\u4e0b\u9762\u8fd8\u4f1a\u4ecb\u7ecd"),(0,l.kt)("p",{parentName:"blockquote"},"\u5728\u8fd9\u91cc\uff0c\u4e09\u8272\u6807\u8bb0\u6cd5\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u641e\u6e05\u695a\u5728\u53ef\u8fbe\u6027\u5206\u6790\u7684\u7b2c\u4e8c\u9636\u6bb5\uff08\u4e5f\u5c31\u662f\u904d\u5386\u5bf9\u8c61\u56fe\uff09\uff0c\u5982\u679c\u7528\u6237\u7ebf\u7a0b\u548c\u5783\u573e\u6536\u96c6\u7ebf\u7a0b\u540c\u65f6\u8fdb\u884c\uff0c\u4f1a\u51fa\u73b0\u4ec0\u4e48\u95ee\u9898")),(0,l.kt)("h4",{id:"\u8f85\u52a9\u5206\u6790\u7684\u5de5\u5177\u4e09\u8272\u6807\u8bb0\u6cd5"},"\u8f85\u52a9\u5206\u6790\u7684\u5de5\u5177\uff1a\u4e09\u8272\u6807\u8bb0\u6cd5"),(0,l.kt)("p",null,"\u6240\u8c13\u4e09\u8272\u6807\u8bb0\u6cd5\uff0c\u5c31\u662f\u628a\u904d\u5386\u5bf9\u8c61\u56fe\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u5bf9\u8c61\uff0c\u6309\u7167 \u201c\u662f\u5426\u8bbf\u95ee\u8fc7\u201d \u8fd9\u4e2a\u6761\u4ef6\u6807\u8bb0\u6210\u4ee5\u4e0b\u4e09\u79cd\u989c\u8272\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u767d\u8272"),"\uff1a\u8868\u793a\u5bf9\u8c61\u5c1a\u672a\u88ab\u5783\u573e\u6536\u96c6\u5668\u8bbf\u95ee\u8fc7\u3002\u663e\u7136\u5728\u53ef\u8fbe\u6027\u5206\u6790\u521a\u521a\u5f00\u59cb\u7684\u9636\u6bb5\uff0c\u6240\u6709\u7684\u5bf9\u8c61\u90fd\u662f\u767d\u8272\u7684\uff0c\u82e5\u5728\u5206\u6790\u7ed3\u675f\u7684\u9636\u6bb5\uff0c\u4ecd\u7136\u662f\u767d\u8272\u7684\u5bf9\u8c61\uff0c\u5373\u4ee3\u8868\u4e0d\u53ef\u8fbe\uff08\u53ef\u8fbe\u6027\u5206\u6790\u5230\u4e0d\u4e86\u7684\u5bf9\u8c61\uff0c\u5c31\u662f\u6b7b\u4ea1\u5bf9\u8c61\uff0c\u9700\u8981\u88ab\u56de\u6536\uff09")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u9ed1\u8272"),"\uff1a\u8868\u793a\u5bf9\u8c61\u5df2\u7ecf\u88ab\u5783\u573e\u6536\u96c6\u5668\u8bbf\u95ee\u8fc7\uff0c\u4e14\u8fd9\u4e2a\u5bf9\u8c61\u7684\u6240\u6709\u5f15\u7528\u90fd\u5df2\u7ecf\u626b\u63cf\u8fc7\u3002\u9ed1\u8272\u7684\u5bf9\u8c61\u4ee3\u8868\u5df2\u7ecf\u626b\u63cf\u8fc7\uff0c\u5b83\u662f\u5b89\u5168\u5b58\u6d3b\u7684\uff0c\u5982\u679c\u6709\u5176\u4ed6\u5bf9\u8c61\u5f15\u7528\u6307\u5411\u4e86\u9ed1\u8272\u5bf9\u8c61\uff0c\u65e0\u987b\u91cd\u65b0\u626b\u63cf\u4e00\u904d\u3002\u9ed1\u8272\u5bf9\u8c61\u4e0d\u53ef\u80fd\u76f4\u63a5\uff08\u4e0d\u7ecf\u8fc7\u7070\u8272\u5bf9\u8c61\uff09\u6307\u5411\u67d0\u4e2a\u767d\u8272\u5bf9\u8c61\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u7070\u8272"),"\uff1a\u8868\u793a\u5bf9\u8c61\u5df2\u7ecf\u88ab\u5783\u573e\u6536\u96c6\u5668\u8bbf\u95ee\u8fc7\uff0c\u4f46\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u81f3\u5c11\u5b58\u5728\u4e00\u4e2a\u5f15\u7528\u8fd8\u6ca1\u6709\u88ab\u626b\u63cf\u8fc7"),(0,l.kt)("blockquote",{parentName:"li"},(0,l.kt)("p",{parentName:"blockquote"},"\u7070\u8272\u53ef\u80fd\u4e0d\u597d\u7406\u89e3\uff0c\u8fd9\u91cc\u4e3e\u4e2a\u4f8b\u5b50\uff1aA(GC roots) \u2192 B \u2192 C\uff0c\u5982\u679c B \u5df2\u7ecf\u88ab\u626b\u63cf\u8fc7\uff0c\u4f46\u662f B \u7684\u5f15\u7528 C \u8fd8\u6ca1\u6709\u88ab\u626b\u63cf\u8fc7\uff0c\u90a3\u4e48 B \u5c31\u662f\u7070\u8272\u7684\uff0cC \u7531\u4e8e\u8fd8\u6ca1\u6709\u88ab\u626b\u63cf\uff0c\u6240\u4ee5\u662f\u767d\u8272\u7684")))),(0,l.kt)("p",null,"\u6240\u4ee5\u5bf9\u8c61\u56fe\u904d\u5386\u7684\u8fc7\u7a0b\uff0c\u5176\u5b9e\u5c31\u662f\u7531\u7070\u8272\u4ece\u9ed1\u5411\u767d\u63a8\u8fdb\u7684\u8fc7\u7a0b\uff0c\u7070\u8272\u662f\u9ed1\u548c\u767d\u7684\u5206\u754c\u7ebf\u3002"),(0,l.kt)("p",null,"\u4e0b\u9762\u6211\u4eec\u5c31\u7528\u4e09\u8272\u6807\u8bb0\u6cd5\u6765\u5206\u6790\u4e0b\uff0c\u5982\u679c\u5728\u5bf9\u8c61\u56fe\u904d\u5386\u8fd9\u4e2a\u9636\u6bb5\u7528\u6237\u7ebf\u7a0b\u4e0e\u6536\u96c6\u5668\u5e76\u53d1\u5de5\u4f5c\u4f1a\u51fa\u73b0\u4ec0\u4e48\u95ee\u9898"),(0,l.kt)("h4",{id:"\u95ee\u9898-1\u6d6e\u52a8\u5783\u573e"},"\u95ee\u9898 1\uff1a\u6d6e\u52a8\u5783\u573e"),(0,l.kt)("p",null,"\u6240\u8c13\u6d6e\u52a8\u5783\u573e\uff0c\u5c31\u662f\u7531\u4e8e\u5783\u573e\u6536\u96c6\u548c\u7528\u6237\u7ebf\u7a0b\u662f\u5e76\u884c\u7684\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u5b9e\u9645\u5df2\u7ecf\u6b7b\u4ea1\u4e86\uff0c\u5df2\u7ecf\u6ca1\u6709\u5176\u4ed6\u4eba\u5f15\u7528\u5b83\u4e86\uff0c\u4f46\u662f",(0,l.kt)("strong",{parentName:"p"},"\u88ab\u5783\u573e\u6536\u96c6\u5668\u9519\u8bef\u5730\u6807\u8bb0\u6210\u4e86\u5b58\u6d3b\u5bf9\u8c61")),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff0ca \u5f15\u7528\u4e86 b\uff0c\u6b64\u65f6 b \u88ab\u626b\u63cf\u4e3a\u53ef\u8fbe\uff0c\u4f46\u662f\u7528\u6237\u7ebf\u7a0b\u968f\u540e\u53c8\u6267\u884c\u4e86 a.b = null\uff0c\u8fd9\u4e2a\u65f6\u5019\u5176\u5b9e b \u5df2\u7ecf\u662f\u6b7b\u4ea1\u7684\u5783\u573e\u5bf9\u8c61\u4e86\uff0c\u4f46\u662f\u7531\u4e8e",(0,l.kt)("strong",{parentName:"p"},"\u9ed1\u8272\u5bf9\u8c61\u4e0d\u4f1a\u88ab\u91cd\u65b0\u626b\u63cf"),"\uff0c\u6240\u4ee5\u5728\u5783\u573e\u6536\u96c6\u91cc b \u4f9d\u7136\u4f5c\u4e3a\u5b58\u6d3b\u5bf9\u8c61\u88ab\u6807\u8bb0\u6210\u9ed1\u8272\uff0c\u56e0\u6b64\u5c31\u6210\u4e86\u6d6e\u52a8\u5783\u573e\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725143217373",src:n(64114).Z,width:"1216",height:"847"})),(0,l.kt)("p",null,"\u6d6e\u52a8\u5783\u573e\u5f53\u7136\u4e0d\u662f\u4e00\u4ef6\u597d\u4e8b\uff0c\u4f46\u5176\u5b9e\u662f\u53ef\u4ee5\u5bb9\u5fcd\u7684\uff0c\u56e0\u4e3a\u8fd9\u53ea\u4e0d\u8fc7\u4ea7\u751f\u4e86\u4e00\u70b9\u9003\u8fc7\u672c\u6b21\u6536\u96c6\u7684\u6d6e\u52a8\u5783\u573e\u800c\u5df2\uff0c\u53cd\u6b63\u8fd8\u4f1a\u6709\u4e0b\u4e00\u6b21\u5783\u573e\u6536\u96c6\uff0c\u5230\u65f6\u5019\u5c31\u4f1a\u88ab\u6807\u8bb0\u4e3a\u5783\u573e\u88ab\u6e05\u7406\u6389\u4e86"),(0,l.kt)("h4",{id:"\u95ee\u9898-2\u5bf9\u8c61\u6d88\u5931"},"\u95ee\u9898 2\uff1a\u5bf9\u8c61\u6d88\u5931"),(0,l.kt)("p",null,"\u5bf9\u8c61\u6d88\u5931\u548c\u6d6e\u52a8\u5783\u573e\u6070\u6070\u76f8\u53cd\uff0c\u5bf9\u8c61\u6d88\u5931\u662f",(0,l.kt)("strong",{parentName:"p"},"\u628a\u539f\u672c\u5b58\u6d3b\u7684\u5bf9\u8c61\u9519\u8bef\u6807\u8bb0\u4e3a\u5df2\u6d88\u4ea1"),"\uff0c\u8fd9\u5c31\u662f\u975e\u5e38\u81f4\u547d\u7684\u540e\u679c\u4e86\uff0c\u7a0b\u5e8f\u80af\u5b9a\u4f1a\u56e0\u6b64\u53d1\u751f\u9519\u8bef\uff0c\u4e0b\u9762\u8868\u6f14\u793a\u4e86\u8fd9\u6837\u7684\u81f4\u547d\u9519\u8bef\u5177\u4f53\u662f\u5982\u4f55\u4ea7\u751f\u7684"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725143235602",src:n(22867).Z,width:"1022",height:"897"})),(0,l.kt)("p",null,"\u5982\u4e0a\u56fe\u6240\u793a\uff0cb -> c \u7684\u5f15\u7528\u88ab\u5207\u65ad\uff0c\u4f46\u540c\u65f6\u7528\u6237\u7ebf\u7a0b\u5efa\u7acb\u4e86\u4e00\u4e2a\u65b0\u7684\u4ece a -> c \u7684\u5f15\u7528\uff0c\u7531\u4e8e\u5df2\u7ecf\u904d\u5386\u5230\u4e86  b\uff0c\u4e0d\u53ef\u80fd\u518d\u56de\u53bb\u904d\u5386 a\uff08\u9ed1\u8272\u5bf9\u8c61\u4e0d\u4f1a\u88ab\u91cd\u65b0\u626b\u63cf\uff09\uff0c\u518d\u904d\u5386 c\uff0c\u6240\u4ee5\u8fd9\u4e2a c  \u5b9e\u9645\u662f\u5b58\u6d3b\u7684\u5bf9\u8c61\uff0c\u4f46\u7531\u4e8e\u6ca1\u6709\u88ab\u5783\u573e\u6536\u96c6\u5668\u626b\u63cf\u5230\uff0c\u88ab\u9519\u8bef\u5730\u6807\u8bb0\u6210\u4e86\u767d\u8272\u3002"),(0,l.kt)("p",null,"\u603b\u7ed3\u4e0b\u5bf9\u8c61\u6d88\u5931\u95ee\u9898\u7684\u4e24\u4e2a\u6761\u4ef6\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u63d2\u5165\u4e86\u4e00\u6761\u6216\u591a\u6761\u4ece\u9ed1\u8272\u5bf9\u8c61\u5230\u767d\u8272\u5bf9\u8c61\u7684\u65b0\u5f15\u7528"),(0,l.kt)("li",{parentName:"ol"},"\u5220\u9664\u4e86\u5168\u90e8\u4ece\u7070\u8272\u5bf9\u8c61\u5230\u8be5\u767d\u8272\u5bf9\u8c61\u7684\u76f4\u63a5\u6216\u95f4\u63a5\u5f15\u7528")),(0,l.kt)("p",null,"Wilson \u4e8e 1994 \u5e74\u5728\u7406\u8bba\u4e0a\u8bc1\u660e\u4e86\uff0c\u5f53\u4e14\u4ec5\u5f53\u4ee5\u4e0a\u4e24\u4e2a\u6761\u4ef6\u540c\u65f6\u6ee1\u8db3\u65f6\uff0c\u624d\u4f1a\u4ea7\u751f \u201c\u5bf9\u8c61\u6d88\u5931\u201d \u7684\u95ee\u9898\uff0c\u5373\u539f\u672c\u5e94\u8be5\u662f\u9ed1\u8272\u7684\u5bf9\u8c61\u88ab\u8bef\u6807\u4e3a\u767d\u8272"),(0,l.kt)("h4",{id:"\u904d\u5386\u5bf9\u8c61\u56fe\u4e0d\u9700\u8981-stw-\u7684\u89e3\u51b3\u65b9\u6848"},"\u904d\u5386\u5bf9\u8c61\u56fe\u4e0d\u9700\u8981 STW \u7684\u89e3\u51b3\u65b9\u6848"),(0,l.kt)("p",null,"\u5982\u4e0a\u6240\u8ff0\uff0c\u5982\u679c\u904d\u5386\u5bf9\u8c61\u56fe\u7684\u8fc7\u7a0b\u4e0d STW \u7684\u8bdd\uff0c\u7b2c\u4e00\u4e2a\u6d6e\u52a8\u5783\u573e\u7684\u95ee\u9898\u5f88\u597d\u5904\u7406\uff0c\u4f46\u662f\u7b2c\u4e8c\u4e2a\u5bf9\u8c61\u6d88\u5931\u95ee\u9898\u5c31\u5f88\u68d8\u624b\u4e86\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\u5462\uff0c\u904d\u5386\u5bf9\u8c61\u56fe\u7684\u8fc7\u7a0b\u53c8\u5b9e\u5728\u592a\u957f\uff0c\u8bbe\u8ba1 JVM \u7684\u5927\u4f6c\u4eec\u4e0d\u5f97\u4e0d\u60f3\u51fa\u4e00\u4e9b\u529e\u6cd5\u6765\u89e3\u51b3\u5bf9\u8c61\u6d88\u5931\u95ee\u9898\uff0c\u4f7f\u5f97\u5728\u904d\u5386\u5bf9\u8c61\u56fe\u7684\u8fc7\u7a0b\u4e2d\u4e0d\u7528\u8fdb\u884c STW\uff08\u4e5f\u5c31\u662f\u7528\u6237\u7ebf\u7a0b\u548c\u5bf9\u8c61\u7ebf\u7a0b\u53ef\u4ee5\u540c\u65f6\u5de5\u4f5c\uff09\uff0c\u4ece\u800c\u63d0\u5347\u53ef\u8fbe\u6027\u5206\u6790\u7684\u6548\u7387"),(0,l.kt)("p",null,"\u4e0a\u9762\u603b\u7ed3\u4e86\u5bf9\u8c61\u6d88\u5931\u95ee\u9898\u7684\u4e24\u4e2a\u6761\u4ef6\uff0c\u6240\u4ee5\u8bf4\uff0c\u5982\u679c\u6211\u4eec\u60f3\u8981\u89e3\u51b3\u5e76\u53d1\u626b\u63cf\u65f6\u7684\u5bf9\u8c61\u6d88\u5931\u95ee\u9898\uff0c\u53ea\u9700\u7834\u574f\u8fd9\u4e24\u4e2a\u6761\u4ef6\u7684\u4efb\u610f\u4e00\u4e2a\u5373\u53ef\u3002\u7531\u6b64\u5206\u522b\u4ea7\u751f\u4e86\u4e24\u79cd\u89e3\u51b3\u65b9\u6848\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u589e\u91cf\u66f4\u65b0"),"\uff08Incremental Update\uff09\uff1a\u589e\u91cf\u66f4\u65b0\u7834\u574f\u7684\u662f\u7b2c\u4e00\u4e2a\u6761\u4ef6\uff0c\u5f53\u9ed1\u8272\u5bf9\u8c61\u63d2\u5165\u65b0\u7684\u6307\u5411\u767d\u8272\u5bf9\u8c61\u7684\u5f15\u7528\u5173\u7cfb\u65f6\uff08\u5c31\u662f\u4e0a\u56fe\u4e2d\u7684 a -> c  \u5f15\u7528\u5173\u7cfb\uff09\uff0c\u5c31\u5c06\u8fd9\u4e2a\u65b0\u63d2\u5165\u7684\u5f15\u7528\u8bb0\u5f55\u4e0b\u6765\uff0c\u7b49\u5e76\u53d1\u626b\u63cf\u7ed3\u675f\u4e4b\u540e\uff0c\u518d\u5c06\u8fd9\u4e9b\u8bb0\u5f55\u8fc7\u7684\u5f15\u7528\u5173\u7cfb\u4e2d\u7684\u9ed1\u8272\u5bf9\u8c61\uff08a\uff09\u4e3a\u6839\uff0c\u91cd\u65b0\u626b\u63cf\u4e00\u6b21\u3002\u8fd9\u53ef\u4ee5\u7b80\u5316\u7406\u89e3\u4e3a\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u9ed1\u8272\u5bf9\u8c61\u4e00\u65e6\u65b0\u63d2\u5165\u4e86\u6307\u5411\u767d\u8272\u5bf9\u8c61\u7684\u5f15\u7528\u4e4b\u540e\uff0c\u5b83\u5c31\u53d8\u56de\u7070\u8272\u5bf9\u8c61\u4e86"),"\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u539f\u59cb\u5feb\u7167"),"\uff08Snapshot At The Beginning\uff0cSATB\uff09\uff1a\u539f\u59cb\u5feb\u7167\u8981\u7834\u574f\u7684\u662f\u7b2c\u4e8c\u4e2a\u6761\u4ef6\uff0c\u5f53\u7070\u8272\u5bf9\u8c61\u8981\u5220\u9664\u6307\u5411\u767d\u8272\u5bf9\u8c61\u7684\u5f15\u7528\u5173\u7cfb\u65f6\uff08\u4e0a\u56fe\u4e2d\u7684 b -> c  \u5f15\u7528\u5173\u7cfb\uff09\uff0c\u5c31\u5c06\u8fd9\u4e2a\u8981\u5220\u9664\u7684\u5f15\u7528\u8bb0\u5f55\u4e0b\u6765\uff0c\u5728\u5e76\u53d1\u626b\u63cf\u7ed3\u675f\u4e4b\u540e\uff0c\u518d\u5c06\u8fd9\u4e9b\u8bb0\u5f55\u8fc7\u7684\u5f15\u7528\u5173\u7cfb\u4e2d\u7684\u7070\u8272\u5bf9\u8c61\uff08b\uff09\u4e3a\u6839\uff0c\u91cd\u65b0\u626b\u63cf\u4e00\u6b21\u3002\u8fd9\u4e5f\u53ef\u4ee5\u7b80\u5316\u7406\u89e3\u4e3a\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u65e0\u8bba\u5f15\u7528\u5173\u7cfb\u5220\u9664\u4e0e\u5426\uff0c\u90fd\u4f1a\u6309\u7167\u521a\u521a\u5f00\u59cb\u626b\u63cf\u90a3\u4e00\u523b\u7684\u5bf9\u8c61\u56fe\u5feb\u7167\u6765\u8fdb\u884c\u641c\u7d22"),"\u3002")),(0,l.kt)("p",null,"\u5728 HotSpot \u865a\u62df\u673a\u4e2d\uff0c\u589e\u91cf\u66f4\u65b0\u548c\u539f\u59cb\u5feb\u7167\u8fd9\u4e24\u79cd\u89e3\u51b3\u65b9\u6848\u90fd\u6709\u5b9e\u9645\u5e94\u7528\uff0cCMS \u662f\u57fa\u4e8e\u589e\u91cf\u66f4\u65b0\u6765\u505a\u5e76\u53d1\u6807\u8bb0\u7684\uff0cG1\u3001Shenandoah \u5219\u662f\u7528\u539f\u59cb\u5feb\u7167\u6765\u5b9e\u73b0"),(0,l.kt)("h3",{id:"\u4ec0\u4e48\u662f\u5b57\u8282\u7801\u7c7b\u6587\u4ef6\u7ed3\u6784\u7684\u7ec4\u6210\u4e86\u89e3\u5417"},"\u4ec0\u4e48\u662f\u5b57\u8282\u7801\uff1f\u7c7b\u6587\u4ef6\u7ed3\u6784\u7684\u7ec4\u6210\u4e86\u89e3\u5417\uff1f"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Java \u5b57\u8282\u7801"),"\uff08\u82f1\u8bed\uff1aJava bytecode\uff09\u662f",(0,l.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/Java%E8%99%9A%E6%8B%9F%E6%9C%BA"},"Java\u865a\u62df\u673a"),"\u6267\u884c\u7684\u4e00\u79cd",(0,l.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/%E6%8C%87%E4%BB%A4"},"\u6307\u4ee4"),"\u683c\u5f0f\u3002\u5927\u591a\u6570",(0,l.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/w/index.php?title=%E6%93%8D%E4%BD%9C%E7%A0%81&action=edit&redlink=1"},"\u64cd\u4f5c\u7801"),"\u90fd\u662f\u4e00\u4e2a",(0,l.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/%E5%AD%97%E8%8A%82"},"\u5b57\u8282"),"\u957f\uff0c\u800c\u6709\u4e9b\u64cd\u4f5c\u9700\u8981\u53c2\u6570\uff0c\u5bfc\u81f4\u4e86\u6709\u4e00\u4e9b\u591a\u5b57\u8282\u7684\u64cd\u4f5c\u7801\u3002\u800c\u4e14\u5e76\u4e0d\u662f\u6240\u6709\u53ef\u80fd\u7684256\u4e2a\u64cd\u4f5c\u7801\u90fd\u88ab\u4f7f\u7528\uff1b\u5176\u4e2d\u670951\u4e2a\u64cd\u4f5c\u7801\u88ab\u4fdd\u7559\u505a\u5c06\u6765\u4f7f\u7528\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u539f\u59cb",(0,l.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/Java%E5%B9%B3%E5%8F%B0"},"Java\u5e73\u53f0"),"\u5f00\u53d1\u5546\uff0c",(0,l.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/%E6%98%87%E9%99%BD%E5%BE%AE%E7%B3%BB%E7%B5%B1"},"\u592a\u9633\u5fae\u7cfb\u7edf"),"\uff0c\u989d\u5916\u4fdd\u7559\u4e863\u4e2a\u4ee3\u7801\u6c38\u4e45\u4e0d\u4f7f\u7528\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e00\u4e2a",(0,l.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/Java"},"Java"),"\u7a0b\u5e8f\u5458\u5e76\u4e0d\u9700\u8981\u7406\u89e3\u6240\u6709\u7684Java\u5b57\u8282\u7801\u3002\u4f46\u662f\uff0c\u5c31\u50cf",(0,l.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/IBM"},"IBM")," developerWorks\u5468\u520a\u5efa\u8bae\u7684\u90a3\u6837\uff1a\u201c\u7406\u89e3\u5b57\u8282\u7801\u4ee5\u53ca\u7406\u89e3Java\u7f16\u8bd1\u5668\u5982\u4f55\u751f\u6210Java\u5b57\u8282\u7801\u4e0e\u5b66\u4e60",(0,l.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80"},"\u6c47\u7f16"),"\u77e5\u8bc6\u5bf9\u4e8e",(0,l.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/C"},"C"),"/",(0,l.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/C%2B%2B"},"C++"),"\u7a0b\u5e8f\u5458\u6709\u4e00\u6837\u7684\u610f\u4e49\u3002\u201d")),(0,l.kt)("h4",{id:"class-\u6587\u4ef6\u7ed3\u6784\u603b\u7ed3"},"Class \u6587\u4ef6\u7ed3\u6784\u603b\u7ed3"),(0,l.kt)("p",null,"\u6839\u636e Java \u865a\u62df\u673a\u89c4\u8303\uff0cClass \u6587\u4ef6\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"ClassFile")," \u5b9a\u4e49\uff0c\u6709\u70b9\u7c7b\u4f3c C \u8bed\u8a00\u7684\u7ed3\u6784\u4f53\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ClassFile")," \u7684\u7ed3\u6784\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"ClassFile {\n    u4             magic; //Class \u6587\u4ef6\u7684\u6807\u5fd7\n    u2             minor_version;//Class \u7684\u5c0f\u7248\u672c\u53f7\n    u2             major_version;//Class \u7684\u5927\u7248\u672c\u53f7\n    u2             constant_pool_count;//\u5e38\u91cf\u6c60\u7684\u6570\u91cf\n    cp_info        constant_pool[constant_pool_count-1];//\u5e38\u91cf\u6c60\n    u2             access_flags;//Class \u7684\u8bbf\u95ee\u6807\u8bb0\n    u2             this_class;//\u5f53\u524d\u7c7b\n    u2             super_class;//\u7236\u7c7b\n    u2             interfaces_count;//\u63a5\u53e3\n    u2             interfaces[interfaces_count];//\u4e00\u4e2a\u7c7b\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u63a5\u53e3\n    u2             fields_count;//Class \u6587\u4ef6\u7684\u5b57\u6bb5\u5c5e\u6027\n    field_info     fields[fields_count];//\u4e00\u4e2a\u7c7b\u53ef\u4ee5\u6709\u591a\u4e2a\u5b57\u6bb5\n    u2             methods_count;//Class \u6587\u4ef6\u7684\u65b9\u6cd5\u6570\u91cf\n    method_info    methods[methods_count];//\u4e00\u4e2a\u7c7b\u53ef\u4ee5\u6709\u4e2a\u591a\u4e2a\u65b9\u6cd5\n    u2             attributes_count;//\u6b64\u7c7b\u7684\u5c5e\u6027\u8868\u4e2d\u7684\u5c5e\u6027\u6570\n    attribute_info attributes[attributes_count];//\u5c5e\u6027\u8868\u96c6\u5408\n}\n")),(0,l.kt)("p",null,"\u901a\u8fc7\u5206\u6790 ",(0,l.kt)("inlineCode",{parentName:"p"},"ClassFile")," \u7684\u5185\u5bb9\uff0c\u6211\u4eec\u4fbf\u53ef\u4ee5\u77e5\u9053 class \u6587\u4ef6\u7684\u7ec4\u6210\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723173831486",src:n(73524).Z,width:"2212",height:"1583"})),(0,l.kt)("p",null,"\u4e0b\u9762\u8fd9\u5f20\u56fe\u662f\u901a\u8fc7 IDEA \u63d2\u4ef6 ",(0,l.kt)("inlineCode",{parentName:"p"},"jclasslib")," \u67e5\u770b\u7684\uff0c\u4f60\u53ef\u4ee5\u66f4\u76f4\u89c2\u770b\u5230 Class \u6587\u4ef6\u7ed3\u6784\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723173839688",src:n(47584).Z,width:"967",height:"393"})),(0,l.kt)("p",null,"\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"jclasslib")," \u4e0d\u5149\u53ef\u4ee5\u76f4\u89c2\u5730\u67e5\u770b\u67d0\u4e2a\u7c7b\u5bf9\u5e94\u7684\u5b57\u8282\u7801\u6587\u4ef6\uff0c\u8fd8\u53ef\u4ee5\u67e5\u770b\u7c7b\u7684\u57fa\u672c\u4fe1\u606f\u3001\u5e38\u91cf\u6c60\u3001\u63a5\u53e3\u3001\u5c5e\u6027\u3001\u51fd\u6570\u7b49\u4fe1\u606f\u3002"),(0,l.kt)("p",null,"\u4e0b\u9762\u8be6\u7ec6\u4ecb\u7ecd\u4e00\u4e0b Class \u6587\u4ef6\u7ed3\u6784\u6d89\u53ca\u5230\u7684\u4e00\u4e9b\u7ec4\u4ef6\u3002"),(0,l.kt)("h4",{id:"\u9b54\u6570magic-number"},"\u9b54\u6570\uff08Magic Number\uff09"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"    u4             magic; //Class \u6587\u4ef6\u7684\u6807\u5fd7\n")),(0,l.kt)("p",null,"\u6bcf\u4e2a Class \u6587\u4ef6\u7684\u5934 4 \u4e2a\u5b57\u8282\u79f0\u4e3a\u9b54\u6570\uff08Magic Number\uff09,\u5b83\u7684\u552f\u4e00\u4f5c\u7528\u662f",(0,l.kt)("strong",{parentName:"p"},"\u786e\u5b9a\u8fd9\u4e2a\u6587\u4ef6\u662f\u5426\u4e3a\u4e00\u4e2a\u80fd\u88ab\u865a\u62df\u673a\u63a5\u6536\u7684 Class \u6587\u4ef6"),"\u3002"),(0,l.kt)("p",null,"\u7a0b\u5e8f\u8bbe\u8ba1\u8005\u5f88\u591a\u65f6\u5019\u90fd\u559c\u6b22\u7528\u4e00\u4e9b\u7279\u6b8a\u7684\u6570\u5b57\u8868\u793a\u56fa\u5b9a\u7684\u6587\u4ef6\u7c7b\u578b\u6216\u8005\u5176\u5b83\u7279\u6b8a\u7684\u542b\u4e49\u3002"),(0,l.kt)("h4",{id:"class-\u6587\u4ef6\u7248\u672c\u53f7minormajor-version"},"Class \u6587\u4ef6\u7248\u672c\u53f7\uff08Minor&Major Version\uff09"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"    u2             minor_version;//Class \u7684\u5c0f\u7248\u672c\u53f7\n    u2             major_version;//Class \u7684\u5927\u7248\u672c\u53f7\n")),(0,l.kt)("p",null,"\u7d27\u63a5\u7740\u9b54\u6570\u7684\u56db\u4e2a\u5b57\u8282\u5b58\u50a8\u7684\u662f Class \u6587\u4ef6\u7684\u7248\u672c\u53f7\uff1a\u7b2c 5 \u548c\u7b2c 6 \u4f4d\u662f",(0,l.kt)("strong",{parentName:"p"},"\u6b21\u7248\u672c\u53f7"),"\uff0c\u7b2c 7 \u548c\u7b2c 8 \u4f4d\u662f",(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u7248\u672c\u53f7"),"\u3002"),(0,l.kt)("p",null,"\u6bcf\u5f53 Java \u53d1\u5e03\u5927\u7248\u672c\uff08\u6bd4\u5982 Java 8\uff0cJava9\uff09\u7684\u65f6\u5019\uff0c\u4e3b\u7248\u672c\u53f7\u90fd\u4f1a\u52a0 1\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"javap -v")," \u547d\u4ee4\u6765\u5feb\u901f\u67e5\u770b Class \u6587\u4ef6\u7684\u7248\u672c\u53f7\u4fe1\u606f\u3002"),(0,l.kt)("p",null,"\u9ad8\u7248\u672c\u7684 Java \u865a\u62df\u673a\u53ef\u4ee5\u6267\u884c\u4f4e\u7248\u672c\u7f16\u8bd1\u5668\u751f\u6210\u7684 Class \u6587\u4ef6\uff0c\u4f46\u662f\u4f4e\u7248\u672c\u7684 Java \u865a\u62df\u673a\u4e0d\u80fd\u6267\u884c\u9ad8\u7248\u672c\u7f16\u8bd1\u5668\u751f\u6210\u7684 Class \u6587\u4ef6\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u5728\u5b9e\u9645\u5f00\u53d1\u7684\u65f6\u5019\u8981\u786e\u4fdd\u5f00\u53d1\u7684\u7684 JDK \u7248\u672c\u548c\u751f\u4ea7\u73af\u5883\u7684 JDK \u7248\u672c\u4fdd\u6301\u4e00\u81f4\u3002"),(0,l.kt)("h4",{id:"\u5e38\u91cf\u6c60constant-pool"},"\u5e38\u91cf\u6c60\uff08Constant Pool\uff09"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"    u2             constant_pool_count;//\u5e38\u91cf\u6c60\u7684\u6570\u91cf\n    cp_info        constant_pool[constant_pool_count-1];//\u5e38\u91cf\u6c60\n")),(0,l.kt)("p",null,"\u7d27\u63a5\u7740\u4e3b\u6b21\u7248\u672c\u53f7\u4e4b\u540e\u7684\u662f\u5e38\u91cf\u6c60\uff0c\u5e38\u91cf\u6c60\u7684\u6570\u91cf\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"constant_pool_count-1"),"\uff08",(0,l.kt)("strong",{parentName:"p"},"\u5e38\u91cf\u6c60\u8ba1\u6570\u5668\u662f\u4ece 1 \u5f00\u59cb\u8ba1\u6570\u7684\uff0c\u5c06\u7b2c 0 \u9879\u5e38\u91cf\u7a7a\u51fa\u6765\u662f\u6709\u7279\u6b8a\u8003\u8651\u7684\uff0c\u7d22\u5f15\u503c\u4e3a 0 \u4ee3\u8868\u201c\u4e0d\u5f15\u7528\u4efb\u4f55\u4e00\u4e2a\u5e38\u91cf\u6c60\u9879\u201d"),"\uff09\u3002"),(0,l.kt)("p",null,"\u5e38\u91cf\u6c60\u4e3b\u8981\u5b58\u653e\u4e24\u5927\u5e38\u91cf\uff1a\u5b57\u9762\u91cf\u548c\u7b26\u53f7\u5f15\u7528\u3002\u5b57\u9762\u91cf\u6bd4\u8f83\u63a5\u8fd1\u4e8e Java \u8bed\u8a00\u5c42\u9762\u7684\u7684\u5e38\u91cf\u6982\u5ff5\uff0c\u5982\u6587\u672c\u5b57\u7b26\u4e32\u3001\u58f0\u660e\u4e3a final \u7684\u5e38\u91cf\u503c\u7b49\u3002\u800c\u7b26\u53f7\u5f15\u7528\u5219\u5c5e\u4e8e\u7f16\u8bd1\u539f\u7406\u65b9\u9762\u7684\u6982\u5ff5\u3002\u5305\u62ec\u4e0b\u9762\u4e09\u7c7b\u5e38\u91cf\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7c7b\u548c\u63a5\u53e3\u7684\u5168\u9650\u5b9a\u540d"),(0,l.kt)("li",{parentName:"ul"},"\u5b57\u6bb5\u7684\u540d\u79f0\u548c\u63cf\u8ff0\u7b26"),(0,l.kt)("li",{parentName:"ul"},"\u65b9\u6cd5\u7684\u540d\u79f0\u548c\u63cf\u8ff0\u7b26")),(0,l.kt)("p",null,"\u5e38\u91cf\u6c60\u4e2d\u6bcf\u4e00\u9879\u5e38\u91cf\u90fd\u662f\u4e00\u4e2a\u8868\uff0c\u8fd9 14 \u79cd\u8868\u6709\u4e00\u4e2a\u5171\u540c\u7684\u7279\u70b9\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u5f00\u59cb\u7684\u7b2c\u4e00\u4f4d\u662f\u4e00\u4e2a u1 \u7c7b\u578b\u7684\u6807\u5fd7\u4f4d -tag \u6765\u6807\u8bc6\u5e38\u91cf\u7684\u7c7b\u578b\uff0c\u4ee3\u8868\u5f53\u524d\u8fd9\u4e2a\u5e38\u91cf\u5c5e\u4e8e\u54ea\u79cd\u5e38\u91cf\u7c7b\u578b\uff0e")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:"center"},"\u6807\u5fd7\uff08tag\uff09"),(0,l.kt)("th",{parentName:"tr",align:"center"},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"CONSTANT_utf8_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"1"),(0,l.kt)("td",{parentName:"tr",align:"center"},"UTF-8 \u7f16\u7801\u7684\u5b57\u7b26\u4e32")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"CONSTANT_Integer_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"3"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u6574\u5f62\u5b57\u9762\u91cf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"CONSTANT_Float_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"4"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u6d6e\u70b9\u578b\u5b57\u9762\u91cf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"CONSTANT_Long_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\uff15"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u957f\u6574\u578b\u5b57\u9762\u91cf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"CONSTANT_Double_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\uff16"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u578b\u5b57\u9762\u91cf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"CONSTANT_Class_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\uff17"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u7c7b\u6216\u63a5\u53e3\u7684\u7b26\u53f7\u5f15\u7528")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"CONSTANT_String_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\uff18"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u5b57\u7b26\u4e32\u7c7b\u578b\u5b57\u9762\u91cf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"CONSTANT_Fieldref_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\uff19"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u5b57\u6bb5\u7684\u7b26\u53f7\u5f15\u7528")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"CONSTANT_Methodref_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"10"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u7c7b\u4e2d\u65b9\u6cd5\u7684\u7b26\u53f7\u5f15\u7528")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"CONSTANT_InterfaceMethodref_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"11"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u63a5\u53e3\u4e2d\u65b9\u6cd5\u7684\u7b26\u53f7\u5f15\u7528")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"CONSTANT_NameAndType_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"12"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u5b57\u6bb5\u6216\u65b9\u6cd5\u7684\u7b26\u53f7\u5f15\u7528")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"CONSTANT_MothodType_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"16"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u6807\u5fd7\u65b9\u6cd5\u7c7b\u578b")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"CONSTANT_MethodHandle_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"15"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u8868\u793a\u65b9\u6cd5\u53e5\u67c4")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"CONSTANT_InvokeDynamic_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"18"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u8868\u793a\u4e00\u4e2a\u52a8\u6001\u65b9\u6cd5\u8c03\u7528\u70b9")))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},".class")," \u6587\u4ef6\u53ef\u4ee5\u901a\u8fc7",(0,l.kt)("inlineCode",{parentName:"p"},"javap -v class\u7c7b\u540d")," \u6307\u4ee4\u6765\u770b\u4e00\u4e0b\u5176\u5e38\u91cf\u6c60\u4e2d\u7684\u4fe1\u606f(",(0,l.kt)("inlineCode",{parentName:"p"},"javap -v class\u7c7b\u540d-> temp.txt")," \uff1a\u5c06\u7ed3\u679c\u8f93\u51fa\u5230 temp.txt \u6587\u4ef6)\u3002"),(0,l.kt)("h4",{id:"\u8bbf\u95ee\u6807\u5fd7access-flags"},"\u8bbf\u95ee\u6807\u5fd7(Access Flags)"),(0,l.kt)("p",null,"\u5728\u5e38\u91cf\u6c60\u7ed3\u675f\u4e4b\u540e\uff0c\u7d27\u63a5\u7740\u7684\u4e24\u4e2a\u5b57\u8282\u4ee3\u8868\u8bbf\u95ee\u6807\u5fd7\uff0c\u8fd9\u4e2a\u6807\u5fd7\u7528\u4e8e\u8bc6\u522b\u4e00\u4e9b\u7c7b\u6216\u8005\u63a5\u53e3\u5c42\u6b21\u7684\u8bbf\u95ee\u4fe1\u606f\uff0c\u5305\u62ec\uff1a\u8fd9\u4e2a Class \u662f\u7c7b\u8fd8\u662f\u63a5\u53e3\uff0c\u662f\u5426\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"public")," \u6216\u8005 ",(0,l.kt)("inlineCode",{parentName:"p"},"abstract")," \u7c7b\u578b\uff0c\u5982\u679c\u662f\u7c7b\u7684\u8bdd\u662f\u5426\u58f0\u660e\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"final")," \u7b49\u7b49\u3002"),(0,l.kt)("p",null,"\u7c7b\u8bbf\u95ee\u548c\u5c5e\u6027\u4fee\u9970\u7b26:"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723173943684",src:n(88328).Z,width:"595",height:"211"})),(0,l.kt)("p",null,"\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a Employee \u7c7b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"package top.snailclimb.bean;\npublic class Employee {\n   ...\n}\n")),(0,l.kt)("p",null,"\u901a\u8fc7",(0,l.kt)("inlineCode",{parentName:"p"},"javap -v class\u7c7b\u540d")," \u6307\u4ee4\u6765\u770b\u4e00\u4e0b\u7c7b\u7684\u8bbf\u95ee\u6807\u5fd7\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723173952132",src:n(6909).Z,width:"673",height:"262"})),(0,l.kt)("h4",{id:"\u5f53\u524d\u7c7bthis-class\u7236\u7c7bsuper-class\u63a5\u53e3interfaces\u7d22\u5f15\u96c6\u5408"},"\u5f53\u524d\u7c7b\uff08This Class\uff09\u3001\u7236\u7c7b\uff08Super Class\uff09\u3001\u63a5\u53e3\uff08Interfaces\uff09\u7d22\u5f15\u96c6\u5408"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"    u2             this_class;//\u5f53\u524d\u7c7b\n    u2             super_class;//\u7236\u7c7b\n    u2             interfaces_count;//\u63a5\u53e3\n    u2             interfaces[interfaces_count];//\u4e00\u4e2a\u7c7b\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u63a5\u53e3\n")),(0,l.kt)("p",null,"\u7c7b\u7d22\u5f15\u7528\u4e8e\u786e\u5b9a\u8fd9\u4e2a\u7c7b\u7684\u5168\u9650\u5b9a\u540d\uff0c\u7236\u7c7b\u7d22\u5f15\u7528\u4e8e\u786e\u5b9a\u8fd9\u4e2a\u7c7b\u7684\u7236\u7c7b\u7684\u5168\u9650\u5b9a\u540d\uff0c\u7531\u4e8e Java \u8bed\u8a00\u7684\u5355\u7ee7\u627f\uff0c\u6240\u4ee5\u7236\u7c7b\u7d22\u5f15\u53ea\u6709\u4e00\u4e2a\uff0c\u9664\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"java.lang.Object")," \u4e4b\u5916\uff0c\u6240\u6709\u7684 java \u7c7b\u90fd\u6709\u7236\u7c7b\uff0c\u56e0\u6b64\u9664\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"java.lang.Object")," \u5916\uff0c\u6240\u6709 Java \u7c7b\u7684\u7236\u7c7b\u7d22\u5f15\u90fd\u4e0d\u4e3a 0\u3002"),(0,l.kt)("p",null,"\u63a5\u53e3\u7d22\u5f15\u96c6\u5408\u7528\u6765\u63cf\u8ff0\u8fd9\u4e2a\u7c7b\u5b9e\u73b0\u4e86\u90a3\u4e9b\u63a5\u53e3\uff0c\u8fd9\u4e9b\u88ab\u5b9e\u73b0\u7684\u63a5\u53e3\u5c06\u6309 ",(0,l.kt)("inlineCode",{parentName:"p"},"implements")," (\u5982\u679c\u8fd9\u4e2a\u7c7b\u672c\u8eab\u662f\u63a5\u53e3\u7684\u8bdd\u5219\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"extends"),") \u540e\u7684\u63a5\u53e3\u987a\u5e8f\u4ece\u5de6\u5230\u53f3\u6392\u5217\u5728\u63a5\u53e3\u7d22\u5f15\u96c6\u5408\u4e2d\u3002"),(0,l.kt)("h4",{id:"\u5b57\u6bb5\u8868\u96c6\u5408fields"},"\u5b57\u6bb5\u8868\u96c6\u5408\uff08Fields\uff09"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"    u2             fields_count;//Class \u6587\u4ef6\u7684\u5b57\u6bb5\u7684\u4e2a\u6570\n    field_info     fields[fields_count];//\u4e00\u4e2a\u7c7b\u4f1a\u53ef\u4ee5\u6709\u4e2a\u5b57\u6bb5\n")),(0,l.kt)("p",null,"\u5b57\u6bb5\u8868\uff08field info\uff09\u7528\u4e8e\u63cf\u8ff0\u63a5\u53e3\u6216\u7c7b\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u3002\u5b57\u6bb5\u5305\u62ec\u7c7b\u7ea7\u53d8\u91cf\u4ee5\u53ca\u5b9e\u4f8b\u53d8\u91cf\uff0c\u4f46\u4e0d\u5305\u62ec\u5728\u65b9\u6cd5\u5185\u90e8\u58f0\u660e\u7684\u5c40\u90e8\u53d8\u91cf\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"field info(\u5b57\u6bb5\u8868) \u7684\u7ed3\u6784:")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723174020945",src:n(95897).Z,width:"581",height:"159"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"access_flags:")," \u5b57\u6bb5\u7684\u4f5c\u7528\u57df\uff08",(0,l.kt)("inlineCode",{parentName:"li"},"public")," ,",(0,l.kt)("inlineCode",{parentName:"li"},"private"),",",(0,l.kt)("inlineCode",{parentName:"li"},"protected"),"\u4fee\u9970\u7b26\uff09\uff0c\u662f\u5b9e\u4f8b\u53d8\u91cf\u8fd8\u662f\u7c7b\u53d8\u91cf\uff08",(0,l.kt)("inlineCode",{parentName:"li"},"static"),"\u4fee\u9970\u7b26\uff09,\u53ef\u5426\u88ab\u5e8f\u5217\u5316\uff08transient \u4fee\u9970\u7b26\uff09,\u53ef\u53d8\u6027\uff08final\uff09,\u53ef\u89c1\u6027\uff08volatile \u4fee\u9970\u7b26\uff0c\u662f\u5426\u5f3a\u5236\u4ece\u4e3b\u5185\u5b58\u8bfb\u5199\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"name_index:")," \u5bf9\u5e38\u91cf\u6c60\u7684\u5f15\u7528\uff0c\u8868\u793a\u7684\u5b57\u6bb5\u7684\u540d\u79f0\uff1b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"descriptor_index:")," \u5bf9\u5e38\u91cf\u6c60\u7684\u5f15\u7528\uff0c\u8868\u793a\u5b57\u6bb5\u548c\u65b9\u6cd5\u7684\u63cf\u8ff0\u7b26\uff1b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"attributes_count:")," \u4e00\u4e2a\u5b57\u6bb5\u8fd8\u4f1a\u62e5\u6709\u4e00\u4e9b\u989d\u5916\u7684\u5c5e\u6027\uff0cattributes_count \u5b58\u653e\u5c5e\u6027\u7684\u4e2a\u6570\uff1b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"attributes","[attributes_count]",":")," \u5b58\u653e\u5177\u4f53\u5c5e\u6027\u5177\u4f53\u5185\u5bb9\u3002")),(0,l.kt)("p",null,"\u4e0a\u8ff0\u8fd9\u4e9b\u4fe1\u606f\u4e2d\uff0c\u5404\u4e2a\u4fee\u9970\u7b26\u90fd\u662f\u5e03\u5c14\u503c\uff0c\u8981\u4e48\u6709\u67d0\u4e2a\u4fee\u9970\u7b26\uff0c\u8981\u4e48\u6ca1\u6709\uff0c\u5f88\u9002\u5408\u4f7f\u7528\u6807\u5fd7\u4f4d\u6765\u8868\u793a\u3002\u800c\u5b57\u6bb5\u53eb\u4ec0\u4e48\u540d\u5b57\u3001\u5b57\u6bb5\u88ab\u5b9a\u4e49\u4e3a\u4ec0\u4e48\u6570\u636e\u7c7b\u578b\u8fd9\u4e9b\u90fd\u662f\u65e0\u6cd5\u56fa\u5b9a\u7684\uff0c\u53ea\u80fd\u5f15\u7528\u5e38\u91cf\u6c60\u4e2d\u5e38\u91cf\u6765\u63cf\u8ff0\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5b57\u6bb5\u7684 access_flag \u7684\u53d6\u503c:")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723174028527",src:n(94854).Z,width:"1370",height:"630"})),(0,l.kt)("h4",{id:"\u65b9\u6cd5\u8868\u96c6\u5408methods"},"\u65b9\u6cd5\u8868\u96c6\u5408\uff08Methods\uff09"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"    u2             methods_count;//Class \u6587\u4ef6\u7684\u65b9\u6cd5\u7684\u6570\u91cf\n    method_info    methods[methods_count];//\u4e00\u4e2a\u7c7b\u53ef\u4ee5\u6709\u4e2a\u591a\u4e2a\u65b9\u6cd5\n")),(0,l.kt)("p",null,"methods_count \u8868\u793a\u65b9\u6cd5\u7684\u6570\u91cf\uff0c\u800c method_info \u8868\u793a\u65b9\u6cd5\u8868\u3002"),(0,l.kt)("p",null,"Class \u6587\u4ef6\u5b58\u50a8\u683c\u5f0f\u4e2d\u5bf9\u65b9\u6cd5\u7684\u63cf\u8ff0\u4e0e\u5bf9\u5b57\u6bb5\u7684\u63cf\u8ff0\u51e0\u4e4e\u91c7\u7528\u4e86\u5b8c\u5168\u4e00\u81f4\u7684\u65b9\u5f0f\u3002\u65b9\u6cd5\u8868\u7684\u7ed3\u6784\u5982\u540c\u5b57\u6bb5\u8868\u4e00\u6837\uff0c\u4f9d\u6b21\u5305\u62ec\u4e86\u8bbf\u95ee\u6807\u5fd7\u3001\u540d\u79f0\u7d22\u5f15\u3001\u63cf\u8ff0\u7b26\u7d22\u5f15\u3001\u5c5e\u6027\u8868\u96c6\u5408\u51e0\u9879\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"method_info(\u65b9\u6cd5\u8868\u7684) \u7ed3\u6784:")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723174041110",src:n(88470).Z,width:"550",height:"157"})),(0,l.kt)("p",null,"\u65b9\u6cd5\u8868\u7684 access_flag \u53d6\u503c\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723174047943",src:n(37602).Z,width:"1362",height:"780"})),(0,l.kt)("p",null,"\u6ce8\u610f\uff1a\u56e0\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"volatile"),"\u4fee\u9970\u7b26\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"transient"),"\u4fee\u9970\u7b26\u4e0d\u53ef\u4ee5\u4fee\u9970\u65b9\u6cd5\uff0c\u6240\u4ee5\u65b9\u6cd5\u8868\u7684\u8bbf\u95ee\u6807\u5fd7\u4e2d\u6ca1\u6709\u8fd9\u4e24\u4e2a\u5bf9\u5e94\u7684\u6807\u5fd7\uff0c\u4f46\u662f\u589e\u52a0\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"synchronized"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"native"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"abstract"),"\u7b49\u5173\u952e\u5b57\u4fee\u9970\u65b9\u6cd5\uff0c\u6240\u4ee5\u4e5f\u5c31\u591a\u4e86\u8fd9\u4e9b\u5173\u952e\u5b57\u5bf9\u5e94\u7684\u6807\u5fd7\u3002"),(0,l.kt)("h4",{id:"\u5c5e\u6027\u8868\u96c6\u5408attributes"},"\u5c5e\u6027\u8868\u96c6\u5408\uff08Attributes\uff09"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"   u2             attributes_count;//\u6b64\u7c7b\u7684\u5c5e\u6027\u8868\u4e2d\u7684\u5c5e\u6027\u6570\n   attribute_info attributes[attributes_count];//\u5c5e\u6027\u8868\u96c6\u5408\n")),(0,l.kt)("p",null,"\u5728  Class \u6587\u4ef6\uff0c\u5b57\u6bb5\u8868\uff0c\u65b9\u6cd5\u8868\u4e2d\u90fd\u53ef\u4ee5\u643a\u5e26\u81ea\u5df1\u7684\u5c5e\u6027\u8868\u96c6\u5408\uff0c\u4ee5\u7528\u4e8e\u63cf\u8ff0\u67d0\u4e9b\u573a\u666f\u4e13\u6709\u7684\u4fe1\u606f\u3002\u4e0e Class  \u6587\u4ef6\u4e2d\u5176\u5b83\u7684\u6570\u636e\u9879\u76ee\u8981\u6c42\u7684\u987a\u5e8f\u3001\u957f\u5ea6\u548c\u5185\u5bb9\u4e0d\u540c\uff0c\u5c5e\u6027\u8868\u96c6\u5408\u7684\u9650\u5236\u7a0d\u5fae\u5bbd\u677e\u4e00\u4e9b\uff0c\u4e0d\u518d\u8981\u6c42\u5404\u4e2a\u5c5e\u6027\u8868\u5177\u6709\u4e25\u683c\u7684\u987a\u5e8f\uff0c\u5e76\u4e14\u53ea\u8981\u4e0d\u4e0e\u5df2\u6709\u7684\u5c5e\u6027\u540d\u91cd\u590d\uff0c\u4efb\u4f55\u4eba\u5b9e\u73b0\u7684\u7f16\u8bd1\u5668\u90fd\u53ef\u4ee5\u5411\u5c5e\u6027\u8868\u4e2d\u5199 \u5165\u81ea\u5df1\u5b9a\u4e49\u7684\u5c5e\u6027\u4fe1\u606f\uff0cJava \u865a\u62df\u673a\u8fd0\u884c\u65f6\u4f1a\u5ffd\u7565\u6389\u5b83\u4e0d\u8ba4\u8bc6\u7684\u5c5e\u6027\u3002"),(0,l.kt)("h2",{id:"\ufe0fnetty"},"\ud83d\udd78\ufe0fNetty"),(0,l.kt)("h3",{id:"reactor\u6a21\u578b"},"Reactor\u6a21\u578b"),(0,l.kt)("h4",{id:"\u524d\u8a00-1"},"\u524d\u8a00"),(0,l.kt)("p",null,"\u5982\u679c\u8981\u8ba9\u670d\u52a1\u5668\u670d\u52a1\u591a\u4e2a\u5ba2\u6237\u7aef\uff0c\u90a3\u4e48\u6700\u76f4\u63a5\u7684\u65b9\u5f0f\u5c31\u662f\u4e3a\u6bcf\u4e00\u6761\u8fde\u63a5\u521b\u5efa\u7ebf\u7a0b\u3002"),(0,l.kt)("p",null,"\u5176\u5b9e\u521b\u5efa\u8fdb\u7a0b\u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u539f\u7406\u662f\u4e00\u6837\u7684\uff0c\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u533a\u522b\u5728\u4e8e\u7ebf\u7a0b\u6bd4\u8f83\u8f7b\u91cf\u7ea7\u4e9b\uff0c\u7ebf\u7a0b\u7684\u521b\u5efa\u548c\u7ebf\u7a0b\u95f4\u5207\u6362\u7684\u6210\u672c\u8981\u5c0f\u4e9b\uff0c\u4e3a\u4e86\u63cf\u8ff0\u7b80\u8ff0\uff0c\u540e\u9762\u90fd\u4ee5\u7ebf\u7a0b\u4e3a\u4f8b\u3002"),(0,l.kt)("p",null,"\u5904\u7406\u5b8c\u4e1a\u52a1\u903b\u8f91\u540e\uff0c\u968f\u7740\u8fde\u63a5\u5173\u95ed\u540e\u7ebf\u7a0b\u4e5f\u540c\u6837\u8981\u9500\u6bc1\u4e86\uff0c\u4f46\u662f\u8fd9\u6837\u4e0d\u505c\u5730\u521b\u5efa\u548c\u9500\u6bc1\u7ebf\u7a0b\uff0c\u4e0d\u4ec5\u4f1a\u5e26\u6765\u6027\u80fd\u5f00\u9500\uff0c\u4e5f\u4f1a\u9020\u6210\u6d6a\u8d39\u8d44\u6e90\uff0c\u800c\u4e14\u5982\u679c\u8981\u8fde\u63a5\u51e0\u4e07\u6761\u8fde\u63a5\uff0c\u521b\u5efa\u51e0\u4e07\u4e2a\u7ebf\u7a0b\u53bb\u5e94\u5bf9\u4e5f\u662f\u4e0d\u73b0\u5b9e\u7684\u3002"),(0,l.kt)("p",null,"\u8981\u8fd9\u4e48\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u300c\u8d44\u6e90\u590d\u7528\u300d\u7684\u65b9\u5f0f\u3002"),(0,l.kt)("p",null,"\u4e5f\u5c31\u662f\u4e0d\u7528\u518d\u4e3a\u6bcf\u4e2a\u8fde\u63a5\u521b\u5efa\u7ebf\u7a0b\uff0c\u800c\u662f\u521b\u5efa\u4e00\u4e2a\u300c\u7ebf\u7a0b\u6c60\u300d\uff0c\u5c06\u8fde\u63a5\u5206\u914d\u7ed9\u7ebf\u7a0b\uff0c\u7136\u540e\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u5904\u7406\u591a\u4e2a\u8fde\u63a5\u7684\u4e1a\u52a1\u3002"),(0,l.kt)("p",null,"\u4e0d\u8fc7\uff0c\u8fd9\u6837\u53c8\u5f15\u6765\u4e00\u4e2a\u65b0\u7684\u95ee\u9898\uff0c\u7ebf\u7a0b\u600e\u6837\u624d\u80fd\u9ad8\u6548\u5730\u5904\u7406\u591a\u4e2a\u8fde\u63a5\u7684\u4e1a\u52a1\uff1f"),(0,l.kt)("p",null,"\u5f53\u4e00\u4e2a\u8fde\u63a5\u5bf9\u5e94\u4e00\u4e2a\u7ebf\u7a0b\u65f6\uff0c\u7ebf\u7a0b\u4e00\u822c\u91c7\u7528\u300cread -> \u4e1a\u52a1\u5904\u7406 -> send\u300d\u7684\u5904\u7406\u6d41\u7a0b\uff0c\u5982\u679c\u5f53\u524d\u8fde\u63a5\u6ca1\u6709\u6570\u636e\u53ef\u8bfb\uff0c\u90a3\u4e48\u7ebf\u7a0b\u4f1a\u963b\u585e\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"read")," \u64cd\u4f5c\u4e0a\uff08 socket \u9ed8\u8ba4\u60c5\u51b5\u662f\u963b\u585e I/O\uff09\uff0c\u4e0d\u8fc7\u8fd9\u79cd\u963b\u585e\u65b9\u5f0f\u5e76\u4e0d\u5f71\u54cd\u5176\u4ed6\u7ebf\u7a0b\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\u5f15\u5165\u4e86\u7ebf\u7a0b\u6c60\uff0c\u90a3\u4e48\u4e00\u4e2a\u7ebf\u7a0b\u8981\u5904\u7406\u591a\u4e2a\u8fde\u63a5\u7684\u4e1a\u52a1\uff0c\u7ebf\u7a0b\u5728\u5904\u7406\u67d0\u4e2a\u8fde\u63a5\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"read")," \u64cd\u4f5c\u65f6\uff0c\u5982\u679c\u9047\u5230\u6ca1\u6709\u6570\u636e\u53ef\u8bfb\uff0c\u5c31\u4f1a\u53d1\u751f\u963b\u585e\uff0c\u90a3\u4e48\u7ebf\u7a0b\u5c31\u6ca1\u529e\u6cd5\u7ee7\u7eed\u5904\u7406\u5176\u4ed6\u8fde\u63a5\u7684\u4e1a\u52a1\u3002"),(0,l.kt)("p",null,"\u8981\u89e3\u51b3\u8fd9\u4e00\u4e2a\u95ee\u9898\uff0c\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u5c31\u662f\u5c06 socket \u6539\u6210\u975e\u963b\u585e\uff0c\u7136\u540e\u7ebf\u7a0b\u4e0d\u65ad\u5730\u8f6e\u8be2\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"read")," \u64cd\u4f5c\u6765\u5224\u65ad\u662f\u5426\u6709\u6570\u636e\uff0c\u8fd9\u79cd\u65b9\u5f0f\u867d\u7136\u8be5\u80fd\u591f\u89e3\u51b3\u963b\u585e\u7684\u95ee\u9898\uff0c\u4f46\u662f\u89e3\u51b3\u7684\u65b9\u5f0f\u6bd4\u8f83\u7c97\u66b4\uff0c\u56e0\u4e3a\u8f6e\u8be2\u662f\u8981\u6d88\u8017 CPU \u7684\uff0c\u800c\u4e14\u968f\u7740\u4e00\u4e2a \u7ebf\u7a0b\u5904\u7406\u7684\u8fde\u63a5\u8d8a\u591a\uff0c\u8f6e\u8be2\u7684\u6548\u7387\u5c31\u4f1a\u8d8a\u4f4e\u3002"),(0,l.kt)("p",null,"\u4e0a\u9762\u7684\u95ee\u9898\u5728\u4e8e\uff0c\u7ebf\u7a0b\u5e76\u4e0d\u77e5\u9053\u5f53\u524d\u8fde\u63a5\u662f\u5426\u6709\u6570\u636e\u53ef\u8bfb\uff0c\u4ece\u800c\u9700\u8981\u6bcf\u6b21\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"read")," \u53bb\u8bd5\u63a2\u3002"),(0,l.kt)("p",null,"\u90a3\u6709\u6ca1\u6709\u529e\u6cd5\u5728\u53ea\u6709\u5f53\u8fde\u63a5\u4e0a\u6709\u6570\u636e\u7684\u65f6\u5019\uff0c\u7ebf\u7a0b\u624d\u53bb\u53d1\u8d77\u8bfb\u8bf7\u6c42\u5462\uff1f\u7b54\u6848\u662f\u6709\u7684\uff0c\u5b9e\u73b0\u8fd9\u4e00\u6280\u672f\u7684\u5c31\u662f I/O \u591a\u8def\u590d\u7528\u3002"),(0,l.kt)("p",null,"I/O \u591a\u8def\u590d\u7528\u6280\u672f\u4f1a\u7528\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528\u51fd\u6570\u6765\u76d1\u542c\u6211\u4eec\u6240\u6709\u5173\u5fc3\u7684\u8fde\u63a5\uff0c\u4e5f\u5c31\u8bf4\u53ef\u4ee5\u5728\u4e00\u4e2a\u76d1\u63a7\u7ebf\u7a0b\u91cc\u9762\u76d1\u63a7\u5f88\u591a\u7684\u8fde\u63a5\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725152308276",src:n(36178).Z,width:"617",height:"407"})),(0,l.kt)("p",null,"\u6211\u4eec\u719f\u6089\u7684 select/poll/epoll \u5c31\u662f\u5185\u6838\u63d0\u4f9b\u7ed9\u7528\u6237\u6001\u7684\u591a\u8def\u590d\u7528\u7cfb\u7edf\u8c03\u7528\uff0c\u7ebf\u7a0b\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528\u51fd\u6570\u4ece\u5185\u6838\u4e2d\u83b7\u53d6\u591a\u4e2a\u4e8b\u4ef6\u3002"),(0,l.kt)("p",null,"select/poll/epoll \u662f\u5982\u4f55\u83b7\u53d6\u7f51\u7edc\u4e8b\u4ef6\u7684\u5462\uff1f"),(0,l.kt)("p",null,"\u5728\u83b7\u53d6\u4e8b\u4ef6\u65f6\uff0c\u5148\u628a\u6211\u4eec\u8981\u5173\u5fc3\u7684\u8fde\u63a5\u4f20\u7ed9\u5185\u6838\uff0c\u518d\u7531\u5185\u6838\u68c0\u6d4b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u6ca1\u6709\u4e8b\u4ef6\u53d1\u751f\uff0c\u7ebf\u7a0b\u53ea\u9700\u963b\u585e\u5728\u8fd9\u4e2a\u7cfb\u7edf\u8c03\u7528\uff0c\u800c\u65e0\u9700\u50cf\u524d\u9762\u7684\u7ebf\u7a0b\u6c60\u65b9\u6848\u90a3\u6837\u8f6e\u8bad\u8c03\u7528 read \u64cd\u4f5c\u6765\u5224\u65ad\u662f\u5426\u6709\u6570\u636e\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u6709\u4e8b\u4ef6\u53d1\u751f\uff0c\u5185\u6838\u4f1a\u8fd4\u56de\u4ea7\u751f\u4e86\u4e8b\u4ef6\u7684\u8fde\u63a5\uff0c\u7ebf\u7a0b\u5c31\u4f1a\u4ece\u963b\u585e\u72b6\u6001\u8fd4\u56de\uff0c\u7136\u540e\u5728\u7528\u6237\u6001\u4e2d\u518d\u5904\u7406\u8fd9\u4e9b\u8fde\u63a5\u5bf9\u5e94\u7684\u4e1a\u52a1\u5373\u53ef\u3002")),(0,l.kt)("p",null,"\u5f53\u4e0b\u5f00\u6e90\u8f6f\u4ef6\u80fd\u505a\u5230\u7f51\u7edc\u9ad8\u6027\u80fd\u7684\u539f\u56e0\u5c31\u662f I/O \u591a\u8def\u590d\u7528\u5417\uff1f"),(0,l.kt)("p",null,"\u662f\u7684\uff0c\u57fa\u672c\u662f\u57fa\u4e8e I/O \u591a\u8def\u590d\u7528\uff0c\u7528\u8fc7 I/O \u591a\u8def\u590d\u7528\u63a5\u53e3\u5199\u7f51\u7edc\u7a0b\u5e8f\u7684\u540c\u5b66\uff0c\u80af\u5b9a\u77e5\u9053\u662f\u9762\u5411\u8fc7\u7a0b\u7684\u65b9\u5f0f\u5199\u4ee3\u7801\u7684\uff0c\u8fd9\u6837\u7684\u5f00\u53d1\u7684\u6548\u7387\u4e0d\u9ad8\u3002"),(0,l.kt)("p",null,"\u4e8e\u662f\uff0c\u5927\u4f6c\u4eec\u57fa\u4e8e\u9762\u5411\u5bf9\u8c61\u7684\u601d\u60f3\uff0c\u5bf9 I/O \u591a\u8def\u590d\u7528\u4f5c\u4e86\u4e00\u5c42\u5c01\u88c5\uff0c\u8ba9\u4f7f\u7528\u8005\u4e0d\u7528\u8003\u8651\u5e95\u5c42\u7f51\u7edc API \u7684\u7ec6\u8282\uff0c\u53ea\u9700\u8981\u5173\u6ce8\u5e94\u7528\u4ee3\u7801\u7684\u7f16\u5199\u3002"),(0,l.kt)("p",null,"\u5927\u4f6c\u4eec\u8fd8\u4e3a\u8fd9\u79cd\u6a21\u5f0f\u53d6\u4e86\u4e2a\u8ba9\u4eba\u7b2c\u4e00\u65f6\u95f4\u96be\u4ee5\u7406\u89e3\u7684\u540d\u5b57\uff1a",(0,l.kt)("strong",{parentName:"p"},"Reactor \u6a21\u5f0f"),"\u3002"),(0,l.kt)("p",null,"Reactor \u7ffb\u8bd1\u8fc7\u6765\u7684\u610f\u601d\u662f\u300c\u53cd\u5e94\u5806\u300d\uff0c\u53ef\u80fd\u5927\u5bb6\u4f1a\u8054\u60f3\u5230\u7269\u7406\u5b66\u91cc\u7684\u6838\u53cd\u5e94\u5806\uff0c\u5b9e\u9645\u4e0a\u5e76\u4e0d\u662f\u7684\u8fd9\u4e2a\u610f\u601d\u3002"),(0,l.kt)("p",null,"\u8fd9\u91cc\u7684\u53cd\u5e94\u6307\u7684\u662f\u300c",(0,l.kt)("strong",{parentName:"p"},"\u5bf9\u4e8b\u4ef6\u53cd\u5e94"),"\u300d\uff0c\u4e5f\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u6765\u4e86\u4e00\u4e2a\u4e8b\u4ef6\uff0cReactor \u5c31\u6709\u76f8\u5bf9\u5e94\u7684\u53cd\u5e94/\u54cd\u5e94"),"\u3002"),(0,l.kt)("p",null,"\u4e8b\u5b9e\u4e0a\uff0cReactor \u6a21\u5f0f\u4e5f\u53eb ",(0,l.kt)("inlineCode",{parentName:"p"},"Dispatcher")," \u6a21\u5f0f\uff0c\u6211\u89c9\u5f97\u8fd9\u4e2a\u540d\u5b57\u66f4\u8d34\u5408\u8be5\u6a21\u5f0f\u7684\u542b\u4e49\uff0c\u5373 ",(0,l.kt)("strong",{parentName:"p"},"I/O \u591a\u8def\u590d\u7528\u76d1\u542c\u4e8b\u4ef6\uff0c\u6536\u5230\u4e8b\u4ef6\u540e\uff0c\u6839\u636e\u4e8b\u4ef6\u7c7b\u578b\u5206\u914d\uff08Dispatch\uff09\u7ed9\u67d0\u4e2a\u8fdb\u7a0b / \u7ebf\u7a0b"),"\u3002"),(0,l.kt)("p",null,"Reactor \u6a21\u5f0f\u4e3b\u8981\u7531 Reactor \u548c\u5904\u7406\u8d44\u6e90\u6c60\u8fd9\u4e24\u4e2a\u6838\u5fc3\u90e8\u5206\u7ec4\u6210\uff0c\u5b83\u4fe9\u8d1f\u8d23\u7684\u4e8b\u60c5\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Reactor \u8d1f\u8d23\u76d1\u542c\u548c\u5206\u53d1\u4e8b\u4ef6\uff0c\u4e8b\u4ef6\u7c7b\u578b\u5305\u542b\u8fde\u63a5\u4e8b\u4ef6\u3001\u8bfb\u5199\u4e8b\u4ef6\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5904\u7406\u8d44\u6e90\u6c60\u8d1f\u8d23\u5904\u7406\u4e8b\u4ef6\uff0c\u5982 read -> \u4e1a\u52a1\u903b\u8f91 -> send\uff1b")),(0,l.kt)("p",null,"Reactor \u6a21\u5f0f\u662f\u7075\u6d3b\u591a\u53d8\u7684\uff0c\u53ef\u4ee5\u5e94\u5bf9\u4e0d\u540c\u7684\u4e1a\u52a1\u573a\u666f\uff0c\u7075\u6d3b\u5728\u4e8e\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Reactor \u7684\u6570\u91cf\u53ef\u4ee5\u53ea\u6709\u4e00\u4e2a\uff0c\u4e5f\u53ef\u4ee5\u6709\u591a\u4e2a\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5904\u7406\u8d44\u6e90\u6c60\u53ef\u4ee5\u662f\u5355\u4e2a\u8fdb\u7a0b / \u7ebf\u7a0b\uff0c\u4e5f\u53ef\u4ee5\u662f\u591a\u4e2a\u8fdb\u7a0b /\u7ebf\u7a0b\uff1b")),(0,l.kt)("p",null,"\u5c06\u4e0a\u9762\u7684\u4e24\u4e2a\u56e0\u7d20\u6392\u5217\u7ec4\u8bbe\u4e00\u4e0b\uff0c\u7406\u8bba\u4e0a\u5c31\u53ef\u4ee5\u6709 4 \u79cd\u65b9\u6848\u9009\u62e9\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5355 Reactor \u5355\u8fdb\u7a0b / \u7ebf\u7a0b\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5355 Reactor \u591a\u8fdb\u7a0b / \u7ebf\u7a0b\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u591a Reactor \u5355\u8fdb\u7a0b / \u7ebf\u7a0b\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u591a Reactor \u591a\u8fdb\u7a0b / \u7ebf\u7a0b\uff1b")),(0,l.kt)("p",null,"\u5176\u4e2d\uff0c\u300c\u591a Reactor \u5355\u8fdb\u7a0b / \u7ebf\u7a0b\u300d\u5b9e\u73b0\u65b9\u6848\u76f8\u6bd4\u300c\u5355 Reactor \u5355\u8fdb\u7a0b / \u7ebf\u7a0b\u300d\u65b9\u6848\uff0c\u4e0d\u4ec5\u590d\u6742\u800c\u4e14\u4e5f\u6ca1\u6709\u6027\u80fd\u4f18\u52bf\uff0c\u56e0\u6b64\u5b9e\u9645\u4e2d\u5e76\u6ca1\u6709\u5e94\u7528\u3002"),(0,l.kt)("p",null,"\u5269\u4e0b\u7684 3 \u4e2a\u65b9\u6848\u90fd\u662f\u6bd4\u8f83\u7ecf\u5178\u7684\uff0c\u4e14\u90fd\u6709\u5e94\u7528\u5728\u5b9e\u9645\u7684\u9879\u76ee\u4e2d\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5355 Reactor \u5355\u8fdb\u7a0b / \u7ebf\u7a0b\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5355 Reactor \u591a\u7ebf\u7a0b / \u8fdb\u7a0b\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u591a Reactor \u591a\u8fdb\u7a0b / \u7ebf\u7a0b\uff1b")),(0,l.kt)("p",null,"\u65b9\u6848\u5177\u4f53\u4f7f\u7528\u8fdb\u7a0b\u8fd8\u662f\u7ebf\u7a0b\uff0c\u8981\u770b\u4f7f\u7528\u7684\u7f16\u7a0b\u8bed\u8a00\u4ee5\u53ca\u5e73\u53f0\u6709\u5173\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Java \u8bed\u8a00\u4e00\u822c\u4f7f\u7528\u7ebf\u7a0b\uff0c\u6bd4\u5982 Netty;"),(0,l.kt)("li",{parentName:"ul"},"C \u8bed\u8a00\u4f7f\u7528\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u90fd\u53ef\u4ee5\uff0c\u4f8b\u5982 Nginx \u4f7f\u7528\u7684\u662f\u8fdb\u7a0b\uff0cMemcache \u4f7f\u7528\u7684\u662f\u7ebf\u7a0b\u3002")),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u5206\u522b\u4ecb\u7ecd\u8fd9\u4e09\u4e2a\u7ecf\u5178\u7684 Reactor \u65b9\u6848\u3002"),(0,l.kt)("h4",{id:"reactor"},"Reactor"),(0,l.kt)("h5",{id:"\u5355-reactor-\u5355\u8fdb\u7a0b--\u7ebf\u7a0b"},"\u5355 Reactor \u5355\u8fdb\u7a0b / \u7ebf\u7a0b"),(0,l.kt)("p",null,"\u4e00\u822c\u6765\u8bf4\uff0cC \u8bed\u8a00\u5b9e\u73b0\u7684\u662f\u300c",(0,l.kt)("strong",{parentName:"p"},"\u5355 Reactor ","*","\u5355\u8fdb\u7a0b","*"),"\u300d\u7684\u65b9\u6848\uff0c\u56e0\u4e3a C \u8bed\u7f16\u5199\u5b8c\u7684\u7a0b\u5e8f\uff0c\u8fd0\u884c\u540e\u5c31\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u8fdb\u7a0b\uff0c\u4e0d\u9700\u8981\u5728\u8fdb\u7a0b\u4e2d\u518d\u521b\u5efa\u7ebf\u7a0b\u3002"),(0,l.kt)("p",null,"\u800c Java \u8bed\u8a00\u5b9e\u73b0\u7684\u662f\u300c",(0,l.kt)("strong",{parentName:"p"},"\u5355 Reactor ","*","\u5355\u7ebf\u7a0b","*"),"\u300d\u7684\u65b9\u6848\uff0c\u56e0\u4e3a Java \u7a0b\u5e8f\u662f\u8dd1\u5728 Java \u865a\u62df\u673a\u8fd9\u4e2a\u8fdb\u7a0b\u4e0a\u9762\u7684\uff0c\u865a\u62df\u673a\u4e2d\u6709\u5f88\u591a\u7ebf\u7a0b\uff0c\u6211\u4eec\u5199\u7684 Java \u7a0b\u5e8f\u53ea\u662f\u5176\u4e2d\u7684\u4e00\u4e2a\u7ebf\u7a0b\u800c\u5df2\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u6765\u770b\u770b\u300c",(0,l.kt)("strong",{parentName:"p"},"\u5355 Reactor \u5355\u8fdb\u7a0b"),"\u300d\u7684\u65b9\u6848\u793a\u610f\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725152351105",src:n(1015).Z,width:"1427",height:"834"})),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\u8fdb\u7a0b\u91cc\u6709 ",(0,l.kt)("strong",{parentName:"p"},"Reactor\u3001Acceptor\u3001Handler")," \u8fd9\u4e09\u4e2a\u5bf9\u8c61\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Reactor \u5bf9\u8c61\u7684\u4f5c\u7528\u662f\u76d1\u542c\u548c\u5206\u53d1\u4e8b\u4ef6\uff1b"),(0,l.kt)("li",{parentName:"ul"},"Acceptor \u5bf9\u8c61\u7684\u4f5c\u7528\u662f\u83b7\u53d6\u8fde\u63a5\uff1b"),(0,l.kt)("li",{parentName:"ul"},"Handler \u5bf9\u8c61\u7684\u4f5c\u7528\u662f\u5904\u7406\u4e1a\u52a1\uff1b")),(0,l.kt)("p",null,"\u5bf9\u8c61\u91cc\u7684 select\u3001accept\u3001read\u3001send \u662f\u7cfb\u7edf\u8c03\u7528\u51fd\u6570\uff0cdispatch \u548c \u300c\u4e1a\u52a1\u5904\u7406\u300d\u662f\u9700\u8981\u5b8c\u6210\u7684\u64cd\u4f5c\uff0c\u5176\u4e2d dispatch \u662f\u5206\u53d1\u4e8b\u4ef6\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u4ecb\u7ecd\u4e0b\u300c\u5355 Reactor \u5355\u8fdb\u7a0b\u300d\u8fd9\u4e2a\u65b9\u6848\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Reactor \u5bf9\u8c61\u901a\u8fc7 select \uff08IO \u591a\u8def\u590d\u7528\u63a5\u53e3\uff09 \u76d1\u542c\u4e8b\u4ef6\uff0c\u6536\u5230\u4e8b\u4ef6\u540e\u901a\u8fc7 dispatch \u8fdb\u884c\u5206\u53d1\uff0c\u5177\u4f53\u5206\u53d1\u7ed9 Acceptor \u5bf9\u8c61\u8fd8\u662f Handler \u5bf9\u8c61\uff0c\u8fd8\u8981\u770b\u6536\u5230\u7684\u4e8b\u4ef6\u7c7b\u578b\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u662f\u8fde\u63a5\u5efa\u7acb\u7684\u4e8b\u4ef6\uff0c\u5219\u4ea4\u7531 Acceptor \u5bf9\u8c61\u8fdb\u884c\u5904\u7406\uff0cAcceptor \u5bf9\u8c61\u4f1a\u901a\u8fc7 accept \u65b9\u6cd5 \u83b7\u53d6\u8fde\u63a5\uff0c\u5e76\u521b\u5efa\u4e00\u4e2a Handler \u5bf9\u8c61\u6765\u5904\u7406\u540e\u7eed\u7684\u54cd\u5e94\u4e8b\u4ef6\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e0d\u662f\u8fde\u63a5\u5efa\u7acb\u4e8b\u4ef6\uff0c \u5219\u4ea4\u7531\u5f53\u524d\u8fde\u63a5\u5bf9\u5e94\u7684 Handler \u5bf9\u8c61\u6765\u8fdb\u884c\u54cd\u5e94\uff1b"),(0,l.kt)("li",{parentName:"ul"},"Handler \u5bf9\u8c61\u901a\u8fc7 read -> \u4e1a\u52a1\u5904\u7406 -> send \u7684\u6d41\u7a0b\u6765\u5b8c\u6210\u5b8c\u6574\u7684\u4e1a\u52a1\u6d41\u7a0b\u3002")),(0,l.kt)("p",null,"\u5355 Reactor \u5355\u8fdb\u7a0b\u7684\u65b9\u6848\u56e0\u4e3a\u5168\u90e8\u5de5\u4f5c\u90fd\u5728\u540c\u4e00\u4e2a\u8fdb\u7a0b\u5185\u5b8c\u6210\uff0c\u6240\u4ee5\u5b9e\u73b0\u8d77\u6765\u6bd4\u8f83\u7b80\u5355\uff0c\u4e0d\u9700\u8981\u8003\u8651\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff0c\u4e5f\u4e0d\u7528\u62c5\u5fc3\u591a\u8fdb\u7a0b\u7ade\u4e89\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\uff0c\u8fd9\u79cd\u65b9\u6848\u5b58\u5728 2 \u4e2a\u7f3a\u70b9\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u4e2a\u7f3a\u70b9\uff0c\u56e0\u4e3a\u53ea\u6709\u4e00\u4e2a\u8fdb\u7a0b\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u65e0\u6cd5\u5145\u5206\u5229\u7528 \u591a\u6838 CPU \u7684\u6027\u80fd"),"\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u4e2a\u7f3a\u70b9\uff0cHandler \u5bf9\u8c61\u5728\u4e1a\u52a1\u5904\u7406\u65f6\uff0c\u6574\u4e2a\u8fdb\u7a0b\u662f\u65e0\u6cd5\u5904\u7406\u5176\u4ed6\u8fde\u63a5\u7684\u4e8b\u4ef6\u7684\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u5982\u679c\u4e1a\u52a1\u5904\u7406\u8017\u65f6\u6bd4\u8f83\u957f\uff0c\u90a3\u4e48\u5c31\u9020\u6210\u54cd\u5e94\u7684\u5ef6\u8fdf"),"\uff1b")),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u5355 Reactor \u5355\u8fdb\u7a0b\u7684\u65b9\u6848",(0,l.kt)("strong",{parentName:"p"},"\u4e0d\u9002\u7528\u8ba1\u7b97\u673a\u5bc6\u96c6\u578b\u7684\u573a\u666f\uff0c\u53ea\u9002\u7528\u4e8e\u4e1a\u52a1\u5904\u7406\u975e\u5e38\u5feb\u901f\u7684\u573a\u666f"),"\u3002"),(0,l.kt)("p",null,"Redis \u662f\u7531 C \u8bed\u8a00\u5b9e\u73b0\u7684\uff0c\u5728 Redis 6.0 \u7248\u672c\u4e4b\u524d\u91c7\u7528\u7684\u6b63\u662f\u300c\u5355 Reactor \u5355\u8fdb\u7a0b\u300d\u7684\u65b9\u6848\uff0c\u56e0\u4e3a Redis \u4e1a\u52a1\u5904\u7406\u4e3b\u8981\u662f\u5728\u5185\u5b58\u4e2d\u5b8c\u6210\uff0c\u64cd\u4f5c\u7684\u901f\u5ea6\u662f\u5f88\u5feb\u7684\uff0c\u6027\u80fd\u74f6\u9888\u4e0d\u5728 CPU \u4e0a\uff0c\u6240\u4ee5 Redis \u5bf9\u4e8e\u547d\u4ee4\u7684\u5904\u7406\u662f\u5355\u8fdb\u7a0b\u7684\u65b9\u6848\u3002"),(0,l.kt)("h5",{id:"\u5355-reactor-\u591a\u7ebf\u7a0b--\u591a\u8fdb\u7a0b"},"\u5355 Reactor \u591a\u7ebf\u7a0b / \u591a\u8fdb\u7a0b"),(0,l.kt)("p",null,"\u5982\u679c\u8981\u514b\u670d\u300c\u5355 Reactor \u5355\u7ebf\u7a0b / \u8fdb\u7a0b\u300d\u65b9\u6848\u7684\u7f3a\u70b9\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5f15\u5165\u591a\u7ebf\u7a0b / \u591a\u8fdb\u7a0b\uff0c\u8fd9\u6837\u5c31\u4ea7\u751f\u4e86",(0,l.kt)("strong",{parentName:"p"},"\u5355 Reactor \u591a\u7ebf\u7a0b / \u591a\u8fdb\u7a0b"),"\u7684\u65b9\u6848\u3002"),(0,l.kt)("p",null,"\u95fb\u5176\u540d\u4e0d\u5982\u770b\u5176\u56fe\uff0c\u5148\u6765\u770b\u770b\u300c\u5355 Reactor \u591a\u7ebf\u7a0b\u300d\u65b9\u6848\u7684\u793a\u610f\u56fe\u5982\u4e0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725152423113",src:n(82247).Z,width:"1514",height:"1277"})),(0,l.kt)("p",null,"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u8fd9\u4e2a\u65b9\u6848\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Reactor \u5bf9\u8c61\u901a\u8fc7 select \uff08IO \u591a\u8def\u590d\u7528\u63a5\u53e3\uff09 \u76d1\u542c\u4e8b\u4ef6\uff0c\u6536\u5230\u4e8b\u4ef6\u540e\u901a\u8fc7 dispatch \u8fdb\u884c\u5206\u53d1\uff0c\u5177\u4f53\u5206\u53d1\u7ed9 Acceptor \u5bf9\u8c61\u8fd8\u662f Handler \u5bf9\u8c61\uff0c\u8fd8\u8981\u770b\u6536\u5230\u7684\u4e8b\u4ef6\u7c7b\u578b\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u662f\u8fde\u63a5\u5efa\u7acb\u7684\u4e8b\u4ef6\uff0c\u5219\u4ea4\u7531 Acceptor \u5bf9\u8c61\u8fdb\u884c\u5904\u7406\uff0cAcceptor \u5bf9\u8c61\u4f1a\u901a\u8fc7 accept \u65b9\u6cd5 \u83b7\u53d6\u8fde\u63a5\uff0c\u5e76\u521b\u5efa\u4e00\u4e2a Handler \u5bf9\u8c61\u6765\u5904\u7406\u540e\u7eed\u7684\u54cd\u5e94\u4e8b\u4ef6\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e0d\u662f\u8fde\u63a5\u5efa\u7acb\u4e8b\u4ef6\uff0c \u5219\u4ea4\u7531\u5f53\u524d\u8fde\u63a5\u5bf9\u5e94\u7684 Handler \u5bf9\u8c61\u6765\u8fdb\u884c\u54cd\u5e94\uff1b")),(0,l.kt)("p",null,"\u4e0a\u9762\u7684\u4e09\u4e2a\u6b65\u9aa4\u548c\u5355 Reactor \u5355\u7ebf\u7a0b\u65b9\u6848\u662f\u4e00\u6837\u7684\uff0c\u63a5\u4e0b\u6765\u7684\u6b65\u9aa4\u5c31\u5f00\u59cb\u4e0d\u4e00\u6837\u4e86\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Handler \u5bf9\u8c61\u4e0d\u518d\u8d1f\u8d23\u4e1a\u52a1\u5904\u7406\uff0c\u53ea\u8d1f\u8d23\u6570\u636e\u7684\u63a5\u6536\u548c\u53d1\u9001\uff0cHandler \u5bf9\u8c61\u901a\u8fc7 read \u8bfb\u53d6\u5230\u6570\u636e\u540e\uff0c\u4f1a\u5c06\u6570\u636e\u53d1\u7ed9\u5b50\u7ebf\u7a0b\u91cc\u7684 Processor \u5bf9\u8c61\u8fdb\u884c\u4e1a\u52a1\u5904\u7406\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5b50\u7ebf\u7a0b\u91cc\u7684 Processor \u5bf9\u8c61\u5c31\u8fdb\u884c\u4e1a\u52a1\u5904\u7406\uff0c\u5904\u7406\u5b8c\u540e\uff0c\u5c06\u7ed3\u679c\u53d1\u7ed9\u4e3b\u7ebf\u7a0b\u4e2d\u7684 Handler \u5bf9\u8c61\uff0c\u63a5\u7740\u7531 Handler \u901a\u8fc7 send \u65b9\u6cd5\u5c06\u54cd\u5e94\u7ed3\u679c\u53d1\u9001\u7ed9 client\uff1b")),(0,l.kt)("p",null,"\u5355 Reator \u591a\u7ebf\u7a0b\u7684\u65b9\u6848\u4f18\u52bf\u5728\u4e8e",(0,l.kt)("strong",{parentName:"p"},"\u80fd\u591f\u5145\u5206\u5229\u7528\u591a\u6838 CPU \u7684\u80fd"),"\uff0c\u90a3\u65e2\u7136\u5f15\u5165\u591a\u7ebf\u7a0b\uff0c\u90a3\u4e48\u81ea\u7136\u5c31\u5e26\u6765\u4e86\u591a\u7ebf\u7a0b\u7ade\u4e89\u8d44\u6e90\u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c\u5b50\u7ebf\u7a0b\u5b8c\u6210\u4e1a\u52a1\u5904\u7406\u540e\uff0c\u8981\u628a\u7ed3\u679c\u4f20\u9012\u7ed9\u4e3b\u7ebf\u7a0b\u7684 Handler \u8fdb\u884c\u53d1\u9001\uff0c\u8fd9\u91cc\u6d89\u53ca\u5171\u4eab\u6570\u636e\u7684\u7ade\u4e89\u3002"),(0,l.kt)("p",null,"\u8981\u907f\u514d\u591a\u7ebf\u7a0b\u7531\u4e8e\u7ade\u4e89\u5171\u4eab\u8d44\u6e90\u800c\u5bfc\u81f4\u6570\u636e\u9519\u4e71\u7684\u95ee\u9898\uff0c\u5c31\u9700\u8981\u5728\u64cd\u4f5c\u5171\u4eab\u8d44\u6e90\u524d\u52a0\u4e0a\u4e92\u65a5\u9501\uff0c\u4ee5\u4fdd\u8bc1\u4efb\u610f\u65f6\u95f4\u91cc\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u5728\u64cd\u4f5c\u5171\u4eab\u8d44\u6e90\uff0c\u5f85\u8be5\u7ebf\u7a0b\u64cd\u4f5c\u5b8c\u91ca\u653e\u4e92\u65a5\u9501\u540e\uff0c\u5176\u4ed6\u7ebf\u7a0b\u624d\u6709\u673a\u4f1a\u64cd\u4f5c\u5171\u4eab\u6570\u636e\u3002"),(0,l.kt)("p",null,"\u804a\u5b8c\u5355 Reactor \u591a\u7ebf\u7a0b\u7684\u65b9\u6848\uff0c\u63a5\u7740\u6765\u770b\u770b\u5355 Reactor \u591a\u8fdb\u7a0b\u7684\u65b9\u6848\u3002"),(0,l.kt)("p",null,"\u4e8b\u5b9e\u4e0a\uff0c\u5355 Reactor \u591a\u8fdb\u7a0b\u76f8\u6bd4\u5355 Reactor \u591a\u7ebf\u7a0b\u5b9e\u73b0\u8d77\u6765\u5f88\u9ebb\u70e6\uff0c\u4e3b\u8981\u56e0\u4e3a\u8981\u8003\u8651\u5b50\u8fdb\u7a0b <-> \u7236\u8fdb\u7a0b\u7684\u53cc\u5411\u901a\u4fe1\uff0c\u5e76\u4e14\u7236\u8fdb\u7a0b\u8fd8\u5f97\u77e5\u9053\u5b50\u8fdb\u7a0b\u8981\u5c06\u6570\u636e\u53d1\u9001\u7ed9\u54ea\u4e2a\u5ba2\u6237\u7aef\u3002"),(0,l.kt)("p",null,"\u800c\u591a\u7ebf\u7a0b\u95f4\u53ef\u4ee5\u5171\u4eab\u6570\u636e\uff0c\u867d\u7136\u8981\u989d\u5916\u8003\u8651\u5e76\u53d1\u95ee\u9898\uff0c\u4f46\u662f\u8fd9\u8fdc\u6bd4\u8fdb\u7a0b\u95f4\u901a\u4fe1\u7684\u590d\u6742\u5ea6\u4f4e\u5f97\u591a\uff0c\u56e0\u6b64\u5b9e\u9645\u5e94\u7528\u4e2d\u4e5f\u770b\u4e0d\u5230\u5355 Reactor \u591a\u8fdb\u7a0b\u7684\u6a21\u5f0f\u3002"),(0,l.kt)("p",null,"\u53e6\u5916\uff0c\u300c\u5355 Reactor\u300d\u7684\u6a21\u5f0f\u8fd8\u6709\u4e2a\u95ee\u9898\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u56e0\u4e3a\u4e00\u4e2a Reactor \u5bf9\u8c61\u627f\u62c5\u6240\u6709\u4e8b\u4ef6\u7684\u76d1\u542c\u548c\u54cd\u5e94\uff0c\u800c\u4e14\u53ea\u5728\u4e3b\u7ebf\u7a0b\u4e2d\u8fd0\u884c\uff0c\u5728\u9762\u5bf9\u77ac\u95f4\u9ad8\u5e76\u53d1\u7684\u573a\u666f\u65f6\uff0c\u5bb9\u6613\u6210\u4e3a\u6027\u80fd\u7684\u74f6\u9888\u7684\u5730\u65b9"),"\u3002"),(0,l.kt)("h5",{id:"\u591a-reactor-\u591a\u8fdb\u7a0b--\u7ebf\u7a0b"},"\u591a Reactor \u591a\u8fdb\u7a0b / \u7ebf\u7a0b"),(0,l.kt)("p",null,"\u8981\u89e3\u51b3\u300c\u5355 Reactor\u300d\u7684\u95ee\u9898\uff0c\u5c31\u662f\u5c06\u300c\u5355 Reactor\u300d\u5b9e\u73b0\u6210\u300c\u591a Reactor\u300d\uff0c\u8fd9\u6837\u5c31\u4ea7\u751f\u4e86\u7b2c ",(0,l.kt)("strong",{parentName:"p"},"\u591a Reactor \u591a\u8fdb\u7a0b / \u7ebf\u7a0b"),"\u7684\u65b9\u6848\u3002"),(0,l.kt)("p",null,"\u8001\u89c4\u77e9\uff0c\u95fb\u5176\u540d\u4e0d\u5982\u770b\u5176\u56fe\u3002\u591a Reactor \u591a\u8fdb\u7a0b / \u7ebf\u7a0b\u65b9\u6848\u7684\u793a\u610f\u56fe\u5982\u4e0b\uff08\u4ee5\u7ebf\u7a0b\u4e3a\u4f8b\uff09\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725152443546",src:n(49496).Z,width:"1772",height:"1262"})),(0,l.kt)("p",null,"\u65b9\u6848\u8be6\u7ec6\u8bf4\u660e\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e3b\u7ebf\u7a0b\u4e2d\u7684 MainReactor \u5bf9\u8c61\u901a\u8fc7 select \u76d1\u63a7\u8fde\u63a5\u5efa\u7acb\u4e8b\u4ef6\uff0c\u6536\u5230\u4e8b\u4ef6\u540e\u901a\u8fc7 Acceptor \u5bf9\u8c61\u4e2d\u7684 accept  \u83b7\u53d6\u8fde\u63a5\uff0c\u5c06\u65b0\u7684\u8fde\u63a5\u5206\u914d\u7ed9\u67d0\u4e2a\u5b50\u7ebf\u7a0b\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5b50\u7ebf\u7a0b\u4e2d\u7684 SubReactor \u5bf9\u8c61\u5c06 MainReactor \u5bf9\u8c61\u5206\u914d\u7684\u8fde\u63a5\u52a0\u5165 select \u7ee7\u7eed\u8fdb\u884c\u76d1\u542c\uff0c\u5e76\u521b\u5efa\u4e00\u4e2a Handler \u7528\u4e8e\u5904\u7406\u8fde\u63a5\u7684\u54cd\u5e94\u4e8b\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u6709\u65b0\u7684\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0cSubReactor \u5bf9\u8c61\u4f1a\u8c03\u7528\u5f53\u524d\u8fde\u63a5\u5bf9\u5e94\u7684 Handler \u5bf9\u8c61\u6765\u8fdb\u884c\u54cd\u5e94\u3002"),(0,l.kt)("li",{parentName:"ul"},"Handler \u5bf9\u8c61\u901a\u8fc7 read -> \u4e1a\u52a1\u5904\u7406 -> send \u7684\u6d41\u7a0b\u6765\u5b8c\u6210\u5b8c\u6574\u7684\u4e1a\u52a1\u6d41\u7a0b\u3002")),(0,l.kt)("p",null,"\u591a Reactor \u591a\u7ebf\u7a0b\u7684\u65b9\u6848\u867d\u7136\u770b\u8d77\u6765\u590d\u6742\u7684\uff0c\u4f46\u662f\u5b9e\u9645\u5b9e\u73b0\u65f6\u6bd4\u5355 Reactor \u591a\u7ebf\u7a0b\u7684\u65b9\u6848\u8981\u7b80\u5355\u7684\u591a\uff0c\u539f\u56e0\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e3b\u7ebf\u7a0b\u548c\u5b50\u7ebf\u7a0b\u5206\u5de5\u660e\u786e\uff0c\u4e3b\u7ebf\u7a0b\u53ea\u8d1f\u8d23\u63a5\u6536\u65b0\u8fde\u63a5\uff0c\u5b50\u7ebf\u7a0b\u8d1f\u8d23\u5b8c\u6210\u540e\u7eed\u7684\u4e1a\u52a1\u5904\u7406\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u4e3b\u7ebf\u7a0b\u548c\u5b50\u7ebf\u7a0b\u7684\u4ea4\u4e92\u5f88\u7b80\u5355\uff0c\u4e3b\u7ebf\u7a0b\u53ea\u9700\u8981\u628a\u65b0\u8fde\u63a5\u4f20\u7ed9\u5b50\u7ebf\u7a0b\uff0c\u5b50\u7ebf\u7a0b\u65e0\u987b\u8fd4\u56de\u6570\u636e\uff0c\u76f4\u63a5\u5c31\u53ef\u4ee5\u5728\u5b50\u7ebf\u7a0b\u5c06\u5904\u7406\u7ed3\u679c\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u3002")),(0,l.kt)("p",null,"\u5927\u540d\u9f0e\u9f0e\u7684\u4e24\u4e2a\u5f00\u6e90\u8f6f\u4ef6 Netty \u548c Memcache \u90fd\u91c7\u7528\u4e86\u300c\u591a Reactor \u591a\u7ebf\u7a0b\u300d\u7684\u65b9\u6848\u3002"),(0,l.kt)("p",null,"\u91c7\u7528\u4e86\u300c\u591a Reactor \u591a\u8fdb\u7a0b\u300d\u65b9\u6848\u7684\u5f00\u6e90\u8f6f\u4ef6\u662f Nginx\uff0c\u4e0d\u8fc7\u65b9\u6848\u4e0e\u6807\u51c6\u7684\u591a Reactor \u591a\u8fdb\u7a0b\u6709\u4e9b\u5dee\u5f02\u3002"),(0,l.kt)("p",null,"\u5177\u4f53\u5dee\u5f02\u8868\u73b0\u5728\u4e3b\u8fdb\u7a0b\u4e2d\u4ec5\u4ec5\u7528\u6765\u521d\u59cb\u5316 socket\uff0c\u5e76\u6ca1\u6709\u521b\u5efa mainReactor \u6765 accept \u8fde\u63a5\uff0c\u800c\u662f\u7531\u5b50\u8fdb\u7a0b\u7684 Reactor \u6765 accept  \u8fde\u63a5\uff0c\u901a\u8fc7\u9501\u6765\u63a7\u5236\u4e00\u6b21\u53ea\u6709\u4e00\u4e2a\u5b50\u8fdb\u7a0b\u8fdb\u884c accept\uff08\u9632\u6b62\u51fa\u73b0\u60ca\u7fa4\u73b0\u8c61\uff09\uff0c\u5b50\u8fdb\u7a0b accept \u65b0\u8fde\u63a5\u540e\u5c31\u653e\u5230\u81ea\u5df1\u7684 Reactor  \u8fdb\u884c\u5904\u7406\uff0c\u4e0d\u4f1a\u518d\u5206\u914d\u7ed9\u5176\u4ed6\u5b50\u8fdb\u7a0b\u3002"),(0,l.kt)("h4",{id:"proactor"},"Proactor"),(0,l.kt)("p",null,"\u524d\u9762\u63d0\u5230\u7684 Reactor \u662f\u975e\u963b\u585e\u540c\u6b65\u7f51\u7edc\u6a21\u5f0f\uff0c\u800c ",(0,l.kt)("strong",{parentName:"p"},"Proactor \u662f\u5f02\u6b65\u7f51\u7edc\u6a21\u5f0f"),"\u3002"),(0,l.kt)("p",null,"\u8fd9\u91cc\u5148\u7ed9\u5927\u5bb6\u590d\u4e60\u4e0b\u963b\u585e\u3001\u975e\u963b\u585e\u3001\u540c\u6b65\u3001\u5f02\u6b65 I/O \u7684\u6982\u5ff5\u3002"),(0,l.kt)("p",null,"\u5148\u6765\u770b\u770b",(0,l.kt)("strong",{parentName:"p"},"\u963b\u585e I/O"),"\uff0c\u5f53\u7528\u6237\u7a0b\u5e8f\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"read")," \uff0c\u7ebf\u7a0b\u4f1a\u88ab\u963b\u585e\uff0c\u4e00\u76f4\u7b49\u5230\u5185\u6838\u6570\u636e\u51c6\u5907\u597d\uff0c\u5e76\u628a\u6570\u636e\u4ece\u5185\u6838\u7f13\u51b2\u533a\u62f7\u8d1d\u5230\u5e94\u7528\u7a0b\u5e8f\u7684\u7f13\u51b2\u533a\u4e2d\uff0c\u5f53\u62f7\u8d1d\u8fc7\u7a0b\u5b8c\u6210\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"read")," \u624d\u4f1a\u8fd4\u56de\u3002"),(0,l.kt)("p",null,"\u6ce8\u610f\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u963b\u585e\u7b49\u5f85\u7684\u662f\u300c\u5185\u6838\u6570\u636e\u51c6\u5907\u597d\u300d\u548c\u300c\u6570\u636e\u4ece\u5185\u6838\u6001\u62f7\u8d1d\u5230\u7528\u6237\u6001\u300d\u8fd9\u4e24\u4e2a\u8fc7\u7a0b"),"\u3002\u8fc7\u7a0b\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725152513494",src:n(98109).Z,width:"707",height:"522"})),(0,l.kt)("p",null,"\u77e5\u9053\u4e86\u963b\u585e I/O \uff0c\u6765\u770b\u770b",(0,l.kt)("strong",{parentName:"p"},"\u975e\u963b\u585e I/O"),"\uff0c\u975e\u963b\u585e\u7684 read \u8bf7\u6c42\u5728\u6570\u636e\u672a\u51c6\u5907\u597d\u7684\u60c5\u51b5\u4e0b\u7acb\u5373\u8fd4\u56de\uff0c\u53ef\u4ee5\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c\uff0c\u6b64\u65f6\u5e94\u7528\u7a0b\u5e8f\u4e0d\u65ad\u8f6e\u8be2\u5185\u6838\uff0c\u76f4\u5230\u6570\u636e\u51c6\u5907\u597d\uff0c\u5185\u6838\u5c06\u6570\u636e\u62f7\u8d1d\u5230\u5e94\u7528\u7a0b\u5e8f\u7f13\u51b2\u533a\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"read")," \u8c03\u7528\u624d\u53ef\u4ee5\u83b7\u53d6\u5230\u7ed3\u679c\u3002\u8fc7\u7a0b\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725152523692",src:n(92879).Z,width:"677",height:"617"})),(0,l.kt)("p",null,"\u6ce8\u610f\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u8fd9\u91cc\u6700\u540e\u4e00\u6b21 read \u8c03\u7528\uff0c\u83b7\u53d6\u6570\u636e\u7684\u8fc7\u7a0b\uff0c\u662f\u4e00\u4e2a\u540c\u6b65\u7684\u8fc7\u7a0b\uff0c\u662f\u9700\u8981\u7b49\u5f85\u7684\u8fc7\u7a0b\u3002\u8fd9\u91cc\u7684\u540c\u6b65\u6307\u7684\u662f\u5185\u6838\u6001\u7684\u6570\u636e\u62f7\u8d1d\u5230\u7528\u6237\u7a0b\u5e8f\u7684\u7f13\u5b58\u533a\u8fd9\u4e2a\u8fc7\u7a0b\u3002")),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c socket \u8bbe\u7f6e\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"O_NONBLOCK")," \u6807\u5fd7\uff0c\u90a3\u4e48\u5c31\u8868\u793a\u4f7f\u7528\u7684\u662f\u975e\u963b\u585e I/O \u7684\u65b9\u5f0f\u8bbf\u95ee\uff0c\u800c\u4e0d\u505a\u4efb\u4f55\u8bbe\u7f6e\u7684\u8bdd\uff0c\u9ed8\u8ba4\u662f\u963b\u585e I/O\u3002"),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c\u65e0\u8bba read \u548c send \u662f\u963b\u585e I/O\uff0c\u8fd8\u662f\u975e\u963b\u585e I/O \u90fd\u662f\u540c\u6b65\u8c03\u7528\u3002\u56e0\u4e3a\u5728 read  \u8c03\u7528\u65f6\uff0c\u5185\u6838\u5c06\u6570\u636e\u4ece\u5185\u6838\u7a7a\u95f4\u62f7\u8d1d\u5230\u7528\u6237\u7a7a\u95f4\u7684\u8fc7\u7a0b\u90fd\u662f\u9700\u8981\u7b49\u5f85\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u540c\u6b65\u7684\uff0c\u5982\u679c\u5185\u6838\u5b9e\u73b0\u7684\u62f7\u8d1d\u6548\u7387\u4e0d\u9ad8\uff0cread  \u8c03\u7528\u5c31\u4f1a\u5728\u8fd9\u4e2a\u540c\u6b65\u8fc7\u7a0b\u4e2d\u7b49\u5f85\u6bd4\u8f83\u957f\u7684\u65f6\u95f4\u3002"),(0,l.kt)("p",null,"\u800c\u771f\u6b63\u7684",(0,l.kt)("strong",{parentName:"p"},"\u5f02\u6b65 I/O")," \u662f\u300c\u5185\u6838\u6570\u636e\u51c6\u5907\u597d\u300d\u548c\u300c\u6570\u636e\u4ece\u5185\u6838\u6001\u62f7\u8d1d\u5230\u7528\u6237\u6001\u300d\u8fd9",(0,l.kt)("strong",{parentName:"p"},"\u4e24\u4e2a\u8fc7\u7a0b\u90fd\u4e0d\u7528\u7b49\u5f85"),"\u3002"),(0,l.kt)("p",null,"\u5f53\u6211\u4eec\u53d1\u8d77 ",(0,l.kt)("inlineCode",{parentName:"p"},"aio_read")," \uff08\u5f02\u6b65 I/O\uff09 \u4e4b\u540e\uff0c\u5c31\u7acb\u5373\u8fd4\u56de\uff0c\u5185\u6838\u81ea\u52a8\u5c06\u6570\u636e\u4ece\u5185\u6838\u7a7a\u95f4\u62f7\u8d1d\u5230\u7528\u6237\u7a7a\u95f4\uff0c\u8fd9\u4e2a\u62f7\u8d1d\u8fc7\u7a0b\u540c\u6837\u662f\u5f02\u6b65\u7684\uff0c\u5185\u6838\u81ea\u52a8\u5b8c\u6210\u7684\uff0c\u548c\u524d\u9762\u7684\u540c\u6b65\u64cd\u4f5c\u4e0d\u4e00\u6837\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5e94\u7528\u7a0b\u5e8f\u5e76\u4e0d\u9700\u8981\u4e3b\u52a8\u53d1\u8d77\u62f7\u8d1d\u52a8\u4f5c"),"\u3002\u8fc7\u7a0b\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725152532905",src:n(61003).Z,width:"678",height:"618"})),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f60\u53bb\u996d\u5802\u5403\u996d\u7684\u4f8b\u5b50\uff0c\u4f60\u597d\u6bd4\u5e94\u7528\u7a0b\u5e8f\uff0c\u996d\u5802\u597d\u6bd4\u64cd\u4f5c\u7cfb\u7edf\u3002"),(0,l.kt)("p",null,"\u963b\u585e I/O \u597d\u6bd4\uff0c\u4f60\u53bb\u996d\u5802\u5403\u996d\uff0c\u4f46\u662f\u996d\u5802\u7684\u83dc\u8fd8\u6ca1\u505a\u597d\uff0c\u7136\u540e\u4f60\u5c31\u4e00\u76f4\u5728\u90a3\u91cc\u7b49\u554a\u7b49\uff0c\u7b49\u4e86\u597d\u957f\u4e00\u6bb5\u65f6\u95f4\u7ec8\u4e8e\u7b49\u5230\u996d\u5802\u963f\u59e8\u628a\u83dc\u7aef\u4e86\u51fa\u6765\uff08\u6570\u636e\u51c6\u5907\u7684\u8fc7\u7a0b\uff09\uff0c\u4f46\u662f\u4f60\u8fd8\u5f97\u7ee7\u7eed\u7b49\u963f\u59e8\u628a\u83dc\uff08\u5185\u6838\u7a7a\u95f4\uff09\u6253\u5230\u4f60\u7684\u996d\u76d2\u91cc\uff08\u7528\u6237\u7a7a\u95f4\uff09\uff0c\u7ecf\u5386\u5b8c\u8fd9\u4e24\u4e2a\u8fc7\u7a0b\uff0c\u4f60\u624d\u53ef\u4ee5\u79bb\u5f00\u3002"),(0,l.kt)("p",null,"\u975e\u963b\u585e I/O \u597d\u6bd4\uff0c\u4f60\u53bb\u4e86\u996d\u5802\uff0c\u95ee\u963f\u59e8\u83dc\u505a\u597d\u4e86\u6ca1\u6709\uff0c\u963f\u59e8\u544a\u8bc9\u4f60\u6ca1\uff0c\u4f60\u5c31\u79bb\u5f00\u4e86\uff0c\u8fc7\u51e0\u5341\u5206\u949f\uff0c\u4f60\u53c8\u6765\u996d\u5802\u95ee\u963f\u59e8\uff0c\u963f\u59e8\u8bf4\u505a\u597d\u4e86\uff0c\u4e8e\u662f\u963f\u59e8\u5e2e\u4f60\u628a\u83dc\u6253\u5230\u4f60\u7684\u996d\u76d2\u91cc\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4f60\u662f\u5f97\u7b49\u5f85\u7684\u3002"),(0,l.kt)("p",null,"\u5f02\u6b65 I/O \u597d\u6bd4\uff0c\u4f60\u8ba9\u996d\u5802\u963f\u59e8\u5c06\u83dc\u505a\u597d\u5e76\u628a\u83dc\u6253\u5230\u996d\u76d2\u91cc\u540e\uff0c\u628a\u996d\u76d2\u9001\u5230\u4f60\u9762\u524d\uff0c\u6574\u4e2a\u8fc7\u7a0b\u4f60\u90fd\u4e0d\u9700\u8981\u4efb\u4f55\u7b49\u5f85\u3002"),(0,l.kt)("p",null,"\u5f88\u660e\u663e\uff0c\u5f02\u6b65 I/O \u6bd4\u540c\u6b65 I/O \u6027\u80fd\u66f4\u597d\uff0c\u56e0\u4e3a\u5f02\u6b65 I/O \u5728\u300c\u5185\u6838\u6570\u636e\u51c6\u5907\u597d\u300d\u548c\u300c\u6570\u636e\u4ece\u5185\u6838\u7a7a\u95f4\u62f7\u8d1d\u5230\u7528\u6237\u7a7a\u95f4\u300d\u8fd9\u4e24\u4e2a\u8fc7\u7a0b\u90fd\u4e0d\u7528\u7b49\u5f85\u3002"),(0,l.kt)("p",null,"Proactor \u6b63\u662f\u91c7\u7528\u4e86\u5f02\u6b65 I/O \u6280\u672f\uff0c\u6240\u4ee5\u88ab\u79f0\u4e3a\u5f02\u6b65\u7f51\u7edc\u6a21\u578b\u3002"),(0,l.kt)("p",null,"\u73b0\u5728\u6211\u4eec\u518d\u6765\u7406\u89e3 Reactor \u548c Proactor \u7684\u533a\u522b\uff0c\u5c31\u6bd4\u8f83\u6e05\u6670\u4e86\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Reactor \u662f\u975e\u963b\u585e\u540c\u6b65\u7f51\u7edc\u6a21\u5f0f\uff0c\u611f\u77e5\u7684\u662f\u5c31\u7eea\u53ef\u8bfb\u5199\u4e8b\u4ef6"),"\u3002\u5728\u6bcf\u6b21\u611f\u77e5\u5230\u6709\u4e8b\u4ef6\u53d1\u751f\uff08\u6bd4\u5982\u53ef\u8bfb\u5c31\u7eea\u4e8b\u4ef6\uff09\u540e\uff0c\u5c31\u9700\u8981\u5e94\u7528\u8fdb\u7a0b\u4e3b\u52a8\u8c03\u7528 read \u65b9\u6cd5\u6765\u5b8c\u6210\u6570\u636e\u7684\u8bfb\u53d6\uff0c\u4e5f\u5c31\u662f\u8981\u5e94\u7528\u8fdb\u7a0b\u4e3b\u52a8\u5c06 socket \u63a5\u6536\u7f13\u5b58\u4e2d\u7684\u6570\u636e\u8bfb\u5230\u5e94\u7528\u8fdb\u7a0b\u5185\u5b58\u4e2d\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u540c\u6b65\u7684\uff0c\u8bfb\u53d6\u5b8c\u6570\u636e\u540e\u5e94\u7528\u8fdb\u7a0b\u624d\u80fd\u5904\u7406\u6570\u636e\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Proactor \u662f\u5f02\u6b65\u7f51\u7edc\u6a21\u5f0f\uff0c \u611f\u77e5\u7684\u662f\u5df2\u5b8c\u6210\u7684\u8bfb\u5199\u4e8b\u4ef6"),"\u3002\u5728\u53d1\u8d77\u5f02\u6b65\u8bfb\u5199\u8bf7\u6c42\u65f6\uff0c\u9700\u8981\u4f20\u5165\u6570\u636e\u7f13\u51b2\u533a\u7684\u5730\u5740\uff08\u7528\u6765\u5b58\u653e\u7ed3\u679c\u6570\u636e\uff09\u7b49\u4fe1\u606f\uff0c\u8fd9\u6837\u7cfb\u7edf\u5185\u6838\u624d\u53ef\u4ee5\u81ea\u52a8\u5e2e\u6211\u4eec\u628a\u6570\u636e\u7684\u8bfb\u5199\u5de5\u4f5c\u5b8c\u6210\uff0c\u8fd9\u91cc\u7684\u8bfb\u5199\u5de5\u4f5c\u5168\u7a0b\u7531\u64cd\u4f5c\u7cfb\u7edf\u6765\u505a\uff0c\u5e76\u4e0d\u9700\u8981\u50cf Reactor \u90a3\u6837\u8fd8\u9700\u8981\u5e94\u7528\u8fdb\u7a0b\u4e3b\u52a8\u53d1\u8d77 read/write \u6765\u8bfb\u5199\u6570\u636e\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5b8c\u6210\u8bfb\u5199\u5de5\u4f5c\u540e\uff0c\u5c31\u4f1a\u901a\u77e5\u5e94\u7528\u8fdb\u7a0b\u76f4\u63a5\u5904\u7406\u6570\u636e\u3002")),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c",(0,l.kt)("strong",{parentName:"p"},"Reactor \u53ef\u4ee5\u7406\u89e3\u4e3a\u300c\u6765\u4e86\u4e8b\u4ef6\u64cd\u4f5c\u7cfb\u7edf\u901a\u77e5\u5e94\u7528\u8fdb\u7a0b\uff0c\u8ba9\u5e94\u7528\u8fdb\u7a0b\u6765\u5904\u7406\u300d"),"\uff0c\u800c ",(0,l.kt)("strong",{parentName:"p"},"Proactor \u53ef\u4ee5\u7406\u89e3\u4e3a\u300c\u6765\u4e86\u4e8b\u4ef6\u64cd\u4f5c\u7cfb\u7edf\u6765\u5904\u7406\uff0c\u5904\u7406\u5b8c\u518d\u901a\u77e5\u5e94\u7528\u8fdb\u7a0b\u300d"),"\u3002\u8fd9\u91cc\u7684\u300c\u4e8b\u4ef6\u300d\u5c31\u662f\u6709\u65b0\u8fde\u63a5\u3001\u6709\u6570\u636e\u53ef\u8bfb\u3001\u6709\u6570\u636e\u53ef\u5199\u7684\u8fd9\u4e9b I/O \u4e8b\u4ef6\u8fd9\u91cc\u7684\u300c\u5904\u7406\u300d\u5305\u542b\u4ece\u9a71\u52a8\u8bfb\u53d6\u5230\u5185\u6838\u4ee5\u53ca\u4ece\u5185\u6838\u8bfb\u53d6\u5230\u7528\u6237\u7a7a\u95f4\u3002"),(0,l.kt)("p",null,"\u4e3e\u4e2a\u5b9e\u9645\u751f\u6d3b\u4e2d\u7684\u4f8b\u5b50\uff0cReactor \u6a21\u5f0f\u5c31\u662f\u5feb\u9012\u5458\u5728\u697c\u4e0b\uff0c\u7ed9\u4f60\u6253\u7535\u8bdd\u544a\u8bc9\u4f60\u5feb\u9012\u5230\u4f60\u5bb6\u5c0f\u533a\u4e86\uff0c\u4f60\u9700\u8981\u81ea\u5df1\u4e0b\u697c\u6765\u62ff\u5feb\u9012\u3002\u800c\u5728 Proactor \u6a21\u5f0f\u4e0b\uff0c\u5feb\u9012\u5458\u76f4\u63a5\u5c06\u5feb\u9012\u9001\u5230\u4f60\u5bb6\u95e8\u53e3\uff0c\u7136\u540e\u901a\u77e5\u4f60\u3002"),(0,l.kt)("p",null,"\u65e0\u8bba\u662f Reactor\uff0c\u8fd8\u662f Proactor\uff0c\u90fd\u662f\u4e00\u79cd\u57fa\u4e8e\u300c\u4e8b\u4ef6\u5206\u53d1\u300d\u7684\u7f51\u7edc\u7f16\u7a0b\u6a21\u5f0f\uff0c\u533a\u522b\u5728\u4e8e ",(0,l.kt)("strong",{parentName:"p"},"Reactor \u6a21\u5f0f\u662f\u57fa\u4e8e\u300c\u5f85\u5b8c\u6210\u300d\u7684 I/O \u4e8b\u4ef6\uff0c\u800c Proactor \u6a21\u5f0f\u5219\u662f\u57fa\u4e8e\u300c\u5df2\u5b8c\u6210\u300d\u7684 I/O \u4e8b\u4ef6"),"\u3002"),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u4e00\u8d77\u770b\u770b Proactor \u6a21\u5f0f\u7684\u793a\u610f\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725152542296",src:n(39247).Z,width:"1427",height:"654"})),(0,l.kt)("p",null,"\u4ecb\u7ecd\u4e00\u4e0b Proactor \u6a21\u5f0f\u7684\u5de5\u4f5c\u6d41\u7a0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Proactor Initiator \u8d1f\u8d23\u521b\u5efa Proactor \u548c Handler \u5bf9\u8c61\uff0c\u5e76\u5c06 Proactor \u548c Handler \u90fd\u901a\u8fc7 Asynchronous Operation Processor \u6ce8\u518c\u5230\u5185\u6838\uff1b"),(0,l.kt)("li",{parentName:"ul"},"Asynchronous Operation Processor \u8d1f\u8d23\u5904\u7406\u6ce8\u518c\u8bf7\u6c42\uff0c\u5e76\u5904\u7406 I/O \u64cd\u4f5c\uff1b"),(0,l.kt)("li",{parentName:"ul"},"Asynchronous Operation Processor \u5b8c\u6210 I/O \u64cd\u4f5c\u540e\u901a\u77e5 Proactor\uff1b"),(0,l.kt)("li",{parentName:"ul"},"Proactor \u6839\u636e\u4e0d\u540c\u7684\u4e8b\u4ef6\u7c7b\u578b\u56de\u8c03\u4e0d\u540c\u7684 Handler \u8fdb\u884c\u4e1a\u52a1\u5904\u7406\uff1b"),(0,l.kt)("li",{parentName:"ul"},"Handler \u5b8c\u6210\u4e1a\u52a1\u5904\u7406\uff1b")),(0,l.kt)("p",null,"\u53ef\u60dc\u7684\u662f\uff0c\u5728 Linux \u4e0b\u7684\u5f02\u6b65 I/O \u662f\u4e0d\u5b8c\u5584\u7684\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"aio")," \u7cfb\u5217\u51fd\u6570\u662f\u7531 POSIX  \u5b9a\u4e49\u7684\u5f02\u6b65\u64cd\u4f5c\u63a5\u53e3\uff0c\u4e0d\u662f\u771f\u6b63\u7684\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u522b\u652f\u6301\u7684\uff0c\u800c\u662f\u5728\u7528\u6237\u7a7a\u95f4\u6a21\u62df\u51fa\u6765\u7684\u5f02\u6b65\uff0c\u5e76\u4e14\u4ec5\u4ec5\u652f\u6301\u57fa\u4e8e\u672c\u5730\u6587\u4ef6\u7684 aio \u5f02\u6b65\u64cd\u4f5c\uff0c\u7f51\u7edc\u7f16\u7a0b\u4e2d\u7684  socket \u662f\u4e0d\u652f\u6301\u7684\uff0c\u8fd9\u4e5f\u4f7f\u5f97\u57fa\u4e8e Linux \u7684\u9ad8\u6027\u80fd\u7f51\u7edc\u7a0b\u5e8f\u90fd\u662f\u4f7f\u7528 Reactor \u65b9\u6848\u3002"),(0,l.kt)("p",null,"\u800c Windows \u91cc\u5b9e\u73b0\u4e86\u4e00\u5957\u5b8c\u6574\u7684\u652f\u6301 socket \u7684\u5f02\u6b65\u7f16\u7a0b\u63a5\u53e3\uff0c\u8fd9\u5957\u63a5\u53e3\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"IOCP"),"\uff0c\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u522b\u5b9e\u73b0\u7684\u5f02\u6b65 I/O\uff0c\u771f\u6b63\u610f\u4e49\u4e0a\u5f02\u6b65 I/O\uff0c\u56e0\u6b64\u5728 Windows \u91cc\u5b9e\u73b0\u9ad8\u6027\u80fd\u7f51\u7edc\u7a0b\u5e8f\u53ef\u4ee5\u4f7f\u7528\u6548\u7387\u66f4\u9ad8\u7684 Proactor \u65b9\u6848\u3002"),(0,l.kt)("h2",{id:"-spring\u7cfb\u5217"},"\ud83c\udf43 Spring\u7cfb\u5217"),(0,l.kt)("h3",{id:"\ufe0f-spring\u4e2d\u90fd\u6709\u54ea\u4e9b\u8bbe\u8ba1\u6a21\u5f0f2022\u70ed\u95e8\u95ee\u9898"},"\u2b50\ufe0f spring\u4e2d\u90fd\u6709\u54ea\u4e9b\u8bbe\u8ba1\u6a21\u5f0f\uff1f\uff082022\u70ed\u95e8\u95ee\u9898\uff09"),(0,l.kt)("p",null,"1\u3001",(0,l.kt)("strong",{parentName:"p"},"\u7b80\u5355\u5de5\u5382\u6a21\u5f0f"),"\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"BeanFactory"),"\u5c31\u662f\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u7684\u4f53\u73b0\uff0c\u6839\u636e\u4f20\u5165\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6\u6765\u83b7\u5f97 Bean \u5bf9\u8c61\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"@Override\npublic Object getBean(String name) throws BeansException {\n    assertBeanFactoryActive();\n    return getBeanFactory().getBean(name);\n}\n \n        Copied!\n    \n")),(0,l.kt)("p",null,"2\u3001",(0,l.kt)("strong",{parentName:"p"},"\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f"),"\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"FactoryBean"),"\u5c31\u662f\u5178\u578b\u7684\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u3002spring\u5728\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"getBean()"),"\u8c03\u7528\u83b7\u5f97\u8be5bean\u65f6\uff0c\u4f1a\u81ea\u52a8\u8c03\u7528\u8be5bean\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"getObject()"),"\u65b9\u6cd5\u3002\u6bcf\u4e2a Bean \u90fd\u4f1a\u5bf9\u5e94\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"FactoryBean"),"\uff0c\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"SqlSessionFactory")," \u5bf9\u5e94 ",(0,l.kt)("inlineCode",{parentName:"p"},"SqlSessionFactoryBean"),"\u3002"),(0,l.kt)("p",null,"3\u3001",(0,l.kt)("strong",{parentName:"p"},"\u5355\u4f8b\u6a21\u5f0f"),"\uff1a\u4e00\u4e2a\u7c7b\u4ec5\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u63d0\u4f9b\u4e00\u4e2a\u8bbf\u95ee\u5b83\u7684\u5168\u5c40\u8bbf\u95ee\u70b9\u3002Spring \u521b\u5efa Bean \u5b9e\u4f8b\u9ed8\u8ba4\u662f\u5355\u4f8b\u7684\u3002"),(0,l.kt)("p",null,"4\u3001",(0,l.kt)("strong",{parentName:"p"},"\u9002\u914d\u5668\u6a21\u5f0f"),"\uff1aSpringMVC\u4e2d\u7684\u9002\u914d\u5668",(0,l.kt)("inlineCode",{parentName:"p"},"HandlerAdatper"),"\u3002\u7531\u4e8e\u5e94\u7528\u4f1a\u6709\u591a\u4e2aController\u5b9e\u73b0\uff0c\u5982\u679c\u9700\u8981\u76f4\u63a5\u8c03\u7528Controller\u65b9\u6cd5\uff0c\u90a3\u4e48\u9700\u8981\u5148\u5224\u65ad\u662f\u7531\u54ea\u4e00\u4e2aController\u5904\u7406\u8bf7\u6c42\uff0c\u7136\u540e\u8c03\u7528\u76f8\u5e94\u7684\u65b9\u6cd5\u3002\u5f53\u589e\u52a0\u65b0\u7684 Controller\uff0c\u9700\u8981\u4fee\u6539\u539f\u6765\u7684\u903b\u8f91\uff0c\u8fdd\u53cd\u4e86\u5f00\u95ed\u539f\u5219\uff08\u5bf9\u4fee\u6539\u5173\u95ed\uff0c\u5bf9\u6269\u5c55\u5f00\u653e\uff09\u3002"),(0,l.kt)("p",null,"\u4e3a\u6b64\uff0cSpring\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9002\u914d\u5668\u63a5\u53e3\uff0c\u6bcf\u4e00\u79cd Controller \u5bf9\u5e94\u4e00\u79cd ",(0,l.kt)("inlineCode",{parentName:"p"},"HandlerAdapter")," \u5b9e\u73b0\u7c7b\uff0c\u5f53\u8bf7\u6c42\u8fc7\u6765\uff0cSpringMVC\u4f1a\u8c03\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"getHandler()"),"\u83b7\u53d6\u76f8\u5e94\u7684Controller\uff0c\u7136\u540e\u83b7\u53d6\u8be5Controller\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"HandlerAdapter"),"\uff0c\u6700\u540e\u8c03\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"HandlerAdapter"),"\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"handle()"),"\u65b9\u6cd5\u5904\u7406\u8bf7\u6c42\uff0c\u5b9e\u9645\u4e0a\u8c03\u7528\u7684\u662fController\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"handleRequest()"),"\u3002\u6bcf\u6b21\u6dfb\u52a0\u65b0\u7684 Controller \u65f6\uff0c\u53ea\u9700\u8981\u589e\u52a0\u4e00\u4e2a\u9002\u914d\u5668\u7c7b\u5c31\u53ef\u4ee5\uff0c\u65e0\u9700\u4fee\u6539\u539f\u6709\u7684\u903b\u8f91\u3002"),(0,l.kt)("p",null,"\u5e38\u7528\u7684\u5904\u7406\u5668\u9002\u914d\u5668\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"SimpleControllerHandlerAdapter"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"HttpRequestHandlerAdapter"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"AnnotationMethodHandlerAdapter"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// Determine handler for the current request.\nmappedHandler = getHandler(processedRequest);\n\nHandlerAdapter ha = getHandlerAdapter(mappedHandler.getHandler());\n\n// Actually invoke the handler.\nmv = ha.handle(processedRequest, response, mappedHandler.getHandler());\n\npublic class HttpRequestHandlerAdapter implements HandlerAdapter {\n\n    @Override\n    public boolean supports(Object handler) {//handler\u662f\u88ab\u9002\u914d\u7684\u5bf9\u8c61\uff0c\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u5bf9\u8c61\u7684\u9002\u914d\u5668\u6a21\u5f0f\n        return (handler instanceof HttpRequestHandler);\n    }\n\n    @Override\n    @Nullable\n    public ModelAndView handle(HttpServletRequest request, HttpServletResponse response, Object handler)\n        throws Exception {\n\n        ((HttpRequestHandler) handler).handleRequest(request, response);\n        return null;\n    }\n}\n")),(0,l.kt)("p",null,"5\u3001",(0,l.kt)("strong",{parentName:"p"},"\u4ee3\u7406\u6a21\u5f0f"),"\uff1aspring \u7684 aop \u4f7f\u7528\u4e86\u52a8\u6001\u4ee3\u7406\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f",(0,l.kt)("inlineCode",{parentName:"p"},"JdkDynamicAopProxy"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"Cglib2AopProxy"),"\u3002"),(0,l.kt)("p",null,"6\u3001",(0,l.kt)("strong",{parentName:"p"},"\u89c2\u5bdf\u8005\u6a21\u5f0f"),"\uff1aspring \u4e2d observer \u6a21\u5f0f\u5e38\u7528\u7684\u5730\u65b9\u662f listener \u7684\u5b9e\u73b0\uff0c\u5982",(0,l.kt)("inlineCode",{parentName:"p"},"ApplicationListener"),"\u3002"),(0,l.kt)("p",null,"7\u3001",(0,l.kt)("strong",{parentName:"p"},"\u6a21\u677f\u6a21\u5f0f"),"\uff1a Spring \u4e2d ",(0,l.kt)("inlineCode",{parentName:"p"},"jdbcTemplate"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"hibernateTemplate")," \u7b49\uff0c\u5c31\u4f7f\u7528\u5230\u4e86\u6a21\u677f\u6a21\u5f0f\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8be6\u7ec6")),(0,l.kt)("h4",{id:"\u5de5\u5382\u8bbe\u8ba1\u6a21\u5f0f"},"\u5de5\u5382\u8bbe\u8ba1\u6a21\u5f0f"),(0,l.kt)("p",null,"Spring\u4f7f\u7528\u5de5\u5382\u6a21\u5f0f\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"BeanFactory")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"ApplicationContext")," \u521b\u5efa bean \u5bf9\u8c61\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e24\u8005\u5bf9\u6bd4\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"BeanFactory")," \uff1a\u5ef6\u8fdf\u6ce8\u5165(\u4f7f\u7528\u5230\u67d0\u4e2a bean \u7684\u65f6\u5019\u624d\u4f1a\u6ce8\u5165),\u76f8\u6bd4\u4e8e ",(0,l.kt)("inlineCode",{parentName:"li"},"ApplicationContext")," \u6765\u8bf4\u4f1a\u5360\u7528\u66f4\u5c11\u7684\u5185\u5b58\uff0c\u7a0b\u5e8f\u542f\u52a8\u901f\u5ea6\u66f4\u5feb\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ApplicationContext")," \uff1a\u5bb9\u5668\u542f\u52a8\u7684\u65f6\u5019\uff0c\u4e0d\u7ba1\u4f60\u7528\u6ca1\u7528\u5230\uff0c\u4e00\u6b21\u6027\u521b\u5efa\u6240\u6709 bean \u3002",(0,l.kt)("inlineCode",{parentName:"li"},"BeanFactory")," \u4ec5\u63d0\u4f9b\u4e86\u6700\u57fa\u672c\u7684\u4f9d\u8d56\u6ce8\u5165\u652f\u6301\uff0c",(0,l.kt)("inlineCode",{parentName:"li"}," ApplicationContext")," \u6269\u5c55\u4e86 ",(0,l.kt)("inlineCode",{parentName:"li"},"BeanFactory")," ,\u9664\u4e86\u6709 ",(0,l.kt)("inlineCode",{parentName:"li"},"BeanFactory"),"\u7684\u529f\u80fd\u8fd8\u6709\u989d\u5916\u66f4\u591a\u529f\u80fd\uff0c\u6240\u4ee5\u4e00\u822c\u5f00\u53d1\u4eba\u5458\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"}," ApplicationContext"),"\u4f1a\u66f4\u591a\u3002")),(0,l.kt)("p",null,"ApplicationContext\u7684\u4e09\u4e2a\u5b9e\u73b0\u7c7b\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"ClassPathXmlApplication"),"\uff1a\u628a\u4e0a\u4e0b\u6587\u6587\u4ef6\u5f53\u6210\u7c7b\u8def\u5f84\u8d44\u6e90\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"FileSystemXmlApplication"),"\uff1a\u4ece\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684 XML \u6587\u4ef6\u8f7d\u5165\u4e0a\u4e0b\u6587\u5b9a\u4e49\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"XmlWebApplicationContext"),"\uff1a\u4eceWeb\u7cfb\u7edf\u4e2d\u7684XML\u6587\u4ef6\u8f7d\u5165\u4e0a\u4e0b\u6587\u5b9a\u4e49\u4fe1\u606f\u3002")),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'import org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.FileSystemXmlApplicationContext;\n \npublic class App {\n    public static void main(String[] args) {\n        ApplicationContext context = new FileSystemXmlApplicationContext(\n                "C:/work/IOC Containers/springframework.applicationcontext/src/main/resources/bean-factory-config.xml");\n \n        HelloApplicationContext obj = (HelloApplicationContext) context.getBean("helloApplicationContext");\n        obj.getMsg();\n    }\n}\n')),(0,l.kt)("h4",{id:"\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f"},"\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f"),(0,l.kt)("p",null,"\u5728\u6211\u4eec\u7684\u7cfb\u7edf\u4e2d\uff0c\u6709\u4e00\u4e9b\u5bf9\u8c61\u5176\u5b9e\u6211\u4eec\u53ea\u9700\u8981\u4e00\u4e2a\uff0c\u6bd4\u5982\u8bf4\uff1a\u7ebf\u7a0b\u6c60\u3001\u7f13\u5b58\u3001\u5bf9\u8bdd\u6846\u3001\u6ce8\u518c\u8868\u3001\u65e5\u5fd7\u5bf9\u8c61\u3001\u5145\u5f53\u6253\u5370\u673a\u3001\u663e\u5361\u7b49\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u7684\u5bf9\u8c61\u3002\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u4e00\u7c7b\u5bf9\u8c61\u53ea\u80fd\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5982\u679c\u5236\u9020\u51fa\u591a\u4e2a\u5b9e\u4f8b\u5c31\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u95ee\u9898\u7684\u4ea7\u751f\uff0c\u6bd4\u5982\uff1a\u7a0b\u5e8f\u7684\u884c\u4e3a\u5f02\u5e38\u3001\u8d44\u6e90\u4f7f\u7528\u8fc7\u91cf\u3001\u6216\u8005\u4e0d\u4e00\u81f4\u6027\u7684\u7ed3\u679c\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4f7f\u7528\u5355\u4f8b\u6a21\u5f0f\u7684\u597d\u5904:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5bf9\u4e8e\u9891\u7e41\u4f7f\u7528\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u7701\u7565\u521b\u5efa\u5bf9\u8c61\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u8fd9\u5bf9\u4e8e\u90a3\u4e9b\u91cd\u91cf\u7ea7\u5bf9\u8c61\u800c\u8a00\uff0c\u662f\u975e\u5e38\u53ef\u89c2\u7684\u4e00\u7b14\u7cfb\u7edf\u5f00\u9500\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7531\u4e8e new \u64cd\u4f5c\u7684\u6b21\u6570\u51cf\u5c11\uff0c\u56e0\u800c\u5bf9\u7cfb\u7edf\u5185\u5b58\u7684\u4f7f\u7528\u9891\u7387\u4e5f\u4f1a\u964d\u4f4e\uff0c\u8fd9\u5c06\u51cf\u8f7b GC \u538b\u529b\uff0c\u7f29\u77ed GC \u505c\u987f\u65f6\u95f4\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Spring \u4e2d bean \u7684\u9ed8\u8ba4\u4f5c\u7528\u57df\u5c31\u662f singleton(\u5355\u4f8b)\u7684\u3002")," \u9664\u4e86 singleton \u4f5c\u7528\u57df\uff0cSpring \u4e2d bean \u8fd8\u6709\u4e0b\u9762\u51e0\u79cd\u4f5c\u7528\u57df\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"prototype : \u6bcf\u6b21\u8bf7\u6c42\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 bean \u5b9e\u4f8b\u3002"),(0,l.kt)("li",{parentName:"ul"},"request : \u6bcf\u4e00\u6b21HTTP\u8bf7\u6c42\u90fd\u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684bean\uff0c\u8be5bean\u4ec5\u5728\u5f53\u524dHTTP request\u5185\u6709\u6548\u3002"),(0,l.kt)("li",{parentName:"ul"},"session : \u6bcf\u4e00\u6b21HTTP\u8bf7\u6c42\u90fd\u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684 bean\uff0c\u8be5bean\u4ec5\u5728\u5f53\u524d HTTP session \u5185\u6709\u6548\u3002"),(0,l.kt)("li",{parentName:"ul"},"global-session\uff1a  \u5168\u5c40session\u4f5c\u7528\u57df\uff0c\u4ec5\u4ec5\u5728\u57fa\u4e8eportlet\u7684web\u5e94\u7528\u4e2d\u624d\u6709\u610f\u4e49\uff0cSpring5\u5df2\u7ecf\u6ca1\u6709\u4e86\u3002Portlet\u662f\u80fd\u591f\u751f\u6210\u8bed\u4e49\u4ee3\u7801(\u4f8b\u5982\uff1aHTML)\u7247\u6bb5\u7684\u5c0f\u578bJava Web\u63d2\u4ef6\u3002\u5b83\u4eec\u57fa\u4e8eportlet\u5bb9\u5668\uff0c\u53ef\u4ee5\u50cfservlet\u4e00\u6837\u5904\u7406HTTP\u8bf7\u6c42\u3002\u4f46\u662f\uff0c\u4e0e servlet \u4e0d\u540c\uff0c\u6bcf\u4e2a portlet  \u90fd\u6709\u4e0d\u540c\u7684\u4f1a\u8bdd")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Spring \u5b9e\u73b0\u5355\u4f8b\u7684\u65b9\u5f0f\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"xml : ",(0,l.kt)("inlineCode",{parentName:"li"},'<bean id="userService" class="top.snailclimb.UserService" scope="singleton"/>')),(0,l.kt)("li",{parentName:"ul"},"\u6ce8\u89e3\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},'@Scope(value = "singleton")'))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Spring \u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"strong"},"ConcurrentHashMap")," \u5b9e\u73b0\u5355\u4f8b\u6ce8\u518c\u8868\u7684\u7279\u6b8a\u65b9\u5f0f\u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f\u3002Spring \u5b9e\u73b0\u5355\u4f8b\u7684\u6838\u5fc3\u4ee3\u7801\u5982\u4e0b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// \u901a\u8fc7 ConcurrentHashMap\uff08\u7ebf\u7a0b\u5b89\u5168\uff09 \u5b9e\u73b0\u5355\u4f8b\u6ce8\u518c\u8868\nprivate final Map<String, Object> singletonObjects = new ConcurrentHashMap<String, Object>(64);\n\npublic Object getSingleton(String beanName, ObjectFactory<?> singletonFactory) {\n        Assert.notNull(beanName, \"'beanName' must not be null\");\n        synchronized (this.singletonObjects) {\n            // \u68c0\u67e5\u7f13\u5b58\u4e2d\u662f\u5426\u5b58\u5728\u5b9e\u4f8b  \n            Object singletonObject = this.singletonObjects.get(beanName);\n            if (singletonObject == null) {\n                //...\u7701\u7565\u4e86\u5f88\u591a\u4ee3\u7801\n                try {\n                    singletonObject = singletonFactory.getObject();\n                }\n                //...\u7701\u7565\u4e86\u5f88\u591a\u4ee3\u7801\n                // \u5982\u679c\u5b9e\u4f8b\u5bf9\u8c61\u5728\u4e0d\u5b58\u5728\uff0c\u6211\u4eec\u6ce8\u518c\u5230\u5355\u4f8b\u6ce8\u518c\u8868\u4e2d\u3002\n                addSingleton(beanName, singletonObject);\n            }\n            return (singletonObject != NULL_OBJECT ? singletonObject : null);\n        }\n    }\n    //\u5c06\u5bf9\u8c61\u6dfb\u52a0\u5230\u5355\u4f8b\u6ce8\u518c\u8868\n    protected void addSingleton(String beanName, Object singletonObject) {\n            synchronized (this.singletonObjects) {\n                this.singletonObjects.put(beanName, (singletonObject != null ? singletonObject : NULL_OBJECT));\n\n            }\n        }\n}\n")),(0,l.kt)("h4",{id:"\u4ee3\u7406\u8bbe\u8ba1\u6a21\u5f0f"},"\u4ee3\u7406\u8bbe\u8ba1\u6a21\u5f0f"),(0,l.kt)("h5",{id:"\u4ee3\u7406\u6a21\u5f0f\u5728-aop-\u4e2d\u7684\u5e94\u7528"},"\u4ee3\u7406\u6a21\u5f0f\u5728 AOP \u4e2d\u7684\u5e94\u7528"),(0,l.kt)("p",null,"AOP(Aspect-Oriented Programming:\u9762\u5411\u5207\u9762\u7f16\u7a0b)\u80fd\u591f\u5c06\u90a3\u4e9b\u4e0e\u4e1a\u52a1\u65e0\u5173\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5374\u4e3a\u4e1a\u52a1\u6a21\u5757\u6240\u5171\u540c\u8c03\u7528\u7684\u903b\u8f91\u6216\u8d23\u4efb\uff08\u4f8b\u5982\u4e8b\u52a1\u5904\u7406\u3001\u65e5\u5fd7\u7ba1\u7406\u3001\u6743\u9650\u63a7\u5236\u7b49\uff09\u5c01\u88c5\u8d77\u6765"),"\uff0c\u4fbf\u4e8e",(0,l.kt)("strong",{parentName:"p"},"\u51cf\u5c11\u7cfb\u7edf\u7684\u91cd\u590d\u4ee3\u7801"),"\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u964d\u4f4e\u6a21\u5757\u95f4\u7684\u8026\u5408\u5ea6"),"\uff0c\u5e76",(0,l.kt)("strong",{parentName:"p"},"\u6709\u5229\u4e8e\u672a\u6765\u7684\u53ef\u62d3\u5c55\u6027\u548c\u53ef\u7ef4\u62a4\u6027"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Spring AOP \u5c31\u662f\u57fa\u4e8e\u52a8\u6001\u4ee3\u7406\u7684"),"\uff0c\u5982\u679c\u8981\u4ee3\u7406\u7684\u5bf9\u8c61\uff0c\u5b9e\u73b0\u4e86\u67d0\u4e2a\u63a5\u53e3\uff0c\u90a3\u4e48Spring AOP\u4f1a\u4f7f\u7528",(0,l.kt)("strong",{parentName:"p"},"JDK Proxy"),"\uff0c\u53bb\u521b\u5efa\u4ee3\u7406\u5bf9\u8c61\uff0c\u800c\u5bf9\u4e8e\u6ca1\u6709\u5b9e\u73b0\u63a5\u53e3\u7684\u5bf9\u8c61\uff0c\u5c31\u65e0\u6cd5\u4f7f\u7528 JDK Proxy \u53bb\u8fdb\u884c\u4ee3\u7406\u4e86\uff0c\u8fd9\u65f6\u5019Spring AOP\u4f1a\u4f7f\u7528 ",(0,l.kt)("strong",{parentName:"p"},"Cglib")," \u751f\u6210\u4e00\u4e2a\u88ab\u4ee3\u7406\u5bf9\u8c61\u7684\u5b50\u7c7b\u6765\u4f5c\u4e3a\u4ee3\u7406\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220616162330096",src:n(9860).Z,width:"720",height:"354"})),(0,l.kt)("p",null,"\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 AspectJ ,Spring AOP \u5df2\u7ecf\u96c6\u6210\u4e86AspectJ \uff0cAspectJ \u5e94\u8be5\u7b97\u7684\u4e0a\u662f Java \u751f\u6001\u7cfb\u7edf\u4e2d\u6700\u5b8c\u6574\u7684 AOP \u6846\u67b6\u4e86\u3002"),(0,l.kt)("p",null,"\u4f7f\u7528 AOP \u4e4b\u540e\u6211\u4eec\u53ef\u4ee5\u628a\u4e00\u4e9b\u901a\u7528\u529f\u80fd\u62bd\u8c61\u51fa\u6765\uff0c\u5728\u9700\u8981\u7528\u5230\u7684\u5730\u65b9\u76f4\u63a5\u4f7f\u7528\u5373\u53ef\uff0c\u8fd9\u6837\u5927\u5927\u7b80\u5316\u4e86\u4ee3\u7801\u91cf\u3002\u6211\u4eec\u9700\u8981\u589e\u52a0\u65b0\u529f\u80fd\u65f6\u4e5f\u65b9\u4fbf\uff0c\u8fd9\u6837\u4e5f\u63d0\u9ad8\u4e86\u7cfb\u7edf\u6269\u5c55\u6027\u3002\u65e5\u5fd7\u529f\u80fd\u3001\u4e8b\u52a1\u7ba1\u7406\u7b49\u7b49\u573a\u666f\u90fd\u7528\u5230\u4e86 AOP \u3002"),(0,l.kt)("h4",{id:"\u6a21\u677f\u65b9\u6cd5"},"\u6a21\u677f\u65b9\u6cd5"),(0,l.kt)("p",null,"\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f\u662f\u4e00\u79cd\u884c\u4e3a\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5b83\u5b9a\u4e49\u4e00\u4e2a\u64cd\u4f5c\u4e2d\u7684\u7b97\u6cd5\u7684\u9aa8\u67b6\uff0c\u800c\u5c06\u4e00\u4e9b\u6b65\u9aa4\u5ef6\u8fdf\u5230\u5b50\u7c7b\u4e2d\u3002 \u6a21\u677f\u65b9\u6cd5\u4f7f\u5f97\u5b50\u7c7b\u53ef\u4ee5\u4e0d\u6539\u53d8\u4e00\u4e2a\u7b97\u6cd5\u7684\u7ed3\u6784\u5373\u53ef\u91cd\u5b9a\u4e49\u8be5\u7b97\u6cd5\u7684\u67d0\u4e9b\u7279\u5b9a\u6b65\u9aa4\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public abstract class Template {\n    //\u8fd9\u662f\u6211\u4eec\u7684\u6a21\u677f\u65b9\u6cd5\n    public final void TemplateMethod(){\n        PrimitiveOperation1();  \n        PrimitiveOperation2();\n        PrimitiveOperation3();\n    }\n\n    protected void  PrimitiveOperation1(){\n        //\u5f53\u524d\u7c7b\u5b9e\u73b0\n    }\n  \n    //\u88ab\u5b50\u7c7b\u5b9e\u73b0\u7684\u65b9\u6cd5\n    protected abstract void PrimitiveOperation2();\n    protected abstract void PrimitiveOperation3();\n\n}\npublic class TemplateImpl extends Template {\n\n    @Override\n    public void PrimitiveOperation2() {\n        //\u5f53\u524d\u7c7b\u5b9e\u73b0\n    }\n  \n    @Override\n    public void PrimitiveOperation3() {\n        //\u5f53\u524d\u7c7b\u5b9e\u73b0\n    }\n}\n")),(0,l.kt)("p",null,"Spring \u4e2d ",(0,l.kt)("inlineCode",{parentName:"p"},"jdbcTemplate"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"hibernateTemplate")," \u7b49\u4ee5 Template \u7ed3\u5c3e\u7684\u5bf9\u6570\u636e\u5e93\u64cd\u4f5c\u7684\u7c7b\uff0c\u5b83\u4eec\u5c31\u4f7f\u7528\u5230\u4e86\u6a21\u677f\u6a21\u5f0f\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u90fd\u662f\u4f7f\u7528\u7ee7\u627f\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u6a21\u677f\u6a21\u5f0f\uff0c\u4f46\u662f Spring \u5e76\u6ca1\u6709\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u800c\u662f\u4f7f\u7528Callback \u6a21\u5f0f\u4e0e\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f\u914d\u5408\uff0c\u65e2\u8fbe\u5230\u4e86\u4ee3\u7801\u590d\u7528\u7684\u6548\u679c\uff0c\u540c\u65f6\u589e\u52a0\u4e86\u7075\u6d3b\u6027\u3002"),(0,l.kt)("h4",{id:"\u89c2\u5bdf\u8005\u6a21\u5f0f"},"\u89c2\u5bdf\u8005\u6a21\u5f0f"),(0,l.kt)("p",null,"\u89c2\u5bdf\u8005\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002\u5b83\u8868\u793a\u7684\u662f\u4e00\u79cd\u5bf9\u8c61\u4e0e\u5bf9\u8c61\u4e4b\u95f4\u5177\u6709\u4f9d\u8d56\u5173\u7cfb\uff0c\u5f53\u4e00\u4e2a\u5bf9\u8c61\u53d1\u751f\u6539\u53d8\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u6240\u4f9d\u8d56\u7684\u5bf9\u8c61\u4e5f\u4f1a\u505a\u51fa\u53cd\u5e94\u3002Spring \u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\u5c31\u662f\u89c2\u5bdf\u8005\u6a21\u5f0f\u5f88\u7ecf\u5178\u7684\u4e00\u4e2a\u5e94\u7528\u3002Spring  \u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\u975e\u5e38\u6709\u7528\uff0c\u5728\u5f88\u591a\u573a\u666f\u90fd\u53ef\u4ee5\u89e3\u8026\u6211\u4eec\u7684\u4ee3\u7801\u3002\u6bd4\u5982\u6211\u4eec\u6bcf\u6b21\u6dfb\u52a0\u5546\u54c1\u7684\u65f6\u5019\u90fd\u9700\u8981\u91cd\u65b0\u66f4\u65b0\u5546\u54c1\u7d22\u5f15\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u53ef\u4ee5\u5229\u7528\u89c2\u5bdf\u8005\u6a21\u5f0f\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002"),(0,l.kt)("h5",{id:"spring-\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\u4e2d\u7684\u4e09\u79cd\u89d2\u8272"},"Spring \u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\u4e2d\u7684\u4e09\u79cd\u89d2\u8272"),(0,l.kt)("h6",{id:"\u4e8b\u4ef6\u89d2\u8272"},"\u4e8b\u4ef6\u89d2\u8272"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ApplicationEvent")," (",(0,l.kt)("inlineCode",{parentName:"p"},"org.springframework.context"),"\u5305\u4e0b)\u5145\u5f53\u4e8b\u4ef6\u7684\u89d2\u8272,\u8fd9\u662f\u4e00\u4e2a\u62bd\u8c61\u7c7b\uff0c\u5b83\u7ee7\u627f\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"java.util.EventObject"),"\u5e76\u5b9e\u73b0\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"java.io.Serializable"),"\u63a5\u53e3\u3002"),(0,l.kt)("p",null,"Spring \u4e2d\u9ed8\u8ba4\u5b58\u5728\u4ee5\u4e0b\u4e8b\u4ef6\uff0c\u4ed6\u4eec\u90fd\u662f\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"p"},"ApplicationContextEvent")," \u7684\u5b9e\u73b0(\u7ee7\u627f\u81ea ",(0,l.kt)("inlineCode",{parentName:"p"},"ApplicationContextEvent"),")\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ContextStartedEvent"),"\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"ApplicationContext")," \u542f\u52a8\u540e\u89e6\u53d1\u7684\u4e8b\u4ef6;"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ContextStoppedEvent"),"\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"ApplicationContext")," \u505c\u6b62\u540e\u89e6\u53d1\u7684\u4e8b\u4ef6;"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ContextRefreshedEvent"),"\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"ApplicationContext")," \u521d\u59cb\u5316\u6216\u5237\u65b0\u5b8c\u6210\u540e\u89e6\u53d1\u7684\u4e8b\u4ef6;"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ContextClosedEvent"),"\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"ApplicationContext")," \u5173\u95ed\u540e\u89e6\u53d1\u7684\u4e8b\u4ef6\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220616162504520",src:n(63622).Z,width:"640",height:"177"})),(0,l.kt)("h6",{id:"\u4e8b\u4ef6\u76d1\u542c\u8005\u89d2\u8272"},"\u4e8b\u4ef6\u76d1\u542c\u8005\u89d2\u8272"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ApplicationListener")," \u5145\u5f53\u4e86\u4e8b\u4ef6\u76d1\u542c\u8005\u89d2\u8272\uff0c\u5b83\u662f\u4e00\u4e2a\u63a5\u53e3\uff0c\u91cc\u9762\u53ea\u5b9a\u4e49\u4e86\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"onApplicationEvent\uff08\uff09"),"\u65b9\u6cd5\u6765\u5904\u7406 ",(0,l.kt)("inlineCode",{parentName:"p"},"ApplicationEvent"),"\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"ApplicationListener"),"\u63a5\u53e3\u7c7b\u6e90\u7801\u5982\u4e0b\uff0c\u53ef\u4ee5\u770b\u51fa\u63a5\u53e3\u5b9a\u4e49\u770b\u51fa\u63a5\u53e3\u4e2d\u7684\u4e8b\u4ef6\u53ea\u8981\u5b9e\u73b0\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"ApplicationEvent"),"\u5c31\u53ef\u4ee5\u4e86\u3002\u6240\u4ee5\uff0c\u5728 Spring\u4e2d\u6211\u4eec\u53ea\u8981\u5b9e\u73b0 ",(0,l.kt)("inlineCode",{parentName:"p"},"ApplicationListener")," \u63a5\u53e3\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"onApplicationEvent()")," \u65b9\u6cd5\u5373\u53ef\u5b8c\u6210\u76d1\u542c\u4e8b\u4ef6"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"package org.springframework.context;\nimport java.util.EventListener;\n@FunctionalInterface\npublic interface ApplicationListener<E extends ApplicationEvent> extends EventListener {\n    void onApplicationEvent(E var1);\n}\n")),(0,l.kt)("h6",{id:"\u4e8b\u4ef6\u53d1\u5e03\u8005\u89d2\u8272"},"\u4e8b\u4ef6\u53d1\u5e03\u8005\u89d2\u8272"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ApplicationEventPublisher")," \u5145\u5f53\u4e86\u4e8b\u4ef6\u7684\u53d1\u5e03\u8005\uff0c\u5b83\u4e5f\u662f\u4e00\u4e2a\u63a5\u53e3\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"@FunctionalInterface\npublic interface ApplicationEventPublisher {\n    default void publishEvent(ApplicationEvent event) {\n        this.publishEvent((Object)event);\n    }\n\n    void publishEvent(Object var1);\n}\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ApplicationEventPublisher")," \u63a5\u53e3\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"publishEvent\uff08\uff09"),"\u8fd9\u4e2a\u65b9\u6cd5\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"AbstractApplicationContext"),"\u7c7b\u4e2d\u88ab\u5b9e\u73b0\uff0c\u9605\u8bfb\u8fd9\u4e2a\u65b9\u6cd5\u7684\u5b9e\u73b0\uff0c\u4f60\u4f1a\u53d1\u73b0\u5b9e\u9645\u4e0a\u4e8b\u4ef6\u771f\u6b63\u662f\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"ApplicationEventMulticaster"),"\u6765\u5e7f\u64ad\u51fa\u53bb\u7684\u3002"),(0,l.kt)("h4",{id:"\u9002\u914d\u5668\u6a21\u5f0f"},"\u9002\u914d\u5668\u6a21\u5f0f"),(0,l.kt)("p",null,"\u9002\u914d\u5668\u6a21\u5f0f(Adapter Pattern) \u5c06\u4e00\u4e2a\u63a5\u53e3\u8f6c\u6362\u6210\u5ba2\u6237\u5e0c\u671b\u7684\u53e6\u4e00\u4e2a\u63a5\u53e3\uff0c\u9002\u914d\u5668\u6a21\u5f0f\u4f7f\u63a5\u53e3\u4e0d\u517c\u5bb9\u7684\u90a3\u4e9b\u7c7b\u53ef\u4ee5\u4e00\u8d77\u5de5\u4f5c\uff0c\u5176\u522b\u540d\u4e3a\u5305\u88c5\u5668(Wrapper)\u3002"),(0,l.kt)("h5",{id:"spring-aop\u4e2d\u7684\u9002\u914d\u5668\u6a21\u5f0f"},"spring AOP\u4e2d\u7684\u9002\u914d\u5668\u6a21\u5f0f"),(0,l.kt)("p",null,"\u6211\u4eec\u77e5\u9053 Spring AOP \u7684\u5b9e\u73b0\u662f\u57fa\u4e8e\u4ee3\u7406\u6a21\u5f0f\uff0c\u4f46\u662f Spring AOP \u7684\u589e\u5f3a\u6216\u901a\u77e5(Advice)\u4f7f\u7528\u5230\u4e86\u9002\u914d\u5668\u6a21\u5f0f\uff0c\u4e0e\u4e4b\u76f8\u5173\u7684\u63a5\u53e3\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"AdvisorAdapter ")," \u3002Advice \u5e38\u7528\u7684\u7c7b\u578b\u6709\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"BeforeAdvice"),"\uff08\u76ee\u6807\u65b9\u6cd5\u8c03\u7528\u524d,\u524d\u7f6e\u901a\u77e5\uff09\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"AfterAdvice"),"\uff08\u76ee\u6807\u65b9\u6cd5\u8c03\u7528\u540e,\u540e\u7f6e\u901a\u77e5\uff09\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"AfterReturningAdvice"),"(\u76ee\u6807\u65b9\u6cd5\u6267\u884c\u7ed3\u675f\u540e\uff0creturn\u4e4b\u524d)\u7b49\u7b49\u3002\u6bcf\u4e2a\u7c7b\u578bAdvice\uff08\u901a\u77e5\uff09\u90fd\u6709\u5bf9\u5e94\u7684\u62e6\u622a\u5668:",(0,l.kt)("inlineCode",{parentName:"p"},"MethodBeforeAdviceInterceptor"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"AfterReturningAdviceAdapter"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"AfterReturningAdviceInterceptor"),"\u3002Spring\u9884\u5b9a\u4e49\u7684\u901a\u77e5\u8981\u901a\u8fc7\u5bf9\u5e94\u7684\u9002\u914d\u5668\uff0c\u9002\u914d\u6210 ",(0,l.kt)("inlineCode",{parentName:"p"},"MethodInterceptor"),"\u63a5\u53e3(\u65b9\u6cd5\u62e6\u622a\u5668)\u7c7b\u578b\u7684\u5bf9\u8c61\uff08\u5982\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"MethodBeforeAdviceInterceptor")," \u8d1f\u8d23\u9002\u914d ",(0,l.kt)("inlineCode",{parentName:"p"},"MethodBeforeAdvice"),"\uff09\u3002"),(0,l.kt)("h5",{id:"spring-mvc\u4e2d\u7684\u9002\u914d\u5668\u6a21\u5f0f"},"spring MVC\u4e2d\u7684\u9002\u914d\u5668\u6a21\u5f0f"),(0,l.kt)("p",null,"\u5728Spring MVC\u4e2d\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"DispatcherServlet")," \u6839\u636e\u8bf7\u6c42\u4fe1\u606f\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"HandlerMapping"),"\uff0c\u89e3\u6790\u8bf7\u6c42\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Handler"),"\u3002\u89e3\u6790\u5230\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Handler"),"\uff08\u4e5f\u5c31\u662f\u6211\u4eec\u5e73\u5e38\u8bf4\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Controller")," \u63a7\u5236\u5668\uff09\u540e\uff0c\u5f00\u59cb\u7531 ",(0,l.kt)("inlineCode",{parentName:"p"},"HandlerAdapter")," \u9002\u914d\u5668\u5904\u7406\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"HandlerAdapter")," \u4f5c\u4e3a\u671f\u671b\u63a5\u53e3\uff0c\u5177\u4f53\u7684\u9002\u914d\u5668\u5b9e\u73b0\u7c7b\u7528\u4e8e\u5bf9\u76ee\u6807\u7c7b\u8fdb\u884c\u9002\u914d\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"Controller")," \u4f5c\u4e3a\u9700\u8981\u9002\u914d\u7684\u7c7b\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e3a\u4ec0\u4e48\u8981\u5728 Spring MVC \u4e2d\u4f7f\u7528\u9002\u914d\u5668\u6a21\u5f0f\uff1f")," Spring MVC \u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Controller")," \u79cd\u7c7b\u4f17\u591a\uff0c\u4e0d\u540c\u7c7b\u578b\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Controller")," \u901a\u8fc7\u4e0d\u540c\u7684\u65b9\u6cd5\u6765\u5bf9\u8bf7\u6c42\u8fdb\u884c\u5904\u7406\u3002\u5982\u679c\u4e0d\u5229\u7528\u9002\u914d\u5668\u6a21\u5f0f\u7684\u8bdd\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"DispatcherServlet")," \u76f4\u63a5\u83b7\u53d6\u5bf9\u5e94\u7c7b\u578b\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Controller"),"\uff0c\u9700\u8981\u7684\u81ea\u884c\u6765\u5224\u65ad\uff0c\u50cf\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\u4e00\u6837\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"if(mappedHandler.getHandler() instanceof MultiActionController){  \n   ((MultiActionController)mappedHandler.getHandler()).xxx  \n}else if(mappedHandler.getHandler() instanceof XXX){  \n    ...  \n}else if(...){  \n   ...  \n}  \n")),(0,l.kt)("p",null,"\u5047\u5982\u6211\u4eec\u518d\u589e\u52a0\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"Controller"),"\u7c7b\u578b\u5c31\u8981\u5728\u4e0a\u9762\u4ee3\u7801\u4e2d\u518d\u52a0\u5165\u4e00\u884c \u5224\u65ad\u8bed\u53e5\uff0c\u8fd9\u79cd\u5f62\u5f0f\u5c31\u4f7f\u5f97\u7a0b\u5e8f\u96be\u4ee5\u7ef4\u62a4\uff0c\u4e5f\u8fdd\u53cd\u4e86\u8bbe\u8ba1\u6a21\u5f0f\u4e2d\u7684\u5f00\u95ed\u539f\u5219 \u2013 \u5bf9\u6269\u5c55\u5f00\u653e\uff0c\u5bf9\u4fee\u6539\u5173\u95ed\u3002"),(0,l.kt)("h4",{id:"\u88c5\u9970\u8005\u6a21\u5f0f"},"\u88c5\u9970\u8005\u6a21\u5f0f"),(0,l.kt)("p",null,"\u88c5\u9970\u8005\u6a21\u5f0f\u53ef\u4ee5\u52a8\u6001\u5730\u7ed9\u5bf9\u8c61\u6dfb\u52a0\u4e00\u4e9b\u989d\u5916\u7684\u5c5e\u6027\u6216\u884c\u4e3a\u3002\u76f8\u6bd4\u4e8e\u4f7f\u7528\u7ee7\u627f\uff0c\u88c5\u9970\u8005\u6a21\u5f0f\u66f4\u52a0\u7075\u6d3b\u3002\u7b80\u5355\u70b9\u513f\u8bf4\u5c31\u662f\u5f53\u6211\u4eec\u9700\u8981\u4fee\u6539\u539f\u6709\u7684\u529f\u80fd\uff0c\u4f46\u6211\u4eec\u53c8\u4e0d\u613f\u76f4\u63a5\u53bb\u4fee\u6539\u539f\u6709\u7684\u4ee3\u7801\u65f6\uff0c\u8bbe\u8ba1\u4e00\u4e2aDecorator\u5957\u5728\u539f\u6709\u4ee3\u7801\u5916\u9762\u3002\u5176\u5b9e\u5728 JDK \u4e2d\u5c31\u6709\u5f88\u591a\u5730\u65b9\u7528\u5230\u4e86\u88c5\u9970\u8005\u6a21\u5f0f\uff0c\u6bd4\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"InputStream"),"\u5bb6\u65cf\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"InputStream")," \u7c7b\u4e0b\u6709 ",(0,l.kt)("inlineCode",{parentName:"p"},"FileInputStream")," (\u8bfb\u53d6\u6587\u4ef6)\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"BufferedInputStream")," (\u589e\u52a0\u7f13\u5b58,\u4f7f\u8bfb\u53d6\u6587\u4ef6\u901f\u5ea6\u5927\u5927\u63d0\u5347)\u7b49\u5b50\u7c7b\u90fd\u5728\u4e0d\u4fee\u6539 ",(0,l.kt)("inlineCode",{parentName:"p"},"InputStream")," \u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u6269\u5c55\u4e86\u5b83\u7684\u529f\u80fd\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220616162704781",src:n(27359).Z,width:"744",height:"334"})),(0,l.kt)("p",null,"Spring \u4e2d\u914d\u7f6e DataSource \u7684\u65f6\u5019\uff0cDataSource  \u53ef\u80fd\u662f\u4e0d\u540c\u7684\u6570\u636e\u5e93\u548c\u6570\u636e\u6e90\u3002\u6211\u4eec\u80fd\u5426\u6839\u636e\u5ba2\u6237\u7684\u9700\u6c42\u5728\u5c11\u4fee\u6539\u539f\u6709\u7c7b\u7684\u4ee3\u7801\u4e0b\u52a8\u6001\u5207\u6362\u4e0d\u540c\u7684\u6570\u636e\u6e90\uff1f\u8fd9\u4e2a\u65f6\u5019\u5c31\u8981\u7528\u5230\u88c5\u9970\u8005\u6a21\u5f0f(\u8fd9\u4e00\u70b9\u6211\u81ea\u5df1\u8fd8\u6ca1\u592a\u7406\u89e3\u5177\u4f53\u539f\u7406)\u3002Spring \u4e2d\u7528\u5230\u7684\u5305\u88c5\u5668\u6a21\u5f0f\u5728\u7c7b\u540d\u4e0a\u542b\u6709 ",(0,l.kt)("inlineCode",{parentName:"p"},"Wrapper"),"\u6216\u8005 ",(0,l.kt)("inlineCode",{parentName:"p"},"Decorator"),"\u3002\u8fd9\u4e9b\u7c7b\u57fa\u672c\u4e0a\u90fd\u662f\u52a8\u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u6dfb\u52a0\u4e00\u4e9b\u989d\u5916\u7684\u804c\u8d23"),(0,l.kt)("h3",{id:"springboot\u542f\u52a8\u6d41\u7a0b"},"SpringBoot\u542f\u52a8\u6d41\u7a0b"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220627213051378",src:n(50746).Z,width:"2622",height:"1527"})),(0,l.kt)("h3",{id:"bean\u751f\u547d\u5468\u671f"},"Bean\u751f\u547d\u5468\u671f"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(19635).Z,width:"643",height:"485"})),(0,l.kt)("p",null,"1.\u8c03\u7528bean\u7684\u6784\u9020\u65b9\u6cd5\u521b\u5efaBean"),(0,l.kt)("p",null,"2.\u901a\u8fc7\u53cd\u5c04\u8c03\u7528setter\u65b9\u6cd5\u8fdb\u884c\u5c5e\u6027\u7684\u4f9d\u8d56\u6ce8\u5165"),(0,l.kt)("p",null,"3.\u5982\u679cBean\u5b9e\u73b0\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"BeanNameAware"),"\u63a5\u53e3\uff0cSpring\u5c06\u8c03\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"setBeanName"),"()\uff0c\u8bbe\u7f6e ",(0,l.kt)("inlineCode",{parentName:"p"},"Bean"),"\u7684name\uff08xml\u6587\u4ef6\u4e2dbean\u6807\u7b7e\u7684id\uff09"),(0,l.kt)("p",null,"4.\u5982\u679cBean\u5b9e\u73b0\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"BeanFactoryAware"),"\u63a5\u53e3\uff0cSpring\u5c06\u8c03\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"setBeanFactory()"),"\u628abean factory\u8bbe\u7f6e\u7ed9Bean"),(0,l.kt)("p",null,"5.\u5982\u679c\u5b58\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"BeanPostProcessor"),"\uff0cSpring\u5c06\u8c03\u7528\u5b83\u4eec\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"postProcessBeforeInitialization"),"\uff08\u9884\u521d\u59cb\u5316\uff09\u65b9\u6cd5\uff0c\u5728Bean\u521d\u59cb\u5316\u524d\u5bf9\u5176\u8fdb\u884c\u5904\u7406"),(0,l.kt)("p",null,"6.\u5982\u679cBean\u5b9e\u73b0\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"InitializingBean"),"\u63a5\u53e3\uff0cSpring\u5c06\u8c03\u7528\u5b83\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"afterPropertiesSet"),"\u65b9\u6cd5\uff0c\u7136\u540e\u8c03\u7528xml\u5b9a\u4e49\u7684 init-method \u65b9\u6cd5\uff0c\u4e24\u4e2a\u65b9\u6cd5\u4f5c\u7528\u7c7b\u4f3c\uff0c\u90fd\u662f\u5728\u521d\u59cb\u5316 bean \u7684\u65f6\u5019\u6267\u884c"),(0,l.kt)("p",null,"7.\u5982\u679c\u5b58\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"BeanPostProcessor"),"\uff0cSpring\u5c06\u8c03\u7528\u5b83\u4eec\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"postProcessAfterInitialization"),"\uff08\u540e\u521d\u59cb\u5316\uff09\u65b9\u6cd5\uff0c\u5728Bean\u521d\u59cb\u5316\u540e\u5bf9\u5176\u8fdb\u884c\u5904\u7406"),(0,l.kt)("p",null,"8.Bean\u521d\u59cb\u5316\u5b8c\u6210\uff0c\u4f9b\u5e94\u7528\u4f7f\u7528\uff0c\u8fd9\u91cc\u5206\u4e24\u79cd\u60c5\u51b5\uff1a"),(0,l.kt)("p",null,"8.1 \u5982\u679cBean\u4e3a\u5355\u4f8b\u7684\u8bdd\uff0c\u90a3\u4e48\u5bb9\u5668\u4f1a\u8fd4\u56deBean\u7ed9\u7528\u6237\uff0c\u5e76\u5b58\u5165\u7f13\u5b58\u6c60\u3002\u5982\u679cBean\u5b9e\u73b0\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"DisposableBean"),"\u63a5\u53e3\uff0cSpring\u5c06\u8c03\u7528\u5b83\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"destory"),"\u65b9\u6cd5\uff0c\u7136\u540e\u8c03\u7528\u5728xml\u4e2d\u5b9a\u4e49\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"destory-method"),"\u65b9\u6cd5\uff0c\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u4f5c\u7528\u7c7b\u4f3c\uff0c\u90fd\u662f\u5728Bean\u5b9e\u4f8b\u9500\u6bc1\u524d\u6267\u884c\u3002"),(0,l.kt)("p",null,"8.2 \u5982\u679cBean\u662f\u591a\u4f8b\u7684\u8bdd\uff0c\u5bb9\u5668\u5c06Bean\u8fd4\u56de\u7ed9\u7528\u6237\uff0c\u5269\u4e0b\u7684\u751f\u547d\u5468\u671f\u7531\u7528\u6237\u63a7\u5236\u3002"),(0,l.kt)("h3",{id:"autowired-\u548c-resource-\u7684\u533a\u522b\u662f\u4ec0\u4e48"},"@Autowired \u548c @Resource \u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f"),(0,l.kt)("p",null,"Spring \u5185\u7f6e\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"@Autowired")," \u4ee5\u53ca JDK \u5185\u7f6e\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"@Resource")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"@Inject")," \u90fd\u53ef\u4ee5\u7528\u4e8e\u6ce8\u5165 Bean\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Annotaion"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Package"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Source"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"@Autowired")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"org.springframework.bean.factory")),(0,l.kt)("td",{parentName:"tr",align:"left"},"Spring 2.5+")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"@Resource")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"javax.annotation")),(0,l.kt)("td",{parentName:"tr",align:"left"},"Java JSR-250")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"@Inject")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"javax.inject")),(0,l.kt)("td",{parentName:"tr",align:"left"},"Java JSR-330")))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"@Autowired")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"@Resource"),"\u4f7f\u7528\u7684\u6bd4\u8f83\u591a\u4e00\u4e9b\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Autowired")," \u5c5e\u4e8e Spring \u5185\u7f6e\u7684\u6ce8\u89e3\uff0c\u9ed8\u8ba4\u7684\u6ce8\u5165\u65b9\u5f0f\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"byType"),"\uff08\u6839\u636e\u7c7b\u578b\u8fdb\u884c\u5339\u914d\uff09\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f1a\u4f18\u5148\u6839\u636e\u63a5\u53e3\u7c7b\u578b\u53bb\u5339\u914d\u5e76\u6ce8\u5165 Bean \uff08\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\uff09\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8fd9\u4f1a\u6709\u4ec0\u4e48\u95ee\u9898\u5462\uff1f")," \u5f53\u4e00\u4e2a\u63a5\u53e3\u5b58\u5728\u591a\u4e2a\u5b9e\u73b0\u7c7b\u7684\u8bdd\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"byType"),"\u8fd9\u79cd\u65b9\u5f0f\u5c31\u65e0\u6cd5\u6b63\u786e\u6ce8\u5165\u5bf9\u8c61\u4e86\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u65f6\u5019 Spring \u4f1a\u540c\u65f6\u627e\u5230\u591a\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684\u9009\u62e9\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5b83\u81ea\u5df1\u4e0d\u77e5\u9053\u9009\u62e9\u54ea\u4e00\u4e2a\u3002"),(0,l.kt)("p",null,"\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6ce8\u5165\u65b9\u5f0f\u4f1a\u53d8\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"byName"),"\uff08\u6839\u636e\u540d\u79f0\u8fdb\u884c\u5339\u914d\uff09\uff0c\u8fd9\u4e2a\u540d\u79f0\u901a\u5e38\u5c31\u662f\u7c7b\u540d\uff08\u9996\u5b57\u6bcd\u5c0f\u5199\uff09\u3002\u5c31\u6bd4\u5982\u8bf4\u4e0b\u9762\u4ee3\u7801\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"smsService")," \u5c31\u662f\u6211\u8fd9\u91cc\u6240\u8bf4\u7684\u540d\u79f0\uff0c\u8fd9\u6837\u5e94\u8be5\u6bd4\u8f83\u597d\u7406\u89e3\u4e86\u5427\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// smsService \u5c31\u662f\u6211\u4eec\u4e0a\u9762\u6240\u8bf4\u7684\u540d\u79f0\n@Autowired\nprivate SmsService smsService;\n")),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"SmsService")," \u63a5\u53e3\u6709\u4e24\u4e2a\u5b9e\u73b0\u7c7b: ",(0,l.kt)("inlineCode",{parentName:"p"},"SmsServiceImpl1"),"\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"SmsServiceImpl2"),"\uff0c\u4e14\u5b83\u4eec\u90fd\u5df2\u7ecf\u88ab Spring \u5bb9\u5668\u6240\u7ba1\u7406\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'// \u62a5\u9519\uff0cbyName \u548c byType \u90fd\u65e0\u6cd5\u5339\u914d\u5230 bean\n@Autowired\nprivate SmsService smsService;\n// \u6b63\u786e\u6ce8\u5165 SmsServiceImpl1 \u5bf9\u8c61\u5bf9\u5e94\u7684 bean\n@Autowired\nprivate SmsService smsServiceImpl1;\n// \u6b63\u786e\u6ce8\u5165  SmsServiceImpl1 \u5bf9\u8c61\u5bf9\u5e94\u7684 bean\n// smsServiceImpl1 \u5c31\u662f\u6211\u4eec\u4e0a\u9762\u6240\u8bf4\u7684\u540d\u79f0\n@Autowired\n@Qualifier(value = "smsServiceImpl1")\nprivate SmsService smsService;\n')),(0,l.kt)("p",null,"\u6211\u4eec\u8fd8\u662f\u5efa\u8bae\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"@Qualifier")," \u6ce8\u89e3\u6765\u663e\u793a\u6307\u5b9a\u540d\u79f0\u800c\u4e0d\u662f\u4f9d\u8d56\u53d8\u91cf\u7684\u540d\u79f0\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"@Resource"),"\u5c5e\u4e8e JDK \u63d0\u4f9b\u7684\u6ce8\u89e3\uff0c\u9ed8\u8ba4\u6ce8\u5165\u65b9\u5f0f\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"byName"),"\u3002\u5982\u679c\u65e0\u6cd5\u901a\u8fc7\u540d\u79f0\u5339\u914d\u5230\u5bf9\u5e94\u7684\u5b9e\u73b0\u7c7b\u7684\u8bdd\uff0c\u6ce8\u5165\u65b9\u5f0f\u4f1a\u53d8\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"byType"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"@Resource")," \u6709\u4e24\u4e2a\u6bd4\u8f83\u91cd\u8981\u4e14\u65e5\u5e38\u5f00\u53d1\u5e38\u7528\u7684\u5c5e\u6027\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"name"),"\uff08\u540d\u79f0\uff09\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"type"),"\uff08\u7c7b\u578b\uff09\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public @interface Resource {\n    String name() default "";\n    Class<?> type() default Object.class;\n}\n')),(0,l.kt)("p",null,"\u5982\u679c\u4ec5\u6307\u5b9a ",(0,l.kt)("inlineCode",{parentName:"p"},"name")," \u5c5e\u6027\u5219\u6ce8\u5165\u65b9\u5f0f\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"byName"),"\uff0c\u5982\u679c\u4ec5\u6307\u5b9a ",(0,l.kt)("inlineCode",{parentName:"p"},"type"),"\u5c5e\u6027\u5219\u6ce8\u5165\u65b9\u5f0f\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"byType"),"\uff0c\u5982\u679c\u540c\u65f6\u6307\u5b9a ",(0,l.kt)("inlineCode",{parentName:"p"},"name")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"type"),"\u5c5e\u6027\uff08\u4e0d\u5efa\u8bae\u8fd9\u4e48\u505a\uff09\u5219\u6ce8\u5165\u65b9\u5f0f\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"byType"),"+",(0,l.kt)("inlineCode",{parentName:"p"},"byName"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'// \u62a5\u9519\uff0cbyName \u548c byType \u90fd\u65e0\u6cd5\u5339\u914d\u5230 bean\n@Resource\nprivate SmsService smsService;\n// \u6b63\u786e\u6ce8\u5165 SmsServiceImpl1 \u5bf9\u8c61\u5bf9\u5e94\u7684 bean\n@Resource\nprivate SmsService smsServiceImpl1;\n// \u6b63\u786e\u6ce8\u5165 SmsServiceImpl1 \u5bf9\u8c61\u5bf9\u5e94\u7684 bean\uff08\u6bd4\u8f83\u63a8\u8350\u8fd9\u79cd\u65b9\u5f0f\uff09\n\n@Resource(name = "smsServiceImpl1")\nprivate SmsService smsService;\n')),(0,l.kt)("p",null,"\u7b80\u5355\u603b\u7ed3\u4e00\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"@Autowired")," \u662f Spring \u63d0\u4f9b\u7684\u6ce8\u89e3\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"@Resource")," \u662f JDK \u63d0\u4f9b\u7684\u6ce8\u89e3\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Autowired")," \u9ed8\u8ba4\u7684\u6ce8\u5165\u65b9\u5f0f\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"byType"),"\uff08\u6839\u636e\u7c7b\u578b\u8fdb\u884c\u5339\u914d\uff09\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"@Resource"),"\u9ed8\u8ba4\u6ce8\u5165\u65b9\u5f0f\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"byName"),"\uff08\u6839\u636e\u540d\u79f0\u8fdb\u884c\u5339\u914d\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5f53\u4e00\u4e2a\u63a5\u53e3\u5b58\u5728\u591a\u4e2a\u5b9e\u73b0\u7c7b\u7684\u60c5\u51b5\u4e0b\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"@Autowired")," \u548c ",(0,l.kt)("inlineCode",{parentName:"li"},"@Resource"),"\u90fd\u9700\u8981\u901a\u8fc7\u540d\u79f0\u624d\u80fd\u6b63\u786e\u5339\u914d\u5230\u5bf9\u5e94\u7684 Bean\u3002",(0,l.kt)("inlineCode",{parentName:"li"},"Autowired")," \u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"li"},"@Qualifier")," \u6ce8\u89e3\u6765\u663e\u793a\u6307\u5b9a\u540d\u79f0\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"@Resource"),"\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"li"},"name")," \u5c5e\u6027\u6765\u663e\u793a\u6307\u5b9a\u540d\u79f0\u3002")),(0,l.kt)("h3",{id:"\u8bf7\u63cf\u8ff0spring-mvc\u7684\u5de5\u4f5c\u6d41\u7a0b\u63cf\u8ff0\u4e00\u4e0b-dispatcherservlet-\u7684\u5de5\u4f5c\u6d41\u7a0b"},"\u8bf7\u63cf\u8ff0Spring MVC\u7684\u5de5\u4f5c\u6d41\u7a0b\uff1f\u63cf\u8ff0\u4e00\u4e0b DispatcherServlet \u7684\u5de5\u4f5c\u6d41\u7a0b\uff1f"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u7528\u6237\u53d1\u9001request\u8bf7\u6c42\u5230\u524d\u7aef\u63a7\u5236\u5668DispatcherServlet\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u524d\u7aef\u63a7\u5236\u5668DispatcherServlet\u901a\u8fc7request\u8bf7\u6c42\u7684url\u5730\u5740\uff0c\u5411\u6620\u5c04\u5668HandlerMapping\u8bf7\u6c42\u8c03\u7528\u5bf9\u5e94\u7684\u5904\u7406\u5668handler\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u6620\u5c04\u5668HandlerMapping\u901a\u8fc7url\u5730\u5740\u751f\u4ea7\u5904\u7406\u5668\u6267\u884c\u94fe\u5e76\u8fd4\u56de\u3002"),(0,l.kt)("li",{parentName:"ol"},"DispatcherServlet\u6839\u636e\u5904\u7406\u5668Handler\u83b7\u53d6\u5904\u7406\u5668\u9002\u914d\u5668HandlerAdapter\u6267\u884cHandlerAdapter\u5904\u7406\u4e00\u7cfb\u5217\u7684\u64cd\u4f5c\uff0c\u5982\uff1a\u53c2\u6570\u5c01\u88c5\uff0c\u6570\u636e\u683c\u5f0f\u8f6c\u6362\uff0c\u6570\u636e\u9a8c\u8bc1\u7b49\u64cd\u4f5c\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u9002\u914d\u5668\u6267\u884c\u5904\u7406\u5668\uff0c\u5373\u6267\u884cController\u4e2d\u7684\u65b9\u6cd5\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5904\u7406\u5668\u5b8c\u6210\u4e1a\u52a1\u903b\u8f91\u540e\u8fd4\u56deModelAndView\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u9002\u914d\u5668\u5c06\u5904\u7406\u5668\u7684\u5904\u7406\u7ed3\u679c\u8fd4\u56de\u7ed9\u524d\u7aef\u63a7\u5236\u5668DispatcherServlet\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5c06ModelAndView\u4e2d\u7684view\u540d\u79f0\u4f20\u7ed9viewReslover\u3002"),(0,l.kt)("li",{parentName:"ol"},"viewReslover\u901a\u8fc7view\u540d\u79f0\u8fd4\u56de\u5177\u4f53\u7684view\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5c06ModelAndView\u4e2d\u7684model\u6ce8\u5165\u5230view\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5c06\u6700\u7ec8\u7ecf\u8fc7\u89c6\u56fe\u6e32\u67d3\u7684view\u9875\u9762\u54cd\u5e94\u7ed9\u7528\u6237\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220711133221313",src:n(55991).Z,width:"1144",height:"494"})),(0,l.kt)("h3",{id:"spring\u4e2d\u6784\u9020\u65b9\u6cd5\u6ce8\u5165\u548c\u8bbe\u503c\u6ce8\u5165\u6709\u4ec0\u4e48\u533a\u522b"},"Spring\u4e2d\u6784\u9020\u65b9\u6cd5\u6ce8\u5165\u548c\u8bbe\u503c\u6ce8\u5165\u6709\u4ec0\u4e48\u533a\u522b"),(0,l.kt)("p",null,"\u6784\u9020\u5668\u901a\u8fc7\u6784\u9020\u65b9\u6cd5\u5b9e\u73b0\uff0c\u6784\u9020\u65b9\u6cd5\u6709\u65e0\u53c2\u6570\u90fd\u53ef\u4ee5\u3002\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u6211\u4eec\u90fd\u662f\u901a\u8fc7\u7c7b\u7684\u6784\u9020\u5668\u6765\u521b\u5efa\u5bf9\u8c61\uff0cSpring\u4e5f\u53ef\u4ee5\u91c7\u7528\u53cd\u5c04\u673a\u5236\u901a\u8fc7\u6784\u9020\u5668\u5b8c\u6210\u6ce8\u5165\uff0c\u8fd9\u5c31\u662f\u6784\u9020\u5668\u6ce8\u5165\u7684\u539f\u7406\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public class Role {\n\n    private long id;\n    private String roleName;\n\n    public Role(long id,String roleName){\n        this.id=id;\n        this.roleName=roleName;\n\n    }\n    public void getCount(){\n        System.out.println("Role\u5df2\u88ab\u8c03\u7528"+"\\n"+"id:"+id+"\\n"+"roleName:"+roleName);\n    }\n}\n')),(0,l.kt)("p",null,"setter\u6ce8\u5165\u662fSpring\u4e2d\u6700\u4e3b\u6d41\u7684\u6ce8\u5165\u65b9\u6cd5\uff08\u5e38\u7528\uff09\uff0c\u597d\u5904\u5c31\u4e0d\u7528\u591a\u8bf4\u4e86\u3002\u539f\u7406\u4e5f\u662f\u901a\u8fc7\u53cd\u5c04\u6ce8\u5165\uff0c\u76f4\u63a5\u4e0a\u4ee3\u7801\u3002\uff08\u6ce8\u610f\u5bf9\u5e94\u7684\u5b9e\u4f53\u7c7b\u5c5e\u6027\u5fc5\u987b\u5b9e\u73b0set\uff0cget\u65b9\u6cd5\u3002\u5982\u679c\u5b9e\u4f53\u7c7b\u6ca1\u6709\u5c5e\u6027\u4e5f\u4f1a\u88ab\u6ce8\u5165\uff09\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public class Role {\n\n    public long getId() {\n        return id;\n    }\n    public void setId(long id) {\n        this.id = id;\n    }\n    public String getRoleName() {\n        return roleName;\n    }\n    public void setRoleName(String roleName) {\n        this.roleName = roleName;\n    }\n    private long id;\n    private String roleName;\n}\n")),(0,l.kt)("h3",{id:"spring\u600e\u4e48\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u7684\u95ee\u9898"},"Spring\u600e\u4e48\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u7684\u95ee\u9898\uff1f"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6784\u9020\u5668\u6ce8\u5165\u7684\u5faa\u73af\u4f9d\u8d56\uff1aSpring\u5904\u7406\u4e0d\u4e86"),"\uff0c\u76f4\u63a5\u629b\u51fa",(0,l.kt)("inlineCode",{parentName:"p"},"BeanCurrentlylnCreationException"),"\u5f02\u5e38\u3002"),(0,l.kt)("p",null,"\u5355\u4f8b\u6a21\u5f0f\u4e0b\u5c5e\u6027\u6ce8\u5165\u7684\u5faa\u73af\u4f9d\u8d56\uff1a\u901a\u8fc7",(0,l.kt)("strong",{parentName:"p"},"\u4e09\u7ea7\u7f13\u5b58\u5904\u7406\u5faa\u73af\u4f9d\u8d56"),"\u3002"),(0,l.kt)("p",null,"\u975e\u5355\u4f8b\u5faa\u73af\u4f9d\u8d56\uff1a\u65e0\u6cd5\u5904\u7406\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"Spring\u4e3a\u4f55\u4e0d\u80fd\u89e3\u51b3\u975e\u5355\u4f8b\u5c5e\u6027\u4e4b\u5916\u7684\u5faa\u73af\u4f9d\u8d56\uff1f")),(0,l.kt)("p",{parentName:"blockquote"},"Spring\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u89e3\u51b3\u6784\u9020\u5668\u7684\u5faa\u73af\u4f9d\u8d56\uff1f"),(0,l.kt)("p",{parentName:"blockquote"},"\u6784\u9020\u5668\u6ce8\u5165\u5f62\u6210\u7684\u5faa\u73af\u4f9d\u8d56\uff1a \u4e5f\u5c31\u662fbeanB\u9700\u8981\u5728beanA\u7684\u6784\u9020\u51fd\u6570\u4e2d\u5b8c\u6210\u521d\u59cb\u5316\uff0cbeanA\u4e5f\u9700\u8981\u5728beanB\u7684\u6784\u9020\u51fd\u6570\u4e2d\u5b8c\u6210\u521d\u59cb\u5316\uff0c\u8fd9\u79cd\u60c5\u51b5\u7684\u7ed3\u679c\u5c31\u662f\u4e24\u4e2abean\u90fd\u4e0d\u80fd\u5b8c\u6210\u521d\u59cb\u5316\uff0c\u5faa\u73af\u4f9d\u8d56\u96be\u4ee5\u89e3\u51b3\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"Spring\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u4e3b\u8981\u662f\u4f9d\u8d56\u4e09\u7ea7\u7f13\u5b58\uff0c\u4f46\u662f\u7684",(0,l.kt)("strong",{parentName:"p"},"\u5728\u8c03\u7528\u6784\u9020\u65b9\u6cd5\u4e4b\u524d\u8fd8\u672a\u5c06\u5176\u653e\u5165\u4e09\u7ea7\u7f13\u5b58\u4e4b\u4e2d"),"\uff0c\u56e0\u6b64\u540e\u7eed\u7684\u4f9d\u8d56\u8c03\u7528\u6784\u9020\u65b9\u6cd5\u7684\u65f6\u5019\u5e76\u4e0d\u80fd\u4ece\u4e09\u7ea7\u7f13\u5b58\u4e2d\u83b7\u53d6\u5230\u4f9d\u8d56\u7684Bean\uff0c\u56e0\u6b64\u4e0d\u80fd\u89e3\u51b3\u3002"),(0,l.kt)("hr",{parentName:"blockquote"}),(0,l.kt)("p",{parentName:"blockquote"},"Spring\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u89e3\u51b3prototype\u4f5c\u7528\u57df\u5faa\u73af\u4f9d\u8d56\uff1f"),(0,l.kt)("p",{parentName:"blockquote"},"\u8fd9\u79cd\u5faa\u73af\u4f9d\u8d56\u540c\u6837\u65e0\u6cd5\u89e3\u51b3\uff0c\u56e0\u4e3aspring\u4e0d\u4f1a\u7f13\u5b58\u2018prototype\u2019\u4f5c\u7528\u57df\u7684bean\uff0c\u800cspring\u4e2d\u5faa\u73af\u4f9d\u8d56\u7684\u89e3\u51b3\u6b63\u662f\u901a\u8fc7\u7f13\u5b58\u6765\u5b9e\u73b0\u7684\u3002"),(0,l.kt)("hr",{parentName:"blockquote"}),(0,l.kt)("p",{parentName:"blockquote"},"Spring\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u89e3\u51b3\u591a\u4f8b\u7684\u5faa\u73af\u4f9d\u8d56\uff1f"),(0,l.kt)("p",{parentName:"blockquote"},"\u591a\u5b9e\u4f8bBean\u662f\u6bcf\u6b21\u8c03\u7528\u4e00\u6b21getBean\u90fd\u4f1a\u6267\u884c\u4e00\u6b21\u6784\u9020\u65b9\u6cd5\u5e76\u4e14\u7ed9\u5c5e\u6027\u8d4b\u503c\uff0c\u6839\u672c\u6ca1\u6709\u4e09\u7ea7\u7f13\u5b58\uff0c\u56e0\u6b64\u4e0d\u80fd\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u3002")),(0,l.kt)("p",null,"\u4e0b\u9762\u5206\u6790\u5355\u4f8b\u6a21\u5f0f\u4e0b\u5c5e\u6027\u6ce8\u5165\u7684\u5faa\u73af\u4f9d\u8d56\u662f\u600e\u4e48\u5904\u7406\u7684\uff1a"),(0,l.kt)("p",null,"\u9996\u5148\uff0cSpring\u5355\u4f8b\u5bf9\u8c61\u7684\u521d\u59cb\u5316\u5927\u7565\u5206\u4e3a\u4e09\u6b65\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"createBeanInstance"),"\uff1a\u5b9e\u4f8b\u5316bean\uff0c\u4f7f\u7528\u6784\u9020\u65b9\u6cd5\u521b\u5efa\u5bf9\u8c61\uff0c\u4e3a\u5bf9\u8c61\u5206\u914d\u5185\u5b58\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"populateBean"),"\uff1a\u8fdb\u884c\u4f9d\u8d56\u6ce8\u5165\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"initializeBean"),"\uff1a\u521d\u59cb\u5316bean\u3002")),(0,l.kt)("p",null,"Spring\u4e3a\u4e86\u89e3\u51b3\u5355\u4f8b\u7684\u5faa\u73af\u4f9d\u8d56\u95ee\u9898\uff0c\u4f7f\u7528\u4e86\u4e09\u7ea7\u7f13\u5b58\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"singletonObjects"),"\uff1a\u5b8c\u6210\u4e86\u521d\u59cb\u5316\u7684\u5355\u4f8b\u5bf9\u8c61map\uff0cbean name --\x3e bean instance"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"earlySingletonObjects"),"\uff1a\u5b8c\u6210\u5b9e\u4f8b\u5316\u672a\u521d\u59cb\u5316\u7684\u5355\u4f8b\u5bf9\u8c61map\uff0cbean name --\x3e bean instance"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"singletonFactories"),"\uff1a \u5355\u4f8b\u5bf9\u8c61\u5de5\u5382map\uff0cbean name --\x3e ObjectFactory\uff0c\u5355\u4f8b\u5bf9\u8c61\u5b9e\u4f8b\u5316\u5b8c\u6210\u4e4b\u540e\u4f1a\u52a0\u5165singletonFactories\u3002"),(0,l.kt)("p",null,"\u5728\u8c03\u7528createBeanInstance\u8fdb\u884c\u5b9e\u4f8b\u5316\u4e4b\u540e\uff0c\u4f1a\u8c03\u7528addSingletonFactory\uff0c\u5c06\u5355\u4f8b\u5bf9\u8c61\u653e\u5230singletonFactories\u4e2d\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'protected void addSingletonFactory(String beanName, ObjectFactory<?> singletonFactory) {\n    Assert.notNull(singletonFactory, "Singleton factory must not be null");\n    synchronized (this.singletonObjects) {\n        if (!this.singletonObjects.containsKey(beanName)) {\n            this.singletonFactories.put(beanName, singletonFactory);\n            this.earlySingletonObjects.remove(beanName);\n            this.registeredSingletons.add(beanName);\n        }\n    }\n}\n')),(0,l.kt)("p",null,"\u5047\u5982A\u4f9d\u8d56\u4e86B\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u540c\u65f6B\u4e5f\u4f9d\u8d56A\u7684\u5b9e\u4f8b\u5bf9\u8c61\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"A\u9996\u5148\u5b8c\u6210\u4e86\u5b9e\u4f8b\u5316\uff0c\u5e76\u4e14\u5c06\u81ea\u5df1\u6dfb\u52a0\u5230singletonFactories\u4e2d"),(0,l.kt)("li",{parentName:"ol"},"\u63a5\u7740\u8fdb\u884c\u4f9d\u8d56\u6ce8\u5165\uff0c\u53d1\u73b0\u81ea\u5df1\u4f9d\u8d56\u5bf9\u8c61B\uff0c\u6b64\u65f6\u5c31\u5c1d\u8bd5\u53bbget(B)"),(0,l.kt)("li",{parentName:"ol"},"\u53d1\u73b0B\u8fd8\u6ca1\u6709\u88ab\u5b9e\u4f8b\u5316\uff0c\u5bf9B\u8fdb\u884c\u5b9e\u4f8b\u5316"),(0,l.kt)("li",{parentName:"ol"},"\u7136\u540eB\u5728\u521d\u59cb\u5316\u7684\u65f6\u5019\u53d1\u73b0\u81ea\u5df1\u4f9d\u8d56\u4e86\u5bf9\u8c61A\uff0c\u4e8e\u662f\u5c1d\u8bd5get(A)\uff0c\u5c1d\u8bd5\u4e00\u7ea7\u7f13\u5b58singletonObjects\u548c\u4e8c\u7ea7\u7f13\u5b58earlySingletonObjects\u6ca1\u627e\u5230\uff0c\u5c1d\u8bd5\u4e09\u7ea7\u7f13\u5b58singletonFactories\uff0c\u7531\u4e8eA\u521d\u59cb\u5316\u65f6\u5c06\u81ea\u5df1\u6dfb\u52a0\u5230\u4e86singletonFactories\uff0c\u6240\u4ee5B\u53ef\u4ee5\u62ff\u5230A\u5bf9\u8c61\uff0c\u7136\u540e\u5c06A\u4ece\u4e09\u7ea7\u7f13\u5b58\u4e2d\u79fb\u5230\u4e8c\u7ea7\u7f13\u5b58\u4e2d"),(0,l.kt)("li",{parentName:"ol"},"B\u62ff\u5230A\u5bf9\u8c61\u540e\u987a\u5229\u5b8c\u6210\u4e86\u521d\u59cb\u5316\uff0c\u7136\u540e\u5c06\u81ea\u5df1\u653e\u5165\u5230\u4e00\u7ea7\u7f13\u5b58singletonObjects\u4e2d"),(0,l.kt)("li",{parentName:"ol"},"\u6b64\u65f6\u8fd4\u56deA\u4e2d\uff0cA\u6b64\u65f6\u80fd\u62ff\u5230B\u7684\u5bf9\u8c61\u987a\u5229\u5b8c\u6210\u81ea\u5df1\u7684\u521d\u59cb\u5316")),(0,l.kt)("p",null,"\u7531\u6b64\u770b\u51fa\uff0c\u5c5e\u6027\u6ce8\u5165\u7684\u5faa\u73af\u4f9d\u8d56\u4e3b\u8981\u662f\u901a\u8fc7\u5c06\u5b9e\u4f8b\u5316\u5b8c\u6210\u7684bean\u6dfb\u52a0\u5230singletonFactories\u6765\u5b9e\u73b0\u7684\u3002\u800c\u4f7f\u7528\u6784\u9020\u5668\u4f9d\u8d56\u6ce8\u5165\u7684bean\u5728\u5b9e\u4f8b\u5316\u7684\u65f6\u5019\u4f1a\u8fdb\u884c\u4f9d\u8d56\u6ce8\u5165\uff0c\u4e0d\u4f1a\u88ab\u6dfb\u52a0\u5230singletonFactories\u4e2d\u3002\u6bd4\u5982A\u548cB\u90fd\u662f\u901a\u8fc7\u6784\u9020\u5668\u4f9d\u8d56\u6ce8\u5165\uff0cA\u5728\u8c03\u7528\u6784\u9020\u5668\u8fdb\u884c\u5b9e\u4f8b\u5316\u7684\u65f6\u5019\uff0c\u53d1\u73b0\u81ea\u5df1\u4f9d\u8d56B\uff0cB\u6ca1\u6709\u88ab\u5b9e\u4f8b\u5316\uff0c\u5c31\u4f1a\u5bf9B\u8fdb\u884c\u5b9e\u4f8b\u5316\uff0c\u6b64\u65f6A\u672a\u5b9e\u4f8b\u5316\u5b8c\u6210\uff0c\u4e0d\u4f1a\u88ab\u6dfb\u52a0\u5230singtonFactories\u3002\u800cB\u4f9d\u8d56\u4e8eA\uff0cB\u4f1a\u53bb\u4e09\u7ea7\u7f13\u5b58\u5bfb\u627eA\u5bf9\u8c61\uff0c\u53d1\u73b0\u4e0d\u5b58\u5728\uff0c\u4e8e\u662f\u53c8\u4f1a\u5b9e\u4f8b\u5316A\uff0cA\u5b9e\u4f8b\u5316\u4e86\u4e24\u6b21\uff0c\u4ece\u800c\u5bfc\u81f4\u629b\u5f02\u5e38\u3002"),(0,l.kt)("p",null,"\u603b\u7ed3\uff1a1\u3001\u5229\u7528\u7f13\u5b58\u8bc6\u522b\u5df2\u7ecf\u904d\u5386\u8fc7\u7684\u8282\u70b9\uff1b 2\u3001\u5229\u7528Java\u5f15\u7528\uff0c\u5148\u63d0\u524d\u8bbe\u7f6e\u5bf9\u8c61\u5730\u5740\uff0c\u540e\u5b8c\u5584\u5bf9\u8c61\u3002"),(0,l.kt)("h2",{id:"-mysql"},"\ud83d\udc2c MYSQL"),(0,l.kt)("h3",{id:"mysql-\u57fa\u7840\u67b6\u6784--\u4e00\u6761-sql-\u67e5\u8be2\u8bed\u53e5\u662f\u5982\u4f55\u6267\u884c\u7684"},"MySql \u57fa\u7840\u67b6\u6784 | \u4e00\u6761 SQL \u67e5\u8be2\u8bed\u53e5\u662f\u5982\u4f55\u6267\u884c\u7684"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220613104147805",src:n(83404).Z,width:"671",height:"521"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u8fde\u63a5\u5668\uff1a")," \u8eab\u4efd\u8ba4\u8bc1\u548c\u6743\u9650\u76f8\u5173(\u767b\u5f55 MySQL \u7684\u65f6\u5019)\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u67e5\u8be2\u7f13\u5b58\uff1a")," \u6267\u884c\u67e5\u8be2\u8bed\u53e5\u7684\u65f6\u5019\uff0c\u4f1a\u5148\u67e5\u8be2\u7f13\u5b58\uff08MySQL 8.0 \u7248\u672c\u540e\u79fb\u9664\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u529f\u80fd\u4e0d\u592a\u5b9e\u7528\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5206\u6790\u5668\uff1a")," \u6ca1\u6709\u547d\u4e2d\u7f13\u5b58\u7684\u8bdd\uff0cSQL \u8bed\u53e5\u5c31\u4f1a\u7ecf\u8fc7\u5206\u6790\u5668\uff0c\u5206\u6790\u5668\u8bf4\u767d\u4e86\u5c31\u662f\u8981\u5148\u770b\u4f60\u7684 SQL \u8bed\u53e5\u8981\u5e72\u561b\uff0c\u518d\u68c0\u67e5\u4f60\u7684 SQL \u8bed\u53e5\u8bed\u6cd5\u662f\u5426\u6b63\u786e\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4f18\u5316\u5668\uff1a")," \u6309\u7167 MySQL \u8ba4\u4e3a\u6700\u4f18\u7684\u65b9\u6848\u53bb\u6267\u884c\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u6267\u884c\u5668\uff1a")," \u6267\u884c\u8bed\u53e5\uff0c\u7136\u540e\u4ece\u5b58\u50a8\u5f15\u64ce\u8fd4\u56de\u6570\u636e\u3002 \u6267\u884c\u8bed\u53e5\u4e4b\u524d\u4f1a\u5148\u5224\u65ad\u662f\u5426\u6709\u6743\u9650\uff0c\u5982\u679c\u6ca1\u6709\u6743\u9650\u7684\u8bdd\uff0c\u5c31\u4f1a\u62a5\u9519\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u63d2\u4ef6\u5f0f\u5b58\u50a8\u5f15\u64ce")," \uff1a \u4e3b\u8981\u8d1f\u8d23\u6570\u636e\u7684\u5b58\u50a8\u548c\u8bfb\u53d6\uff0c\u91c7\u7528\u7684\u662f\u63d2\u4ef6\u5f0f\u67b6\u6784\uff0c\u652f\u6301 InnoDB\u3001MyISAM\u3001Memory \u7b49\u591a\u79cd\u5b58\u50a8\u5f15\u64ce\u3002")),(0,l.kt)("h3",{id:"myisam-\u548c-innodb-\u7684\u533a\u522b\u662f\u4ec0\u4e48"},"\u2b50MyISAM \u548c InnoDB \u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f"),(0,l.kt)("p",null,"\u9664\u4e866\uff0c\u90fd\u662fInnoDB\u652f\u6301\uff0c\u524d\u8005\u4e0d\u652f\u6301"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1.\u662f\u5426\u652f\u6301\u884c\u7ea7\u9501")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2.\u662f\u5426\u652f\u6301\u4e8b\u52a1")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"3.\u662f\u5426\u652f\u6301\u5916\u952e")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"4.\u662f\u5426\u652f\u6301\u6570\u636e\u5e93\u5f02\u5e38\u5d29\u6e83\u540e\u7684\u5b89\u5168\u6062\u590d")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"MyISAM \u4e0d\u652f\u6301\uff0c\u800c InnoDB \u652f\u6301\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u4f7f\u7528 InnoDB \u7684\u6570\u636e\u5e93\u5728\u5f02\u5e38\u5d29\u6e83\u540e\uff0c\u6570\u636e\u5e93\u91cd\u65b0\u542f\u52a8\u7684\u65f6\u5019\u4f1a\u4fdd\u8bc1\u6570\u636e\u5e93\u6062\u590d\u5230\u5d29\u6e83\u524d\u7684\u72b6\u6001\u3002\u8fd9\u4e2a\u6062\u590d\u7684\u8fc7\u7a0b\u4f9d\u8d56\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"5.\u662f\u5426\u652f\u6301 MVCC")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"6.\u7d22\u5f15\u5b9e\u73b0\u4e0d\u4e00\u6837\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u867d\u7136 MyISAM \u5f15\u64ce\u548c InnoDB \u5f15\u64ce\u90fd\u662f\u4f7f\u7528 B+Tree \u4f5c\u4e3a\u7d22\u5f15\u7ed3\u6784\uff0c\u4f46\u662f\u4e24\u8005\u7684\u5b9e\u73b0\u65b9\u5f0f\u4e0d\u592a\u4e00\u6837\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"InnoDB \u5f15\u64ce\u4e2d\uff0c\u5176\u6570\u636e\u6587\u4ef6\u672c\u8eab\u5c31\u662f\u7d22\u5f15\u6587\u4ef6\u3002\u76f8\u6bd4 MyISAM\uff0c\u7d22\u5f15\u6587\u4ef6\u548c\u6570\u636e\u6587\u4ef6\u662f\u5206\u79bb\u7684\uff0c\u5176\u8868\u6570\u636e\u6587\u4ef6\u672c\u8eab\u5c31\u662f\u6309 B+Tree \u7ec4\u7ec7\u7684\u4e00\u4e2a\u7d22\u5f15\u7ed3\u6784\uff0c\u6811\u7684\u53f6\u8282\u70b9 data \u57df\u4fdd\u5b58\u4e86\u5b8c\u6574\u7684\u6570\u636e\u8bb0\u5f55\u3002")),(0,l.kt)("h3",{id:"\u6570\u636e\u5e93\u7684\u7d22\u5f15\u5206\u7c7b"},"\u6570\u636e\u5e93\u7684\u7d22\u5f15\u5206\u7c7b"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6309\u300c\u6570\u636e\u7ed3\u6784\u300d\u5206\u7c7b\uff1a",(0,l.kt)("strong",{parentName:"li"},"B+tree\u7d22\u5f15\u3001Hash\u7d22\u5f15\u3001Full-text\u7d22\u5f15"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6309\u300c\u7269\u7406\u5b58\u50a8\u300d\u5206\u7c7b\uff1a",(0,l.kt)("strong",{parentName:"li"},"\u805a\u7c07\u7d22\u5f15\uff08\u4e3b\u952e\u7d22\u5f15\uff09\u3001\u4e8c\u7ea7\u7d22\u5f15\uff08\u8f85\u52a9\u7d22\u5f15\uff09"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6309\u300c\u5b57\u6bb5\u7279\u6027\u300d\u5206\u7c7b\uff1a",(0,l.kt)("strong",{parentName:"li"},"\u4e3b\u952e\u7d22\u5f15\u3001\u552f\u4e00\u7d22\u5f15\u3001\u666e\u901a\u7d22\u5f15\u3001\u524d\u7f00\u7d22\u5f15"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6309\u300c\u5b57\u6bb5\u4e2a\u6570\u300d\u5206\u7c7b\uff1a",(0,l.kt)("strong",{parentName:"li"},"\u5355\u5217\u7d22\u5f15\u3001\u8054\u5408\u7d22\u5f15"),"\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"xia'm")),(0,l.kt)("h4",{id:"\u6309\u6570\u636e\u7ed3\u6784\u5206\u7c7b"},"\u6309\u6570\u636e\u7ed3\u6784\u5206\u7c7b"),(0,l.kt)("p",null,"\u4ece\u6570\u636e\u7ed3\u6784\u7684\u89d2\u5ea6\u6765\u770b\uff0cMySQL \u5e38\u89c1\u7d22\u5f15\u6709 B+Tree \u7d22\u5f15\u3001HASH \u7d22\u5f15\u3001Full-Text \u7d22\u5f15\u3002"),(0,l.kt)("p",null,"\u6bcf\u4e00\u79cd\u5b58\u50a8\u5f15\u64ce\u652f\u6301\u7684\u7d22\u5f15\u7c7b\u578b\u4e0d\u4e00\u5b9a\u76f8\u540c\uff0c\u6211\u5728\u8868\u4e2d\u603b\u7ed3\u4e86 MySQL \u5e38\u89c1\u7684\u5b58\u50a8\u5f15\u64ce InnoDB\u3001MyISAM \u548c Memory \u5206\u522b\u652f\u6301\u7684\u7d22\u5f15\u7c7b\u578b\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220712154456833",src:n(12698).Z,width:"811",height:"421"})),(0,l.kt)("p",null,"InnoDB \u662f\u5728 MySQL 5.5 \u4e4b\u540e\u6210\u4e3a\u9ed8\u8ba4\u7684 MySQL \u5b58\u50a8\u5f15\u64ce\uff0cB+Tree \u7d22\u5f15\u7c7b\u578b\u4e5f\u662f MySQL \u5b58\u50a8\u5f15\u64ce\u91c7\u7528\u6700\u591a\u7684\u7d22\u5f15\u7c7b\u578b\u3002"),(0,l.kt)("p",null,"\u5728\u521b\u5efa\u8868\u65f6\uff0cInnoDB \u5b58\u50a8\u5f15\u64ce\u4f1a\u6839\u636e\u4e0d\u540c\u7684\u573a\u666f\u9009\u62e9\u4e0d\u540c\u7684\u5217\u4f5c\u4e3a\u7d22\u5f15\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u6709\u4e3b\u952e\uff0c\u9ed8\u8ba4\u4f1a\u4f7f\u7528\u4e3b\u952e\u4f5c\u4e3a\u805a\u7c07\u7d22\u5f15\u7684\u7d22\u5f15\u952e\uff08key\uff09\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u6ca1\u6709\u4e3b\u952e\uff0c\u5c31\u9009\u62e9\u7b2c\u4e00\u4e2a\u4e0d\u5305\u542b NULL \u503c\u7684\u552f\u4e00\u5217\u4f5c\u4e3a\u805a\u7c07\u7d22\u5f15\u7684\u7d22\u5f15\u952e\uff08key\uff09\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5728\u4e0a\u9762\u4e24\u4e2a\u90fd\u6ca1\u6709\u7684\u60c5\u51b5\u4e0b\uff0cInnoDB \u5c06\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u9690\u5f0f\u81ea\u589e id \u5217\u4f5c\u4e3a\u805a\u7c07\u7d22\u5f15\u7684\u7d22\u5f15\u952e\uff08key\uff09\uff1b")),(0,l.kt)("p",null,"\u5176\u5b83\u7d22\u5f15\u90fd\u5c5e\u4e8e\u8f85\u52a9\u7d22\u5f15\uff08Secondary Index\uff09\uff0c\u4e5f\u88ab\u79f0\u4e3a\u4e8c\u7ea7\u7d22\u5f15\u6216\u975e\u805a\u7c07\u7d22\u5f15\u3002",(0,l.kt)("strong",{parentName:"p"},"\u521b\u5efa\u7684\u4e3b\u952e\u7d22\u5f15\u548c\u4e8c\u7ea7\u7d22\u5f15\u9ed8\u8ba4\u4f7f\u7528\u7684\u662f B+Tree \u7d22\u5f15"),"\u3002"),(0,l.kt)("p",null,"\u4e3e\u4e2a\ud83c\udf30\uff0c\u6709\u8fd9\u6837\u4e00\u4e2a\u8868"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220712154548420",src:n(58250).Z,width:"868",height:"464"})),(0,l.kt)("p",null,"\u8fd9\u4e9b\u884c\u6570\u636e\uff0c\u5b58\u50a8\u5728 B+Tree \u7d22\u5f15\u65f6\u662f\u957f\u4ec0\u4e48\u6837\u5b50\u7684\uff1f"),(0,l.kt)("p",null,"B+Tree \u662f\u4e00\u79cd\u591a\u53c9\u6811\uff0c\u53f6\u5b50\u8282\u70b9\u624d\u5b58\u653e\u6570\u636e\uff0c\u975e\u53f6\u5b50\u8282\u70b9\u53ea\u5b58\u653e\u7d22\u5f15\uff0c\u800c\u4e14\u6bcf\u4e2a\u8282\u70b9\u91cc\u7684\u6570\u636e\u662f",(0,l.kt)("strong",{parentName:"p"},"\u6309\u4e3b\u952e\u987a\u5e8f\u5b58\u653e"),"\u7684\u3002\u6bcf\u4e00\u5c42\u7236\u8282\u70b9\u7684\u7d22\u5f15\u503c\u90fd\u4f1a\u51fa\u73b0\u5728\u4e0b\u5c42\u5b50\u8282\u70b9\u7684\u7d22\u5f15\u503c\u4e2d\uff0c\u56e0\u6b64\u5728\u53f6\u5b50\u8282\u70b9\u4e2d\uff0c\u5305\u62ec\u4e86\u6240\u6709\u7684\u7d22\u5f15\u503c\u4fe1\u606f\uff0c\u5e76\u4e14\u6bcf\u4e00\u4e2a\u53f6\u5b50\u8282\u70b9\u90fd\u6307\u5411\u4e0b\u4e00\u4e2a\u53f6\u5b50\u8282\u70b9\uff0c\u5f62\u6210\u4e00\u4e2a\u94fe\u8868\u3002"),(0,l.kt)("p",null,"\u4e3b\u952e\u7d22\u5f15\u7684 B+Tree \u5982\u56fe\u6240\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220712154624540",src:n(73584).Z,width:"1231",height:"499"})),(0,l.kt)("h5",{id:"\u901a\u8fc7\u4e3b\u952e\u67e5\u8be2\u5546\u54c1\u6570\u636e\u7684\u8fc7\u7a0b"},"\u901a\u8fc7\u4e3b\u952e\u67e5\u8be2\u5546\u54c1\u6570\u636e\u7684\u8fc7\u7a0b"),(0,l.kt)("p",null,"\u6bd4\u5982\uff0c\u6211\u4eec\u6267\u884c\u4e86\u4e0b\u9762\u8fd9\u6761\u67e5\u8be2\u8bed\u53e5\uff0c\u8fd9\u6761\u8bed\u53e5\u4f7f\u7528\u4e86\u4e3b\u952e\u7d22\u5f15\u67e5\u8be2 id \u53f7\u4e3a 5 \u7684\u5546\u54c1\u3002\u67e5\u8be2\u8fc7\u7a0b\u662f\u8fd9\u6837\u7684\uff0cB+Tree \u4f1a\u81ea\u9876\u5411\u4e0b\u9010\u5c42\u8fdb\u884c\u67e5\u627e\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5c06 5 \u4e0e\u6839\u8282\u70b9\u7684\u7d22\u5f15\u6570\u636e (1\uff0c10\uff0c20) \u6bd4\u8f83\uff0c5 \u5728 1 \u548c 10 \u4e4b\u95f4\uff0c\u6240\u4ee5\u6839\u636e B+Tree\u7684\u641c\u7d22\u903b\u8f91\uff0c\u627e\u5230\u7b2c\u4e8c\u5c42\u7684\u7d22\u5f15\u6570\u636e (1\uff0c4\uff0c7)\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5728\u7b2c\u4e8c\u5c42\u7684\u7d22\u5f15\u6570\u636e  (1\uff0c4\uff0c7)\u4e2d\u8fdb\u884c\u67e5\u627e\uff0c\u56e0\u4e3a 5 \u5728 4 \u548c 7 \u4e4b\u95f4\uff0c\u6240\u4ee5\u627e\u5230\u7b2c\u4e09\u5c42\u7684\u7d22\u5f15\u6570\u636e\uff084\uff0c5\uff0c6\uff09\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5728\u53f6\u5b50\u8282\u70b9\u7684\u7d22\u5f15\u6570\u636e\uff084\uff0c5\uff0c6\uff09\u4e2d\u8fdb\u884c\u67e5\u627e\uff0c\u7136\u540e\u6211\u4eec\u627e\u5230\u4e86\u7d22\u5f15\u503c\u4e3a 5 \u7684\u884c\u6570\u636e\u3002")),(0,l.kt)("p",null,"\u6570\u636e\u5e93\u7684\u7d22\u5f15\u548c\u6570\u636e\u90fd\u662f\u5b58\u50a8\u5728\u786c\u76d8\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u8bfb\u53d6\u4e00\u4e2a\u8282\u70b9\u5f53\u4f5c\u4e00\u6b21\u78c1\u76d8 I/O \u64cd\u4f5c\u3002\u90a3\u4e48\u4e0a\u9762\u7684\u6574\u4e2a\u67e5\u8be2\u8fc7\u7a0b\u4e00\u5171\u7ecf\u5386\u4e86 3 \u4e2a\u8282\u70b9\uff0c\u4e5f\u5c31\u662f\u8fdb\u884c\u4e86 3 \u6b21 I/O \u64cd\u4f5c\u3002"),(0,l.kt)("p",null,"B+Tree \u5b58\u50a8\u5343\u4e07\u7ea7\u7684\u6570\u636e\u53ea\u9700\u8981 3-4 \u5c42\u9ad8\u5ea6\u5c31\u53ef\u4ee5\u6ee1\u8db3\uff0c\u8fd9\u610f\u5473\u7740\u4ece\u5343\u4e07\u7ea7\u7684\u8868\u67e5\u8be2\u76ee\u6807\u6570\u636e\u6700\u591a\u9700\u8981 3-4 \u6b21\u78c1\u76d8 I/O\uff0c\u6240\u4ee5",(0,l.kt)("strong",{parentName:"p"},"B+Tree \u76f8\u6bd4\u4e8e B \u6811\u548c\u4e8c\u53c9\u6811\u6765\u8bf4\uff0c\u6700\u5927\u7684\u4f18\u52bf\u5728\u4e8e\u67e5\u8be2\u6548\u7387\u5f88\u9ad8\uff0c\u56e0\u4e3a\u5373\u4f7f\u5728\u6570\u636e\u91cf\u5f88\u5927\u7684\u60c5\u51b5\uff0c\u67e5\u8be2\u4e00\u4e2a\u6570\u636e\u7684\u78c1\u76d8 I/O \u4f9d\u7136\u7ef4\u6301\u5728 3-4\u6b21\u3002")),(0,l.kt)("h5",{id:"\u901a\u8fc7\u4e8c\u7ea7\u7d22\u5f15\u67e5\u8be2\u5546\u54c1\u6570\u636e\u7684\u8fc7\u7a0b"},"\u901a\u8fc7\u4e8c\u7ea7\u7d22\u5f15\u67e5\u8be2\u5546\u54c1\u6570\u636e\u7684\u8fc7\u7a0b"),(0,l.kt)("p",null,"\u4e3b\u952e\u7d22\u5f15\u7684 B+Tree  \u548c\u4e8c\u7ea7\u7d22\u5f15\u7684 B+Tree \u533a\u522b\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e3b\u952e\u7d22\u5f15\u7684 B+Tree  \u7684\u53f6\u5b50\u8282\u70b9\u5b58\u653e\u7684\u662f\u5b9e\u9645\u6570\u636e\uff0c\u6240\u6709\u5b8c\u6574\u7684\u7528\u6237\u8bb0\u5f55\u90fd\u5b58\u653e\u5728\u4e3b\u952e\u7d22\u5f15\u7684 B+Tree \u7684\u53f6\u5b50\u8282\u70b9\u91cc\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u4e8c\u7ea7\u7d22\u5f15\u7684 B+Tree  \u7684\u53f6\u5b50\u8282\u70b9\u5b58\u653e\u7684\u662f\u4e3b\u952e\u503c\uff0c\u800c\u4e0d\u662f\u5b9e\u9645\u6570\u636e\u3002")),(0,l.kt)("p",null,"\u6211\u8fd9\u91cc\u5c06\u524d\u9762\u7684\u5546\u54c1\u8868\u4e2d\u7684 product_no \uff08\u5546\u54c1\u7f16\u7801\uff09\u5b57\u6bb5\u8bbe\u7f6e\u4e3a\u4e8c\u7ea7\u7d22\u5f15\uff0c\u90a3\u4e48\u4e8c\u7ea7\u7d22\u5f15\u7684 B+Tree \u5982\u4e0b\u56fe\uff0c\u5176\u4e2d\u975e\u53f6\u5b50\u7684 key \u503c\u662f product_no\uff08\u56fe\u4e2d\u6a59\u8272\u90e8\u5206\uff09\uff0c\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u7684\u6570\u636e\u662f\u4e3b\u952e\u503c\uff08\u56fe\u4e2d\u7eff\u8272\u90e8\u5206\uff09\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220712154658288",src:n(70142).Z,width:"1231",height:"499"})),(0,l.kt)("p",null,"\u5982\u679c\u6211\u7528 product_no \u4e8c\u7ea7\u7d22\u5f15\u67e5\u8be2\u5546\u54c1\uff0c\u5982\u4e0b\u67e5\u8be2\u8bed\u53e5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"select * from product where product_no = '0002';\n")),(0,l.kt)("p",null,"\u4f1a\u5148\u68c0\u4e8c\u7ea7\u7d22\u5f15\u4e2d\u7684 B+Tree \u7684\u7d22\u5f15\u503c\uff08\u5546\u54c1\u7f16\u7801\uff0cproduct_no\uff09\uff0c\u627e\u5230\u5bf9\u5e94\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u7136\u540e\u83b7\u53d6\u4e3b\u952e\u503c\uff0c\u7136\u540e\u518d\u901a\u8fc7\u4e3b\u952e\u7d22\u5f15\u4e2d\u7684 B+Tree \u6811\u67e5\u8be2\u5230\u5bf9\u5e94\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u7136\u540e\u83b7\u53d6\u6574\u884c\u6570\u636e\u3002",(0,l.kt)("strong",{parentName:"p"},"\u8fd9\u4e2a\u8fc7\u7a0b\u53eb\u300c\u56de\u8868\u300d\uff0c\u4e5f\u5c31\u662f\u8bf4\u8981\u67e5\u4e24\u4e2a B+Tree \u624d\u80fd\u67e5\u5230\u6570\u636e"),"\u3002\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220712154711271",src:n(32088).Z,width:"2581",height:"702"})),(0,l.kt)("p",null,"\u4e0d\u8fc7\uff0c\u5f53\u67e5\u8be2\u7684\u6570\u636e\u662f\u80fd\u5728\u4e8c\u7ea7\u7d22\u5f15\u7684 B+Tree \u7684\u53f6\u5b50\u8282\u70b9\u91cc\u67e5\u8be2\u5230\uff0c\u8fd9\u65f6\u5c31\u4e0d\u7528\u518d\u67e5\u4e3b\u952e\u7d22\u5f15\u67e5\uff0c\u6bd4\u5982\u4e0b\u9762\u8fd9\u6761\u67e5\u8be2\u8bed\u53e5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"select id from product where product_no = '0002';\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8fd9\u79cd\u5728\u4e8c\u7ea7\u7d22\u5f15\u7684 B+Tree \u5c31\u80fd\u67e5\u8be2\u5230\u7ed3\u679c\u7684\u8fc7\u7a0b\u5c31\u53eb\u4f5c\u300c\u8986\u76d6\u7d22\u5f15\u300d\uff0c\u4e5f\u5c31\u662f\u53ea\u9700\u8981\u67e5\u4e00\u4e2a B+Tree \u5c31\u80fd\u627e\u5230\u6570\u636e"),"\u3002"),(0,l.kt)("h4",{id:"\u6309\u7269\u7406\u5b58\u50a8\u5206\u7c7b"},"\u6309\u7269\u7406\u5b58\u50a8\u5206\u7c7b"),(0,l.kt)("p",null,"\u4ece\u7269\u7406\u5b58\u50a8\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u7d22\u5f15\u5206\u4e3a\u805a\u7c07\u7d22\u5f15\uff08\u4e3b\u952e\u7d22\u5f15\uff09\u3001\u4e8c\u7ea7\u7d22\u5f15\uff08\u8f85\u52a9\u7d22\u5f15\uff09\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e24\u4e2a\u533a\u522b\u5728\u524d\u9762\u4e5f\u63d0\u5230\u4e86\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e3b\u952e\u7d22\u5f15\u7684 B+Tree  \u7684\u53f6\u5b50\u8282\u70b9\u5b58\u653e\u7684\u662f\u5b9e\u9645\u6570\u636e\uff0c\u6240\u6709\u5b8c\u6574\u7684\u7528\u6237\u8bb0\u5f55\u90fd\u5b58\u653e\u5728\u4e3b\u952e\u7d22\u5f15\u7684 B+Tree \u7684\u53f6\u5b50\u8282\u70b9\u91cc\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u4e8c\u7ea7\u7d22\u5f15\u7684 B+Tree  \u7684\u53f6\u5b50\u8282\u70b9\u5b58\u653e\u7684\u662f\u4e3b\u952e\u503c\uff0c\u800c\u4e0d\u662f\u5b9e\u9645\u6570\u636e\u3002")),(0,l.kt)("h4",{id:"\u6309\u5b57\u6bb5\u7279\u6027\u5206\u7c7b"},"\u6309\u5b57\u6bb5\u7279\u6027\u5206\u7c7b"),(0,l.kt)("p",null,"\u4ece\u5b57\u6bb5\u7279\u6027\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u7d22\u5f15\u5206\u4e3a\u4e3b\u952e\u7d22\u5f15\u3001\u552f\u4e00\u7d22\u5f15\u3001\u666e\u901a\u7d22\u5f15\u3001\u524d\u7f00\u7d22\u5f15\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e3b\u952e\u7d22\u5f15"),"\u5c31\u662f\u5efa\u7acb\u5728\u4e3b\u952e\u5b57\u6bb5\u4e0a\u7684\u7d22\u5f15\uff0c\u901a\u5e38\u5728\u521b\u5efa\u8868\u7684\u65f6\u5019\u4e00\u8d77\u521b\u5efa\uff0c\u4e00\u5f20\u8868\u6700\u591a\u53ea\u6709\u4e00\u4e2a\u4e3b\u952e\u7d22\u5f15\uff0c\u7d22\u5f15\u5217\u7684\u503c\u4e0d\u5141\u8bb8\u6709\u7a7a\u503c\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u552f\u4e00\u7d22\u5f15"),"\u5efa\u7acb\u5728 UNIQUE \u5b57\u6bb5\u4e0a\u7684\u7d22\u5f15\uff0c\u4e00\u5f20\u8868\u53ef\u4ee5\u6709\u591a\u4e2a\u552f\u4e00\u7d22\u5f15\uff0c\u7d22\u5f15\u5217\u7684\u503c\u5fc5\u987b\u552f\u4e00\uff0c\u4f46\u662f\u5141\u8bb8\u6709\u7a7a\u503c\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u666e\u901a\u7d22\u5f15"),"\u5c31\u662f\u5efa\u7acb\u5728\u666e\u901a\u5b57\u6bb5\u4e0a\u7684\u7d22\u5f15\uff0c\u65e2\u4e0d\u8981\u6c42\u5b57\u6bb5\u4e3a\u4e3b\u952e\uff0c\u4e5f\u4e0d\u8981\u6c42\u5b57\u6bb5\u4e3a UNIQUE\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u524d\u7f00\u7d22\u5f15"),"\u662f\u6307\u5bf9\u5b57\u7b26\u7c7b\u578b\u5b57\u6bb5\u7684\u524d\u51e0\u4e2a\u5b57\u7b26\u5efa\u7acb\u7684\u7d22\u5f15\uff0c\u800c\u4e0d\u662f\u5728\u6574\u4e2a\u5b57\u6bb5\u4e0a\u5efa\u7acb\u7684\u7d22\u5f15\uff0c\u524d\u7f00\u7d22\u5f15\u53ef\u4ee5\u5efa\u7acb\u5728\u5b57\u6bb5\u7c7b\u578b\u4e3a char\u3001 varchar\u3001binary\u3001varbinary \u7684\u5217\u4e0a\u3002",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u51cf\u5c11\u7d22\u5f15\u5360\u7528\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u63d0\u5347\u67e5\u8be2\u6548\u7387\u3002")))),(0,l.kt)("h4",{id:"\u6309\u5b57\u6bb5\u4e2a\u6570\u5206\u7c7b"},"\u6309\u5b57\u6bb5\u4e2a\u6570\u5206\u7c7b"),(0,l.kt)("p",null,"\u4ece\u5b57\u6bb5\u4e2a\u6570\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u7d22\u5f15\u5206\u4e3a\u5355\u5217\u7d22\u5f15\u3001\u8054\u5408\u7d22\u5f15\uff08\u590d\u5408\u7d22\u5f15\uff09\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5efa\u7acb\u5728\u5355\u5217\u4e0a\u7684\u7d22\u5f15\u79f0\u4e3a\u5355\u5217\u7d22\u5f15\uff0c\u6bd4\u5982\u4e3b\u952e\u7d22\u5f15\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5efa\u7acb\u5728\u591a\u5217\u4e0a\u7684\u7d22\u5f15\u79f0\u4e3a\u8054\u5408\u7d22\u5f15\uff1b")),(0,l.kt)("h5",{id:"\u8054\u5408\u7d22\u5f15"},"\u8054\u5408\u7d22\u5f15"),(0,l.kt)("p",null,"\u901a\u8fc7\u5c06\u591a\u4e2a\u5b57\u6bb5\u7ec4\u5408\u6210\u4e00\u4e2a\u7d22\u5f15\uff0c\u8be5\u7d22\u5f15\u5c31\u88ab\u79f0\u4e3a\u8054\u5408\u7d22\u5f15\u3002\u6bd4\u5982\u5c06\u5546\u54c1\u8868\u4e2d\u7684 product_no \u548c name \u5b57\u6bb5\u7ec4\u5408\u6210\u8054\u5408\u7d22\u5f15 ",(0,l.kt)("inlineCode",{parentName:"p"},"(product_no, name)"),"\uff0c\u521b\u5efa\u8054\u5408\u7d22\u5f15\u7684\u65b9\u5f0f\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE INDEX index_product_no_name ON product(product_no, name);\n")),(0,l.kt)("p",null,"\u8054\u5408\u7d22\u5f15 ",(0,l.kt)("inlineCode",{parentName:"p"},"(product_no, name)")," \u7684 B+Tree \u793a\u610f\u56fe\u5982\u4e0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220712155601299",src:n(48924).Z,width:"1141",height:"571"})),(0,l.kt)("h3",{id:"\ufe0f\u805a\u7c07\u7d22\u5f15\u548c\u975e\u805a\u7c07\u7d22\u5f15"},"\u2b50\ufe0f\u805a\u7c07\u7d22\u5f15\u548c\u975e\u805a\u7c07\u7d22\u5f15"),(0,l.kt)("p",null,"\u53e6\u5916\uff0c\u7d22\u5f15\u53c8\u53ef\u4ee5\u5206\u6210\u805a\u7c07\u7d22\u5f15\u548c\u975e\u805a\u7c07\u7d22\u5f15\uff08\u4e8c\u7ea7\u7d22\u5f15\uff09\uff0c\u5b83\u4eec\u533a\u522b\u5c31\u5728\u4e8e\u53f6\u5b50\u8282\u70b9\u5b58\u653e\u7684\u662f\u4ec0\u4e48\u6570\u636e\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u805a\u7c07\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5b58\u653e\u7684\u662f\u5b9e\u9645\u6570\u636e\uff0c\u6240\u6709\u5b8c\u6574\u7684\u7528\u6237\u8bb0\u5f55\u90fd\u5b58\u653e\u5728\u805a\u7c07\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u4e8c\u7ea7\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5b58\u653e\u7684\u662f\u4e3b\u952e\u503c\uff0c\u800c\u4e0d\u662f\u5b9e\u9645\u6570\u636e\u3002")),(0,l.kt)("p",null,"\u56e0\u4e3a\u8868\u7684\u6570\u636e\u90fd\u662f\u5b58\u653e\u5728\u805a\u7c07\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u91cc\uff0c\u6240\u4ee5 InnoDB \u5b58\u50a8\u5f15\u64ce\u4e00\u5b9a\u4f1a\u4e3a\u8868\u521b\u5efa\u4e00\u4e2a\u805a\u7c07\u7d22\u5f15\uff0c\u4e14\u7531\u4e8e\u6570\u636e\u5728\u7269\u7406\u4e0a\u53ea\u4f1a\u4fdd\u5b58\u4e00\u4efd\uff0c\u6240\u4ee5\u805a\u7c07\u7d22\u5f15\u53ea\u80fd\u6709\u4e00\u4e2a\u3002"),(0,l.kt)("p",null,"InnoDB \u5728\u521b\u5efa\u805a\u7c07\u7d22\u5f15\u65f6\uff0c\u4f1a\u6839\u636e\u4e0d\u540c\u7684\u573a\u666f\u9009\u62e9\u4e0d\u540c\u7684\u5217\u4f5c\u4e3a\u7d22\u5f15\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u6709\u4e3b\u952e\uff0c\u9ed8\u8ba4\u4f1a\u4f7f\u7528\u4e3b\u952e\u4f5c\u4e3a\u805a\u7c07\u7d22\u5f15\u7684\u7d22\u5f15\u952e\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u6ca1\u6709\u4e3b\u952e\uff0c\u5c31\u9009\u62e9\u7b2c\u4e00\u4e2a\u4e0d\u5305\u542b NULL \u503c\u7684\u552f\u4e00\u5217\u4f5c\u4e3a\u805a\u7c07\u7d22\u5f15\u7684\u7d22\u5f15\u952e\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5728\u4e0a\u9762\u4e24\u4e2a\u90fd\u6ca1\u6709\u7684\u60c5\u51b5\u4e0b\uff0cInnoDB \u5c06\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u9690\u5f0f\u81ea\u589e id \u5217\u4f5c\u4e3a\u805a\u7c07\u7d22\u5f15\u7684\u7d22\u5f15\u952e\uff1b")),(0,l.kt)("p",null,"\u4e00\u5f20\u8868\u53ea\u80fd\u6709\u4e00\u4e2a\u805a\u7c07\u7d22\u5f15\uff0c\u90a3\u4e3a\u4e86\u5b9e\u73b0\u975e\u4e3b\u952e\u5b57\u6bb5\u7684\u5feb\u901f\u641c\u7d22\uff0c\u5c31\u5f15\u51fa\u4e86\u4e8c\u7ea7\u7d22\u5f15\uff08\u975e\u805a\u7c07\u7d22\u5f15/\u8f85\u52a9\u7d22\u5f15\uff09\uff0c\u5b83\u4e5f\u662f\u5229\u7528\u4e86 B+ \u6811\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4f46\u662f\u4e8c\u7ea7\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5b58\u653e\u7684\u662f\u4e3b\u952e\u503c\uff0c\u4e0d\u662f\u5b9e\u9645\u6570\u636e\u3002"),(0,l.kt)("p",null,"\u4e8c\u7ea7\u7d22\u5f15\u7684 B+ \u6811\u5982\u4e0b\u56fe\uff0c\u6570\u636e\u90e8\u5206\u4e3a\u4e3b\u952e\u503c\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718134133927",src:n(66912).Z,width:"1080",height:"509"})),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5982\u679c\u67d0\u4e2a\u67e5\u8be2\u8bed\u53e5\u4f7f\u7528\u4e86\u4e8c\u7ea7\u7d22\u5f15\uff0c\u4f46\u662f\u67e5\u8be2\u7684\u6570\u636e\u4e0d\u662f\u4e3b\u952e\u503c\uff0c\u8fd9\u65f6\u5728\u4e8c\u7ea7\u7d22\u5f15\u627e\u5230\u4e3b\u952e\u503c\u540e\uff0c\u9700\u8981\u53bb\u805a\u7c07\u7d22\u5f15\u4e2d\u83b7\u5f97\u6570\u636e\u884c\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u53eb\u4f5c\u300c\u56de\u8868\u300d\uff0c\u4e5f\u5c31\u662f\u8bf4\u8981\u67e5\u4e24\u4e2a B+  \u6811\u624d\u80fd\u67e5\u5230\u6570\u636e\u3002\u4e0d\u8fc7\uff0c\u5f53\u67e5\u8be2\u7684\u6570\u636e\u662f\u4e3b\u952e\u503c\u65f6\uff0c\u56e0\u4e3a\u53ea\u5728\u4e8c\u7ea7\u7d22\u5f15\u5c31\u80fd\u67e5\u8be2\u5230\uff0c\u4e0d\u7528\u518d\u53bb\u805a\u7c07\u7d22\u5f15\u67e5\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u53eb\u4f5c\u300c\u7d22\u5f15\u8986\u76d6\u300d\uff0c\u4e5f\u5c31\u662f\u53ea\u9700\u8981\u67e5\u4e00\u4e2a  B+ \u6811\u5c31\u80fd\u627e\u5230\u6570\u636e\u3002")),(0,l.kt)("h3",{id:"\u6570\u636e\u5e93\u4e8b\u52a1"},"\u6570\u636e\u5e93\u4e8b\u52a1\uff1f"),(0,l.kt)("p",null,"\u7b80\u5355\u6765\u8bf4\uff0c\u6570\u636e\u5e93\u4e8b\u52a1\u53ef\u4ee5\u4fdd\u8bc1\u591a\u4e2a\u5bf9\u6570\u636e\u5e93\u7684\u64cd\u4f5c\uff08\u4e5f\u5c31\u662f SQL \u8bed\u53e5\uff09\u6784\u6210\u4e00\u4e2a\u903b\u8f91\u4e0a\u7684\u6574\u4f53\u3002\u6784\u6210\u8fd9\u4e2a\u903b\u8f91\u4e0a\u7684\u6574\u4f53\u7684\u8fd9\u4e9b\u6570\u636e\u5e93\u64cd\u4f5c\u9075\u5faa\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u8981\u4e48\u5168\u90e8\u6267\u884c\u6210\u529f,\u8981\u4e48\u5168\u90e8\u4e0d\u6267\u884c")," \u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"# \u5f00\u542f\u4e00\u4e2a\u4e8b\u52a1\nSTART TRANSACTION;\n# \u591a\u6761 SQL \u8bed\u53e5\nSQL1,SQL2...\n## \u63d0\u4ea4\u4e8b\u52a1\nCOMMIT;\n")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220613143832546",src:n(7902).Z,width:"881",height:"361"})),(0,l.kt)("p",null,"\u53e6\u5916\uff0c\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u4f8b\u5982\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"SQL Server"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"Oracle")," \u7b49\uff09\u4e8b\u52a1\u90fd\u6709 ",(0,l.kt)("strong",{parentName:"p"},"ACID")," \u7279\u6027\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220613143851071",src:n(77840).Z,width:"362",height:"307"})),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u539f\u5b50\u6027"),"\uff08",(0,l.kt)("inlineCode",{parentName:"li"},"Atomicity"),"\uff09 \uff1a \u4e8b\u52a1\u662f\u6700\u5c0f\u7684\u6267\u884c\u5355\u4f4d\uff0c\u4e0d\u5141\u8bb8\u5206\u5272\u3002\u4e8b\u52a1\u7684\u539f\u5b50\u6027\u786e\u4fdd\u52a8\u4f5c\u8981\u4e48\u5168\u90e8\u5b8c\u6210\uff0c\u8981\u4e48\u5b8c\u5168\u4e0d\u8d77\u4f5c\u7528\uff1b"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4e00\u81f4\u6027"),"\uff08",(0,l.kt)("inlineCode",{parentName:"li"},"Consistency"),"\uff09\uff1a \u6267\u884c\u4e8b\u52a1\u524d\u540e\uff0c\u6570\u636e\u4fdd\u6301\u4e00\u81f4\uff0c\u4f8b\u5982\u8f6c\u8d26\u4e1a\u52a1\u4e2d\uff0c\u65e0\u8bba\u4e8b\u52a1\u662f\u5426\u6210\u529f\uff0c\u8f6c\u8d26\u8005\u548c\u6536\u6b3e\u4eba\u7684\u603b\u989d\u5e94\u8be5\u662f\u4e0d\u53d8\u7684\uff1b"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u9694\u79bb\u6027"),"\uff08",(0,l.kt)("inlineCode",{parentName:"li"},"Isolation"),"\uff09\uff1a \u5e76\u53d1\u8bbf\u95ee\u6570\u636e\u5e93\u65f6\uff0c\u4e00\u4e2a\u7528\u6237\u7684\u4e8b\u52a1\u4e0d\u88ab\u5176\u4ed6\u4e8b\u52a1\u6240\u5e72\u6270\uff0c\u5404\u5e76\u53d1\u4e8b\u52a1\u4e4b\u95f4\u6570\u636e\u5e93\u662f\u72ec\u7acb\u7684\uff1b"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u6301\u4e45\u6027"),"\uff08",(0,l.kt)("inlineCode",{parentName:"li"},"Durabilily"),"\uff09\uff1a \u4e00\u4e2a\u4e8b\u52a1\u88ab\u63d0\u4ea4\u4e4b\u540e\u3002\u5b83\u5bf9\u6570\u636e\u5e93\u4e2d\u6570\u636e\u7684\u6539\u53d8\u662f\u6301\u4e45\u7684\uff0c\u5373\u4f7f\u6570\u636e\u5e93\u53d1\u751f\u6545\u969c\u4e5f\u4e0d\u5e94\u8be5\u5bf9\u5176\u6709\u4efb\u4f55\u5f71\u54cd\u3002")),(0,l.kt)("p",null,"\ud83c\udf08 \u8fd9\u91cc\u8981\u989d\u5916\u8865\u5145\u4e00\u70b9\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u53ea\u6709\u4fdd\u8bc1\u4e86\u4e8b\u52a1\u7684\u6301\u4e45\u6027\u3001\u539f\u5b50\u6027\u3001\u9694\u79bb\u6027\u4e4b\u540e\uff0c\u4e00\u81f4\u6027\u624d\u80fd\u5f97\u5230\u4fdd\u969c\u3002\u4e5f\u5c31\u662f\u8bf4 A\u3001I\u3001D \u662f\u624b\u6bb5\uff0cC \u662f\u76ee\u7684\uff01")," \u60f3\u5fc5\u5927\u5bb6\u4e5f\u548c\u6211\u4e00\u6837\uff0c\u88ab ACID \u8fd9\u4e2a\u6982\u5ff5\u88ab\u8bef\u5bfc\u4e86\u5f88\u4e45!"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220613144017540",src:n(97978).Z,width:"400",height:"371"})),(0,l.kt)("p",null,"\u53e6\u5916\uff0cDDIA \u4e5f\u5c31\u662f ",(0,l.kt)("a",{parentName:"p",href:"https://book.douban.com/subject/30329536/"},"\u300aDesigning Data-Intensive Application\uff08\u6570\u636e\u5bc6\u96c6\u578b\u5e94\u7528\u7cfb\u7edf\u8bbe\u8ba1\uff09\u300b")),(0,l.kt)("p",null," \u7684\u4f5c\u8005\u5728\u4ed6\u7684\u8fd9\u672c\u4e66\u4e2d\u5982\u662f\u8bf4\uff1a"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Atomicity, isolation, and durability are properties of the database, whereas  consis\u2010 tency (in the ACID sense) is a property of the application. The  application may rely on the database\u2019s atomicity and isolation  properties in order to achieve consistency, but it\u2019s not up to the  database alone."),(0,l.kt)("p",{parentName:"blockquote"},"\u7ffb\u8bd1\u8fc7\u6765\u7684\u610f\u601d\u662f\uff1a\u539f\u5b50\u6027\uff0c\u9694\u79bb\u6027\u548c\u6301\u4e45\u6027\u662f\u6570\u636e\u5e93\u7684\u5c5e\u6027\uff0c\u800c\u4e00\u81f4\u6027\uff08\u5728 ACID \u610f\u4e49\u4e0a\uff09\u662f\u5e94\u7528\u7a0b\u5e8f\u7684\u5c5e\u6027\u3002\u5e94\u7528\u53ef\u80fd\u4f9d\u8d56\u6570\u636e\u5e93\u7684\u539f\u5b50\u6027\u548c\u9694\u79bb\u5c5e\u6027\u6765\u5b9e\u73b0\u4e00\u81f4\u6027\uff0c\u4f46\u8fd9\u5e76\u4e0d\u4ec5\u53d6\u51b3\u4e8e\u6570\u636e\u5e93\u3002\u56e0\u6b64\uff0c\u5b57\u6bcd C \u4e0d\u5c5e\u4e8e ACID \u3002")),(0,l.kt)("h3",{id:"\u5e76\u53d1\u4e8b\u52a1\u5e26\u6765\u4e86\u54ea\u4e9b\u95ee\u9898"},"\u5e76\u53d1\u4e8b\u52a1\u5e26\u6765\u4e86\u54ea\u4e9b\u95ee\u9898"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u90e8\u5206\u56fe\u9009\u81ea\u300aMySQL\u662f\u600e\u6837\u8fd0\u884c\u7684\u300b")),(0,l.kt)("p",null,"\u5728\u5178\u578b\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u591a\u4e2a\u4e8b\u52a1\u5e76\u53d1\u8fd0\u884c\uff0c\u7ecf\u5e38\u4f1a\u64cd\u4f5c\u76f8\u540c\u7684\u6570\u636e\u6765\u5b8c\u6210\u5404\u81ea\u7684\u4efb\u52a1\uff08\u591a\u4e2a\u7528\u6237\u5bf9\u540c\u4e00\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\uff09\u3002\u5e76\u53d1\u867d\u7136\u662f\u5fc5\u987b\u7684\uff0c\u4f46\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4ee5\u4e0b\u7684\u95ee\u9898\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u810f\u8bfb\uff08Dirty read\uff09:")," \u5f53\u4e00\u4e2a\u4e8b\u52a1\u6b63\u5728\u8bbf\u95ee\u6570\u636e\u5e76\u4e14\u5bf9\u6570\u636e\u8fdb\u884c\u4e86\u4fee\u6539\uff0c\u800c\u8fd9\u79cd\u4fee\u6539\u8fd8\u6ca1\u6709\u63d0\u4ea4\u5230\u6570\u636e\u5e93\u4e2d\uff0c\u8fd9\u65f6\u53e6\u5916\u4e00\u4e2a\u4e8b\u52a1\u4e5f\u8bbf\u95ee\u4e86\u8fd9\u4e2a\u6570\u636e\uff0c\u7136\u540e\u4f7f\u7528\u4e86\u8fd9\u4e2a\u6570\u636e\u3002\u56e0\u4e3a\u8fd9\u4e2a\u6570\u636e\u662f\u8fd8\u6ca1\u6709\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u90a3\u4e48\u53e6\u5916\u4e00\u4e2a\u4e8b\u52a1\u8bfb\u5230\u7684\u8fd9\u4e2a\u6570\u636e\u662f\u201c\u810f\u6570\u636e\u201d\uff0c\u4f9d\u636e\u201c\u810f\u6570\u636e\u201d\u6240\u505a\u7684\u64cd\u4f5c\u53ef\u80fd\u662f\u4e0d\u6b63\u786e\u7684\u3002\u3010\u7b80\u800c\u8a00\u4e4b\uff1a",(0,l.kt)("strong",{parentName:"li"},"\u5982\u679c\u4e00\u4e2a\u4e8b\u52a1\u8bfb\u5230\u4e86\u53e6\u4e00\u4e2a\u672a\u63d0\u4ea4\u4e8b\u52a1\u4fee\u6539\u8fc7\u7684\u6570\u636e\uff0c\u90a3\u5c31\u610f\u5473\u7740\u53d1\u751f\u4e86 \u810f\u8bfb")," \u3011")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(62413).Z,width:"1080",height:"400"})),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706223058381",src:n(13933).Z,width:"1231",height:"517"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e22\u5931\u4fee\u6539\uff08Lost to modify\uff09/ \u810f\u5199:"),"  \u6307\u5728\u4e00\u4e2a\u4e8b\u52a1\u8bfb\u53d6\u4e00\u4e2a\u6570\u636e\u65f6\uff0c\u53e6\u5916\u4e00\u4e2a\u4e8b\u52a1\u4e5f\u8bbf\u95ee\u4e86\u8be5\u6570\u636e\uff0c\u90a3\u4e48\u5728\u7b2c\u4e00\u4e2a\u4e8b\u52a1\u4e2d\u4fee\u6539\u4e86\u8fd9\u4e2a\u6570\u636e\u540e\uff0c\u7b2c\u4e8c\u4e2a\u4e8b\u52a1\u4e5f\u4fee\u6539\u4e86\u8fd9\u4e2a\u6570\u636e\u3002\u8fd9\u6837\u7b2c\u4e00\u4e2a\u4e8b\u52a1\u5185\u7684\u4fee\u6539\u7ed3\u679c\u5c31\u88ab\u4e22\u5931\uff0c\u56e0\u6b64\u79f0\u4e3a\u4e22\u5931\u4fee\u6539\u3002 \u4f8b\u5982\uff1a\u4e8b\u52a1 1 \u8bfb\u53d6\u67d0\u8868\u4e2d\u7684\u6570\u636e A=20\uff0c\u4e8b\u52a1 2 \u4e5f\u8bfb\u53d6 A=20\uff0c\u4e8b\u52a1 1 \u4fee\u6539 A=A-1\uff0c\u4e8b\u52a1 2 \u4e5f\u4fee\u6539 A=A-1\uff0c\u6700\u7ec8\u7ed3\u679c  A=19\uff0c\u4e8b\u52a1 1 \u7684\u4fee\u6539\u88ab\u4e22\u5931\u3002\u3010",(0,l.kt)("strong",{parentName:"li"},"\u5982\u679c\u4e00\u4e2a\u4e8b\u52a1\u4fee\u6539\u4e86\u53e6\u4e00\u4e2a\u672a\u63d0\u4ea4\u4e8b\u52a1\u4fee\u6539\u8fc7\u7684\u6570\u636e\uff0c\u90a3\u5c31\u610f\u5473\u7740\u53d1\u751f\u4e86 \u810f\u5199"),"\u3011")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(17834).Z,width:"765",height:"523"})),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706223114814",src:n(14551).Z,width:"1211",height:"510"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e0d\u53ef\u91cd\u590d\u8bfb\uff08Unrepeatable read\uff09:")," \u6307\u5728\u4e00\u4e2a\u4e8b\u52a1\u5185\u591a\u6b21\u8bfb\u540c\u4e00\u6570\u636e\u3002\u5728\u8fd9\u4e2a\u4e8b\u52a1\u8fd8\u6ca1\u6709\u7ed3\u675f\u65f6\uff0c\u53e6\u4e00\u4e2a\u4e8b\u52a1\u4e5f\u8bbf\u95ee\u8be5\u6570\u636e\u3002\u90a3\u4e48\uff0c\u5728\u7b2c\u4e00\u4e2a\u4e8b\u52a1\u4e2d\u7684\u4e24\u6b21\u8bfb\u6570\u636e\u4e4b\u95f4\uff0c\u7531\u4e8e\u7b2c\u4e8c\u4e2a\u4e8b\u52a1\u7684\u4fee\u6539\u5bfc\u81f4\u7b2c\u4e00\u4e2a\u4e8b\u52a1\u4e24\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u53ef\u80fd\u4e0d\u592a\u4e00\u6837\u3002\u8fd9\u5c31\u53d1\u751f\u4e86\u5728\u4e00\u4e2a\u4e8b\u52a1\u5185\u4e24\u6b21\u8bfb\u5230\u7684\u6570\u636e\u662f\u4e0d\u4e00\u6837\u7684\u60c5\u51b5\uff0c\u56e0\u6b64\u79f0\u4e3a\u4e0d\u53ef\u91cd\u590d\u8bfb\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(37274).Z,width:"1080",height:"177"})),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706222414240",src:n(35678).Z,width:"1246",height:"520"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5e7b\u8bfb\uff08Phantom read\uff09:")," \u5e7b\u8bfb\u4e0e\u4e0d\u53ef\u91cd\u590d\u8bfb\u7c7b\u4f3c\u3002\u5b83\u53d1\u751f\u5728\u4e00\u4e2a\u4e8b\u52a1\uff08T1\uff09\u8bfb\u53d6\u4e86\u51e0\u884c\u6570\u636e\uff0c\u63a5\u7740\u53e6\u4e00\u4e2a\u5e76\u53d1\u4e8b\u52a1\uff08T2\uff09\u63d2\u5165\u4e86\u4e00\u4e9b\u6570\u636e\u65f6\u3002\u5728\u968f\u540e\u7684\u67e5\u8be2\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u4e8b\u52a1\uff08T1\uff09\u5c31\u4f1a\u53d1\u73b0\u591a\u4e86\u4e00\u4e9b\u539f\u672c\u4e0d\u5b58\u5728\u7684\u8bb0\u5f55\uff0c\u5c31\u597d\u50cf\u53d1\u751f\u4e86\u5e7b\u89c9\u4e00\u6837\uff0c\u6240\u4ee5\u79f0\u4e3a\u5e7b\u8bfb\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(37874).Z,width:"1080",height:"315"})),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706222426455",src:n(85529).Z,width:"1213",height:"375"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u533a\u522b")," \uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"<u>"),"\u4e0d\u53ef\u91cd\u590d\u8bfb\u7684\u91cd\u70b9\u662f\u4fee\u6539",(0,l.kt)("inlineCode",{parentName:"p"},"</u>"),"\u6bd4\u5982\u591a\u6b21\u8bfb\u53d6\u4e00\u6761\u8bb0\u5f55\u53d1\u73b0\u5176\u4e2d\u67d0\u4e9b\u5217\u7684\u503c\u88ab\u4fee\u6539\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"<u>"),"\u5e7b\u8bfb\u7684\u91cd\u70b9\u5728\u4e8e\u65b0\u589e\u6216\u8005\u5220\u9664",(0,l.kt)("inlineCode",{parentName:"p"},"</u>"),"\u6bd4\u5982\u591a\u6b21\u67e5\u8be2\u540c\u4e00\u6761\u67e5\u8be2\u8bed\u53e5\uff08DQL\uff09\u65f6\uff0c\u8bb0\u5f55\u53d1\u73b0\u8bb0\u5f55\u589e\u591a\u6216\u51cf\u5c11\u4e86\u3002"),(0,l.kt)("h3",{id:"\u6709\u54ea\u4e9b\u4e8b\u52a1\u9694\u79bb\u7ea7\u522bmysql-\u7684\u9ed8\u8ba4\u9694\u79bb\u7ea7\u522b\u662f\u4ec0\u4e48"},"\u2b50\u6709\u54ea\u4e9b\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff0cMySQL \u7684\u9ed8\u8ba4\u9694\u79bb\u7ea7\u522b\u662f\u4ec0\u4e48?"),(0,l.kt)("p",null,"MySQL \u7684\u9694\u79bb\u7ea7\u522b\u57fa\u4e8e\u9501\u548c MVCC \u673a\u5236\u5171\u540c\u5b9e\u73b0\u7684\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"READ-UNCOMMITTED(\u8bfb\u53d6\u672a\u63d0\u4ea4)")," \uff1a \u6700\u4f4e\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u5141\u8bb8\u8bfb\u53d6\u5c1a\u672a\u63d0\u4ea4\u7684\u6570\u636e\u53d8\u66f4\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u810f\u8bfb\u3001\u5e7b\u8bfb\u6216\u4e0d\u53ef\u91cd\u590d\u8bfb\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"READ-COMMITTED(\u8bfb\u53d6\u5df2\u63d0\u4ea4)")," \uff1a \u5141\u8bb8\u8bfb\u53d6\u5e76\u53d1\u4e8b\u52a1\u5df2\u7ecf\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u963b\u6b62\u810f\u8bfb\uff0c\u4f46\u662f\u5e7b\u8bfb\u6216\u4e0d\u53ef\u91cd\u590d\u8bfb\u4ecd\u6709\u53ef\u80fd\u53d1\u751f\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"REPEATABLE-READ(\u53ef\u91cd\u590d\u8bfb)")," \uff1a \u5bf9\u540c\u4e00\u5b57\u6bb5\u7684\u591a\u6b21\u8bfb\u53d6\u7ed3\u679c\u90fd\u662f\u4e00\u81f4\u7684\uff0c\u9664\u975e\u6570\u636e\u662f\u88ab\u672c\u8eab\u4e8b\u52a1\u81ea\u5df1\u6240\u4fee\u6539\uff0c\u53ef\u4ee5\u963b\u6b62\u810f\u8bfb\u548c\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u4f46\u5e7b\u8bfb\u4ecd\u6709\u53ef\u80fd\u53d1\u751f\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"SERIALIZABLE(\u53ef\u4e32\u884c\u5316)")," \uff1a \u6700\u9ad8\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u5b8c\u5168\u670d\u4ece ACID \u7684\u9694\u79bb\u7ea7\u522b\u3002\u6240\u6709\u7684\u4e8b\u52a1\u4f9d\u6b21\u9010\u4e2a\u6267\u884c\uff0c\u8fd9\u6837\u4e8b\u52a1\u4e4b\u95f4\u5c31\u5b8c\u5168\u4e0d\u53ef\u80fd\u4ea7\u751f\u5e72\u6270\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u8be5\u7ea7\u522b\u53ef\u4ee5\u9632\u6b62\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u4ee5\u53ca\u5e7b\u8bfb\u3002")),(0,l.kt)("hr",null),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"\u9694\u79bb\u7ea7\u522b"),(0,l.kt)("th",{parentName:"tr",align:"center"},"\u810f\u8bfb"),(0,l.kt)("th",{parentName:"tr",align:"center"},"\u4e0d\u53ef\u91cd\u590d\u8bfb"),(0,l.kt)("th",{parentName:"tr",align:"center"},"\u5e7b\u8bfb"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"READ-UNCOMMITTED"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u221a"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u221a"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u221a")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"READ-COMMITTED"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\xd7"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u221a"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u221a")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"REPEATABLE-READ"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\xd7"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\xd7"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u221a")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"SERIALIZABLE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\xd7"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\xd7"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\xd7")))),(0,l.kt)("h3",{id:"\u8868\u7ea7\u9501\u548c\u884c\u7ea7\u9501\u4e86\u89e3\u5417\u6709\u4ec0\u4e48\u533a\u522b"},"\u8868\u7ea7\u9501\u548c\u884c\u7ea7\u9501\u4e86\u89e3\u5417\uff1f\u6709\u4ec0\u4e48\u533a\u522b\uff1f"),(0,l.kt)("p",null,"MyISAM \u4ec5\u4ec5\u652f\u6301\u8868\u7ea7\u9501(table-level locking)\uff0c\u4e00\u9501\u5c31\u9501\u6574\u5f20\u8868\uff0c\u8fd9\u5728\u5e76\u53d1\u5199\u7684\u60c5\u51b5\u4e0b\u6027\u975e\u5e38\u5dee\u3002"),(0,l.kt)("p",null,"InnoDB \u4e0d\u5149\u652f\u6301\u8868\u7ea7\u9501(table-level locking)\uff0c\u8fd8\u652f\u6301\u884c\u7ea7\u9501(row-level  locking)\uff0c\u9ed8\u8ba4\u4e3a\u884c\u7ea7\u9501\u3002\u884c\u7ea7\u9501\u7684\u7c92\u5ea6\u66f4\u5c0f\uff0c\u4ec5\u5bf9\u76f8\u5173\u7684\u8bb0\u5f55\u4e0a\u9501\u5373\u53ef\uff08\u5bf9\u4e00\u884c\u6216\u8005\u591a\u884c\u8bb0\u5f55\u52a0\u9501\uff09\uff0c\u6240\u4ee5\u5bf9\u4e8e\u5e76\u53d1\u5199\u5165\u64cd\u4f5c\u6765\u8bf4\uff0c InnoDB  \u7684\u6027\u80fd\u66f4\u9ad8\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8868\u7ea7\u9501\u548c\u884c\u7ea7\u9501\u5bf9\u6bd4")," \uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u8868\u7ea7\u9501\uff1a")," MySQL \u4e2d\u9501\u5b9a\u7c92\u5ea6\u6700\u5927\u7684\u4e00\u79cd\u9501\uff0c\u662f\u9488",(0,l.kt)("strong",{parentName:"li"},"\u5bf9\u975e\u7d22\u5f15\u5b57\u6bb5\u52a0\u7684\u9501"),"\uff0c\u5bf9\u5f53\u524d\u64cd\u4f5c\u7684\u6574\u5f20\u8868\u52a0\u9501\uff0c\u5b9e\u73b0\u7b80\u5355\uff0c\u8d44\u6e90\u6d88\u8017\u4e5f\u6bd4\u8f83\u5c11\uff0c\u52a0\u9501\u5feb\uff0c\u4e0d\u4f1a\u51fa\u73b0\u6b7b\u9501\u3002\u5176\u9501\u5b9a\u7c92\u5ea6\u6700\u5927\uff0c\u89e6\u53d1\u9501\u51b2\u7a81\u7684\u6982\u7387\u6700\u9ad8\uff0c\u5e76\u53d1\u5ea6\u6700\u4f4e\uff0cMyISAM \u548c InnoDB \u5f15\u64ce\u90fd\u652f\u6301\u8868\u7ea7\u9501\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u884c\u7ea7\u9501\uff1a")," MySQL \u4e2d\u9501\u5b9a\u7c92\u5ea6\u6700\u5c0f\u7684\u4e00\u79cd\u9501\uff0c\u662f\u9488",(0,l.kt)("strong",{parentName:"li"},"\u5bf9\u7d22\u5f15\u5b57\u6bb5\u52a0\u7684\u9501"),"\uff0c\u53ea\u9488\u5bf9\u5f53\u524d\u64cd\u4f5c\u7684\u8bb0\u5f55\u8fdb\u884c\u52a0\u9501\u3002 \u884c\u7ea7\u9501\u80fd\u5927\u5927\u51cf\u5c11\u6570\u636e\u5e93\u64cd\u4f5c\u7684\u51b2\u7a81\u3002\u5176\u52a0\u9501\u7c92\u5ea6\u6700\u5c0f\uff0c\u5e76\u53d1\u5ea6\u9ad8\uff0c\u4f46\u52a0\u9501\u7684\u5f00\u9500\u4e5f\u6700\u5927\uff0c\u52a0\u9501\u6162\uff0c\u4f1a\u51fa\u73b0\u6b7b\u9501\u3002")),(0,l.kt)("h3",{id:"\u5171\u4eab\u9501\u548c\u6392\u4ed6\u9501"},"\u5171\u4eab\u9501\u548c\u6392\u4ed6\u9501"),(0,l.kt)("p",null,"\u4e0d\u8bba\u662f\u8868\u7ea7\u9501\u8fd8\u662f\u884c\u7ea7\u9501\uff0c\u90fd\u5b58\u5728\u5171\u4eab\u9501\uff08Share Lock\uff0cS \u9501\uff09\u548c\u6392\u4ed6\u9501\uff08Exclusive Lock\uff0cX \u9501\uff09\u8fd9\u4e24\u7c7b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5171\u4eab\u9501\uff08S \u9501\uff09")," \uff1a\u53c8\u79f0\u8bfb\u9501\uff0c\u4e8b\u52a1\u5728\u8bfb\u53d6\u8bb0\u5f55\u7684\u65f6\u5019\u83b7\u53d6\u5171\u4eab\u9501\uff0c\u5141\u8bb8\u591a\u4e2a\u4e8b\u52a1\u540c\u65f6\u83b7\u53d6\uff08\u9501\u517c\u5bb9\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u6392\u4ed6\u9501\uff08X \u9501\uff09")," \uff1a\u53c8\u79f0\u5199\u9501/\u72ec\u5360\u9501\uff0c\u4e8b\u52a1\u5728\u4fee\u6539\u8bb0\u5f55\u7684\u65f6\u5019\u83b7\u53d6\u6392\u4ed6\u9501\uff0c\u4e0d\u5141\u8bb8\u591a\u4e2a\u4e8b\u52a1\u540c\u65f6\u83b7\u53d6\u3002\u5982\u679c\u4e00\u4e2a\u8bb0\u5f55\u5df2\u7ecf\u88ab\u52a0\u4e86\u6392\u4ed6\u9501\uff0c\u90a3\u5176\u4ed6\u4e8b\u52a1\u4e0d\u80fd\u518d\u5bf9\u8fd9\u6761\u4e8b\u52a1\u52a0\u4efb\u4f55\u7c7b\u578b\u7684\u9501\uff08\u9501\u4e0d\u517c\u5bb9\uff09\u3002")),(0,l.kt)("p",null,"\u6392\u4ed6\u9501\u4e0e\u4efb\u4f55\u7684\u9501\u90fd\u4e0d\u517c\u5bb9\uff0c\u5171\u4eab\u9501\u4ec5\u548c\u5171\u4eab\u9501\u517c\u5bb9\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"}),(0,l.kt)("th",{parentName:"tr",align:"left"},"S \u9501"),(0,l.kt)("th",{parentName:"tr",align:"left"},"X \u9501"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"S \u9501"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u4e0d\u51b2\u7a81"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u51b2\u7a81")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"X \u9501"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u51b2\u7a81"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u51b2\u7a81")))),(0,l.kt)("p",null,"\u7531\u4e8e MVCC \u7684\u5b58\u5728\uff0c\u5bf9\u4e8e\u4e00\u822c\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," \u8bed\u53e5\uff0cInnoDB \u4e0d\u4f1a\u52a0\u4efb\u4f55\u9501\u3002\u4e0d\u8fc7\uff0c \u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u8bed\u53e5\u663e\u5f0f\u52a0\u5171\u4eab\u9501\u6216\u6392\u4ed6\u9501\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"# \u5171\u4eab\u9501\nSELECT ... LOCK IN SHARE MODE;\n# \u6392\u4ed6\u9501\nSELECT ... FOR UPDATE;\n")),(0,l.kt)("h3",{id:"\u6570\u636e\u5e93\u7d22\u5f15\u5931\u6548\u6709\u54ea\u4e9b"},"\u6570\u636e\u5e93\u7d22\u5f15\u5931\u6548\u6709\u54ea\u4e9b"),(0,l.kt)("p",null,"\u8be6\u7ec6\u67e5\u770b\u6587\u7ae0\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://xiaolincoding.com/mysql/index/index_lose.html"},"https://xiaolincoding.com/mysql/index/index_lose.html")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f53\u6211\u4eec\u4f7f\u7528\u5de6\u6216\u8005\u5de6\u53f3\u6a21\u7cca\u5339\u914d\u7684\u65f6\u5019\uff0c\u4e5f\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"like %xx")," \u6216\u8005 ",(0,l.kt)("inlineCode",{parentName:"li"},"like %xx%"),"\u8fd9\u4e24\u79cd\u65b9\u5f0f\u90fd\u4f1a\u9020\u6210\u7d22\u5f15\u5931\u6548\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5f53\u6211\u4eec\u5728\u67e5\u8be2\u6761\u4ef6\u4e2d\u5bf9\u7d22\u5f15\u5217\u4f7f\u7528\u51fd\u6570\uff0c\u5c31\u4f1a\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5f53\u6211\u4eec\u5728\u67e5\u8be2\u6761\u4ef6\u4e2d\u5bf9\u7d22\u5f15\u5217\u8fdb\u884c\u8868\u8fbe\u5f0f\u8ba1\u7b97\uff0c\u4e5f\u662f\u65e0\u6cd5\u8d70\u7d22\u5f15\u7684\u3002"),(0,l.kt)("li",{parentName:"ul"},"MySQL  \u5728\u9047\u5230\u5b57\u7b26\u4e32\u548c\u6570\u5b57\u6bd4\u8f83\u7684\u65f6\u5019\uff0c\u4f1a\u81ea\u52a8\u628a\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6570\u5b57\uff0c\u7136\u540e\u518d\u8fdb\u884c\u6bd4\u8f83\u3002\u5982\u679c\u5b57\u7b26\u4e32\u662f\u7d22\u5f15\u5217\uff0c\u800c\u6761\u4ef6\u8bed\u53e5\u4e2d\u7684\u8f93\u5165\u53c2\u6570\u662f\u6570\u5b57\u7684\u8bdd\uff0c\u90a3\u4e48\u7d22\u5f15\u5217\u4f1a\u53d1\u751f\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff0c\u7531\u4e8e\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\u662f\u901a\u8fc7 CAST \u51fd\u6570\u5b9e\u73b0\u7684\uff0c\u7b49\u540c\u4e8e\u5bf9\u7d22\u5f15\u5217\u4f7f\u7528\u4e86\u51fd\u6570\uff0c\u6240\u4ee5\u5c31\u4f1a\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u8054\u5408\u7d22\u5f15\u8981\u80fd\u6b63\u786e\u4f7f\u7528\u9700\u8981\u9075\u5faa\u6700\u5de6\u5339\u914d\u539f\u5219\uff0c\u4e5f\u5c31\u662f\u6309\u7167\u6700\u5de6\u4f18\u5148\u7684\u65b9\u5f0f\u8fdb\u884c\u7d22\u5f15\u7684\u5339\u914d\uff0c\u5426\u5219\u5c31\u4f1a\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5728 WHERE \u5b50\u53e5\u4e2d\uff0c\u5982\u679c\u5728 OR \u524d\u7684\u6761\u4ef6\u5217\u662f\u7d22\u5f15\u5217\uff0c\u800c\u5728 OR \u540e\u7684\u6761\u4ef6\u5217\u4e0d\u662f\u7d22\u5f15\u5217\uff0c\u90a3\u4e48\u7d22\u5f15\u4f1a\u5931\u6548\u3002")),(0,l.kt)("h3",{id:"\u6570\u636e\u5e93sql\u4f18\u5316\u6709\u54ea\u4e9b\u65b9\u6cd5"},"\u6570\u636e\u5e93sql\u4f18\u5316\u6709\u54ea\u4e9b\u65b9\u6cd5"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u89c4\u8303")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://javaguide.cn/database/mysql/mysql-high-performance-optimization-specification-recommendations.html#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%91%BD%E4%BB%A4%E8%A7%84%E8%8C%83"},"MySQL\u9ad8\u6027\u80fd\u4f18\u5316\u89c4\u8303\u5efa\u8bae")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5c3d\u91cf\u907f\u514d\u4f7f\u7528\u5b50\u67e5\u8be2"),(0,l.kt)("li",{parentName:"ol"},"\u7528IN\u6765\u66ff\u6362OR"),(0,l.kt)("li",{parentName:"ol"},"\u8bfb\u53d6\u9002\u5f53\u7684\u8bb0\u5f55LIMIT M,N\uff0c\u800c\u4e0d\u8981\u8bfb\u591a\u4f59\u7684\u8bb0\u5f55"),(0,l.kt)("li",{parentName:"ol"},"\u7981\u6b62\u4e0d\u5fc5\u8981\u7684Order By\u6392\u5e8f"),(0,l.kt)("li",{parentName:"ol"},"\u603b\u548c\u67e5\u8be2\u53ef\u4ee5\u7981\u6b62\u6392\u91cd\u7528union all"),(0,l.kt)("li",{parentName:"ol"},"\u907f\u514d\u968f\u673a\u53d6\u8bb0\u5f55"),(0,l.kt)("li",{parentName:"ol"},"\u5c06\u591a\u6b21\u63d2\u5165\u6362\u6210\u6279\u91cfInsert\u63d2\u5165"),(0,l.kt)("li",{parentName:"ol"},"\u53ea\u8fd4\u56de\u5fc5\u8981\u7684\u5217\uff0c\u7528\u5177\u4f53\u7684\u5b57\u6bb5\u5217\u8868\u4ee3\u66ff select * \u8bed\u53e5"),(0,l.kt)("li",{parentName:"ol"},"\u533a\u5206in\u548cexists"),(0,l.kt)("li",{parentName:"ol"},"\u4f18\u5316Group By\u8bed\u53e5"),(0,l.kt)("li",{parentName:"ol"},"\u5c3d\u91cf\u4f7f\u7528\u6570\u5b57\u578b\u5b57\u6bb5"),(0,l.kt)("li",{parentName:"ol"},"\u4f18\u5316Join\u8bed\u53e5")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6b65\u9aa4")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.pdai.tech/md/db/sql-lan/sql-lan-optimize.html#sql%E8%AF%AD%E8%A8%80---sql%E8%AF%AD%E5%8F%A5%E4%BC%98%E5%8C%96"},"SQL\u8bed\u53e5\u4f18\u5316")),(0,l.kt)("h3",{id:"innodb-\u6709\u54ea\u51e0\u7c7b\u884c\u9501"},"InnoDB \u6709\u54ea\u51e0\u7c7b\u884c\u9501"),(0,l.kt)("p",null,"MySQL InnoDB \u652f\u6301\u4e09\u79cd\u884c\u9501\u5b9a\u65b9\u5f0f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u8bb0\u5f55\u9501\uff08Record Lock\uff09")," \uff1a\u4e5f\u88ab\u79f0\u4e3a\u8bb0\u5f55\u9501\uff0c\u5c5e\u4e8e\u5355\u4e2a\u884c\u8bb0\u5f55\u4e0a\u7684\u9501\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u95f4\u9699\u9501\uff08Gap Lock\uff09")," \uff1a\u9501\u5b9a\u4e00\u4e2a\u8303\u56f4\uff0c\u4e0d\u5305\u62ec\u8bb0\u5f55\u672c\u8eab\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e34\u952e\u9501\uff08Next-key Lock\uff09")," \uff1aRecord Lock+Gap Lock\uff0c\u9501\u5b9a\u4e00\u4e2a\u8303\u56f4\uff0c\u5305\u542b\u8bb0\u5f55\u672c\u8eab\u3002\u8bb0\u5f55\u9501\u53ea\u80fd\u9501\u4f4f\u5df2\u7ecf\u5b58\u5728\u7684\u8bb0\u5f55\uff0c\u4e3a\u4e86\u907f\u514d\u63d2\u5165\u65b0\u8bb0\u5f55\uff0c\u9700\u8981\u4f9d\u8d56\u95f4\u9699\u9501\u3002")),(0,l.kt)("p",null,"InnoDB \u7684\u9ed8\u8ba4\u9694\u79bb\u7ea7\u522b REPEATABLE-READ\uff08\u53ef\u91cd\u8bfb\uff09\u662f\u53ef\u4ee5\u89e3\u51b3\u5e7b\u8bfb\u95ee\u9898\u53d1\u751f\u7684\uff0c\u4e3b\u8981\u6709\u4e0b\u9762\u4e24\u79cd\u60c5\u51b5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5feb\u7167\u8bfb")," \uff1a\u7531 MVCC \u673a\u5236\u6765\u4fdd\u8bc1\u4e0d\u51fa\u73b0\u5e7b\u8bfb\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5f53\u524d\u8bfb")," \uff1a \u4f7f\u7528 Next-Key Lock \u8fdb\u884c\u52a0\u9501\u6765\u4fdd\u8bc1\u4e0d\u51fa\u73b0\u5e7b\u8bfb\u3002")),(0,l.kt)("h3",{id:"\u4e3a\u4ec0\u4e48mysql-\u6ca1\u6709\u4f7f\u7528hash\u8868\u4f5c\u4e3a\u7d22\u5f15\u7684\u6570\u636e\u7ed3\u6784\u5462"},"\u4e3a\u4ec0\u4e48MySQL \u6ca1\u6709\u4f7f\u7528Hash\u8868\u4f5c\u4e3a\u7d22\u5f15\u7684\u6570\u636e\u7ed3\u6784\u5462\uff1f"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1.Hash \u51b2\u7a81\u95ee\u9898")," \uff1aJDK1.8 \u4e4b\u524d ",(0,l.kt)("inlineCode",{parentName:"p"},"HashMap")," \u5c31\u662f\u901a\u8fc7\u94fe\u5730\u5740\u6cd5\u6765\u89e3\u51b3\u54c8\u5e0c\u51b2\u7a81\u7684\u3002\u4e0d\u8fc7\uff0cJDK1.8 \u4ee5\u540e ",(0,l.kt)("inlineCode",{parentName:"p"},"HashMap"),"\u4e3a\u4e86\u51cf\u5c11\u94fe\u8868\u8fc7\u957f\u7684\u65f6\u5019\u641c\u7d22\u65f6\u95f4\u8fc7\u957f\u5f15\u5165\u4e86\u7ea2\u9ed1\u6811\uff0c\u4e0d\u8fc7\u5bf9\u4e8e\u6570\u636e\u5e93\u6765\u8bf4\u8fd9\u8fd8\u4e0d\u7b97\u6700\u5927\u7684\u7f3a\u70b9\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2.Hash \u7d22\u5f15\u4e0d\u652f\u6301\u987a\u5e8f\u548c\u8303\u56f4\u67e5\u8be2(Hash \u7d22\u5f15\u4e0d\u652f\u6301\u987a\u5e8f\u548c\u8303\u56f4\u67e5\u8be2\u662f\u5b83\u6700\u5927\u7684\u7f3a\u70b9\uff1a")," \u5047\u5982\u6211\u4eec\u8981\u5bf9\u8868\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u6392\u5e8f\u6216\u8005\u8fdb\u884c\u8303\u56f4\u67e5\u8be2\uff0c\u90a3 Hash \u7d22\u5f15\u53ef\u5c31\u4e0d\u884c\u4e86\u3002"),(0,l.kt)("p",null,"\u8bd5\u60f3\u4e00\u79cd\u60c5\u51b5:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"SELECT * FROM tb1 WHERE id < 500;\n")),(0,l.kt)("p",null,"\u5728\u8fd9\u79cd\u8303\u56f4\u67e5\u8be2\u4e2d\uff0c\u4f18\u52bf\u975e\u5e38\u5927\uff0c\u76f4\u63a5\u904d\u5386\u6bd4 500 \u5c0f\u7684\u53f6\u5b50\u8282\u70b9\u5c31\u591f\u4e86\u3002\u800c Hash \u7d22\u5f15\u662f\u6839\u636e hash \u7b97\u6cd5\u6765\u5b9a\u4f4d\u7684\uff0c\u96be\u4e0d\u6210\u8fd8\u8981\u628a 1 - 499 \u7684\u6570\u636e\uff0c\u6bcf\u4e2a\u90fd\u8fdb\u884c\u4e00\u6b21 hash \u8ba1\u7b97\u6765\u5b9a\u4f4d\u5417?\u8fd9\u5c31\u662f Hash \u6700\u5927\u7684\u7f3a\u70b9\u4e86\u3002"),(0,l.kt)("h3",{id:"\ufe0f\u4e3a\u4ec0\u4e48mysql\u5e95\u5c42\u8981\u7528b\u6811\u548cb\u6811\u6709\u4ec0\u4e48\u533a\u522b2022\u98de\u4e66"},"\u2b50\ufe0f\u4e3a\u4ec0\u4e48MySQL\u5e95\u5c42\u8981\u7528B+\u6811\uff1f\u548cB\u6811\u6709\u4ec0\u4e48\u533a\u522b\uff1f\uff082022\u98de\u4e66\uff09"),(0,l.kt)("p",null,"\u56fe\u89e3B+\u6811\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://zhuanlan.zhihu.com/p/54102723"},"https://zhuanlan.zhihu.com/p/54102723")),(0,l.kt)("p",null,"B \u6811\u4e5f\u79f0 B-\u6811,\u5168\u79f0\u4e3a ",(0,l.kt)("strong",{parentName:"p"},"\u591a\u8def\u5e73\u8861\u67e5\u627e\u6811")," \uff0cB+ \u6811\u662f B \u6811\u7684\u4e00\u79cd\u53d8\u4f53\u3002B \u6811\u548c B+\u6811\u4e2d\u7684 B \u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"Balanced")," \uff08\u5e73\u8861\uff09\u7684\u610f\u601d\u3002"),(0,l.kt)("p",null,"\u76ee\u524d\u5927\u90e8\u5206\u6570\u636e\u5e93\u7cfb\u7edf\u53ca\u6587\u4ef6\u7cfb\u7edf\u90fd\u91c7\u7528 B-Tree \u6216\u5176\u53d8\u79cd B+Tree \u4f5c\u4e3a\u7d22\u5f15\u7ed3\u6784\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"B \u6811& B+\u6811\u4e24\u8005\u6709\u4f55\u5f02\u540c\u5462\uff1f")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"B \u6811\u7684\u6240\u6709\u8282\u70b9\u65e2\u5b58\u653e\u952e(key) \u4e5f\u5b58\u653e \u6570\u636e(data)\uff0c\u800c B+\u6811\u53ea\u6709\u53f6\u5b50\u8282\u70b9\u5b58\u653e key \u548c data\uff0c\u5176\u4ed6\u5185\u8282\u70b9\u53ea\u5b58\u653e key\u3002"),(0,l.kt)("li",{parentName:"ul"},"B \u6811\u7684\u53f6\u5b50\u8282\u70b9\u90fd\u662f\u72ec\u7acb\u7684;B+\u6811\u7684\u53f6\u5b50\u8282\u70b9\u6709\u4e00\u6761\u5f15\u7528\u94fe\u6307\u5411\u4e0e\u5b83\u76f8\u90bb\u7684\u53f6\u5b50\u8282\u70b9\u3002"),(0,l.kt)("li",{parentName:"ul"},"B \u6811\u7684\u68c0\u7d22\u7684\u8fc7\u7a0b\u76f8\u5f53\u4e8e\u5bf9\u8303\u56f4\u5185\u7684\u6bcf\u4e2a\u8282\u70b9\u7684\u5173\u952e\u5b57\u505a\u4e8c\u5206\u67e5\u627e\uff0c\u53ef\u80fd\u8fd8\u6ca1\u6709\u5230\u8fbe\u53f6\u5b50\u8282\u70b9\uff0c\u68c0\u7d22\u5c31\u7ed3\u675f\u4e86\u3002\u800c B+\u6811\u7684\u68c0\u7d22\u6548\u7387\u5c31\u5f88\u7a33\u5b9a\u4e86\uff0c\u4efb\u4f55\u67e5\u627e\u90fd\u662f\u4ece\u6839\u8282\u70b9\u5230\u53f6\u5b50\u8282\u70b9\u7684\u8fc7\u7a0b\uff0c\u53f6\u5b50\u8282\u70b9\u7684\u987a\u5e8f\u68c0\u7d22\u5f88\u660e\u663e\u3002")),(0,l.kt)("p",null,"\u5728 MySQL \u4e2d\uff0cMyISAM \u5f15\u64ce\u548c InnoDB \u5f15\u64ce\u90fd\u662f\u4f7f\u7528 B+Tree \u4f5c\u4e3a\u7d22\u5f15\u7ed3\u6784\uff0c\u4f46\u662f\uff0c\u4e24\u8005\u7684\u5b9e\u73b0\u65b9\u5f0f\u4e0d\u592a\u4e00\u6837\u3002"),(0,l.kt)("p",null,"MyISAM \u5f15\u64ce\u4e2d\uff0cB+Tree \u53f6\u8282\u70b9\u7684 data \u57df\u5b58\u653e\u7684\u662f\u6570\u636e\u8bb0\u5f55\u7684\u5730\u5740\u3002\u5728\u7d22\u5f15\u68c0\u7d22\u7684\u65f6\u5019\uff0c\u9996\u5148\u6309\u7167 B+Tree  \u641c\u7d22\u7b97\u6cd5\u641c\u7d22\u7d22\u5f15\uff0c\u5982\u679c\u6307\u5b9a\u7684 Key \u5b58\u5728\uff0c\u5219\u53d6\u51fa\u5176 data \u57df\u7684\u503c\uff0c\u7136\u540e",(0,l.kt)("strong",{parentName:"p"},"\u4ee5 data  \u57df\u7684\u503c\u4e3a\u5730\u5740\u8bfb\u53d6\u76f8\u5e94\u7684\u6570\u636e\u8bb0\u5f55"),"\u3002\u8fd9\u88ab\u79f0\u4e3a\u201c",(0,l.kt)("strong",{parentName:"p"},"\u975e\u805a\u7c07\u7d22\u5f15"),"\u201d\u3002"),(0,l.kt)("p",null,"InnoDB \u5f15\u64ce\u4e2d\uff0c\u5176\u6570\u636e\u6587\u4ef6\u672c\u8eab\u5c31\u662f\u7d22\u5f15\u6587\u4ef6\u3002\u76f8\u6bd4 MyISAM\uff0c\u7d22\u5f15\u6587\u4ef6\u548c\u6570\u636e\u6587\u4ef6\u662f\u5206\u79bb\u7684\uff0c\u5176\u8868\u6570\u636e\u6587\u4ef6\u672c\u8eab\u5c31\u662f\u6309 B+Tree  \u7ec4\u7ec7\u7684\u4e00\u4e2a\u7d22\u5f15\u7ed3\u6784\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u6811\u7684\u53f6\u8282\u70b9 data \u57df\u4fdd\u5b58\u4e86\u5b8c\u6574\u7684\u6570\u636e\u8bb0\u5f55"),"\u3002\u8fd9\u4e2a\u7d22\u5f15\u7684 key \u662f\u6570\u636e\u8868\u7684\u4e3b\u952e\uff0c\u56e0\u6b64 InnoDB  \u8868\u6570\u636e\u6587\u4ef6\u672c\u8eab\u5c31\u662f\u4e3b\u7d22\u5f15\u3002\u8fd9\u88ab\u79f0\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u201c\u805a\u7c07\u7d22\u5f15\uff08\u6216\u805a\u96c6\u7d22\u5f15\uff09"),"\u201d\uff0c\u800c\u5176\u4f59\u7684\u7d22\u5f15\u90fd\u4f5c\u4e3a\u8f85\u52a9\u7d22\u5f15\uff0c\u8f85\u52a9\u7d22\u5f15\u7684 data  \u57df\u5b58\u50a8\u76f8\u5e94\u8bb0\u5f55\u4e3b\u952e\u7684\u503c\u800c\u4e0d\u662f\u5730\u5740\uff0c\u8fd9\u4e5f\u662f\u548c MyISAM \u4e0d\u540c\u7684\u5730\u65b9\u3002\u5728\u6839\u636e\u4e3b\u7d22\u5f15\u641c\u7d22\u65f6\uff0c\u76f4\u63a5\u627e\u5230 key  \u6240\u5728\u7684\u8282\u70b9\u5373\u53ef\u53d6\u51fa\u6570\u636e\uff1b\u5728\u6839\u636e\u8f85\u52a9\u7d22\u5f15\u67e5\u627e\u65f6\uff0c\u5219\u9700\u8981\u5148\u53d6\u51fa\u4e3b\u952e\u7684\u503c\uff0c\u518d\u8d70\u4e00\u904d\u4e3b\u7d22\u5f15\u3002  \u56e0\u6b64\uff0c\u5728\u8bbe\u8ba1\u8868\u7684\u65f6\u5019\uff0c\u4e0d\u5efa\u8bae\u4f7f\u7528\u8fc7\u957f\u7684\u5b57\u6bb5\u4f5c\u4e3a\u4e3b\u952e\uff0c\u4e5f\u4e0d\u5efa\u8bae\u4f7f\u7528\u975e\u5355\u8c03\u7684\u5b57\u6bb5\u4f5c\u4e3a\u4e3b\u952e\uff0c\u8fd9\u6837\u4f1a\u9020\u6210\u4e3b\u7d22\u5f15\u9891\u7e41\u5206\u88c2\u3002"),(0,l.kt)("h3",{id:"\u8be6\u89e3b\u6811"},"\u8be6\u89e3B+\u6811"),(0,l.kt)("h4",{id:"\u4ec0\u4e48\u662f-b-\u6811"},"\u4ec0\u4e48\u662f B+ \u6811\uff1f"),(0,l.kt)("p",null,"B+ \u6811\u5c31\u662f\u5bf9 B \u6811\u505a\u4e86\u4e00\u4e2a\u5347\u7ea7\uff0cMySQL \u4e2d\u7d22\u5f15\u7684\u6570\u636e\u7ed3\u6784\u5c31\u662f\u91c7\u7528\u4e86 B+ \u6811\uff0cB+ \u6811\u7ed3\u6784\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718133551150",src:n(53308).Z,width:"1080",height:"671"})),(0,l.kt)("p",null,"B+ \u6811\u4e0e B \u6811\u5dee\u5f02\u7684\u70b9\uff0c\u4e3b\u8981\u662f\u4ee5\u4e0b\u8fd9\u51e0\u70b9\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u53f6\u5b50\u8282\u70b9\uff08\u6700\u5e95\u90e8\u7684\u8282\u70b9\uff09\u624d\u4f1a\u5b58\u653e\u5b9e\u9645\u6570\u636e\uff08\u7d22\u5f15+\u8bb0\u5f55\uff09\uff0c\u975e\u53f6\u5b50\u8282\u70b9\u53ea\u4f1a\u5b58\u653e\u7d22\u5f15\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u6240\u6709\u7d22\u5f15\u90fd\u4f1a\u5728\u53f6\u5b50\u8282\u70b9\u51fa\u73b0\uff0c\u53f6\u5b50\u8282\u70b9\u4e4b\u95f4\u6784\u6210\u4e00\u4e2a\u6709\u5e8f\u94fe\u8868\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u975e\u53f6\u5b50\u8282\u70b9\u7684\u7d22\u5f15\u4e5f\u4f1a\u540c\u65f6\u5b58\u5728\u5728\u5b50\u8282\u70b9\u4e2d\uff0c\u5e76\u4e14\u662f\u5728\u5b50\u8282\u70b9\u4e2d\u6240\u6709\u7d22\u5f15\u7684\u6700\u5927\uff08\u6216\u6700\u5c0f\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u975e\u53f6\u5b50\u8282\u70b9\u4e2d\u6709\u591a\u5c11\u4e2a\u5b50\u8282\u70b9\uff0c\u5c31\u6709\u591a\u5c11\u4e2a\u7d22\u5f15\uff1b")),(0,l.kt)("p",null,"\u4e0b\u9762\u901a\u8fc7\u4e09\u4e2a\u65b9\u9762\uff0c\u6bd4\u8f83\u4e0b B+ \u548c B \u6811\u7684\u6027\u80fd\u533a\u522b\u3002"),(0,l.kt)("h4",{id:"b-\u6811\u662f\u5982\u4f55\u8fdb\u884c\u67e5\u8be2\u7684"},"B+ \u6811\u662f\u5982\u4f55\u8fdb\u884c\u67e5\u8be2\u7684\uff1f"),(0,l.kt)("p",null,"\u4e00\u4e2a\u6570\u636e\u9875\u4e2d\u7684\u8bb0\u5f55\u68c0\u7d22\uff0c\u56e0\u4e3a\u4e00\u4e2a\u6570\u636e\u9875\u4e2d\u7684\u8bb0\u5f55\u662f\u6709\u9650\u7684\uff0c\u4e14\u4e3b\u952e\u503c\u662f\u6709\u5e8f\u7684\uff0c\u6240\u4ee5\u901a\u8fc7\u5bf9\u6240\u6709\u8bb0\u5f55\u8fdb\u884c\u5206\u7ec4\uff0c\u7136\u540e\u5c06\u7ec4\u53f7\uff08\u69fd\u53f7\uff09\u5b58\u50a8\u5230\u9875\u76ee\u5f55\uff0c\u4f7f\u5176\u8d77\u5230\u7d22\u5f15\u4f5c\u7528\uff0c\u901a\u8fc7\u4e8c\u5206\u67e5\u627e\u7684\u65b9\u6cd5\u5feb\u901f\u68c0\u7d22\u5230\u8bb0\u5f55\u5728\u54ea\u4e2a\u5206\u7ec4\uff0c\u6765\u964d\u4f4e\u68c0\u7d22\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\uff0c\u5f53\u6211\u4eec\u9700\u8981\u5b58\u50a8\u5927\u91cf\u7684\u8bb0\u5f55\u65f6\uff0c\u5c31\u9700\u8981\u591a\u4e2a\u6570\u636e\u9875\uff0c\u8fd9\u65f6\u6211\u4eec\u5c31\u9700\u8981\u8003\u8651\u5982\u4f55\u5efa\u7acb\u5408\u9002\u7684\u7d22\u5f15\uff0c\u624d\u80fd\u65b9\u4fbf\u5b9a\u4f4d\u8bb0\u5f55\u6240\u5728\u7684\u9875\u3002"),(0,l.kt)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c",(0,l.kt)("strong",{parentName:"p"},"InnoDB \u91c7\u7528\u4e86 B+ \u6811\u4f5c\u4e3a\u7d22\u5f15"),"\u3002\u78c1\u76d8\u7684 I/O \u64cd\u4f5c\u6b21\u6570\u5bf9\u7d22\u5f15\u7684\u4f7f\u7528\u6548\u7387\u81f3\u5173\u91cd\u8981\uff0c\u56e0\u6b64\u5728\u6784\u9020\u7d22\u5f15\u7684\u65f6\u5019\uff0c\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u91c7\u7528\u201c\u77ee\u80d6\u201d\u7684 B+ \u6811\u6570\u636e\u7ed3\u6784\uff0c\u8fd9\u6837\u6240\u9700\u8981\u8fdb\u884c\u7684\u78c1\u76d8 I/O \u6b21\u6570\u66f4\u5c11\uff0c\u800c\u4e14 B+ \u6811 \u66f4\u9002\u5408\u8fdb\u884c\u5173\u952e\u5b57\u7684\u8303\u56f4\u67e5\u8be2\u3002"),(0,l.kt)("p",null,"InnoDB \u91cc\u7684 B+ \u6811\u4e2d\u7684",(0,l.kt)("strong",{parentName:"p"},"\u6bcf\u4e2a\u8282\u70b9\u90fd\u662f\u4e00\u4e2a\u6570\u636e\u9875"),"\uff0c\u7ed3\u6784\u793a\u610f\u56fe\u5982\u4e0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718134312198",src:n(13950).Z,width:"1080",height:"509"})),(0,l.kt)("p",null,"\u901a\u8fc7\u4e0a\u56fe\uff0c\u6211\u4eec\u770b\u51fa  B+ \u6811\u7684\u7279\u70b9\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u53ea\u6709\u53f6\u5b50\u8282\u70b9\uff08\u6700\u5e95\u5c42\u7684\u8282\u70b9\uff09\u624d\u5b58\u653e\u4e86\u6570\u636e\uff0c\u975e\u53f6\u5b50\u8282\u70b9\uff08\u5176\u4ed6\u4e0a\u5c42\u8282\uff09\u4ec5\u7528\u6765\u5b58\u653e\u76ee\u5f55\u9879\u4f5c\u4e3a\u7d22\u5f15\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u975e\u53f6\u5b50\u8282\u70b9\u5206\u4e3a\u4e0d\u540c\u5c42\u6b21\uff0c\u901a\u8fc7\u5206\u5c42\u6765\u964d\u4f4e\u6bcf\u4e00\u5c42\u7684\u641c\u7d22\u91cf\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u6240\u6709\u8282\u70b9\u6309\u7167\u7d22\u5f15\u952e\u5927\u5c0f\u6392\u5e8f\uff0c\u6784\u6210\u4e00\u4e2a\u53cc\u5411\u94fe\u8868\uff0c\u4fbf\u4e8e\u8303\u56f4\u67e5\u8be2\uff1b")),(0,l.kt)("p",null,"\u6211\u4eec\u518d\u770b\u770b B+ \u6811\u5982\u4f55\u5b9e\u73b0\u5feb\u901f\u67e5\u627e\u4e3b\u952e\u4e3a 6 \u7684\u8bb0\u5f55\uff0c\u4ee5\u4e0a\u56fe\u4e3a\u4f8b\u5b50\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4ece\u6839\u8282\u70b9\u5f00\u59cb\uff0c\u901a\u8fc7\u4e8c\u5206\u6cd5\u5feb\u901f\u5b9a\u4f4d\u5230\u7b26\u5408\u9875\u5185\u8303\u56f4\u5305\u542b\u67e5\u8be2\u503c\u7684\u9875\uff0c\u56e0\u4e3a\u67e5\u8be2\u7684\u4e3b\u952e\u503c\u4e3a 6\uff0c\u5728[1, 7)\u8303\u56f4\u4e4b\u95f4\uff0c\u6240\u4ee5\u5230\u9875 30 \u4e2d\u67e5\u627e\u66f4\u8be6\u7ec6\u7684\u76ee\u5f55\u9879\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5728\u975e\u53f6\u5b50\u8282\u70b9\uff08\u987530\uff09\u4e2d\uff0c\u7ee7\u7eed\u901a\u8fc7\u4e8c\u5206\u6cd5\u5feb\u901f\u5b9a\u4f4d\u5230\u7b26\u5408\u9875\u5185\u8303\u56f4\u5305\u542b\u67e5\u8be2\u503c\u7684\u9875\uff0c\u4e3b\u952e\u503c\u5927\u4e8e 5\uff0c\u6240\u4ee5\u5c31\u5230\u53f6\u5b50\u8282\u70b9\uff08\u987516\uff09\u67e5\u627e\u8bb0\u5f55\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u63a5\u7740\uff0c\u5728\u53f6\u5b50\u8282\u70b9\uff08\u987516\uff09\u4e2d\uff0c\u901a\u8fc7\u69fd\u67e5\u627e\u8bb0\u5f55\u65f6\uff0c\u4f7f\u7528\u4e8c\u5206\u6cd5\u5feb\u901f\u5b9a\u4f4d\u8981\u67e5\u8be2\u7684\u8bb0\u5f55\u5728\u54ea\u4e2a\u69fd\uff08\u54ea\u4e2a\u8bb0\u5f55\u5206\u7ec4\uff09\uff0c\u5b9a\u4f4d\u5230\u69fd\u540e\uff0c\u518d\u904d\u5386\u69fd\u5185\u7684\u6240\u6709\u8bb0\u5f55\uff0c\u627e\u5230\u4e3b\u952e\u4e3a 6 \u7684\u8bb0\u5f55\u3002")),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c\u5728\u5b9a\u4f4d\u8bb0\u5f55\u6240\u5728\u54ea\u4e00\u4e2a\u9875\u65f6\uff0c\u4e5f\u662f\u901a\u8fc7\u4e8c\u5206\u6cd5\u5feb\u901f\u5b9a\u4f4d\u5230\u5305\u542b\u8be5\u8bb0\u5f55\u7684\u9875\u3002\u5b9a\u4f4d\u5230\u8be5\u9875\u540e\uff0c\u53c8\u4f1a\u5728\u8be5\u9875\u5185\u8fdb\u884c\u4e8c\u5206\u6cd5\u5feb\u901f\u5b9a\u4f4d\u8bb0\u5f55\u6240\u5728\u7684\u5206\u7ec4\uff08\u69fd\u53f7\uff09\uff0c\u6700\u540e\u5728\u5206\u7ec4\u5185\u8fdb\u884c\u904d\u5386\u67e5\u627e\u3002"),(0,l.kt)("h4",{id:"\u5355\u70b9\u67e5\u8be2"},"\u5355\u70b9\u67e5\u8be2"),(0,l.kt)("p",null,"B \u6811\u8fdb\u884c\u5355\u4e2a\u7d22\u5f15\u67e5\u8be2\u65f6\uff0c\u6700\u5feb\u53ef\u4ee5\u5728 O(1) \u7684\u65f6\u95f4\u4ee3\u4ef7\u5185\u5c31\u67e5\u5230\uff0c\u800c\u4ece\u5e73\u5747\u65f6\u95f4\u4ee3\u4ef7\u6765\u770b\uff0c\u4f1a\u6bd4 B+ \u6811\u7a0d\u5feb\u4e00\u4e9b\u3002"),(0,l.kt)("p",null,"\u4f46\u662f B \u6811\u7684\u67e5\u8be2\u6ce2\u52a8\u4f1a\u6bd4\u8f83\u5927\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u8282\u70b9\u5373\u5b58\u7d22\u5f15\u53c8\u5b58\u8bb0\u5f55\uff0c\u6240\u4ee5\u6709\u65f6\u5019\u8bbf\u95ee\u5230\u4e86\u975e\u53f6\u5b50\u8282\u70b9\u5c31\u53ef\u4ee5\u627e\u5230\u7d22\u5f15\uff0c\u800c\u6709\u65f6\u9700\u8981\u8bbf\u95ee\u5230\u53f6\u5b50\u8282\u70b9\u624d\u80fd\u627e\u5230\u7d22\u5f15\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"B+ \u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u4e0d\u5b58\u653e\u5b9e\u9645\u7684\u8bb0\u5f55\u6570\u636e\uff0c\u4ec5\u5b58\u653e\u7d22\u5f15\uff0c\u56e0\u6b64\u6570\u636e\u91cf\u76f8\u540c\u7684\u60c5\u51b5\u4e0b\uff0c\u76f8\u6bd4\u5b58\u50a8\u5373\u5b58\u7d22\u5f15\u53c8\u5b58\u8bb0\u5f55\u7684 B \u6811\uff0cB+\u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u53ef\u4ee5\u5b58\u653e\u66f4\u591a\u7684\u7d22\u5f15\uff0c\u56e0\u6b64 B+ \u6811\u53ef\u4ee5\u6bd4 B \u6811\u66f4\u300c\u77ee\u80d6\u300d\uff0c\u67e5\u8be2\u5e95\u5c42\u8282\u70b9\u7684\u78c1\u76d8 I/O\u6b21\u6570\u4f1a\u66f4\u5c11"),"\u3002"),(0,l.kt)("h4",{id:"\u63d2\u5165\u548c\u5220\u9664\u6548\u7387"},"\u63d2\u5165\u548c\u5220\u9664\u6548\u7387"),(0,l.kt)("p",null,"B+ \u6811\u6709\u5927\u91cf\u7684\u5197\u4f59\u8282\u70b9\uff0c\u8fd9\u6837\u4f7f\u5f97\u5220\u9664\u4e00\u4e2a\u8282\u70b9\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u76f4\u63a5\u4ece\u53f6\u5b50\u8282\u70b9\u4e2d\u5220\u9664\uff0c\u751a\u81f3\u53ef\u4ee5\u4e0d\u52a8\u975e\u53f6\u5b50\u8282\u70b9\uff0c\u8fd9\u6837\u5220\u9664\u975e\u5e38\u5feb\uff0c"),(0,l.kt)("p",null,"\u6bd4\u5982\u4e0b\u9762\u8fd9\u4e2a\u52a8\u56fe\u662f\u5220\u9664 B+ \u6811 0004 \u8282\u70b9\u7684\u8fc7\u7a0b\uff0c\u56e0\u4e3a\u975e\u53f6\u5b50\u8282\u70b9\u6709 0004 \u7684\u5197\u4f59\u8282\u70b9\uff0c\u6240\u4ee5\u5728\u5220\u9664\u7684\u65f6\u5019\uff0c\u6811\u5f62\u7ed3\u6784\u53d8\u5316\u5f88\u5c0f\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://img-blog.csdnimg.cn/25508b0cd9c44ef6937fdd737020a7f1.gif",alt:null})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff0c\uff1aB+ \u6811\u5bf9\u4e8e\u975e\u53f6\u5b50\u8282\u70b9\u7684\u5b50\u8282\u70b9\u548c\u7d22\u5f15\u7684\u4e2a\u6570\uff0c\u5b9a\u4e49\u65b9\u5f0f\u53ef\u80fd\u4f1a\u6709\u4e0d\u540c\uff0c\u6709\u7684\u662f\u8bf4\u975e\u53f6\u5b50\u8282\u70b9\u7684\u5b50\u8282\u70b9\u7684\u4e2a\u6570\u4e3a M  \u9636\uff0c\u800c\u7d22\u5f15\u7684\u4e2a\u6570\u4e3a M-1\uff08\u8fd9\u4e2a\u662f\u7ef4\u57fa\u767e\u79d1\u91cc\u7684\u5b9a\u4e49\uff09\uff0c\u56e0\u6b64\u6211\u672c\u6587\u5173\u4e8e B+ \u6811\u7684\u52a8\u56fe\u90fd\u662f\u57fa\u4e8e\u8fd9\u4e2a\u3002\u4f46\u662f\u6211\u5728\u524d\u9762\u4ecb\u7ecd B+ \u6811\u4e0e B+  \u6811\u7684\u5dee\u5f02\u65f6\uff0c\u8bf4\u7684\u662f\u300c\u975e\u53f6\u5b50\u8282\u70b9\u4e2d\u6709\u591a\u5c11\u4e2a\u5b50\u8282\u70b9\uff0c\u5c31\u6709\u591a\u5c11\u4e2a\u7d22\u5f15\u300d\uff0c\u4e3b\u8981\u662f MySQL \u7528\u5230\u7684 B+ \u6811\u5c31\u662f\u8fd9\u4e2a\u7279\u6027\u3002")),(0,l.kt)("p",null,"\u4e0b\u9762\u8fd9\u4e2a\u52a8\u56fe\u662f\u5220\u9664 B \u6811 0008 \u8282\u70b9\u7684\u8fc7\u7a0b\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6811\u7684\u590d\u6742\u53d8\u5316\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://img-blog.csdnimg.cn/2be62679487640bbaac663fa96c7f35f.gif",alt:null})),(0,l.kt)("p",null,"\u751a\u81f3\uff0cB+ \u6811\u5728\u5220\u9664\u6839\u8282\u70b9\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u5b58\u5728\u5197\u4f59\u7684\u8282\u70b9\uff0c\u6240\u4ee5\u4e0d\u4f1a\u53d1\u751f\u590d\u6742\u7684\u6811\u7684\u53d8\u5f62\uff0c\u6bd4\u5982\u4e0b\u9762\u8fd9\u4e2a\u52a8\u56fe\u662f\u5220\u9664 B+ \u6811\u6839\u8282\u70b9\u7684\u8fc7\u7a0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://img-blog.csdnimg.cn/23730b5af987480fabff0f1d142a2b6c.gif",alt:null})),(0,l.kt)("p",null,"B \u6811\u5219\u4e0d\u540c\uff0cB \u6811\u6ca1\u6709\u5197\u4f59\u8282\u70b9\uff0c\u5220\u9664\u8282\u70b9\u7684\u65f6\u5019\u975e\u5e38\u590d\u6742\uff0c\u6bd4\u5982\u5220\u9664\u6839\u8282\u70b9\u4e2d\u7684\u6570\u636e\uff0c\u53ef\u80fd\u6d89\u53ca\u590d\u6742\u7684\u6811\u7684\u53d8\u5f62\uff0c\u6bd4\u5982\u4e0b\u9762\u8fd9\u4e2a\u52a8\u56fe\u662f\u5220\u9664 B \u6811\u6839\u8282\u70b9\u7684\u8fc7\u7a0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://img-blog.csdnimg.cn/img_convert/7552002f9b8195ab650d431bfe66cce2.gif",alt:null})),(0,l.kt)("p",null,"B+ \u6811\u7684\u63d2\u5165\u4e5f\u662f\u4e00\u6837\uff0c\u6709\u5197\u4f59\u8282\u70b9\uff0c\u63d2\u5165\u53ef\u80fd\u5b58\u5728\u8282\u70b9\u7684\u5206\u88c2\uff08\u5982\u679c\u8282\u70b9\u9971\u548c\uff09\uff0c\u4f46\u662f\u6700\u591a\u53ea\u6d89\u53ca\u6811\u7684\u4e00\u6761\u8def\u5f84\u3002\u800c\u4e14 B+ \u6811\u4f1a\u81ea\u52a8\u5e73\u8861\uff0c\u4e0d\u9700\u8981\u50cf\u66f4\u591a\u590d\u6742\u7684\u7b97\u6cd5\uff0c\u7c7b\u4f3c\u7ea2\u9ed1\u6811\u7684\u65cb\u8f6c\u64cd\u4f5c\u7b49\u3002"),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c",(0,l.kt)("strong",{parentName:"p"},"B+ \u6811\u7684\u63d2\u5165\u548c\u5220\u9664\u6548\u7387\u66f4\u9ad8"),"\u3002"),(0,l.kt)("h4",{id:"\u8303\u56f4\u67e5\u8be2"},"\u8303\u56f4\u67e5\u8be2"),(0,l.kt)("p",null,"B \u6811\u548c B+ \u6811\u7b49\u503c\u67e5\u8be2\u539f\u7406\u57fa\u672c\u4e00\u81f4\uff0c\u5148\u4ece\u6839\u8282\u70b9\u67e5\u627e\uff0c\u7136\u540e\u5bf9\u6bd4\u76ee\u6807\u6570\u636e\u7684\u8303\u56f4\uff0c\u6700\u540e\u9012\u5f52\u7684\u8fdb\u5165\u5b50\u8282\u70b9\u67e5\u627e\u3002"),(0,l.kt)("p",null,"\u56e0\u4e3a ",(0,l.kt)("strong",{parentName:"p"},"B+ \u6811\u6240\u6709\u53f6\u5b50\u8282\u70b9\u95f4\u8fd8\u6709\u4e00\u4e2a\u94fe\u8868\u8fdb\u884c\u8fde\u63a5\uff0c\u8fd9\u79cd\u8bbe\u8ba1\u5bf9\u8303\u56f4\u67e5\u627e\u975e\u5e38\u6709\u5e2e\u52a9"),"\uff0c\u6bd4\u5982\u8bf4\u6211\u4eec\u60f3\u77e5\u9053 12 \u6708 1 \u65e5\u548c 12 \u6708 12 \u65e5\u4e4b\u95f4\u7684\u8ba2\u5355\uff0c\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u5148\u67e5\u627e\u5230 12 \u6708 1 \u65e5\u6240\u5728\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u7136\u540e\u5229\u7528\u94fe\u8868\u5411\u53f3\u904d\u5386\uff0c\u76f4\u5230\u627e\u5230 12 \u670812 \u65e5\u7684\u8282\u70b9\uff0c\u8fd9\u6837\u5c31\u4e0d\u9700\u8981\u4ece\u6839\u8282\u70b9\u67e5\u8be2\u4e86\uff0c\u8fdb\u4e00\u6b65\u8282\u7701\u67e5\u8be2\u9700\u8981\u7684\u65f6\u95f4\u3002"),(0,l.kt)("p",null,"\u800c B \u6811\u6ca1\u6709\u5c06\u6240\u6709\u53f6\u5b50\u8282\u70b9\u7528\u94fe\u8868\u4e32\u8054\u8d77\u6765\u7684\u7ed3\u6784\uff0c\u56e0\u6b64\u53ea\u80fd\u901a\u8fc7\u6811\u7684\u904d\u5386\u6765\u5b8c\u6210\u8303\u56f4\u67e5\u8be2\uff0c\u8fd9\u4f1a\u6d89\u53ca\u591a\u4e2a\u8282\u70b9\u7684\u78c1\u76d8 I/O \u64cd\u4f5c\uff0c\u8303\u56f4\u67e5\u8be2\u6548\u7387\u4e0d\u5982 B+ \u6811\u3002"),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c\u5b58\u5728\u5927\u91cf\u8303\u56f4\u68c0\u7d22\u7684\u573a\u666f\uff0c\u9002\u5408\u4f7f\u7528 B+\u6811\uff0c\u6bd4\u5982\u6570\u636e\u5e93\u3002\u800c\u5bf9\u4e8e\u5927\u91cf\u7684\u5355\u4e2a\u7d22\u5f15\u67e5\u8be2\u7684\u573a\u666f\uff0c\u53ef\u4ee5\u8003\u8651 B \u6811\uff0c\u6bd4\u5982 nosql \u7684MongoDB"),(0,l.kt)("h4",{id:"mysql-\u4e2d\u7684-b-\u6811"},"MySQL \u4e2d\u7684 B+ \u6811"),(0,l.kt)("p",null,"MySQL \u7684\u5b58\u50a8\u65b9\u5f0f\u6839\u636e\u5b58\u50a8\u5f15\u64ce\u7684\u4e0d\u540c\u800c\u4e0d\u540c\uff0c\u6211\u4eec\u6700\u5e38\u7528\u7684\u5c31\u662f Innodb \u5b58\u50a8\u5f15\u64ce\uff0c\u5b83\u5c31\u662f\u91c7\u7528\u4e86 B+ \u6811\u4f5c\u4e3a\u4e86\u7d22\u5f15\u7684\u6570\u636e\u7ed3\u6784\u3002"),(0,l.kt)("p",null,"\u4e0b\u56fe\u5c31\u662f Innodb \u91cc\u7684 B+ \u6811\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718133843334",src:n(92076).Z,width:"1080",height:"509"})),(0,l.kt)("p",null,"\u4f46\u662f Innodb \u4f7f\u7528\u7684  B+ \u6811\u6709\u4e00\u4e9b\u7279\u522b\u7684\u70b9\uff0c\u6bd4\u5982\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"B+ \u6811\u7684\u53f6\u5b50\u8282\u70b9\u4e4b\u95f4\u662f\u7528\u300c\u53cc\u5411\u94fe\u8868\u300d\u8fdb\u884c\u8fde\u63a5\uff0c\u8fd9\u6837\u7684\u597d\u5904\u662f\u65e2\u80fd\u5411\u53f3\u904d\u5386\uff0c\u4e5f\u80fd\u5411\u5de6\u904d\u5386\u3002"),(0,l.kt)("li",{parentName:"ul"},"B+ \u6811\u70b9\u8282\u70b9\u5185\u5bb9\u662f\u6570\u636e\u9875\uff0c\u6570\u636e\u9875\u91cc\u5b58\u653e\u4e86\u7528\u6237\u7684\u8bb0\u5f55\u4ee5\u53ca\u5404\u79cd\u4fe1\u606f\uff0c\u6bcf\u4e2a\u6570\u636e\u9875\u9ed8\u8ba4\u5927\u5c0f\u662f 16 KB\u3002")),(0,l.kt)("p",null,"Innodb \u6839\u636e\u7d22\u5f15\u7c7b\u578b\u4e0d\u540c\uff0c\u5206\u4e3a\u805a\u96c6\u548c\u4e8c\u7ea7\u7d22\u5f15\u3002\u4ed6\u4eec\u533a\u522b\u5728\u4e8e\uff0c\u805a\u96c6\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5b58\u653e\u7684\u662f\u5b9e\u9645\u6570\u636e\uff0c\u6240\u6709\u5b8c\u6574\u7684\u7528\u6237\u8bb0\u5f55\u90fd\u5b58\u653e\u5728\u805a\u96c6\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u800c\u4e8c\u7ea7\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5b58\u653e\u7684\u662f\u4e3b\u952e\u503c\uff0c\u800c\u4e0d\u662f\u5b9e\u9645\u6570\u636e\u3002"),(0,l.kt)("p",null,"\u56e0\u4e3a\u8868\u7684\u6570\u636e\u90fd\u662f\u5b58\u653e\u5728\u805a\u96c6\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u91cc\uff0c\u6240\u4ee5 InnoDB \u5b58\u50a8\u5f15\u64ce\u4e00\u5b9a\u4f1a\u4e3a\u8868\u521b\u5efa\u4e00\u4e2a\u805a\u96c6\u7d22\u5f15\uff0c\u4e14\u7531\u4e8e\u6570\u636e\u5728\u7269\u7406\u4e0a\u53ea\u4f1a\u4fdd\u5b58\u4e00\u4efd\uff0c\u6240\u4ee5\u805a\u7c07\u7d22\u5f15\u53ea\u80fd\u6709\u4e00\u4e2a\uff0c\u800c\u4e8c\u7ea7\u7d22\u5f15\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u3002"),(0,l.kt)("h3",{id:"mysql\u4e09\u5927\u65e5\u5fd7binlogredo-logundo-log"},"MySQL\u4e09\u5927\u65e5\u5fd7\uff08binlog\u3001redo log\u3001undo log\uff09"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"MySQL")," \u65e5\u5fd7 \u4e3b\u8981\u5305\u62ec\u9519\u8bef\u65e5\u5fd7\u3001\u67e5\u8be2\u65e5\u5fd7\u3001\u6162\u67e5\u8be2\u65e5\u5fd7\u3001\u4e8b\u52a1\u65e5\u5fd7\u3001\u4e8c\u8fdb\u5236\u65e5\u5fd7\u51e0\u5927\u7c7b\u3002\u5176\u4e2d\uff0c\u6bd4\u8f83\u91cd\u8981\u7684\u8fd8\u8981\u5c5e\u4e8c\u8fdb\u5236\u65e5\u5fd7 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\uff08\u5f52\u6863\u65e5\u5fd7\uff09\u548c\u4e8b\u52a1\u65e5\u5fd7 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\uff08\u91cd\u505a\u65e5\u5fd7\uff09\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"undo log"),"\uff08\u56de\u6eda\u65e5\u5fd7\uff09"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220613210057735",src:n(70033).Z,width:"598",height:"533"})),(0,l.kt)("h4",{id:"redo-log"},"redo log"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\uff08\u91cd\u505a\u65e5\u5fd7\uff09\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"InnoDB"),"\u5b58\u50a8\u5f15\u64ce\u72ec\u6709\u7684\uff0c\u5b83\u8ba9 ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u62e5\u6709\u4e86\u5d29\u6e83\u6062\u590d\u80fd\u529b\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL")," \u5b9e\u4f8b\u6302\u4e86\u6216\u5b95\u673a\u4e86\uff0c\u91cd\u542f\u65f6\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"InnoDB"),"\u5b58\u50a8\u5f15\u64ce\u4f1a\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\u6062\u590d\u6570\u636e\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u6301\u4e45\u6027\u4e0e\u5b8c\u6574\u6027\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706212928940",src:n(38391).Z,width:"974",height:"463"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"MySQL")," \u4e2d\u6570\u636e\u662f\u4ee5\u9875\u4e3a\u5355\u4f4d\uff0c\u4f60\u67e5\u8be2\u4e00\u6761\u8bb0\u5f55\uff0c\u4f1a\u4ece\u786c\u76d8\u628a\u4e00\u9875\u7684\u6570\u636e\u52a0\u8f7d\u51fa\u6765\uff0c\u52a0\u8f7d\u51fa\u6765\u7684\u6570\u636e\u53eb\u6570\u636e\u9875\uff0c\u4f1a\u653e\u5165\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"Buffer Pool")," \u4e2d\u3002"),(0,l.kt)("p",null,"\u540e\u7eed\u7684\u67e5\u8be2\u90fd\u662f\u5148\u4ece ",(0,l.kt)("inlineCode",{parentName:"p"},"Buffer Pool")," \u4e2d\u627e\uff0c\u6ca1\u6709\u547d\u4e2d\u518d\u53bb\u786c\u76d8\u52a0\u8f7d\uff0c\u51cf\u5c11\u786c\u76d8 ",(0,l.kt)("inlineCode",{parentName:"p"},"IO")," \u5f00\u9500\uff0c\u63d0\u5347\u6027\u80fd\u3002"),(0,l.kt)("p",null,"\u66f4\u65b0\u8868\u6570\u636e\u7684\u65f6\u5019\uff0c\u4e5f\u662f\u5982\u6b64\uff0c\u53d1\u73b0 ",(0,l.kt)("inlineCode",{parentName:"p"},"Buffer Pool")," \u91cc\u5b58\u5728\u8981\u66f4\u65b0\u7684\u6570\u636e\uff0c\u5c31\u76f4\u63a5\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"Buffer Pool")," \u91cc\u66f4\u65b0\u3002"),(0,l.kt)("p",null,"\u7136\u540e\u4f1a\u628a\u201c\u5728\u67d0\u4e2a\u6570\u636e\u9875\u4e0a\u505a\u4e86\u4ec0\u4e48\u4fee\u6539\u201d\u8bb0\u5f55\u5230\u91cd\u505a\u65e5\u5fd7\u7f13\u5b58\uff08",(0,l.kt)("inlineCode",{parentName:"p"},"redo log buffer"),"\uff09\u91cc\uff0c\u63a5\u7740\u5237\u76d8\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u6587\u4ef6\u91cc\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706212937926",src:n(23760).Z,width:"955",height:"567"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u56fe\u7247\u7b14\u8bef\u63d0\u793a\uff1a\u7b2c 4 \u6b65 \u201c\u6e05\u7a7a redo log buffe \u5237\u76d8\u5230 redo \u65e5\u5fd7\u4e2d\u201d\u8fd9\u53e5\u8bdd\u4e2d\u7684 buffe \u5e94\u8be5\u662f buffer\u3002")),(0,l.kt)("p",null,"\u7406\u60f3\u60c5\u51b5\uff0c\u4e8b\u52a1\u4e00\u63d0\u4ea4\u5c31\u4f1a\u8fdb\u884c\u5237\u76d8\u64cd\u4f5c\uff0c\u4f46\u5b9e\u9645\u4e0a\uff0c\u5237\u76d8\u7684\u65f6\u673a\u662f\u6839\u636e\u7b56\u7565\u6765\u8fdb\u884c\u7684\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5c0f\u8d34\u58eb\uff1a\u6bcf\u6761 redo \u8bb0\u5f55\u7531\u201c\u8868\u7a7a\u95f4\u53f7+\u6570\u636e\u9875\u53f7+\u504f\u79fb\u91cf+\u4fee\u6539\u6570\u636e\u957f\u5ea6+\u5177\u4f53\u4fee\u6539\u7684\u6570\u636e\u201d\u7ec4\u6210")),(0,l.kt)("h5",{id:"pagecache"},"PageCache"),(0,l.kt)("p",null,"\u6211\u4eec\u77e5\u9053\u6587\u4ef6\u4e00\u822c\u5b58\u653e\u5728\u786c\u76d8\uff08\u673a\u68b0\u786c\u76d8\u6216\u56fa\u6001\u786c\u76d8\uff09\u4e2d\uff0cCPU \u5e76\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u786c\u76d8\u4e2d\u7684\u6570\u636e\uff0c\u800c\u662f\u9700\u8981\u5148\u5c06\u786c\u76d8\u4e2d\u7684\u6570\u636e\u8bfb\u5165\u5230\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u624d\u80fd\u88ab CPU \u8bbf\u95ee\u3002"),(0,l.kt)("p",null,"\u7531\u4e8e\u8bfb\u5199\u786c\u76d8\u7684\u901f\u5ea6\u6bd4\u8bfb\u5199\u5185\u5b58\u8981\u6162\u5f88\u591a\uff08DDR4 \u5185\u5b58\u8bfb\u5199\u901f\u5ea6\u662f\u673a\u68b0\u786c\u76d8500\u500d\uff0c\u662f\u56fa\u6001\u786c\u76d8\u7684200\u500d\uff09\uff0c\u6240\u4ee5\u4e3a\u4e86\u907f\u514d\u6bcf\u6b21\u8bfb\u5199\u6587\u4ef6\u65f6\uff0c\u90fd\u9700\u8981\u5bf9\u786c\u76d8\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\uff0cLinux \u5185\u6838\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"\u9875\u7f13\u5b58\uff08Page Cache\uff09")," \u673a\u5236\u6765\u5bf9\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u7f13\u5b58\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u672c\u6587\u4f7f\u7528\u7684 Linux \u5185\u6838\u7248\u672c\u4e3a\uff1aLinux-2.6.23")),(0,l.kt)("h6",{id:"\u4ec0\u4e48\u662f\u9875\u7f13\u5b58"},"\u4ec0\u4e48\u662f\u9875\u7f13\u5b58"),(0,l.kt)("p",null,"\u4e3a\u4e86\u63d0\u5347\u5bf9\u6587\u4ef6\u7684\u8bfb\u5199\u6548\u7387\uff0cLinux \u5185\u6838\u4f1a\u4ee5\u9875\u5927\u5c0f\uff084KB\uff09\u4e3a\u5355\u4f4d\uff0c\u5c06\u6587\u4ef6\u5212\u5206\u4e3a\u591a\u6570\u636e\u5757\u3002\u5f53\u7528\u6237\u5bf9\u6587\u4ef6\u4e2d\u7684\u67d0\u4e2a\u6570\u636e\u5757\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u65f6\uff0c\u5185\u6838\u9996\u5148\u4f1a\u7533\u8bf7\u4e00\u4e2a\u5185\u5b58\u9875\uff08\u79f0\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"\u9875\u7f13\u5b58"),"\uff09\u4e0e\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u5757\u8fdb\u884c\u7ed1\u5b9a\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725150519009",src:n(45552).Z,width:"986",height:"411"})),(0,l.kt)("p",null,"\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5f53\u7528\u6237\u5bf9\u6587\u4ef6\u8fdb\u884c\u8bfb\u5199\u65f6\uff0c\u5b9e\u9645\u4e0a\u662f\u5bf9\u6587\u4ef6\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"\u9875\u7f13\u5b58")," \u8fdb\u884c\u8bfb\u5199\u3002\u6240\u4ee5\u5bf9\u6587\u4ef6\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u65f6\uff0c\u4f1a\u5206\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\u8fdb\u884c\u5904\u7406\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f53\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u6570\u636e\u65f6\uff0c\u5982\u679c\u8981\u8bfb\u53d6\u7684\u6570\u636e\u6240\u5728\u7684\u9875\u7f13\u5b58\u5df2\u7ecf\u5b58\u5728\uff0c\u90a3\u4e48\u5c31\u76f4\u63a5\u628a\u9875\u7f13\u5b58\u7684\u6570\u636e\u62f7\u8d1d\u7ed9\u7528\u6237\u5373\u53ef\u3002\u5426\u5219\uff0c\u5185\u6838\u9996\u5148\u4f1a\u7533\u8bf7\u4e00\u4e2a\u7a7a\u95f2\u7684\u5185\u5b58\u9875\uff08\u9875\u7f13\u5b58\uff09\uff0c\u7136\u540e\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u6570\u636e\u5230\u9875\u7f13\u5b58\uff0c\u5e76\u4e14\u628a\u9875\u7f13\u5b58\u7684\u6570\u636e\u62f7\u8d1d\u7ed9\u7528\u6237\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5f53\u5411\u6587\u4ef6\u4e2d\u5199\u5165\u6570\u636e\u65f6\uff0c\u5982\u679c\u8981\u5199\u5165\u7684\u6570\u636e\u6240\u5728\u7684\u9875\u7f13\u5b58\u5df2\u7ecf\u5b58\u5728\uff0c\u90a3\u4e48\u76f4\u63a5\u628a\u65b0\u6570\u636e\u5199\u5165\u5230\u9875\u7f13\u5b58\u5373\u53ef\u3002\u5426\u5219\uff0c\u5185\u6838\u9996\u5148\u4f1a\u7533\u8bf7\u4e00\u4e2a\u7a7a\u95f2\u7684\u5185\u5b58\u9875\uff08\u9875\u7f13\u5b58\uff09\uff0c\u7136\u540e\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u6570\u636e\u5230\u9875\u7f13\u5b58\uff0c\u5e76\u4e14\u628a\u65b0\u6570\u636e\u5199\u5165\u5230\u9875\u7f13\u5b58\u4e2d\u3002\u5bf9\u4e8e\u88ab\u4fee\u6539\u7684\u9875\u7f13\u5b58\uff0c\u5185\u6838\u4f1a\u5b9a\u65f6\u628a\u8fd9\u4e9b\u9875\u7f13\u5b58\u5237\u65b0\u5230\u6587\u4ef6\u4e2d\u3002")),(0,l.kt)("h6",{id:"\u9875\u7f13\u5b58\u7684\u5b9e\u73b0"},"\u9875\u7f13\u5b58\u7684\u5b9e\u73b0"),(0,l.kt)("p",null,"\u524d\u9762\u4e3b\u8981\u4ecb\u7ecd\u4e86\u9875\u7f13\u5b58\u7684\u4f5c\u7528\u548c\u539f\u7406\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u4f1a\u5206\u6790 Linux \u5185\u6838\u662f\u600e\u4e48\u5b9e\u73b0\u9875\u7f13\u5b58\u673a\u5236\u7684\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"address_space")),(0,l.kt)("p",null,"\u5728 Linux \u5185\u6838\u4e2d\uff0c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"file")," \u5bf9\u8c61\u6765\u63cf\u8ff0\u4e00\u4e2a\u88ab\u6253\u5f00\u7684\u6587\u4ef6\uff0c\u5176\u4e2d\u6709\u4e2a\u540d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"f_mapping")," \u7684\u5b57\u6bb5\uff0c\u5b9a\u4e49\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"struct file {\n    ...\n    struct address_space *f_mapping;\n};\n")),(0,l.kt)("p",null,"\u4ece\u4e0a\u9762\u4ee3\u7801\u53ef\u4ee5\u770b\u51fa\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"f_mapping")," \u5b57\u6bb5\u7684\u7c7b\u578b\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"address_space")," \u7ed3\u6784\uff0c\u5176\u5b9a\u4e49\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"struct address_space {\n    struct inode           *host;      /* owner: inode, block_device */\n    struct radix_tree_root page_tree;  /* radix tree of all pages */\n    rwlock_t               tree_lock;  /* and rwlock protecting it */\n    ...\n};\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"address_space")," \u7ed3\u6784\u5176\u4e2d\u7684\u4e00\u4e2a\u4f5c\u7528\u5c31\u662f\u7528\u4e8e\u5b58\u50a8\u6587\u4ef6\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"\u9875\u7f13\u5b58"),"\uff0c\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e0b\u5404\u4e2a\u5b57\u6bb5\u7684\u4f5c\u7528\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"host"),"\uff1a\u6307\u5411\u5f53\u524d ",(0,l.kt)("inlineCode",{parentName:"li"},"address_space")," \u5bf9\u8c61\u6240\u5c5e\u7684\u6587\u4ef6 ",(0,l.kt)("inlineCode",{parentName:"li"},"inode")," \u5bf9\u8c61\uff08\u6bcf\u4e2a\u6587\u4ef6\u90fd\u4f7f\u7528\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"li"},"inode")," \u5bf9\u8c61\u8868\u793a\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"page_tree"),"\uff1a\u7528\u4e8e\u5b58\u50a8\u5f53\u524d\u6587\u4ef6\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"\u9875\u7f13\u5b58"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"tree_lock"),"\uff1a\u7528\u4e8e\u9632\u6b62\u5e76\u53d1\u8bbf\u95ee ",(0,l.kt)("inlineCode",{parentName:"li"},"page_tree")," \u5bfc\u81f4\u7684\u8d44\u6e90\u7ade\u4e89\u95ee\u9898\u3002")),(0,l.kt)("p",null,"\u4ece ",(0,l.kt)("inlineCode",{parentName:"p"},"address_space")," \u5bf9\u8c61\u7684\u5b9a\u4e49\u53ef\u4ee5\u770b\u51fa\uff0c\u6587\u4ef6\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"\u9875\u7f13\u5b58")," \u4f7f\u7528\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"radix\u6811")," \u6765\u5b58\u50a8\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"radix\u6811"),"\uff1a\u53c8\u540d\u57fa\u6570\u6811\uff0c\u5b83\u4f7f\u7528\u952e\u503c\uff08key-value\uff09\u5bf9\u7684\u5f62\u5f0f\u6765\u4fdd\u5b58\u6570\u636e\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7\u952e\u5feb\u901f\u67e5\u627e\u5230\u5176\u5bf9\u5e94\u7684\u503c\u3002\u5185\u6838\u4ee5\u6587\u4ef6\u8bfb\u5199\u64cd\u4f5c\u4e2d\u7684\u6570\u636e ",(0,l.kt)("inlineCode",{parentName:"p"},"\u504f\u79fb\u91cf")," \u4f5c\u4e3a\u952e\uff0c\u4ee5\u6570\u636e\u504f\u79fb\u91cf\u6240\u5728\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"\u9875\u7f13\u5b58")," \u4f5c\u4e3a\u503c\uff0c\u5b58\u50a8\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"address_space")," \u7ed3\u6784\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"page_tree")," \u5b57\u6bb5\u4e2d\u3002")),(0,l.kt)("p",null,"\u4e0b\u56fe\u5c55\u793a\u4e86\u4e0a\u8ff0\u5404\u4e2a\u7ed3\u6784\u4e4b\u95f4\u7684\u5173\u7cfb\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725150553230",src:n(65472).Z,width:"1080",height:"492"})),(0,l.kt)("p",null,"\u5982\u679c\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"p"},"radix\u6811")," \u4e0d\u592a\u4e86\u89e3\uff0c\u53ef\u4ee5\u7b80\u5355\u5c06\u5176\u770b\u6210\u53ef\u4ee5\u901a\u8fc7\u6587\u4ef6\u504f\u79fb\u91cf\u5feb\u901f\u627e\u5230\u5176\u6240\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"\u9875\u7f13\u5b58")," \u7684\u7ed3\u6784\uff0c\u6709\u673a\u4f1a\u6211\u4f1a\u53e6\u5916\u5199\u4e00\u7bc7\u5173\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"radix\u6811")," \u7684\u6587\u7ae0\u3002"),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"\u8bfb\u6587\u4ef6\u64cd\u4f5c")),(0,l.kt)("p",null,"\u73b0\u5728\u6211\u4eec\u6765\u5206\u6790\u4e00\u4e0b\u8bfb\u53d6\u6587\u4ef6\u6570\u636e\u7684\u8fc7\u7a0b\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"read")," \u7cfb\u7edf\u8c03\u7528\u6765\u8bfb\u53d6\u6587\u4ef6\u4e2d\u7684\u6570\u636e\uff0c\u5176\u8c03\u7528\u94fe\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"read()\n\u2514\u2192 sys_read()\n   \u2514\u2192 vfs_read()\n      \u2514\u2192 do_sync_read()\n         \u2514\u2192 generic_file_aio_read()\n            \u2514\u2192 do_generic_file_read()\n               \u2514\u2192 do_generic_mapping_read()\n")),(0,l.kt)("p",null,"\u4ece\u4e0a\u9762\u7684\u8c03\u7528\u94fe\u53ef\u4ee5\u770b\u51fa\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"read")," \u7cfb\u7edf\u8c03\u7528\u6700\u7ec8\u4f1a\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"do_generic_mapping_read")," \u51fd\u6570\u6765\u8bfb\u53d6\u6587\u4ef6\u4e2d\u7684\u6570\u636e\uff0c\u5176\u5b9e\u73b0\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"void do_generic_mapping_read(struct address_space *mapping,\n                        struct file_ra_state *_ra,\n                        struct file *filp,\n                        loff_t *ppos,\n                        read_descriptor_t *desc,\n                        read_actor_t actor)\n{\n    struct inode *inode = mapping->host;\n    unsigned long index;\n    struct page *cached_page;\n    ...\n\n    cached_page = NULL;\n    index = *ppos >> PAGE_CACHE_SHIFT;\n    ...\n\n    for (;;) {\n        struct page *page;\n        ...\n\nfind_page:\n        // 1. \u67e5\u627e\u6587\u4ef6\u504f\u79fb\u91cf\u6240\u5728\u7684\u9875\u7f13\u5b58\u662f\u5426\u5b58\u5728\n        page = find_get_page(mapping, index);\n        if (!page) {\n            ...\n            // 2. \u5982\u679c\u9875\u7f13\u5b58\u4e0d\u5b58\u5728, \u90a3\u4e48\u8df3\u5230 no_cached_page \u8fdb\u884c\u5904\u7406\n            goto no_cached_page; \n        }\n        ...\n\npage_ok:\n        ...\n        // 3. \u5982\u679c\u9875\u7f13\u5b58\u5b58\u5728, \u90a3\u4e48\u628a\u9875\u7f13\u5b58\u7684\u6570\u636e\u62f7\u8d1d\u5230\u7528\u6237\u5e94\u7528\u7a0b\u5e8f\u7684\u5185\u5b58\u4e2d\n        ret = actor(desc, page, offset, nr);\n        ...\n        if (ret == nr && desc->count)\n            continue;\n        goto out;\n        ...\n\nreadpage:\n        // 4. \u4ece\u6587\u4ef6\u8bfb\u53d6\u6570\u636e\u5230\u9875\u7f13\u5b58\u4e2d\n        error = mapping->a_ops->readpage(filp, page);\n        ...\n        goto page_ok;\n        ...\n\nno_cached_page:\n        if (!cached_page) {\n            // 5. \u7533\u8bf7\u4e00\u4e2a\u5185\u5b58\u9875\u4f5c\u4e3a\u9875\u7f13\u5b58\n            cached_page = page_cache_alloc_cold(mapping);\n            ...\n        }\n\n        // 6. \u628a\u65b0\u7533\u8bf7\u7684\u9875\u7f13\u5b58\u6dfb\u52a0\u5230\u6587\u4ef6\u9875\u7f13\u5b58\u4e2d\n        error = add_to_page_cache_lru(cached_page, mapping, index, GFP_KERNEL);\n        ...\n        page = cached_page;\n        cached_page = NULL;\n        goto readpage;\n    }\n\nout:\n    ...\n}\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"do_generic_mapping_read")," \u51fd\u6570\u7684\u5b9e\u73b0\u6bd4\u8f83\u590d\u6742\uff0c\u7ecf\u8fc7\u7cbe\u7b80\u540e\uff0c\u4e0a\u9762\u4ee3\u7801\u53ea\u7559\u4e0b\u6700\u91cd\u8981\u7684\u903b\u8f91\uff0c\u53ef\u4ee5\u5f52\u7eb3\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"find_get_page")," \u51fd\u6570\u67e5\u627e\u8981\u8bfb\u53d6\u7684\u6587\u4ef6\u504f\u79fb\u91cf\u6240\u5bf9\u5e94\u7684\u9875\u7f13\u5b58\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u5c31\u628a\u9875\u7f13\u5b58\u4e2d\u7684\u6570\u636e\u62f7\u8d1d\u5230\u5e94\u7528\u7a0b\u5e8f\u7684\u5185\u5b58\u4e2d\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5426\u5219\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"page_cache_alloc_cold")," \u51fd\u6570\u7533\u8bf7\u4e00\u4e2a\u7a7a\u95f2\u7684\u5185\u5b58\u9875\u4f5c\u4e3a\u65b0\u7684\u9875\u7f13\u5b58\uff0c\u5e76\u4e14\u901a\u8fc7\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"add_to_page_cache_lru")," \u51fd\u6570\u628a\u65b0\u7533\u8bf7\u7684\u9875\u7f13\u5b58\u6dfb\u52a0\u5230\u6587\u4ef6\u9875\u7f13\u5b58\u548c LRU \u961f\u5217\u4e2d\uff08\u540e\u9762\u4f1a\u4ecb\u7ecd\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"readpage")," \u63a5\u53e3\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u6570\u636e\u5230\u9875\u7f13\u5b58\u4e2d\uff0c\u5e76\u4e14\u628a\u9875\u7f13\u5b58\u7684\u6570\u636e\u62f7\u8d1d\u5230\u5e94\u7528\u7a0b\u5e8f\u7684\u5185\u5b58\u4e2d\u3002")),(0,l.kt)("p",null,"\u4ece\u4e0a\u9762\u4ee3\u7801\u53ef\u4ee5\u770b\u51fa\uff0c\u5f53\u9875\u7f13\u5b58\u4e0d\u5b58\u5728\u65f6\u4f1a\u7533\u8bf7\u4e00\u5757\u7a7a\u95f2\u7684\u5185\u5b58\u9875\u4f5c\u4e3a\u9875\u7f13\u5b58\uff0c\u5e76\u4e14\u901a\u8fc7\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"add_to_page_cache_lru")," \u51fd\u6570\u628a\u5176\u6dfb\u52a0\u5230\u6587\u4ef6\u7684\u9875\u7f13\u5b58\u548c LRU \u961f\u5217\u4e2d\u3002\u6211\u4eec\u6765\u770b\u770b ",(0,l.kt)("inlineCode",{parentName:"p"},"add_to_page_cache_lru")," \u51fd\u6570\u7684\u5b9e\u73b0\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"}," int add_to_page_cache_lru(struct page *page, struct address_space *mapping,\n                           pgoff_t offset, gfp_t gfp_mask)\n{\n    // 1. \u628a\u9875\u7f13\u5b58\u6dfb\u52a0\u5230\u6587\u4ef6\u9875\u7f13\u5b58\u4e2d\n    int ret = add_to_page_cache(page, mapping, offset, gfp_mask);\n    if (ret == 0)\n        lru_cache_add(page); // 2. \u628a\u9875\u7f13\u5b58\u6dfb\u52a0\u5230 LRU \u961f\u5217\u4e2d\n    return ret;\n}\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"add_to_page_cache_lru")," \u51fd\u6570\u4e3b\u8981\u5b8c\u6210\u4e24\u4e2a\u5de5\u4f5c\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"add_to_page_cache")," \u51fd\u6570\u628a\u9875\u7f13\u5b58\u6dfb\u52a0\u5230\u6587\u4ef6\u9875\u7f13\u5b58\u4e2d\uff0c\u4e5f\u5c31\u662f\u6dfb\u52a0\u5230 ",(0,l.kt)("inlineCode",{parentName:"li"},"address_space")," \u7ed3\u6784\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"page_tree")," \u5b57\u6bb5\u4e2d\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"lru_cache_add")," \u51fd\u6570\u628a\u9875\u7f13\u5b58\u6dfb\u52a0\u5230 LRU \u961f\u5217\u4e2d\u3002LRU \u961f\u5217\u7528\u4e8e\u5f53\u7cfb\u7edf\u5185\u5b58\u4e0d\u8db3\u65f6\uff0c\u5bf9\u9875\u7f13\u5b58\u8fdb\u884c\u6e05\u7406\u65f6\u4f7f\u7528\u3002")),(0,l.kt)("h6",{id:"\u603b\u7ed3-3"},"\u603b\u7ed3"),(0,l.kt)("p",null,"\u672c\u6587\u4e3b\u8981\u4ecb\u7ecd\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"\u9875\u7f13\u5b58")," \u7684\u4f5c\u7528\u548c\u539f\u7406\uff0c\u5e76\u4e14\u4ecb\u7ecd\u4e86\u5728\u8bfb\u53d6\u6587\u4ef6\u6570\u636e\u65f6\u5bf9\u9875\u7f13\u5b58\u7684\u5904\u7406\u8fc7\u7a0b\u3002\u672c\u6587\u5e76\u6ca1\u6709\u4ecb\u7ecd\u5199\u6587\u4ef6\u64cd\u4f5c\u5bf9\u5e94\u7684\u9875\u7f13\u5b58\u5904\u7406\u548c\u5f53\u7cfb\u7edf\u5185\u5b58\u4e0d\u8db3\u65f6\u600e\u4e48\u91ca\u653e\u9875\u7f13\u5b58\uff0c\u6709\u5174\u8da3\u7684\u8bdd\u53ef\u4ee5\u81ea\u884c\u9605\u8bfb\u76f8\u5173\u7684\u4ee3\u7801\u5b9e\u73b0\u3002"),(0,l.kt)("h5",{id:"\u5237\u76d8\u65f6\u673a"},"\u5237\u76d8\u65f6\u673a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"InnoDB")," \u5b58\u50a8\u5f15\u64ce\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u7684\u5237\u76d8\u7b56\u7565\u63d0\u4f9b\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"innodb_flush_log_at_trx_commit")," \u53c2\u6570\uff0c\u5b83\u652f\u6301\u4e09\u79cd\u7b56\u7565\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"0")," \uff1a\u8bbe\u7f6e\u4e3a 0 \u7684\u65f6\u5019\uff0c\u8868\u793a\u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u65f6\u4e0d\u8fdb\u884c\u5237\u76d8\u64cd\u4f5c"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"1")," \uff1a\u8bbe\u7f6e\u4e3a 1 \u7684\u65f6\u5019\uff0c\u8868\u793a\u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u65f6\u90fd\u5c06\u8fdb\u884c\u5237\u76d8\u64cd\u4f5c\uff08\u9ed8\u8ba4\u503c\uff09"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"2")," \uff1a\u8bbe\u7f6e\u4e3a 2 \u7684\u65f6\u5019\uff0c\u8868\u793a\u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u65f6\u90fd\u53ea\u628a redo log buffer \u5185\u5bb9\u5199\u5165 page cache")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"innodb_flush_log_at_trx_commit")," \u53c2\u6570\u9ed8\u8ba4\u4e3a 1 \uff0c\u4e5f\u5c31\u662f\u8bf4\u5f53\u4e8b\u52a1\u63d0\u4ea4\u65f6\u4f1a\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"fsync")," \u5bf9 redo log \u8fdb\u884c\u5237\u76d8"),(0,l.kt)("p",null,"\u53e6\u5916\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"InnoDB")," \u5b58\u50a8\u5f15\u64ce\u6709\u4e00\u4e2a\u540e\u53f0\u7ebf\u7a0b\uff0c\u6bcf\u9694 ",(0,l.kt)("inlineCode",{parentName:"p"},"1")," \u79d2\uff0c\u5c31\u4f1a\u628a ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log buffer")," \u4e2d\u7684\u5185\u5bb9\u5199\u5230\u6587\u4ef6\u7cfb\u7edf\u7f13\u5b58\uff08",(0,l.kt)("inlineCode",{parentName:"p"},"page cache"),"\uff09\uff0c\u7136\u540e\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"fsync")," \u5237\u76d8\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213001613",src:n(48769).Z,width:"847",height:"533"})),(0,l.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u4e2a\u6ca1\u6709\u63d0\u4ea4\u4e8b\u52a1\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u8bb0\u5f55\uff0c\u4e5f\u53ef\u80fd\u4f1a\u5237\u76d8\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e3a\u4ec0\u4e48\u5462\uff1f")),(0,l.kt)("p",null,"\u56e0\u4e3a\u5728\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u8bb0\u5f55\u662f\u4f1a\u5199\u5165 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log buffer")," \u4e2d\uff0c\u8fd9\u4e9b ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u8bb0\u5f55\u4f1a\u88ab\u540e\u53f0\u7ebf\u7a0b\u5237\u76d8\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213009977",src:n(5375).Z,width:"1194",height:"723"})),(0,l.kt)("p",null,"\u9664\u4e86\u540e\u53f0\u7ebf\u7a0b\u6bcf\u79d2 ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"\u6b21\u7684\u8f6e\u8be2\u64cd\u4f5c\uff0c\u8fd8\u6709\u4e00\u79cd\u60c5\u51b5\uff0c\u5f53 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log buffer")," \u5360\u7528\u7684\u7a7a\u95f4\u5373\u5c06\u8fbe\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"innodb_log_buffer_size")," \u4e00\u534a\u7684\u65f6\u5019\uff0c\u540e\u53f0\u7ebf\u7a0b\u4f1a\u4e3b\u52a8\u5237\u76d8\u3002"),(0,l.kt)("p",null,"\u4e0b\u9762\u662f\u4e0d\u540c\u5237\u76d8\u7b56\u7565\u7684\u6d41\u7a0b\u56fe"),(0,l.kt)("p",null,"innodb_flush_log_at_trx_commit=0"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213032809",src:n(62969).Z,width:"1259",height:"823"})),(0,l.kt)("p",null,"\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"\u65f6\uff0c\u5982\u679c ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u6302\u4e86\u6216\u5b95\u673a\u53ef\u80fd\u4f1a\u6709 ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"\u79d2\u6570\u636e\u7684\u4e22\u5931\u3002"),(0,l.kt)("p",null,"innodb_flush_log_at_trx_commit=1"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213045311",src:n(57366).Z,width:"1218",height:"799"})),(0,l.kt)("p",null,"\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"\u65f6\uff0c \u53ea\u8981\u4e8b\u52a1\u63d0\u4ea4\u6210\u529f\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\u8bb0\u5f55\u5c31\u4e00\u5b9a\u5728\u786c\u76d8\u91cc\uff0c\u4e0d\u4f1a\u6709\u4efb\u4f55\u6570\u636e\u4e22\u5931\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u4e8b\u52a1\u6267\u884c\u671f\u95f4 ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u6302\u4e86\u6216\u5b95\u673a\uff0c\u8fd9\u90e8\u5206\u65e5\u5fd7\u4e22\u4e86\uff0c\u4f46\u662f\u4e8b\u52a1\u5e76\u6ca1\u6709\u63d0\u4ea4\uff0c\u6240\u4ee5\u65e5\u5fd7\u4e22\u4e86\u4e5f\u4e0d\u4f1a\u6709\u635f\u5931\u3002"),(0,l.kt)("p",null,"innodb_flush_log_at_trx_commit=2"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213100010",src:n(82337).Z,width:"1292",height:"792"})),(0,l.kt)("p",null,"\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"2"),"\u65f6\uff0c \u53ea\u8981\u4e8b\u52a1\u63d0\u4ea4\u6210\u529f\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"redo log buffer"),"\u4e2d\u7684\u5185\u5bb9\u53ea\u5199\u5165\u6587\u4ef6\u7cfb\u7edf\u7f13\u5b58\uff08",(0,l.kt)("inlineCode",{parentName:"p"},"page cache"),"\uff09\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u4ec5\u4ec5\u53ea\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u6302\u4e86\u4e0d\u4f1a\u6709\u4efb\u4f55\u6570\u636e\u4e22\u5931\uff0c\u4f46\u662f\u5b95\u673a\u53ef\u80fd\u4f1a\u6709 ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"\u79d2\u6570\u636e\u7684\u4e22\u5931\u3002"),(0,l.kt)("h5",{id:"\u65e5\u5fd7\u6587\u4ef6\u7ec4"},"\u65e5\u5fd7\u6587\u4ef6\u7ec4"),(0,l.kt)("p",null," \u786c\u76d8\u4e0a\u5b58\u50a8\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u65e5\u5fd7\u6587\u4ef6\u4e0d\u53ea\u4e00\u4e2a\uff0c\u800c\u662f\u4ee5\u4e00\u4e2a",(0,l.kt)("strong",{parentName:"p"},"\u65e5\u5fd7\u6587\u4ef6\u7ec4"),"\u7684\u5f62\u5f0f\u51fa\u73b0\u7684\uff0c\u6bcf\u4e2a\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo"),"\u65e5\u5fd7\u6587\u4ef6\u5927\u5c0f\u90fd\u662f\u4e00\u6837\u7684\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982\u53ef\u4ee5\u914d\u7f6e\u4e3a\u4e00\u7ec4 ",(0,l.kt)("inlineCode",{parentName:"p"},"4"),"\u4e2a\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u7684\u5927\u5c0f\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"1GB"),"\uff0c\u6574\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u65e5\u5fd7\u6587\u4ef6\u7ec4\u53ef\u4ee5\u8bb0\u5f55 ",(0,l.kt)("inlineCode",{parentName:"p"},"4G"),"\u7684\u5185\u5bb9\u3002"),(0,l.kt)("p",null,"\u5b83\u91c7\u7528\u7684\u662f\u73af\u5f62\u6570\u7ec4\u5f62\u5f0f\uff0c\u4ece\u5934\u5f00\u59cb\u5199\uff0c\u5199\u5230\u672b\u5c3e\u53c8\u56de\u5230\u5934\u5faa\u73af\u5199\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213128010",src:n(2518).Z,width:"678",height:"646"})),(0,l.kt)("p",null,"\u5728\u4e2a",(0,l.kt)("strong",{parentName:"p"},"\u65e5\u5fd7\u6587\u4ef6\u7ec4"),"\u4e2d\u8fd8\u6709\u4e24\u4e2a\u91cd\u8981\u7684\u5c5e\u6027\uff0c\u5206\u522b\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"write pos\u3001checkpoint")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"write pos")," \u662f\u5f53\u524d\u8bb0\u5f55\u7684\u4f4d\u7f6e\uff0c\u4e00\u8fb9\u5199\u4e00\u8fb9\u540e\u79fb"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"checkpoint")," \u662f\u5f53\u524d\u8981\u64e6\u9664\u7684\u4f4d\u7f6e\uff0c\u4e5f\u662f\u5f80\u540e\u63a8\u79fb")),(0,l.kt)("p",null,"\u6bcf\u6b21\u5237\u76d8 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u8bb0\u5f55\u5230",(0,l.kt)("strong",{parentName:"p"},"\u65e5\u5fd7\u6587\u4ef6\u7ec4"),"\u4e2d\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"write pos")," \u4f4d\u7f6e\u5c31\u4f1a\u540e\u79fb\u66f4\u65b0\u3002"),(0,l.kt)("p",null,"\u6bcf\u6b21 ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL")," \u52a0\u8f7d",(0,l.kt)("strong",{parentName:"p"},"\u65e5\u5fd7\u6587\u4ef6\u7ec4"),"\u6062\u590d\u6570\u636e\u65f6\uff0c\u4f1a\u6e05\u7a7a\u52a0\u8f7d\u8fc7\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u8bb0\u5f55\uff0c\u5e76\u628a ",(0,l.kt)("inlineCode",{parentName:"p"},"checkpoint")," \u540e\u79fb\u66f4\u65b0\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"write pos")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"checkpoint")," \u4e4b\u95f4\u7684\u8fd8\u7a7a\u7740\u7684\u90e8\u5206\u53ef\u4ee5\u7528\u6765\u5199\u5165\u65b0\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u8bb0\u5f55\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213147439",src:n(14082).Z,width:"411",height:"591"})),(0,l.kt)("p",null,"\u5982\u679c ",(0,l.kt)("inlineCode",{parentName:"p"},"write pos")," \u8ffd\u4e0a ",(0,l.kt)("inlineCode",{parentName:"p"},"checkpoint")," \uff0c\u8868\u793a",(0,l.kt)("strong",{parentName:"p"},"\u65e5\u5fd7\u6587\u4ef6\u7ec4"),"\u6ee1\u4e86\uff0c\u8fd9\u65f6\u5019\u4e0d\u80fd\u518d\u5199\u5165\u65b0\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u8bb0\u5f55\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL")," \u5f97\u505c\u4e0b\u6765\uff0c\u6e05\u7a7a\u4e00\u4e9b\u8bb0\u5f55\uff0c\u628a ",(0,l.kt)("inlineCode",{parentName:"p"},"checkpoint")," \u63a8\u8fdb\u4e00\u4e0b\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213155597",src:n(87823).Z,width:"611",height:"494"})),(0,l.kt)("h5",{id:"redo-log-\u5c0f\u7ed3"},"redo log \u5c0f\u7ed3"),(0,l.kt)("p",null,"\u76f8\u4fe1\u5927\u5bb6\u90fd\u77e5\u9053 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u7684\u4f5c\u7528\u548c\u5b83\u7684\u5237\u76d8\u65f6\u673a\u3001\u5b58\u50a8\u5f62\u5f0f\u3002"),(0,l.kt)("p",null,"\u73b0\u5728\u6211\u4eec\u6765\u601d\u8003\u4e00\u4e2a\u95ee\u9898\uff1a ",(0,l.kt)("strong",{parentName:"p"},"\u53ea\u8981\u6bcf\u6b21\u628a\u4fee\u6539\u540e\u7684\u6570\u636e\u9875\u76f4\u63a5\u5237\u76d8\u4e0d\u5c31\u597d\u4e86\uff0c\u8fd8\u6709 ",(0,l.kt)("inlineCode",{parentName:"strong"},"redo log")," \u4ec0\u4e48\u4e8b\uff1f")),(0,l.kt)("p",null,"\u5b83\u4eec\u4e0d\u90fd\u662f\u5237\u76d8\u4e48\uff1f\u5dee\u522b\u5728\u54ea\u91cc\uff1f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"1 Byte = 8bit\n1 KB = 1024 Byte\n1 MB = 1024 KB\n1 GB = 1024 MB\n1 TB = 1024 GB\n")),(0,l.kt)("p",null,"\u5b9e\u9645\u4e0a\uff0c\u6570\u636e\u9875\u5927\u5c0f\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"16KB"),"\uff0c\u5237\u76d8\u6bd4\u8f83\u8017\u65f6\uff0c\u53ef\u80fd\u5c31\u4fee\u6539\u4e86\u6570\u636e\u9875\u91cc\u7684\u51e0 ",(0,l.kt)("inlineCode",{parentName:"p"},"Byte")," \u6570\u636e\uff0c\u6709\u5fc5\u8981\u628a\u5b8c\u6574\u7684\u6570\u636e\u9875\u5237\u76d8\u5417\uff1f"),(0,l.kt)("p",null,"\u800c\u4e14\u6570\u636e\u9875\u5237\u76d8\u662f\u968f\u673a\u5199\uff0c\u56e0\u4e3a\u4e00\u4e2a\u6570\u636e\u9875\u5bf9\u5e94\u7684\u4f4d\u7f6e\u53ef\u80fd\u5728\u786c\u76d8\u6587\u4ef6\u7684\u968f\u673a\u4f4d\u7f6e\uff0c\u6240\u4ee5\u6027\u80fd\u662f\u5f88\u5dee\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u662f\u5199 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\uff0c\u4e00\u884c\u8bb0\u5f55\u53ef\u80fd\u5c31\u5360\u51e0\u5341 ",(0,l.kt)("inlineCode",{parentName:"p"},"Byte"),"\uff0c\u53ea\u5305\u542b\u8868\u7a7a\u95f4\u53f7\u3001\u6570\u636e\u9875\u53f7\u3001\u78c1\u76d8\u6587\u4ef6\u504f\u79fb \u91cf\u3001\u66f4\u65b0\u503c\uff0c\u518d\u52a0\u4e0a\u662f\u987a\u5e8f\u5199\uff0c\u6240\u4ee5\u5237\u76d8\u901f\u5ea6\u5f88\u5feb\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u5f62\u5f0f\u8bb0\u5f55\u4fee\u6539\u5185\u5bb9\uff0c\u6027\u80fd\u4f1a\u8fdc\u8fdc\u8d85\u8fc7\u5237\u6570\u636e\u9875\u7684\u65b9\u5f0f\uff0c\u8fd9\u4e5f\u8ba9\u6570\u636e\u5e93\u7684\u5e76\u53d1\u80fd\u529b\u66f4\u5f3a\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5176\u5b9e\u5185\u5b58\u7684\u6570\u636e\u9875\u5728\u4e00\u5b9a\u65f6\u673a\u4e5f\u4f1a\u5237\u76d8\uff0c\u6211\u4eec\u628a\u8fd9\u79f0\u4e3a\u9875\u5408\u5e76\uff0c\u8bb2 ",(0,l.kt)("inlineCode",{parentName:"p"},"Buffer Pool"),"\u7684\u65f6\u5019\u4f1a\u5bf9\u8fd9\u5757\u7ec6\u8bf4")),(0,l.kt)("h4",{id:"binlog"},"binlog"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"redo log")," \u5b83\u662f\u7269\u7406\u65e5\u5fd7\uff0c\u8bb0\u5f55\u5185\u5bb9\u662f\u201c\u5728\u67d0\u4e2a\u6570\u636e\u9875\u4e0a\u505a\u4e86\u4ec0\u4e48\u4fee\u6539\u201d\uff0c\u5c5e\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"InnoDB")," \u5b58\u50a8\u5f15\u64ce\u3002"),(0,l.kt)("p",null,"\u800c ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog")," \u662f\u903b\u8f91\u65e5\u5fd7\uff0c\u8bb0\u5f55\u5185\u5bb9\u662f\u8bed\u53e5\u7684\u539f\u59cb\u903b\u8f91\uff0c\u7c7b\u4f3c\u4e8e\u201c\u7ed9 ID=2 \u8fd9\u4e00\u884c\u7684 c \u5b57\u6bb5\u52a0 1\u201d\uff0c\u5c5e\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL Server")," \u5c42\u3002"),(0,l.kt)("p",null,"\u4e0d\u7ba1\u7528\u4ec0\u4e48\u5b58\u50a8\u5f15\u64ce\uff0c\u53ea\u8981\u53d1\u751f\u4e86\u8868\u6570\u636e\u66f4\u65b0\uff0c\u90fd\u4f1a\u4ea7\u751f ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog")," \u65e5\u5fd7\u3002"),(0,l.kt)("p",null,"\u90a3 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog")," \u5230\u5e95\u662f\u7528\u6765\u5e72\u561b\u7684\uff1f"),(0,l.kt)("p",null,"\u53ef\u4ee5\u8bf4 ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u6570\u636e\u5e93\u7684",(0,l.kt)("strong",{parentName:"p"},"\u6570\u636e\u5907\u4efd\u3001\u4e3b\u5907\u3001\u4e3b\u4e3b\u3001\u4e3b\u4ece"),"\u90fd\u79bb\u4e0d\u5f00 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\uff0c\u9700\u8981\u4f9d\u9760 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u6765\u540c\u6b65\u6570\u636e\uff0c\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u3002"),(0,l.kt)("h5",{id:"\u8bb0\u5f55\u683c\u5f0f"},"\u8bb0\u5f55\u683c\u5f0f"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"binlog")," \u65e5\u5fd7\u6709\u4e09\u79cd\u683c\u5f0f\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog_format"),"\u53c2\u6570\u6307\u5b9a\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"statement")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"row")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"mixed"))),(0,l.kt)("p",null,"\u6307\u5b9a ",(0,l.kt)("inlineCode",{parentName:"p"},"statement"),"\uff0c\u8bb0\u5f55\u7684\u5185\u5bb9\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"SQL"),"\u8bed\u53e5\u539f\u6587\uff0c\u6bd4\u5982\u6267\u884c\u4e00\u6761 ",(0,l.kt)("inlineCode",{parentName:"p"},"update T set update_time=now() where id=1"),"\uff0c\u8bb0\u5f55\u7684\u5185\u5bb9\u5982\u4e0b"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213326407",src:n(30912).Z,width:"471",height:"243"})),(0,l.kt)("p",null,"\u540c\u6b65\u6570\u636e\u65f6\uff0c\u4f1a\u6267\u884c\u8bb0\u5f55\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"SQL"),"\u8bed\u53e5\uff0c\u4f46\u662f"),(0,l.kt)("p",null,"\u6709\u4e2a\u95ee\u9898\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"update_time=now()"),"\u8fd9\u91cc\u4f1a\u83b7\u53d6\u5f53\u524d\u7cfb\u7edf\u65f6\u95f4\uff0c\u76f4\u63a5\u6267\u884c\u4f1a\u5bfc\u81f4\u4e0e\u539f\u5e93\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u3002"),(0,l.kt)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u8fd9\u79cd\u95ee\u9898\uff0c\u6211\u4eec\u9700\u8981\u6307\u5b9a\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"row"),"\uff0c\u8bb0\u5f55\u7684\u5185\u5bb9\u4e0d\u518d\u662f\u7b80\u5355\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"SQL"),"\u8bed\u53e5\u4e86\uff0c\u8fd8\u5305\u542b\u64cd\u4f5c\u7684\u5177\u4f53\u6570\u636e\uff0c\u8bb0\u5f55\u5185\u5bb9\u5982\u4e0b"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213333425",src:n(23618).Z,width:"834",height:"290"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"row"),"\u683c\u5f0f\u8bb0\u5f55\u7684\u5185\u5bb9\u770b\u4e0d\u5230\u8be6\u7ec6\u4fe1\u606f\uff0c\u8981\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"mysqlbinlog"),"\u5de5\u5177\u89e3\u6790\u51fa\u6765\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"update_time=now()"),"\u53d8\u6210\u4e86\u5177\u4f53\u7684\u65f6\u95f4 ",(0,l.kt)("inlineCode",{parentName:"p"},"update_time=1627112756247"),"\uff0c\u6761\u4ef6\u540e\u9762\u7684@1\u3001@2\u3001@3 \u90fd\u662f\u8be5\u884c\u6570\u636e\u7b2c 1 \u4e2a~3 \u4e2a\u5b57\u6bb5\u7684\u539f\u59cb\u503c\uff08",(0,l.kt)("strong",{parentName:"p"},"\u5047\u8bbe\u8fd9\u5f20\u8868\u53ea\u6709 3 \u4e2a\u5b57\u6bb5"),"\uff09\u3002"),(0,l.kt)("p",null,"\u8fd9\u6837\u5c31\u80fd\u4fdd\u8bc1\u540c\u6b65\u6570\u636e\u7684\u4e00\u81f4\u6027\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\u90fd\u662f\u6307\u5b9a\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"row"),"\uff0c\u8fd9\u6837\u53ef\u4ee5\u4e3a\u6570\u636e\u5e93\u7684\u6062\u590d\u4e0e\u540c\u6b65\u5e26\u6765\u66f4\u597d\u7684\u53ef\u9760\u6027\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\u8fd9\u79cd\u683c\u5f0f\uff0c\u9700\u8981\u66f4\u5927\u7684\u5bb9\u91cf\u6765\u8bb0\u5f55\uff0c\u6bd4\u8f83\u5360\u7528\u7a7a\u95f4\uff0c\u6062\u590d\u4e0e\u540c\u6b65\u65f6\u4f1a\u66f4\u6d88\u8017 ",(0,l.kt)("inlineCode",{parentName:"p"},"IO"),"\u8d44\u6e90\uff0c\u5f71\u54cd\u6267\u884c\u901f\u5ea6\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\u5c31\u6709\u4e86\u4e00\u79cd\u6298\u4e2d\u7684\u65b9\u6848\uff0c\u6307\u5b9a\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"mixed"),"\uff0c\u8bb0\u5f55\u7684\u5185\u5bb9\u662f\u524d\u4e24\u8005\u7684\u6df7\u5408\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u4f1a\u5224\u65ad\u8fd9\u6761 ",(0,l.kt)("inlineCode",{parentName:"p"},"SQL"),"\u8bed\u53e5\u662f\u5426\u53ef\u80fd\u5f15\u8d77\u6570\u636e\u4e0d\u4e00\u81f4\uff0c\u5982\u679c\u662f\uff0c\u5c31\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"row"),"\u683c\u5f0f\uff0c\u5426\u5219\u5c31\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"statement"),"\u683c\u5f0f"),(0,l.kt)("h5",{id:"\u5199\u5165\u673a\u5236"},"\u5199\u5165\u673a\u5236"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u7684\u5199\u5165\u65f6\u673a\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5148\u628a\u65e5\u5fd7\u5199\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog cache"),"\uff0c\u4e8b\u52a1\u63d0\u4ea4\u7684\u65f6\u5019\uff0c\u518d\u628a ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog cache"),"\u5199\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u6587\u4ef6\u4e2d\u3002"),(0,l.kt)("p",null,"\u56e0\u4e3a\u4e00\u4e2a\u4e8b\u52a1\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u4e0d\u80fd\u88ab\u62c6\u5f00\uff0c\u65e0\u8bba\u8fd9\u4e2a\u4e8b\u52a1\u591a\u5927\uff0c\u4e5f\u8981\u786e\u4fdd\u4e00\u6b21\u6027\u5199\u5165\uff0c\u6240\u4ee5\u7cfb\u7edf\u4f1a\u7ed9\u6bcf\u4e2a\u7ebf\u7a0b\u5206\u914d\u4e00\u4e2a\u5757\u5185\u5b58\u4f5c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog cache"),"\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog_cache_size"),"\u53c2\u6570\u63a7\u5236\u5355\u4e2a\u7ebf\u7a0b binlog cache \u5927\u5c0f\uff0c\u5982\u679c\u5b58\u50a8\u5185\u5bb9\u8d85\u8fc7\u4e86\u8fd9\u4e2a\u53c2\u6570\uff0c\u5c31\u8981\u6682\u5b58\u5230\u78c1\u76d8\uff08",(0,l.kt)("inlineCode",{parentName:"p"},"Swap"),"\uff09\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u65e5\u5fd7\u5237\u76d8\u6d41\u7a0b\u5982\u4e0b"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213409674",src:n(50122).Z,width:"1308",height:"925"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e0a\u56fe\u7684 write\uff0c\u662f\u6307\u628a\u65e5\u5fd7\u5199\u5165\u5230\u6587\u4ef6\u7cfb\u7edf\u7684 page cache\uff0c\u5e76\u6ca1\u6709\u628a\u6570\u636e\u6301\u4e45\u5316\u5230\u78c1\u76d8\uff0c\u6240\u4ee5\u901f\u5ea6\u6bd4\u8f83\u5feb")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e0a\u56fe\u7684 fsync\uff0c\u624d\u662f\u5c06\u6570\u636e\u6301\u4e45\u5316\u5230\u78c1\u76d8\u7684\u64cd\u4f5c"))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"write"),"\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"fsync"),"\u7684\u65f6\u673a\uff0c\u53ef\u4ee5\u7531\u53c2\u6570 ",(0,l.kt)("inlineCode",{parentName:"p"},"sync_binlog"),"\u63a7\u5236\uff0c\u9ed8\u8ba4\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"\u3002"),(0,l.kt)("p",null,"\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"\u7684\u65f6\u5019\uff0c\u8868\u793a\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u90fd\u53ea ",(0,l.kt)("inlineCode",{parentName:"p"},"write"),"\uff0c\u7531\u7cfb\u7edf\u81ea\u884c\u5224\u65ad\u4ec0\u4e48\u65f6\u5019\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"fsync"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213418556",src:n(43255).Z,width:"1282",height:"1013"})),(0,l.kt)("p",null,"\u867d\u7136\u6027\u80fd\u5f97\u5230\u63d0\u5347\uff0c\u4f46\u662f\u673a\u5668\u5b95\u673a\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"page cache"),"\u91cc\u9762\u7684 binlog \u4f1a\u4e22\u5931\u3002"),(0,l.kt)("p",null,"\u4e3a\u4e86\u5b89\u5168\u8d77\u89c1\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"\uff0c\u8868\u793a\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u90fd\u4f1a\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"fsync"),"\uff0c\u5c31\u5982\u540c ",(0,l.kt)("strong",{parentName:"p"},"redo log \u65e5\u5fd7\u5237\u76d8\u6d41\u7a0b")," \u4e00\u6837\u3002"),(0,l.kt)("p",null,"\u6700\u540e\u8fd8\u6709\u4e00\u79cd\u6298\u4e2d\u65b9\u5f0f\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"N(N>1)"),"\uff0c\u8868\u793a\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u90fd ",(0,l.kt)("inlineCode",{parentName:"p"},"write"),"\uff0c\u4f46\u7d2f\u79ef ",(0,l.kt)("inlineCode",{parentName:"p"},"N"),"\u4e2a\u4e8b\u52a1\u540e\u624d ",(0,l.kt)("inlineCode",{parentName:"p"},"fsync")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213426711",src:n(38160).Z,width:"1294",height:"1005"})),(0,l.kt)("p",null,"\u5728\u51fa\u73b0 ",(0,l.kt)("inlineCode",{parentName:"p"},"IO"),"\u74f6\u9888\u7684\u573a\u666f\u91cc\uff0c\u5c06 ",(0,l.kt)("inlineCode",{parentName:"p"},"sync_binlog"),"\u8bbe\u7f6e\u6210\u4e00\u4e2a\u6bd4\u8f83\u5927\u7684\u503c\uff0c\u53ef\u4ee5\u63d0\u5347\u6027\u80fd\u3002"),(0,l.kt)("p",null,"\u540c\u6837\u7684\uff0c\u5982\u679c\u673a\u5668\u5b95\u673a\uff0c\u4f1a\u4e22\u5931\u6700\u8fd1 ",(0,l.kt)("inlineCode",{parentName:"p"},"N"),"\u4e2a\u4e8b\u52a1\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u65e5\u5fd7"),(0,l.kt)("h4",{id:"\u4e24\u9636\u6bb5\u63d0\u4ea4"},"\u4e24\u9636\u6bb5\u63d0\u4ea4"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\uff08\u91cd\u505a\u65e5\u5fd7\uff09\u8ba9 ",(0,l.kt)("inlineCode",{parentName:"p"},"InnoDB"),"\u5b58\u50a8\u5f15\u64ce\u62e5\u6709\u4e86\u5d29\u6e83\u6062\u590d\u80fd\u529b\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\uff08\u5f52\u6863\u65e5\u5fd7\uff09\u4fdd\u8bc1\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u96c6\u7fa4\u67b6\u6784\u7684\u6570\u636e\u4e00\u81f4\u6027\u3002"),(0,l.kt)("p",null,"\u867d\u7136\u5b83\u4eec\u90fd\u5c5e\u4e8e\u6301\u4e45\u5316\u7684\u4fdd\u8bc1\uff0c\u4f46\u662f\u4fa7\u91cd\u70b9\u4e0d\u540c\u3002"),(0,l.kt)("p",null,"\u5728\u6267\u884c\u66f4\u65b0\u8bed\u53e5\u8fc7\u7a0b\uff0c\u4f1a\u8bb0\u5f55 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\u4e0e ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u4e24\u5757\u65e5\u5fd7\uff0c\u4ee5\u57fa\u672c\u7684\u4e8b\u52a1\u4e3a\u5355\u4f4d\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\u5728\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u4e0d\u65ad\u5199\u5165\uff0c\u800c ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u53ea\u6709\u5728\u63d0\u4ea4\u4e8b\u52a1\u65f6\u624d\u5199\u5165\uff0c\u6240\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\u4e0e ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u7684\u5199\u5165\u65f6\u673a\u4e0d\u4e00\u6837\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213448142",src:n(79084).Z,width:"641",height:"748"})),(0,l.kt)("p",null,"\u56de\u5230\u6b63\u9898\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\u4e0e ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u4e24\u4efd\u65e5\u5fd7\u4e4b\u95f4\u7684\u903b\u8f91\u4e0d\u4e00\u81f4\uff0c\u4f1a\u51fa\u73b0\u4ec0\u4e48\u95ee\u9898\uff1f"),(0,l.kt)("p",null,"\u6211\u4eec\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"p"},"update"),"\u8bed\u53e5\u4e3a\u4f8b\uff0c\u5047\u8bbe ",(0,l.kt)("inlineCode",{parentName:"p"},"id=2"),"\u7684\u8bb0\u5f55\uff0c\u5b57\u6bb5 ",(0,l.kt)("inlineCode",{parentName:"p"},"c"),"\u503c\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"\uff0c\u628a\u5b57\u6bb5 ",(0,l.kt)("inlineCode",{parentName:"p"},"c"),"\u503c\u66f4\u65b0\u6210 ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"SQL"),"\u8bed\u53e5\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"update T set c=1 where id=2"),"\u3002"),(0,l.kt)("p",null,"\u5047\u8bbe\u6267\u884c\u8fc7\u7a0b\u4e2d\u5199\u5b8c ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\u65e5\u5fd7\u540e\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u65e5\u5fd7\u5199\u671f\u95f4\u53d1\u751f\u4e86\u5f02\u5e38\uff0c\u4f1a\u51fa\u73b0\u4ec0\u4e48\u60c5\u51b5\u5462\uff1f"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213523943",src:n(18462).Z,width:"476",height:"590"})),(0,l.kt)("p",null,"\u7531\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u6ca1\u5199\u5b8c\u5c31\u5f02\u5e38\uff0c\u8fd9\u65f6\u5019 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u91cc\u9762\u6ca1\u6709\u5bf9\u5e94\u7684\u4fee\u6539\u8bb0\u5f55\u3002\u56e0\u6b64\uff0c\u4e4b\u540e\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u65e5\u5fd7\u6062\u590d\u6570\u636e\u65f6\uff0c\u5c31\u4f1a\u5c11\u8fd9\u4e00\u6b21\u66f4\u65b0\uff0c\u6062\u590d\u51fa\u6765\u7684\u8fd9\u4e00\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"c"),"\u503c\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),"\uff0c\u800c\u539f\u5e93\u56e0\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\u65e5\u5fd7\u6062\u590d\uff0c\u8fd9\u4e00\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"c"),"\u503c\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"\uff0c\u6700\u7ec8\u6570\u636e\u4e0d\u4e00\u81f4\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213531140",src:n(86871).Z,width:"891",height:"809"})),(0,l.kt)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u4e24\u4efd\u65e5\u5fd7\u4e4b\u95f4\u7684\u903b\u8f91\u4e00\u81f4\u95ee\u9898\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"InnoDB"),"\u5b58\u50a8\u5f15\u64ce\u4f7f\u7528",(0,l.kt)("strong",{parentName:"p"},"\u4e24\u9636\u6bb5\u63d0\u4ea4"),"\u65b9\u6848\u3002"),(0,l.kt)("p",null,"\u539f\u7406\u5f88\u7b80\u5355\uff0c\u5c06 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\u7684\u5199\u5165\u62c6\u6210\u4e86\u4e24\u4e2a\u6b65\u9aa4 ",(0,l.kt)("inlineCode",{parentName:"p"},"prepare"),"\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"commit"),"\uff0c\u8fd9\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u4e24\u9636\u6bb5\u63d0\u4ea4"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213538608",src:n(56279).Z,width:"851",height:"771"})),(0,l.kt)("p",null,"\u4f7f\u7528",(0,l.kt)("strong",{parentName:"p"},"\u4e24\u9636\u6bb5\u63d0\u4ea4"),"\u540e\uff0c\u5199\u5165 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u65f6\u53d1\u751f\u5f02\u5e38\u4e5f\u4e0d\u4f1a\u6709\u5f71\u54cd\uff0c\u56e0\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u6839\u636e ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\u65e5\u5fd7\u6062\u590d\u6570\u636e\u65f6\uff0c\u53d1\u73b0 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\u8fd8\u5904\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"prepare"),"\u9636\u6bb5\uff0c\u5e76\u4e14\u6ca1\u6709\u5bf9\u5e94 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u65e5\u5fd7\uff0c\u5c31\u4f1a\u56de\u6eda\u8be5\u4e8b\u52a1\u3002",(0,l.kt)("img",{alt:"image-20220706213548852",src:n(14458).Z,width:"1442",height:"664"})),(0,l.kt)("p",null,"\u518d\u770b\u4e00\u4e2a\u573a\u666f\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\u8bbe\u7f6e ",(0,l.kt)("inlineCode",{parentName:"p"},"commit"),"\u9636\u6bb5\u53d1\u751f\u5f02\u5e38\uff0c\u90a3\u4f1a\u4e0d\u4f1a\u56de\u6eda\u4e8b\u52a1\u5462\uff1f"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213556183",src:n(556).Z,width:"1425",height:"661"})),(0,l.kt)("p",null,"\u5e76\u4e0d\u4f1a\u56de\u6eda\u4e8b\u52a1\uff0c\u5b83\u4f1a\u6267\u884c\u4e0a\u56fe\u6846\u4f4f\u7684\u903b\u8f91\uff0c\u867d\u7136 ",(0,l.kt)("inlineCode",{parentName:"p"},"redo log"),"\u662f\u5904\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"prepare"),"\u9636\u6bb5\uff0c\u4f46\u662f\u80fd\u901a\u8fc7\u4e8b\u52a1 ",(0,l.kt)("inlineCode",{parentName:"p"},"id"),"\u627e\u5230\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog"),"\u65e5\u5fd7\uff0c\u6240\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u8ba4\u4e3a\u662f\u5b8c\u6574\u7684\uff0c\u5c31\u4f1a\u63d0\u4ea4\u4e8b\u52a1\u6062\u590d\u6570\u636e"),(0,l.kt)("h4",{id:"undo-log"},"undo log"),(0,l.kt)("p",null,"\u6211\u4eec\u5728\u6267\u884c\u6267\u884c\u4e00\u6761\u201c\u589e\u5220\u6539\u201d\u8bed\u53e5\u7684\u65f6\u5019\uff0c\u867d\u7136\u6ca1\u6709\u8f93\u5165 begin \u5f00\u542f\u4e8b\u52a1\u548c commit \u63d0\u4ea4\u4e8b\u52a1\uff0c\u4f46\u662f MySQL \u4f1a",(0,l.kt)("strong",{parentName:"p"},"\u9690\u5f0f\u5f00\u542f\u4e8b\u52a1"),"\u6765\u6267\u884c\u201c\u589e\u5220\u6539\u201d\u8bed\u53e5\u7684\uff0c\u6267\u884c\u5b8c\u5c31\u81ea\u52a8\u63d0\u4ea4\u4e8b\u52a1\u7684\uff0c\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86\u6267\u884c\u5b8c\u201c\u589e\u5220\u6539\u201d\u8bed\u53e5\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u53ca\u65f6\u5728\u6570\u636e\u5e93\u8868\u770b\u5230\u201c\u589e\u5220\u6539\u201d\u7684\u7ed3\u679c\u4e86\u3002"),(0,l.kt)("p",null,"\u6267\u884c\u4e00\u6761\u8bed\u53e5\u662f\u5426\u81ea\u52a8\u63d0\u4ea4\u4e8b\u52a1\uff0c\u662f\u7531 ",(0,l.kt)("inlineCode",{parentName:"p"},"autocommit")," \u53c2\u6570\u51b3\u5b9a\u7684\uff0c\u9ed8\u8ba4\u662f\u5f00\u542f\u3002\u6240\u4ee5\uff0c\u6267\u884c\u4e00\u6761 update \u8bed\u53e5\u4e5f\u662f\u4f1a\u4f7f\u7528\u4e8b\u52a1\u7684\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\uff0c\u8003\u8651\u4e00\u4e2a\u95ee\u9898\u3002\u4e00\u4e2a\u4e8b\u52a1\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5728\u8fd8\u6ca1\u6709\u63d0\u4ea4\u4e8b\u52a1\u4e4b\u524d\uff0c\u5982\u679cMySQL \u53d1\u751f\u4e86\u5d29\u6e83\uff0c\u8981\u600e\u4e48\u56de\u6eda\u5230\u4e8b\u52a1\u4e4b\u524d\u7684\u6570\u636e\u5462\uff1f"),(0,l.kt)("p",null,"\u5982\u679c\u6211\u4eec\u6bcf\u6b21\u5728\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u90fd\u8bb0\u5f55\u4e0b\u56de\u6eda\u65f6\u9700\u8981\u7684\u4fe1\u606f\u5230\u4e00\u4e2a\u65e5\u5fd7\u91cc\uff0c\u90a3\u4e48\u5728\u4e8b\u52a1\u6267\u884c\u4e2d\u9014\u53d1\u751f\u4e86 MySQL \u5d29\u6e83\u540e\uff0c\u5c31\u4e0d\u7528\u62c5\u5fc3\u65e0\u6cd5\u56de\u6eda\u5230\u4e8b\u52a1\u4e4b\u524d\u7684\u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u65e5\u5fd7\u56de\u6eda\u5230\u4e8b\u52a1\u4e4b\u524d\u7684\u6570\u636e\u3002"),(0,l.kt)("p",null,"\u5b9e\u73b0\u8fd9\u4e00\u673a\u5236\u5c31\u662f  ",(0,l.kt)("strong",{parentName:"p"},"undo log\uff08\u56de\u6eda\u65e5\u5fd7\uff09\uff0c\u5b83\u4fdd\u8bc1\u4e86\u4e8b\u52a1\u7684 ACID \u7279\u6027 (opens new window)\u4e2d\u7684\u539f\u5b50\u6027\uff08Atomicity\uff09\u3002")),(0,l.kt)("p",null,"undo log \u662f\u4e00\u79cd\u7528\u4e8e\u64a4\u9500\u56de\u9000\u7684\u65e5\u5fd7\u3002\u5728\u4e8b\u52a1\u6ca1\u63d0\u4ea4\u4e4b\u524d\uff0cMySQL \u4f1a\u5148\u8bb0\u5f55\u66f4\u65b0\u524d\u7684\u6570\u636e\u5230 undo log \u65e5\u5fd7\u6587\u4ef6\u91cc\u9762\uff0c\u5f53\u4e8b\u52a1\u56de\u6eda\u65f6\uff0c\u53ef\u4ee5\u5229\u7528 undo log \u6765\u8fdb\u884c\u56de\u6eda\u3002\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213728255",src:n(28096).Z,width:"352",height:"571"})),(0,l.kt)("p",null,"\u6bcf\u5f53 InnoDB \u5f15\u64ce\u5bf9\u4e00\u6761\u8bb0\u5f55\u8fdb\u884c\u64cd\u4f5c\uff08\u4fee\u6539\u3001\u5220\u9664\u3001\u65b0\u589e\uff09\u65f6\uff0c\u8981\u628a\u56de\u6eda\u65f6\u9700\u8981\u7684\u4fe1\u606f\u90fd\u8bb0\u5f55\u5230 undo log \u91cc\uff0c\u6bd4\u5982\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5728",(0,l.kt)("strong",{parentName:"li"},"\u63d2\u5165"),"\u4e00\u6761\u8bb0\u5f55\u65f6\uff0c\u8981\u628a\u8fd9\u6761\u8bb0\u5f55\u7684\u4e3b\u952e\u503c\u8bb0\u4e0b\u6765\uff0c\u8fd9\u6837\u4e4b\u540e\u56de\u6eda\u65f6\u53ea\u9700\u8981\u628a\u8fd9\u4e2a\u4e3b\u952e\u503c\u5bf9\u5e94\u7684\u8bb0\u5f55",(0,l.kt)("strong",{parentName:"li"},"\u5220\u6389"),"\u5c31\u597d\u4e86\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5728",(0,l.kt)("strong",{parentName:"li"},"\u5220\u9664"),"\u4e00\u6761\u8bb0\u5f55\u65f6\uff0c\u8981\u628a\u8fd9\u6761\u8bb0\u5f55\u4e2d\u7684\u5185\u5bb9\u90fd\u8bb0\u4e0b\u6765\uff0c\u8fd9\u6837\u4e4b\u540e\u56de\u6eda\u65f6\u518d\u628a\u7531\u8fd9\u4e9b\u5185\u5bb9\u7ec4\u6210\u7684\u8bb0\u5f55",(0,l.kt)("strong",{parentName:"li"},"\u63d2\u5165"),"\u5230\u8868\u4e2d\u5c31\u597d\u4e86\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5728",(0,l.kt)("strong",{parentName:"li"},"\u66f4\u65b0"),"\u4e00\u6761\u8bb0\u5f55\u65f6\uff0c\u8981\u628a\u88ab\u66f4\u65b0\u7684\u5217\u7684\u65e7\u503c\u8bb0\u4e0b\u6765\uff0c\u8fd9\u6837\u4e4b\u540e\u56de\u6eda\u65f6\u518d\u628a\u8fd9\u4e9b\u5217",(0,l.kt)("strong",{parentName:"li"},"\u66f4\u65b0\u4e3a\u65e7\u503c"),"\u5c31\u597d\u4e86\u3002")),(0,l.kt)("p",null,"\u5728\u53d1\u751f\u56de\u6eda\u65f6\uff0c\u5c31\u8bfb\u53d6 undo log \u91cc\u7684\u6570\u636e\uff0c\u7136\u540e\u505a\u539f\u5148\u76f8\u53cd\u64cd\u4f5c\u3002\u6bd4\u5982\u5f53 delete \u4e00\u6761\u8bb0\u5f55\u65f6\uff0cundo log \u4e2d\u4f1a\u628a\u8bb0\u5f55\u4e2d\u7684\u5185\u5bb9\u90fd\u8bb0\u4e0b\u6765\uff0c\u7136\u540e\u6267\u884c\u56de\u6eda\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u5c31\u8bfb\u53d6 undo log \u91cc\u7684\u6570\u636e\uff0c\u7136\u540e\u8fdb\u884c insert \u64cd\u4f5c\u3002"),(0,l.kt)("p",null,"\u4e0d\u540c\u7684\u64cd\u4f5c\uff0c\u9700\u8981\u8bb0\u5f55\u7684\u5185\u5bb9\u4e5f\u662f\u4e0d\u540c\u7684\uff0c\u6240\u4ee5\u4e0d\u540c\u7c7b\u578b\u7684\u64cd\u4f5c\uff08\u4fee\u6539\u3001\u5220\u9664\u3001\u65b0\u589e\uff09\u4ea7\u751f\u7684 undo log \u7684\u683c\u5f0f\u4e5f\u662f\u4e0d\u540c\u7684\uff0c\u5177\u4f53\u7684\u6bcf\u4e00\u4e2a\u64cd\u4f5c\u7684 undo log \u7684\u683c\u5f0f\u6211\u5c31\u4e0d\u8be6\u7ec6\u4ecb\u7ecd\u4e86\uff0c\u611f\u5174\u8da3\u7684\u53ef\u4ee5\u81ea\u5df1\u53bb\u67e5\u67e5\u3002"),(0,l.kt)("p",null,"\u4e00\u6761\u8bb0\u5f55\u7684\u6bcf\u4e00\u6b21\u66f4\u65b0\u64cd\u4f5c\u4ea7\u751f\u7684 undo log \u683c\u5f0f\u90fd\u6709\u4e00\u4e2a roll_pointer \u6307\u9488\u548c\u4e00\u4e2a trx_id \u4e8b\u52a1id\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u901a\u8fc7 trx_id \u53ef\u4ee5\u77e5\u9053\u8be5\u8bb0\u5f55\u662f\u88ab\u54ea\u4e2a\u4e8b\u52a1\u4fee\u6539\u7684\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u901a\u8fc7 roll_pointer \u6307\u9488\u53ef\u4ee5\u5c06\u8fd9\u4e9b undo log \u4e32\u6210\u4e00\u4e2a\u94fe\u8868\uff0c\u8fd9\u4e2a\u94fe\u8868\u5c31\u88ab\u79f0\u4e3a\u7248\u672c\u94fe\uff1b")),(0,l.kt)("p",null,"\u7248\u672c\u94fe\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706213736248",src:n(1577).Z,width:"1063",height:"457"})),(0,l.kt)("p",null,"\u53e6\u5916\uff0c",(0,l.kt)("strong",{parentName:"p"},"undo log \u8fd8\u6709\u4e00\u4e2a\u4f5c\u7528\uff0c\u901a\u8fc7 ReadView + undo log \u5b9e\u73b0 MVCC\uff08\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\uff09"),"\u3002"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u300c\u8bfb\u63d0\u4ea4\u300d\u548c\u300c\u53ef\u91cd\u590d\u8bfb\u300d\u9694\u79bb\u7ea7\u522b\u7684\u4e8b\u52a1\u6765\u8bf4\uff0c\u5b83\u4eec\u7684\u5feb\u7167\u8bfb\uff08\u666e\u901a select \u8bed\u53e5\uff09\u662f\u901a\u8fc7 Read View  + undo log \u6765\u5b9e\u73b0\u7684\uff0c\u5b83\u4eec\u7684\u533a\u522b\u5728\u4e8e\u521b\u5efa Read View \u7684\u65f6\u673a\u4e0d\u540c\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u300c\u8bfb\u63d0\u4ea4\u300d\u9694\u79bb\u7ea7\u522b\u662f\u5728\u6bcf\u4e2a select \u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684 Read View\uff0c\u4e5f\u610f\u5473\u7740\uff0c\u4e8b\u52a1\u671f\u95f4\u7684\u591a\u6b21\u8bfb\u53d6\u540c\u4e00\u6761\u6570\u636e\uff0c\u524d\u540e\u4e24\u6b21\u8bfb\u7684\u6570\u636e\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e0d\u4e00\u81f4\uff0c\u56e0\u4e3a\u53ef\u80fd\u8fd9\u671f\u95f4\u53e6\u5916\u4e00\u4e2a\u4e8b\u52a1\u4fee\u6539\u4e86\u8be5\u8bb0\u5f55\uff0c\u5e76\u63d0\u4ea4\u4e86\u4e8b\u52a1\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u300c\u53ef\u91cd\u590d\u8bfb\u300d\u9694\u79bb\u7ea7\u522b\u662f\u542f\u52a8\u4e8b\u52a1\u65f6\u751f\u6210\u4e00\u4e2a Read View\uff0c\u7136\u540e\u6574\u4e2a\u4e8b\u52a1\u671f\u95f4\u90fd\u5728\u7528\u8fd9\u4e2a Read View\uff0c\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86\u5728\u4e8b\u52a1\u671f\u95f4\u8bfb\u5230\u7684\u6570\u636e\u90fd\u662f\u4e8b\u52a1\u542f\u52a8\u524d\u7684\u8bb0\u5f55\u3002")),(0,l.kt)("p",null,"\u8fd9\u4e24\u4e2a\u9694\u79bb\u7ea7\u522b\u5b9e\u73b0\u662f\u901a\u8fc7\u300c\u4e8b\u52a1\u7684 Read View \u91cc\u7684\u5b57\u6bb5\u300d\u548c\u300c\u8bb0\u5f55\u4e2d\u7684\u4e24\u4e2a\u9690\u85cf\u5217\uff08trx_id \u548c roll_pointer\uff09\u300d\u7684\u6bd4\u5bf9\uff0c\u5982\u679c\u4e0d\u6ee1\u8db3\u53ef\u89c1\u884c\uff0c\u5c31\u4f1a\u987a\u7740  undo log \u7248\u672c\u94fe\u91cc\u627e\u5230\u6ee1\u8db3\u5176\u53ef\u89c1\u6027\u7684\u8bb0\u5f55\uff0c\u4ece\u800c\u63a7\u5236\u5e76\u53d1\u4e8b\u52a1\u8bbf\u95ee\u540c\u4e00\u4e2a\u8bb0\u5f55\u65f6\u7684\u884c\u4e3a\uff0c\u8fd9\u5c31\u53eb  MVCC\uff08\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\uff09\u3002\u5177\u4f53\u7684\u5b9e\u73b0\u53ef\u4ee5\u770b\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://xiaolincoding.com/mysql/transaction/mvcc.html#%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E6%9C%89%E5%93%AA%E4%BA%9B"},"\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u662f\u600e\u4e48\u5b9e\u73b0\u7684"),"\uff1f \u56e0\u6b64\uff0cundo log \u4e24\u5927\u4f5c\u7528\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5b9e\u73b0\u4e8b\u52a1\u56de\u6eda\uff0c\u4fdd\u969c\u4e8b\u52a1\u7684\u539f\u5b50\u6027"),"\u3002\u4e8b\u52a1\u5904\u7406\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u51fa\u73b0\u4e86\u9519\u8bef\u6216\u8005\u7528\u6237\u6267 \u884c\u4e86 ROLLBACK \u8bed\u53e5\uff0cMySQL \u53ef\u4ee5\u5229\u7528 undo log \u4e2d\u7684\u5386\u53f2\u6570\u636e\u5c06\u6570\u636e\u6062\u590d\u5230\u4e8b\u52a1\u5f00\u59cb\u4e4b\u524d\u7684\u72b6\u6001\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5b9e\u73b0 MVCC\uff08\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\uff09\u5173\u952e\u56e0\u7d20\u4e4b\u4e00"),"\u3002MVCC \u662f\u901a\u8fc7 ReadView + undo log \u5b9e\u73b0\u7684\u3002undo log \u4e3a\u6bcf\u6761\u8bb0\u5f55\u4fdd\u5b58\u591a\u4efd\u5386\u53f2\u6570\u636e\uff0cMySQL \u5728\u6267\u884c\u5feb\u7167\u8bfb\uff08\u666e\u901a  select \u8bed\u53e5\uff09\u7684\u65f6\u5019\uff0c\u4f1a\u6839\u636e\u4e8b\u52a1\u7684 Read View \u91cc\u7684\u4fe1\u606f\uff0c\u987a\u7740 undo log \u7684\u7248\u672c\u94fe\u627e\u5230\u6ee1\u8db3\u5176\u53ef\u89c1\u6027\u7684\u8bb0\u5f55\u3002")),(0,l.kt)("h3",{id:"\u56fe\u89e3mvcc"},"\u56fe\u89e3MVCC"),(0,l.kt)("p",null,"\u7eb2\u8981\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f53\u524d\u8bfb\u548c\u5feb\u7167\u8bfb\u7684\u6982\u5ff5"),(0,l.kt)("li",{parentName:"ul"},"\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b"),(0,l.kt)("li",{parentName:"ul"},"MVCC \u7684\u4e24\u4e2a\u6982\u5ff5",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u7248\u672c\u94fe"),(0,l.kt)("li",{parentName:"ul"},"\u8bfb\u89c6\u56fe\uff08\u8bfb\u5df2\u63d0\u4ea4\u548c\u53ef\u91cd\u590d\u8bfb\uff09")))),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706231641283",src:n(98666).Z,width:"4464",height:"9390"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f53\u7406\u89e3\u4e86\u4e0a\u8ff0\u6982\u5ff5\u53ef\u4ee5\u5bf9\u6b64\u4f8b\u5b50\u8fdb\u884c\u52a0\u6df1\u7406\u89e3")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220706220605710",src:n(55556).Z,width:"2124",height:"1147"})),(0,l.kt)("h3",{id:"innodb\u5b58\u50a8\u5f15\u64ce\u5bf9mvcc\u7684\u5b9e\u73b0"},"InnoDB\u5b58\u50a8\u5f15\u64ce\u5bf9MVCC\u7684\u5b9e\u73b0"),(0,l.kt)("p",null,"MVCC \u7684\u5b9e\u73b0\u4f9d\u8d56\u4e8e\uff1a\u9690\u85cf\u5b57\u6bb5\u3001Read View\u3001undo log\u3002\u5728\u5185\u90e8\u5b9e\u73b0\u4e2d\uff0cInnoDB \u901a\u8fc7\u6570\u636e\u884c\u7684 DB_TRX_ID \u548c Read View \u6765\u5224\u65ad\u6570\u636e\u7684\u53ef\u89c1\u6027\uff0c\u5982\u4e0d\u53ef\u89c1\uff0c\u5219\u901a\u8fc7\u6570\u636e\u884c\u7684 DB_ROLL_PTR \u627e\u5230 undo log \u4e2d\u7684\u5386\u53f2\u7248\u672c\u3002\u6bcf\u4e2a\u4e8b\u52a1\u8bfb\u5230\u7684\u6570\u636e\u7248\u672c\u53ef\u80fd\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u5728\u540c\u4e00\u4e2a\u4e8b\u52a1\u4e2d\uff0c\u7528\u6237\u53ea\u80fd\u770b\u5230\u8be5\u4e8b\u52a1\u521b\u5efa Read View \u4e4b\u524d\u5df2\u7ecf\u63d0\u4ea4\u7684\u4fee\u6539\u548c\u8be5\u4e8b\u52a1\u672c\u8eab\u505a\u7684\u4fee\u6539"),(0,l.kt)("h4",{id:"\u9690\u85cf\u5b57\u6bb5"},"\u9690\u85cf\u5b57\u6bb5"),(0,l.kt)("p",null,"\u5728\u5185\u90e8\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"InnoDB")," \u5b58\u50a8\u5f15\u64ce\u4e3a\u6bcf\u884c\u6570\u636e\u6dfb\u52a0\u4e86\u4e09\u4e2a ",(0,l.kt)("a",{parentName:"p",href:"https://dev.mysql.com/doc/refman/5.7/en/innodb-multi-versioning.html"},"\u9690\u85cf\u5b57\u6bb5")),(0,l.kt)("p",null,"\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"DB_TRX_ID\uff086\u5b57\u8282\uff09"),"\uff1a\u8868\u793a\u6700\u540e\u4e00\u6b21\u63d2\u5165\u6216\u66f4\u65b0\u8be5\u884c\u7684\u4e8b\u52a1 id\u3002\u6b64\u5916\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"delete")," \u64cd\u4f5c\u5728\u5185\u90e8\u88ab\u89c6\u4e3a\u66f4\u65b0\uff0c\u53ea\u4e0d\u8fc7\u4f1a\u5728\u8bb0\u5f55\u5934 ",(0,l.kt)("inlineCode",{parentName:"li"},"Record header")," \u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"deleted_flag")," \u5b57\u6bb5\u5c06\u5176\u6807\u8bb0\u4e3a\u5df2\u5220\u9664"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"DB_ROLL_PTR\uff087\u5b57\u8282\uff09")," \u56de\u6eda\u6307\u9488\uff0c\u6307\u5411\u8be5\u884c\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"undo log")," \u3002\u5982\u679c\u8be5\u884c\u672a\u88ab\u66f4\u65b0\uff0c\u5219\u4e3a\u7a7a"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"DB_ROW_ID\uff086\u5b57\u8282\uff09"),"\uff1a\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u4e3b\u952e\u4e14\u8be5\u8868\u6ca1\u6709\u552f\u4e00\u975e\u7a7a\u7d22\u5f15\u65f6\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"InnoDB")," \u4f1a\u4f7f\u7528\u8be5 id \u6765\u751f\u6210\u805a\u7c07\u7d22\u5f15")),(0,l.kt)("h4",{id:"readview"},"ReadView"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"class ReadView {\n  /* ... */\nprivate:\n  trx_id_t m_low_limit_id;      /* \u5927\u4e8e\u7b49\u4e8e\u8fd9\u4e2a ID \u7684\u4e8b\u52a1\u5747\u4e0d\u53ef\u89c1 */\n\n  trx_id_t m_up_limit_id;       /* \u5c0f\u4e8e\u8fd9\u4e2a ID \u7684\u4e8b\u52a1\u5747\u53ef\u89c1 */\n\n  trx_id_t m_creator_trx_id;    /* \u521b\u5efa\u8be5 Read View \u7684\u4e8b\u52a1ID */\n\n  trx_id_t m_low_limit_no;      /* \u4e8b\u52a1 Number, \u5c0f\u4e8e\u8be5 Number \u7684 Undo Logs \u5747\u53ef\u4ee5\u88ab Purge */\n\n  ids_t m_ids;                  /* \u521b\u5efa Read View \u65f6\u7684\u6d3b\u8dc3\u4e8b\u52a1\u5217\u8868 */\n\n  m_closed;                     /* \u6807\u8bb0 Read View \u662f\u5426 close */\n}\n")),(0,l.kt)("p",null,"Read View\u4e3b\u8981\u662f\u7528\u6765\u505a\u53ef\u89c1\u6027\u5224\u65ad\uff0c\u91cc\u9762\u4fdd\u5b58\u4e86 \u201c\u5f53\u524d\u5bf9\u672c\u4e8b\u52a1\u4e0d\u53ef\u89c1\u7684\u5176\u4ed6\u6d3b\u8dc3\u4e8b\u52a1\u201d"),(0,l.kt)("p",null,"\u4e3b\u8981\u6709\u4ee5\u4e0b\u5b57\u6bb5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"m_low_limit_id"),"\uff1a\u76ee\u524d\u51fa\u73b0\u8fc7\u7684\u6700\u5927\u7684\u4e8b\u52a1 ID+1\uff0c\u5373\u4e0b\u4e00\u4e2a\u5c06\u88ab\u5206\u914d\u7684\u4e8b\u52a1 ID\u3002\u5927\u4e8e\u7b49\u4e8e\u8fd9\u4e2a ID \u7684\u6570\u636e\u7248\u672c\u5747\u4e0d\u53ef\u89c1"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"m_up_limit_id"),"\uff1a\u6d3b\u8dc3\u4e8b\u52a1\u5217\u8868 ",(0,l.kt)("inlineCode",{parentName:"li"},"m_ids")," \u4e2d\u6700\u5c0f\u7684\u4e8b\u52a1 ID\uff0c\u5982\u679c ",(0,l.kt)("inlineCode",{parentName:"li"},"m_ids")," \u4e3a\u7a7a\uff0c\u5219 ",(0,l.kt)("inlineCode",{parentName:"li"},"m_up_limit_id")," \u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"m_low_limit_id"),"\u3002\u5c0f\u4e8e\u8fd9\u4e2a ID \u7684\u6570\u636e\u7248\u672c\u5747\u53ef\u89c1"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"m_ids"),"\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"Read View")," \u521b\u5efa\u65f6\u5176\u4ed6\u672a\u63d0\u4ea4\u7684\u6d3b\u8dc3\u4e8b\u52a1 ID \u5217\u8868\u3002\u521b\u5efa ",(0,l.kt)("inlineCode",{parentName:"li"},"Read View"),"\u65f6\uff0c\u5c06\u5f53\u524d\u672a\u63d0\u4ea4\u4e8b\u52a1 ID \u8bb0\u5f55\u4e0b\u6765\uff0c\u540e\u7eed\u5373\u4f7f\u5b83\u4eec\u4fee\u6539\u4e86\u8bb0\u5f55\u884c\u7684\u503c\uff0c\u5bf9\u4e8e\u5f53\u524d\u4e8b\u52a1\u4e5f\u662f\u4e0d\u53ef\u89c1\u7684\u3002",(0,l.kt)("inlineCode",{parentName:"li"},"m_ids")," \u4e0d\u5305\u62ec\u5f53\u524d\u4e8b\u52a1\u81ea\u5df1\u548c\u5df2\u63d0\u4ea4\u7684\u4e8b\u52a1\uff08\u6b63\u5728\u5185\u5b58\u4e2d\uff09"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"m_creator_trx_id"),"\uff1a\u521b\u5efa\u8be5 ",(0,l.kt)("inlineCode",{parentName:"li"},"Read View")," \u7684\u4e8b\u52a1 ID")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e8b\u52a1\u53ef\u89c1\u6027\u793a\u610f\u56fe")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220711215228405",src:n(88221).Z,width:"850",height:"343"})),(0,l.kt)("h4",{id:"undo-log-1"},"undo-log"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"undo log")," \u4e3b\u8981\u6709\u4e24\u4e2a\u4f5c\u7528\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f53\u4e8b\u52a1\u56de\u6eda\u65f6\u7528\u4e8e\u5c06\u6570\u636e\u6062\u590d\u5230\u4fee\u6539\u524d\u7684\u6837\u5b50"),(0,l.kt)("li",{parentName:"ul"},"\u53e6\u4e00\u4e2a\u4f5c\u7528\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"MVCC")," \uff0c\u5f53\u8bfb\u53d6\u8bb0\u5f55\u65f6\uff0c\u82e5\u8be5\u8bb0\u5f55\u88ab\u5176\u4ed6\u4e8b\u52a1\u5360\u7528\u6216\u5f53\u524d\u7248\u672c\u5bf9\u8be5\u4e8b\u52a1\u4e0d\u53ef\u89c1\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"li"},"undo log")," \u8bfb\u53d6\u4e4b\u524d\u7684\u7248\u672c\u6570\u636e\uff0c\u4ee5\u6b64\u5b9e\u73b0\u975e\u9501\u5b9a\u8bfb")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5728 ",(0,l.kt)("inlineCode",{parentName:"strong"},"InnoDB")," \u5b58\u50a8\u5f15\u64ce\u4e2d ",(0,l.kt)("inlineCode",{parentName:"strong"},"undo log")," \u5206\u4e3a\u4e24\u79cd\uff1a ",(0,l.kt)("inlineCode",{parentName:"strong"},"insert undo log")," \u548c ",(0,l.kt)("inlineCode",{parentName:"strong"},"update undo log"),"\uff1a")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"strong"},"insert undo log"))," \uff1a\u6307\u5728 ",(0,l.kt)("inlineCode",{parentName:"li"},"insert")," \u64cd\u4f5c\u4e2d\u4ea7\u751f\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"undo log"),"\u3002\u56e0\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"insert")," \u64cd\u4f5c\u7684\u8bb0\u5f55\u53ea\u5bf9\u4e8b\u52a1\u672c\u8eab\u53ef\u89c1\uff0c\u5bf9\u5176\u4ed6\u4e8b\u52a1\u4e0d\u53ef\u89c1\uff0c\u6545\u8be5 ",(0,l.kt)("inlineCode",{parentName:"li"},"undo log")," \u53ef\u4ee5\u5728\u4e8b\u52a1\u63d0\u4ea4\u540e\u76f4\u63a5\u5220\u9664\u3002\u4e0d\u9700\u8981\u8fdb\u884c ",(0,l.kt)("inlineCode",{parentName:"li"},"purge")," \u64cd\u4f5c")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("inlineCode",{parentName:"strong"},"insert")," \u65f6\u7684\u6570\u636e\u521d\u59cb\u72b6\u6001\uff1a")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220711215325716",src:n(60270).Z,width:"850",height:"363"})),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"strong"},"update undo log"))," \uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"update")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"li"},"delete")," \u64cd\u4f5c\u4e2d\u4ea7\u751f\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"undo log"),"\u3002\u8be5 ",(0,l.kt)("inlineCode",{parentName:"li"},"undo log"),"\u53ef\u80fd\u9700\u8981\u63d0\u4f9b ",(0,l.kt)("inlineCode",{parentName:"li"},"MVCC")," \u673a\u5236\uff0c\u56e0\u6b64\u4e0d\u80fd\u5728\u4e8b\u52a1\u63d0\u4ea4\u65f6\u5c31\u8fdb\u884c\u5220\u9664\u3002\u63d0\u4ea4\u65f6\u653e\u5165 ",(0,l.kt)("inlineCode",{parentName:"li"},"undo log")," \u94fe\u8868\uff0c\u7b49\u5f85 ",(0,l.kt)("inlineCode",{parentName:"li"},"purge\u7ebf\u7a0b")," \u8fdb\u884c\u6700\u540e\u7684\u5220\u9664")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6570\u636e\u7b2c\u4e00\u6b21\u88ab\u4fee\u6539\u65f6\uff1a")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220711215339796",src:n(76892).Z,width:"850",height:"445"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6570\u636e\u7b2c\u4e8c\u6b21\u88ab\u4fee\u6539\u65f6\uff1a")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220711215345905",src:n(36404).Z,width:"850",height:"518"})),(0,l.kt)("p",null,"\u4e0d\u540c\u4e8b\u52a1\u6216\u8005\u76f8\u540c\u4e8b\u52a1\u7684\u5bf9\u540c\u4e00\u8bb0\u5f55\u884c\u7684\u4fee\u6539\uff0c\u4f1a\u4f7f\u8be5\u8bb0\u5f55\u884c\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"undo log")," \u6210\u4e3a\u4e00\u6761\u94fe\u8868\uff0c\u94fe\u9996\u5c31\u662f\u6700\u65b0\u7684\u8bb0\u5f55\uff0c\u94fe\u5c3e\u5c31\u662f\u6700\u65e9\u7684\u65e7\u8bb0\u5f55"),(0,l.kt)("h4",{id:"\u6570\u636e\u53ef\u89c1\u6027\u7b97\u6cd5"},"\u6570\u636e\u53ef\u89c1\u6027\u7b97\u6cd5"),(0,l.kt)("p",null,"\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"InnoDB")," \u5b58\u50a8\u5f15\u64ce\u4e2d\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u4e8b\u52a1\u540e\uff0c\u6267\u884c\u6bcf\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"select")," \u8bed\u53e5\u524d\uff0c\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u5feb\u7167\uff08Read View\uff09\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5feb\u7167\u4e2d\u4fdd\u5b58\u4e86\u5f53\u524d\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u6b63\u5904\u4e8e\u6d3b\u8dc3\uff08\u6ca1\u6709 commit\uff09\u7684\u4e8b\u52a1\u7684 ID \u53f7"),"\u3002\u5176\u5b9e\u7b80\u5355\u7684\u8bf4\u4fdd\u5b58\u7684\u662f\u7cfb\u7edf\u4e2d\u5f53\u524d\u4e0d\u5e94\u8be5\u88ab\u672c\u4e8b\u52a1\u770b\u5230\u7684\u5176\u4ed6\u4e8b\u52a1 ID \u5217\u8868\uff08\u5373 m_ids\uff09\u3002\u5f53\u7528\u6237\u5728\u8fd9\u4e2a\u4e8b\u52a1\u4e2d\u8981\u8bfb\u53d6\u67d0\u4e2a\u8bb0\u5f55\u884c\u7684\u65f6\u5019\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"InnoDB")," \u4f1a\u5c06\u8be5\u8bb0\u5f55\u884c\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"DB_TRX_ID")," \u4e0e ",(0,l.kt)("inlineCode",{parentName:"p"},"Read View")," \u4e2d\u7684\u4e00\u4e9b\u53d8\u91cf\u53ca\u5f53\u524d\u4e8b\u52a1 ID \u8fdb\u884c\u6bd4\u8f83\uff0c\u5224\u65ad\u662f\u5426\u6ee1\u8db3\u53ef\u89c1\u6027\u6761\u4ef6"),(0,l.kt)("p",null,"\u5177\u4f53\u7684\u6bd4\u8f83\u7b97\u6cd5\u5982\u4e0b"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220711215410118",src:n(80947).Z,width:"850",height:"596"})),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u8bb0\u5f55 DB_TRX_ID < m_up_limit_id\uff0c\u90a3\u4e48\u8868\u660e\u6700\u65b0\u4fee\u6539\u8be5\u884c\u7684\u4e8b\u52a1\uff08DB_TRX_ID\uff09\u5728\u5f53\u524d\u4e8b\u52a1\u521b\u5efa\u5feb\u7167\u4e4b\u524d\u5c31\u63d0\u4ea4\u4e86\uff0c\u6240\u4ee5\u8be5\u8bb0\u5f55\u884c\u7684\u503c\u5bf9\u5f53\u524d\u4e8b\u52a1\u662f\u53ef\u89c1\u7684"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c DB_TRX_ID >= m_low_limit_id\uff0c\u90a3\u4e48\u8868\u660e\u6700\u65b0\u4fee\u6539\u8be5\u884c\u7684\u4e8b\u52a1\uff08DB_TRX_ID\uff09\u5728\u5f53\u524d\u4e8b\u52a1\u521b\u5efa\u5feb\u7167\u4e4b\u540e\u624d\u4fee\u6539\u8be5\u884c\uff0c\u6240\u4ee5\u8be5\u8bb0\u5f55\u884c\u7684\u503c\u5bf9\u5f53\u524d\u4e8b\u52a1\u4e0d\u53ef\u89c1\u3002\u8df3\u5230\u6b65\u9aa4 5"),(0,l.kt)("li",{parentName:"ol"},"m_ids \u4e3a\u7a7a\uff0c\u5219\u8868\u660e\u5728\u5f53\u524d\u4e8b\u52a1\u521b\u5efa\u5feb\u7167\u4e4b\u524d\uff0c\u4fee\u6539\u8be5\u884c\u7684\u4e8b\u52a1\u5c31\u5df2\u7ecf\u63d0\u4ea4\u4e86\uff0c\u6240\u4ee5\u8be5\u8bb0\u5f55\u884c\u7684\u503c\u5bf9\u5f53\u524d\u4e8b\u52a1\u662f\u53ef\u89c1\u7684"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c m_up_limit_id <= DB_TRX_ID <  m_low_limit_id\uff0c\u8868\u660e\u6700\u65b0\u4fee\u6539\u8be5\u884c\u7684\u4e8b\u52a1\uff08DB_TRX_ID\uff09\u5728\u5f53\u524d\u4e8b\u52a1\u521b\u5efa\u5feb\u7167\u7684\u65f6\u5019\u53ef\u80fd\u5904\u4e8e\u201c\u6d3b\u52a8\u72b6\u6001\u201d\u6216\u8005\u201c\u5df2\u63d0\u4ea4\u72b6\u6001\u201d\uff1b\u6240\u4ee5\u5c31\u8981\u5bf9\u6d3b\u8dc3\u4e8b\u52a1\u5217\u8868 m_ids \u8fdb\u884c\u67e5\u627e\uff08\u6e90\u7801\u4e2d\u662f\u7528\u7684\u4e8c\u5206\u67e5\u627e\uff0c\u56e0\u4e3a\u662f\u6709\u5e8f\u7684\uff09",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u5728\u6d3b\u8dc3\u4e8b\u52a1\u5217\u8868 m_ids \u4e2d\u80fd\u627e\u5230  DB_TRX_ID\uff0c\u8868\u660e\uff1a\u2460 \u5728\u5f53\u524d\u4e8b\u52a1\u521b\u5efa\u5feb\u7167\u524d\uff0c\u8be5\u8bb0\u5f55\u884c\u7684\u503c\u88ab\u4e8b\u52a1 ID \u4e3a DB_TRX_ID \u7684\u4e8b\u52a1\u4fee\u6539\u4e86\uff0c\u4f46\u6ca1\u6709\u63d0\u4ea4\uff1b\u6216\u8005 \u2461  \u5728\u5f53\u524d\u4e8b\u52a1\u521b\u5efa\u5feb\u7167\u540e\uff0c\u8be5\u8bb0\u5f55\u884c\u7684\u503c\u88ab\u4e8b\u52a1 ID \u4e3a DB_TRX_ID \u7684\u4e8b\u52a1\u4fee\u6539\u4e86\u3002\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e2a\u8bb0\u5f55\u884c\u7684\u503c\u5bf9\u5f53\u524d\u4e8b\u52a1\u90fd\u662f\u4e0d\u53ef\u89c1\u7684\u3002\u8df3\u5230\u6b65\u9aa4 5"),(0,l.kt)("li",{parentName:"ul"},"\u5728\u6d3b\u8dc3\u4e8b\u52a1\u5217\u8868\u4e2d\u627e\u4e0d\u5230\uff0c\u5219\u8868\u660e\u201cid \u4e3a trx_id \u7684\u4e8b\u52a1\u201d\u5728\u4fee\u6539\u201c\u8be5\u8bb0\u5f55\u884c\u7684\u503c\u201d\u540e\uff0c\u5728\u201c\u5f53\u524d\u4e8b\u52a1\u201d\u521b\u5efa\u5feb\u7167\u524d\u5c31\u5df2\u7ecf\u63d0\u4ea4\u4e86\uff0c\u6240\u4ee5\u8bb0\u5f55\u884c\u5bf9\u5f53\u524d\u4e8b\u52a1\u53ef\u89c1"))),(0,l.kt)("li",{parentName:"ol"},"\u5728\u8be5\u8bb0\u5f55\u884c\u7684 DB_ROLL_PTR \u6307\u9488\u6240\u6307\u5411\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"undo log")," \u53d6\u51fa\u5feb\u7167\u8bb0\u5f55\uff0c\u7528\u5feb\u7167\u8bb0\u5f55\u7684 DB_TRX_ID \u8df3\u5230\u6b65\u9aa4 1 \u91cd\u65b0\u5f00\u59cb\u5224\u65ad\uff0c\u76f4\u5230\u627e\u5230\u6ee1\u8db3\u7684\u5feb\u7167\u7248\u672c\u6216\u8fd4\u56de\u7a7a")),(0,l.kt)("h3",{id:"\u8bfb\u5199\u5206\u79bb\u4e86\u89e3\u5417"},"\u8bfb\u5199\u5206\u79bb\u4e86\u89e3\u5417\uff1f"),(0,l.kt)("p",null,"\u89c1\u540d\u601d\u610f\uff0c\u6839\u636e\u8bfb\u5199\u5206\u79bb\u7684\u540d\u5b57\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u77e5\u9053\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u8bfb\u5199\u5206\u79bb\u4e3b\u8981\u662f\u4e3a\u4e86\u5c06\u5bf9\u6570\u636e\u5e93\u7684\u8bfb\u5199\u64cd\u4f5c\u5206\u6563\u5230\u4e0d\u540c\u7684\u6570\u636e\u5e93\u8282\u70b9\u4e0a\u3002")," \u8fd9\u6837\u7684\u8bdd\uff0c\u5c31\u80fd\u591f\u5c0f\u5e45\u63d0\u5347\u5199\u6027\u80fd\uff0c\u5927\u5e45\u63d0\u5347\u8bfb\u6027\u80fd\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617163230641",src:n(44915).Z,width:"573",height:"414"})),(0,l.kt)("p",null,"\u4e0d\u8bba\u662f\u4f7f\u7528\u54ea\u4e00\u79cd\u8bfb\u5199\u5206\u79bb\u5177\u4f53\u7684\u5b9e\u73b0\u65b9\u6848\uff0c\u60f3\u8981\u5b9e\u73b0\u8bfb\u5199\u5206\u79bb\u4e00\u822c\u5305\u542b\u5982\u4e0b\u51e0\u6b65\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u90e8\u7f72\u591a\u53f0\u6570\u636e\u5e93\uff0c\u9009\u62e9\u5176\u4e2d\u7684\u4e00\u53f0\u4f5c\u4e3a\u4e3b\u6570\u636e\u5e93\uff0c\u5176\u4ed6\u7684\u4e00\u53f0\u6216\u8005\u591a\u53f0\u4f5c\u4e3a\u4ece\u6570\u636e\u5e93\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u4fdd\u8bc1\u4e3b\u6570\u636e\u5e93\u548c\u4ece\u6570\u636e\u5e93\u4e4b\u95f4\u7684\u6570\u636e\u662f\u5b9e\u65f6\u540c\u6b65\u7684\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4e5f\u5c31\u662f\u6211\u4eec\u5e38\u8bf4\u7684",(0,l.kt)("strong",{parentName:"li"},"\u4e3b\u4ece\u590d\u5236"),"\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u7cfb\u7edf\u5c06\u5199\u8bf7\u6c42\u4ea4\u7ed9\u4e3b\u6570\u636e\u5e93\u5904\u7406\uff0c\u8bfb\u8bf7\u6c42\u4ea4\u7ed9\u4ece\u6570\u636e\u5e93\u5904\u7406\u3002")),(0,l.kt)("p",null,"\u843d\u5b9e\u5230\u9879\u76ee\u672c\u8eab\u7684\u8bdd\uff0c\u5e38\u7528\u7684\u65b9\u5f0f\u6709\u4e24\u79cd\uff1a"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1.\u4ee3\u7406\u65b9\u5f0f")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617163247933",src:n(71242).Z,width:"573",height:"504"})),(0,l.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u5728\u5e94\u7528\u548c\u6570\u636e\u4e2d\u95f4\u52a0\u4e86\u4e00\u4e2a\u4ee3\u7406\u5c42\u3002\u5e94\u7528\u7a0b\u5e8f\u6240\u6709\u7684\u6570\u636e\u8bf7\u6c42\u90fd\u4ea4\u7ed9\u4ee3\u7406\u5c42\u5904\u7406\uff0c\u4ee3\u7406\u5c42\u8d1f\u8d23\u5206\u79bb\u8bfb\u5199\u8bf7\u6c42\uff0c\u5c06\u5b83\u4eec\u8def\u7531\u5230\u5bf9\u5e94\u7684\u6570\u636e\u5e93\u4e2d\u3002"),(0,l.kt)("p",null,"\u63d0\u4f9b\u7c7b\u4f3c\u529f\u80fd\u7684\u4e2d\u95f4\u4ef6\u6709 ",(0,l.kt)("strong",{parentName:"p"},"MySQL Router"),"\uff08\u5b98\u65b9\uff09\u3001",(0,l.kt)("strong",{parentName:"p"},"Atlas"),"\uff08\u57fa\u4e8e MySQL Proxy\uff09\u3001",(0,l.kt)("strong",{parentName:"p"},"Maxscale"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"MyCat"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2.\u7ec4\u4ef6\u65b9\u5f0f")),(0,l.kt)("p",null,"\u5728\u8fd9\u79cd\u65b9\u5f0f\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5f15\u5165\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u6765\u5e2e\u52a9\u6211\u4eec\u8bfb\u5199\u8bf7\u6c42\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e5f\u662f\u6211\u6bd4\u8f83\u63a8\u8350\u7684\u4e00\u79cd\u65b9\u5f0f\u3002\u8fd9\u79cd\u65b9\u5f0f\u76ee\u524d\u5728\u5404\u79cd\u4e92\u8054\u7f51\u516c\u53f8\u4e2d\u7528\u7684\u6700\u591a\u7684\uff0c\u76f8\u5173\u7684\u5b9e\u9645\u7684\u6848\u4f8b\u4e5f\u975e\u5e38\u591a\u3002\u5982\u679c\u4f60\u8981\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\u7684\u8bdd\uff0c\u63a8\u8350\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"sharding-jdbc")," \uff0c\u76f4\u63a5\u5f15\u5165 jar \u5305\u5373\u53ef\u4f7f\u7528\uff0c\u975e\u5e38\u65b9\u4fbf\u3002\u540c\u65f6\uff0c\u4e5f\u8282\u7701\u4e86\u5f88\u591a\u8fd0\u7ef4\u7684\u6210\u672c\u3002"),(0,l.kt)("h3",{id:"\u4e3b\u4ece\u590d\u5236\u539f\u7406\u4e86\u89e3\u4e48"},"\u4e3b\u4ece\u590d\u5236\u539f\u7406\u4e86\u89e3\u4e48\uff1f"),(0,l.kt)("p",null,"MySQL binlog(binary log \u5373\u4e8c\u8fdb\u5236\u65e5\u5fd7\u6587\u4ef6) \u4e3b\u8981\u8bb0\u5f55\u4e86 MySQL \u6570\u636e\u5e93\u4e2d\u6570\u636e\u7684\u6240\u6709\u53d8\u5316(\u6570\u636e\u5e93\u6267\u884c\u7684\u6240\u6709 DDL \u548c DML \u8bed\u53e5)\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u6839\u636e\u4e3b\u5e93\u7684 MySQL binlog \u65e5\u5fd7\u5c31\u80fd\u591f\u5c06\u4e3b\u5e93\u7684\u6570\u636e\u540c\u6b65\u5230\u4ece\u5e93\u4e2d\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617163123694",src:n(2593).Z,width:"1720",height:"1234"})),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u4e3b\u5e93\u5c06\u6570\u636e\u5e93\u4e2d\u6570\u636e\u7684\u53d8\u5316\u5199\u5165\u5230 binlog"),(0,l.kt)("li",{parentName:"ol"},"\u4ece\u5e93\u8fde\u63a5\u4e3b\u5e93"),(0,l.kt)("li",{parentName:"ol"},"\u4ece\u5e93\u4f1a\u521b\u5efa\u4e00\u4e2a I/O \u7ebf\u7a0b\u5411\u4e3b\u5e93\u8bf7\u6c42\u66f4\u65b0\u7684 binlog"),(0,l.kt)("li",{parentName:"ol"},"\u4e3b\u5e93\u4f1a\u521b\u5efa\u4e00\u4e2a binlog dump \u7ebf\u7a0b\u6765\u53d1\u9001 binlog \uff0c\u4ece\u5e93\u4e2d\u7684 I/O \u7ebf\u7a0b\u8d1f\u8d23\u63a5\u6536"),(0,l.kt)("li",{parentName:"ol"},"\u4ece\u5e93\u7684 I/O \u7ebf\u7a0b\u5c06\u63a5\u6536\u7684 binlog \u5199\u5165\u5230 relay log \u4e2d\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u4ece\u5e93\u7684 SQL \u7ebf\u7a0b\u8bfb\u53d6 relay log \u540c\u6b65\u6570\u636e\u672c\u5730\uff08\u4e5f\u5c31\u662f\u518d\u6267\u884c\u4e00\u904d SQL \uff09\u3002")),(0,l.kt)("p",null,"\u600e\u4e48\u6837\uff1f\u770b\u4e86\u6211\u5bf9\u4e3b\u4ece\u590d\u5236\u8fd9\u4e2a\u8fc7\u7a0b\u7684\u8bb2\u89e3\uff0c\u4f60\u5e94\u8be5\u641e\u660e\u767d\u4e86\u5427!"),(0,l.kt)("p",null,"\u4f60\u4e00\u822c\u770b\u5230 binlog \u5c31\u8981\u60f3\u5230\u4e3b\u4ece\u590d\u5236\u3002\u5f53\u7136\uff0c\u9664\u4e86\u4e3b\u4ece\u590d\u5236\u4e4b\u5916\uff0cbinlog \u8fd8\u80fd\u5e2e\u52a9\u6211\u4eec\u5b9e\u73b0\u6570\u636e\u6062\u590d\u3002"),(0,l.kt)("p",null,"\ud83c\udf08 \u62d3\u5c55\u4e00\u4e0b\uff1a"),(0,l.kt)("p",null,"\u4e0d\u77e5\u9053\u5927\u5bb6\u6709\u6ca1\u6709\u4f7f\u7528\u8fc7\u963f\u91cc\u5f00\u6e90\u7684\u4e00\u4e2a\u53eb\u505a canal \u7684\u5de5\u5177\u3002\u8fd9\u4e2a\u5de5\u5177\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5b9e\u73b0 MySQL \u548c\u5176\u4ed6\u6570\u636e\u6e90\u6bd4\u5982 Elasticsearch \u6216\u8005\u53e6\u5916\u4e00\u53f0 MySQL  \u6570\u636e\u5e93\u4e4b\u95f4\u7684\u6570\u636e\u540c\u6b65\u3002\u5f88\u663e\u7136\uff0c\u8fd9\u4e2a\u5de5\u5177\u7684\u5e95\u5c42\u539f\u7406\u80af\u5b9a\u4e5f\u662f\u4f9d\u8d56 binlog\u3002canal \u7684\u539f\u7406\u5c31\u662f\u6a21\u62df MySQL \u4e3b\u4ece\u590d\u5236\u7684\u8fc7\u7a0b\uff0c\u89e3\u6790  binlog \u5c06\u6570\u636e\u540c\u6b65\u5230\u5176\u4ed6\u7684\u6570\u636e\u6e90\u3002"),(0,l.kt)("p",null,"\u53e6\u5916\uff0c\u50cf\u54b1\u4eec\u5e38\u7528\u7684\u5206\u5e03\u5f0f\u7f13\u5b58\u7ec4\u4ef6 Redis \u4e5f\u662f\u901a\u8fc7\u4e3b\u4ece\u590d\u5236\u5b9e\u73b0\u7684\u8bfb\u5199\u5206\u79bb\u3002"),(0,l.kt)("p",null,"\ud83c\udf15 \u7b80\u5355\u603b\u7ed3\u4e00\u4e0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"MySQL \u4e3b\u4ece\u590d\u5236\u662f\u4f9d\u8d56\u4e8e binlog \u3002\u53e6\u5916\uff0c\u5e38\u89c1\u7684\u4e00\u4e9b\u540c\u6b65 MySQL \u6570\u636e\u5230\u5176\u4ed6\u6570\u636e\u6e90\u7684\u5de5\u5177\uff08\u6bd4\u5982 canal\uff09\u7684\u5e95\u5c42\u4e00\u822c\u4e5f\u662f\u4f9d\u8d56 binlog \u3002")),(0,l.kt)("h3",{id:"\u6570\u636e\u5e93\u5982\u4f55\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501"},"\u6570\u636e\u5e93\u5982\u4f55\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501"),(0,l.kt)("h4",{id:"\u57fa\u4e8e\u6570\u636e\u5e93\u8868\u9501\u8868\u5f88\u5c11\u4f7f\u7528"},"\u57fa\u4e8e\u6570\u636e\u5e93\u8868\uff08\u9501\u8868\uff0c\u5f88\u5c11\u4f7f\u7528\uff09"),(0,l.kt)("p",null,"\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u53ef\u80fd\u5c31\u662f\u76f4\u63a5\u521b\u5efa\u4e00\u5f20\u9501\u8868\uff0c\u7136\u540e\u901a\u8fc7\u64cd\u4f5c\u8be5\u8868\u4e2d\u7684\u6570\u636e\u6765\u5b9e\u73b0\u4e86\u3002\u5f53\u6211\u4eec\u60f3\u8981\u83b7\u5f97\u9501\u7684\u65f6\u5019\uff0c\u5c31\u53ef\u4ee5\u5728\u8be5\u8868\u4e2d\u589e\u52a0\u4e00\u6761\u8bb0\u5f55\uff0c\u60f3\u8981\u91ca\u653e\u9501\u7684\u65f6\u5019\u5c31\u5220\u9664\u8fd9\u6761\u8bb0\u5f55\u3002"),(0,l.kt)("p",null,"\u4e3a\u4e86\u66f4\u597d\u7684\u6f14\u793a\uff0c\u6211\u4eec\u5148\u521b\u5efa\u4e00\u5f20\u6570\u636e\u5e93\u8868\uff0c\u53c2\u8003\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE database_lock (\n    `id` BIGINT NOT NULL AUTO_INCREMENT,\n    `resource` int NOT NULL COMMENT '\u9501\u5b9a\u7684\u8d44\u6e90',\n    `description` varchar(1024) NOT NULL DEFAULT \"\" COMMENT '\u63cf\u8ff0',\n    PRIMARY KEY (id),\n    UNIQUE KEY uiq_idx_resource (resource)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='\u6570\u636e\u5e93\u5206\u5e03\u5f0f\u9501\u8868';\n")),(0,l.kt)("p",null,"\u5f53\u6211\u4eec\u60f3\u8981\u83b7\u5f97\u9501\u65f6\uff0c\u53ef\u4ee5\u63d2\u5165\u4e00\u6761\u6570\u636e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO database_lock(resource, description) VALUES (1, 'lock');\n")),(0,l.kt)("p",null,"\u5f53\u9700\u8981\u91ca\u653e\u9501\u7684\u65f6\uff0c\u53ef\u4ee5\u5220\u9664\u8fd9\u6761\u6570\u636e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"DELETE FROM database_lock WHERE resource=1;\n")),(0,l.kt)("h4",{id:"\u57fa\u4e8e\u60b2\u89c2\u9501"},"\u57fa\u4e8e\u60b2\u89c2\u9501"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u60b2\u89c2\u9501\u5b9e\u73b0\u601d\u8def"),"\uff1f"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5728\u5bf9\u4efb\u610f\u8bb0\u5f55\u8fdb\u884c\u4fee\u6539\u524d\uff0c\u5148\u5c1d\u8bd5\u4e3a\u8be5\u8bb0\u5f55\u52a0\u4e0a\u6392\u4ed6\u9501\uff08exclusive locking\uff09\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u52a0\u9501\u5931\u8d25\uff0c\u8bf4\u660e\u8be5\u8bb0\u5f55\u6b63\u5728\u88ab\u4fee\u6539\uff0c\u90a3\u4e48\u5f53\u524d\u67e5\u8be2\u53ef\u80fd\u8981\u7b49\u5f85\u6216\u8005\u629b\u51fa\u5f02\u5e38\u3002 \u5177\u4f53\u54cd\u5e94\u65b9\u5f0f\u7531\u5f00\u53d1\u8005\u6839\u636e\u5b9e\u9645\u9700\u8981\u51b3\u5b9a\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u6210\u529f\u52a0\u9501\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u5bf9\u8bb0\u5f55\u505a\u4fee\u6539\uff0c\u4e8b\u52a1\u5b8c\u6210\u540e\u5c31\u4f1a\u89e3\u9501\u4e86\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5176\u95f4\u5982\u679c\u6709\u5176\u4ed6\u5bf9\u8be5\u8bb0\u5f55\u505a\u4fee\u6539\u6216\u52a0\u6392\u4ed6\u9501\u7684\u64cd\u4f5c\uff0c\u90fd\u4f1a\u7b49\u5f85\u6211\u4eec\u89e3\u9501\u6216\u76f4\u63a5\u629b\u51fa\u5f02\u5e38\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4ee5MySQL InnoDB\u4e2d\u4f7f\u7528\u60b2\u89c2\u9501\u4e3a\u4f8b"),"\uff1f"),(0,l.kt)("p",null,"\u8981\u4f7f\u7528\u60b2\u89c2\u9501\uff0c\u6211\u4eec\u5fc5\u987b\u5173\u95edmysql\u6570\u636e\u5e93\u7684\u81ea\u52a8\u63d0\u4ea4\u5c5e\u6027\uff0c\u56e0\u4e3aMySQL\u9ed8\u8ba4\u4f7f\u7528autocommit\u6a21\u5f0f\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u4f60\u6267\u884c\u4e00\u4e2a\u66f4\u65b0\u64cd\u4f5c\u540e\uff0cMySQL\u4f1a\u7acb\u523b\u5c06\u7ed3\u679c\u8fdb\u884c\u63d0\u4ea4\u3002set autocommit=0;"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"//0.\u5f00\u59cb\u4e8b\u52a1\nbegin;/begin work;/start transaction; (\u4e09\u8005\u9009\u4e00\u5c31\u53ef\u4ee5)\n//1.\u67e5\u8be2\u51fa\u5546\u54c1\u4fe1\u606f\nselect status from t_goods where id=1 for update;\n//2.\u6839\u636e\u5546\u54c1\u4fe1\u606f\u751f\u6210\u8ba2\u5355\ninsert into t_orders (id,goods_id) values (null,1);\n//3.\u4fee\u6539\u5546\u54c1status\u4e3a2\nupdate t_goods set status=2;\n//4.\u63d0\u4ea4\u4e8b\u52a1\ncommit;/commit work;\n")),(0,l.kt)("p",null,"\u4e0a\u9762\u7684\u67e5\u8be2\u8bed\u53e5\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"select\u2026for update"),"\u7684\u65b9\u5f0f\uff0c\u8fd9\u6837\u5c31\u901a\u8fc7\u5f00\u542f\u6392\u4ed6\u9501\u7684\u65b9\u5f0f\u5b9e\u73b0\u4e86\u60b2\u89c2\u9501\u3002\u6b64\u65f6\u5728t_goods\u8868\u4e2d\uff0cid\u4e3a1\u7684 \u90a3\u6761\u6570\u636e\u5c31\u88ab\u6211\u4eec\u9501\u5b9a\u4e86\uff0c\u5176\u5b83\u7684\u4e8b\u52a1\u5fc5\u987b\u7b49\u672c\u6b21\u4e8b\u52a1\u63d0\u4ea4\u4e4b\u540e\u624d\u80fd\u6267\u884c\u3002\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u4fdd\u8bc1\u5f53\u524d\u7684\u6570\u636e\u4e0d\u4f1a\u88ab\u5176\u5b83\u4e8b\u52a1\u4fee\u6539\u3002"),(0,l.kt)("p",null,"\u4e0a\u9762\u6211\u4eec\u63d0\u5230\uff0c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"select\u2026for update"),"\u4f1a\u628a\u6570\u636e\u7ed9\u9501\u4f4f\uff0c\u4e0d\u8fc7\u6211\u4eec\u9700\u8981\u6ce8\u610f\u4e00\u4e9b\u9501\u7684\u7ea7\u522b\uff0cMySQL InnoDB\u9ed8\u8ba4\u884c\u7ea7\u9501\u3002\u884c\u7ea7\u9501\u90fd\u662f\u57fa\u4e8e\u7d22\u5f15\u7684\uff0c\u5982\u679c\u4e00\u6761SQL\u8bed\u53e5\u7528\u4e0d\u5230\u7d22\u5f15\u662f\u4e0d\u4f1a\u4f7f\u7528\u884c\u7ea7\u9501\u7684\uff0c\u4f1a\u4f7f\u7528\u8868\u7ea7\u9501\u628a\u6574\u5f20\u8868\u9501\u4f4f\uff0c\u8fd9\u70b9\u9700\u8981\u6ce8\u610f\u3002"),(0,l.kt)("h4",{id:"\u57fa\u4e8e\u4e50\u89c2\u9501"},"\u57fa\u4e8e\u4e50\u89c2\u9501"),(0,l.kt)("p",null,"\u4e50\u89c2\u5e76\u53d1\u63a7\u5236\uff08\u53c8\u540d\u201c\u4e50\u89c2\u9501\u201d\uff0cOptimistic Concurrency Control\uff0c\u7f29\u5199\u201cOCC\u201d\uff09\u662f\u4e00\u79cd\u5e76\u53d1\u63a7\u5236\u7684\u65b9\u6cd5\u3002\u5b83\u5047\u8bbe\u591a\u7528\u6237\u5e76\u53d1\u7684\u4e8b\u52a1\u5728\u5904\u7406\u65f6\u4e0d\u4f1a\u5f7c\u6b64\u4e92\u76f8\u5f71\u54cd\uff0c\u5404\u4e8b\u52a1\u80fd\u591f\u5728\u4e0d\u4ea7\u751f\u9501\u7684\u60c5\u51b5\u4e0b\u5904\u7406\u5404\u81ea\u5f71\u54cd\u7684\u90a3\u90e8\u5206\u6570\u636e\u3002\u5728\u63d0\u4ea4\u6570\u636e\u66f4\u65b0\u4e4b\u524d\uff0c\u6bcf\u4e2a\u4e8b\u52a1\u4f1a\u5148\u68c0\u67e5\u5728\u8be5\u4e8b\u52a1\u8bfb\u53d6\u6570\u636e\u540e\uff0c\u6709\u6ca1\u6709\u5176\u4ed6\u4e8b\u52a1\u53c8\u4fee\u6539\u4e86\u8be5\u6570\u636e\u3002\u5982\u679c\u5176\u4ed6\u4e8b\u52a1\u6709\u66f4\u65b0\u7684\u8bdd\uff0c\u6b63\u5728\u63d0\u4ea4\u7684\u4e8b\u52a1\u4f1a\u8fdb\u884c\u56de\u6eda\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4ee5\u4f7f\u7528\u7248\u672c\u53f7\u5b9e\u73b0\u4e50\u89c2\u9501\u4e3a\u4f8b\uff1f")),(0,l.kt)("p",null,"\u4f7f\u7528\u7248\u672c\u53f7\u65f6\uff0c\u53ef\u4ee5\u5728\u6570\u636e\u521d\u59cb\u5316\u65f6\u6307\u5b9a\u4e00\u4e2a\u7248\u672c\u53f7\uff0c\u6bcf\u6b21\u5bf9\u6570\u636e\u7684\u66f4\u65b0\u64cd\u4f5c\u90fd\u5bf9\u7248\u672c\u53f7\u6267\u884c+1\u64cd\u4f5c\u3002\u5e76\u5224\u65ad\u5f53\u524d\u7248\u672c\u53f7\u662f\u4e0d\u662f\u8be5\u6570\u636e\u7684\u6700\u65b0\u7684\u7248\u672c\u53f7\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"1.\u67e5\u8be2\u51fa\u5546\u54c1\u4fe1\u606f\nselect (status,status,version) from t_goods where id=#{id}\n2.\u6839\u636e\u5546\u54c1\u4fe1\u606f\u751f\u6210\u8ba2\u5355\n3.\u4fee\u6539\u5546\u54c1status\u4e3a2\nupdate t_goods \nset status=2,version=version+1\nwhere id=#{id} and version=#{version};\n")),(0,l.kt)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e50\u89c2\u9501\u673a\u5236\u5f80\u5f80\u57fa\u4e8e\u7cfb\u7edf\u4e2d\u6570\u636e\u5b58\u50a8\u903b\u8f91\uff0c\u56e0\u6b64\u4e5f\u5177\u5907\u4e00\u5b9a\u7684\u5c40\u9650\u6027\u3002\u7531\u4e8e\u4e50\u89c2\u9501\u673a\u5236\u662f\u5728\u6211\u4eec\u7684\u7cfb\u7edf\u4e2d\u5b9e\u73b0\u7684\uff0c\u5bf9\u4e8e\u6765\u81ea\u5916\u90e8\u7cfb\u7edf\u7684\u7528\u6237\u6570\u636e\u66f4\u65b0\u64cd\u4f5c\u4e0d\u53d7\u6211\u4eec\u7cfb\u7edf\u7684\u63a7\u5236\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u9020\u6210\u810f\u6570\u636e\u88ab\u66f4\u65b0\u5230\u6570\u636e\u5e93\u4e2d\u3002\u5728\u7cfb\u7edf\u8bbe\u8ba1\u9636\u6bb5\uff0c\u6211\u4eec\u5e94\u8be5\u5145\u5206\u8003\u8651\u5230\u8fd9\u4e9b\u60c5\u51b5\uff0c\u5e76\u8fdb\u884c\u76f8\u5e94\u7684\u8c03\u6574\uff08\u5982\u5c06\u4e50\u89c2\u9501\u7b56\u7565\u5728\u6570\u636e\u5e93\u5b58\u50a8\u8fc7\u7a0b\u4e2d\u5b9e\u73b0\uff0c\u5bf9\u5916\u53ea\u5f00\u653e\u57fa\u4e8e\u6b64\u5b58\u50a8\u8fc7\u7a0b\u7684\u6570\u636e\u66f4\u65b0\u9014\u5f84\uff0c\u800c\u4e0d\u662f\u5c06\u6570\u636e\u5e93\u8868\u76f4\u63a5\u5bf9\u5916\u516c\u5f00\uff09\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7f3a\u9677"))),(0,l.kt)("p",null,"\u5bf9\u6570\u636e\u5e93\u4f9d\u8d56\uff0c\u5f00\u9500\u95ee\u9898\uff0c\u884c\u9501\u53d8\u8868\u9501\u95ee\u9898\uff0c\u65e0\u6cd5\u89e3\u51b3\u6570\u636e\u5e93\u5355\u70b9\u548c\u53ef\u91cd\u5165\u7684\u95ee\u9898\u3002"),(0,l.kt)("h2",{id:"\ufe0f-redis"},"\u2668\ufe0f redis"),(0,l.kt)("h3",{id:"\u8bf4\u4e00\u4e0bredis"},"\u8bf4\u4e00\u4e0bredis"),(0,l.kt)("p",null,"\u7b80\u5355\u6765\u8bf4 ",(0,l.kt)("strong",{parentName:"p"},"Redis \u5c31\u662f\u4e00\u4e2a\u4f7f\u7528 C \u8bed\u8a00\u5f00\u53d1\u7684\u6570\u636e\u5e93"),"\uff0c\u4e0d\u8fc7\u4e0e\u4f20\u7edf\u6570\u636e\u5e93\u4e0d\u540c\u7684\u662f ",(0,l.kt)("strong",{parentName:"p"},"Redis \u7684\u6570\u636e\u662f\u5b58\u5728\u5185\u5b58\u4e2d\u7684")," \uff0c\u4e5f\u5c31\u662f\u5b83\u662f\u5185\u5b58\u6570\u636e\u5e93\uff0c\u6240\u4ee5\u8bfb\u5199\u901f\u5ea6\u975e\u5e38\u5feb\uff0c\u56e0\u6b64 Redis \u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u7f13\u5b58\u65b9\u5411\u3002"),(0,l.kt)("p",null,"\u53e6\u5916\uff0c",(0,l.kt)("strong",{parentName:"p"},"Redis \u9664\u4e86\u505a\u7f13\u5b58\u4e4b\u5916\uff0c\u4e5f\u7ecf\u5e38\u7528\u6765\u505a\u5206\u5e03\u5f0f\u9501\uff0c\u751a\u81f3\u662f\u6d88\u606f\u961f\u5217\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Redis \u63d0\u4f9b\u4e86\u591a\u79cd\u6570\u636e\u7c7b\u578b\u6765\u652f\u6301\u4e0d\u540c\u7684\u4e1a\u52a1\u573a\u666f\u3002Redis \u8fd8\u652f\u6301\u4e8b\u52a1 \u3001\u6301\u4e45\u5316\u3001Lua \u811a\u672c\u3001\u591a\u79cd\u96c6\u7fa4\u65b9\u6848\u3002")),(0,l.kt)("h3",{id:"redis\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u5feb"},"Redis\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u5feb\uff1f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"redis\u5b8c\u5168",(0,l.kt)("strong",{parentName:"li"},"\u57fa\u4e8e\u5185\u5b58"),",\u7edd\u5927\u90e8\u5206\u8bf7\u6c42\u662f\u7eaf\u7cb9\u7684\u5185\u5b58\u64cd\u4f5c,\u975e\u5e38\u5feb\u901f."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u6570\u636e\u7ed3\u6784\u7b80\u5355"),",\u5bf9\u6570\u636e\u64cd\u4f5c\u4e5f\u7b80\u5355,redis\u4e2d\u7684\u6570\u636e\u7ed3\u6784\u662f\u4e13\u95e8\u8fdb\u884c\u8bbe\u8ba1\u7684"),(0,l.kt)("li",{parentName:"ul"},"\u91c7\u7528",(0,l.kt)("strong",{parentName:"li"},"\u5355\u7ebf\u7a0b\u6a21\u578b"),", \u907f\u514d\u4e86\u4e0d\u5fc5\u8981\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u548c\u7ade\u4e89\u6761\u4ef6, \u4e5f\u4e0d\u5b58\u5728\u591a\u7ebf\u7a0b\u6216\u8005\u591a\u7ebf\u7a0b\u5207\u6362\u800c\u6d88\u8017CPU, \u4e0d\u7528\u8003\u8651\u5404\u79cd\u9501\u7684\u95ee\u9898, \u4e0d\u5b58\u5728\u52a0\u9501, \u91ca\u653e\u9501\u7684\u64cd\u4f5c, \u6ca1\u6709\u56e0\u4e3a\u53ef\u80fd\u51fa\u73b0\u6b7b\u9501\u800c\u5bfc\u81f4\u6027\u80fd\u6d88\u8017"),(0,l.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u4e86",(0,l.kt)("strong",{parentName:"li"},"\u591a\u8defIO\u590d\u7528\u6a21\u578b"),",\u975e\u963b\u585eIO"),(0,l.kt)("li",{parentName:"ul"},"\u4f7f\u7528",(0,l.kt)("strong",{parentName:"li"},"\u5e95\u5c42\u6a21\u578b\u4e0d\u540c"),"\uff0cRedis\u76f4\u63a5\u81ea\u5df1\u6784\u5efa\u4e86 VM (\u865a\u62df\u5185\u5b58)\u673a\u5236 \uff0c\u56e0\u4e3a\u4e00\u822c\u7684\u7cfb\u7edf\u8c03\u7528\u7cfb\u7edf\u51fd\u6570\u7684\u8bdd\uff0c\u4f1a\u6d6a\u8d39\u4e00\u5b9a\u7684\u65f6\u95f4\u53bb\u79fb\u52a8\u548c\u8bf7\u6c42")),(0,l.kt)("h3",{id:"\u4e3a\u4ec0\u4e48\u8981\u7528-redis--\u4e3a\u4ec0\u4e48\u8981\u7528\u7f13\u5b58-\u4e3a\u4ec0\u4e48\u7528-redis-\u4f5c\u4e3a-mysql-\u7684\u7f13\u5b58"},"\u4e3a\u4ec0\u4e48\u8981\u7528 Redis / \u4e3a\u4ec0\u4e48\u8981\u7528\u7f13\u5b58\uff1f/ \u4e3a\u4ec0\u4e48\u7528 Redis \u4f5c\u4e3a MySQL \u7684\u7f13\u5b58\uff1f"),(0,l.kt)("p",null,"\u4e3b\u8981\u662f\u56e0\u4e3a ",(0,l.kt)("strong",{parentName:"p"},"Redis \u5177\u5907\u300c\u9ad8\u6027\u80fd\u300d\u548c\u300c\u9ad8\u5e76\u53d1\u300d\u4e24\u79cd\u7279\u6027"),"\u3002"),(0,l.kt)("p",null,"\u4e3b\u8981\u4ece\u4e24\u4e2a\u65b9\u9762\u8bb2\uff1a"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("em",{parentName:"strong"},"1\u3001Redis \u5177\u5907\u9ad8\u6027\u80fd"))),(0,l.kt)("p",null,"\u5047\u5982\u7528\u6237\u7b2c\u4e00\u6b21\u8bbf\u95ee MySQL \u4e2d\u7684\u67d0\u4e9b\u6570\u636e\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4f1a\u6bd4\u8f83\u6162\uff0c\u56e0\u4e3a\u662f\u4ece\u786c\u76d8\u4e0a\u8bfb\u53d6\u7684\u3002\u5c06\u8be5\u7528\u6237\u8bbf\u95ee\u7684\u6570\u636e\u7f13\u5b58\u5728 Redis \u4e2d\uff0c\u8fd9\u6837\u4e0b\u4e00\u6b21\u518d\u8bbf\u95ee\u8fd9\u4e9b\u6570\u636e\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u76f4\u63a5\u4ece\u7f13\u5b58\u4e2d\u83b7\u53d6\u4e86\uff0c\u64cd\u4f5c Redis \u7f13\u5b58\u5c31\u662f\u76f4\u63a5\u64cd\u4f5c\u5185\u5b58\uff0c\u6240\u4ee5\u901f\u5ea6\u76f8\u5f53\u5feb\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714213332696",src:n(93270).Z,width:"377",height:"686"})),(0,l.kt)("p",null,"\u5982\u679c MySQL \u4e2d\u7684\u5bf9\u5e94\u6570\u636e\u6539\u53d8\u7684\u4e4b\u540e\uff0c\u540c\u6b65\u6539\u53d8 Redis \u7f13\u5b58\u4e2d\u76f8\u5e94\u7684\u6570\u636e\u5373\u53ef\uff0c\u4e0d\u8fc7\u8fd9\u91cc\u4f1a\u6709 Redis \u548c MySQL \u53cc\u5199\u4e00\u81f4\u6027\u7684\u95ee\u9898\uff0c\u540e\u9762\u6211\u4eec\u4f1a\u63d0\u5230\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("em",{parentName:"strong"},"2\u3001 Redis \u5177\u5907\u9ad8\u5e76\u53d1"))),(0,l.kt)("p",null,"\u5355\u53f0\u8bbe\u5907\u7684 Redis \u7684 QPS\uff08Query Per Second\uff0c\u6bcf\u79d2\u949f\u5904\u7406\u5b8c\u8bf7\u6c42\u7684\u6b21\u6570\uff09 \u662f MySQL \u7684 10 \u500d\uff0cRedis \u5355\u673a\u7684 QPS \u80fd\u8f7b\u677e\u7834 10w\uff0c\u800c MySQL \u5355\u673a\u7684 QPS \u5f88\u96be\u7834  1w\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u76f4\u63a5\u8bbf\u95ee Redis \u80fd\u591f\u627f\u53d7\u7684\u8bf7\u6c42\u662f\u8fdc\u8fdc\u5927\u4e8e\u76f4\u63a5\u8bbf\u95ee MySQL \u7684\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u628a\u6570\u636e\u5e93\u4e2d\u7684\u90e8\u5206\u6570\u636e\u8f6c\u79fb\u5230\u7f13\u5b58\u4e2d\u53bb\uff0c\u8fd9\u6837\u7528\u6237\u7684\u4e00\u90e8\u5206\u8bf7\u6c42\u4f1a\u76f4\u63a5\u5230\u7f13\u5b58\u8fd9\u91cc\u800c\u4e0d\u7528\u7ecf\u8fc7\u6570\u636e\u5e93\u3002"),(0,l.kt)("h3",{id:"redis-\u5982\u4f55\u5b9e\u73b0\u670d\u52a1\u9ad8\u53ef\u7528"},"Redis \u5982\u4f55\u5b9e\u73b0\u670d\u52a1\u9ad8\u53ef\u7528\uff1f"),(0,l.kt)("p",null,"\u8981\u60f3\u8bbe\u8ba1\u4e00\u4e2a\u9ad8\u53ef\u7528\u7684 Redis \u670d\u52a1\uff0c\u4e00\u5b9a\u8981\u4ece Redis \u7684\u591a\u670d\u52a1\u8282\u70b9\u6765\u8003\u8651\uff0c\u6bd4\u5982 Redis \u7684\u4e3b\u4ece\u590d\u5236\u3001\u54e8\u5175\u6a21\u5f0f\u3001\u5207\u7247\u96c6\u7fa4\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e3b\u4ece\u590d\u5236")),(0,l.kt)("p",null,"\u4e3b\u4ece\u590d\u5236\u662f Redis \u9ad8\u53ef\u7528\u670d\u52a1\u7684\u6700\u57fa\u7840\u7684\u4fdd\u8bc1\uff0c\u5b9e\u73b0\u65b9\u6848\u5c31\u662f\u5c06\u4ece\u524d\u7684\u4e00\u53f0 Redis \u670d\u52a1\u5668\uff0c\u540c\u6b65\u6570\u636e\u5230\u591a\u53f0\u4ece Redis \u670d\u52a1\u5668\u4e0a\uff0c\u5373\u4e00\u4e3b\u591a\u4ece\u7684\u6a21\u5f0f\uff0c\u4e14\u4e3b\u4ece\u670d\u52a1\u5668\u4e4b\u95f4\u91c7\u7528\u7684\u662f\u300c\u8bfb\u5199\u5206\u79bb\u300d\u7684\u65b9\u5f0f\u3002"),(0,l.kt)("p",null,"\u4e3b\u670d\u52a1\u5668\u53ef\u4ee5\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\uff0c\u5f53\u53d1\u751f\u5199\u64cd\u4f5c\u65f6\u81ea\u52a8\u5c06\u5199\u64cd\u4f5c\u540c\u6b65\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u800c\u4ece\u670d\u52a1\u5668\u4e00\u822c\u662f\u53ea\u8bfb\uff0c\u5e76\u63a5\u53d7\u4e3b\u670d\u52a1\u5668\u540c\u6b65\u8fc7\u6765\u5199\u64cd\u4f5c\u547d\u4ee4\uff0c\u7136\u540e\u6267\u884c\u8fd9\u6761\u547d\u4ee4\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715161214356",src:n(66179).Z,width:"902",height:"422"})),(0,l.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff0c\u6240\u6709\u7684\u6570\u636e\u4fee\u6539\u53ea\u5728\u4e3b\u670d\u52a1\u5668\u4e0a\u8fdb\u884c\uff0c\u7136\u540e\u5c06\u6700\u65b0\u7684\u6570\u636e\u540c\u6b65\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u8fd9\u6837\u5c31\u4f7f\u5f97\u4e3b\u4ece\u670d\u52a1\u5668\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\u3002"),(0,l.kt)("p",null,"\u6ce8\u610f\uff0c\u4e3b\u4ece\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u547d\u4ee4\u590d\u5236\u662f",(0,l.kt)("strong",{parentName:"p"},"\u5f02\u6b65"),"\u8fdb\u884c\u7684\u3002"),(0,l.kt)("p",null,"\u5177\u4f53\u6765\u8bf4\uff0c\u5728\u4e3b\u4ece\u670d\u52a1\u5668\u547d\u4ee4\u4f20\u64ad\u9636\u6bb5\uff0c\u4e3b\u670d\u52a1\u5668\u6536\u5230\u65b0\u7684\u5199\u547d\u4ee4\u540e\uff0c\u4f1a\u53d1\u9001\u7ed9\u4ece\u670d\u52a1\u5668\u3002\u4f46\u662f\uff0c\u4e3b\u670d\u52a1\u5668\u5e76\u4e0d\u4f1a\u7b49\u5230\u4ece\u670d\u52a1\u5668\u5b9e\u9645\u6267\u884c\u5b8c\u547d\u4ee4\u540e\uff0c\u518d\u628a\u7ed3\u679c\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\uff0c\u800c\u662f\u4e3b\u670d\u52a1\u5668\u81ea\u5df1\u5728\u672c\u5730\u6267\u884c\u5b8c\u547d\u4ee4\u540e\uff0c\u5c31\u4f1a\u5411\u5ba2\u6237\u7aef\u8fd4\u56de\u7ed3\u679c\u4e86\u3002\u5982\u679c\u4ece\u670d\u52a1\u5668\u8fd8\u6ca1\u6709\u6267\u884c\u4e3b\u670d\u52a1\u5668\u540c\u6b65\u8fc7\u6765\u7684\u547d\u4ee4\uff0c\u4e3b\u4ece\u670d\u52a1\u5668\u95f4\u7684\u6570\u636e\u5c31\u4e0d\u4e00\u81f4\u4e86\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u65e0\u6cd5\u5b9e\u73b0\u5f3a\u4e00\u81f4\u6027\u4fdd\u8bc1\uff08\u4e3b\u4ece\u6570\u636e\u65f6\u65f6\u523b\u523b\u4fdd\u6301\u4e00\u81f4\uff09\uff0c\u6570\u636e\u4e0d\u4e00\u81f4\u662f\u96be\u4ee5\u907f\u514d\u7684\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u54e8\u5175\u6a21\u5f0f")),(0,l.kt)("p",null,"\u5728\u4f7f\u7528 Redis \u4e3b\u4ece\u670d\u52a1\u7684\u65f6\u5019\uff0c\u4f1a\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u5f53 Redis \u7684\u4e3b\u4ece\u670d\u52a1\u5668\u51fa\u73b0\u6545\u969c\u5b95\u673a\u65f6\uff0c\u9700\u8981\u624b\u52a8\u8fdb\u884c\u6062\u590d\u3002"),(0,l.kt)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cRedis \u589e\u52a0\u4e86\u54e8\u5175\u6a21\u5f0f\uff08",(0,l.kt)("strong",{parentName:"p"},"Redis Sentinel"),"\uff09\uff0c\u56e0\u4e3a\u54e8\u5175\u6a21\u5f0f\u505a\u5230\u4e86\u53ef\u4ee5\u76d1\u63a7\u4e3b\u4ece\u670d\u52a1\u5668\uff0c\u5e76\u4e14\u63d0\u4f9b",(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u4ece\u8282\u70b9\u6545\u969c\u8f6c\u79fb\u7684\u529f\u80fd\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715161234139",src:n(77287).Z,width:"982",height:"560"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5207\u7247\u96c6\u7fa4\u6a21\u5f0f")),(0,l.kt)("p",null,"\u5f53 Redis \u7f13\u5b58\u6570\u636e\u91cf\u5927\u5230\u4e00\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u7f13\u5b58\u65f6\uff0c\u5c31\u9700\u8981\u4f7f\u7528 ",(0,l.kt)("strong",{parentName:"p"},"Redis \u5207\u7247\u96c6\u7fa4"),"\uff08Redis Cluster \uff09\u65b9\u6848\uff0c\u5b83\u5c06\u6570\u636e\u5206\u5e03\u5728\u4e0d\u540c\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u4ee5\u6b64\u6765\u964d\u4f4e\u7cfb\u7edf\u5bf9\u5355\u4e3b\u8282\u70b9\u7684\u4f9d\u8d56\uff0c\u4ece\u800c\u63d0\u9ad8 Redis \u670d\u52a1\u7684\u8bfb\u5199\u6027\u80fd\u3002"),(0,l.kt)("p",null,"Redis Cluster \u65b9\u6848\u91c7\u7528\u54c8\u5e0c\u69fd\uff08Hash Slot\uff09\uff0c\u6765\u5904\u7406\u6570\u636e\u548c\u8282\u70b9\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\u3002\u5728 Redis Cluster \u65b9\u6848\u4e2d\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4e00\u4e2a\u5207\u7247\u96c6\u7fa4\u5171\u6709 16384 \u4e2a\u54c8\u5e0c\u69fd"),"\uff0c\u8fd9\u4e9b\u54c8\u5e0c\u69fd\u7c7b\u4f3c\u4e8e\u6570\u636e\u5206\u533a\uff0c\u6bcf\u4e2a\u952e\u503c\u5bf9\u90fd\u4f1a\u6839\u636e\u5b83\u7684 key\uff0c\u88ab\u6620\u5c04\u5230\u4e00\u4e2a\u54c8\u5e0c\u69fd\u4e2d\uff0c\u5177\u4f53\u6267\u884c\u8fc7\u7a0b\u5206\u4e3a\u4e24\u5927\u6b65\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6839\u636e\u952e\u503c\u5bf9\u7684 key\uff0c\u6309\u7167 CRC16 \u7b97\u6cd5\u8ba1\u7b97\u4e00\u4e2a 16 bit \u7684\u503c\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u518d\u7528 16bit \u503c\u5bf9 16384 \u53d6\u6a21\uff0c\u5f97\u5230 0~16383 \u8303\u56f4\u5185\u7684\u6a21\u6570\uff0c\u6bcf\u4e2a\u6a21\u6570\u4ee3\u8868\u4e00\u4e2a\u76f8\u5e94\u7f16\u53f7\u7684\u54c8\u5e0c\u69fd\u3002")),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\u7684\u95ee\u9898\u5c31\u662f\uff0c\u8fd9\u4e9b\u54c8\u5e0c\u69fd\u600e\u4e48\u88ab\u6620\u5c04\u5230\u5177\u4f53\u7684 Redis \u8282\u70b9\u4e0a\u7684\u5462\uff1f\u6709\u4e24\u79cd\u65b9\u6848\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5e73\u5747\u5206\u914d\uff1a")," \u5728\u4f7f\u7528 cluster create \u547d\u4ee4\u521b\u5efa Redis \u96c6\u7fa4\u65f6\uff0cRedis \u4f1a\u81ea\u52a8\u628a\u6240\u6709\u54c8\u5e0c\u69fd\u5e73\u5747\u5206\u5e03\u5230\u96c6\u7fa4\u8282\u70b9\u4e0a\u3002\u6bd4\u5982\u96c6\u7fa4\u4e2d\u6709 9 \u4e2a\u8282\u70b9\uff0c\u5219\u6bcf\u4e2a\u8282\u70b9\u4e0a\u69fd\u7684\u4e2a\u6570\u4e3a 16384/9 \u4e2a\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u624b\u52a8\u5206\u914d\uff1a")," \u53ef\u4ee5\u4f7f\u7528 cluster meet \u547d\u4ee4\u624b\u52a8\u5efa\u7acb\u8282\u70b9\u95f4\u7684\u8fde\u63a5\uff0c\u7ec4\u6210\u96c6\u7fa4\uff0c\u518d\u4f7f\u7528 cluster addslots \u547d\u4ee4\uff0c\u6307\u5b9a\u6bcf\u4e2a\u8282\u70b9\u4e0a\u7684\u54c8\u5e0c\u69fd\u4e2a\u6570\u3002")),(0,l.kt)("p",null,"\u4e3a\u4e86\u65b9\u4fbf\u4f60\u7684\u7406\u89e3\uff0c\u6211\u901a\u8fc7\u4e00\u5f20\u56fe\u6765\u89e3\u91ca\u6570\u636e\u3001\u54c8\u5e0c\u69fd\uff0c\u4ee5\u53ca\u8282\u70b9\u4e09\u8005\u7684\u6620\u5c04\u5206\u5e03\u5173\u7cfb\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715161306957",src:n(38593).Z,width:"1025",height:"533"})),(0,l.kt)("p",null,"\u4e0a\u56fe\u4e2d\u7684\u5207\u7247\u96c6\u7fa4\u4e00\u5171\u6709 3 \u4e2a\u8282\u70b9\uff0c\u5047\u8bbe\u6709 4 \u4e2a\u54c8\u5e0c\u69fd\uff08Slot 0\uff5eSlot 3\uff09\u65f6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u624b\u52a8\u5206\u914d\u54c8\u5e0c\u69fd\uff0c\u6bd4\u5982\u8282\u70b9 1 \u4fdd\u5b58\u54c8\u5e0c\u69fd 0 \u548c 1\uff0c\u8282\u70b9 2 \u4fdd\u5b58\u54c8\u5e0c\u69fd 2 \u548c 3\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"redis-cli -h 192.168.1.10 \u2013p 6379 cluster addslots 0,1\nredis-cli -h 192.168.1.11 \u2013p 6379 cluster addslots 2,3\n")),(0,l.kt)("p",null,"\u7136\u540e\u5728\u96c6\u7fa4\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0ckey1 \u548c key2 \u8ba1\u7b97\u5b8c CRC16 \u503c\u540e\uff0c\u5bf9\u54c8\u5e0c\u69fd\u603b\u4e2a\u6570 5 \u8fdb\u884c\u53d6\u6a21\uff0c\u518d\u6839\u636e\u5404\u81ea\u7684\u6a21\u6570\u7ed3\u679c\uff0c\u5c31\u53ef\u4ee5\u88ab\u6620\u5c04\u5230\u5bf9\u5e94\u7684\u8282\u70b9 1 \u548c\u8282\u70b9 3 \u4e0a\u4e86\u3002"),(0,l.kt)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u624b\u52a8\u5206\u914d\u54c8\u5e0c\u69fd\u65f6\uff0c\u9700\u8981\u628a 16384 \u4e2a\u69fd\u90fd\u5206\u914d\u5b8c\uff0c\u5426\u5219 Redis \u96c6\u7fa4\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002"),(0,l.kt)("h3",{id:"redis-\u548c-memcached-\u6709\u4ec0\u4e48\u533a\u522b"},"Redis \u548c Memcached \u6709\u4ec0\u4e48\u533a\u522b\uff1f"),(0,l.kt)("p",null,"\u5f88\u591a\u4eba\u90fd\u8bf4\u7528 Redis \u4f5c\u4e3a\u7f13\u5b58\uff0c\u4f46\u662f Memcached \u4e5f\u662f\u57fa\u4e8e\u5185\u5b58\u7684\u6570\u636e\u5e93\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u9009\u62e9\u5b83\u4f5c\u4e3a\u7f13\u5b58\u5462\uff1f\u8981\u89e3\u7b54\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u5c31\u8981\u5f04\u6e05\u695a Redis \u548c Memcached \u7684\u533a\u522b\u3002 Redis \u4e0e Memcached ",(0,l.kt)("strong",{parentName:"p"},"\u5171\u540c\u70b9"),"\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u90fd\u662f\u57fa\u4e8e\u5185\u5b58\u7684\u6570\u636e\u5e93\uff0c\u4e00\u822c\u90fd\u7528\u6765\u5f53\u505a\u7f13\u5b58\u4f7f\u7528\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u90fd\u6709\u8fc7\u671f\u7b56\u7565\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u4e24\u8005\u7684\u6027\u80fd\u90fd\u975e\u5e38\u9ad8\u3002")),(0,l.kt)("p",null,"Redis \u4e0e Memcached ",(0,l.kt)("strong",{parentName:"p"},"\u533a\u522b"),"\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Redis \u652f\u6301\u7684\u6570\u636e\u7c7b\u578b\u66f4\u4e30\u5bcc\uff08String\u3001Hash\u3001List\u3001Set\u3001ZSet\uff09\uff0c\u800c Memcached \u53ea\u652f\u6301\u6700\u7b80\u5355\u7684 key-value \u6570\u636e\u7c7b\u578b\uff1b"),(0,l.kt)("li",{parentName:"ul"},"Redis \u652f\u6301\u6570\u636e\u7684\u6301\u4e45\u5316\uff0c\u53ef\u4ee5\u5c06\u5185\u5b58\u4e2d\u7684\u6570\u636e\u4fdd\u6301\u5728\u78c1\u76d8\u4e2d\uff0c\u91cd\u542f\u7684\u65f6\u5019\u53ef\u4ee5\u518d\u6b21\u52a0\u8f7d\u8fdb\u884c\u4f7f\u7528\uff0c\u800c Memcached \u6ca1\u6709\u6301\u4e45\u5316\u529f\u80fd\uff0c\u6570\u636e\u5168\u90e8\u5b58\u5728\u5185\u5b58\u4e4b\u4e2d\uff0cMemcached \u91cd\u542f\u6216\u8005\u6302\u6389\u540e\uff0c\u6570\u636e\u5c31\u6ca1\u4e86\uff1b"),(0,l.kt)("li",{parentName:"ul"},"Redis \u539f\u751f\u652f\u6301\u96c6\u7fa4\u6a21\u5f0f\uff0cMemcached \u6ca1\u6709\u539f\u751f\u7684\u96c6\u7fa4\u6a21\u5f0f\uff0c\u9700\u8981\u4f9d\u9760\u5ba2\u6237\u7aef\u6765\u5b9e\u73b0\u5f80\u96c6\u7fa4\u4e2d\u5206\u7247\u5199\u5165\u6570\u636e\uff1b"),(0,l.kt)("li",{parentName:"ul"},"Redis \u652f\u6301\u53d1\u5e03\u8ba2\u9605\u6a21\u578b\u3001Lua \u811a\u672c\u3001\u4e8b\u52a1\u7b49\u529f\u80fd\uff0c\u800c Memcached \u4e0d\u652f\u6301\uff1b")),(0,l.kt)("h3",{id:"redis-\u9664\u4e86\u505a\u7f13\u5b58\u8fd8\u80fd\u505a\u4ec0\u4e48"},"Redis \u9664\u4e86\u505a\u7f13\u5b58\uff0c\u8fd8\u80fd\u505a\u4ec0\u4e48\uff1f"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5206\u5e03\u5f0f\u9501")," \uff1a \u901a\u8fc7 Redis \u6765\u505a\u5206\u5e03\u5f0f\u9501\u662f\u4e00\u79cd\u6bd4\u8f83\u5e38\u89c1\u7684\u65b9\u5f0f\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u90fd\u662f\u57fa\u4e8e Redisson \u6765\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\u3002\u76f8\u5173\u9605\u8bfb\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://mp.weixin.qq.com/s/CbnPRfvq4m1sqo2uKI6qQw"},"\u300a\u5206\u5e03\u5f0f\u9501\u4e2d\u7684\u738b\u8005\u65b9\u6848 - Redisson\u300b")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u9650\u6d41")," \uff1a\u4e00\u822c\u662f\u901a\u8fc7 Redis + Lua \u811a\u672c\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u9650\u6d41\u3002\u76f8\u5173\u9605\u8bfb\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://mp.weixin.qq.com/s/kyFAWH3mVNJvurQDt4vchA"},"\u300a\u6211\u53f8\u7528\u4e86 6 \u5e74\u7684 Redis \u5206\u5e03\u5f0f\u9650\u6d41\u5668\uff0c\u53ef\u4ee5\u8bf4\u662f\u975e\u5e38\u5389\u5bb3\u4e86\uff01\u300b")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6d88\u606f\u961f\u5217")," \uff1aRedis \u81ea\u5e26\u7684 list \u6570\u636e\u7ed3\u6784\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u7b80\u5355\u7684\u961f\u5217\u4f7f\u7528\u3002Redis 5.0 \u4e2d\u589e\u52a0\u7684 Stream \u7c7b\u578b\u7684\u6570\u636e\u7ed3\u6784\u66f4\u52a0\u9002\u5408\u7528\u6765\u505a\u6d88\u606f\u961f\u5217\u3002\u5b83\u6bd4\u8f83\u7c7b\u4f3c\u4e8e Kafka\uff0c\u6709\u4e3b\u9898\u548c\u6d88\u8d39\u7ec4\u7684\u6982\u5ff5\uff0c\u652f\u6301\u6d88\u606f\u6301\u4e45\u5316\u4ee5\u53ca ACK \u673a\u5236\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u590d\u6742\u4e1a\u52a1\u573a\u666f")," \uff1a\u901a\u8fc7 Redis \u4ee5\u53ca Redis \u6269\u5c55\uff08\u6bd4\u5982 Redisson\uff09\u63d0\u4f9b\u7684\u6570\u636e\u7ed3\u6784\uff0c\u6211\u4eec\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u5b8c\u6210\u5f88\u591a\u590d\u6742\u7684\u4e1a\u52a1\u573a\u666f\u6bd4\u5982\u901a\u8fc7 bitmap \u7edf\u8ba1\u6d3b\u8dc3\u7528\u6237\u3001\u901a\u8fc7 sorted set \u7ef4\u62a4\u6392\u884c\u699c\u3002"),(0,l.kt)("p",null,"......"),(0,l.kt)("h3",{id:"\u57fa\u672c\u6570\u636e\u7c7b\u578b\u5e94\u7528\u573a\u666f"},"\u2b50\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3001\u5e94\u7528\u573a\u666f"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"5\u79cd\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff1astring\u3001list\u3001hash\u3001set\u3001zset"),(0,l.kt)("p",{parentName:"blockquote"},"\u63a8\u8350\u9605\u8bfb\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://mp.weixin.qq.com/s/qptE172slg_6Tl1yuzdbfw"},"\u56fe\u89e3 Redis \u6570\u636e\u7ed3\u6784"))),(0,l.kt)("h4",{id:"1\ufe0f\u20e3string"},"1\ufe0f\u20e3string"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4ecb\u7ecd")," \uff1astring \u6570\u636e\u7ed3\u6784\u662f\u7b80\u5355\u7684 key-value \u7c7b\u578b\u3002\u867d\u7136 Redis \u662f\u7528 C \u8bed\u8a00\u5199\u7684\uff0c\u4f46\u662f Redis \u5e76\u6ca1\u6709\u4f7f\u7528 C \u7684\u5b57\u7b26\u4e32\u8868\u793a\uff0c\u800c\u662f\u81ea\u5df1\u6784\u5efa\u4e86\u4e00\u79cd ",(0,l.kt)("strong",{parentName:"li"},"\u7b80\u5355\u52a8\u6001\u5b57\u7b26\u4e32"),"\uff08simple dynamic string\uff0c",(0,l.kt)("strong",{parentName:"li"},"SDS"),"\uff09\u3002\u76f8\u6bd4\u4e8e C \u7684\u539f\u751f\u5b57\u7b26\u4e32\uff0cRedis \u7684 SDS \u4e0d\u5149\u53ef\u4ee5\u4fdd\u5b58\u6587\u672c\u6570\u636e\u8fd8\u53ef\u4ee5\u4fdd\u5b58\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u5e76\u4e14\u83b7\u53d6\u5b57\u7b26\u4e32\u957f\u5ea6\u590d\u6742\u5ea6\u4e3a O(1)\uff08C \u5b57\u7b26\u4e32\u4e3a O(N)\uff09,\u9664\u6b64\u4e4b\u5916\uff0cRedis \u7684 SDS API \u662f\u5b89\u5168\u7684\uff0c\u4e0d\u4f1a\u9020\u6210\u7f13\u51b2\u533a\u6ea2\u51fa\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5e38\u7528\u547d\u4ee4\uff1a")," ",(0,l.kt)("inlineCode",{parentName:"li"},"set,get,strlen,exists,decr,incr,setex")," \u7b49\u7b49\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5e94\u7528\u573a\u666f\uff1a")," \u4e00\u822c\u5e38\u7528\u5728\u9700\u8981",(0,l.kt)("strong",{parentName:"li"},"\u8ba1\u6570"),"\u7684\u573a\u666f\uff0c\u6bd4\u5982\u7528\u6237\u7684\u8bbf\u95ee\u6b21\u6570\u3001\u70ed\u70b9\u6587\u7ae0\u7684\u70b9\u8d5e\u8f6c\u53d1\u6570\u91cf\uff1b",(0,l.kt)("strong",{parentName:"li"},"\u7f13\u5b58"),"\uff0c\u7ecf\u5178\u4f7f\u7528\u573a\u666f\uff0c\u628a\u5e38\u7528\u4fe1\u606f\uff0c\u5b57\u7b26\u4e32\uff0c\u56fe\u7247\u6216\u8005\u89c6\u9891\u7b49\u4fe1\u606f\u653e\u5230redis\u4e2d\uff0credis\u4f5c\u4e3a\u7f13\u5b58\u5c42\uff0cmysql\u505a\u6301\u4e45\u5316\u5c42\uff0c\u964d\u4f4emysql\u7684\u8bfb\u5199\u538b\u529b\uff1b",(0,l.kt)("strong",{parentName:"li"},"session"),"\uff0c\u5e38\u89c1\u65b9\u6848spring session + redis\u5b9e\u73b0session\u5171\u4eab\u7b49\u7b49\u3002")),(0,l.kt)("h4",{id:"2\ufe0f\u20e3list"},"2\ufe0f\u20e3list"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4ecb\u7ecd")," \uff1a",(0,l.kt)("strong",{parentName:"li"},"list")," \u5373\u662f ",(0,l.kt)("strong",{parentName:"li"},"\u94fe\u8868"),"\u3002\u94fe\u8868\u662f\u4e00\u79cd\u975e\u5e38\u5e38\u89c1\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7279\u70b9\u662f\u6613\u4e8e\u6570\u636e\u5143\u7d20\u7684\u63d2\u5165\u548c\u5220\u9664\u5e76\u4e14\u53ef\u4ee5\u7075\u6d3b\u8c03\u6574\u94fe\u8868\u957f\u5ea6\uff0c\u4f46\u662f\u94fe\u8868\u7684\u968f\u673a\u8bbf\u95ee\u56f0\u96be\u3002\u8bb8\u591a\u9ad8\u7ea7\u7f16\u7a0b\u8bed\u8a00\u90fd\u5185\u7f6e\u4e86\u94fe\u8868\u7684\u5b9e\u73b0\u6bd4\u5982 Java \u4e2d\u7684 ",(0,l.kt)("strong",{parentName:"li"},"LinkedList"),"\uff0c\u4f46\u662f C \u8bed\u8a00\u5e76\u6ca1\u6709\u5b9e\u73b0\u94fe\u8868\uff0c\u6240\u4ee5 Redis \u5b9e\u73b0\u4e86\u81ea\u5df1\u7684\u94fe\u8868\u6570\u636e\u7ed3\u6784\u3002Redis \u7684 list \u7684\u5b9e\u73b0\u4e3a\u4e00\u4e2a ",(0,l.kt)("strong",{parentName:"li"},"\u53cc\u5411\u94fe\u8868"),"\uff0c\u5373\u53ef\u4ee5\u652f\u6301\u53cd\u5411\u67e5\u627e\u548c\u904d\u5386\uff0c\u66f4\u65b9\u4fbf\u64cd\u4f5c\uff0c\u4e0d\u8fc7\u5e26\u6765\u4e86\u90e8\u5206\u989d\u5916\u7684\u5185\u5b58\u5f00\u9500\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5e38\u7528\u547d\u4ee4:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"rpush,lpop,lpush,rpop,lrange,llen")," \u7b49\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5e94\u7528\u573a\u666f:")," \u53d1\u5e03\u4e0e\u8ba2\u9605\u6216\u8005\u8bf4\u6d88\u606f\u961f\u5217\u3001\u6162\u67e5\u8be2\u3002",(0,l.kt)("ol",{parentName:"li"},(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5fae\u535aTimeLine"),": \u6709\u4eba\u53d1\u5e03\u5fae\u535a\uff0c\u7528lpush\u52a0\u5165\u65f6\u95f4\u8f74\uff0c\u5c55\u793a\u65b0\u7684\u5217\u8868\u4fe1\u606f\u3002")))),(0,l.kt)("h4",{id:"3\ufe0f\u20e3hash"},"3\ufe0f\u20e3hash"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4ecb\u7ecd")," \uff1ahash \u7c7b\u4f3c\u4e8e JDK1.8 \u524d\u7684 HashMap\uff0c\u5185\u90e8\u5b9e\u73b0\u4e5f\u5dee\u4e0d\u591a(\u6570\u7ec4 + \u94fe\u8868)\u3002\u4e0d\u8fc7\uff0cRedis \u7684 hash \u505a\u4e86\u66f4\u591a\u4f18\u5316\u3002\u53e6\u5916\uff0chash \u662f\u4e00\u4e2a string \u7c7b\u578b\u7684 field \u548c value \u7684\u6620\u5c04\u8868\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u7279\u522b\u9002\u5408\u7528\u4e8e\u5b58\u50a8\u5bf9\u8c61"),"\uff0c\u540e\u7eed\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u4ec5\u4ec5\u4fee\u6539\u8fd9\u4e2a\u5bf9\u8c61\u4e2d\u7684\u67d0\u4e2a\u5b57\u6bb5\u7684\u503c\u3002 \u6bd4\u5982\u6211\u4eec\u53ef\u4ee5 hash \u6570\u636e\u7ed3\u6784\u6765\u5b58\u50a8\u7528\u6237\u4fe1\u606f\uff0c\u5546\u54c1\u4fe1\u606f\u7b49\u7b49\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5e38\u7528\u547d\u4ee4\uff1a")," ",(0,l.kt)("inlineCode",{parentName:"li"},"hset,hmset,hexists,hget,hgetall,hkeys,hvals")," \u7b49\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5e94\u7528\u573a\u666f:")," \u7cfb\u7edf\u4e2d\u5bf9\u8c61\u6570\u636e\u7684\u5b58\u50a8\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u7f13\u5b58"),"\uff1a \u80fd\u76f4\u89c2\uff0c\u76f8\u6bd4string\u66f4\u8282\u7701\u7a7a\u95f4\uff0c\u7684\u7ef4\u62a4\u7f13\u5b58\u4fe1\u606f\uff0c\u5982\u7528\u6237\u4fe1\u606f\uff0c\u89c6\u9891\u4fe1\u606f\u7b49\u3002")),(0,l.kt)("h4",{id:"4\ufe0f\u20e3set"},"4\ufe0f\u20e3set"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4ecb\u7ecd \uff1a")," set \u7c7b\u4f3c\u4e8e Java \u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"HashSet"),"  \u3002Redis \u4e2d\u7684 set \u7c7b\u578b\u662f\u4e00\u79cd\u65e0\u5e8f\u96c6\u5408\uff0c\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u6ca1\u6709\u5148\u540e\u987a\u5e8f\u3002\u5f53\u4f60\u9700\u8981\u5b58\u50a8\u4e00\u4e2a\u5217\u8868\u6570\u636e\uff0c\u53c8\u4e0d\u5e0c\u671b\u51fa\u73b0\u91cd\u590d\u6570\u636e\u65f6\uff0cset  \u662f\u4e00\u4e2a\u5f88\u597d\u7684\u9009\u62e9\uff0c\u5e76\u4e14 set \u63d0\u4f9b\u4e86\u5224\u65ad\u67d0\u4e2a\u6210\u5458\u662f\u5426\u5728\u4e00\u4e2a set \u96c6\u5408\u5185\u7684\u91cd\u8981\u63a5\u53e3\uff0c\u8fd9\u4e2a\u4e5f\u662f list \u6240\u4e0d\u80fd\u63d0\u4f9b\u7684\u3002\u53ef\u4ee5\u57fa\u4e8e set  \u8f7b\u6613\u5b9e\u73b0\u4ea4\u96c6\u3001\u5e76\u96c6\u3001\u5dee\u96c6\u7684\u64cd\u4f5c\u3002\u6bd4\u5982\uff1a\u4f60\u53ef\u4ee5\u5c06\u4e00\u4e2a\u7528\u6237\u6240\u6709\u7684\u5173\u6ce8\u4eba\u5b58\u5728\u4e00\u4e2a\u96c6\u5408\u4e2d\uff0c\u5c06\u5176\u6240\u6709\u7c89\u4e1d\u5b58\u5728\u4e00\u4e2a\u96c6\u5408\u3002Redis  \u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u5b9e\u73b0\u5982\u5171\u540c\u5173\u6ce8\u3001\u5171\u540c\u7c89\u4e1d\u3001\u5171\u540c\u559c\u597d\u7b49\u529f\u80fd\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e5f\u5c31\u662f\u6c42\u4ea4\u96c6\u7684\u8fc7\u7a0b\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5e38\u7528\u547d\u4ee4\uff1a")," ",(0,l.kt)("inlineCode",{parentName:"li"},"sadd,spop,smembers,sismember,scard,sinterstore,sunion")," \u7b49\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5e94\u7528\u573a\u666f:")," \u9700\u8981\u5b58\u653e\u7684\u6570\u636e\u4e0d\u80fd\u91cd\u590d\u4ee5\u53ca\u9700\u8981\u83b7\u53d6\u591a\u4e2a\u6570\u636e\u6e90\u4ea4\u96c6\u548c\u5e76\u96c6\u7b49\u573a\u666f\uff1b",(0,l.kt)("strong",{parentName:"li"},"\u6807\u7b7e"),"\uff08tag\uff09,\u7ed9\u7528\u6237\u6dfb\u52a0\u6807\u7b7e\uff0c\u6216\u8005\u7528\u6237\u7ed9\u6d88\u606f\u6dfb\u52a0\u6807\u7b7e\uff0c\u8fd9\u6837\u6709\u540c\u4e00\u6807\u7b7e\u6216\u8005\u7c7b\u4f3c\u6807\u7b7e\u7684\u53ef\u4ee5\u7ed9\u63a8\u8350\u5173\u6ce8\u7684\u4e8b\u6216\u8005\u5173\u6ce8\u7684\u4eba\uff1b",(0,l.kt)("strong",{parentName:"li"},"\u70b9\u8d5e\uff0c\u6216\u70b9\u8e29\uff0c\u6536\u85cf\u7b49"),"\uff0c\u53ef\u4ee5\u653e\u5230set\u4e2d\u5b9e\u73b0\u3002")),(0,l.kt)("h4",{id:"5\ufe0f\u20e3zset"},"5\ufe0f\u20e3Zset"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u4ecb\u7ecd \uff1a")," \u548c set \u76f8\u6bd4\uff0csorted set \u589e\u52a0\u4e86\u4e00\u4e2a\u6743\u91cd\u53c2\u6570 score\uff0c\u4f7f\u5f97\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u80fd\u591f\u6309 score \u8fdb\u884c\u6709\u5e8f\u6392\u5217\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7 score \u7684\u8303\u56f4\u6765\u83b7\u53d6\u5143\u7d20\u7684\u5217\u8868\u3002\u6709\u70b9\u50cf\u662f Java \u4e2d HashMap \u548c TreeSet \u7684\u7ed3\u5408\u4f53\u3002")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u5e38\u7528\u547d\u4ee4\uff1a")," ",(0,l.kt)("inlineCode",{parentName:"p"},"ZADD \u5c06\u4e00\u4e2a\u5e26\u6709\u7ed9\u5b9a\u5206\u503c\u7684\u6210\u5458\u6dfb\u52a0\u5230\u6709\u5e8f\u96c6\u5408\u91cc\u9762,ZRANGE \u6839\u636e\u5143\u7d20\u5728\u6709\u5e8f\u96c6\u5408\u4e2d\u6240\u5904\u7684\u4f4d\u7f6e\uff0c\u4ece\u6709\u5e8f\u96c6\u5408\u4e2d\u83b7\u53d6\u591a\u4e2a\u5143\u7d20,ZREM \u5982\u679c\u7ed9\u5b9a\u5143\u7d20\u6210\u5458\u5b58\u5728\u4e8e\u6709\u5e8f\u96c6\u5408\u4e2d\uff0c\u90a3\u4e48\u5c31\u79fb\u9664\u8fd9\u4e2a\u5143\u7d20")," \u7b49\u3002")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u5e94\u7528\u573a\u666f:")," ",(0,l.kt)("strong",{parentName:"p"},"\u6392\u884c\u699c"),"   \u9700\u8981\u5bf9\u6570\u636e\u6839\u636e\u67d0\u4e2a\u6743\u91cd\u8fdb\u884c\u6392\u5e8f\u7684\u573a\u666f\u3002\u4f8b\u5982\u5c0f\u8bf4\u89c6\u9891\u7b49\u7f51\u7ad9\u9700\u8981\u5bf9\u7528\u6237\u4e0a\u4f20\u7684\u5c0f\u8bf4\u89c6\u9891\u505a\u6392\u884c\u699c\uff0c\u699c\u5355\u53ef\u4ee5\u6309\u7167\u7528\u6237\u5173\u6ce8\u6570\uff0c\u66f4\u65b0\u65f6\u95f4\uff0c\u5b57\u6570\u7b49\u6253\u5206\uff0c\u505a\u6392\u884c\uff1b\u5728\u76f4\u64ad\u7cfb\u7edf\u4e2d\uff0c\u5b9e\u65f6\u6392\u884c\u4fe1\u606f\u5305\u542b\u76f4\u64ad\u95f4\u5728\u7ebf\u7528\u6237\u5217\u8868\uff1b\u5404\u79cd\u793c\u7269",(0,l.kt)("strong",{parentName:"p"},"\u6392\u884c\u699c"),"\uff0c\u5f39\u5e55\u6d88\u606f\uff08\u53ef\u4ee5\u7406\u89e3\u4e3a\u6309\u6d88\u606f\u7ef4\u5ea6\u7684\u6d88\u606f\u6392\u884c\u699c\uff09\u7b49\u4fe1\u606f\u3002")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u6709\u5e8f\u96c6\u5408\u662f\u901a\u8fc7\u4e24\u79cd\u6570\u636e\u7ed3\u6784\u5b9e\u73b0\uff1a"),(0,l.kt)("ol",{parentName:"li"},(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u538b\u7f29\u5217\u8868(ziplist)"),": ziplist\u662f\u4e3a\u4e86\u63d0\u9ad8\u5b58\u50a8\u6548\u7387\u800c\u8bbe\u8ba1\u7684\u4e00\u79cd\u7279\u6b8a\u7f16\u7801\u7684\u53cc\u5411\u94fe\u8868\u3002\u5b83\u53ef\u4ee5\u5b58\u50a8\u5b57\u7b26\u4e32\u6216\u8005\u6574\u6570\uff0c\u5b58\u50a8\u6574\u6570\u65f6\u662f\u91c7\u7528\u6574\u6570\u7684\u4e8c\u8fdb\u5236\u800c\u4e0d\u662f\u5b57\u7b26\u4e32\u5f62\u5f0f\u5b58\u50a8\u3002\u5b83\u80fd\u5728O(1)\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e0b\u5b8c\u6210list\u4e24\u7aef\u7684push\u548cpop\u64cd\u4f5c\u3002\u4f46\u662f\u56e0\u4e3a\u6bcf\u6b21\u64cd\u4f5c\u90fd\u9700\u8981\u91cd\u65b0\u5206\u914dziplist\u7684\u5185\u5b58\uff0c\u6240\u4ee5\u5b9e\u9645\u590d\u6742\u5ea6\u548cziplist\u7684\u5185\u5b58\u4f7f\u7528\u91cf\u76f8\u5173"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u8df3\u8dc3\u8868\uff08zSkiplist)"),": \u8df3\u8dc3\u8868\u7684\u6027\u80fd\u53ef\u4ee5\u4fdd\u8bc1\u5728\u67e5\u627e\uff0c\u5220\u9664\uff0c\u6dfb\u52a0\u7b49\u64cd\u4f5c\u7684\u65f6\u5019\u5728\u5bf9\u6570\u671f\u671b\u65f6\u95f4\u5185\u5b8c\u6210\uff0c\u8fd9\u4e2a\u6027\u80fd\u662f\u53ef\u4ee5\u548c\u5e73\u8861\u6811\u6765\u76f8\u6bd4\u8f83\u7684\uff0c\u800c\u4e14\u5728\u5b9e\u73b0\u65b9\u9762\u6bd4\u5e73\u8861\u6811\u8981\u4f18\u96c5\uff0c\u8fd9\u662f\u91c7\u7528\u8df3\u8dc3\u8868\u7684\u4e3b\u8981\u539f\u56e0\u3002\u8df3\u8dc3\u8868\u7684\u590d\u6742\u5ea6\u662fO(log(n))\u3002")))),(0,l.kt)("p",null,"\u968f\u7740 Redis \u7248\u672c\u7684\u66f4\u65b0\uff0c\u540e\u9762\u53c8\u652f\u6301\u4e86\u56db\u79cd\u6570\u636e\u7c7b\u578b\uff1aBitMap\uff082.2 \u7248\u65b0\u589e\uff09\u3001HyperLogLog\uff082.8 \u7248\u65b0\u589e\uff09\u3001GEO\uff083.2 \u7248\u65b0\u589e\uff09\u3001Stream\uff085.0 \u7248\u65b0\u589e\uff09"),(0,l.kt)("h4",{id:"\u7279\u6b8a\u7c7b\u578b-bitmap"},"\u7279\u6b8a\u7c7b\u578b\uff1a bitmap"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4ecb\u7ecd\uff1a")," bitmap \u5b58\u50a8\u7684\u662f\u8fde\u7eed\u7684\u4e8c\u8fdb\u5236\u6570\u5b57\uff080 \u548c 1\uff09\uff0c\u901a\u8fc7 bitmap, \u53ea\u9700\u8981\u4e00\u4e2a bit \u4f4d\u6765\u8868\u793a\u67d0\u4e2a\u5143\u7d20\u5bf9\u5e94\u7684\u503c\u6216\u8005\u72b6\u6001\uff0ckey \u5c31\u662f\u5bf9\u5e94\u5143\u7d20\u672c\u8eab \u3002\u6211\u4eec\u77e5\u9053 8 \u4e2a bit \u53ef\u4ee5\u7ec4\u6210\u4e00\u4e2a byte\uff0c\u6240\u4ee5 bitmap \u672c\u8eab\u4f1a\u6781\u5927\u7684\u8282\u7701\u50a8\u5b58\u7a7a\u95f4\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5e38\u7528\u547d\u4ee4\uff1a")," ",(0,l.kt)("inlineCode",{parentName:"li"},"setbit")," \u3001",(0,l.kt)("inlineCode",{parentName:"li"},"getbit")," \u3001",(0,l.kt)("inlineCode",{parentName:"li"},"bitcount"),"\u3001",(0,l.kt)("inlineCode",{parentName:"li"},"bitop")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5e94\u7528\u573a\u666f\uff1a")," \u9002\u5408\u9700\u8981\u4fdd\u5b58\u72b6\u6001\u4fe1\u606f\uff08\u6bd4\u5982\u662f\u5426\u7b7e\u5230\u3001\u662f\u5426\u767b\u5f55...\uff09\u5e76\u9700\u8981\u8fdb\u4e00\u6b65\u5bf9\u8fd9\u4e9b\u4fe1\u606f\u8fdb\u884c\u5206\u6790\u7684\u573a\u666f\u3002\u6bd4\u5982\u7528\u6237\u7b7e\u5230\u60c5\u51b5\u3001\u6d3b\u8dc3\u7528\u6237\u60c5\u51b5\u3001\u7528\u6237\u884c\u4e3a\u7edf\u8ba1\uff08\u6bd4\u5982\u662f\u5426\u70b9\u8d5e\u8fc7\u67d0\u4e2a\u89c6\u9891\uff09\u3002")),(0,l.kt)("h3",{id:"redis-\u5355\u7ebf\u7a0b\u6a21\u578b\u4e86\u89e3\u5417"},"Redis \u5355\u7ebf\u7a0b\u6a21\u578b\u4e86\u89e3\u5417\uff1f"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Redis \u57fa\u4e8e Reactor \u6a21\u5f0f\u6765\u8bbe\u8ba1\u5f00\u53d1\u4e86\u81ea\u5df1\u7684\u4e00\u5957\u9ad8\u6548\u7684\u4e8b\u4ef6\u5904\u7406\u6a21\u578b")," \uff08Netty \u7684\u7ebf\u7a0b\u6a21\u578b\u4e5f\u57fa\u4e8e Reactor \u6a21\u5f0f\uff0cReactor \u6a21\u5f0f\u4e0d\u6127\u662f\u9ad8\u6027\u80fd IO \u7684\u57fa\u77f3\uff09\uff0c\u8fd9\u5957\u4e8b\u4ef6\u5904\u7406\u6a21\u578b\u5bf9\u5e94\u7684\u662f Redis \u4e2d\u7684\u6587\u4ef6\u4e8b\u4ef6\u5904\u7406\u5668\uff08file  event handler\uff09\u3002\u7531\u4e8e\u6587\u4ef6\u4e8b\u4ef6\u5904\u7406\u5668\uff08file event handler\uff09\u662f\u5355\u7ebf\u7a0b\u65b9\u5f0f\u8fd0\u884c\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u4e00\u822c\u90fd\u8bf4 Redis  \u662f\u5355\u7ebf\u7a0b\u6a21\u578b\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u65e2\u7136\u662f\u5355\u7ebf\u7a0b\uff0c\u90a3\u600e\u4e48\u76d1\u542c\u5927\u91cf\u7684\u5ba2\u6237\u7aef\u8fde\u63a5\u5462\uff1f")),(0,l.kt)("p",null,"Redis \u901a\u8fc7",(0,l.kt)("strong",{parentName:"p"},"IO \u591a\u8def\u590d\u7528\u7a0b\u5e8f")," \u6765\u76d1\u542c\u6765\u81ea\u5ba2\u6237\u7aef\u7684\u5927\u91cf\u8fde\u63a5\uff08\u6216\u8005\u8bf4\u662f\u76d1\u542c\u591a\u4e2a socket\uff09\uff0c\u5b83\u4f1a\u5c06\u611f\u5174\u8da3\u7684\u4e8b\u4ef6\u53ca\u7c7b\u578b\uff08\u8bfb\u3001\u5199\uff09\u6ce8\u518c\u5230\u5185\u6838\u4e2d\u5e76\u76d1\u542c\u6bcf\u4e2a\u4e8b\u4ef6\u662f\u5426\u53d1\u751f\u3002"),(0,l.kt)("p",null,"\u8fd9\u6837\u7684\u597d\u5904\u975e\u5e38\u660e\u663e\uff1a ",(0,l.kt)("strong",{parentName:"p"},"I/O \u591a\u8def\u590d\u7528\u6280\u672f\u7684\u4f7f\u7528\u8ba9 Redis \u4e0d\u9700\u8981\u989d\u5916\u521b\u5efa\u591a\u4f59\u7684\u7ebf\u7a0b\u6765\u76d1\u542c\u5ba2\u6237\u7aef\u7684\u5927\u91cf\u8fde\u63a5\uff0c\u964d\u4f4e\u4e86\u8d44\u6e90\u7684\u6d88\u8017"),"\uff08\u548c NIO \u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Selector")," \u7ec4\u4ef6\u5f88\u50cf\uff09\u3002"),(0,l.kt)("p",null,"\u53e6\u5916\uff0c Redis \u670d\u52a1\u5668\u662f\u4e00\u4e2a\u4e8b\u4ef6\u9a71\u52a8\u7a0b\u5e8f\uff0c\u670d\u52a1\u5668\u9700\u8981\u5904\u7406\u4e24\u7c7b\u4e8b\u4ef6\uff1a1. \u6587\u4ef6\u4e8b\u4ef6; 2. \u65f6\u95f4\u4e8b\u4ef6\u3002"),(0,l.kt)("p",null,"\u65f6\u95f4\u4e8b\u4ef6\u4e0d\u9700\u8981\u591a\u82b1\u65f6\u95f4\u4e86\u89e3\uff0c\u6211\u4eec\u63a5\u89e6\u6700\u591a\u7684\u8fd8\u662f ",(0,l.kt)("strong",{parentName:"p"},"\u6587\u4ef6\u4e8b\u4ef6"),"\uff08\u5ba2\u6237\u7aef\u8fdb\u884c\u8bfb\u53d6\u5199\u5165\u7b49\u64cd\u4f5c\uff0c\u6d89\u53ca\u4e00\u7cfb\u5217\u7f51\u7edc\u901a\u4fe1\uff09\u3002"),(0,l.kt)("p",null,"\u300aRedis \u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u300b\u6709\u4e00\u6bb5\u8bdd\u662f\u5982\u662f\u4ecb\u7ecd\u6587\u4ef6\u4e8b\u4ef6\u7684\uff0c\u6211\u89c9\u5f97\u5199\u5f97\u633a\u4e0d\u9519\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Redis \u57fa\u4e8e Reactor \u6a21\u5f0f\u5f00\u53d1\u4e86\u81ea\u5df1\u7684\u7f51\u7edc\u4e8b\u4ef6\u5904\u7406\u5668\uff1a\u8fd9\u4e2a\u5904\u7406\u5668\u88ab\u79f0\u4e3a\u6587\u4ef6\u4e8b\u4ef6\u5904\u7406\u5668\uff08file event  handler\uff09\u3002\u6587\u4ef6\u4e8b\u4ef6\u5904\u7406\u5668\u4f7f\u7528 I/O  \u591a\u8def\u590d\u7528\uff08multiplexing\uff09\u7a0b\u5e8f\u6765\u540c\u65f6\u76d1\u542c\u591a\u4e2a\u5957\u63a5\u5b57\uff0c\u5e76\u6839\u636e\u5957\u63a5\u5b57\u76ee\u524d\u6267\u884c\u7684\u4efb\u52a1\u6765\u4e3a\u5957\u63a5\u5b57\u5173\u8054\u4e0d\u540c\u7684\u4e8b\u4ef6\u5904\u7406\u5668\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u5f53\u88ab\u76d1\u542c\u7684\u5957\u63a5\u5b57\u51c6\u5907\u597d\u6267\u884c\u8fde\u63a5\u5e94\u7b54\uff08accept\uff09\u3001\u8bfb\u53d6\uff08read\uff09\u3001\u5199\u5165\uff08write\uff09\u3001\u5173 \u95ed\uff08close\uff09\u7b49\u64cd\u4f5c\u65f6\uff0c\u4e0e\u64cd\u4f5c\u76f8\u5bf9\u5e94\u7684\u6587\u4ef6\u4e8b\u4ef6\u5c31\u4f1a\u4ea7\u751f\uff0c\u8fd9\u65f6\u6587\u4ef6\u4e8b\u4ef6\u5904\u7406\u5668\u5c31\u4f1a\u8c03\u7528\u5957\u63a5\u5b57\u4e4b\u524d\u5173\u8054\u597d\u7684\u4e8b\u4ef6\u5904\u7406\u5668\u6765\u5904\u7406\u8fd9\u4e9b\u4e8b\u4ef6\u3002"),(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"\u867d\u7136\u6587\u4ef6\u4e8b\u4ef6\u5904\u7406\u5668\u4ee5\u5355\u7ebf\u7a0b\u65b9\u5f0f\u8fd0\u884c\uff0c\u4f46\u901a\u8fc7\u4f7f\u7528 I/O \u591a\u8def\u590d\u7528\u7a0b\u5e8f\u6765\u76d1\u542c\u591a\u4e2a\u5957\u63a5\u5b57"),"\uff0c\u6587\u4ef6\u4e8b\u4ef6\u5904\u7406\u5668\u65e2\u5b9e\u73b0\u4e86\u9ad8\u6027\u80fd\u7684\u7f51\u7edc\u901a\u4fe1\u6a21\u578b\uff0c\u53c8\u53ef\u4ee5\u5f88\u597d\u5730\u4e0e Redis \u670d\u52a1\u5668\u4e2d\u5176\u4ed6\u540c\u6837\u4ee5\u5355\u7ebf\u7a0b\u65b9\u5f0f\u8fd0\u884c\u7684\u6a21\u5757\u8fdb\u884c\u5bf9\u63a5\uff0c\u8fd9\u4fdd\u6301\u4e86 Redis \u5185\u90e8\u5355\u7ebf\u7a0b\u8bbe\u8ba1\u7684\u7b80\u5355\u6027\u3002")),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u51fa\uff0c\u6587\u4ef6\u4e8b\u4ef6\u5904\u7406\u5668\uff08file event handler\uff09\u4e3b\u8981\u662f\u5305\u542b 4 \u4e2a\u90e8\u5206\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u591a\u4e2a socket\uff08\u5ba2\u6237\u7aef\u8fde\u63a5\uff09"),(0,l.kt)("li",{parentName:"ul"},"IO \u591a\u8def\u590d\u7528\u7a0b\u5e8f\uff08\u652f\u6301\u591a\u4e2a\u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u5173\u952e\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u6587\u4ef6\u4e8b\u4ef6\u5206\u6d3e\u5668\uff08\u5c06 socket \u5173\u8054\u5230\u76f8\u5e94\u7684\u4e8b\u4ef6\u5904\u7406\u5668\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u4e8b\u4ef6\u5904\u7406\u5668\uff08\u8fde\u63a5\u5e94\u7b54\u5904\u7406\u5668\u3001\u547d\u4ee4\u8bf7\u6c42\u5904\u7406\u5668\u3001\u547d\u4ee4\u56de\u590d\u5904\u7406\u5668\uff09")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220716153002622",src:n(45808).Z,width:"1622",height:"1547"})),(0,l.kt)("p",null,"\u56fe\u4e2d\u7684\u84dd\u8272\u90e8\u5206\u662f\u4e00\u4e2a\u4e8b\u4ef6\u5faa\u73af\uff0c\u662f\u7531\u4e3b\u7ebf\u7a0b\u8d1f\u8d23\u7684\uff0c\u53ef\u4ee5\u770b\u5230\u7f51\u7edc I/O \u548c\u547d\u4ee4\u5904\u7406\u90fd\u662f\u5355\u7ebf\u7a0b\u3002 Redis \u521d\u59cb\u5316\u7684\u65f6\u5019\uff0c\u4f1a\u505a\u4e0b\u9762\u8fd9\u51e0\u5e74\u4e8b\u60c5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9996\u5148\uff0c\u8c03\u7528 epoll_create() \u521b\u5efa\u4e00\u4e2a epoll \u5bf9\u8c61\u548c\u8c03\u7528 socket() \u4e00\u4e2a\u670d\u52a1\u7aef socket"),(0,l.kt)("li",{parentName:"ul"},"\u7136\u540e\uff0c\u8c03\u7528 bind() \u7ed1\u5b9a\u7aef\u53e3\u548c\u8c03\u7528 listen() \u76d1\u542c\u8be5 socket\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7136\u540e\uff0c\u5c06\u8c03\u7528 epoll_crt() \u5c06 listen socket \u52a0\u5165\u5230 epoll\uff0c\u540c\u65f6\u6ce8\u518c\u300c\u8fde\u63a5\u4e8b\u4ef6\u300d\u5904\u7406\u51fd\u6570\u3002")),(0,l.kt)("p",null,"\u521d\u59cb\u5316\u5b8c\u540e\uff0c\u4e3b\u7ebf\u7a0b\u5c31\u8fdb\u5165\u5230\u4e00\u4e2a",(0,l.kt)("strong",{parentName:"p"},"\u4e8b\u4ef6\u5faa\u73af\u51fd\u6570"),"\uff0c\u4e3b\u8981\u4f1a\u505a\u4ee5\u4e0b\u4e8b\u60c5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9996\u5148\uff0c\u5148\u8c03\u7528",(0,l.kt)("strong",{parentName:"li"},"\u5904\u7406\u53d1\u9001\u961f\u5217\u51fd\u6570"),"\uff0c\u770b\u662f\u53d1\u9001\u961f\u5217\u91cc\u662f\u5426\u6709\u4efb\u52a1\uff0c\u5982\u679c\u6709\u53d1\u9001\u4efb\u52a1\uff0c\u5219\u901a\u8fc7 write \u51fd\u6570\u5c06\u5ba2\u6237\u7aef\u53d1\u9001\u7f13\u5b58\u533a\u91cc\u7684\u6570\u636e\u53d1\u9001\u51fa\u53bb\uff0c\u5982\u679c\u8fd9\u4e00\u8f6e\u6570\u636e\u6ca1\u6709\u53d1\u751f\u5b8c\uff0c\u5c31\u4f1a\u6ce8\u518c\u5199\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff0c\u7b49\u5f85 epoll_wait \u53d1\u73b0\u53ef\u5199\u540e\u518d\u5904\u7406 \u3002"),(0,l.kt)("li",{parentName:"ul"},"\u63a5\u7740\uff0c\u8c03\u7528 epoll_wait \u51fd\u6570\u7b49\u5f85\u4e8b\u4ef6\u7684\u5230\u6765\uff1a",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u662f",(0,l.kt)("strong",{parentName:"li"},"\u8fde\u63a5\u4e8b\u4ef6"),"\u5230\u6765\uff0c\u5219\u4f1a\u8c03\u7528",(0,l.kt)("strong",{parentName:"li"},"\u8fde\u63a5\u4e8b\u4ef6\u5904\u7406\u51fd\u6570"),"\uff0c\u8be5\u51fd\u6570\u4f1a\u505a\u8fd9\u4e9b\u4e8b\u60c5\uff1a\u8c03\u7528 accpet \u83b7\u53d6\u5df2\u8fde\u63a5\u7684 socket ->  \u8c03\u7528 epoll_ctr \u5c06\u5df2\u8fde\u63a5\u7684 socket \u52a0\u5165\u5230 epoll -> \u6ce8\u518c\u300c\u8bfb\u4e8b\u4ef6\u300d\u5904\u7406\u51fd\u6570\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u662f",(0,l.kt)("strong",{parentName:"li"},"\u8bfb\u4e8b\u4ef6"),"\u5230\u6765\uff0c\u5219\u4f1a\u8c03\u7528",(0,l.kt)("strong",{parentName:"li"},"\u8bfb\u4e8b\u4ef6\u5904\u7406\u51fd\u6570"),"\uff0c\u8be5\u51fd\u6570\u4f1a\u505a\u8fd9\u4e9b\u4e8b\u60c5\uff1a\u8c03\u7528 read \u83b7\u53d6\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6570\u636e -> \u89e3\u6790\u547d\u4ee4 -> \u5904\u7406\u547d\u4ee4 -> \u5c06\u5ba2\u6237\u7aef\u5bf9\u8c61\u6dfb\u52a0\u5230\u53d1\u9001\u961f\u5217 -> \u5c06\u6267\u884c\u7ed3\u679c\u5199\u5230\u53d1\u9001\u7f13\u5b58\u533a\u7b49\u5f85\u53d1\u9001\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u662f",(0,l.kt)("strong",{parentName:"li"},"\u5199\u4e8b\u4ef6"),"\u5230\u6765\uff0c\u5219\u4f1a\u8c03\u7528",(0,l.kt)("strong",{parentName:"li"},"\u5199\u4e8b\u4ef6\u5904\u7406\u51fd\u6570"),"\uff0c\u8be5\u51fd\u6570\u4f1a\u505a\u8fd9\u4e9b\u4e8b\u60c5\uff1a\u901a\u8fc7 write \u51fd\u6570\u5c06\u5ba2\u6237\u7aef\u53d1\u9001\u7f13\u5b58\u533a\u91cc\u7684\u6570\u636e\u53d1\u9001\u51fa\u53bb\uff0c\u5982\u679c\u8fd9\u4e00\u8f6e\u6570\u636e\u6ca1\u6709\u53d1\u751f\u5b8c\uff0c\u5c31\u4f1a\u7ee7\u7eed\u6ce8\u518c\u5199\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff0c\u7b49\u5f85 epoll_wait \u53d1\u73b0\u53ef\u5199\u540e\u518d\u5904\u7406 \u3002")))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f \u63d0\u9192\uff1a\u7bc7\u5e45\u8fc7\u957f\uff0c\u5982\u679c\u6ca1\u6709\u8010\u5fc3\u5efa\u8bae\u76f4\u63a5\u80cc\u8bf5\u5373\u53ef"),(0,l.kt)("p",{parentName:"blockquote"},"\u6df1\u5165\u4e86\u89e3Reactor\u76f4\u901a\u8f66\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://xiaolincoding.com/os/8_network_system/reactor.html#%E5%8D%95-reactor-%E5%8D%95%E8%BF%9B%E7%A8%8B-%E7%BA%BF%E7%A8%8B"},"https://xiaolincoding.com/os/8_network_system/reactor.html#%E5%8D%95-reactor-%E5%8D%95%E8%BF%9B%E7%A8%8B-%E7%BA%BF%E7%A8%8B")),(0,l.kt)("p",{parentName:"blockquote"},"I/O\u591a\u8def\u590d\u7528\u76f4\u901a\u8f66\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://mp.weixin.qq.com/s/Qpa0qXxuIM8jrBqDaXmVNA"},"https://mp.weixin.qq.com/s/Qpa0qXxuIM8jrBqDaXmVNA"))),(0,l.kt)("h3",{id:"redis60-\u4e4b\u540e\u4e3a\u4f55\u5f15\u5165\u4e86\u591a\u7ebf\u7a0b"},"Redis6.0 \u4e4b\u540e\u4e3a\u4f55\u5f15\u5165\u4e86\u591a\u7ebf\u7a0b\uff1f"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Redis6.0 \u5f15\u5165\u591a\u7ebf\u7a0b\u4e3b\u8981\u662f\u4e3a\u4e86\u63d0\u9ad8\u7f51\u7edc IO \u8bfb\u5199\u6027\u80fd"),"\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u7b97\u662f Redis \u4e2d\u7684\u4e00\u4e2a\u6027\u80fd\u74f6\u9888\uff08Redis \u7684\u74f6\u9888\u4e3b\u8981\u53d7\u9650\u4e8e\u5185\u5b58\u548c\u7f51\u7edc\uff09\u3002"),(0,l.kt)("p",null,"\u867d\u7136\uff0cRedis6.0 \u5f15\u5165\u4e86\u591a\u7ebf\u7a0b\uff0c\u4f46\u662f Redis \u7684\u591a\u7ebf\u7a0b\u53ea\u662f\u5728\u7f51\u7edc\u6570\u636e\u7684\u8bfb\u5199\u8fd9\u7c7b\u8017\u65f6\u64cd\u4f5c\u4e0a\u4f7f\u7528\u4e86\uff0c\u6267\u884c\u547d\u4ee4\u4ecd\u7136\u662f\u5355\u7ebf\u7a0b\u987a\u5e8f\u6267\u884c\u3002\u56e0\u6b64\uff0c\u4f60\u4e5f\u4e0d\u9700\u8981\u62c5\u5fc3\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u3002"),(0,l.kt)("p",null,"Redis6.0 \u7684\u591a\u7ebf\u7a0b\u9ed8\u8ba4\u662f\u7981\u7528\u7684\uff0c\u53ea\u4f7f\u7528\u4e3b\u7ebf\u7a0b\u3002\u5982\u9700\u5f00\u542f\u9700\u8981\u4fee\u6539 redis \u914d\u7f6e\u6587\u4ef6 ",(0,l.kt)("inlineCode",{parentName:"p"},"redis.conf")," \uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"io-threads-do-reads yes\n")),(0,l.kt)("p",null,"\u5f00\u542f\u591a\u7ebf\u7a0b\u540e\uff0c\u8fd8\u9700\u8981\u8bbe\u7f6e\u7ebf\u7a0b\u6570\uff0c\u5426\u5219\u662f\u4e0d\u751f\u6548\u7684\u3002\u540c\u6837\u9700\u8981\u4fee\u6539 redis \u914d\u7f6e\u6587\u4ef6 ",(0,l.kt)("inlineCode",{parentName:"p"},"redis.conf")," :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"io-threads 4 #\u5b98\u7f51\u5efa\u8bae4\u6838\u7684\u673a\u5668\u5efa\u8bae\u8bbe\u7f6e\u4e3a2\u62163\u4e2a\u7ebf\u7a0b\uff0c8\u6838\u7684\u5efa\u8bae\u8bbe\u7f6e\u4e3a6\u4e2a\u7ebf\u7a0b\n")),(0,l.kt)("h3",{id:"redis-\u662f\u5982\u4f55\u5224\u65ad\u6570\u636e\u662f\u5426\u8fc7\u671f\u7684\u5462"},"Redis \u662f\u5982\u4f55\u5224\u65ad\u6570\u636e\u662f\u5426\u8fc7\u671f\u7684\u5462\uff1f"),(0,l.kt)("p",null,"\u6bcf\u5f53\u6211\u4eec\u5bf9\u4e00\u4e2a key \u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u65f6\uff0cRedis  \u4f1a\u628a\u8be5 key \u5e26\u4e0a\u8fc7\u671f\u65f6\u95f4\u5b58\u50a8\u5230\u4e00\u4e2a",(0,l.kt)("strong",{parentName:"p"},"\u8fc7\u671f\u5b57\u5178"),"\uff08expires dict\uff09\u4e2d\uff0c\u4e5f\u5c31\u662f\u8bf4\u300c\u8fc7\u671f\u5b57\u5178\u300d\u4fdd\u5b58\u4e86\u6570\u636e\u5e93\u4e2d\u6240\u6709 key \u7684\u8fc7\u671f\u65f6\u95f4\u3002"),(0,l.kt)("p",null,"\u8fc7\u671f\u5b57\u5178\u5b58\u50a8\u5728 redisDb \u7ed3\u6784\u4e2d\uff0c\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"typedef struct redisDb {\n    dict *dict;    /* \u6570\u636e\u5e93\u952e\u7a7a\u95f4\uff0c\u5b58\u653e\u7740\u6240\u6709\u7684\u952e\u503c\u5bf9 */\n    dict *expires; /* \u952e\u7684\u8fc7\u671f\u65f6\u95f4 */\n    ....\n} redisDb;\n")),(0,l.kt)("p",null,"\u8fc7\u671f\u5b57\u5178\u6570\u636e\u7ed3\u6784\u7ed3\u6784\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8fc7\u671f\u5b57\u5178\u7684 key \u662f\u4e00\u4e2a\u6307\u9488\uff0c\u6307\u5411\u67d0\u4e2a\u952e\u5bf9\u8c61\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u8fc7\u671f\u5b57\u5178\u7684 value \u662f\u4e00\u4e2a long long \u7c7b\u578b\u7684\u6574\u6570\uff0c\u8fd9\u4e2a\u6574\u6570\u4fdd\u5b58\u4e86 key \u7684\u8fc7\u671f\u65f6\u95f4\uff1b")),(0,l.kt)("p",null,"\u8fc7\u671f\u5b57\u5178\u7684\u6570\u636e\u7ed3\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714211943265",src:n(41856).Z,width:"1080",height:"793"})),(0,l.kt)("p",null,"\u5b57\u5178\u5b9e\u9645\u4e0a\u662f\u54c8\u5e0c\u8868\uff0c\u54c8\u5e0c\u8868\u7684\u6700\u5927\u597d\u5904\u5c31\u662f\u8ba9\u6211\u4eec\u53ef\u4ee5\u7528 O(1) \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u6765\u5feb\u901f\u67e5\u627e\u3002\u5f53\u6211\u4eec\u67e5\u8be2\u4e00\u4e2a key \u65f6\uff0cRedis \u9996\u5148\u68c0\u67e5\u8be5 key \u662f\u5426\u5b58\u5728\u4e8e\u8fc7\u671f\u5b57\u5178\u4e2d\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e0d\u5728\uff0c\u5219\u6b63\u5e38\u8bfb\u53d6\u952e\u503c\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u5b58\u5728\uff0c\u5219\u4f1a\u83b7\u53d6\u8be5 key \u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u7136\u540e\u4e0e\u5f53\u524d\u7cfb\u7edf\u65f6\u95f4\u8fdb\u884c\u6bd4\u5bf9\uff0c\u5982\u679c\u6bd4\u7cfb\u7edf\u65f6\u95f4\u5927\uff0c\u90a3\u5c31\u6ca1\u6709\u8fc7\u671f\uff0c\u5426\u5219\u5224\u5b9a\u8be5 key \u5df2\u8fc7\u671f\u3002")),(0,l.kt)("p",null,"\u8fc7\u671f\u952e\u5224\u65ad\u6d41\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714211925160",src:n(12082).Z,width:"650",height:"1234"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u62d3\u5c55\uff1a\u5927\u91cf key \u96c6\u4e2d\u8fc7\u671f\u95ee\u9898")),(0,l.kt)("p",null,"\u56e0\u4e3a\u5bfc\u81f4\u5ba2\u6237\u7aef\u8bf7\u6c42\u6ca1\u529e\u6cd5\u88ab\u53ca\u65f6\u5904\u7406\uff0c\u54cd\u5e94\u901f\u5ea6\u4f1a\u6bd4\u8f83\u6162\u3002"),(0,l.kt)("p",null,"\u5982\u4f55\u89e3\u51b3\u5462\uff1f\u4e0b\u9762\u662f\u4e24\u79cd\u5e38\u89c1\u7684\u65b9\u6cd5\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u7ed9 key \u8bbe\u7f6e",(0,l.kt)("strong",{parentName:"li"},"\u968f\u673a\u8fc7\u671f\u65f6\u95f4"),"\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5f00\u542f lazy-free\uff08",(0,l.kt)("strong",{parentName:"li"},"\u60f0\u6027\u5220\u9664"),"/\u5ef6\u8fdf\u91ca\u653e\uff09 \u3002lazy-free \u7279\u6027\u662f Redis 4.0 \u5f00\u59cb\u5f15\u5165\u7684\uff0c\u6307\u7684\u662f\u8ba9 Redis \u91c7\u7528\u5f02\u6b65\u65b9\u5f0f\u5ef6\u8fdf\u91ca\u653e key \u4f7f\u7528\u7684\u5185\u5b58\uff0c\u5c06\u8be5\u64cd\u4f5c\u4ea4\u7ed9\u5355\u72ec\u7684\u5b50\u7ebf\u7a0b\u5904\u7406\uff0c\u907f\u514d\u963b\u585e\u4e3b\u7ebf\u7a0b\u3002")),(0,l.kt)("p",null,"\u4e2a\u4eba\u5efa\u8bae\u4e0d\u7ba1\u662f\u5426\u5f00\u542f lazy-free\uff0c\u6211\u4eec\u90fd\u5c3d\u91cf\u7ed9 key \u8bbe\u7f6e\u968f\u673a\u8fc7\u671f\u65f6\u95f4\u3002"),(0,l.kt)("h3",{id:"\u8fc7\u671f\u7684\u6570\u636e\u7684\u5220\u9664\u7b56\u7565\u4e86\u89e3\u4e48"},"\u8fc7\u671f\u7684\u6570\u636e\u7684\u5220\u9664\u7b56\u7565\u4e86\u89e3\u4e48\uff1f"),(0,l.kt)("p",null,"\u5e38\u7528\u7684\u8fc7\u671f\u6570\u636e\u7684\u5220\u9664\u7b56\u7565\u5c31\u524d\u4e24\u4e2a\uff08\u91cd\u8981\uff01\u81ea\u5df1\u9020\u7f13\u5b58\u8f6e\u5b50\u7684\u65f6\u5019\u9700\u8981\u683c\u5916\u8003\u8651\u7684\u4e1c\u897f\uff09\uff1a"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u60f0\u6027\u5220\u9664")),(0,l.kt)("p",null,"\u60f0\u6027\u5220\u9664\u7b56\u7565\u7684\u505a\u6cd5\u662f\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4e0d\u4e3b\u52a8\u5220\u9664\u8fc7\u671f\u952e\uff0c\u6bcf\u6b21\u4ece\u6570\u636e\u5e93\u8bbf\u95ee key \u65f6\uff0c\u90fd\u68c0\u6d4b key \u662f\u5426\u8fc7\u671f\uff0c\u5982\u679c\u8fc7\u671f\u5219\u5220\u9664\u8be5 key\u3002")),(0,l.kt)("p",null,"\u60f0\u6027\u5220\u9664\u7b56\u7565\u7684",(0,l.kt)("strong",{parentName:"p"},"\u4f18\u70b9"),"\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u56e0\u4e3a\u6bcf\u6b21\u8bbf\u95ee\u65f6\uff0c\u624d\u4f1a\u68c0\u67e5 key \u662f\u5426\u8fc7\u671f\uff0c\u6240\u4ee5\u6b64\u7b56\u7565\u53ea\u4f1a\u4f7f\u7528\u5f88\u5c11\u7684\u7cfb\u7edf\u8d44\u6e90\uff0c\u56e0\u6b64\uff0c\u60f0\u6027\u5220\u9664\u7b56\u7565\u5bf9 CPU \u65f6\u95f4\u6700\u53cb\u597d\u3002")),(0,l.kt)("p",null,"\u60f0\u6027\u5220\u9664\u7b56\u7565\u7684",(0,l.kt)("strong",{parentName:"p"},"\u7f3a\u70b9"),"\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e00\u4e2a key \u5df2\u7ecf\u8fc7\u671f\uff0c\u800c\u8fd9\u4e2a key \u53c8\u4ecd\u7136\u4fdd\u7559\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u90a3\u4e48\u53ea\u8981\u8fd9\u4e2a\u8fc7\u671f key \u4e00\u76f4\u6ca1\u6709\u88ab\u8bbf\u95ee\uff0c\u5b83\u6240\u5360\u7528\u7684\u5185\u5b58\u5c31\u4e0d\u4f1a\u91ca\u653e\uff0c\u9020\u6210\u4e86\u4e00\u5b9a\u7684\u5185\u5b58\u7a7a\u95f4\u6d6a\u8d39\u3002\u6240\u4ee5\uff0c\u60f0\u6027\u5220\u9664\u7b56\u7565\u5bf9\u5185\u5b58\u4e0d\u53cb\u597d\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5b9a\u671f\u5220\u9664")),(0,l.kt)("p",null,"\u5b9a\u671f\u5220\u9664\u7b56\u7565\u7684\u505a\u6cd5\u662f\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u300c\u968f\u673a\u300d\u4ece\u6570\u636e\u5e93\u4e2d\u53d6\u51fa\u4e00\u5b9a\u6570\u91cf\u7684 key \u8fdb\u884c\u68c0\u67e5\uff0c\u5e76\u5220\u9664\u5176\u4e2d\u7684\u8fc7\u671fkey\u3002")),(0,l.kt)("p",null,"\u5b9a\u671f\u5220\u9664\u7b56\u7565\u7684",(0,l.kt)("strong",{parentName:"p"},"\u4f18\u70b9"),"\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u9650\u5236\u5220\u9664\u64cd\u4f5c\u6267\u884c\u7684\u65f6\u957f\u548c\u9891\u7387\uff0c\u6765\u51cf\u5c11\u5220\u9664\u64cd\u4f5c\u5bf9 CPU \u7684\u5f71\u54cd\uff0c\u540c\u65f6\u4e5f\u80fd\u5220\u9664\u4e00\u90e8\u5206\u8fc7\u671f\u7684\u6570\u636e\u51cf\u5c11\u4e86\u8fc7\u671f\u952e\u5bf9\u7a7a\u95f4\u7684\u65e0\u6548\u5360\u7528\u3002")),(0,l.kt)("p",null,"\u5b9a\u671f\u5220\u9664\u7b56\u7565\u7684",(0,l.kt)("strong",{parentName:"p"},"\u7f3a\u70b9"),"\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5185\u5b58\u6e05\u7406\u65b9\u9762\u6ca1\u6709\u5b9a\u65f6\u5220\u9664\u6548\u679c\u597d\uff0c\u540c\u65f6\u6ca1\u6709\u60f0\u6027\u5220\u9664\u4f7f\u7528\u7684\u7cfb\u7edf\u8d44\u6e90\u5c11\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u96be\u4ee5\u786e\u5b9a\u5220\u9664\u64cd\u4f5c\u6267\u884c\u7684\u65f6\u957f\u548c\u9891\u7387\u3002\u5982\u679c\u6267\u884c\u7684\u592a\u9891\u7e41\uff0c\u5b9a\u671f\u5220\u9664\u7b56\u7565\u53d8\u5f97\u548c\u5b9a\u65f6\u5220\u9664\u7b56\u7565\u4e00\u6837\uff0c\u5bf9CPU\u4e0d\u53cb\u597d\uff1b\u5982\u679c\u6267\u884c\u7684\u592a\u5c11\uff0c\u90a3\u53c8\u548c\u60f0\u6027\u5220\u9664\u4e00\u6837\u4e86\uff0c\u8fc7\u671f key \u5360\u7528\u7684\u5185\u5b58\u4e0d\u4f1a\u53ca\u65f6\u5f97\u5230\u91ca\u653e\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5b9a\u65f6\u5220\u9664")),(0,l.kt)("p",null,"\u5b9a\u65f6\u5220\u9664\u7b56\u7565\u7684\u505a\u6cd5\u662f\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5728\u8bbe\u7f6e key \u7684\u8fc7\u671f\u65f6\u95f4\u65f6\uff0c\u540c\u65f6\u521b\u5efa\u4e00\u4e2a\u5b9a\u65f6\u4e8b\u4ef6\uff0c\u5f53\u65f6\u95f4\u5230\u8fbe\u65f6\uff0c\u7531\u4e8b\u4ef6\u5904\u7406\u5668\u81ea\u52a8\u6267\u884c key \u7684\u5220\u9664\u64cd\u4f5c\u3002")),(0,l.kt)("p",null,"\u5b9a\u65f6\u5220\u9664\u7b56\u7565\u7684",(0,l.kt)("strong",{parentName:"p"},"\u4f18\u70b9"),"\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u4fdd\u8bc1\u8fc7\u671f key \u4f1a\u88ab\u5c3d\u5feb\u5220\u9664\uff0c\u4e5f\u5c31\u662f\u5185\u5b58\u53ef\u4ee5\u88ab\u5c3d\u5feb\u5730\u91ca\u653e\u3002\u56e0\u6b64\uff0c\u5b9a\u65f6\u5220\u9664\u5bf9\u5185\u5b58\u662f\u6700\u53cb\u597d\u7684\u3002")),(0,l.kt)("p",null,"\u5b9a\u65f6\u5220\u9664\u7b56\u7565\u7684",(0,l.kt)("strong",{parentName:"p"},"\u7f3a\u70b9"),"\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5728\u8fc7\u671f key \u6bd4\u8f83\u591a\u7684\u60c5\u51b5\u4e0b\uff0c\u5220\u9664\u8fc7\u671f key \u53ef\u80fd\u4f1a\u5360\u7528\u76f8\u5f53\u4e00\u90e8\u5206 CPU \u65f6\u95f4\uff0c\u5728\u5185\u5b58\u4e0d\u7d27\u5f20\u4f46 CPU \u65f6\u95f4\u7d27\u5f20\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06 CPU  \u65f6\u95f4\u7528\u4e8e\u5220\u9664\u548c\u5f53\u524d\u4efb\u52a1\u65e0\u5173\u7684\u8fc7\u671f\u952e\u4e0a\uff0c\u65e0\u7591\u4f1a\u5bf9\u670d\u52a1\u5668\u7684\u54cd\u5e94\u65f6\u95f4\u548c\u541e\u5410\u91cf\u9020\u6210\u5f71\u54cd\u3002\u6240\u4ee5\uff0c\u5b9a\u65f6\u5220\u9664\u7b56\u7565\u5bf9 CPU \u4e0d\u53cb\u597d\u3002")),(0,l.kt)("h4",{id:"redis-\u5185\u5b58\u6ee1\u4e86\u4f1a\u53d1\u751f\u4ec0\u4e48"},"Redis \u5185\u5b58\u6ee1\u4e86\uff0c\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f"),(0,l.kt)("p",null,"\u5728 Redis \u7684\u8fd0\u884c\u5185\u5b58\u8fbe\u5230\u4e86\u67d0\u4e2a\u9600\u503c\uff0c\u5c31\u4f1a\u89e6\u53d1",(0,l.kt)("strong",{parentName:"p"},"\u5185\u5b58\u6dd8\u6c70\u673a\u5236"),"\uff0c\u8fd9\u4e2a\u9600\u503c\u5c31\u662f\u6211\u4eec\u8bbe\u7f6e\u7684\u6700\u5927\u8fd0\u884c\u5185\u5b58\uff0c\u6b64\u503c\u5728 Redis \u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u53ef\u4ee5\u627e\u5230\uff0c\u914d\u7f6e\u9879\u4e3a maxmemory\u3002"),(0,l.kt)("h3",{id:"redis-\u5185\u5b58\u6dd8\u6c70\u673a\u5236\u4e86\u89e3\u4e48"},"Redis \u5185\u5b58\u6dd8\u6c70\u673a\u5236\u4e86\u89e3\u4e48\uff1f"),(0,l.kt)("p",null,"Redis \u5185\u5b58\u6dd8\u6c70\u7b56\u7565\u5171\u6709\u516b\u79cd\uff0c\u8fd9\u516b\u79cd\u7b56\u7565\u5927\u4f53\u5206\u4e3a\u300c\u4e0d\u8fdb\u884c\u6570\u636e\u6dd8\u6c70\u300d\u548c\u300c\u8fdb\u884c\u6570\u636e\u6dd8\u6c70\u300d\u4e24\u7c7b\u7b56\u7565\u3002"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"1\u3001\u4e0d\u8fdb\u884c\u6570\u636e\u6dd8\u6c70\u7684\u7b56\u7565")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"noeviction"),"\uff08Redis3.0\u4e4b\u540e\uff0c\u9ed8\u8ba4\u7684\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\uff09 \uff1a\u5b83\u8868\u793a\u5f53\u8fd0\u884c\u5185\u5b58\u8d85\u8fc7\u6700\u5927\u8bbe\u7f6e\u5185\u5b58\u65f6\uff0c\u4e0d\u6dd8\u6c70\u4efb\u4f55\u6570\u636e\uff0c\u800c\u662f\u4e0d\u518d\u63d0\u4f9b\u670d\u52a1\uff0c\u76f4\u63a5\u8fd4\u56de\u9519\u8bef\u3002"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"2\u3001\u8fdb\u884c\u6570\u636e\u6dd8\u6c70\u7684\u7b56\u7565")),(0,l.kt)("p",null,"\u9488\u5bf9\u300c\u8fdb\u884c\u6570\u636e\u6dd8\u6c70\u300d\u8fd9\u4e00\u7c7b\u7b56\u7565\uff0c\u53c8\u53ef\u4ee5\u7ec6\u5206\u4e3a\u300c\u5728\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u6570\u636e\u4e2d\u8fdb\u884c\u6dd8\u6c70\u300d\u548c\u300c\u5728\u6240\u6709\u6570\u636e\u8303\u56f4\u5185\u8fdb\u884c\u6dd8\u6c70\u300d\u8fd9\u4e24\u7c7b\u7b56\u7565\u3002"),(0,l.kt)("p",null,"\u5728\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u6570\u636e\u4e2d\u8fdb\u884c\u6dd8\u6c70\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"volatile-random"),"\uff1a\u968f\u673a\u6dd8\u6c70\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u4efb\u610f\u952e\u503c\uff1b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"volatile-ttl"),"\uff1a\u4f18\u5148\u6dd8\u6c70\u66f4\u65e9\u8fc7\u671f\u7684\u952e\u503c\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"volatile-lru"),"\uff08Redis3.0 \u4e4b\u524d\uff0c\u9ed8\u8ba4\u7684\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\uff09\uff1a\u6dd8\u6c70\u6240\u6709\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u503c\u4e2d\uff0c\u6700\u4e45\u672a\u4f7f\u7528\u7684\u952e\u503c\uff1b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"volatile-lfu"),"\uff08Redis 4.0 \u540e\u65b0\u589e\u7684\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\uff09\uff1a\u6dd8\u6c70\u6240\u6709\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u503c\u4e2d\uff0c\u6700\u5c11\u4f7f\u7528\u7684\u952e\u503c\uff1b")),(0,l.kt)("p",null,"\u5728\u6240\u6709\u6570\u636e\u8303\u56f4\u5185\u8fdb\u884c\u6dd8\u6c70\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"allkeys-random"),"\uff1a\u968f\u673a\u6dd8\u6c70\u4efb\u610f\u952e\u503c;"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"allkeys-lru"),"\uff1a\u6dd8\u6c70\u6574\u4e2a\u952e\u503c\u4e2d\u6700\u4e45\u672a\u4f7f\u7528\u7684\u952e\u503c\uff1b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"allkeys-lfu"),"\uff08Redis 4.0 \u540e\u65b0\u589e\u7684\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\uff09\uff1a\u6dd8\u6c70\u6574\u4e2a\u952e\u503c\u4e2d\u6700\u5c11\u4f7f\u7528\u7684\u952e\u503c\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"LRU \u7b97\u6cd5")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"LRU")," \u5168\u79f0\u662f Least Recently Used \u7ffb\u8bd1\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u6700\u8fd1\u6700\u5c11\u4f7f\u7528"),"\uff0c\u4f1a\u9009\u62e9\u6dd8\u6c70\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u6570\u636e\u3002"),(0,l.kt)("p",null,"\u4f20\u7edf LRU \u7b97\u6cd5\u7684\u5b9e\u73b0\u662f\u57fa\u4e8e\u300c\u94fe\u8868\u300d\u7ed3\u6784\uff0c\u94fe\u8868\u4e2d\u7684\u5143\u7d20\u6309\u7167\u64cd\u4f5c\u987a\u5e8f\u4ece\u524d\u5f80\u540e\u6392\u5217\uff0c\u6700\u65b0\u64cd\u4f5c\u7684\u952e\u4f1a\u88ab\u79fb\u52a8\u5230\u8868\u5934\uff0c\u5f53\u9700\u8981\u5185\u5b58\u6dd8\u6c70\u65f6\uff0c\u53ea\u9700\u8981\u5220\u9664\u94fe\u8868\u5c3e\u90e8\u7684\u5143\u7d20\u5373\u53ef\uff0c\u56e0\u4e3a\u94fe\u8868\u5c3e\u90e8\u7684\u5143\u7d20\u5c31\u4ee3\u8868\u6700\u4e45\u672a\u88ab\u4f7f\u7528\u7684\u5143\u7d20\u3002"),(0,l.kt)("p",null,"Redis \u5e76\u6ca1\u6709\u4f7f\u7528\u8fd9\u6837\u7684\u65b9\u5f0f\u5b9e\u73b0 LRU \u7b97\u6cd5\uff0c\u56e0\u4e3a\u4f20\u7edf\u7684 LRU \u7b97\u6cd5\u5b58\u5728\u4e24\u4e2a\u95ee\u9898\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9700\u8981\u7528\u94fe\u8868\u7ba1\u7406\u6240\u6709\u7684\u7f13\u5b58\u6570\u636e\uff0c\u8fd9\u4f1a\u5e26\u6765\u989d\u5916\u7684\u7a7a\u95f4\u5f00\u9500\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5f53\u6709\u6570\u636e\u88ab\u8bbf\u95ee\u65f6\uff0c\u9700\u8981\u5728\u94fe\u8868\u4e0a\u628a\u8be5\u6570\u636e\u79fb\u52a8\u5230\u5934\u7aef\uff0c\u5982\u679c\u6709\u5927\u91cf\u6570\u636e\u88ab\u8bbf\u95ee\uff0c\u5c31\u4f1a\u5e26\u6765\u5f88\u591a\u94fe\u8868\u79fb\u52a8\u64cd\u4f5c\uff0c\u4f1a\u5f88\u8017\u65f6\uff0c\u8fdb\u800c\u4f1a\u964d\u4f4e Redis \u7f13\u5b58\u6027\u80fd\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Redis \u662f\u5982\u4f55\u5b9e\u73b0 LRU \u7b97\u6cd5\u7684\uff1f")),(0,l.kt)("p",null,"Redis \u5b9e\u73b0\u7684\u662f\u4e00\u79cd",(0,l.kt)("strong",{parentName:"p"},"\u8fd1\u4f3c LRU \u7b97\u6cd5"),"\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u66f4\u597d\u7684\u8282\u7ea6\u5185\u5b58\uff0c\u5b83\u7684",(0,l.kt)("strong",{parentName:"p"},"\u5b9e\u73b0\u65b9\u5f0f\u662f\u5728 Redis \u7684\u5bf9\u8c61\u7ed3\u6784\u4f53\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u989d\u5916\u7684\u5b57\u6bb5\uff0c\u7528\u4e8e\u8bb0\u5f55\u6b64\u6570\u636e\u7684\u6700\u540e\u4e00\u6b21\u8bbf\u95ee\u65f6\u95f4"),"\u3002"),(0,l.kt)("p",null,"\u5f53 Redis \u8fdb\u884c\u5185\u5b58\u6dd8\u6c70\u65f6\uff0c\u4f1a\u4f7f\u7528",(0,l.kt)("strong",{parentName:"p"},"\u968f\u673a\u91c7\u6837\u7684\u65b9\u5f0f\u6765\u6dd8\u6c70\u6570\u636e"),"\uff0c\u5b83\u662f\u968f\u673a\u53d6 5 \u4e2a\u503c\uff08\u6b64\u503c\u53ef\u914d\u7f6e\uff09\uff0c\u7136\u540e",(0,l.kt)("strong",{parentName:"p"},"\u6dd8\u6c70\u6700\u4e45\u6ca1\u6709\u4f7f\u7528\u7684\u90a3\u4e2a"),"\u3002"),(0,l.kt)("p",null,"Redis \u5b9e\u73b0\u7684 LRU \u7b97\u6cd5\u7684\u4f18\u70b9\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e0d\u7528\u4e3a\u6240\u6709\u7684\u6570\u636e\u7ef4\u62a4\u4e00\u4e2a\u5927\u94fe\u8868\uff0c\u8282\u7701\u4e86\u7a7a\u95f4\u5360\u7528\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u4e0d\u7528\u5728\u6bcf\u6b21\u6570\u636e\u8bbf\u95ee\u65f6\u90fd\u79fb\u52a8\u94fe\u8868\u9879\uff0c\u63d0\u5347\u4e86\u7f13\u5b58\u7684\u6027\u80fd\uff1b")),(0,l.kt)("p",null,"\u4f46\u662f LRU \u7b97\u6cd5\u6709\u4e00\u4e2a\u95ee\u9898\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u65e0\u6cd5\u89e3\u51b3\u7f13\u5b58\u6c61\u67d3\u95ee\u9898"),"\uff0c\u6bd4\u5982\u5e94\u7528\u4e00\u6b21\u8bfb\u53d6\u4e86\u5927\u91cf\u7684\u6570\u636e\uff0c\u800c\u8fd9\u4e9b\u6570\u636e\u53ea\u4f1a\u88ab\u8bfb\u53d6\u8fd9\u4e00\u6b21\uff0c\u90a3\u4e48\u8fd9\u4e9b\u6570\u636e\u4f1a\u7559\u5b58\u5728 Redis \u7f13\u5b58\u4e2d\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\uff0c\u9020\u6210\u7f13\u5b58\u6c61\u67d3\u3002"),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c\u5728 Redis 4.0 \u4e4b\u540e\u5f15\u5165\u4e86 LFU \u7b97\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4ec0\u4e48\u662f LFU \u7b97\u6cd5\uff1f")),(0,l.kt)("p",null,"LFU \u5168\u79f0\u662f Least Frequently Used \u7ffb\u8bd1\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u6700\u8fd1\u6700\u4e0d\u5e38\u7528\u7684\uff0c"),"LFU \u7b97\u6cd5\u662f\u6839\u636e\u6570\u636e\u8bbf\u95ee\u6b21\u6570\u6765\u6dd8\u6c70\u6570\u636e\u7684\uff0c\u5b83\u7684\u6838\u5fc3\u601d\u60f3\u662f\u201c\u5982\u679c\u6570\u636e\u8fc7\u53bb\u88ab\u8bbf\u95ee\u591a\u6b21\uff0c\u90a3\u4e48\u5c06\u6765\u88ab\u8bbf\u95ee\u7684\u9891\u7387\u4e5f\u66f4\u9ad8\u201d\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c LFU \u7b97\u6cd5\u4f1a\u8bb0\u5f55\u6bcf\u4e2a\u6570\u636e\u7684\u8bbf\u95ee\u6b21\u6570\u3002\u5f53\u4e00\u4e2a\u6570\u636e\u88ab\u518d\u6b21\u8bbf\u95ee\u65f6\uff0c\u5c31\u4f1a\u589e\u52a0\u8be5\u6570\u636e\u7684\u8bbf\u95ee\u6b21\u6570\u3002\u8fd9\u6837\u5c31\u89e3\u51b3\u4e86\u5076\u5c14\u88ab\u8bbf\u95ee\u4e00\u6b21\u4e4b\u540e\uff0c\u6570\u636e\u7559\u5b58\u5728\u7f13\u5b58\u4e2d\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u7684\u95ee\u9898\uff0c\u76f8\u6bd4\u4e8e LRU \u7b97\u6cd5\u4e5f\u66f4\u5408\u7406\u4e00\u4e9b\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Redis \u662f\u5982\u4f55\u5b9e\u73b0 LFU \u7b97\u6cd5\u7684\uff1f")),(0,l.kt)("p",null,"LFU \u7b97\u6cd5\u76f8\u6bd4\u4e8e  LRU \u7b97\u6cd5\u7684\u5b9e\u73b0\uff0c\u591a\u8bb0\u5f55\u4e86\u300c\u6570\u636e\u7684\u8bbf\u95ee\u9891\u6b21\u300d\u7684\u4fe1\u606f\u3002Redis \u5bf9\u8c61\u7684\u7ed3\u6784\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"typedef struct redisObject {\n    ...\n    \n    // 24 bits\uff0c\u7528\u4e8e\u8bb0\u5f55\u5bf9\u8c61\u7684\u8bbf\u95ee\u4fe1\u606f\n    unsigned lru:24;  \n    ...\n} robj;\n")),(0,l.kt)("p",null,"Redis \u5bf9\u8c61\u5934\u4e2d\u7684 lru \u5b57\u6bb5\uff0c\u5728 LRU \u7b97\u6cd5\u4e0b\u548c LFU \u7b97\u6cd5\u4e0b\u4f7f\u7528\u65b9\u5f0f\u5e76\u4e0d\u76f8\u540c\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5728 LRU \u7b97\u6cd5\u4e2d"),"\uff0cRedis \u5bf9\u8c61\u5934\u7684 24 bits \u7684 lru \u5b57\u6bb5\u662f\u7528\u6765\u8bb0\u5f55 key \u7684\u8bbf\u95ee\u65f6\u95f4\u6233\uff0c\u56e0\u6b64\u5728 LRU \u6a21\u5f0f\u4e0b\uff0cRedis\u53ef\u4ee5\u6839\u636e\u5bf9\u8c61\u5934\u4e2d\u7684 lru \u5b57\u6bb5\u8bb0\u5f55\u7684\u503c\uff0c\u6765\u6bd4\u8f83\u6700\u540e\u4e00\u6b21 key \u7684\u8bbf\u95ee\u65f6\u95f4\u957f\uff0c\u4ece\u800c\u6dd8\u6c70\u6700\u4e45\u672a\u88ab\u4f7f\u7528\u7684 key\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5728 LFU \u7b97\u6cd5\u4e2d"),"\uff0cRedis\u5bf9\u8c61\u5934\u7684 24 bits \u7684 lru \u5b57\u6bb5\u88ab\u5206\u6210\u4e24\u6bb5\u6765\u5b58\u50a8\uff0c\u9ad8 16bit \u5b58\u50a8 ldt(Last Decrement Time)\uff0c\u4f4e 8bit \u5b58\u50a8 logc(Logistic Counter)\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714211622755",src:n(4879).Z,width:"1578",height:"324"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"ldt \u662f\u7528\u6765\u8bb0\u5f55 key \u7684\u8bbf\u95ee\u65f6\u95f4\u6233\uff1b"),(0,l.kt)("li",{parentName:"ul"},"logc \u662f\u7528\u6765\u8bb0\u5f55 key \u7684\u8bbf\u95ee\u9891\u6b21\uff0c\u5b83\u7684\u503c\u8d8a\u5c0f\u8868\u793a\u4f7f\u7528\u9891\u7387\u8d8a\u4f4e\uff0c\u8d8a\u5bb9\u6613\u6dd8\u6c70\uff0c\u6bcf\u4e2a\u65b0\u52a0\u5165\u7684 key \u7684logc \u521d\u59cb\u503c\u4e3a 5\u3002")),(0,l.kt)("p",null,"\u6ce8\u610f\uff0clogc \u5e76\u4e0d\u662f\u5355\u7eaf\u7684\u8bbf\u95ee\u6b21\u6570\uff0c\u800c\u662f\u8bbf\u95ee\u9891\u6b21\uff08\u8bbf\u95ee\u9891\u7387\uff09\uff0c\u56e0\u4e3a ",(0,l.kt)("strong",{parentName:"p"},"logc  \u4f1a\u968f\u65f6\u95f4\u63a8\u79fb\u800c\u8870\u51cf\u7684"),"\u3002"),(0,l.kt)("p",null,"\u5728\u6bcf\u6b21 key \u88ab\u8bbf\u95ee\u65f6\uff0c\u4f1a\u5148\u5bf9 logc \u505a\u4e00\u4e2a\u8870\u51cf\u64cd\u4f5c\uff0c\u8870\u51cf\u7684\u503c\u8ddf\u524d\u540e\u8bbf\u95ee\u65f6\u95f4\u7684\u5dee\u8ddd\u6709\u5173\u7cfb\uff0c\u5982\u679c\u4e0a\u4e00\u6b21\u8bbf\u95ee\u7684\u65f6\u95f4\u4e0e\u8fd9\u4e00\u6b21\u8bbf\u95ee\u7684\u65f6\u95f4\u5dee\u8ddd\u5f88\u5927\uff0c\u90a3\u4e48\u8870\u51cf\u7684\u503c\u5c31\u8d8a\u5927\uff0c\u8fd9\u6837\u5b9e\u73b0\u7684 LFU \u7b97\u6cd5\u662f\u6839\u636e",(0,l.kt)("strong",{parentName:"p"},"\u8bbf\u95ee\u9891\u7387"),"\u6765\u6dd8\u6c70\u6570\u636e\u7684\uff0c\u800c\u4e0d\u53ea\u662f\u8bbf\u95ee\u6b21\u6570\u3002\u8bbf\u95ee\u9891\u7387\u9700\u8981\u8003\u8651 key \u7684\u8bbf\u95ee\u662f\u591a\u957f\u65f6\u95f4\u6bb5\u5185\u53d1\u751f\u7684\u3002key \u7684\u5148\u524d\u8bbf\u95ee\u8ddd\u79bb\u5f53\u524d\u65f6\u95f4\u8d8a\u957f\uff0c\u90a3\u4e48\u8fd9\u4e2a key \u7684\u8bbf\u95ee\u9891\u7387\u76f8\u5e94\u5730\u4e5f\u5c31\u4f1a\u964d\u4f4e\uff0c\u8fd9\u6837\u88ab\u6dd8\u6c70\u7684\u6982\u7387\u4e5f\u4f1a\u66f4\u5927\u3002"),(0,l.kt)("p",null,"\u5bf9 logc \u505a\u5b8c\u8870\u51cf\u64cd\u4f5c\u540e\uff0c\u5c31\u5f00\u59cb\u5bf9 logc  \u8fdb\u884c\u589e\u52a0\u64cd\u4f5c\uff0c\u589e\u52a0\u64cd\u4f5c\u5e76\u4e0d\u662f\u5355\u7eaf\u7684 + 1\uff0c\u800c\u662f\u6839\u636e\u6982\u7387\u589e\u52a0\uff0c\u5982\u679c logc \u8d8a\u5927\u7684 key\uff0c\u5b83\u7684 logc \u5c31\u8d8a\u96be\u518d\u589e\u52a0\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0cRedis \u5728\u8bbf\u95ee key \u65f6\uff0c\u5bf9\u4e8e logc  \u662f\u8fd9\u6837\u53d8\u5316\u7684\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5148\u6309\u7167\u4e0a\u6b21\u8bbf\u95ee\u8ddd\u79bb\u5f53\u524d\u7684\u65f6\u957f\uff0c\u6765\u5bf9 logc \u8fdb\u884c\u8870\u51cf\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u7136\u540e\uff0c\u518d\u6309\u7167\u4e00\u5b9a\u6982\u7387\u589e\u52a0 logc \u7684\u503c")),(0,l.kt)("p",null,"redis.conf \u63d0\u4f9b\u4e86\u4e24\u4e2a\u914d\u7f6e\u9879\uff0c\u7528\u4e8e\u8c03\u6574 LFU \u7b97\u6cd5\u4ece\u800c\u63a7\u5236 logc \u7684\u589e\u957f\u548c\u8870\u51cf\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"lfu-decay-time")," \u7528\u4e8e\u8c03\u6574 logc \u7684\u8870\u51cf\u901f\u5ea6\uff0c\u5b83\u662f\u4e00\u4e2a\u4ee5\u5206\u949f\u4e3a\u5355\u4f4d\u7684\u6570\u503c\uff0c\u9ed8\u8ba4\u503c\u4e3a1\uff0clfu-decay-time \u503c\u8d8a\u5927\uff0c\u8870\u51cf\u8d8a\u6162\uff1b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"lfu-log-factor")," \u7528\u4e8e\u8c03\u6574 logc \u7684\u589e\u957f\u901f\u5ea6\uff0clfu-log-factor \u503c\u8d8a\u5927\uff0clogc \u589e\u957f\u8d8a\u6162\u3002")),(0,l.kt)("h3",{id:"\u8df3\u8dc3\u8868"},"\u8df3\u8dc3\u8868"),(0,l.kt)("h4",{id:"\u7b80\u4ecb"},"\u7b80\u4ecb"),(0,l.kt)("p",null,"\u8df3\u8dc3\u8868\uff08skiplist\uff09\u662f\u4e00\u79cd\u968f\u673a\u5316\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7531 ",(0,l.kt)("strong",{parentName:"p"},"William Pugh")," \u5728\u8bba\u6587\u300aSkip lists: a probabilistic alternative to balanced trees\u300b\u4e2d\u63d0\u51fa\uff0c\u662f\u4e00\u79cd\u53ef\u4ee5\u4e0e\u5e73\u8861\u6811\u5ab2\u7f8e\u7684\u5c42\u6b21\u5316\u94fe\u8868\u7ed3\u6784\u2014\u2014\u67e5\u627e\u3001\u5220\u9664\u3001\u6dfb\u52a0\u7b49\u64cd\u4f5c\u90fd\u53ef\u4ee5\u5728\u5bf9\u6570\u671f\u671b\u65f6\u95f4\u4e0b\u5b8c\u6210\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e2a\u5178\u578b\u7684\u8df3\u8dc3\u8868\u4f8b\u5b50\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715150511611",src:n(60559).Z,width:"783",height:"320"})),(0,l.kt)("p",null,"\u6211\u4eec\u5728\u4e0a\u4e00\u7bc7\u4e2d\u63d0\u5230\u4e86 Redis \u7684\u4e94\u79cd\u57fa\u672c\u7ed3\u6784\u4e2d\uff0c\u6709\u4e00\u4e2a\u53eb\u505a ",(0,l.kt)("strong",{parentName:"p"},"\u6709\u5e8f\u5217\u8868 zset")," \u7684\u6570\u636e\u7ed3\u6784\uff0c\u5b83\u7c7b\u4f3c\u4e8e Java \u4e2d\u7684 ",(0,l.kt)("strong",{parentName:"p"},"SortedSet")," \u548c ",(0,l.kt)("strong",{parentName:"p"},"HashMap")," \u7684\u7ed3\u5408\u4f53\uff0c\u4e00\u65b9\u9762\u5b83\u662f\u4e00\u4e2a set \u4fdd\u8bc1\u4e86\u5185\u90e8 value \u7684\u552f\u4e00\u6027\uff0c\u53e6\u4e00\u65b9\u9762\u53c8\u53ef\u4ee5\u7ed9\u6bcf\u4e2a value \u8d4b\u4e88\u4e00\u4e2a\u6392\u5e8f\u7684\u6743\u91cd\u503c score\uff0c\u6765\u8fbe\u5230 ",(0,l.kt)("strong",{parentName:"p"},"\u6392\u5e8f")," \u7684\u76ee\u7684\u3002"),(0,l.kt)("p",null,"\u5b83\u7684\u5185\u90e8\u5b9e\u73b0\u5c31\u4f9d\u8d56\u4e86\u4e00\u79cd\u53eb\u505a ",(0,l.kt)("strong",{parentName:"p"},"\u300c\u8df3\u8dc3\u5217\u8868\u300d")," \u7684\u6570\u636e\u7ed3\u6784\u3002"),(0,l.kt)("h4",{id:"\u4e3a\u4ec0\u4e48\u4f7f\u7528\u8df3\u8dc3\u8868"},"\u4e3a\u4ec0\u4e48\u4f7f\u7528\u8df3\u8dc3\u8868"),(0,l.kt)("p",null,"\u9996\u5148\uff0c\u56e0\u4e3a zset \u8981\u652f\u6301\u968f\u673a\u7684\u63d2\u5165\u548c\u5220\u9664\uff0c\u6240\u4ee5\u5b83 ",(0,l.kt)("strong",{parentName:"p"},"\u4e0d\u5b9c\u4f7f\u7528\u6570\u7ec4\u6765\u5b9e\u73b0"),"\uff0c\u5173\u4e8e\u6392\u5e8f\u95ee\u9898\uff0c\u6211\u4eec\u4e5f\u5f88\u5bb9\u6613\u5c31\u60f3\u5230 ",(0,l.kt)("strong",{parentName:"p"},"\u7ea2\u9ed1\u6811/ \u5e73\u8861\u6811")," \u8fd9\u6837\u7684\u6811\u5f62\u7ed3\u6784\uff0c\u4e3a\u4ec0\u4e48 Redis \u4e0d\u4f7f\u7528\u8fd9\u6837\u4e00\u4e9b\u7ed3\u6784\u5462\uff1f"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u6027\u80fd\u8003\u8651\uff1a")," \u5728\u9ad8\u5e76\u53d1\u7684\u60c5\u51b5\u4e0b\uff0c\u6811\u5f62\u7ed3\u6784\u9700\u8981\u6267\u884c\u4e00\u4e9b\u7c7b\u4f3c\u4e8e rebalance \u8fd9\u6837\u7684\u53ef\u80fd\u6d89\u53ca\u6574\u68f5\u6811\u7684\u64cd\u4f5c\uff0c\u76f8\u5bf9\u6765\u8bf4\u8df3\u8dc3\u8868\u7684\u53d8\u5316\u53ea\u6d89\u53ca\u5c40\u90e8 ",(0,l.kt)("em",{parentName:"li"},"(\u4e0b\u9762\u8be6\u7ec6\u8bf4)"),"\uff1b"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5b9e\u73b0\u8003\u8651\uff1a")," \u5728\u590d\u6742\u5ea6\u4e0e\u7ea2\u9ed1\u6811\u76f8\u540c\u7684\u60c5\u51b5\u4e0b\uff0c\u8df3\u8dc3\u8868\u5b9e\u73b0\u8d77\u6765\u66f4\u7b80\u5355\uff0c\u770b\u8d77\u6765\u4e5f\u66f4\u52a0\u76f4\u89c2\uff1b")),(0,l.kt)("p",null,"\u57fa\u4e8e\u4ee5\u4e0a\u7684\u4e00\u4e9b\u8003\u8651\uff0cRedis \u57fa\u4e8e ",(0,l.kt)("strong",{parentName:"p"},"William Pugh")," \u7684\u8bba\u6587\u505a\u51fa\u4e00\u4e9b\u6539\u8fdb\u540e\u91c7\u7528\u4e86 ",(0,l.kt)("strong",{parentName:"p"},"\u8df3\u8dc3\u8868")," \u8fd9\u6837\u7684\u7ed3\u6784\u3002"),(0,l.kt)("h4",{id:"\u672c\u8d28\u662f\u89e3\u51b3\u67e5\u627e\u95ee\u9898"},"\u672c\u8d28\u662f\u89e3\u51b3\u67e5\u627e\u95ee\u9898"),(0,l.kt)("p",null,"\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e2a\u666e\u901a\u7684\u94fe\u8868\u7ed3\u6784\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715150536830",src:n(45865).Z,width:"783",height:"172"})),(0,l.kt)("p",null,"\u6211\u4eec\u9700\u8981\u8fd9\u4e2a\u94fe\u8868\u6309\u7167 score \u503c\u8fdb\u884c\u6392\u5e8f\uff0c\u8fd9\u4e5f\u5c31\u610f\u5473\u7740\uff0c\u5f53\u6211\u4eec\u9700\u8981\u6dfb\u52a0\u65b0\u7684\u5143\u7d20\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5b9a\u4f4d\u5230\u63d2\u5165\u70b9\uff0c\u8fd9\u6837\u624d\u53ef\u4ee5\u7ee7\u7eed\u4fdd\u8bc1\u94fe\u8868\u662f\u6709\u5e8f\u7684\uff0c\u901a\u5e38\u6211\u4eec\u4f1a\u4f7f\u7528 ",(0,l.kt)("strong",{parentName:"p"},"\u4e8c\u5206\u67e5\u627e\u6cd5"),"\uff0c\u4f46\u4e8c\u5206\u67e5\u627e\u662f\u6709\u5e8f\u6570\u7ec4\u7684\uff0c\u94fe\u8868\u6ca1\u529e\u6cd5\u8fdb\u884c\u4f4d\u7f6e\u5b9a\u4f4d\uff0c\u6211\u4eec\u9664\u4e86\u904d\u5386\u6574\u4e2a\u627e\u5230\u7b2c\u4e00\u4e2a\u6bd4\u7ed9\u5b9a\u6570\u636e\u5927\u7684\u8282\u70b9\u4e3a\u6b62 ",(0,l.kt)("em",{parentName:"p"},"\uff08\u65f6\u95f4\u590d\u6742\u5ea6 O(n))")," \u4f3c\u4e4e\u6ca1\u6709\u66f4\u597d\u7684\u529e\u6cd5\u3002"),(0,l.kt)("p",null,"\u4f46\u5047\u5982\u6211\u4eec\u6bcf\u76f8\u90bb\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u5c31\u589e\u52a0\u4e00\u4e2a\u6307\u9488\uff0c\u8ba9\u6307\u9488\u6307\u5411\u4e0b\u4e00\u4e2a\u8282\u70b9\uff0c\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715150547405",src:n(39630).Z,width:"781",height:"219"})),(0,l.kt)("p",null,"\u8fd9\u6837\u6240\u6709\u65b0\u589e\u7684\u6307\u9488\u8fde\u6210\u4e86\u4e00\u4e2a\u65b0\u7684\u94fe\u8868\uff0c\u4f46\u5b83\u5305\u542b\u7684\u6570\u636e\u5374\u53ea\u6709\u539f\u6765\u7684\u4e00\u534a ",(0,l.kt)("em",{parentName:"p"},"\uff08\u56fe\u4e2d\u7684\u4e3a 3\uff0c11\uff09"),"\u3002"),(0,l.kt)("p",null,"\u73b0\u5728\u5047\u8bbe\u6211\u4eec\u60f3\u8981\u67e5\u627e\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u6839\u636e\u8fd9\u6761\u65b0\u7684\u94fe\u8868\u67e5\u627e\uff0c\u5982\u679c\u78b0\u5230\u6bd4\u5f85\u67e5\u627e\u6570\u636e\u5927\u7684\u8282\u70b9\u65f6\uff0c\u518d\u56de\u5230\u539f\u6765\u7684\u94fe\u8868\u4e2d\u8fdb\u884c\u67e5\u627e\uff0c\u6bd4\u5982\uff0c\u6211\u4eec\u60f3\u8981\u67e5\u627e 7\uff0c\u67e5\u627e\u7684\u8def\u5f84\u5219\u662f\u6cbf\u7740\u4e0b\u56fe\u4e2d\u6807\u6ce8\u51fa\u7684\u7ea2\u8272\u6307\u9488\u6240\u6307\u5411\u7684\u65b9\u5411\u8fdb\u884c\u7684\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715150600549",src:n(34302).Z,width:"780",height:"214"})),(0,l.kt)("p",null,"\u8fd9\u662f\u4e00\u4e2a\u7565\u5fae\u6781\u7aef\u7684\u4f8b\u5b50\uff0c\u4f46\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u770b\u5230\uff0c\u901a\u8fc7\u65b0\u589e\u52a0\u7684\u6307\u9488\u67e5\u627e\uff0c\u6211\u4eec\u4e0d\u518d\u9700\u8981\u4e0e\u94fe\u8868\u4e0a\u7684\u6bcf\u4e00\u4e2a\u8282\u70b9\u9010\u4e00\u8fdb\u884c\u6bd4\u8f83\uff0c\u8fd9\u6837\u6539\u8fdb\u4e4b\u540e\u9700\u8981\u6bd4\u8f83\u7684\u8282\u70b9\u6570\u5927\u6982\u53ea\u6709\u539f\u6765\u7684\u4e00\u534a\u3002"),(0,l.kt)("p",null,"\u5229\u7528\u540c\u6837\u7684\u65b9\u5f0f\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u65b0\u4ea7\u751f\u7684\u94fe\u8868\u4e0a\uff0c\u7ee7\u7eed\u4e3a\u6bcf\u4e24\u4e2a\u76f8\u90bb\u7684\u8282\u70b9\u589e\u52a0\u4e00\u4e2a\u6307\u9488\uff0c\u4ece\u800c\u4ea7\u751f\u7b2c\u4e09\u5c42\u94fe\u8868\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715150622214",src:n(48096).Z,width:"779",height:"225"})),(0,l.kt)("p",null,"\u5728\u8fd9\u4e2a\u65b0\u7684\u4e09\u5c42\u94fe\u8868\u7ed3\u6784\u4e2d\uff0c\u6211\u4eec\u8bd5\u7740 ",(0,l.kt)("strong",{parentName:"p"},"\u67e5\u627e 13"),"\uff0c\u90a3\u4e48\u6cbf\u7740\u6700\u4e0a\u5c42\u94fe\u8868\u9996\u5148\u6bd4\u8f83\u7684\u662f 11\uff0c\u53d1\u73b0 11 \u6bd4 13 \u5c0f\uff0c\u4e8e\u662f\u6211\u4eec\u5c31\u77e5\u9053\u53ea\u9700\u8981\u5230 11 \u540e\u9762\u7ee7\u7eed\u67e5\u627e\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4ece\u800c\u4e00\u4e0b\u5b50\u8df3\u8fc7\u4e86 11 \u524d\u9762\u7684\u6240\u6709\u8282\u70b9\u3002")),(0,l.kt)("p",null,"\u53ef\u4ee5\u60f3\u8c61\uff0c\u5f53\u94fe\u8868\u8db3\u591f\u957f\uff0c\u8fd9\u6837\u7684\u591a\u5c42\u94fe\u8868\u7ed3\u6784\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8df3\u8fc7\u5f88\u591a\u4e0b\u5c42\u8282\u70b9\uff0c\u4ece\u800c\u52a0\u5feb\u67e5\u627e\u7684\u6548\u7387\u3002"),(0,l.kt)("h4",{id:"\u66f4\u8fdb\u4e00\u6b65\u7684\u8df3\u8dc3\u8868"},"\u66f4\u8fdb\u4e00\u6b65\u7684\u8df3\u8dc3\u8868"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8df3\u8dc3\u8868 skiplist")," \u5c31\u662f\u53d7\u5230\u8fd9\u79cd\u591a\u5c42\u94fe\u8868\u7ed3\u6784\u7684\u542f\u53d1\u800c\u8bbe\u8ba1\u51fa\u6765\u7684\u3002\u6309\u7167\u4e0a\u9762\u751f\u6210\u94fe\u8868\u7684\u65b9\u5f0f\uff0c\u4e0a\u9762\u6bcf\u4e00\u5c42\u94fe\u8868\u7684\u8282\u70b9\u4e2a\u6570\uff0c\u662f\u4e0b\u9762\u4e00\u5c42\u7684\u8282\u70b9\u4e2a\u6570\u7684\u4e00\u534a\uff0c\u8fd9\u6837\u67e5\u627e\u8fc7\u7a0b\u5c31\u975e\u5e38\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u4e8c\u5206\u67e5\u627e\uff0c\u4f7f\u5f97\u67e5\u627e\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u4ee5\u964d\u4f4e\u5230 ",(0,l.kt)("em",{parentName:"p"},"O(logn)"),"\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5728\u63d2\u5165\u6570\u636e\u7684\u65f6\u5019\u6709\u5f88\u5927\u7684\u95ee\u9898\u3002\u65b0\u63d2\u5165\u4e00\u4e2a\u8282\u70b9\u4e4b\u540e\uff0c\u5c31\u4f1a\u6253\u4e71\u4e0a\u4e0b\u76f8\u90bb\u4e24\u5c42\u94fe\u8868\u4e0a\u8282\u70b9\u4e2a\u6570\u4e25\u683c\u7684 2:1 \u7684\u5bf9\u5e94\u5173\u7cfb\u3002\u5982\u679c\u8981\u7ef4\u6301\u8fd9\u79cd\u5bf9\u5e94\u5173\u7cfb\uff0c\u5c31\u5fc5\u987b\u628a\u65b0\u63d2\u5165\u7684\u8282\u70b9\u540e\u9762\u7684\u6240\u6709\u8282\u70b9 ",(0,l.kt)("em",{parentName:"p"},"\uff08\u4e5f\u5305\u62ec\u65b0\u63d2\u5165\u7684\u8282\u70b9\uff09")," \u91cd\u65b0\u8fdb\u884c\u8c03\u6574\uff0c\u8fd9\u4f1a\u8ba9\u65f6\u95f4\u590d\u6742\u5ea6\u91cd\u65b0\u8715\u5316\u6210 ",(0,l.kt)("em",{parentName:"p"},"O(n)"),"\u3002\u5220\u9664\u6570\u636e\u4e5f\u6709\u540c\u6837\u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"skiplist")," \u4e3a\u4e86\u907f\u514d\u8fd9\u4e00\u95ee\u9898\uff0c\u5b83\u4e0d\u8981\u6c42\u4e0a\u4e0b\u76f8\u90bb\u4e24\u5c42\u94fe\u8868\u4e4b\u95f4\u7684\u8282\u70b9\u4e2a\u6570\u6709\u4e25\u683c\u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u800c\u662f ",(0,l.kt)("strong",{parentName:"p"},"\u4e3a\u6bcf\u4e2a\u8282\u70b9\u968f\u673a\u51fa\u4e00\u4e2a\u5c42\u6570(level)"),"\u3002\u6bd4\u5982\uff0c\u4e00\u4e2a\u8282\u70b9\u968f\u673a\u51fa\u7684\u5c42\u6570\u662f 3\uff0c\u90a3\u4e48\u5c31\u628a\u5b83\u94fe\u5165\u5230\u7b2c 1 \u5c42\u5230\u7b2c 3 \u5c42\u8fd9\u4e09\u5c42\u94fe\u8868\u4e2d\u3002\u4e3a\u4e86\u8868\u8fbe\u6e05\u695a\uff0c\u4e0b\u56fe\u5c55\u793a\u4e86\u5982\u4f55\u901a\u8fc7\u4e00\u6b65\u6b65\u7684\u63d2\u5165\u64cd\u4f5c\u4ece\u800c\u5f62\u6210\u4e00\u4e2a skiplist \u7684\u8fc7\u7a0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715150657023",src:n(8686).Z,width:"1080",height:"1449"})),(0,l.kt)("p",null,"\u4ece\u4e0a\u9762\u7684\u521b\u5efa\u548c\u63d2\u5165\u7684\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u6bcf\u4e00\u4e2a\u8282\u70b9\u7684\u5c42\u6570\uff08level\uff09\u662f\u968f\u673a\u51fa\u6765\u7684\uff0c\u800c\u4e14\u65b0\u63d2\u5165\u4e00\u4e2a\u8282\u70b9\u5e76\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u8282\u70b9\u7684\u5c42\u6570\uff0c\u56e0\u6b64\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u63d2\u5165\u64cd\u4f5c\u53ea\u9700\u8981\u4fee\u6539\u8282\u70b9\u524d\u540e\u7684\u6307\u9488\uff0c\u800c\u4e0d\u9700\u8981\u5bf9\u591a\u4e2a\u8282\u70b9\u90fd\u8fdb\u884c\u8c03\u6574"),"\uff0c\u8fd9\u5c31\u964d\u4f4e\u4e86\u63d2\u5165\u64cd\u4f5c\u7684\u590d\u6742\u5ea6\u3002"),(0,l.kt)("p",null,"\u73b0\u5728\u6211\u4eec\u5047\u8bbe\u4ece\u6211\u4eec\u521a\u624d\u521b\u5efa\u7684\u8fd9\u4e2a\u7ed3\u6784\u4e2d\u67e5\u627e 23 \u8fd9\u4e2a\u4e0d\u5b58\u5728\u7684\u6570\uff0c\u90a3\u4e48\u67e5\u627e\u8def\u5f84\u4f1a\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715150710832",src:n(84565).Z,width:"781",height:"226"})),(0,l.kt)("h4",{id:"\u8df3\u8dc3\u8868\u7684\u5b9e\u73b0"},"\u8df3\u8dc3\u8868\u7684\u5b9e\u73b0"),(0,l.kt)("p",null,"Redis \u4e2d\u7684\u8df3\u8dc3\u8868\u7531 ",(0,l.kt)("inlineCode",{parentName:"p"},"server.h/zskiplistNode")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"server.h/zskiplist")," \u4e24\u4e2a\u7ed3\u6784\u5b9a\u4e49\uff0c\u524d\u8005\u4e3a\u8df3\u8dc3\u8868\u8282\u70b9\uff0c\u540e\u8005\u5219\u4fdd\u5b58\u4e86\u8df3\u8dc3\u8282\u70b9\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u540c\u4e4b\u524d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"\u96c6\u5408 list")," \u7ed3\u6784\u7c7b\u4f3c\uff0c\u5176\u5b9e\u53ea\u6709 ",(0,l.kt)("inlineCode",{parentName:"p"},"zskiplistNode")," \u5c31\u53ef\u4ee5\u5b9e\u73b0\u4e86\uff0c\u4f46\u662f\u5f15\u5165\u540e\u8005\u662f\u4e3a\u4e86\u66f4\u52a0\u65b9\u4fbf\u7684\u64cd\u4f5c\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"/* ZSETs use a specialized version of Skiplists */\ntypedef struct zskiplistNode {\n    // value\n    sds ele;\n    // \u5206\u503c\n    double score;\n    // \u540e\u9000\u6307\u9488\n    struct zskiplistNode *backward;\n    // \u5c42\n    struct zskiplistLevel {\n        // \u524d\u8fdb\u6307\u9488\n        struct zskiplistNode *forward;\n        // \u8de8\u5ea6\n        unsigned long span;\n    } level[];\n} zskiplistNode;\n\ntypedef struct zskiplist {\n    // \u8df3\u8dc3\u8868\u5934\u6307\u9488\n    struct zskiplistNode *header, *tail;\n    // \u8868\u4e2d\u8282\u70b9\u7684\u6570\u91cf\n    unsigned long length;\n    // \u8868\u4e2d\u5c42\u6570\u6700\u5927\u7684\u8282\u70b9\u7684\u5c42\u6570\n    int level;\n} zskiplist;\n")),(0,l.kt)("p",null,"\u6b63\u5982\u6587\u7ae0\u5f00\u5934\u753b\u51fa\u6765\u7684\u90a3\u5f20\u6807\u51c6\u7684\u8df3\u8dc3\u8868\u90a3\u6837\u3002"),(0,l.kt)("h5",{id:"\u968f\u673a\u5c42\u6570"},"\u968f\u673a\u5c42\u6570"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u65b0\u63d2\u5165\u7684\u8282\u70b9\uff0c\u90fd\u9700\u8981\u8c03\u7528\u4e00\u4e2a\u968f\u673a\u7b97\u6cd5\u7ed9\u5b83\u5206\u914d\u4e00\u4e2a\u5408\u7406\u7684\u5c42\u6570\uff0c\u6e90\u7801\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"t_zset.c/zslRandomLevel(void)")," \u4e2d\u88ab\u5b9a\u4e49\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int zslRandomLevel(void) {\n    int level = 1;\n    while ((random()&0xFFFF) < (ZSKIPLIST_P * 0xFFFF))\n        level += 1;\n    return (level<ZSKIPLIST_MAXLEVEL) ? level : ZSKIPLIST_MAXLEVEL;\n}\n")),(0,l.kt)("p",null,"\u76f4\u89c2\u4e0a\u671f\u671b\u7684\u76ee\u6807\u662f 50% \u7684\u6982\u7387\u88ab\u5206\u914d\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"Level 1"),"\uff0c25% \u7684\u6982\u7387\u88ab\u5206\u914d\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"Level 2"),"\uff0c12.5% \u7684\u6982\u7387\u88ab\u5206\u914d\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"Level 3"),"\uff0c\u4ee5\u6b64\u7c7b\u63a8...\u6709 2-63 \u7684\u6982\u7387\u88ab\u5206\u914d\u5230\u6700\u9876\u5c42\uff0c\u56e0\u4e3a\u8fd9\u91cc\u6bcf\u4e00\u5c42\u7684\u664b\u5347\u7387\u90fd\u662f 50%\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Redis \u8df3\u8dc3\u8868\u9ed8\u8ba4\u5141\u8bb8\u6700\u5927\u7684\u5c42\u6570\u662f 32"),"\uff0c\u88ab\u6e90\u7801\u4e2d ",(0,l.kt)("inlineCode",{parentName:"p"},"ZSKIPLIST_MAXLEVEL")," \u5b9a\u4e49\uff0c\u5f53 ",(0,l.kt)("inlineCode",{parentName:"p"},"Level[0]")," \u6709 264 \u4e2a\u5143\u7d20\u65f6\uff0c\u624d\u80fd\u8fbe\u5230 32 \u5c42\uff0c\u6240\u4ee5\u5b9a\u4e49 32 \u5b8c\u5168\u591f\u7528\u4e86\u3002"),(0,l.kt)("h5",{id:"\u521b\u5efa\u8df3\u8dc3\u8868"},"\u521b\u5efa\u8df3\u8dc3\u8868"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u8fc7\u7a0b\u6bd4\u8f83\u7b80\u5355\uff0c\u5728\u6e90\u7801\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"t_zset.c/zslCreate")," \u4e2d\u88ab\u5b9a\u4e49\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"zskiplist *zslCreate(void) {\n    int j;\n    zskiplist *zsl;\n\n    // \u7533\u8bf7\u5185\u5b58\u7a7a\u95f4\n    zsl = zmalloc(sizeof(*zsl));\n    // \u521d\u59cb\u5316\u5c42\u6570\u4e3a 1\n    zsl->level = 1;\n    // \u521d\u59cb\u5316\u957f\u5ea6\u4e3a 0\n    zsl->length = 0;\n    // \u521b\u5efa\u4e00\u4e2a\u5c42\u6570\u4e3a 32\uff0c\u5206\u6570\u4e3a 0\uff0c\u6ca1\u6709 value \u503c\u7684\u8df3\u8dc3\u8868\u5934\u8282\u70b9\n    zsl->header = zslCreateNode(ZSKIPLIST_MAXLEVEL,0,NULL);\n  \n    // \u8df3\u8dc3\u8868\u5934\u8282\u70b9\u521d\u59cb\u5316\n    for (j = 0; j < ZSKIPLIST_MAXLEVEL; j++) {\n        // \u5c06\u8df3\u8dc3\u8868\u5934\u8282\u70b9\u7684\u6240\u6709\u524d\u8fdb\u6307\u9488 forward \u8bbe\u7f6e\u4e3a NULL\n        zsl->header->level[j].forward = NULL;\n        // \u5c06\u8df3\u8dc3\u8868\u5934\u8282\u70b9\u7684\u6240\u6709\u8de8\u5ea6 span \u8bbe\u7f6e\u4e3a 0\n        zsl->header->level[j].span = 0;\n    }\n    // \u8df3\u8dc3\u8868\u5934\u8282\u70b9\u7684\u540e\u9000\u6307\u9488 backward \u7f6e\u4e3a NULL\n    zsl->header->backward = NULL;\n    // \u8868\u5934\u6307\u5411\u8df3\u8dc3\u8868\u5c3e\u8282\u70b9\u7684\u6307\u9488\u7f6e\u4e3a NULL\n    zsl->tail = NULL;\n    return zsl;\n}\n")),(0,l.kt)("p",null,"\u5373\u6267\u884c\u5b8c\u4e4b\u540e\u521b\u5efa\u4e86\u5982\u4e0b\u7ed3\u6784\u7684\u521d\u59cb\u5316\u8df3\u8dc3\u8868\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715150812789",src:n(79427).Z,width:"780",height:"254"})),(0,l.kt)("h5",{id:"\u63d2\u5165\u8282\u70b9\u5b9e\u73b0"},"\u63d2\u5165\u8282\u70b9\u5b9e\u73b0"),(0,l.kt)("p",null,"\u8fd9\u51e0\u4e4e\u662f\u6700\u91cd\u8981\u7684\u4e00\u6bb5\u4ee3\u7801\u4e86\uff0c\u4f46\u603b\u4f53\u601d\u8def\u4e5f\u6bd4\u8f83\u6e05\u6670\u7b80\u5355\uff0c\u5982\u679c\u7406\u89e3\u4e86\u4e0a\u9762\u6240\u8bf4\u7684\u8df3\u8dc3\u8868\u7684\u539f\u7406\uff0c\u90a3\u4e48\u5f88\u5bb9\u6613\u7406\u6e05\u695a\u63d2\u5165\u8282\u70b9\u65f6\u53d1\u751f\u7684\u51e0\u4e2a\u52a8\u4f5c ",(0,l.kt)("em",{parentName:"p"},"\uff08\u51e0\u4e4e\u8ddf\u94fe\u8868\u7c7b\u4f3c\uff09"),"\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u627e\u5230\u5f53\u524d\u6211\u9700\u8981\u63d2\u5165\u7684\u4f4d\u7f6e ",(0,l.kt)("em",{parentName:"li"},"\uff08\u5176\u4e2d\u5305\u62ec\u76f8\u540c score \u65f6\u7684\u5904\u7406\uff09"),"\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u521b\u5efa\u65b0\u8282\u70b9\uff0c\u8c03\u6574\u524d\u540e\u7684\u6307\u9488\u6307\u5411\uff0c\u5b8c\u6210\u63d2\u5165\uff1b")),(0,l.kt)("p",null,"\u4e3a\u4e86\u65b9\u4fbf\u9605\u8bfb\uff0c\u6211\u628a\u6e90\u7801 ",(0,l.kt)("inlineCode",{parentName:"p"},"t_zset.c/zslInsert")," \u5b9a\u4e49\u7684\u63d2\u5165\u51fd\u6570\u62c6\u6210\u4e86\u51e0\u4e2a\u90e8\u5206"),(0,l.kt)("h6",{id:"\u7b2c\u4e00\u90e8\u5206\u58f0\u660e\u9700\u8981\u5b58\u50a8\u7684\u53d8\u91cf"},"\u7b2c\u4e00\u90e8\u5206\uff1a\u58f0\u660e\u9700\u8981\u5b58\u50a8\u7684\u53d8\u91cf"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"// \u5b58\u50a8\u641c\u7d22\u8def\u5f84\nzskiplistNode *update[ZSKIPLIST_MAXLEVEL], *x;\n// \u5b58\u50a8\u7ecf\u8fc7\u7684\u8282\u70b9\u8de8\u5ea6\nunsigned int rank[ZSKIPLIST_MAXLEVEL];\nint i, level;\n")),(0,l.kt)("h6",{id:"\u7b2c\u4e8c\u90e8\u5206\u641c\u7d22\u5f53\u524d\u8282\u70b9\u63d2\u5165\u4f4d\u7f6e"},"\u7b2c\u4e8c\u90e8\u5206\uff1a\u641c\u7d22\u5f53\u524d\u8282\u70b9\u63d2\u5165\u4f4d\u7f6e"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'serverAssert(!isnan(score));\nx = zsl->header;\n// \u9010\u6b65\u964d\u7ea7\u5bfb\u627e\u76ee\u6807\u8282\u70b9\uff0c\u5f97\u5230 "\u641c\u7d22\u8def\u5f84"\nfor (i = zsl->level-1; i >= 0; i--) {\n    /* store rank that is crossed to reach the insert position */\n    rank[i] = i == (zsl->level-1) ? 0 : rank[i+1];\n    // \u5982\u679c score \u76f8\u7b49\uff0c\u8fd8\u9700\u8981\u6bd4\u8f83 value \u503c\n    while (x->level[i].forward &&\n            (x->level[i].forward->score < score ||\n                (x->level[i].forward->score == score &&\n                sdscmp(x->level[i].forward->ele,ele) < 0)))\n    {\n        rank[i] += x->level[i].span;\n        x = x->level[i].forward;\n    }\n    // \u8bb0\u5f55 "\u641c\u7d22\u8def\u5f84"\n    update[i] = x;\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8ba8\u8bba\uff1a")," \u6709\u4e00\u79cd\u6781\u7aef\u7684\u60c5\u51b5\uff0c\u5c31\u662f\u8df3\u8dc3\u8868\u4e2d\u7684\u6240\u6709 score \u503c\u90fd\u662f\u4e00\u6837\uff0czset \u7684\u67e5\u627e\u6027\u80fd\u4f1a\u4e0d\u4f1a\u9000\u5316\u4e3a O(n) \u5462\uff1f"),(0,l.kt)("p",null,"\u4ece\u4e0a\u9762\u7684\u6e90\u7801\u4e2d\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0 zset \u7684\u6392\u5e8f\u5143\u7d20\u4e0d\u53ea\u662f\u770b score \u503c\uff0c\u4e5f\u4f1a\u6bd4\u8f83 value \u503c ",(0,l.kt)("em",{parentName:"p"},"\uff08\u5b57\u7b26\u4e32\u6bd4\u8f83\uff09")),(0,l.kt)("h6",{id:"\u7b2c\u4e09\u90e8\u5206\u751f\u6210\u63d2\u5165\u8282\u70b9"},"\u7b2c\u4e09\u90e8\u5206\uff1a\u751f\u6210\u63d2\u5165\u8282\u70b9"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"/* we assume the element is not already inside, since we allow duplicated\n * scores, reinserting the same element should never happen since the\n * caller of zslInsert() should test in the hash table if the element is\n * already inside or not. */\nlevel = zslRandomLevel();\n// \u5982\u679c\u968f\u673a\u751f\u6210\u7684 level \u8d85\u8fc7\u4e86\u5f53\u524d\u6700\u5927 level \u9700\u8981\u66f4\u65b0\u8df3\u8dc3\u8868\u7684\u4fe1\u606f\nif (level > zsl->level) {\n    for (i = zsl->level; i < level; i++) {\n        rank[i] = 0;\n        update[i] = zsl->header;\n        update[i]->level[i].span = zsl->length;\n    }\n    zsl->level = level;\n}\n// \u521b\u5efa\u65b0\u8282\u70b9\nx = zslCreateNode(level,score,ele);\n")),(0,l.kt)("h6",{id:"\u7b2c\u56db\u90e8\u5206\u91cd\u6392\u524d\u5411\u6307\u9488"},"\u7b2c\u56db\u90e8\u5206\uff1a\u91cd\u6392\u524d\u5411\u6307\u9488"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"for (i = 0; i < level; i++) {\n    x->level[i].forward = update[i]->level[i].forward;\n    update[i]->level[i].forward = x;\n\n    /* update span covered by update[i] as x is inserted here */\n    x->level[i].span = update[i]->level[i].span - (rank[0] - rank[i]);\n    update[i]->level[i].span = (rank[0] - rank[i]) + 1;\n}\n\n/* increment span for untouched levels */\nfor (i = level; i < zsl->level; i++) {\n    update[i]->level[i].span++;\n}\n")),(0,l.kt)("h6",{id:"\u7b2c\u4e94\u90e8\u5206\u91cd\u6392\u540e\u5411\u6307\u9488\u5e76\u8fd4\u56de"},"\u7b2c\u4e94\u90e8\u5206\uff1a\u91cd\u6392\u540e\u5411\u6307\u9488\u5e76\u8fd4\u56de"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"x->backward = (update[0] == zsl->header) ? NULL : update[0];\nif (x->level[0].forward)\n    x->level[0].forward->backward = x;\nelse\n    zsl->tail = x;\nzsl->length++;\nreturn x;\n")),(0,l.kt)("h5",{id:"\u8282\u70b9\u5220\u9664\u5b9e\u73b0"},"\u8282\u70b9\u5220\u9664\u5b9e\u73b0"),(0,l.kt)("p",null,"\u5220\u9664\u8fc7\u7a0b\u7531\u6e90\u7801\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"t_zset.c/zslDeleteNode")," \u5b9a\u4e49\uff0c\u548c\u63d2\u5165\u8fc7\u7a0b\u7c7b\u4f3c\uff0c\u90fd\u9700\u8981\u5148\u628a\u8fd9\u4e2a ",(0,l.kt)("strong",{parentName:"p"},'"\u641c\u7d22\u8def\u5f84"')," \u627e\u51fa\u6765\uff0c\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e2a\u5c42\u7684\u76f8\u5173\u8282\u70b9\u91cd\u6392\u4e00\u4e0b\u524d\u5411\u540e\u5411\u6307\u9488\uff0c\u540c\u65f6\u8fd8\u8981\u6ce8\u610f\u66f4\u65b0\u4e00\u4e0b\u6700\u9ad8\u5c42\u6570 ",(0,l.kt)("inlineCode",{parentName:"p"},"maxLevel"),"\uff0c\u76f4\u63a5\u653e\u6e90\u7801 ",(0,l.kt)("em",{parentName:"p"},"(\u5982\u679c\u7406\u89e3\u4e86\u63d2\u5165\u8fd9\u91cc\u8fd8\u662f\u5f88\u5bb9\u6613\u7406\u89e3\u7684)"),"\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"/* Internal function used by zslDelete, zslDeleteByScore and zslDeleteByRank */\nvoid zslDeleteNode(zskiplist *zsl, zskiplistNode *x, zskiplistNode **update) {\n    int i;\n    for (i = 0; i < zsl->level; i++) {\n        if (update[i]->level[i].forward == x) {\n            update[i]->level[i].span += x->level[i].span - 1;\n            update[i]->level[i].forward = x->level[i].forward;\n        } else {\n            update[i]->level[i].span -= 1;\n        }\n    }\n    if (x->level[0].forward) {\n        x->level[0].forward->backward = x->backward;\n    } else {\n        zsl->tail = x->backward;\n    }\n    while(zsl->level > 1 && zsl->header->level[zsl->level-1].forward == NULL)\n        zsl->level--;\n    zsl->length--;\n}\n\n/* Delete an element with matching score/element from the skiplist.\n * The function returns 1 if the node was found and deleted, otherwise\n * 0 is returned.\n *\n * If 'node' is NULL the deleted node is freed by zslFreeNode(), otherwise\n * it is not freed (but just unlinked) and *node is set to the node pointer,\n * so that it is possible for the caller to reuse the node (including the\n * referenced SDS string at node->ele). */\nint zslDelete(zskiplist *zsl, double score, sds ele, zskiplistNode **node) {\n    zskiplistNode *update[ZSKIPLIST_MAXLEVEL], *x;\n    int i;\n\n    x = zsl->header;\n    for (i = zsl->level-1; i >= 0; i--) {\n        while (x->level[i].forward &&\n                (x->level[i].forward->score < score ||\n                    (x->level[i].forward->score == score &&\n                     sdscmp(x->level[i].forward->ele,ele) < 0)))\n        {\n            x = x->level[i].forward;\n        }\n        update[i] = x;\n    }\n    /* We may have multiple elements with the same score, what we need\n     * is to find the element with both the right score and object. */\n    x = x->level[0].forward;\n    if (x && score == x->score && sdscmp(x->ele,ele) == 0) {\n        zslDeleteNode(zsl, x, update);\n        if (!node)\n            zslFreeNode(x);\n        else\n            *node = x;\n        return 1;\n    }\n    return 0; /* not found */\n}\n")),(0,l.kt)("h5",{id:"\u8282\u70b9\u66f4\u65b0\u5b9e\u73b0"},"\u8282\u70b9\u66f4\u65b0\u5b9e\u73b0"),(0,l.kt)("p",null,"\u5f53\u6211\u4eec\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"ZADD")," \u65b9\u6cd5\u65f6\uff0c\u5982\u679c\u5bf9\u5e94\u7684 value \u4e0d\u5b58\u5728\uff0c\u90a3\u5c31\u662f\u63d2\u5165\u8fc7\u7a0b\uff0c\u5982\u679c\u8fd9\u4e2a value \u5df2\u7ecf\u5b58\u5728\uff0c\u53ea\u662f\u8c03\u6574\u4e00\u4e0b score \u7684\u503c\uff0c\u90a3\u5c31\u9700\u8981\u8d70\u4e00\u4e2a\u66f4\u65b0\u6d41\u7a0b\u3002"),(0,l.kt)("p",null,"\u5047\u8bbe\u8fd9\u4e2a\u65b0\u7684 score \u503c\u5e76\u4e0d\u4f1a\u5e26\u6765\u6392\u5e8f\u4e0a\u7684\u53d8\u5316\uff0c\u90a3\u4e48\u5c31\u4e0d\u9700\u8981\u8c03\u6574\u4f4d\u7f6e\uff0c\u76f4\u63a5\u4fee\u6539\u5143\u7d20\u7684 score \u503c\u5c31\u53ef\u4ee5\u4e86\uff0c\u4f46\u662f\u5982\u679c\u6392\u5e8f\u4f4d\u7f6e\u6539\u53d8\u4e86\uff0c\u90a3\u5c31\u9700\u8981\u8c03\u6574\u4f4d\u7f6e\uff0c\u8be5\u5982\u4f55\u8c03\u6574\u5462\uff1f"),(0,l.kt)("p",null,"\u4ece\u6e90\u7801 ",(0,l.kt)("inlineCode",{parentName:"p"},"t_zset.c/zsetAdd")," \u51fd\u6570 ",(0,l.kt)("inlineCode",{parentName:"p"},"1350")," \u884c\u5de6\u53f3\u53ef\u4ee5\u770b\u5230\uff0cRedis \u91c7\u7528\u4e86\u4e00\u4e2a\u975e\u5e38\u7b80\u5355\u7684\u7b56\u7565\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"/* Remove and re-insert when score changed. */\nif (score != curscore) {\n    zobj->ptr = zzlDelete(zobj->ptr,eptr);\n    zobj->ptr = zzlInsert(zobj->ptr,ele,score);\n    *flags |= ZADD_UPDATED;\n}\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u628a\u8fd9\u4e2a\u5143\u7d20\u5220\u9664\u518d\u63d2\u5165\u8fd9\u4e2a"),"\uff0c\u9700\u8981\u7ecf\u8fc7\u4e24\u6b21\u8def\u5f84\u641c\u7d22\uff0c\u4ece\u8fd9\u4e00\u70b9\u4e0a\u6765\u770b\uff0cRedis \u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"ZADD")," \u4ee3\u7801\u4f3c\u4e4e\u8fd8\u6709\u8fdb\u4e00\u6b65\u4f18\u5316\u7684\u7a7a\u95f4\u3002"),(0,l.kt)("h5",{id:"\u5143\u7d20\u6392\u540d\u7684\u5b9e\u73b0"},"\u5143\u7d20\u6392\u540d\u7684\u5b9e\u73b0"),(0,l.kt)("p",null,"\u8df3\u8dc3\u8868\u672c\u8eab\u662f\u6709\u5e8f\u7684\uff0cRedis \u5728 skiplist \u7684 forward \u6307\u9488\u4e0a\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u7ed9\u6bcf\u4e00\u4e2a forward \u6307\u9488\u90fd\u589e\u52a0\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"span")," \u5c5e\u6027\uff0c\u7528\u6765 ",(0,l.kt)("strong",{parentName:"p"},"\u8868\u793a\u4ece\u524d\u4e00\u4e2a\u8282\u70b9\u6cbf\u7740\u5f53\u524d\u5c42\u7684 forward \u6307\u9488\u8df3\u5230\u5f53\u524d\u8fd9\u4e2a\u8282\u70b9\u4e2d\u95f4\u4f1a\u8df3\u8fc7\u591a\u5c11\u4e2a\u8282\u70b9"),"\u3002\u5728\u4e0a\u9762\u7684\u6e90\u7801\u4e2d\u6211\u4eec\u4e5f\u53ef\u4ee5\u770b\u5230 Redis \u5728\u63d2\u5165\u3001\u5220\u9664\u64cd\u4f5c\u65f6\u90fd\u4f1a\u5c0f\u5fc3\u7ffc\u7ffc\u5730\u66f4\u65b0 ",(0,l.kt)("inlineCode",{parentName:"p"},"span")," \u503c\u7684\u5927\u5c0f\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u6cbf\u7740 ",(0,l.kt)("strong",{parentName:"p"},'"\u641c\u7d22\u8def\u5f84"'),"\uff0c\u628a\u6240\u6709\u7ecf\u8fc7\u8282\u70b9\u7684\u8de8\u5ea6 ",(0,l.kt)("inlineCode",{parentName:"p"},"span")," \u503c\u8fdb\u884c\u7d2f\u52a0\u5c31\u53ef\u4ee5\u7b97\u51fa\u5f53\u524d\u5143\u7d20\u7684\u6700\u7ec8 rank \u503c\u4e86\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"/* Find the rank for an element by both score and key.\n * Returns 0 when the element cannot be found, rank otherwise.\n * Note that the rank is 1-based due to the span of zsl->header to the\n * first element. */\nunsigned long zslGetRank(zskiplist *zsl, double score, sds ele) {\n    zskiplistNode *x;\n    unsigned long rank = 0;\n    int i;\n\n    x = zsl->header;\n    for (i = zsl->level-1; i >= 0; i--) {\n        while (x->level[i].forward &&\n            (x->level[i].forward->score < score ||\n                (x->level[i].forward->score == score &&\n                sdscmp(x->level[i].forward->ele,ele) <= 0))) {\n            // span \u7d2f\u52a0\n            rank += x->level[i].span;\n            x = x->level[i].forward;\n        }\n\n        /* x might be equal to zsl->header, so test if obj is non-NULL */\n        if (x->ele && sdscmp(x->ele,ele) == 0) {\n            return rank;\n        }\n    }\n    return 0;\n}\n")),(0,l.kt)("h3",{id:"\u600e\u4e48\u4fdd\u8bc1-redis-\u6302\u6389\u4e4b\u540e\u518d\u91cd\u542f\u6570\u636e\u53ef\u4ee5\u8fdb\u884c\u6062\u590d\u6301\u4e45\u5316\u7b56\u7565"},"\u2b50\u600e\u4e48\u4fdd\u8bc1 Redis \u6302\u6389\u4e4b\u540e\u518d\u91cd\u542f\u6570\u636e\u53ef\u4ee5\u8fdb\u884c\u6062\u590d\uff1f\uff08\u6301\u4e45\u5316\u7b56\u7565\uff09"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6982\u8ff0\uff1a"),(0,l.kt)("p",{parentName:"blockquote"},"RDB\u6301\u4e45\u5316\u662f\u628a\u5f53\u524d\u8fdb\u7a0b\u6570\u636e\u751f\u6210\u5feb\u7167\u4fdd\u5b58\u5230\u78c1\u76d8\u4e0a\u7684\u8fc7\u7a0b; \u9488\u5bf9RDB\u4e0d\u9002\u5408\u5b9e\u65f6\u6301\u4e45\u5316\u7684\u95ee\u9898\uff0cRedis\u63d0\u4f9b\u4e86AOF\u6301\u4e45\u5316\u65b9\u5f0f\u6765\u89e3\u51b3."),(0,l.kt)("p",{parentName:"blockquote"},"AOF\u662f\u201c\u5199\u540e\u201d\u65e5\u5fd7\uff0cRedis\u5148\u6267\u884c\u547d\u4ee4\uff0c\u628a\u6570\u636e\u5199\u5165\u5185\u5b58\uff0c\u7136\u540e\u624d\u8bb0\u5f55\u65e5\u5fd7\u3002\u65e5\u5fd7\u91cc\u8bb0\u5f55\u7684\u662fRedis\u6536\u5230\u7684\u6bcf\u4e00\u6761\u547d\u4ee4\uff0c\u8fd9\u4e9b\u547d\u4ee4\u662f\u4ee5\u6587\u672c\u5f62\u5f0f\u4fdd\u5b58\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"Redis 4.0 \u4e2d\u63d0\u51fa\u4e86\u4e00\u4e2a",(0,l.kt)("strong",{parentName:"p"},"\u6df7\u5408\u4f7f\u7528 AOF \u65e5\u5fd7\u548c\u5185\u5b58\u5feb\u7167"),"\u7684\u65b9\u6cd5\u3002\u7b80\u5355\u6765\u8bf4\uff0c\u5185\u5b58\u5feb\u7167\u4ee5\u4e00\u5b9a\u7684\u9891\u7387\u6267\u884c\uff0c\u5728\u4e24\u6b21\u5feb\u7167\u4e4b\u95f4\uff0c\u4f7f\u7528 AOF \u65e5\u5fd7\u8bb0\u5f55\u8fd9\u671f\u95f4\u7684\u6240\u6709\u547d\u4ee4\u64cd\u4f5c")),(0,l.kt)("p",null,"\u5f88\u591a\u65f6\u5019\u6211\u4eec\u9700\u8981\u6301\u4e45\u5316\u6570\u636e\u4e5f\u5c31\u662f\u5c06\u5185\u5b58\u4e2d\u7684\u6570\u636e\u5199\u5165\u5230\u786c\u76d8\u91cc\u9762\uff0c\u5927\u90e8\u5206\u539f\u56e0\u662f\u4e3a\u4e86\u4e4b\u540e\u91cd\u7528\u6570\u636e\uff08\u6bd4\u5982\u91cd\u542f\u673a\u5668\u3001\u673a\u5668\u6545\u969c\u4e4b\u540e\u6062\u590d\u6570\u636e\uff09\uff0c\u6216\u8005\u662f\u4e3a\u4e86\u9632\u6b62\u7cfb\u7edf\u6545\u969c\u800c\u5c06\u6570\u636e\u5907\u4efd\u5230\u4e00\u4e2a\u8fdc\u7a0b\u4f4d\u7f6e\u3002"),(0,l.kt)("p",null,"Redis \u4e0d\u540c\u4e8e Memcached \u7684\u5f88\u91cd\u8981\u4e00\u70b9\u5c31\u662f\uff0cRedis \u652f\u6301\u6301\u4e45\u5316\uff0c\u800c\u4e14\u652f\u6301\u4e24\u79cd\u4e0d\u540c\u7684\u6301\u4e45\u5316\u64cd\u4f5c\u3002",(0,l.kt)("strong",{parentName:"p"},"Redis \u7684\u4e00\u79cd\u6301\u4e45\u5316\u65b9\u5f0f\u53eb\u5feb\u7167\uff08snapshotting\uff0cRDB\uff09\uff0c\u53e6\u4e00\u79cd\u65b9\u5f0f\u662f\u53ea\u8ffd\u52a0\u6587\u4ef6\uff08append-only file, AOF\uff09"),"\u3002"),(0,l.kt)("h4",{id:"\u4ec0\u4e48\u662f-rdb-\u6301\u4e45\u5316"},"\u4ec0\u4e48\u662f RDB \u6301\u4e45\u5316\uff1f"),(0,l.kt)("p",null,"Redis \u53ef\u4ee5\u901a\u8fc7\u521b\u5efa\u5feb\u7167\u6765\u83b7\u5f97\u5b58\u50a8\u5728\u5185\u5b58\u91cc\u9762\u7684\u6570\u636e\u5728\u67d0\u4e2a\u65f6\u95f4\u70b9\u4e0a\u7684\u526f\u672c\u3002Redis  \u521b\u5efa\u5feb\u7167\u4e4b\u540e\uff0c\u53ef\u4ee5\u5bf9\u5feb\u7167\u8fdb\u884c\u5907\u4efd\uff0c\u53ef\u4ee5\u5c06\u5feb\u7167\u590d\u5236\u5230\u5176\u4ed6\u670d\u52a1\u5668\u4ece\u800c\u521b\u5efa\u5177\u6709\u76f8\u540c\u6570\u636e\u7684\u670d\u52a1\u5668\u526f\u672c\uff08Redis \u4e3b\u4ece\u7ed3\u6784\uff0c\u4e3b\u8981\u7528\u6765\u63d0\u9ad8 Redis  \u6027\u80fd\uff09\uff0c\u8fd8\u53ef\u4ee5\u5c06\u5feb\u7167\u7559\u5728\u539f\u5730\u4ee5\u4fbf\u91cd\u542f\u670d\u52a1\u5668\u7684\u65f6\u5019\u4f7f\u7528\u3002"),(0,l.kt)("p",null,"\u5feb\u7167\u6301\u4e45\u5316\u662f Redis \u9ed8\u8ba4\u91c7\u7528\u7684\u6301\u4e45\u5316\u65b9\u5f0f\uff0c\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"redis.conf")," \u914d\u7f6e\u6587\u4ef6\u4e2d\u9ed8\u8ba4\u6709\u6b64\u4e0b\u914d\u7f6e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"save 900 1           #\u5728900\u79d2(15\u5206\u949f)\u4e4b\u540e\uff0c\u5982\u679c\u81f3\u5c11\u67091\u4e2akey\u53d1\u751f\u53d8\u5316\uff0cRedis\u5c31\u4f1a\u81ea\u52a8\u89e6\u53d1BGSAVE\u547d\u4ee4\u521b\u5efa\u5feb\u7167\u3002\n\nsave 300 10          #\u5728300\u79d2(5\u5206\u949f)\u4e4b\u540e\uff0c\u5982\u679c\u81f3\u5c11\u670910\u4e2akey\u53d1\u751f\u53d8\u5316\uff0cRedis\u5c31\u4f1a\u81ea\u52a8\u89e6\u53d1BGSAVE\u547d\u4ee4\u521b\u5efa\u5feb\u7167\u3002\n\nsave 60 10000        #\u572860\u79d2(1\u5206\u949f)\u4e4b\u540e\uff0c\u5982\u679c\u81f3\u5c11\u670910000\u4e2akey\u53d1\u751f\u53d8\u5316\uff0cRedis\u5c31\u4f1a\u81ea\u52a8\u89e6\u53d1BGSAVE\u547d\u4ee4\u521b\u5efa\u5feb\u7167\u3002\n")),(0,l.kt)("h4",{id:"\u4ec0\u4e48\u662f-aof-\u6301\u4e45\u5316"},"\u4ec0\u4e48\u662f AOF \u6301\u4e45\u5316\uff1f"),(0,l.kt)("p",null,"\u4e0e\u5feb\u7167\u6301\u4e45\u5316\u76f8\u6bd4\uff0cAOF \u6301\u4e45\u5316\u7684\u5b9e\u65f6\u6027\u66f4\u597d\uff0c\u56e0\u6b64\u5df2\u6210\u4e3a\u4e3b\u6d41\u7684\u6301\u4e45\u5316\u65b9\u6848\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b Redis \u6ca1\u6709\u5f00\u542f AOF\uff08append only file\uff09\u65b9\u5f0f\u7684\u6301\u4e45\u5316\uff0c\u53ef\u4ee5\u901a\u8fc7 appendonly \u53c2\u6570\u5f00\u542f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-conf"},"appendonly yes\n")),(0,l.kt)("p",null,"\u5f00\u542f AOF \u6301\u4e45\u5316\u540e\u6bcf\u6267\u884c\u4e00\u6761\u4f1a\u66f4\u6539 Redis \u4e2d\u7684\u6570\u636e\u7684\u547d\u4ee4\uff0cRedis \u5c31\u4f1a\u5c06\u8be5\u547d\u4ee4\u5199\u5165\u5230\u5185\u5b58\u7f13\u5b58 ",(0,l.kt)("inlineCode",{parentName:"p"},"server.aof_buf")," \u4e2d\uff0c\u7136\u540e\u518d\u6839\u636e ",(0,l.kt)("inlineCode",{parentName:"p"},"appendfsync")," \u914d\u7f6e\u6765\u51b3\u5b9a\u4f55\u65f6\u5c06\u5176\u540c\u6b65\u5230\u786c\u76d8\u4e2d\u7684 AOF \u6587\u4ef6\u3002"),(0,l.kt)("p",null,"AOF \u6587\u4ef6\u7684\u4fdd\u5b58\u4f4d\u7f6e\u548c RDB \u6587\u4ef6\u7684\u4f4d\u7f6e\u76f8\u540c\uff0c\u90fd\u662f\u901a\u8fc7 dir \u53c2\u6570\u8bbe\u7f6e\u7684\uff0c\u9ed8\u8ba4\u7684\u6587\u4ef6\u540d\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"appendonly.aof"),"\u3002"),(0,l.kt)("p",null,"\u5728 Redis \u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b58\u5728\u4e09\u79cd\u4e0d\u540c\u7684 AOF \u6301\u4e45\u5316\u65b9\u5f0f\uff0c\u5b83\u4eec\u5206\u522b\u662f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-conf"},"appendfsync always    #\u6bcf\u6b21\u6709\u6570\u636e\u4fee\u6539\u53d1\u751f\u65f6\u90fd\u4f1a\u5199\u5165AOF\u6587\u4ef6,\u8fd9\u6837\u4f1a\u4e25\u91cd\u964d\u4f4eRedis\u7684\u901f\u5ea6\nappendfsync everysec  #\u6bcf\u79d2\u949f\u540c\u6b65\u4e00\u6b21\uff0c\u663e\u5f0f\u5730\u5c06\u591a\u4e2a\u5199\u547d\u4ee4\u540c\u6b65\u5230\u786c\u76d8\nappendfsync no        #\u8ba9\u64cd\u4f5c\u7cfb\u7edf\u51b3\u5b9a\u4f55\u65f6\u8fdb\u884c\u540c\u6b65\n")),(0,l.kt)("p",null,"\u4e3a\u4e86\u517c\u987e\u6570\u636e\u548c\u5199\u5165\u6027\u80fd\uff0c\u7528\u6237\u53ef\u4ee5\u8003\u8651 ",(0,l.kt)("inlineCode",{parentName:"p"},"appendfsync everysec")," \u9009\u9879 \uff0c\u8ba9 Redis \u6bcf\u79d2\u540c\u6b65\u4e00\u6b21 AOF \u6587\u4ef6\uff0cRedis \u6027\u80fd\u51e0\u4e4e\u6ca1\u53d7\u5230\u4efb\u4f55\u5f71\u54cd\u3002\u800c\u4e14\u8fd9\u6837\u5373\u4f7f\u51fa\u73b0\u7cfb\u7edf\u5d29\u6e83\uff0c\u7528\u6237\u6700\u591a\u53ea\u4f1a\u4e22\u5931\u4e00\u79d2\u4e4b\u5185\u4ea7\u751f\u7684\u6570\u636e\u3002\u5f53\u786c\u76d8\u5fd9\u4e8e\u6267\u884c\u5199\u5165\u64cd\u4f5c\u7684\u65f6\u5019\uff0cRedis \u8fd8\u4f1a\u4f18\u96c5\u7684\u653e\u6162\u81ea\u5df1\u7684\u901f\u5ea6\u4ee5\u4fbf\u9002\u5e94\u786c\u76d8\u7684\u6700\u5927\u5199\u5165\u901f\u5ea6\u3002"),(0,l.kt)("h4",{id:"aof-\u91cd\u5199\u4e86\u89e3\u5417"},"AOF \u91cd\u5199\u4e86\u89e3\u5417\uff1f"),(0,l.kt)("p",null,"AOF \u91cd\u5199\u53ef\u4ee5\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684 AOF \u6587\u4ef6\uff0c\u8fd9\u4e2a\u65b0\u7684 AOF \u6587\u4ef6\u548c\u539f\u6709\u7684 AOF \u6587\u4ef6\u6240\u4fdd\u5b58\u7684\u6570\u636e\u5e93\u72b6\u6001\u4e00\u6837\uff0c\u4f46\u4f53\u79ef\u66f4\u5c0f\u3002"),(0,l.kt)("p",null,"AOF \u91cd\u5199\u662f\u4e00\u4e2a\u6709\u6b67\u4e49\u7684\u540d\u5b57\uff0c\u8be5\u529f\u80fd\u662f\u901a\u8fc7\u8bfb\u53d6\u6570\u636e\u5e93\u4e2d\u7684\u952e\u503c\u5bf9\u6765\u5b9e\u73b0\u7684\uff0c\u7a0b\u5e8f\u65e0\u987b\u5bf9\u73b0\u6709 AOF \u6587\u4ef6\u8fdb\u884c\u4efb\u4f55\u8bfb\u5165\u3001\u5206\u6790\u6216\u8005\u5199\u5165\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,"\u5728\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"BGREWRITEAOF")," \u547d\u4ee4\u65f6\uff0cRedis \u670d\u52a1\u5668\u4f1a\u7ef4\u62a4\u4e00\u4e2a AOF \u91cd\u5199\u7f13\u51b2\u533a\uff0c\u8be5\u7f13\u51b2\u533a\u4f1a\u5728\u5b50\u8fdb\u7a0b\u521b\u5efa\u65b0 AOF  \u6587\u4ef6\u671f\u95f4\uff0c\u8bb0\u5f55\u670d\u52a1\u5668\u6267\u884c\u7684\u6240\u6709\u5199\u547d\u4ee4\u3002\u5f53\u5b50\u8fdb\u7a0b\u5b8c\u6210\u521b\u5efa\u65b0 AOF \u6587\u4ef6\u7684\u5de5\u4f5c\u4e4b\u540e\uff0c\u670d\u52a1\u5668\u4f1a\u5c06\u91cd\u5199\u7f13\u51b2\u533a\u4e2d\u7684\u6240\u6709\u5185\u5bb9\u8ffd\u52a0\u5230\u65b0 AOF  \u6587\u4ef6\u7684\u672b\u5c3e\uff0c\u4f7f\u5f97\u65b0\u7684 AOF \u6587\u4ef6\u4fdd\u5b58\u7684\u6570\u636e\u5e93\u72b6\u6001\u4e0e\u73b0\u6709\u7684\u6570\u636e\u5e93\u72b6\u6001\u4e00\u81f4\u3002\u6700\u540e\uff0c\u670d\u52a1\u5668\u7528\u65b0\u7684 AOF \u6587\u4ef6\u66ff\u6362\u65e7\u7684 AOF \u6587\u4ef6\uff0c\u4ee5\u6b64\u6765\u5b8c\u6210  AOF \u6587\u4ef6\u91cd\u5199\u64cd\u4f5c\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u62d3\u5c55")),(0,l.kt)("p",null,"Redis 4.0 \u5f00\u59cb\u652f\u6301 RDB \u548c AOF \u7684\u6df7\u5408\u6301\u4e45\u5316\uff08\u9ed8\u8ba4\u5173\u95ed\uff0c\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u9879 ",(0,l.kt)("inlineCode",{parentName:"p"},"aof-use-rdb-preamble")," \u5f00\u542f\uff09\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u628a\u6df7\u5408\u6301\u4e45\u5316\u6253\u5f00\uff0cAOF \u91cd\u5199\u7684\u65f6\u5019\u5c31\u76f4\u63a5\u628a RDB \u7684\u5185\u5bb9\u5199\u5230 AOF \u6587\u4ef6\u5f00\u5934\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\u53ef\u4ee5\u7ed3\u5408 RDB \u548c AOF \u7684\u4f18\u70b9,  \u5feb\u901f\u52a0\u8f7d\u540c\u65f6\u907f\u514d\u4e22\u5931\u8fc7\u591a\u7684\u6570\u636e\u3002\u5f53\u7136\u7f3a\u70b9\u4e5f\u662f\u6709\u7684\uff0c AOF \u91cc\u9762\u7684 RDB \u90e8\u5206\u662f\u538b\u7f29\u683c\u5f0f\u4e0d\u518d\u662f AOF \u683c\u5f0f\uff0c\u53ef\u8bfb\u6027\u8f83\u5dee\u3002"),(0,l.kt)("h4",{id:"\u4e3a\u4ec0\u4e48\u4f1a\u6709\u6df7\u5408\u6301\u4e45\u5316"},"\u4e3a\u4ec0\u4e48\u4f1a\u6709\u6df7\u5408\u6301\u4e45\u5316\uff1f"),(0,l.kt)("p",null,"RDB \u4f18\u70b9\u662f\u6570\u636e\u6062\u590d\u901f\u5ea6\u5feb\uff0c\u4f46\u662f\u5feb\u7167\u7684\u9891\u7387\u4e0d\u597d\u628a\u63e1\u3002\u9891\u7387\u592a\u4f4e\uff0c\u4e22\u5931\u7684\u6570\u636e\u5c31\u4f1a\u6bd4\u8f83\u591a\uff0c\u9891\u7387\u592a\u9ad8\uff0c\u5c31\u4f1a\u5f71\u54cd\u6027\u80fd\u3002"),(0,l.kt)("p",null,"AOF \u4f18\u70b9\u662f\u4e22\u5931\u6570\u636e\u5c11\uff0c\u4f46\u662f\u6570\u636e\u6062\u590d\u4e0d\u5feb\u3002"),(0,l.kt)("p",null,"\u4e3a\u4e86\u96c6\u6210\u4e86\u4e24\u8005\u7684\u4f18\u70b9\uff0c Redis 4.0 \u63d0\u51fa\u4e86",(0,l.kt)("strong",{parentName:"p"},"\u6df7\u5408\u4f7f\u7528 AOF \u65e5\u5fd7\u548c\u5185\u5b58\u5feb\u7167"),"\uff0c\u4e5f\u53eb\u6df7\u5408\u6301\u4e45\u5316\uff0c\u65e2\u4fdd\u8bc1\u4e86 Redis \u91cd\u542f\u901f\u5ea6\uff0c\u53c8\u964d\u4f4e\u6570\u636e\u4e22\u5931\u98ce\u9669\u3002"),(0,l.kt)("p",null,"\u6df7\u5408\u6301\u4e45\u5316\u5de5\u4f5c\u5728 ",(0,l.kt)("strong",{parentName:"p"},"AOF \u65e5\u5fd7\u91cd\u5199\u8fc7\u7a0b"),"\uff0c\u5f53\u5f00\u542f\u4e86\u6df7\u5408\u6301\u4e45\u5316\u65f6\uff0c\u5728 AOF \u91cd\u5199\u65e5\u5fd7\u65f6\uff0cfork \u51fa\u6765\u7684\u91cd\u5199\u5b50\u8fdb\u7a0b\u4f1a\u5148\u5c06\u4e0e\u4e3b\u7ebf\u7a0b\u5171\u4eab\u7684\u5185\u5b58\u6570\u636e\u4ee5 RDB \u65b9\u5f0f\u5199\u5165\u5230 AOF  \u6587\u4ef6\uff0c\u7136\u540e\u4e3b\u7ebf\u7a0b\u5904\u7406\u7684\u64cd\u4f5c\u547d\u4ee4\u4f1a\u88ab\u8bb0\u5f55\u5728\u91cd\u5199\u7f13\u51b2\u533a\u91cc\uff0c\u91cd\u5199\u7f13\u51b2\u533a\u91cc\u7684\u589e\u91cf\u547d\u4ee4\u4f1a\u4ee5 AOF \u65b9\u5f0f\u5199\u5165\u5230 AOF  \u6587\u4ef6\uff0c\u5199\u5165\u5b8c\u6210\u540e\u901a\u77e5\u4e3b\u8fdb\u7a0b\u5c06\u65b0\u7684\u542b\u6709 RDB \u683c\u5f0f\u548c AOF \u683c\u5f0f\u7684 AOF \u6587\u4ef6\u66ff\u6362\u65e7\u7684\u7684 AOF \u6587\u4ef6\u3002"),(0,l.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f7f\u7528\u4e86\u6df7\u5408\u6301\u4e45\u5316\uff0cAOF \u6587\u4ef6\u7684",(0,l.kt)("strong",{parentName:"p"},"\u524d\u534a\u90e8\u5206\u662f RDB \u683c\u5f0f\u7684\u5168\u91cf\u6570\u636e\uff0c\u540e\u534a\u90e8\u5206\u662f AOF \u683c\u5f0f\u7684\u589e\u91cf\u6570\u636e"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715160726101",src:n(80426).Z,width:"325",height:"356"})),(0,l.kt)("p",null,"\u8fd9\u6837\u7684\u597d\u5904\u5728\u4e8e\uff0c\u91cd\u542f Redis \u52a0\u8f7d\u6570\u636e\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u524d\u534a\u90e8\u5206\u662f RDB \u5185\u5bb9\uff0c\u8fd9\u6837",(0,l.kt)("strong",{parentName:"p"},"\u52a0\u8f7d\u7684\u65f6\u5019\u901f\u5ea6\u4f1a\u5f88\u5feb"),"\u3002"),(0,l.kt)("p",null,"\u52a0\u8f7d\u5b8c RDB \u7684\u5185\u5bb9\u540e\uff0c\u624d\u4f1a\u52a0\u8f7d\u540e\u534a\u90e8\u5206\u7684 AOF \u5185\u5bb9\uff0c\u8fd9\u91cc\u7684\u5185\u5bb9\u662f Redis \u540e\u53f0\u5b50\u8fdb\u7a0b\u91cd\u5199 AOF \u671f\u95f4\uff0c\u4e3b\u7ebf\u7a0b\u5904\u7406\u7684\u64cd\u4f5c\u547d\u4ee4\uff0c\u53ef\u4ee5\u4f7f\u5f97",(0,l.kt)("strong",{parentName:"p"},"\u6570\u636e\u66f4\u5c11\u7684\u4e22\u5931"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6df7\u5408\u6301\u4e45\u5316\u4f18\u70b9\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6df7\u5408\u6301\u4e45\u5316\u7ed3\u5408\u4e86 RDB \u548c AOF \u6301\u4e45\u5316\u7684\u4f18\u70b9\uff0c\u5f00\u5934\u4e3a RDB \u7684\u683c\u5f0f\uff0c\u4f7f\u5f97 Redis \u53ef\u4ee5\u66f4\u5feb\u7684\u542f\u52a8\uff0c\u540c\u65f6\u7ed3\u5408 AOF \u7684\u4f18\u70b9\uff0c\u6709\u51cf\u4f4e\u4e86\u5927\u91cf\u6570\u636e\u4e22\u5931\u7684\u98ce\u9669\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6df7\u5408\u6301\u4e45\u5316\u7f3a\u70b9\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"AOF \u6587\u4ef6\u4e2d\u6dfb\u52a0\u4e86 RDB \u683c\u5f0f\u7684\u5185\u5bb9\uff0c\u4f7f\u5f97 AOF \u6587\u4ef6\u7684\u53ef\u8bfb\u6027\u53d8\u5f97\u5f88\u5dee\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u517c\u5bb9\u6027\u5dee\uff0c\u5982\u679c\u5f00\u542f\u6df7\u5408\u6301\u4e45\u5316\uff0c\u90a3\u4e48\u6b64\u6df7\u5408\u6301\u4e45\u5316 AOF \u6587\u4ef6\uff0c\u5c31\u4e0d\u80fd\u7528\u5728 Redis 4.0 \u4e4b\u524d\u7248\u672c\u4e86\u3002")),(0,l.kt)("h3",{id:"\u7f13\u5b58\u7a7f\u900f--\u7f13\u5b58\u96ea\u5d29--\u7f13\u5b58\u51fb\u7a7f"},"\u7f13\u5b58\u7a7f\u900f & \u7f13\u5b58\u96ea\u5d29 & \u7f13\u5b58\u51fb\u7a7f"),(0,l.kt)("h4",{id:"\u7a7f\u900f"},"\u7a7f\u900f"),(0,l.kt)("p",null,"\u5f53\u53d1\u751f\u7f13\u5b58\u96ea\u5d29\u6216\u51fb\u7a7f\u65f6\uff0c\u6570\u636e\u5e93\u4e2d\u8fd8\u662f\u4fdd\u5b58\u4e86\u5e94\u7528\u8981\u8bbf\u95ee\u7684\u6570\u636e\uff0c\u4e00\u65e6\u7f13\u5b58\u6062\u590d\u76f8\u5bf9\u5e94\u7684\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u51cf\u8f7b\u6570\u636e\u5e93\u7684\u538b\u529b\uff0c\u800c\u7f13\u5b58\u7a7f\u900f\u5c31\u4e0d\u4e00\u6837\u4e86\u3002"),(0,l.kt)("p",null,"\u5f53\u7528\u6237\u8bbf\u95ee\u7684\u6570\u636e\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u65e2\u4e0d\u5728\u7f13\u5b58\u4e2d\uff0c\u4e5f\u4e0d\u5728\u6570\u636e\u5e93\u4e2d"),"\uff0c\u5bfc\u81f4\u8bf7\u6c42\u5728\u8bbf\u95ee\u7f13\u5b58\u65f6\uff0c\u53d1\u73b0\u7f13\u5b58\u7f3a\u5931\uff0c\u518d\u53bb\u8bbf\u95ee\u6570\u636e\u5e93\u65f6\uff0c\u53d1\u73b0\u6570\u636e\u5e93\u4e2d\u4e5f\u6ca1\u6709\u8981\u8bbf\u95ee\u7684\u6570\u636e\uff0c\u6ca1\u529e\u6cd5\u6784\u5efa\u7f13\u5b58\u6570\u636e\uff0c\u6765\u670d\u52a1\u540e\u7eed\u7684\u8bf7\u6c42\u3002\u90a3\u4e48\u5f53\u6709\u5927\u91cf\u8fd9\u6837\u7684\u8bf7\u6c42\u5230\u6765\u65f6\uff0c\u6570\u636e\u5e93\u7684\u538b\u529b\u9aa4\u589e\uff0c\u8fd9\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u7f13\u5b58\u7a7f\u900f"),"\u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714212317883",src:n(28976).Z,width:"576",height:"836"})),(0,l.kt)("p",null,"\u7f13\u5b58\u7a7f\u900f\u7684\u53d1\u751f\u4e00\u822c\u6709\u8fd9\u4e24\u79cd\u60c5\u51b5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e1a\u52a1\u8bef\u64cd\u4f5c\uff0c\u7f13\u5b58\u4e2d\u7684\u6570\u636e\u548c\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u90fd\u88ab\u8bef\u5220\u9664\u4e86\uff0c\u6240\u4ee5\u5bfc\u81f4\u7f13\u5b58\u548c\u6570\u636e\u5e93\u4e2d\u90fd\u6ca1\u6709\u6570\u636e\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u9ed1\u5ba2\u6076\u610f\u653b\u51fb\uff0c\u6545\u610f\u5927\u91cf\u8bbf\u95ee\u67d0\u4e9b\u8bfb\u53d6\u4e0d\u5b58\u5728\u6570\u636e\u7684\u4e1a\u52a1\uff1b")),(0,l.kt)("p",null,"\u5e94\u5bf9\u7f13\u5b58\u7a7f\u900f\u7684\u65b9\u6848\uff0c\u5e38\u89c1\u7684\u65b9\u6848\u6709\u4e09\u79cd\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u975e\u6cd5\u8bf7\u6c42\u7684\u9650\u5236"),"\uff1a\u5f53\u6709\u5927\u91cf\u6076\u610f\u8bf7\u6c42\u8bbf\u95ee\u4e0d\u5b58\u5728\u7684\u6570\u636e\u7684\u65f6\u5019\uff0c\u4e5f\u4f1a\u53d1\u751f\u7f13\u5b58\u7a7f\u900f\uff0c\u56e0\u6b64\u5728 API \u5165\u53e3\u5904\u6211\u4eec\u8981\u5224\u65ad\u6c42\u8bf7\u6c42\u53c2\u6570\u662f\u5426\u5408\u7406\uff0c\u8bf7\u6c42\u53c2\u6570\u662f\u5426\u542b\u6709\u975e\u6cd5\u503c\u3001\u8bf7\u6c42\u5b57\u6bb5\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5224\u65ad\u51fa\u662f\u6076\u610f\u8bf7\u6c42\u5c31\u76f4\u63a5\u8fd4\u56de\u9519\u8bef\uff0c\u907f\u514d\u8fdb\u4e00\u6b65\u8bbf\u95ee\u7f13\u5b58\u548c\u6570\u636e\u5e93\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u8bbe\u7f6e\u7a7a\u503c\u6216\u8005\u9ed8\u8ba4\u503c"),"\uff1a\u5f53\u6211\u4eec\u7ebf\u4e0a\u4e1a\u52a1\u53d1\u73b0\u7f13\u5b58\u7a7f\u900f\u7684\u73b0\u8c61\u65f6\uff0c\u53ef\u4ee5\u9488\u5bf9\u67e5\u8be2\u7684\u6570\u636e\uff0c\u5728\u7f13\u5b58\u4e2d\u8bbe\u7f6e\u4e00\u4e2a\u7a7a\u503c\u6216\u8005\u9ed8\u8ba4\u503c\uff0c\u8fd9\u6837\u540e\u7eed\u8bf7\u6c42\u5c31\u53ef\u4ee5\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\u5230\u7a7a\u503c\u6216\u8005\u9ed8\u8ba4\u503c\uff0c\u8fd4\u56de\u7ed9\u5e94\u7528\uff0c\u800c\u4e0d\u4f1a\u7ee7\u7eed\u67e5\u8be2\u6570\u636e\u5e93\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4f7f\u7528\u5e03\u9686\u8fc7\u6ee4\u5668\u5feb\u901f\u5224\u65ad\u6570\u636e\u662f\u5426\u5b58\u5728\uff0c\u907f\u514d\u901a\u8fc7\u67e5\u8be2\u6570\u636e\u5e93\u6765\u5224\u65ad\u6570\u636e\u662f\u5426\u5b58\u5728"),"\uff1a\u6211\u4eec\u53ef\u4ee5\u5728\u5199\u5165\u6570\u636e\u5e93\u6570\u636e\u65f6\uff0c\u4f7f\u7528\u5e03\u9686\u8fc7\u6ee4\u5668\u505a\u4e2a\u6807\u8bb0\uff0c\u7136\u540e\u5728\u7528\u6237\u8bf7\u6c42\u5230\u6765\u65f6\uff0c\u4e1a\u52a1\u7ebf\u7a0b\u786e\u8ba4\u7f13\u5b58\u5931\u6548\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u67e5\u8be2\u5e03\u9686\u8fc7\u6ee4\u5668\u5feb\u901f\u5224\u65ad\u6570\u636e\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5c31\u4e0d\u7528\u901a\u8fc7\u67e5\u8be2\u6570\u636e\u5e93\u6765\u5224\u65ad\u6570\u636e\u662f\u5426\u5b58\u5728\uff0c\u5373\u4f7f\u53d1\u751f\u4e86\u7f13\u5b58\u7a7f\u900f\uff0c\u5927\u91cf\u8bf7\u6c42\u53ea\u4f1a\u67e5\u8be2 Redis \u548c\u5e03\u9686\u8fc7\u6ee4\u5668\uff0c\u800c\u4e0d\u4f1a\u67e5\u8be2\u6570\u636e\u5e93\uff0c\u4fdd\u8bc1\u4e86\u6570\u636e\u5e93\u80fd\u6b63\u5e38\u8fd0\u884c\uff0cRedis \u81ea\u8eab\u4e5f\u662f\u652f\u6301\u5e03\u9686\u8fc7\u6ee4\u5668\u7684\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8be6\u7ec6\u8bf4\u660e")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1\uff09\u7f13\u5b58\u65e0\u6548 key")),(0,l.kt)("p",null,"\u5982\u679c\u7f13\u5b58\u548c\u6570\u636e\u5e93\u90fd\u67e5\u4e0d\u5230\u67d0\u4e2a key \u7684\u6570\u636e\u5c31\u5199\u4e00\u4e2a\u5230 Redis \u4e2d\u53bb\u5e76\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff0c\u5177\u4f53\u547d\u4ee4\u5982\u4e0b\uff1a ",(0,l.kt)("inlineCode",{parentName:"p"},"SET key value EX 10086")," \u3002\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u89e3\u51b3\u8bf7\u6c42\u7684 key \u53d8\u5316\u4e0d\u9891\u7e41\u7684\u60c5\u51b5\uff0c\u5982\u679c\u9ed1\u5ba2\u6076\u610f\u653b\u51fb\uff0c\u6bcf\u6b21\u6784\u5efa\u4e0d\u540c\u7684\u8bf7\u6c42 key\uff0c\u4f1a\u5bfc\u81f4 Redis \u4e2d\u7f13\u5b58\u5927\u91cf\u65e0\u6548\u7684 key \u3002\u5f88\u660e\u663e\uff0c\u8fd9\u79cd\u65b9\u6848\u5e76\u4e0d\u80fd\u4ece\u6839\u672c\u4e0a\u89e3\u51b3\u6b64\u95ee\u9898\u3002\u5982\u679c\u975e\u8981\u7528\u8fd9\u79cd\u65b9\u5f0f\u6765\u89e3\u51b3\u7a7f\u900f\u95ee\u9898\u7684\u8bdd\uff0c\u5c3d\u91cf\u5c06\u65e0\u6548\u7684 key \u7684\u8fc7\u671f\u65f6\u95f4\u8bbe\u7f6e\u77ed\u4e00\u70b9\u6bd4\u5982 1 \u5206\u949f\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2\uff09\u5e03\u9686\u8fc7\u6ee4\u5668")),(0,l.kt)("p",null,"\u5e03\u9686\u8fc7\u6ee4\u5668\u662f\u4e00\u4e2a\u975e\u5e38\u795e\u5947\u7684\u6570\u636e\u7ed3\u6784\uff0c\u901a\u8fc7\u5b83\u6211\u4eec\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u5730\u5224\u65ad\u4e00\u4e2a\u7ed9\u5b9a\u6570\u636e\u662f\u5426\u5b58\u5728\u4e8e\u6d77\u91cf\u6570\u636e\u4e2d\u3002\u6211\u4eec\u9700\u8981\u7684\u5c31\u662f\u5224\u65ad key \u662f\u5426\u5408\u6cd5\uff0c\u6709\u6ca1\u6709\u611f\u89c9\u5e03\u9686\u8fc7\u6ee4\u5668\u5c31\u662f\u6211\u4eec\u60f3\u8981\u627e\u7684\u90a3\u4e2a\u201c\u4eba\u201d\u3002"),(0,l.kt)("p",null,"\u5177\u4f53\u662f\u8fd9\u6837\u505a\u7684\uff1a\u628a\u6240\u6709\u53ef\u80fd\u5b58\u5728\u7684\u8bf7\u6c42\u7684\u503c\u90fd\u5b58\u653e\u5728\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\uff0c\u5f53\u7528\u6237\u8bf7\u6c42\u8fc7\u6765\uff0c\u5148\u5224\u65ad\u7528\u6237\u53d1\u6765\u7684\u8bf7\u6c42\u7684\u503c\u662f\u5426\u5b58\u5728\u4e8e\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\u3002\u4e0d\u5b58\u5728\u7684\u8bdd\uff0c\u76f4\u63a5\u8fd4\u56de\u8bf7\u6c42\u53c2\u6570\u9519\u8bef\u4fe1\u606f\u7ed9\u5ba2\u6237\u7aef\uff0c\u5b58\u5728\u7684\u8bdd\u624d\u4f1a\u8d70\u4e0b\u9762\u7684\u6d41\u7a0b\u3002"),(0,l.kt)("p",null,"\u52a0\u5165\u5e03\u9686\u8fc7\u6ee4\u5668\u4e4b\u540e\u7684\u7f13\u5b58\u5904\u7406\u6d41\u7a0b\u56fe\u5982\u4e0b\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220616204045863",src:n(16251).Z,width:"626",height:"758"})),(0,l.kt)("p",null,"\u4f46\u662f\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u5e03\u9686\u8fc7\u6ee4\u5668\u53ef\u80fd\u4f1a\u5b58\u5728\u8bef\u5224\u7684\u60c5\u51b5\u3002\u603b\u7ed3\u6765\u8bf4\u5c31\u662f\uff1a ",(0,l.kt)("strong",{parentName:"p"},"\u5e03\u9686\u8fc7\u6ee4\u5668\u8bf4\u67d0\u4e2a\u5143\u7d20\u5b58\u5728\uff0c\u5c0f\u6982\u7387\u4f1a\u8bef\u5224\u3002\u5e03\u9686\u8fc7\u6ee4\u5668\u8bf4\u67d0\u4e2a\u5143\u7d20\u4e0d\u5728\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5143\u7d20\u4e00\u5b9a\u4e0d\u5728\u3002")),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u4e3a\u4ec0\u4e48\u4f1a\u51fa\u73b0\u8bef\u5224\u7684\u60c5\u51b5\u5462? \u6211\u4eec\u8fd8\u8981\u4ece\u5e03\u9686\u8fc7\u6ee4\u5668\u7684\u539f\u7406\u6765\u8bf4\uff01")),(0,l.kt)("p",null,"\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e0b\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5f53\u4e00\u4e2a\u5143\u7d20\u52a0\u5165\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\u7684\u65f6\u5019\uff0c\u4f1a\u8fdb\u884c\u54ea\u4e9b\u64cd\u4f5c\uff1a")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u4f7f\u7528\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\u7684\u54c8\u5e0c\u51fd\u6570\u5bf9\u5143\u7d20\u503c\u8fdb\u884c\u8ba1\u7b97\uff0c\u5f97\u5230\u54c8\u5e0c\u503c\uff08\u6709\u51e0\u4e2a\u54c8\u5e0c\u51fd\u6570\u5f97\u5230\u51e0\u4e2a\u54c8\u5e0c\u503c\uff09\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u6839\u636e\u5f97\u5230\u7684\u54c8\u5e0c\u503c\uff0c\u5728\u4f4d\u6570\u7ec4\u4e2d\u628a\u5bf9\u5e94\u4e0b\u6807\u7684\u503c\u7f6e\u4e3a 1\u3002")),(0,l.kt)("p",null,"\u6211\u4eec\u518d\u6765\u770b\u4e00\u4e0b\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5f53\u6211\u4eec\u9700\u8981\u5224\u65ad\u4e00\u4e2a\u5143\u7d20\u662f\u5426\u5b58\u5728\u4e8e\u5e03\u9686\u8fc7\u6ee4\u5668\u7684\u65f6\u5019\uff0c\u4f1a\u8fdb\u884c\u54ea\u4e9b\u64cd\u4f5c\uff1a")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5bf9\u7ed9\u5b9a\u5143\u7d20\u518d\u6b21\u8fdb\u884c\u76f8\u540c\u7684\u54c8\u5e0c\u8ba1\u7b97\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5f97\u5230\u503c\u4e4b\u540e\u5224\u65ad\u4f4d\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u662f\u5426\u90fd\u4e3a 1\uff0c\u5982\u679c\u503c\u90fd\u4e3a 1\uff0c\u90a3\u4e48\u8bf4\u660e\u8fd9\u4e2a\u503c\u5728\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u4e00\u4e2a\u503c\u4e0d\u4e3a 1\uff0c\u8bf4\u660e\u8be5\u5143\u7d20\u4e0d\u5728\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\u3002")),(0,l.kt)("p",null,"\u7136\u540e\uff0c\u4e00\u5b9a\u4f1a\u51fa\u73b0\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u4e0d\u540c\u7684\u5b57\u7b26\u4e32\u53ef\u80fd\u54c8\u5e0c\u51fa\u6765\u7684\u4f4d\u7f6e\u76f8\u540c\u3002")," \uff08\u53ef\u4ee5\u9002\u5f53\u589e\u52a0\u4f4d\u6570\u7ec4\u5927\u5c0f\u6216\u8005\u8c03\u6574\u6211\u4eec\u7684\u54c8\u5e0c\u51fd\u6570\u6765\u964d\u4f4e\u6982\u7387\uff09"),(0,l.kt)("p",null,"\u66f4\u591a\u5173\u4e8e\u5e03\u9686\u8fc7\u6ee4\u5668\u7684\u5185\u5bb9\u53ef\u4ee5\u770b\u6211\u7684\u8fd9\u7bc7\u539f\u521b\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://javaguide.cn/cs-basics/data-structure/bloom-filter/"},"\u300a\u4e0d\u4e86\u89e3\u5e03\u9686\u8fc7\u6ee4\u5668\uff1f\u4e00\u6587\u7ed9\u4f60\u6574\u7684\u660e\u660e\u767d\u767d\uff01\u300bopen in new window")," \uff0c\u5f3a\u70c8\u63a8\u8350\uff0c\u4e2a\u4eba\u611f\u89c9\u7f51\u4e0a\u5e94\u8be5\u627e\u4e0d\u5230\u603b\u7ed3\u7684\u8fd9\u4e48\u660e\u660e\u767d\u767d\u7684\u6587\u7ae0\u4e86"),(0,l.kt)("h4",{id:"\u62d3\u5c551\u5e03\u9686\u8fc7\u6ee4\u5668"},"\u3010\u62d3\u5c551\u3011\u5e03\u9686\u8fc7\u6ee4\u5668"),(0,l.kt)("p",null,"\u4ec0\u4e48\u662f\u5e03\u9686\u8fc7\u6ee4\u5668\uff1f"),(0,l.kt)("p",null,"\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u4e86\u89e3\u5e03\u9686\u8fc7\u6ee4\u5668\u7684\u6982\u5ff5\u3002"),(0,l.kt)("p",null,"\u5e03\u9686\u8fc7\u6ee4\u5668\uff08Bloom Filter\uff09\u662f\u4e00\u4e2a\u53eb\u505a Bloom \u7684\u8001\u54e5\u4e8e 1970 \u5e74\u63d0\u51fa\u7684\u3002\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u770b\u4f5c\u7531\u4e8c\u8fdb\u5236\u5411\u91cf\uff08\u6216\u8005\u8bf4\u4f4d\u6570\u7ec4\uff09\u548c\u4e00\u7cfb\u5217\u968f\u673a\u6620\u5c04\u51fd\u6570\uff08\u54c8\u5e0c\u51fd\u6570\uff09\u4e24\u90e8\u5206\u7ec4\u6210\u7684\u6570\u636e\u7ed3\u6784\u3002\u76f8\u6bd4\u4e8e\u6211\u4eec\u5e73\u65f6\u5e38\u7528\u7684\u7684 List\u3001Map \u3001Set \u7b49\u6570\u636e\u7ed3\u6784\uff0c\u5b83\u5360\u7528\u7a7a\u95f4\u66f4\u5c11\u5e76\u4e14\u6548\u7387\u66f4\u9ad8\uff0c\u4f46\u662f\u7f3a\u70b9\u662f\u5176\u8fd4\u56de\u7684\u7ed3\u679c\u662f\u6982\u7387\u6027\u7684\uff0c\u800c\u4e0d\u662f\u975e\u5e38\u51c6\u786e\u7684\u3002\u7406\u8bba\u60c5\u51b5\u4e0b\u6dfb\u52a0\u5230\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u8d8a\u591a\uff0c\u8bef\u62a5\u7684\u53ef\u80fd\u6027\u5c31\u8d8a\u5927\u3002\u5e76\u4e14\uff0c\u5b58\u653e\u5728\u5e03\u9686\u8fc7\u6ee4\u5668\u7684\u6570\u636e\u4e0d\u5bb9\u6613\u5220\u9664\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"\u5e03\u9686\u8fc7\u6ee4\u5668\u793a\u610f\u56fe",src:n(66517).Z,width:"800",height:"154"})),(0,l.kt)("p",null,"\u4f4d\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u53ea\u5360\u7528 1 bit \uff0c\u5e76\u4e14\u6bcf\u4e2a\u5143\u7d20\u53ea\u80fd\u662f 0 \u6216\u8005 1\u3002\u8fd9\u6837\u7533\u8bf7\u4e00\u4e2a 100w \u4e2a\u5143\u7d20\u7684\u4f4d\u6570\u7ec4\u53ea\u5360\u7528 1000000Bit / 8 = 125000 Byte = 125000/1024 kb \u2248 122kb \u7684\u7a7a\u95f4\u3002"),(0,l.kt)("p",null,"\u603b\u7ed3\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u4e00\u4e2a\u540d\u53eb Bloom \u7684\u4eba\u63d0\u51fa\u4e86\u4e00\u79cd\u6765\u68c0\u7d22\u5143\u7d20\u662f\u5426\u5728\u7ed9\u5b9a\u5927\u96c6\u5408\u4e2d\u7684\u6570\u636e\u7ed3\u6784\uff0c\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u662f\u9ad8\u6548\u4e14\u6027\u80fd\u5f88\u597d\u7684\uff0c\u4f46\u7f3a\u70b9\u662f\u5177\u6709\u4e00\u5b9a\u7684\u9519\u8bef\u8bc6\u522b\u7387\u548c\u5220\u9664\u96be\u5ea6\u3002\u5e76\u4e14\uff0c\u7406\u8bba\u60c5\u51b5\u4e0b\uff0c\u6dfb\u52a0\u5230\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u8d8a\u591a\uff0c\u8bef\u62a5\u7684\u53ef\u80fd\u6027\u5c31\u8d8a\u5927\u3002")),(0,l.kt)("p",null,"\u5e03\u9686\u8fc7\u6ee4\u5668\u7684\u539f\u7406"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5f53\u4e00\u4e2a\u5143\u7d20\u52a0\u5165\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\u7684\u65f6\u5019\uff0c\u4f1a\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u4f7f\u7528\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\u7684\u54c8\u5e0c\u51fd\u6570\u5bf9\u5143\u7d20\u503c\u8fdb\u884c\u8ba1\u7b97\uff0c\u5f97\u5230\u54c8\u5e0c\u503c\uff08\u6709\u51e0\u4e2a\u54c8\u5e0c\u51fd\u6570\u5f97\u5230\u51e0\u4e2a\u54c8\u5e0c\u503c\uff09\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u6839\u636e\u5f97\u5230\u7684\u54c8\u5e0c\u503c\uff0c\u5728\u4f4d\u6570\u7ec4\u4e2d\u628a\u5bf9\u5e94\u4e0b\u6807\u7684\u503c\u7f6e\u4e3a 1\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5f53\u6211\u4eec\u9700\u8981\u5224\u65ad\u4e00\u4e2a\u5143\u7d20\u662f\u5426\u5b58\u5728\u4e8e\u5e03\u9686\u8fc7\u6ee4\u5668\u7684\u65f6\u5019\uff0c\u4f1a\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5bf9\u7ed9\u5b9a\u5143\u7d20\u518d\u6b21\u8fdb\u884c\u76f8\u540c\u7684\u54c8\u5e0c\u8ba1\u7b97\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5f97\u5230\u503c\u4e4b\u540e\u5224\u65ad\u4f4d\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u662f\u5426\u90fd\u4e3a 1\uff0c\u5982\u679c\u503c\u90fd\u4e3a 1\uff0c\u90a3\u4e48\u8bf4\u660e\u8fd9\u4e2a\u503c\u5728\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u4e00\u4e2a\u503c\u4e0d\u4e3a 1\uff0c\u8bf4\u660e\u8be5\u5143\u7d20\u4e0d\u5728\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\u3002")),(0,l.kt)("p",null,"\u4e3e\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"\u5e03\u9686\u8fc7\u6ee4\u5668hash\u8ba1\u7b97",src:n(35806).Z,width:"800",height:"443"})),(0,l.kt)("p",null,"\u5982\u56fe\u6240\u793a\uff0c\u5f53\u5b57\u7b26\u4e32\u5b58\u50a8\u8981\u52a0\u5165\u5230\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\u65f6\uff0c\u8be5\u5b57\u7b26\u4e32\u9996\u5148\u7531\u591a\u4e2a\u54c8\u5e0c\u51fd\u6570\u751f\u6210\u4e0d\u540c\u7684\u54c8\u5e0c\u503c\uff0c\u7136\u540e\u5c06\u5bf9\u5e94\u7684\u4f4d\u6570\u7ec4\u7684\u4e0b\u6807\u8bbe\u7f6e\u4e3a 1\uff08\u5f53\u4f4d\u6570\u7ec4\u521d\u59cb\u5316\u65f6\uff0c\u6240\u6709\u4f4d\u7f6e\u5747\u4e3a 0\uff09\u3002\u5f53\u7b2c\u4e8c\u6b21\u5b58\u50a8\u76f8\u540c\u5b57\u7b26\u4e32\u65f6\uff0c\u56e0\u4e3a\u5148\u524d\u7684\u5bf9\u5e94\u4f4d\u7f6e\u5df2\u8bbe\u7f6e\u4e3a 1\uff0c\u6240\u4ee5\u5f88\u5bb9\u6613\u77e5\u9053\u6b64\u503c\u5df2\u7ecf\u5b58\u5728\uff08\u53bb\u91cd\u975e\u5e38\u65b9\u4fbf\uff09\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u6211\u4eec\u9700\u8981\u5224\u65ad\u67d0\u4e2a\u5b57\u7b26\u4e32\u662f\u5426\u5728\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\u65f6\uff0c\u53ea\u9700\u8981\u5bf9\u7ed9\u5b9a\u5b57\u7b26\u4e32\u518d\u6b21\u8fdb\u884c\u76f8\u540c\u7684\u54c8\u5e0c\u8ba1\u7b97\uff0c\u5f97\u5230\u503c\u4e4b\u540e\u5224\u65ad\u4f4d\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u662f\u5426\u90fd\u4e3a 1\uff0c\u5982\u679c\u503c\u90fd\u4e3a 1\uff0c\u90a3\u4e48\u8bf4\u660e\u8fd9\u4e2a\u503c\u5728\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u4e00\u4e2a\u503c\u4e0d\u4e3a 1\uff0c\u8bf4\u660e\u8be5\u5143\u7d20\u4e0d\u5728\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e0d\u540c\u7684\u5b57\u7b26\u4e32\u53ef\u80fd\u54c8\u5e0c\u51fa\u6765\u7684\u4f4d\u7f6e\u76f8\u540c\uff0c\u8fd9\u79cd\u60c5\u51b5\u6211\u4eec\u53ef\u4ee5\u9002\u5f53\u589e\u52a0\u4f4d\u6570\u7ec4\u5927\u5c0f\u6216\u8005\u8c03\u6574\u6211\u4eec\u7684\u54c8\u5e0c\u51fd\u6570\u3002")),(0,l.kt)("p",null,"\u7efc\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u5e03\u9686\u8fc7\u6ee4\u5668\u8bf4\u67d0\u4e2a\u5143\u7d20\u5b58\u5728\uff0c\u5c0f\u6982\u7387\u4f1a\u8bef\u5224\u3002\u5e03\u9686\u8fc7\u6ee4\u5668\u8bf4\u67d0\u4e2a\u5143\u7d20\u4e0d\u5728\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5143\u7d20\u4e00\u5b9a\u4e0d\u5728")),(0,l.kt)("h4",{id:"\u62d3\u5c552\u5e03\u8c37\u9e1f\u8fc7\u6ee4\u5668cuckoo-filter"},"\u3010\u62d3\u5c552\u3011\u5e03\u8c37\u9e1f\u8fc7\u6ee4\u5668\uff08Cuckoo Filter\uff09"),(0,l.kt)("h5",{id:"\u5e03\u8c37\u9e1f\u54c8\u5e0c"},"\u5e03\u8c37\u9e1f\u54c8\u5e0c"),(0,l.kt)("p",null,"\u5e03\u8c37\u9e1f\u8fc7\u6ee4\u5668\u7528\u66f4\u4f4e\u7684\u7a7a\u95f4\u5f00\u9500\u89e3\u51b3\u4e86\u5e03\u9686\u8fc7\u6ee4\u5668\u4e0d\u80fd\u5220\u9664\u5143\u7d20\u7684\u95ee\u9898\uff0c\u505a\u5230\u4e86\u66f4\u597d\u7684\u6548\u679c\uff0c\u5177\u4f53\u7684"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u652f\u6301\u52a8\u6001\u7684\u6dfb\u52a0\u548c\u5220\u9664\u5143\u7d20"),(0,l.kt)("li",{parentName:"ul"},"\u63d0\u4f9b\u4e86\u6bd4\u4f20\u7edf\u5e03\u9686\u8fc7\u6ee4\u5668\u66f4\u9ad8\u7684\u67e5\u627e\u6027\u80fd\uff0c\u5373\u4f7f\u5728\u63a5\u8fd1\u6ee1\u7684\u60c5\u51b5\u4e0b\uff08\u6bd4\u5982\u7a7a\u95f4\u5229\u7528\u7387\u8fbe\u5230 95% \u7684\u65f6\u5019\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u6bd4\u8d77\u5546\u8fc7\u6ee4\u5668\u5b83\u66f4\u5bb9\u6613\u5b9e\u73b0"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u8981\u6c42\u8bef\u5224\u7387\u4f4e\u4e8e3%\uff0c\u5b83\u6bd4\u5e03\u9686\u8fc7\u6ee4\u5668\u6709\u66f4\u4f4e\u7684\u7a7a\u95f4\u5f00\u9500")),(0,l.kt)("p",null,"\u672c\u8d28\u4e0a\u6765\u8bf4\u5b83\u4e3a\u89e3\u51b3\u54c8\u5e0c\u51b2\u7a81\u63d0\u4f9b\u4e86\u53e6\u4e00\u79cd\u7b56\u7565\uff0c\u5229\u7528\u8f83\u5c11\u8ba1\u7b97\u6362\u53d6\u4e86\u8f83\u5927\u7a7a\u95f4\u3002\u5b83\u5177\u6709\u5360\u7528\u7a7a\u95f4\u5c0f\u3001\u67e5\u8be2\u8fc5\u901f\u7b49\u7279\u6027\u3002\u540d\u79f0\u6e90\u4e8e\u91c7\u53d6\u4e86\u4e00\u79cd\u548c\u5e03\u8c37\u9e1f\u4e00\u6837\u7684\u517b\u5a03\u65b9\u6cd5"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5e03\u8c37\u9e1f\u4ea4\u914d\u540e\uff0c\u96cc\u6027",(0,l.kt)("strong",{parentName:"p"},"\u5e03\u8c37\u9e1f"),"\u5c31\u51c6\u5907\u4ea7\u86cb\u4e86\uff0c\u4f46\u5b83\u5374\u4e0d\u4f1a\u81ea\u5df1\u7b51\u5de2\u3002\u5b83\u4f1a\u6765\u5230\u50cf\u77e5\u66f4",(0,l.kt)("strong",{parentName:"p"},"\u9e1f"),"\u3001\u523a\u5634\u83ba\u7b49\u90a3\u4e9b\u6bd4\u5b83\u5c0f\u7684",(0,l.kt)("strong",{parentName:"p"},"\u9e1f"),"\u7c7b\u7684\u5de2\u4e2d\uff0c\u79fb\u8d70\u539f\u6765\u7684\u90a3\u7a9d\u86cb\u4e2d\u7684\u4e00\u4e2a\uff0c\u7528\u81ea\u5df1\u7684\u86cb\u6765\u53d6\u800c\u4ee3\u4e4b\u3002\u76f8\u5bf9\u4e8e\u5b83\u7684\u4f53\u5f62\u6765\u8bf4\uff0c\u5b83\u7684\u86cb\u662f\u504f\u5c0f\u7684\uff0c\u800c\u4e14\u86cb\u4e0a\u7684\u6591\u7eb9\u540c\u5b83\u6df7\u5165\u7684\u5176\u4ed6",(0,l.kt)("strong",{parentName:"p"},"\u9e1f"),"\u7684\u86cb\u4e5f\u975e\u5e38\u76f8\u4f3c\uff0c\u6240\u4ee5\u4e0d\u6613\u88ab\u5206\u8fa8\u51fa\u6765\u3002\u5982\u679c\u4e0d\u662f\u8fd9\u6837\uff0c\u5b83\u7684\u86cb\u80af\u5b9a\u4f1a\u88ab\u6254\u51fa\u53bb\u3002")),(0,l.kt)("p",null,"\u6700\u539f\u59cb\u7684\u5e03\u8c37\u9e1f\u54c8\u5e0c\u65b9\u6cd5\u662f\u4f7f\u7528\u4e24\u4e2a\u54c8\u5e0c\u51fd\u6570\u5bf9\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"key"),"\u8fdb\u884c\u54c8\u5e0c\uff0c\u5f97\u5230\u6876\u4e2d\u7684\u4e24\u4e2a\u4f4d\u7f6e\uff0c\u6b64\u65f6"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e24\u4e2a\u4f4d\u7f6e\u90fd\u4e3a\u4e3a\u7a7a\u5219\u5c06 ",(0,l.kt)("inlineCode",{parentName:"li"},"key"),"\u968f\u673a\u5b58\u5165\u5176\u4e2d\u4e00\u4e2a\u4f4d\u7f6e"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u4f4d\u7f6e\u4e3a\u7a7a\u5219\u5b58\u5165\u4e3a\u7a7a\u7684\u4f4d\u7f6e"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u90fd\u4e0d\u4e3a\u7a7a\uff0c\u5219\u968f\u673a\u8e22\u51fa\u4e00\u4e2a\u5143\u7d20\uff0c\u8e22\u51fa\u7684\u5143\u7d20\u518d\u91cd\u65b0\u8ba1\u7b97\u54c8\u5e0c\u627e\u5230\u76f8\u5e94\u7684\u4f4d\u7f6e")),(0,l.kt)("p",null,"\u5f53\u7136\u5047\u5982\u5b58\u5728\u7edd\u5bf9\u7684\u7a7a\u95f4\u4e0d\u8db3\uff0c\u90a3\u8001\u662f\u8e22\u51fa\u4e5f\u4e0d\u662f\u529e\u6cd5\uff0c\u6240\u4ee5\u4e00\u822c\u4f1a\u8bbe\u7f6e\u4e00\u4e2a",(0,l.kt)("strong",{parentName:"p"},"\u8e22\u51fa\u9608\u503c"),"\uff0c\u5982\u679c\u5728\u67d0\u6b21\u63d2\u5165\u884c\u4e3a\u8fc7\u7a0b\u4e2d\u8fde\u7eed\u8e22\u51fa\u8d85\u8fc7\u9608\u503c\uff0c\u5219\u8fdb\u884c\u6269\u5bb9\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210727104910960",src:n(10963).Z,width:"876",height:"535"})),(0,l.kt)("h5",{id:"\u5e03\u8c37\u9e1f\u8fc7\u6ee4\u5668"},"\u5e03\u8c37\u9e1f\u8fc7\u6ee4\u5668"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"1",src:n(891).Z,width:"1351",height:"480"})),(0,l.kt)("p",null,"\u4e0a\u56fe\uff08a\uff09(b)\u5c55\u793a\u4e86\u4e00\u4e2a\u57fa\u672c\u7684\u5e03\u8c37\u9e1f\u54c8\u5e0c\u8868\u7684\u63d2\u5165\u64cd\u4f5c\uff0c\u662f\u7531\u4e00\u4e2a\u6876\u6570\u7ec4\u7ec4\u6210\uff0c\u6bcf\u4e2a\u63d2\u5165\u9879\u90fd\u6709\u7531\u6563\u5217\u51fd\u6570h1(x)\u548ch2(x)\u786e\u5b9a\u7684\u4e24\u4e2a\u5019\u9009\u6876\uff0c\u5177\u4f53\u64cd\u4f5c\u4e0a\u6587\u4e2d\u5df2\u7ecf\u63cf\u8ff0\uff0c\u6b64\u5904\u4e0d\u518d\u8d58\u8ff0\u3002"),(0,l.kt)("p",null,"\u800c\u57fa\u672c\u7684\u5e03\u8c37\u9e1f\u8fc7\u6ee4\u5668\u4e5f\u662f\u7531\u4e24\u4e2a\u6216\u8005\u591a\u4e2a\u54c8\u5e0c\u51fd\u6570\u6784\u6210\uff0c\u5e03\u8c37\u9e1f\u8fc7\u6ee4\u5668\u7684\u5e03\u8c37\u9e1f\u54c8\u5e0c\u8868\u7684\u57fa\u672c\u5355\u4f4d\u79f0\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u6761\u76ee\uff08entry\uff09"),"\u3002 \u6bcf\u4e2a\u6761\u76ee\u5b58\u50a8\u4e00\u4e2a",(0,l.kt)("strong",{parentName:"p"},"\u6307\u7eb9\uff08fingerprint\uff09"),"\uff0c\u6307\u7eb9\u6307\u7684\u662f\u4f7f\u7528\u4e00\u4e2a\u54c8\u5e0c\u51fd\u6570\u751f\u6210\u7684n\u4f4d\u6bd4\u7279\u4f4d\uff0cn\u7684\u5177\u4f53\u5927\u5c0f\u7531\u6240\u80fd\u63a5\u53d7\u7684\u8bef\u5224\u7387\u6765\u8bbe\u7f6e\uff0c\u8bba\u6587\u4e2d\u7684\u4f8b\u5b50\u4f7f\u7528\u7684\u662f8bits\u7684\u6307\u7eb9\u5927\u5c0f\u3002"),(0,l.kt)("p",null,"\u54c8\u5e0c\u8868\u7531\u4e00\u4e2a\u6876\u6570\u7ec4\u7ec4\u6210\uff0c\u5176\u4e2d\u4e00\u4e2a\u6876\u53ef\u4ee5\u6709\u591a\u4e2a\u6761\u76ee\uff08\u6bd4\u5982\u4e0a\u8ff0\u56fec\u4e2d\u6709\u56db\u4e2a\u6761\u76ee\uff09\u3002\u800c\u6bcf\u4e2a\u6876\u4e2d\u6709\u56db\u4e2a\u6307\u7eb9\u4f4d\u7f6e\uff0c\u610f\u5473\u7740\u4e00\u6b21\u54c8\u5e0c\u8ba1\u7b97\u540e\u5e03\u8c37\u9e1f\u6709\u56db\u4e2a\u201c\u5de2\u201c\u53ef\u7528\uff0c\u800c\u4e14\u56db\u4e2a\u5de2\u662f\u8fde\u7eed\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u66f4\u597d\u7684\u5229\u7528cpu\u9ad8\u901f\u7f13\u5b58\u3002\u4e5f\u5c31\u662f\u8bf4\u6bcf\u4e2a\u6876\u7684\u5927\u5c0f\u662f4*8bits"),(0,l.kt)("h4",{id:"\u96ea\u5d29"},"\u96ea\u5d29"),(0,l.kt)("p",null,"\u4ec0\u4e48\u662f\u7f13\u5b58\u96ea\u5d29\uff1f"),(0,l.kt)("p",null,"\u5b9e\u9645\u4e0a\uff0c\u7f13\u5b58\u96ea\u5d29\u63cf\u8ff0\u7684\u5c31\u662f\u8fd9\u6837\u4e00\u4e2a\u7b80\u5355\u7684\u573a\u666f\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u7f13\u5b58\u5728\u540c\u4e00\u65f6\u95f4\u5927\u9762\u79ef\u7684\u5931\u6548\uff0c\u540e\u9762\u7684\u8bf7\u6c42\u90fd\u76f4\u63a5\u843d\u5230\u4e86\u6570\u636e\u5e93\u4e0a\uff0c\u9020\u6210\u6570\u636e\u5e93\u77ed\u65f6\u95f4\u5185\u627f\u53d7\u5927\u91cf\u8bf7\u6c42\u3002")," \u8fd9\u5c31\u597d\u6bd4\u96ea\u5d29\u4e00\u6837\uff0c\u6467\u67af\u62c9\u673d\u4e4b\u52bf\uff0c\u6570\u636e\u5e93\u7684\u538b\u529b\u53ef\u60f3\u800c\u77e5\uff0c\u53ef\u80fd\u76f4\u63a5\u5c31\u88ab\u8fd9\u4e48\u591a\u8bf7\u6c42\u5f04\u5b95\u673a\u4e86"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u53e6\u4e00\u79cd\u8bf4\u6cd5\u662f\uff1a"),(0,l.kt)("p",{parentName:"blockquote"},"\u5f53",(0,l.kt)("strong",{parentName:"p"},"\u5927\u91cf\u7f13\u5b58\u6570\u636e\u5728\u540c\u4e00\u65f6\u95f4\u8fc7\u671f\uff08\u5931\u6548\uff09","*","*\u65f6\uff0c\u5982\u679c\u6b64\u65f6\u6709\u5927\u91cf\u7684\u7528\u6237\u8bf7\u6c42\uff0c\u90fd\u65e0\u6cd5\u5728 Redis \u4e2d\u5904\u7406\uff0c\u4e8e\u662f\u5168\u90e8\u8bf7\u6c42\u90fd\u76f4\u63a5\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u4ece\u800c\u5bfc\u81f4\u6570\u636e\u5e93\u7684\u538b\u529b\u9aa4\u589e\uff0c\u4e25\u91cd\u7684\u4f1a\u9020\u6210\u6570\u636e\u5e93\u5b95\u673a\uff0c\u4ece\u800c\u5f62\u6210\u4e00\u7cfb\u5217\u8fde\u9501\u53cd\u5e94\uff0c\u9020\u6210\u6574\u4e2a\u7cfb\u7edf\u5d29\u6e83\uff0c\u8fd9\u5c31\u662f\u7f13\u5b58\u96ea\u5d29"),"\u7684\u95ee\u9898\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220616203658271",src:n(50257).Z,width:"564",height:"365"})),(0,l.kt)("p",null,"\u901a\u5e38\uff0c\u6211\u4eec\u4f1a\u4f7f\u7528\u7f13\u5b58\u7528\u4e8e\u7f13\u51b2\u5bf9 DB \u7684\u51b2\u51fb\uff0c\u5982\u679c\u7f13\u5b58\u5b95\u673a\uff0c\u6240\u6709\u8bf7\u6c42\u5c06\u76f4\u63a5\u6253\u5728 DB\uff0c\u9020\u6210 DB \u5b95\u673a\u2014\u2014\u4ece\u800c\u5bfc\u81f4\u6574\u4e2a\u7cfb\u7edf\u5b95\u673a\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220616203727609",src:n(50987).Z,width:"619",height:"531"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2 \u79cd\u7b56\u7565\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5c06\u7f13\u5b58\u5931\u6548\u65f6\u95f4\u968f\u673a\u6253\u6563\uff1a")," \u6211\u4eec\u53ef\u4ee5\u5728\u539f\u6709\u7684\u5931\u6548\u65f6\u95f4\u57fa\u7840\u4e0a\u589e\u52a0\u4e00\u4e2a\u968f\u673a\u503c\uff08\u6bd4\u5982 1 \u5230 10 \u5206\u949f\uff09\u8fd9\u6837\u6bcf\u4e2a\u7f13\u5b58\u7684\u8fc7\u671f\u65f6\u95f4\u90fd\u4e0d\u91cd\u590d\u4e86\uff0c\u4e5f\u5c31\u964d\u4f4e\u4e86\u7f13\u5b58\u96c6\u4f53\u5931\u6548\u7684\u6982\u7387\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u8bbe\u7f6e\u7f13\u5b58\u4e0d\u8fc7\u671f\uff1a")," \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u540e\u53f0\u670d\u52a1\u6765\u66f4\u65b0\u7f13\u5b58\u6570\u636e\uff0c\u4ece\u800c\u907f\u514d\u56e0\u4e3a\u7f13\u5b58\u5931\u6548\u9020\u6210\u7684\u7f13\u5b58\u96ea\u5d29\uff0c\u4e5f\u53ef\u4ee5\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u907f\u514d\u7f13\u5b58\u5e76\u53d1\u95ee\u9898\u3002")),(0,l.kt)("h4",{id:"\u51fb\u7a7f"},"\u51fb\u7a7f"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7f13\u5b58\u51fb\u7a7f"),"\u662f\u6307\u67d0\u4e00\u4e2a\u70ed\u70b9\u6570\u636e\u7f13\u5b58\u4e2d\u6ca1\u6709\u4f46\u6570\u636e\u5e93\u4e2d\u6709\u6570\u636e\uff08\u4e00\u822c\u662f\u7f13\u5b58\u65f6\u95f4\u5230\u671f\uff0c\u6bd4\u5982\u79d2\u6740\u6d3b\u52a8\uff0c\u8fd9\u7c7b\u88ab\u9891\u5730\u8bbf\u95ee\u7684\u6570\u636e\u88ab\u79f0\u4e3a\u70ed\u70b9\u6570\u636e\uff09\u3002\u8fd9\u65f6\u7531\u4e8e\u5e76\u53d1\u7528\u6237\u7279\u522b\u591a\uff0c\u540c\u65f6\u8bfb\u7f13\u5b58\u6ca1\u8bfb\u5230\u6570\u636e\uff08",(0,l.kt)("strong",{parentName:"p"},"\u67d0\u4e2a\u70ed\u70b9\u6570\u636e\u8fc7\u671f"),"\u4e86\uff0c\u6b64\u65f6\u5927\u91cf\u7684\u8bf7\u6c42\u8bbf\u95ee\u4e86\u8be5\u70ed\u70b9\u6570\u636e\uff0c\u5c31\u65e0\u6cd5\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\uff09\uff0c\u5c31\u53bb\u6570\u636e\u5e93\u53bb\u53d6\u6570\u636e\uff0c\u5f15\u8d77\u6570\u636e\u5e93\u538b\u529b\u77ac\u95f4\u589e\u5927\uff0c\u88ab\u9ad8\u5e76\u53d1\u7684\u8bf7\u6c42\u51b2\u57ae\uff0c\u8fd9\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u7f13\u5b58\u51fb\u7a7f"),"\u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u89e3\u51b3\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u8bbe\u7f6e\u70ed\u70b9\u6570\u636e\u6c38\u8fdc\u4e0d\u8fc7\u671f"),"\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u63a5\u53e3\u9650\u6d41\u4e0e\u7194\u65ad"),"\uff0c\u964d\u7ea7\u3002\u91cd\u8981\u7684\u63a5\u53e3\u4e00\u5b9a\u8981\u505a\u597d\u9650\u6d41\u7b56\u7565\uff0c\u9632\u6b62\u7528\u6237\u6076\u610f\u5237\u63a5\u53e3\uff0c\u540c\u65f6\u8981\u964d\u7ea7\u51c6\u5907\uff0c\u5f53\u63a5\u53e3\u4e2d\u7684\u67d0\u4e9b\u670d\u52a1\u4e0d\u53ef\u7528\u65f6\u5019\uff0c\u8fdb\u884c\u7194\u65ad\uff0c\u5931\u8d25\u5feb\u901f\u8fd4\u56de\u673a\u5236\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u8bbe\u7f6e\u4e92\u65a5\u9501"),"\u3002\u5728\u5e76\u53d1\u7684\u591a\u4e2a\u8bf7\u6c42\u4e2d\uff0c\u53ea\u6709\u7b2c\u4e00\u4e2a\u8bf7\u6c42\u7ebf\u7a0b\u80fd\u62ff\u5230\u9501\u5e76\u6267\u884c\u6570\u636e\u5e93\u67e5\u8be2\u64cd\u4f5c\uff0c\u5176\u4ed6\u7684\u7ebf\u7a0b\u62ff\u4e0d\u5230\u9501\u5c31\u963b\u585e\u7b49\u7740\uff0c\u7b49\u5230\u7b2c\u4e00\u4e2a\u7ebf\u7a0b\u5c06\u6570\u636e\u5199\u5165\u7f13\u5b58\u540e\uff0c\u76f4\u63a5\u8d70\u7f13\u5b58\u3002\uff08\u53ef\u4ee5\u4f7f\u7528 Redis \u5206\u5e03\u5f0f\u9501\uff09")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714212532910",src:n(13877).Z,width:"707",height:"836"})),(0,l.kt)("h3",{id:"\u4e3b\u4ece\u590d\u5236\u65b9\u6848\u662f\u600e\u4e48\u505a\u7684"},"\u4e3b\u4ece\u590d\u5236\u65b9\u6848\u662f\u600e\u4e48\u505a\u7684\uff1f"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714220149168",src:n(30468).Z,width:"1080",height:"661"})),(0,l.kt)("p",null,"\u591a\u53f0\u670d\u52a1\u5668\u8981\u4fdd\u5b58\u540c\u4e00\u4efd\u6570\u636e\uff0c\u8fd9\u91cc\u95ee\u9898\u5c31\u6765\u4e86\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e9b\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u6570\u636e\u5982\u4f55\u4fdd\u6301\u4e00\u81f4\u6027\u5462\uff1f\u6570\u636e\u7684\u8bfb\u5199\u64cd\u4f5c\u662f\u5426\u6bcf\u53f0\u670d\u52a1\u5668\u90fd\u53ef\u4ee5\u5904\u7406\uff1f"),(0,l.kt)("p",null,"Redis \u63d0\u4f9b\u4e86",(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u4ece\u590d\u5236\u6a21\u5f0f"),"\uff0c\u6765\u907f\u514d\u4e0a\u8ff0\u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u6a21\u5f0f\u53ef\u4ee5\u4fdd\u8bc1\u591a\u53f0\u670d\u52a1\u5668\u7684\u6570\u636e\u4e00\u81f4\u6027\uff0c\u4e14\u4e3b\u4ece\u670d\u52a1\u5668\u4e4b\u95f4\u91c7\u7528\u7684\u662f\u300c\u8bfb\u5199\u5206\u79bb\u300d\u7684\u65b9\u5f0f\u3002"),(0,l.kt)("p",null,"\u4e3b\u670d\u52a1\u5668\u53ef\u4ee5\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\uff0c\u5f53\u53d1\u751f\u5199\u64cd\u4f5c\u65f6\u81ea\u52a8\u5c06\u5199\u64cd\u4f5c\u540c\u6b65\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u800c\u4ece\u670d\u52a1\u5668\u4e00\u822c\u662f\u53ea\u8bfb\uff0c\u5e76\u63a5\u53d7\u4e3b\u670d\u52a1\u5668\u540c\u6b65\u8fc7\u6765\u5199\u64cd\u4f5c\u547d\u4ee4\uff0c\u7136\u540e\u6267\u884c\u8fd9\u6761\u547d\u4ee4\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714220158025",src:n(86190).Z,width:"902",height:"422"})),(0,l.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff0c\u6240\u6709\u7684\u6570\u636e\u4fee\u6539\u53ea\u5728\u4e3b\u670d\u52a1\u5668\u4e0a\u8fdb\u884c\uff0c\u7136\u540e\u5c06\u6700\u65b0\u7684\u6570\u636e\u540c\u6b65\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u8fd9\u6837\u5c31\u4f7f\u5f97\u4e3b\u4ece\u670d\u52a1\u5668\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\u3002"),(0,l.kt)("p",null,"\u540c\u6b65\u8fd9\u4e24\u4e2a\u5b57\u8bf4\u7684\u7b80\u5355\uff0c\u4f46\u662f\u8fd9\u4e2a\u540c\u6b65\u8fc7\u7a0b\u5e76\u6ca1\u6709\u60f3\u8c61\u4e2d\u90a3\u4e48\u7b80\u5355\uff0c\u8981\u8003\u8651\u7684\u4e8b\u60c5\u4e0d\u662f\u4e00\u4e24\u4e2a\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u5148\u6765\u770b\u770b\uff0c\u4e3b\u4ece\u670d\u52a1\u5668\u95f4\u7684\u7b2c\u4e00\u6b21\u540c\u6b65\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f"),(0,l.kt)("h4",{id:"\u7b2c\u4e00\u6b21\u540c\u6b65"},"\u7b2c\u4e00\u6b21\u540c\u6b65"),(0,l.kt)("p",null,"\u591a\u53f0\u670d\u52a1\u5668\u4e4b\u95f4\u8981\u901a\u8fc7\u4ec0\u4e48\u65b9\u5f0f\u6765\u786e\u5b9a\u8c01\u662f\u4e3b\u670d\u52a1\u5668\uff0c\u6216\u8005\u8c01\u662f\u4ece\u670d\u52a1\u5668\u5462\uff1f"),(0,l.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"replicaof"),"\uff08Redis 5.0 \u4e4b\u524d\u4f7f\u7528 slaveof\uff09\u547d\u4ee4\u5f62\u6210\u4e3b\u670d\u52a1\u5668\u548c\u4ece\u670d\u52a1\u5668\u7684\u5173\u7cfb\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982\uff0c\u73b0\u5728\u6709\u670d\u52a1\u5668 A \u548c \u670d\u52a1\u5668 B\uff0c\u6211\u4eec\u5728\u670d\u52a1\u5668 B \u4e0a\u6267\u884c\u4e0b\u9762\u8fd9\u6761\u547d\u4ee4\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"# \u670d\u52a1\u5668 B \u6267\u884c\u8fd9\u6761\u547d\u4ee4\nreplicaof <\u670d\u52a1\u5668 A \u7684 IP \u5730\u5740> <\u670d\u52a1\u5668 A \u7684 Redis \u7aef\u53e3\u53f7>\n")),(0,l.kt)("p",null,"\u63a5\u7740\uff0c\u670d\u52a1\u5668 B \u5c31\u4f1a\u53d8\u6210\u670d\u52a1\u5668 A \u7684\u300c\u4ece\u670d\u52a1\u5668\u300d\uff0c\u7136\u540e\u4e0e\u4e3b\u670d\u52a1\u5668\u8fdb\u884c\u7b2c\u4e00\u6b21\u540c\u6b65\u3002"),(0,l.kt)("p",null,"\u4e3b\u4ece\u670d\u52a1\u5668\u95f4\u7684\u7b2c\u4e00\u6b21\u540c\u6b65\u7684\u8fc7\u7a0b\u53ef\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u9636\u6bb5\u662f\u5efa\u7acb\u94fe\u63a5\u3001\u534f\u5546\u540c\u6b65\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u9636\u6bb5\u662f\u4e3b\u670d\u52a1\u5668\u540c\u6b65\u6570\u636e\u7ed9\u4ece\u670d\u52a1\u5668\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e09\u9636\u6bb5\u662f\u4e3b\u670d\u52a1\u5668\u53d1\u9001\u65b0\u5199\u64cd\u4f5c\u547d\u4ee4\u7ed9\u4ece\u670d\u52a1\u5668\u3002")),(0,l.kt)("p",null,"\u4e3a\u4e86\u8ba9\u4f60\u66f4\u6e05\u695a\u4e86\u89e3\u8fd9\u4e09\u4e2a\u9636\u6bb5\uff0c\u6211\u753b\u4e86\u4e00\u5f20\u56fe\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714220220342",src:n(16586).Z,width:"1080",height:"555"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u63a5\u4e0b\u6765\uff0c\u6211\u5728\u5177\u4f53\u4ecb\u7ecd\u6bcf\u4e00\u4e2a\u9636\u6bb5\u90fd\u505a\u4e86\u4ec0\u4e48\u3002")),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u7b2c\u4e00\u9636\u6bb5\uff1a\u5efa\u7acb\u94fe\u63a5\u3001\u534f\u5546\u540c\u6b65")),(0,l.kt)("p",null,"\u6267\u884c\u4e86 replicaof \u547d\u4ee4\u540e\uff0c\u4ece\u670d\u52a1\u5668\u5c31\u4f1a\u7ed9\u4e3b\u670d\u52a1\u5668\u53d1\u9001 ",(0,l.kt)("inlineCode",{parentName:"p"},"psync")," \u547d\u4ee4\uff0c\u8868\u793a\u8981\u8fdb\u884c\u6570\u636e\u540c\u6b65\u3002"),(0,l.kt)("p",null,"psync \u547d\u4ee4\u5305\u542b\u4e24\u4e2a\u53c2\u6570\uff0c\u5206\u522b\u662f",(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u670d\u52a1\u5668\u7684 runID")," \u548c",(0,l.kt)("strong",{parentName:"p"},"\u590d\u5236\u8fdb\u5ea6 offset"),"\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'runID\uff0c\u6bcf\u4e2a Redis \u670d\u52a1\u5668\u5728\u542f\u52a8\u65f6\u90fd\u4f1a\u81ea\u52a8\u751f\u4ea7\u4e00\u4e2a\u968f\u673a\u7684 ID \u6765\u552f\u4e00\u6807\u8bc6\u81ea\u5df1\u3002\u5f53\u4ece\u670d\u52a1\u5668\u548c\u4e3b\u670d\u52a1\u5668\u7b2c\u4e00\u6b21\u540c\u6b65\u65f6\uff0c\u56e0\u4e3a\u4e0d\u77e5\u9053\u4e3b\u670d\u52a1\u5668\u7684 run ID\uff0c\u6240\u4ee5\u5c06\u5176\u8bbe\u7f6e\u4e3a "?"\u3002'),(0,l.kt)("li",{parentName:"ul"},"offset\uff0c\u8868\u793a\u590d\u5236\u7684\u8fdb\u5ea6\uff0c\u7b2c\u4e00\u6b21\u540c\u6b65\u65f6\uff0c\u5176\u503c\u4e3a -1\u3002")),(0,l.kt)("p",null,"\u4e3b\u670d\u52a1\u5668\u6536\u5230 psync \u547d\u4ee4\u540e\uff0c\u4f1a\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"FULLRESYNC")," \u4f5c\u4e3a\u54cd\u5e94\u547d\u4ee4\u8fd4\u56de\u7ed9\u5bf9\u65b9\u3002"),(0,l.kt)("p",null,"\u5e76\u4e14\u8fd9\u4e2a\u54cd\u5e94\u547d\u4ee4\u4f1a\u5e26\u4e0a\u4e24\u4e2a\u53c2\u6570\uff1a\u4e3b\u670d\u52a1\u5668\u7684 runID \u548c\u4e3b\u670d\u52a1\u5668\u76ee\u524d\u7684\u590d\u5236\u8fdb\u5ea6 offset\u3002\u4ece\u670d\u52a1\u5668\u6536\u5230\u54cd\u5e94\u540e\uff0c\u4f1a\u8bb0\u5f55\u8fd9\u4e24\u4e2a\u503c\u3002"),(0,l.kt)("p",null,"FULLRESYNC \u54cd\u5e94\u547d\u4ee4\u7684\u610f\u56fe\u662f\u91c7\u7528",(0,l.kt)("strong",{parentName:"p"},"\u5168\u91cf\u590d\u5236"),"\u7684\u65b9\u5f0f\uff0c\u4e5f\u5c31\u662f\u4e3b\u670d\u52a1\u5668\u4f1a\u628a\u6240\u6709\u7684\u6570\u636e\u90fd\u540c\u6b65\u7ed9\u4ece\u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u7b2c\u4e00\u9636\u6bb5\u7684\u5de5\u4f5c\u65f6\u4e3a\u4e86\u5168\u91cf\u590d\u5236\u505a\u51c6\u5907\u3002"),(0,l.kt)("p",null,"\u90a3\u5177\u4f53\u600e\u4e48\u5168\u91cf\u540c\u6b65\u5440\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u5f80\u4e0b\u770b\u7b2c\u4e8c\u9636\u6bb5\u3002"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u7b2c\u4e8c\u9636\u6bb5\uff1a\u4e3b\u670d\u52a1\u5668\u540c\u6b65\u6570\u636e\u7ed9\u4ece\u670d\u52a1\u5668")),(0,l.kt)("p",null,"\u63a5\u7740\uff0c\u4e3b\u670d\u52a1\u5668\u4f1a\u6267\u884c bgsave \u547d\u4ee4\u6765\u751f\u6210 RDB \u6587\u4ef6\uff0c\u7136\u540e\u628a\u6587\u4ef6\u53d1\u9001\u7ed9\u4ece\u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,"\u4ece\u670d\u52a1\u5668\u6536\u5230 RDB \u6587\u4ef6\u540e\uff0c\u4f1a\u5148\u6e05\u7a7a\u5f53\u524d\u7684\u6570\u636e\uff0c\u7136\u540e\u8f7d\u5165 RDB \u6587\u4ef6\u3002"),(0,l.kt)("p",null,"\u8fd9\u91cc\u6709\u4e00\u70b9\u8981\u6ce8\u610f\uff0c\u4e3b\u670d\u52a1\u5668\u751f\u6210 RDB \u8fd9\u4e2a\u8fc7\u7a0b\u662f\u4e0d\u4f1a\u963b\u585e\u4e3b\u7ebf\u7a0b\u7684\uff0c\u56e0\u4e3a bgsave \u547d\u4ee4\u662f\u4ea7\u751f\u4e86\u4e00\u4e2a\u5b50\u8fdb\u7a0b\u6765\u505a\u751f\u6210 RDB \u6587\u4ef6\u7684\u5de5\u4f5c\uff0c\u662f\u5f02\u6b65\u5de5\u4f5c\u7684\uff0c\u8fd9\u6837 Redis \u4f9d\u7136\u53ef\u4ee5\u6b63\u5e38\u5904\u7406\u547d\u4ee4\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\uff0c\u8fd9\u671f\u95f4\u7684\u5199\u64cd\u4f5c\u547d\u4ee4\u5e76\u6ca1\u6709\u8bb0\u5f55\u5230\u521a\u521a\u751f\u6210\u7684 RDB \u6587\u4ef6\u4e2d\uff0c\u8fd9\u65f6\u4e3b\u4ece\u670d\u52a1\u5668\u95f4\u7684\u6570\u636e\u5c31\u4e0d\u4e00\u81f4\u4e86\u3002\u90a3\u4e48\u4e3a\u4e86\u4fdd\u8bc1\u4e3b\u4ece\u670d\u52a1\u5668\u7684\u6570\u636e\u4e00\u81f4\u6027\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u670d\u52a1\u5668\u5728\u4e0b\u9762\u8fd9\u4e09\u4e2a\u65f6\u95f4\u95f4\u9699\u4e2d\u5c06\u6536\u5230\u7684\u5199\u64cd\u4f5c\u547d\u4ee4\uff0c\u5199\u5165\u5230 replication buffer \u7f13\u51b2\u533a\u91cc\u3002")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e3b\u670d\u52a1\u5668\u751f\u6210 RDB \u6587\u4ef6\u671f\u95f4\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u4e3b\u670d\u52a1\u5668\u53d1\u9001 RDB \u6587\u4ef6\u7ed9\u4ece\u670d\u52a1\u5668\u671f\u95f4\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u300c\u4ece\u670d\u52a1\u5668\u300d\u52a0\u8f7d RDB \u6587\u4ef6\u671f\u95f4\uff1b")),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u7b2c\u4e09\u9636\u6bb5\uff1a\u4e3b\u670d\u52a1\u5668\u53d1\u9001\u65b0\u5199\u64cd\u4f5c\u547d\u4ee4\u7ed9\u4ece\u670d\u52a1\u5668")),(0,l.kt)("p",null,"\u5728\u4e3b\u670d\u52a1\u5668\u751f\u6210\u7684 RDB \u6587\u4ef6\u53d1\u9001\u5b8c\uff0c\u4ece\u670d\u52a1\u5668\u52a0\u8f7d\u5b8c RDB \u6587\u4ef6\u540e\uff0c\u7136\u540e\u5c06 replication buffer \u7f13\u51b2\u533a\u91cc\u6240\u8bb0\u5f55\u7684\u5199\u64cd\u4f5c\u547d\u4ee4\u53d1\u9001\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u7136\u540e\u300c\u4ece\u670d\u52a1\u5668\u300d\u91cd\u65b0\u6267\u884c\u8fd9\u4e9b\u64cd\u4f5c\uff0c\u81f3\u6b64\u4e3b\u4ece\u670d\u52a1\u5668\u7684\u6570\u636e\u5c31\u4e00\u81f4\u4e86\u3002"),(0,l.kt)("p",null,"\u81f3\u6b64\uff0c\u4e3b\u4ece\u670d\u52a1\u5668\u7684\u7b2c\u4e00\u6b21\u540c\u6b65\u7684\u5de5\u4f5c\u5c31\u5b8c\u6210\u4e86\u3002"),(0,l.kt)("h4",{id:"\u547d\u4ee4\u4f20\u64ad"},"\u547d\u4ee4\u4f20\u64ad"),(0,l.kt)("p",null,"\u4e3b\u4ece\u670d\u52a1\u5668\u5728\u5b8c\u6210\u7b2c\u4e00\u6b21\u540c\u6b65\u540e\uff0c\u53cc\u65b9\u4e4b\u95f4\u5c31\u4f1a\u7ef4\u62a4\u4e00\u4e2a TCP \u8fde\u63a5\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714220259046",src:n(77261).Z,width:"842",height:"602"})),(0,l.kt)("p",null,"\u540e\u7eed\u4e3b\u670d\u52a1\u5668\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u8fde\u63a5\u7ee7\u7eed\u5c06\u5199\u64cd\u4f5c\u547d\u4ee4\u4f20\u64ad\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u7136\u540e\u4ece\u670d\u52a1\u5668\u6267\u884c\u8be5\u547d\u4ee4\uff0c\u4f7f\u5f97\u4e0e\u4e3b\u670d\u52a1\u5668\u7684\u6570\u636e\u5e93\u72b6\u6001\u76f8\u540c\u3002"),(0,l.kt)("p",null,"\u800c\u4e14\u8fd9\u4e2a\u8fde\u63a5\u662f\u957f\u8fde\u63a5\u7684\uff0c\u76ee\u7684\u662f\u907f\u514d\u9891\u7e41\u7684 TCP \u8fde\u63a5\u548c\u65ad\u5f00\u5e26\u6765\u7684\u6027\u80fd\u5f00\u9500\u3002"),(0,l.kt)("p",null,"\u4e0a\u9762\u7684\u8fd9\u4e2a\u8fc7\u7a0b\u88ab\u79f0\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u57fa\u4e8e\u957f\u8fde\u63a5\u7684\u547d\u4ee4\u4f20\u64ad"),"\uff0c\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u6765\u4fdd\u8bc1\u7b2c\u4e00\u6b21\u540c\u6b65\u540e\u7684\u4e3b\u4ece\u670d\u52a1\u5668\u7684\u6570\u636e\u4e00\u81f4\u6027\u3002"),(0,l.kt)("h4",{id:"\u5206\u644a\u4e3b\u670d\u52a1\u5668\u7684\u538b\u529b"},"\u5206\u644a\u4e3b\u670d\u52a1\u5668\u7684\u538b\u529b"),(0,l.kt)("p",null,"\u5728\u524d\u9762\u7684\u5206\u6790\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u4e3b\u4ece\u670d\u52a1\u5668\u5728\u7b2c\u4e00\u6b21\u6570\u636e\u540c\u6b65\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e3b\u670d\u52a1\u5668\u4f1a\u505a\u4e24\u4ef6\u8017\u65f6\u7684\u64cd\u4f5c\uff1a\u751f\u6210 RDB \u6587\u4ef6\u548c\u4f20\u8f93 RDB \u6587\u4ef6\u3002"),(0,l.kt)("p",null,"\u4e3b\u670d\u52a1\u5668\u662f\u53ef\u4ee5\u6709\u591a\u4e2a\u4ece\u670d\u52a1\u5668\u7684\uff0c\u5982\u679c\u4ece\u670d\u52a1\u5668\u6570\u91cf\u975e\u5e38\u591a\uff0c\u800c\u4e14\u90fd\u4e0e\u4e3b\u670d\u52a1\u5668\u8fdb\u884c\u5168\u91cf\u540c\u6b65\u7684\u8bdd\uff0c\u5c31\u4f1a\u5e26\u6765\u4e24\u4e2a\u95ee\u9898\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7531\u4e8e\u662f\u901a\u8fc7 bgsave \u547d\u4ee4\u6765\u751f\u6210 RDB \u6587\u4ef6\u7684\uff0c\u90a3\u4e48\u4e3b\u670d\u52a1\u5668\u5c31\u4f1a\u5fd9\u4e8e\u4f7f\u7528 fork() \u521b\u5efa\u5b50\u8fdb\u7a0b\uff0c\u5982\u679c\u4e3b\u670d\u52a1\u5668\u7684\u5185\u5b58\u6570\u636e\u975e\u5927\uff0c\u5728\u6267\u884c fork() \u51fd\u6570\u65f6\u662f\u4f1a\u963b\u585e\u4e3b\u7ebf\u7a0b\u7684\uff0c\u4ece\u800c\u4f7f\u5f97 Redis \u65e0\u6cd5\u6b63\u5e38\u5904\u7406\u8bf7\u6c42\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u4f20\u8f93 RDB \u6587\u4ef6\u4f1a\u5360\u7528\u4e3b\u670d\u52a1\u5668\u7684\u7f51\u7edc\u5e26\u5bbd\uff0c\u4f1a\u5bf9\u4e3b\u670d\u52a1\u5668\u54cd\u5e94\u547d\u4ee4\u8bf7\u6c42\u4ea7\u751f\u5f71\u54cd\u3002")),(0,l.kt)("p",null,"\u8fd9\u79cd\u60c5\u51b5\u5c31\u597d\u50cf\uff0c\u521a\u521b\u4e1a\u7684\u516c\u53f8\uff0c\u7531\u4e8e\u4eba\u4e0d\u591a\uff0c\u6240\u4ee5\u5458\u5de5\u90fd\u5f52\u8001\u677f\u4e00\u4e2a\u4eba\u7ba1\uff0c\u4f46\u662f\u968f\u7740\u516c\u53f8\u7684\u53d1\u5c55\uff0c\u4eba\u5458\u7684\u6269\u5145\uff0c\u8001\u677f\u6162\u6162\u5c31\u65e0\u6cd5\u627f\u62c5\u5168\u90e8\u5458\u5de5\u7684\u7ba1\u7406\u5de5\u4f5c\u4e86\u3002"),(0,l.kt)("p",null,"\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u8001\u677f\u5c31\u9700\u8981\u8bbe\u7acb\u7ecf\u7406\u804c\u4f4d\uff0c\u7531\u7ecf\u7406\u7ba1\u7406\u591a\u540d\u666e\u901a\u5458\u5de5\uff0c\u7136\u540e\u8001\u677f\u53ea\u9700\u8981\u7ba1\u7406\u7ecf\u7406\u5c31\u597d\u3002"),(0,l.kt)("p",null,"Redis \u4e5f\u662f\u4e00\u6837\u7684\uff0c\u4ece\u670d\u52a1\u5668\u53ef\u4ee5\u6709\u81ea\u5df1\u7684\u4ece\u670d\u52a1\u5668\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u62e5\u6709\u4ece\u670d\u52a1\u5668\u7684\u4ece\u670d\u52a1\u5668\u5f53\u4f5c\u7ecf\u7406\u89d2\u8272\uff0c\u5b83\u4e0d\u4ec5\u53ef\u4ee5\u63a5\u6536\u4e3b\u670d\u52a1\u5668\u7684\u540c\u6b65\u6570\u636e\uff0c\u81ea\u5df1\u4e5f\u53ef\u4ee5\u540c\u65f6\u4f5c\u4e3a\u4e3b\u670d\u52a1\u5668\u7684\u5f62\u5f0f\u5c06\u6570\u636e\u540c\u6b65\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u7ec4\u7ec7\u5f62\u5f0f\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714220315731",src:n(78486).Z,width:"1052",height:"632"})),(0,l.kt)("p",null,"\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u670d\u52a1\u5668\u751f\u6210 RDB \u548c\u4f20\u8f93 RDB \u7684\u538b\u529b\u53ef\u4ee5\u5206\u644a\u5230\u5145\u5f53\u7ecf\u7406\u89d2\u8272\u7684\u4ece\u670d\u52a1\u5668"),"\u3002"),(0,l.kt)("p",null,"\u90a3\u5177\u4f53\u600e\u4e48\u505a\u5230\u7684\u5462\uff1f"),(0,l.kt)("p",null,"\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u5728\u300c\u4ece\u670d\u52a1\u5668\u300d\u4e0a\u6267\u884c\u4e0b\u9762\u8fd9\u6761\u547d\u4ee4\uff0c\u4f7f\u5176\u4f5c\u4e3a\u76ee\u6807\u670d\u52a1\u5668\u7684\u4ece\u670d\u52a1\u5668\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"replicaof <\u76ee\u6807\u670d\u52a1\u5668\u7684IP> 6379\n")),(0,l.kt)("p",null,"\u6b64\u65f6\u5982\u679c\u76ee\u6807\u670d\u52a1\u5668\u672c\u8eab\u4e5f\u662f\u300c\u4ece\u670d\u52a1\u5668\u300d\uff0c\u90a3\u4e48\u8be5\u76ee\u6807\u670d\u52a1\u5668\u5c31\u4f1a\u6210\u4e3a\u300c\u7ecf\u7406\u300d\u7684\u89d2\u8272\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u63a5\u53d7\u4e3b\u670d\u52a1\u5668\u540c\u6b65\u7684\u6570\u636e\uff0c\u4e5f\u4f1a\u628a\u6570\u636e\u540c\u6b65\u7ed9\u81ea\u5df1\u65d7\u4e0b\u7684\u4ece\u670d\u52a1\u5668\uff0c\u4ece\u800c\u51cf\u8f7b\u4e3b\u670d\u52a1\u5668\u7684\u8d1f\u62c5\u3002"),(0,l.kt)("h4",{id:"\u589e\u91cf\u590d\u5236"},"\u589e\u91cf\u590d\u5236"),(0,l.kt)("p",null,"\u4e3b\u4ece\u670d\u52a1\u5668\u5728\u5b8c\u6210\u7b2c\u4e00\u6b21\u540c\u6b65\u540e\uff0c\u5c31\u4f1a\u57fa\u4e8e\u957f\u8fde\u63a5\u8fdb\u884c\u547d\u4ee4\u4f20\u64ad\u3002"),(0,l.kt)("p",null,"\u53ef\u662f\uff0c\u7f51\u7edc\u603b\u662f\u4e0d\u6309\u5957\u8def\u51fa\u724c\u7684\u561b\uff0c\u8bf4\u5ef6\u8fdf\u5c31\u5ef6\u8fdf\uff0c\u8bf4\u65ad\u5f00\u5c31\u65ad\u5f00\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u4e3b\u4ece\u670d\u52a1\u5668\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\u65ad\u5f00\u4e86\uff0c\u90a3\u4e48\u5c31\u65e0\u6cd5\u8fdb\u884c\u547d\u4ee4\u4f20\u64ad\u4e86\uff0c\u8fd9\u65f6\u4ece\u670d\u52a1\u5668\u7684\u6570\u636e\u5c31\u6ca1\u529e\u6cd5\u548c\u4e3b\u670d\u52a1\u5668\u4fdd\u6301\u4e00\u81f4\u4e86\uff0c\u5ba2\u6237\u7aef\u5c31\u53ef\u80fd\u4ece\u300c\u4ece\u670d\u52a1\u5668\u300d\u8bfb\u5230\u65e7\u7684\u6570\u636e\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714220333043",src:n(60594).Z,width:"834",height:"812"})),(0,l.kt)("p",null,"\u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u5982\u679c\u6b64\u65f6\u65ad\u5f00\u7684\u7f51\u7edc\uff0c\u53c8\u6062\u590d\u6b63\u5e38\u4e86\uff0c\u8981\u600e\u4e48\u7ee7\u7eed\u4fdd\u8bc1\u4e3b\u4ece\u670d\u52a1\u5668\u7684\u6570\u636e\u4e00\u81f4\u6027\u5462\uff1f"),(0,l.kt)("p",null,"\u5728 Redis 2.8 \u4e4b\u524d\uff0c\u5982\u679c\u4e3b\u4ece\u670d\u52a1\u5668\u5728\u547d\u4ee4\u540c\u6b65\u65f6\u51fa\u73b0\u4e86\u7f51\u7edc\u65ad\u5f00\u53c8\u6062\u590d\u7684\u60c5\u51b5\uff0c\u4ece\u670d\u52a1\u5668\u5c31\u4f1a\u548c\u4e3b\u670d\u52a1\u5668\u91cd\u65b0\u8fdb\u884c\u4e00\u6b21\u5168\u91cf\u590d\u5236\uff0c\u5f88\u660e\u663e\u8fd9\u6837\u7684\u5f00\u9500\u592a\u5927\u4e86\uff0c\u5fc5\u987b\u8981\u6539\u8fdb\u4e00\u6ce2\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u4ece Redis 2.8 \u5f00\u59cb\uff0c\u7f51\u7edc\u65ad\u5f00\u53c8\u6062\u590d\u540e\uff0c\u4ece\u4e3b\u4ece\u670d\u52a1\u5668\u4f1a\u91c7\u7528",(0,l.kt)("strong",{parentName:"p"},"\u589e\u91cf\u590d\u5236"),"\u7684\u65b9\u5f0f\u7ee7\u7eed\u540c\u6b65\uff0c\u4e5f\u5c31\u662f\u53ea\u4f1a\u628a\u7f51\u7edc\u65ad\u5f00\u671f\u95f4\u4e3b\u670d\u52a1\u5668\u63a5\u6536\u5230\u7684\u5199\u64cd\u4f5c\u547d\u4ee4\uff0c\u540c\u6b65\u7ed9\u4ece\u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,"\u7f51\u7edc\u6062\u590d\u540e\u7684\u589e\u91cf\u590d\u5236\u8fc7\u7a0b\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714220340040",src:n(86581).Z,width:"707",height:"617"})),(0,l.kt)("p",null,"\u4e3b\u8981\u6709\u4e09\u4e2a\u6b65\u9aa4\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4ece\u670d\u52a1\u5668\u5728\u6062\u590d\u7f51\u7edc\u540e\uff0c\u4f1a\u53d1\u9001 psync \u547d\u4ee4\u7ed9\u4e3b\u670d\u52a1\u5668\uff0c\u6b64\u65f6\u7684 psync \u547d\u4ee4\u91cc\u7684 offset \u53c2\u6570\u4e0d\u662f -1\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u4e3b\u670d\u52a1\u5668\u6536\u5230\u8be5\u547d\u4ee4\u540e\uff0c\u7136\u540e\u7528 CONTINUE \u54cd\u5e94\u547d\u4ee4\u544a\u8bc9\u4ece\u670d\u52a1\u5668\u63a5\u4e0b\u6765\u91c7\u7528\u589e\u91cf\u590d\u5236\u7684\u65b9\u5f0f\u540c\u6b65\u6570\u636e\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7136\u540e\u4e3b\u670d\u52a1\u5c06\u4e3b\u4ece\u670d\u52a1\u5668\u65ad\u7ebf\u671f\u95f4\uff0c\u6240\u6267\u884c\u7684\u5199\u547d\u4ee4\u53d1\u9001\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u7136\u540e\u4ece\u670d\u52a1\u5668\u6267\u884c\u8fd9\u4e9b\u547d\u4ee4\u3002")),(0,l.kt)("p",null,"\u90a3\u4e48\u5173\u952e\u7684\u95ee\u9898\u6765\u4e86\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u670d\u52a1\u5668\u600e\u4e48\u77e5\u9053\u8981\u5c06\u54ea\u4e9b\u589e\u91cf\u6570\u636e\u53d1\u9001\u7ed9\u4ece\u670d\u52a1\u5668\u5462\uff1f")),(0,l.kt)("p",null,"\u7b54\u6848\u85cf\u5728\u8fd9\u4e24\u4e2a\u4e1c\u897f\u91cc\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"repl_backlog_buffer"),"\uff0c\u662f\u4e00\u4e2a\u300c",(0,l.kt)("strong",{parentName:"li"},"\u73af\u5f62"),"\u300d\u7f13\u51b2\u533a\uff0c\u7528\u4e8e\u4e3b\u4ece\u670d\u52a1\u5668\u65ad\u8fde\u540e\uff0c\u4ece\u4e2d\u627e\u5230\u5dee\u5f02\u7684\u6570\u636e\uff1b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"replication offset"),"\uff0c\u6807\u8bb0\u4e0a\u9762\u90a3\u4e2a\u7f13\u51b2\u533a\u7684\u540c\u6b65\u8fdb\u5ea6\uff0c\u4e3b\u4ece\u670d\u52a1\u5668\u90fd\u6709\u5404\u81ea\u7684\u504f\u79fb\u91cf\uff0c\u4e3b\u670d\u52a1\u5668\u4f7f\u7528 master_repl_offset \u6765\u8bb0\u5f55\u81ea\u5df1\u300c",(0,l.kt)("em",{parentName:"li"},"\u5199"),"\u300d\u5230\u7684\u4f4d\u7f6e\uff0c\u4ece\u670d\u52a1\u5668\u4f7f\u7528 slave_repl_offset \u6765\u8bb0\u5f55\u81ea\u5df1\u300c",(0,l.kt)("em",{parentName:"li"},"\u8bfb"),"\u300d\u5230\u7684\u4f4d\u7f6e\u3002")),(0,l.kt)("p",null,"\u90a3repl_backlog_buffer \u7f13\u51b2\u533a\u662f\u4ec0\u4e48\u65f6\u5019\u5199\u5165\u7684\u5462\uff1f"),(0,l.kt)("p",null,"\u5728\u4e3b\u670d\u52a1\u5668\u8fdb\u884c\u547d\u4ee4\u4f20\u64ad\u65f6\uff0c\u4e0d\u4ec5\u4f1a\u5c06\u5199\u547d\u4ee4\u53d1\u9001\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u8fd8\u4f1a\u5c06\u5199\u547d\u4ee4\u5199\u5165\u5230 repl_backlog_buffer \u7f13\u51b2\u533a\u91cc\uff0c\u56e0\u6b64 \u8fd9\u4e2a\u7f13\u51b2\u533a\u91cc\u4f1a\u4fdd\u5b58\u7740\u6700\u8fd1\u4f20\u64ad\u7684\u5199\u547d\u4ee4\u3002"),(0,l.kt)("p",null,"\u7f51\u7edc\u65ad\u5f00\u540e\uff0c\u5f53\u4ece\u670d\u52a1\u5668\u91cd\u65b0\u8fde\u4e0a\u4e3b\u670d\u52a1\u5668\u65f6\uff0c\u4ece\u670d\u52a1\u5668\u4f1a\u901a\u8fc7 psync \u547d\u4ee4\u5c06\u81ea\u5df1\u7684\u590d\u5236\u504f\u79fb\u91cf slave_repl_offset \u53d1\u9001\u7ed9\u4e3b\u670d\u52a1\u5668\uff0c\u4e3b\u670d\u52a1\u5668\u6839\u636e\u81ea\u5df1\u7684  master_repl_offset \u548c slave_repl_offset \u4e4b\u95f4\u7684\u5dee\u8ddd\uff0c\u7136\u540e\u6765\u51b3\u5b9a\u5bf9\u4ece\u670d\u52a1\u5668\u6267\u884c\u54ea\u79cd\u540c\u6b65\u64cd\u4f5c\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u5224\u65ad\u51fa\u4ece\u670d\u52a1\u5668\u8981\u8bfb\u53d6\u7684\u6570\u636e\u8fd8\u5728 repl_backlog_buffer \u7f13\u51b2\u533a\u91cc\uff0c\u90a3\u4e48\u4e3b\u670d\u52a1\u5668\u5c06\u91c7\u7528",(0,l.kt)("strong",{parentName:"li"},"\u589e\u91cf\u540c\u6b65"),"\u7684\u65b9\u5f0f\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u76f8\u53cd\uff0c\u5982\u679c\u5224\u65ad\u51fa\u4ece\u670d\u52a1\u5668\u8981\u8bfb\u53d6\u7684\u6570\u636e\u5df2\u7ecf\u4e0d\u5b58\u5728 repl_backlog_buffer \u7f13\u51b2\u533a\u91cc\uff0c\u90a3\u4e48\u4e3b\u670d\u52a1\u5668\u5c06\u91c7\u7528",(0,l.kt)("strong",{parentName:"li"},"\u5168\u91cf\u540c\u6b65"),"\u7684\u65b9\u5f0f\u3002")),(0,l.kt)("p",null,"\u5f53\u4e3b\u670d\u52a1\u5668\u5728 repl_backlog_buffer \u4e2d\u627e\u5230\u4e3b\u4ece\u670d\u52a1\u5668\u5dee\u5f02\uff08\u589e\u91cf\uff09\u7684\u6570\u636e\u540e\uff0c\u5c31\u4f1a\u5c06\u589e\u91cf\u7684\u6570\u636e\u5199\u5165\u5230 replication buffer \u7f13\u51b2\u533a\uff0c\u8fd9\u4e2a\u7f13\u51b2\u533a\u6211\u4eec\u524d\u9762\u4e5f\u63d0\u5230\u8fc7\uff0c\u5b83\u662f\u7f13\u5b58\u5c06\u8981\u4f20\u64ad\u7ed9\u4ece\u670d\u52a1\u5668\u7684\u547d\u4ee4\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714220348740",src:n(58535).Z,width:"1080",height:"380"})),(0,l.kt)("p",null,"repl_backlog_buffer \u7f13\u884c\u7f13\u51b2\u533a\u7684\u9ed8\u8ba4\u5927\u5c0f\u662f 1M\uff0c\u5e76\u4e14\u7531\u4e8e\u5b83\u662f\u4e00\u4e2a\u73af\u5f62\u7f13\u51b2\u533a\uff0c\u6240\u4ee5\u5f53\u7f13\u51b2\u533a\u5199\u6ee1\u540e\uff0c\u4e3b\u670d\u52a1\u5668\u7ee7\u7eed\u5199\u5165\u7684\u8bdd\uff0c\u5c31\u4f1a\u8986\u76d6\u4e4b\u524d\u7684\u6570\u636e\u3002"),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c\u5f53\u4e3b\u670d\u52a1\u5668\u7684\u5199\u5165\u901f\u5ea6\u8fdc\u8d85\u4e8e\u4ece\u670d\u52a1\u5668\u7684\u8bfb\u53d6\u901f\u5ea6\uff0c\u7f13\u51b2\u533a\u7684\u6570\u636e\u4e00\u4e0b\u5c31\u4f1a\u88ab\u8986\u76d6\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\u5728\u7f51\u7edc\u6062\u590d\u65f6\uff0c\u5982\u679c\u4ece\u670d\u52a1\u5668\u60f3\u8bfb\u7684\u6570\u636e\u5df2\u7ecf\u88ab\u8986\u76d6\u4e86\uff0c\u4e3b\u670d\u52a1\u5668\u5c31\u4f1a\u91c7\u7528\u5168\u91cf\u540c\u6b65\uff0c\u8fd9\u4e2a\u65b9\u5f0f\u6bd4\u589e\u91cf\u540c\u6b65\u7684\u6027\u80fd\u635f\u8017\u8981\u5927\u5f88\u591a\u3002"),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c\u4e3a\u4e86\u907f\u514d\u5728\u7f51\u7edc\u6062\u590d\u65f6\uff0c\u4e3b\u670d\u52a1\u5668\u9891\u7e41\u5730\u4f7f\u7528\u5168\u91cf\u540c\u6b65\u7684\u65b9\u5f0f\uff0c\u6211\u4eec\u5e94\u8be5\u8c03\u6574\u4e0b repl_backlog_buffer \u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u5c3d\u53ef\u80fd\u7684\u5927\u4e00\u4e9b\uff0c\u51cf\u5c11\u51fa\u73b0\u4ece\u670d\u52a1\u5668\u8981\u8bfb\u53d6\u7684\u6570\u636e\u88ab\u8986\u76d6\u7684\u6982\u7387\uff0c\u4ece\u800c\u4f7f\u5f97\u4e3b\u670d\u52a1\u5668\u91c7\u7528\u589e\u91cf\u540c\u6b65\u7684\u65b9\u5f0f\u3002"),(0,l.kt)("p",null,"\u90a3 repl_backlog_buffer \u7f13\u51b2\u533a\u5177\u4f53\u8981\u8c03\u6574\u5230\u591a\u5927\u5462\uff1f"),(0,l.kt)("p",null,"repl_backlog_buffer \u6700\u5c0f\u7684\u5927\u5c0f\u53ef\u4ee5\u6839\u636e\u8fd9\u9762\u8fd9\u4e2a\u516c\u5f0f\u4f30\u7b97\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714220356331",src:n(90656).Z,width:"361",height:"121"})),(0,l.kt)("p",null,"\u6211\u6765\u89e3\u91ca\u4e0b\u8fd9\u4e2a\u516c\u5f0f\u7684\u610f\u601d\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"second \u4e3a\u4ece\u670d\u52a1\u5668\u65ad\u7ebf\u540e\u91cd\u65b0\u8fde\u63a5\u4e0a\u4e3b\u670d\u52a1\u5668\u6240\u9700\u7684\u5e73\u5747 \u65f6\u95f4(\u4ee5\u79d2\u8ba1\u7b97)\u3002"),(0,l.kt)("li",{parentName:"ul"},"write_size_per_second \u5219\u662f\u4e3b\u670d\u52a1\u5668\u5e73\u5747\u6bcf\u79d2\u4ea7\u751f\u7684\u5199\u547d\u4ee4\u6570\u636e\u91cf\u5927\u5c0f\u3002")),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u4e3b\u670d\u52a1\u5668\u5e73\u5747\u6bcf\u79d2\u4ea7\u751f 1 MB \u7684\u5199\u547d\u4ee4\uff0c\u800c\u4ece\u670d\u52a1\u5668\u65ad\u7ebf\u4e4b\u540e\u5e73\u5747\u8981 5 \u79d2\u624d\u80fd\u91cd\u65b0\u8fde\u63a5\u4e3b\u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48 repl_backlog_buffer \u5927\u5c0f\u5c31\u4e0d\u80fd\u4f4e\u4e8e 5 MB\uff0c\u5426\u5219\u65b0\u5199\u5730\u547d\u4ee4\u5c31\u4f1a\u8986\u76d6\u65e7\u6570\u636e\u4e86\u3002"),(0,l.kt)("p",null,"\u5f53\u7136\uff0c\u4e3a\u4e86\u5e94\u5bf9\u4e00\u4e9b\u7a81\u53d1\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u5c06 repl_backlog_buffer \u7684\u5927\u5c0f\u8bbe\u7f6e\u4e3a\u6b64\u57fa\u7840\u4e0a\u7684 2 \u500d\uff0c\u4e5f\u5c31\u662f 10 MB\u3002"),(0,l.kt)("p",null,"\u5173\u4e8e repl_backlog_buffer \u5927\u5c0f\u4fee\u6539\u7684\u65b9\u6cd5\uff0c\u53ea\u9700\u8981\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u91cc\u4e0b\u9762\u8fd9\u4e2a\u53c2\u6570\u9879\u7684\u503c\u5c31\u53ef\u4ee5\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"repl-backlog-size 1mb\n")),(0,l.kt)("h4",{id:"\u603b\u7ed3-4"},"\u603b\u7ed3"),(0,l.kt)("p",null,"\u4e3b\u4ece\u590d\u5236\u5171\u6709\u4e09\u79cd\u6a21\u5f0f\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u5168\u91cf\u590d\u5236\u3001\u57fa\u4e8e\u957f\u8fde\u63a5\u7684\u547d\u4ee4\u4f20\u64ad\u3001\u589e\u91cf\u590d\u5236"),"\u3002"),(0,l.kt)("p",null,"\u4e3b\u4ece\u670d\u52a1\u5668\u7b2c\u4e00\u6b21\u540c\u6b65\u7684\u65f6\u5019\uff0c\u5c31\u662f\u91c7\u7528\u5168\u91cf\u590d\u5236\uff0c\u6b64\u65f6\u4e3b\u670d\u52a1\u5668\u4f1a\u4e24\u4e2a\u8017\u65f6\u7684\u5730\u65b9\uff0c\u5206\u522b\u662f\u751f\u6210 RDB \u6587\u4ef6\u548c\u4f20\u8f93 RDB  \u6587\u4ef6\u3002\u4e3a\u4e86\u907f\u514d\u8fc7\u591a\u7684\u4ece\u670d\u52a1\u5668\u548c\u4e3b\u670d\u52a1\u5668\u8fdb\u884c\u5168\u91cf\u590d\u5236\uff0c\u53ef\u4ee5\u628a\u4e00\u90e8\u5206\u4ece\u670d\u52a1\u5668\u5347\u7ea7\u4e3a\u300c\u7ecf\u7406\u89d2\u8272\u300d\uff0c\u8ba9\u5b83\u4e5f\u6709\u81ea\u5df1\u7684\u4ece\u670d\u52a1\u5668\uff0c\u901a\u8fc7\u8fd9\u6837\u53ef\u4ee5\u5206\u644a\u4e3b\u670d\u52a1\u5668\u7684\u538b\u529b\u3002"),(0,l.kt)("p",null,"\u7b2c\u4e00\u6b21\u540c\u6b65\u5b8c\u6210\u540e\uff0c\u4e3b\u4ece\u670d\u52a1\u5668\u90fd\u4f1a\u7ef4\u62a4\u7740\u4e00\u4e2a\u957f\u8fde\u63a5\uff0c\u4e3b\u670d\u52a1\u5668\u5728\u63a5\u6536\u5230\u5199\u64cd\u4f5c\u547d\u4ee4\u540e\uff0c\u5c31\u4f1a\u901a\u8fc7\u8fd9\u4e2a\u8fde\u63a5\u5c06\u5199\u547d\u4ee4\u4f20\u64ad\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u6765\u4fdd\u8bc1\u4e3b\u4ece\u670d\u52a1\u5668\u7684\u6570\u636e\u4e00\u81f4\u6027\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u9047\u5230\u7f51\u7edc\u65ad\u5f00\uff0c\u589e\u91cf\u590d\u5236\u5c31\u53ef\u4ee5\u4e0a\u573a\u4e86\uff0c\u4e0d\u8fc7\u8fd9\u4e2a\u8fd8\u8ddf repl_backlog_size \u8fd9\u4e2a\u5927\u5c0f\u6709\u5173\u7cfb\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u5b83\u914d\u7f6e\u7684\u8fc7\u5c0f\uff0c\u4e3b\u4ece\u670d\u52a1\u5668\u7f51\u7edc\u6062\u590d\u65f6\uff0c\u53ef\u80fd\u53d1\u751f\u300c\u4ece\u670d\u52a1\u5668\u300d\u60f3\u8bfb\u7684\u6570\u636e\u5df2\u7ecf\u88ab\u8986\u76d6\u4e86\uff0c\u90a3\u4e48\u8fd9\u65f6\u5c31\u4f1a\u5bfc\u81f4\u4e3b\u670d\u52a1\u5668\u91c7\u7528\u5168\u91cf\u590d\u5236\u7684\u65b9\u5f0f\u3002\u6240\u4ee5\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\u7684\u9891\u7e41\u53d1\u751f\uff0c\u8981\u8c03\u5927\u8fd9\u4e2a\u53c2\u6570\u7684\u503c\uff0c\u4ee5\u964d\u4f4e\u4e3b\u4ece\u670d\u52a1\u5668\u65ad\u5f00\u540e\u5168\u91cf\u540c\u6b65\u7684\u6982\u7387\u3002"),(0,l.kt)("h3",{id:"sentinel\u54e8\u5175--\u6709\u4ec0\u4e48\u4f5c\u7528"},"Sentinel\uff08\u54e8\u5175\uff09  \u6709\u4ec0\u4e48\u4f5c\u7528\uff1f"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Redis Sentinel\uff0c\u5373Redis\u54e8\u5175\uff0c\u5728Redis 2.8\u7248\u672c\u5f00\u59cb\u5f15\u5165\u3002\u54e8\u5175\u7684\u6838\u5fc3\u529f\u80fd\u662f\u4e3b\u8282\u70b9\u7684\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u3002")),(0,l.kt)("p",null,"\u4e0b\u56fe\u662f\u4e00\u4e2a\u5178\u578b\u7684\u54e8\u5175\u96c6\u7fa4\u76d1\u63a7\u7684\u903b\u8f91\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617154744863",src:n(33011).Z,width:"673",height:"491"})),(0,l.kt)("p",null,"\u54e8\u5175\u5b9e\u73b0\u4e86\u4ec0\u4e48\u529f\u80fd\u5462\uff1f\u4e0b\u9762\u662fRedis\u5b98\u65b9\u6587\u6863\u7684\u63cf\u8ff0\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u76d1\u63a7\uff08Monitoring\uff09"),"\uff1a\u54e8\u5175\u4f1a\u4e0d\u65ad\u5730\u68c0\u67e5\u4e3b\u8282\u70b9\u548c\u4ece\u8282\u70b9\u662f\u5426\u8fd0\u4f5c\u6b63\u5e38\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff08Automatic failover\uff09"),"\uff1a\u5f53\u4e3b\u8282\u70b9\u4e0d\u80fd\u6b63\u5e38\u5de5\u4f5c\u65f6\uff0c\u54e8\u5175\u4f1a\u5f00\u59cb\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u64cd\u4f5c\uff0c\u5b83\u4f1a\u5c06\u5931\u6548\u4e3b\u8282\u70b9\u7684\u5176\u4e2d\u4e00\u4e2a\u4ece\u8282\u70b9\u5347\u7ea7\u4e3a\u65b0\u7684\u4e3b\u8282\u70b9\uff0c\u5e76\u8ba9\u5176\u4ed6\u4ece\u8282\u70b9\u6539\u4e3a\u590d\u5236\u65b0\u7684\u4e3b\u8282\u70b9\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u914d\u7f6e\u63d0\u4f9b\u8005\uff08Configuration provider\uff09"),"\uff1a\u5ba2\u6237\u7aef\u5728\u521d\u59cb\u5316\u65f6\uff0c\u901a\u8fc7\u8fde\u63a5\u54e8\u5175\u6765\u83b7\u5f97\u5f53\u524dRedis\u670d\u52a1\u7684\u4e3b\u8282\u70b9\u5730\u5740\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u901a\u77e5\uff08Notification\uff09"),"\uff1a\u54e8\u5175\u53ef\u4ee5\u5c06\u6545\u969c\u8f6c\u79fb\u7684\u7ed3\u679c\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u3002")),(0,l.kt)("p",null,"\u5176\u4e2d\uff0c\u76d1\u63a7\u548c\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u529f\u80fd\uff0c\u4f7f\u5f97\u54e8\u5175\u53ef\u4ee5\u53ca\u65f6\u53d1\u73b0\u4e3b\u8282\u70b9\u6545\u969c\u5e76\u5b8c\u6210\u8f6c\u79fb\uff1b\u800c\u914d\u7f6e\u63d0\u4f9b\u8005\u548c\u901a\u77e5\u529f\u80fd\uff0c\u5219\u9700\u8981\u5728\u4e0e\u5ba2\u6237\u7aef\u7684\u4ea4\u4e92\u4e2d\u624d\u80fd\u4f53\u73b0\u3002"),(0,l.kt)("h3",{id:"\u4e3a\u4ec0\u4e48\u8981\u54e8\u5175"},"\u4e3a\u4ec0\u4e48\u8981\u54e8\u5175\uff1f"),(0,l.kt)("p",null,"\u5728 Redis \u7684\u4e3b\u4ece\u67b6\u6784\u4e2d\uff0c\u7531\u4e8e\u4e3b\u4ece\u6a21\u5f0f\u662f\u8bfb\u5199\u5206\u79bb\u7684\uff0c\u5982\u679c\u4e3b\u8282\u70b9\uff08master\uff09\u6302\u4e86\uff0c\u90a3\u4e48\u5c06\u6ca1\u6709\u4e3b\u8282\u70b9\u6765\u670d\u52a1\u5ba2\u6237\u7aef\u7684\u5199\u64cd\u4f5c\u8bf7\u6c42\uff0c\u4e5f\u6ca1\u6709\u4e3b\u8282\u70b9\u7ed9\u4ece\u8282\u70b9\uff08slave\uff09\u8fdb\u884c\u6570\u636e\u540c\u6b65\u4e86\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714220520655",src:n(66692).Z,width:"2082",height:"1008"})),(0,l.kt)("p",null,"\u8fd9\u65f6\u5982\u679c\u8981\u6062\u590d\u670d\u52a1\u7684\u8bdd\uff0c\u9700\u8981\u4eba\u5de5\u4ecb\u5165\uff0c\u9009\u62e9\u4e00\u4e2a\u300c\u4ece\u8282\u70b9\u300d\u5207\u6362\u4e3a\u300c\u4e3b\u8282\u70b9\u300d\uff0c\u7136\u540e\u8ba9\u5176\u4ed6\u4ece\u8282\u70b9\u6307\u5411\u65b0\u7684\u4e3b\u8282\u70b9\uff0c\u540c\u65f6\u8fd8\u9700\u8981\u901a\u77e5\u4e0a\u6e38\u90a3\u4e9b\u8fde\u63a5 Redis \u4e3b\u8282\u70b9\u7684\u5ba2\u6237\u7aef\uff0c\u5c06\u5176\u914d\u7f6e\u4e2d\u7684\u4e3b\u8282\u70b9 IP \u5730\u5740\u66f4\u65b0\u4e3a\u300c\u65b0\u4e3b\u8282\u70b9\u300d\u7684 IP \u5730\u5740\u3002"),(0,l.kt)("p",null,"\u8fd9\u6837\u4e5f\u4e0d\u592a\u201c\u667a\u80fd\u201d\u4e86\uff0c\u8981\u662f\u6709\u4e00\u4e2a\u8282\u70b9\u80fd\u76d1\u63a7\u300c\u4e3b\u8282\u70b9\u300d\u7684\u72b6\u6001\uff0c\u5f53\u53d1\u73b0\u4e3b\u8282\u70b9\u6302\u4e86 \uff0c\u5b83\u81ea\u52a8\u5c06\u4e00\u4e2a\u300c\u4ece\u8282\u70b9\u300d\u5207\u6362\u4e3a\u300c\u4e3b\u8282\u70b9\u300d\u7684\u8bdd\uff0c\u90a3\u4e48\u53ef\u4ee5\u8282\u7701\u6211\u4eec\u5f88\u591a\u4e8b\u60c5\u554a\uff01"),(0,l.kt)("p",null,"Redis \u5728 2.8 \u7248\u672c\u4ee5\u540e\u63d0\u4f9b\u7684",(0,l.kt)("strong",{parentName:"p"},"\u54e8\u5175\uff08","*","Sentinel","*","\uff09\u673a\u5236"),"\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u5b9e\u73b0",(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u4ece\u8282\u70b9\u6545\u969c\u8f6c\u79fb"),"\u3002\u5b83\u4f1a\u76d1\u6d4b\u4e3b\u8282\u70b9\u662f\u5426\u5b58\u6d3b\uff0c\u5982\u679c\u53d1\u73b0\u4e3b\u8282\u70b9\u6302\u4e86\uff0c\u5b83\u5c31\u4f1a\u9009\u4e3e\u4e00\u4e2a\u4ece\u8282\u70b9\u5207\u6362\u4e3a\u4e3b\u8282\u70b9\uff0c\u5e76\u4e14\u628a\u65b0\u4e3b\u8282\u70b9\u7684\u76f8\u5173\u4fe1\u606f\u901a\u77e5\u7ed9\u4ece\u8282\u70b9\u548c\u5ba2\u6237\u7aef\u3002"),(0,l.kt)("h4",{id:"\u54e8\u5175\u673a\u5236\u662f\u5982\u4f55\u5de5\u4f5c\u7684"},"\u54e8\u5175\u673a\u5236\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f"),(0,l.kt)("p",null,"\u54e8\u5175\u5176\u5b9e\u662f\u4e00\u4e2a\u8fd0\u884c\u5728\u7279\u6b8a\u6a21\u5f0f\u4e0b\u7684 Redis \u8fdb\u7a0b\uff0c\u6240\u4ee5\u5b83\u4e5f\u662f\u4e00\u4e2a\u8282\u70b9\u3002\u4ece\u201c\u54e8\u5175\u201d\u8fd9\u4e2a\u540d\u5b57\u4e5f\u53ef\u4ee5\u770b\u5f97\u51fa\u6765\uff0c\u5b83\u76f8\u5f53\u4e8e\u662f\u201c\u89c2\u5bdf\u8005\u8282\u70b9\u201d\uff0c\u89c2\u5bdf\u7684\u5bf9\u8c61\u662f\u4e3b\u4ece\u8282\u70b9\u3002"),(0,l.kt)("p",null,"\u5f53\u7136\uff0c\u5b83\u4e0d\u4ec5\u4ec5\u662f\u89c2\u5bdf\u90a3\u4e48\u7b80\u5355\uff0c\u5728\u5b83\u89c2\u5bdf\u5230\u6709\u5f02\u5e38\u7684\u72b6\u51b5\u4e0b\uff0c\u4f1a\u505a\u51fa\u4e00\u4e9b\u201c\u52a8\u4f5c\u201d\uff0c\u6765\u4fee\u590d\u5f02\u5e38\u72b6\u6001\u3002"),(0,l.kt)("p",null,"\u54e8\u5175\u8282\u70b9\u4e3b\u8981\u8d1f\u8d23\u4e09\u4ef6\u4e8b\u60c5\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u76d1\u63a7\u3001\u9009\u4e3b\u3001\u901a\u77e5"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714220539777",src:n(90542).Z,width:"912",height:"326"})),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u6211\u4eec\u91cd\u70b9\u8981\u5b66\u4e60\u8fd9\u4e09\u4ef6\u4e8b\u60c5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u54e8\u5175\u8282\u70b9\u662f\u5982\u4f55\u76d1\u63a7\u8282\u70b9\u7684\uff1f\u53c8\u662f\u5982\u4f55\u5224\u65ad\u4e3b\u8282\u70b9\u662f\u5426\u771f\u7684\u6545\u969c\u4e86\uff1f"),(0,l.kt)("li",{parentName:"ul"},"\u6839\u636e\u4ec0\u4e48\u89c4\u5219\u9009\u62e9\u4e00\u4e2a\u4ece\u8282\u70b9\u5207\u6362\u4e3a\u4e3b\u8282\u70b9\uff1f"),(0,l.kt)("li",{parentName:"ul"},"\u600e\u4e48\u628a\u65b0\u4e3b\u8282\u70b9\u7684\u76f8\u5173\u4fe1\u606f\u901a\u77e5\u7ed9\u4ece\u8282\u70b9\u548c\u5ba2\u6237\u7aef\u5462\uff1f")),(0,l.kt)("h4",{id:"\u5982\u4f55\u5224\u65ad\u4e3b\u8282\u70b9\u771f\u7684\u6545\u969c\u4e86"},"\u5982\u4f55\u5224\u65ad\u4e3b\u8282\u70b9\u771f\u7684\u6545\u969c\u4e86\uff1f"),(0,l.kt)("p",null,"\u54e8\u5175\u4f1a\u6bcf\u9694 1 \u79d2\u7ed9\u6240\u6709\u4e3b\u4ece\u8282\u70b9\u53d1\u9001 PING \u547d\u4ee4\uff0c\u5f53\u4e3b\u4ece\u8282\u70b9\u6536\u5230 PING \u547d\u4ee4\u540e\uff0c\u4f1a\u53d1\u9001\u4e00\u4e2a\u54cd\u5e94\u547d\u4ee4\u7ed9\u54e8\u5175\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5224\u65ad\u5b83\u4eec\u662f\u5426\u5728\u6b63\u5e38\u8fd0\u884c\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714220557761",src:n(61432).Z,width:"982",height:"560"})),(0,l.kt)("p",null,"\u5982\u679c\u4e3b\u8282\u70b9\u6216\u8005\u4ece\u8282\u70b9\u6ca1\u6709\u5728\u89c4\u5b9a\u7684\u65f6\u95f4\u5185\u54cd\u5e94\u54e8\u5175\u7684 PING \u547d\u4ee4\uff0c\u54e8\u5175\u5c31\u4f1a\u5c06\u5b83\u4eec\u6807\u8bb0\u4e3a\u300c",(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u89c2\u4e0b\u7ebf"),"\u300d\u3002\u8fd9\u4e2a\u300c\u89c4\u5b9a\u7684\u65f6\u95f4\u300d\u662f\u914d\u7f6e\u9879  ",(0,l.kt)("inlineCode",{parentName:"p"},"down-after-milliseconds")," \u53c2\u6570\u8bbe\u5b9a\u7684\uff0c\u5355\u4f4d\u662f\u6beb\u79d2\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e3b\u89c2\u4e0b\u7ebf\uff1f\u96be\u9053\u8fd8\u6709\u5ba2\u89c2\u4e0b\u7ebf\uff1f")),(0,l.kt)("p",null,"\u662f\u7684\u6ca1\u9519\uff0c\u5ba2\u89c2\u4e0b\u7ebf\u53ea\u9002\u7528\u4e8e\u4e3b\u8282\u70b9\u3002"),(0,l.kt)("p",null,"\u4e4b\u6240\u4ee5\u9488\u5bf9\u300c\u4e3b\u8282\u70b9\u300d\u8bbe\u8ba1\u300c\u4e3b\u89c2\u4e0b\u7ebf\u300d\u548c\u300c\u5ba2\u89c2\u4e0b\u7ebf\u300d\u4e24\u4e2a\u72b6\u6001\uff0c\u662f\u56e0\u4e3a\u6709\u53ef\u80fd\u300c\u4e3b\u8282\u70b9\u300d\u5176\u5b9e\u5e76\u6ca1\u6709\u6545\u969c\uff0c\u53ef\u80fd\u53ea\u662f\u56e0\u4e3a\u4e3b\u8282\u70b9\u7684\u7cfb\u7edf\u538b\u529b\u6bd4\u8f83\u5927\u6216\u8005\u7f51\u7edc\u53d1\u9001\u4e86\u62e5\u585e\uff0c\u5bfc\u81f4\u4e3b\u8282\u70b9\u6ca1\u6709\u5728\u89c4\u5b9a\u65f6\u95f4\u5185\u54cd\u5e94\u54e8\u5175\u7684 PING \u547d\u4ee4\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u4e3a\u4e86\u51cf\u5c11\u8bef\u5224\u7684\u60c5\u51b5\uff0c\u54e8\u5175\u5728\u90e8\u7f72\u7684\u65f6\u5019\u4e0d\u4f1a\u53ea\u90e8\u7f72\u4e00\u4e2a\u8282\u70b9\uff0c\u800c\u662f\u7528\u591a\u4e2a\u8282\u70b9\u90e8\u7f72\u6210",(0,l.kt)("strong",{parentName:"p"},"\u54e8\u5175\u96c6\u7fa4"),"\uff08",(0,l.kt)("em",{parentName:"p"},"\u6700\u5c11\u9700\u8981\u4e09\u53f0\u673a\u5668\u6765\u90e8\u7f72\u54e8\u5175\u96c6\u7fa4"),"\uff09\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u901a\u8fc7\u591a\u4e2a\u54e8\u5175\u8282\u70b9\u4e00\u8d77\u5224\u65ad\uff0c\u5c31\u53ef\u4ee5\u5c31\u53ef\u4ee5\u907f\u514d\u5355\u4e2a\u54e8\u5175\u56e0\u4e3a\u81ea\u8eab\u7f51\u7edc\u72b6\u51b5\u4e0d\u597d\uff0c\u800c\u8bef\u5224\u4e3b\u8282\u70b9\u4e0b\u7ebf\u7684\u60c5\u51b5"),"\u3002\u540c\u65f6\uff0c\u591a\u4e2a\u54e8\u5175\u7684\u7f51\u7edc\u540c\u65f6\u4e0d\u7a33\u5b9a\u7684\u6982\u7387\u8f83\u5c0f\uff0c\u7531\u5b83\u4eec\u4e00\u8d77\u505a\u51b3\u7b56\uff0c\u8bef\u5224\u7387\u4e5f\u80fd\u964d\u4f4e\u3002"),(0,l.kt)("p",null,"\u5177\u4f53\u662f\u600e\u4e48\u5224\u5b9a\u4e3b\u8282\u70b9\u4e3a\u300c\u5ba2\u89c2\u4e0b\u7ebf\u300d\u7684\u5462\uff1f"),(0,l.kt)("p",null,"\u5f53\u4e00\u4e2a\u54e8\u5175\u5224\u65ad\u4e3b\u8282\u70b9\u4e3a\u300c\u4e3b\u89c2\u4e0b\u7ebf\u300d\u540e\uff0c\u5c31\u4f1a\u5411\u5176\u4ed6\u54e8\u5175\u53d1\u8d77\u547d\u4ee4\uff0c\u5176\u4ed6\u54e8\u5175\u6536\u5230\u8fd9\u4e2a\u547d\u4ee4\u540e\uff0c\u5c31\u4f1a\u6839\u636e\u81ea\u8eab\u548c\u4e3b\u8282\u70b9\u7684\u7f51\u7edc\u72b6\u51b5\uff0c\u505a\u51fa\u8d5e\u6210\u6295\u7968\u6216\u8005\u62d2\u7edd\u6295\u7968\u7684\u54cd\u5e94\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714220606567",src:n(99725).Z,width:"1066",height:"686"})),(0,l.kt)("p",null,"\u5f53\u8fd9\u4e2a\u54e8\u5175\u7684\u8d5e\u540c\u7968\u6570\u8fbe\u5230\u54e8\u5175\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 quorum \u914d\u7f6e\u9879\u8bbe\u5b9a\u7684\u503c\u540e\uff0c\u8fd9\u65f6\u4e3b\u8282\u70b9\u5c31\u4f1a\u88ab\u8be5\u54e8\u5175\u6807\u8bb0\u4e3a\u300c\u5ba2\u89c2\u4e0b\u7ebf\u300d\u3002"),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c\u73b0\u5728\u6709 3 \u4e2a\u54e8\u5175\uff0cquorum \u914d\u7f6e\u7684\u662f 2\uff0c\u90a3\u4e48\u4e00\u4e2a\u54e8\u5175\u9700\u8981 2 \u5f20\u8d5e\u6210\u7968\uff0c\u5c31\u53ef\u4ee5\u6807\u8bb0\u4e3b\u8282\u70b9\u4e3a\u201c\u5ba2\u89c2\u4e0b\u7ebf\u201d\u4e86\u3002\u8fd9 2 \u5f20\u8d5e\u6210\u7968\u5305\u62ec\u54e8\u5175\u81ea\u5df1\u7684\u4e00\u5f20\u8d5e\u6210\u7968\u548c\u53e6\u5916\u4e24\u4e2a\u54e8\u5175\u7684\u8d5e\u6210\u7968\u3002"),(0,l.kt)("p",null,"PS\uff1aquorum \u7684\u503c\u4e00\u822c\u8bbe\u7f6e\u4e3a\u54e8\u5175\u4e2a\u6570\u7684\u4e8c\u5206\u4e4b\u4e00\u52a01\uff0c\u4f8b\u5982 3 \u4e2a\u54e8\u5175\u5c31\u8bbe\u7f6e 2\u3002"),(0,l.kt)("p",null,"\u54e8\u5175\u5224\u65ad\u5b8c\u4e3b\u8282\u70b9\u5ba2\u89c2\u4e0b\u7ebf\u540e\uff0c\u54e8\u5175\u5c31\u8981\u5f00\u59cb\u5728\u591a\u4e2a\u300c\u4ece\u8282\u70b9\u300d\u4e2d\uff0c\u9009\u51fa\u4e00\u4e2a\u4ece\u8282\u70b9\u6765\u505a\u65b0\u4e3b\u8282\u70b9\u3002"),(0,l.kt)("h4",{id:"\u7531\u54ea\u4e2a\u54e8\u5175\u8fdb\u884c\u4e3b\u4ece\u6545\u969c\u8f6c\u79fb"},"\u7531\u54ea\u4e2a\u54e8\u5175\u8fdb\u884c\u4e3b\u4ece\u6545\u969c\u8f6c\u79fb\uff1f"),(0,l.kt)("p",null,"\u524d\u9762\u8bf4\u8fc7\uff0c\u4e3a\u4e86\u66f4\u52a0\u201c\u5ba2\u89c2\u201d\u7684\u5224\u65ad\u4e3b\u8282\u70b9\u6545\u969c\u4e86\uff0c\u4e00\u822c\u4e0d\u4f1a\u53ea\u7531\u5355\u4e2a\u54e8\u5175\u7684\u68c0\u6d4b\u7ed3\u679c\u6765\u5224\u65ad\uff0c\u800c\u662f\u591a\u4e2a\u54e8\u5175\u4e00\u8d77\u5224\u65ad\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u8bef\u5224\u6982\u7387\uff0c\u6240\u4ee5",(0,l.kt)("strong",{parentName:"p"},"\u54e8\u5175\u662f\u4ee5\u54e8\u5175\u96c6\u7fa4\u7684\u65b9\u5f0f\u5b58\u5728\u7684"),"\u3002"),(0,l.kt)("p",null,"\u95ee\u9898\u6765\u4e86\uff0c\u7531\u54e8\u5175\u96c6\u7fa4\u4e2d\u7684\u54ea\u4e2a\u8282\u70b9\u8fdb\u884c\u4e3b\u4ece\u6545\u969c\u8f6c\u79fb\u5462\uff1f"),(0,l.kt)("p",null,"\u6240\u4ee5\u8fd9\u65f6\u5019\uff0c\u8fd8\u9700\u8981\u5728\u54e8\u5175\u96c6\u7fa4\u4e2d\u9009\u51fa\u4e00\u4e2a leeder\uff0c\u8ba9 leeder \u6765\u6267\u884c\u4e3b\u4ece\u5207\u6362\u3002"),(0,l.kt)("p",null,"\u9009\u4e3e leeder \u7684\u8fc7\u7a0b\u5176\u5b9e\u662f\u4e00\u4e2a\u6295\u7968\u7684\u8fc7\u7a0b\uff0c\u5728\u6295\u7968\u5f00\u59cb\u524d\uff0c\u80af\u5b9a\u5f97\u6709\u4e2a\u300c\u5019\u9009\u8005\u300d\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u90a3\u8c01\u6765\u4f5c\u4e3a\u5019\u9009\u8005\u5462\uff1f")),(0,l.kt)("p",null,"\u54ea\u4e2a\u54e8\u5175\u8282\u70b9\u5224\u65ad\u4e3b\u8282\u70b9\u4e3a\u300c\u5ba2\u89c2\u4e0b\u7ebf\u300d\uff0c\u8fd9\u4e2a\u54e8\u5175\u8282\u70b9\u5c31\u662f\u5019\u9009\u8005\uff0c\u6240\u8c13\u7684\u5019\u9009\u8005\u5c31\u662f\u60f3\u5f53 Leader \u7684\u54e8\u5175\u3002"),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u6709\u4e09\u4e2a\u54e8\u5175\u3002\u5f53\u54e8\u5175 B \u5148\u5224\u65ad\u5230\u4e3b\u8282\u70b9\u300c\u4e3b\u89c2\u4e0b\u7ebf\u540e\u300d\uff0c\u5c31\u4f1a\u7ed9\u5176\u4ed6\u5b9e\u4f8b\u53d1\u9001 is-master-down-by-addr \u547d\u4ee4\u3002\u63a5\u7740\uff0c\u5176\u4ed6\u54e8\u5175\u4f1a\u6839\u636e\u81ea\u5df1\u548c\u4e3b\u8282\u70b9\u7684\u7f51\u7edc\u8fde\u63a5\u60c5\u51b5\uff0c\u505a\u51fa\u8d5e\u6210\u6295\u7968\u6216\u8005\u62d2\u7edd\u6295\u7968\u7684\u54cd\u5e94\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714220628098",src:n(87630).Z,width:"1124",height:"988"})),(0,l.kt)("p",null,"\u5f53\u54e8\u5175 B \u6536\u5230\u8d5e\u6210\u7968\u6570\u8fbe\u5230\u54e8\u5175\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 quorum \u914d\u7f6e\u9879\u8bbe\u5b9a\u7684\u503c\u540e\uff0c\u5c31\u4f1a\u5c06\u4e3b\u8282\u70b9\u6807\u8bb0\u4e3a\u300c\u5ba2\u89c2\u4e0b\u7ebf\u300d\uff0c\u6b64\u65f6\u7684\u54e8\u5175 B \u5c31\u662f\u4e00\u4e2aLeader \u5019\u9009\u8005\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5019\u9009\u8005\u5982\u4f55\u9009\u4e3e\u6210\u4e3a Leader\uff1f")),(0,l.kt)("p",null,"\u5019\u9009\u8005\u4f1a\u5411\u5176\u4ed6\u54e8\u5175\u53d1\u9001\u547d\u4ee4\uff0c\u8868\u660e\u5e0c\u671b\u6210\u4e3a Leader \u6765\u6267\u884c\u4e3b\u4ece\u5207\u6362\uff0c\u5e76\u8ba9\u6240\u6709\u5176\u4ed6\u54e8\u5175\u5bf9\u5b83\u8fdb\u884c\u6295\u7968\u3002"),(0,l.kt)("p",null,"\u6bcf\u4e2a\u54e8\u5175\u53ea\u6709\u4e00\u6b21\u6295\u7968\u673a\u4f1a\uff0c\u5982\u679c\u7528\u5b8c\u540e\u5c31\u4e0d\u80fd\u53c2\u4e0e\u6295\u7968\u4e86\uff0c\u53ef\u4ee5\u6295\u7ed9\u81ea\u5df1\u6216\u6295\u7ed9\u522b\u4eba\uff0c\u4f46\u662f\u53ea\u6709\u5019\u9009\u8005\u624d\u80fd\u628a\u7968\u6295\u7ed9\u81ea\u5df1\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\u5728\u6295\u7968\u8fc7\u7a0b\u4e2d\uff0c\u4efb\u4f55\u4e00\u4e2a\u300c\u5019\u9009\u8005\u300d\uff0c\u8981\u6ee1\u8db3\u4e24\u4e2a\u6761\u4ef6\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\uff0c\u62ff\u5230\u534a\u6570\u4ee5\u4e0a\u7684\u8d5e\u6210\u7968\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\uff0c\u62ff\u5230\u7684\u7968\u6570\u540c\u65f6\u8fd8\u9700\u8981\u5927\u4e8e\u7b49\u4e8e\u54e8\u5175\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 quorum \u503c\u3002")),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u54e8\u5175\u8282\u70b9\u6709  3 \u4e2a\uff0cquorum \u8bbe\u7f6e\u4e3a 2\uff0c\u90a3\u4e48\u4efb\u4f55\u4e00\u4e2a\u60f3\u6210\u4e3a Leader \u7684\u54e8\u5175\u53ea\u8981\u62ff\u5230 2 \u5f20\u8d5e\u6210\u7968\uff0c\u5c31\u53ef\u4ee5\u9009\u4e3e\u6210\u529f\u4e86\u3002\u5982\u679c\u6ca1\u6709\u6ee1\u8db3\u6761\u4ef6\uff0c\u5c31\u9700\u8981\u91cd\u65b0\u8fdb\u884c\u9009\u4e3e\u3002"),(0,l.kt)("p",null,"\u8fd9\u65f6\u5019\u6709\u7684\u540c\u5b66\u5c31\u4f1a\u95ee\u4e86\uff0c\u5982\u679c\u67d0\u4e2a\u65f6\u95f4\u70b9\uff0c\u521a\u597d\u6709\u4e24\u4e2a\u54e8\u5175\u8282\u70b9\u5224\u65ad\u5230\u4e3b\u8282\u70b9\u4e3a\u5ba2\u89c2\u4e0b\u7ebf\uff0c\u90a3\u8fd9\u65f6\u4e0d\u5c31\u6709\u4e24\u4e2a\u5019\u9009\u8005\u4e86\uff1f\u8fd9\u65f6\u8be5\u5982\u4f55\u51b3\u5b9a\u8c01\u662f Leader \u5462\uff1f"),(0,l.kt)("p",null,"\u6bcf\u4f4d\u5019\u9009\u8005\u90fd\u4f1a\u5148\u7ed9\u81ea\u5df1\u6295\u4e00\u7968\uff0c\u7136\u540e\u5411\u5176\u4ed6\u54e8\u5175\u53d1\u8d77\u6295\u7968\u8bf7\u6c42\u3002\u5982\u679c\u6295\u7968\u8005\u5148\u6536\u5230\u300c\u5019\u9009\u8005 A\u300d\u7684\u6295\u7968\u8bf7\u6c42\uff0c\u5c31\u4f1a\u5148\u6295\u7968\u7ed9\u5b83\uff0c\u5982\u679c\u6295\u7968\u8005\u7528\u5b8c\u6295\u7968\u673a\u4f1a\u540e\uff0c\u6536\u5230\u300c\u5019\u9009\u8005 B\u300d\u7684\u6295\u7968\u8bf7\u6c42\u540e\uff0c\u5c31\u4f1a\u62d2\u7edd\u6295\u7968\u3002\u8fd9\u65f6\uff0c\u5019\u9009\u8005 A  \u5148\u6ee1\u8db3\u4e86\u4e0a\u9762\u7684\u90a3\u4e24\u4e2a\u6761\u4ef6\uff0c\u6240\u4ee5\u300c\u5019\u9009\u8005 A\u300d\u5c31\u4f1a\u88ab\u9009\u4e3e\u4e3a Leader\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e3a\u4ec0\u4e48\u54e8\u5175\u8282\u70b9\u81f3\u5c11\u8981\u6709 3 \u4e2a\uff1f")),(0,l.kt)("p",null,"\u5982\u679c\u54e8\u5175\u96c6\u7fa4\u4e2d\u53ea\u6709 2 \u4e2a\u54e8\u5175\u8282\u70b9\uff0c\u6b64\u65f6\u5982\u679c\u4e00\u4e2a\u54e8\u5175\u60f3\u8981\u6210\u529f\u6210\u4e3a Leader\uff0c\u5fc5\u987b\u83b7\u5f97 2 \u7968\uff0c\u800c\u4e0d\u662f 1 \u7968\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u5982\u679c\u54e8\u5175\u96c6\u7fa4\u4e2d\u6709\u4e2a\u54e8\u5175\u6302\u6389\u4e86\uff0c\u90a3\u4e48\u5c31\u53ea\u5269\u4e00\u4e2a\u54e8\u5175\u4e86\uff0c\u5982\u679c\u8fd9\u4e2a\u54e8\u5175\u60f3\u8981\u6210\u4e3a Leader\uff0c\u8fd9\u65f6\u7968\u6570\u5c31\u6ca1\u529e\u6cd5\u8fbe\u5230 2 \u7968\uff0c\u5c31\u65e0\u6cd5\u6210\u529f\u6210\u4e3a Leader\uff0c\u8fd9\u65f6\u662f\u65e0\u6cd5\u8fdb\u884c\u4e3b\u4ece\u8282\u70b9\u5207\u6362\u7684\u3002"),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c\u901a\u5e38\u6211\u4eec\u81f3\u5c11\u4f1a\u914d\u7f6e 3 \u4e2a\u54e8\u5175\u8282\u70b9\u3002\u8fd9\u65f6\uff0c\u5982\u679c\u54e8\u5175\u96c6\u7fa4\u4e2d\u6709\u4e2a\u54e8\u5175\u6302\u6389\u4e86\uff0c\u90a3\u4e48\u8fd8\u5269\u4e0b\u4e24\u4e2a\u4e2a\u54e8\u5175\uff0c\u5982\u679c\u8fd9\u4e2a\u54e8\u5175\u60f3\u8981\u6210\u4e3a Leader\uff0c\u8fd9\u65f6\u8fd8\u662f\u6709\u673a\u4f1a\u8fbe\u5230 2 \u7968\u7684\uff0c\u6240\u4ee5\u8fd8\u662f\u53ef\u4ee5\u9009\u4e3e\u6210\u529f\u7684\uff0c\u4e0d\u4f1a\u5bfc\u81f4\u65e0\u6cd5\u8fdb\u884c\u4e3b\u4ece\u8282\u70b9\u5207\u6362\u3002"),(0,l.kt)("p",null,"\u5f53\u7136\uff0c\u4f60\u8981\u95ee\uff0c\u5982\u679c 3 \u4e2a\u54e8\u5175\u8282\u70b9\uff0c\u6302\u4e86 2 \u4e2a\u600e\u4e48\u529e\uff1f\u8fd9\u4e2a\u65f6\u5019\u5f97\u4eba\u4e3a\u4ecb\u5165\u4e86\uff0c\u6216\u8005\u589e\u52a0\u591a\u4e00\u70b9\u54e8\u5175\u8282\u70b9\u3002"),(0,l.kt)("p",null,"\u518d\u8bf4\u4e00\u4e2a\u95ee\u9898\uff0cRedis 1 \u4e3b 4 \u4ece\uff0c5 \u4e2a\u54e8\u5175 \uff0cquorum \u8bbe\u7f6e\u4e3a 3\uff0c\u5982\u679c 2 \u4e2a\u54e8\u5175\u6545\u969c\uff0c\u5f53\u4e3b\u8282\u70b9\u5b95\u673a\u65f6\uff0c\u54e8\u5175\u80fd\u5426\u5224\u65ad\u4e3b\u8282\u70b9\u201c\u5ba2\u89c2\u4e0b\u7ebf\u201d\uff1f\u4e3b\u4ece\u80fd\u5426\u81ea\u52a8\u5207\u6362\uff1f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u54e8\u5175\u96c6\u7fa4\u53ef\u4ee5\u5224\u5b9a\u4e3b\u8282\u70b9\u201c\u5ba2\u89c2\u4e0b\u7ebf\u201d"),"\u3002\u54e8\u5175\u96c6\u7fa4\u8fd8\u5269\u4e0b 3 \u4e2a\u54e8\u5175\uff0c\u5f53\u4e00\u4e2a\u54e8\u5175\u5224\u65ad\u4e3b\u8282\u70b9\u201c\u4e3b\u89c2\u4e0b\u7ebf\u201d\u540e\uff0c\u8be2\u95ee\u53e6\u5916 2 \u4e2a\u54e8\u5175\u540e\uff0c\u6709\u53ef\u80fd\u80fd\u62ff\u5230 3 \u5f20\u8d5e\u540c\u7968\uff0c\u8fd9\u65f6\u5c31\u8fbe\u5230\u4e86 quorum \u7684\u503c\uff0c\u56e0\u6b64\uff0c\u54e8\u5175\u96c6\u7fa4\u53ef\u4ee5\u5224\u5b9a\u4e3b\u8282\u70b9\u4e3a\u201c\u5ba2\u89c2\u4e0b\u7ebf\u201d\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u54e8\u5175\u96c6\u7fa4\u53ef\u4ee5\u5b8c\u6210\u4e3b\u4ece\u5207\u6362"),"\u3002\u5f53\u6709\u4e2a\u54e8\u5175\u6807\u8bb0\u4e3b\u8282\u70b9\u4e3a\u300c\u5ba2\u89c2\u4e0b\u7ebf\u300d\u540e\uff0c\u5c31\u4f1a\u8fdb\u884c\u9009\u4e3e Leader \u7684\u8fc7\u7a0b\uff0c\u56e0\u4e3a\u6b64\u65f6\u54e8\u5175\u96c6\u7fa4\u8fd8\u5269\u4e0b 3 \u4e2a\u54e8\u5175\uff0c\u90a3\u4e48\u8fd8\u662f\u53ef\u4ee5\u62ff\u5230\u534a\u6570\u4ee5\u4e0a\uff085/2+1=3\uff09\u7684\u7968\uff0c\u800c\u4e14\u4e5f\u8fbe\u5230\u4e86 quorum  \u503c\uff0c\u6ee1\u8db3\u4e86\u9009\u4e3e Leader \u7684\u4e24\u4e2a\u6761\u4ef6\uff0c \u6240\u4ee5\u5c31\u80fd\u9009\u4e3e\u6210\u529f\uff0c\u56e0\u6b64\u54e8\u5175\u96c6\u7fa4\u53ef\u4ee5\u5b8c\u6210\u4e3b\u4ece\u5207\u6362\u3002")),(0,l.kt)("p",null,"\u5982\u679c quorum \u8bbe\u7f6e\u4e3a 2 \uff0c\u5e76\u4e14\u5982\u679c\u6709 3 \u4e2a\u54e8\u5175\u6545\u969c\u7684\u8bdd\u3002\u6b64\u65f6\u54e8\u5175\u96c6\u7fa4\u8fd8\u662f\u53ef\u4ee5\u5224\u5b9a\u4e3b\u8282\u70b9\u4e3a\u201c\u5ba2\u89c2\u4e0b\u7ebf\u201d\uff0c\u4f46\u662f\u54e8\u5175\u4e0d\u80fd\u5b8c\u6210\u4e3b\u4ece\u5207\u6362\u4e86\uff0c\u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u63a8\u6f14\u4e0b\u3002"),(0,l.kt)("p",null,"\u5982\u679c quorum \u8bbe\u7f6e\u4e3a 3\uff0c\u5e76\u4e14\u5982\u679c\u6709 3 \u4e2a\u54e8\u5175\u6545\u969c\u7684\u8bdd\uff0c\u54e8\u5175\u96c6\u7fa4\u5373\u4e0d\u80fd\u5224\u5b9a\u4e3b\u8282\u70b9\u4e3a\u201c\u5ba2\u89c2\u4e0b\u7ebf\u201d\uff0c\u4e5f\u4e0d\u80fd\u5b8c\u6210\u4e3b\u4ece\u5207\u6362\u4e86\u3002"),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0cquorum \u4e3a 2 \u7684\u65f6\u5019\uff0c\u5e76\u4e14\u5982\u679c\u6709 3 \u4e2a\u54e8\u5175\u6545\u969c\u7684\u8bdd\uff0c\u867d\u7136\u53ef\u4ee5\u5224\u5b9a\u4e3b\u8282\u70b9\u4e3a\u201c\u5ba2\u89c2\u4e0b\u7ebf\u201d\uff0c\u4f46\u662f\u4e0d\u80fd\u5b8c\u6210\u4e3b\u4ece\u5207\u6362\uff0c\u8fd9\u6837\u611f\u89c9\u300c\u5224\u5b9a\u4e3b\u8282\u70b9\u4e3a\u5ba2\u89c2\u4e0b\u7ebf\u300d\u8fd9\u4ef6\u4e8b\u60c5\u767d\u505a\u4e86\u4e00\u6837\uff0c\u65e2\u7136\u8fd9\u6837\uff0c\u8fd8\u4e0d\u5982\u4e0d\u8981\u505a\uff0cquorum \u4e3a 3 \u7684\u65f6\u5019\uff0c\u5c31\u53ef\u4ee5\u907f\u514d\u8fd9\u79cd\u65e0\u7528\u529f\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c",(0,l.kt)("strong",{parentName:"p"},"quorum \u7684\u503c\u5efa\u8bae\u8bbe\u7f6e\u4e3a\u54e8\u5175\u4e2a\u6570\u7684\u4e8c\u5206\u4e4b\u4e00\u52a01"),"\uff0c\u4f8b\u5982 3 \u4e2a\u54e8\u5175\u5c31\u8bbe\u7f6e 2\uff0c5 \u4e2a\u54e8\u5175\u8bbe\u7f6e\u4e3a 3\uff0c\u800c\u4e14",(0,l.kt)("strong",{parentName:"p"},"\u54e8\u5175\u8282\u70b9\u7684\u6570\u91cf\u5e94\u8be5\u662f\u5947\u6570"),"\u3002"),(0,l.kt)("h4",{id:"\u4e3b\u4ece\u6545\u969c\u8f6c\u79fb\u7684\u8fc7\u7a0b\u662f\u600e\u6837\u7684"},"\u4e3b\u4ece\u6545\u969c\u8f6c\u79fb\u7684\u8fc7\u7a0b\u662f\u600e\u6837\u7684\uff1f"),(0,l.kt)("p",null,"\u5728\u54e8\u5175\u96c6\u7fa4\u4e2d\u901a\u8fc7\u6295\u7968\u7684\u65b9\u5f0f\uff0c\u9009\u4e3e\u51fa\u4e86\u54e8\u5175 leader \u540e\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884c\u4e3b\u4ece\u6545\u969c\u8f6c\u79fb\u7684\u8fc7\u7a0b\u4e86\uff0c\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714222351206",src:n(88018).Z,width:"2510",height:"701"})),(0,l.kt)("p",null,"\u4e3b\u4ece\u6545\u969c\u8f6c\u79fb\u64cd\u4f5c\u5305\u542b\u4ee5\u4e0b\u56db\u4e2a\u6b65\u9aa4\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u6b65\uff1a\u5728\u5df2\u4e0b\u7ebf\u4e3b\u8282\u70b9\uff08\u65e7\u4e3b\u8282\u70b9\uff09\u5c5e\u4e0b\u7684\u6240\u6709\u300c\u4ece\u8282\u70b9\u300d\u91cc\u9762\uff0c\u6311\u9009\u51fa\u4e00\u4e2a\u4ece\u8282\u70b9\uff0c\u5e76\u5c06\u5176\u8f6c\u6362\u4e3a\u4e3b\u8282\u70b9\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u6b65\uff1a\u8ba9\u5df2\u4e0b\u7ebf\u4e3b\u8282\u70b9\u5c5e\u4e0b\u7684\u6240\u6709\u300c\u4ece\u8282\u70b9\u300d\u4fee\u6539\u590d\u5236\u76ee\u6807\uff0c\u4fee\u6539\u4e3a\u590d\u5236\u300c\u65b0\u4e3b\u8282\u70b9\u300d\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e09\u6b65\uff1a\u5c06\u65b0\u4e3b\u8282\u70b9\u7684 IP \u5730\u5740\u548c\u4fe1\u606f\uff0c\u901a\u8fc7\u300c\u53d1\u5e03\u8005/\u8ba2\u9605\u8005\u673a\u5236\u300d\u901a\u77e5\u7ed9\u5ba2\u6237\u7aef\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u56db\u6b65\uff1a\u7ee7\u7eed\u76d1\u89c6\u65e7\u4e3b\u8282\u70b9\uff0c\u5f53\u8fd9\u4e2a\u65e7\u4e3b\u8282\u70b9\u91cd\u65b0\u4e0a\u7ebf\u65f6\uff0c\u5c06\u5b83\u8bbe\u7f6e\u4e3a\u65b0\u4e3b\u8282\u70b9\u7684\u4ece\u8282\u70b9\uff1b")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8fd9\u5757\u5177\u4f53\u8fd8\u662f\u770b",(0,l.kt)("a",{parentName:"p",href:"https://xiaolincoding.com/redis/cluster/sentinel.html#%E6%AD%A5%E9%AA%A4%E4%B8%80-%E9%80%89%E5%87%BA%E6%96%B0%E4%B8%BB%E8%8A%82%E7%82%B9"},"https://xiaolincoding.com/redis/cluster/sentinel.html#%E6%AD%A5%E9%AA%A4%E4%B8%80-%E9%80%89%E5%87%BA%E6%96%B0%E4%B8%BB%E8%8A%82%E7%82%B9"))),(0,l.kt)("h4",{id:"\u54e8\u5175\u96c6\u7fa4\u662f\u5982\u4f55\u7ec4\u6210\u7684"},"\u54e8\u5175\u96c6\u7fa4\u662f\u5982\u4f55\u7ec4\u6210\u7684\uff1f"),(0,l.kt)("p",null,"\u524d\u9762\u63d0\u5230\u4e86  Redis \u7684\u53d1\u5e03\u8005/\u8ba2\u9605\u8005\u673a\u5236\uff0c\u90a3\u5c31\u4e0d\u5f97\u4e0d\u63d0\u4e00\u4e0b\u54e8\u5175\u96c6\u7fa4\u7684\u7ec4\u6210\u65b9\u5f0f\uff0c\u56e0\u4e3a\u5b83\u4e5f\u7528\u5230\u4e86\u8fd9\u4e2a\u6280\u672f\u3002"),(0,l.kt)("p",null,"\u5728\u6211\u7b2c\u4e00\u6b21\u642d\u5efa\u54e8\u5175\u96c6\u7fa4\u7684\u65f6\u5019\uff0c\u5f53\u65f6\u89c9\u5f97\u5f88\u8be7\u5f02\u3002\u56e0\u4e3a\u5728\u914d\u7f6e\u54e8\u5175\u7684\u4fe1\u606f\u65f6\uff0c\u7adf\u7136\u53ea\u9700\u8981\u586b\u4e0b\u9762\u8fd9\u51e0\u4e2a\u53c2\u6570\uff0c\u8bbe\u7f6e\u4e3b\u8282\u70b9\u540d\u5b57\u3001\u4e3b\u8282\u70b9\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u4ee5\u53ca quorum \u503c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"sentinel monitor <master-name> <ip> <redis-port> <quorum> \n")),(0,l.kt)("p",null,"\u4e0d\u9700\u8981\u586b\u5176\u4ed6\u54e8\u5175\u8282\u70b9\u7684\u4fe1\u606f\uff0c\u6211\u5c31\u597d\u5947\u5b83\u4eec\u662f\u5982\u4f55\u611f\u77e5\u5bf9\u65b9\u7684\uff0c\u53c8\u662f\u5982\u4f55\u7ec4\u6210\u54e8\u5175\u96c6\u7fa4\u7684\uff1f"),(0,l.kt)("p",null,"\u540e\u9762\u624d\u4e86\u89e3\u5230\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u54e8\u5175\u8282\u70b9\u4e4b\u95f4\u662f\u901a\u8fc7 Redis \u7684\u53d1\u5e03\u8005/\u8ba2\u9605\u8005\u673a\u5236\u6765\u76f8\u4e92\u53d1\u73b0\u7684"),"\u3002"),(0,l.kt)("p",null,"\u5728\u4e3b\u4ece\u96c6\u7fa4\u4e2d\uff0c\u4e3b\u8282\u70b9\u4e0a\u6709\u4e00\u4e2a\u540d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"__sentinel__:hello"),"\u7684\u9891\u9053\uff0c\u4e0d\u540c\u54e8\u5175\u5c31\u662f\u901a\u8fc7\u5b83\u6765\u76f8\u4e92\u53d1\u73b0\uff0c\u5b9e\u73b0\u4e92\u76f8\u901a\u4fe1\u7684\u3002"),(0,l.kt)("p",null,"\u5728\u4e0b\u56fe\u4e2d\uff0c\u54e8\u5175 A \u628a\u81ea\u5df1\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u7684\u4fe1\u606f\u53d1\u5e03\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"__sentinel__:hello")," \u9891\u9053\u4e0a\uff0c\u54e8\u5175 B \u548c C \u8ba2\u9605\u4e86\u8be5\u9891\u9053\u3002\u90a3\u4e48\u6b64\u65f6\uff0c\u54e8\u5175 B \u548c C \u5c31\u53ef\u4ee5\u4ece\u8fd9\u4e2a\u9891\u9053\u76f4\u63a5\u83b7\u53d6\u54e8\u5175 A \u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u3002\u7136\u540e\uff0c\u54e8\u5175 B\u3001C \u53ef\u4ee5\u548c\u54e8\u5175 A \u5efa\u7acb\u7f51\u7edc\u8fde\u63a5\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220714222643304",src:n(73968).Z,width:"1290",height:"1152"})),(0,l.kt)("p",null,"\u901a\u8fc7\u8fd9\u4e2a\u65b9\u5f0f\uff0c\u54e8\u5175 B \u548c C \u4e5f\u53ef\u4ee5\u5efa\u7acb\u7f51\u7edc\u8fde\u63a5\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u54e8\u5175\u96c6\u7fa4\u5c31\u5f62\u6210\u4e86\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u54e8\u5175\u96c6\u7fa4\u4f1a\u5bf9\u300c\u4ece\u8282\u70b9\u300d\u7684\u8fd0\u884c\u72b6\u6001\u8fdb\u884c\u76d1\u63a7\uff0c\u90a3\u54e8\u5175\u96c6\u7fa4\u5982\u4f55\u77e5\u9053\u300c\u4ece\u8282\u70b9\u300d\u7684\u4fe1\u606f\uff1f")),(0,l.kt)("p",null,"\u4e3b\u8282\u70b9\u77e5\u9053\u6240\u6709\u300c\u4ece\u8282\u70b9\u300d\u7684\u4fe1\u606f\uff0c\u6240\u4ee5\u54e8\u5175\u4f1a\u6bcf 10 \u79d2\u4e00\u6b21\u7684\u9891\u7387\u5411\u4e3b\u8282\u70b9\u53d1\u9001 INFO \u547d\u4ee4\u6765\u83b7\u53d6\u6240\u6709\u300c\u4ece\u8282\u70b9\u300d\u7684\u4fe1\u606f\u3002"),(0,l.kt)("p",null,"\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u54e8\u5175 B \u7ed9\u4e3b\u8282\u70b9\u53d1\u9001 INFO  \u547d\u4ee4\uff0c\u4e3b\u8282\u70b9\u63a5\u53d7\u5230\u8fd9\u4e2a\u547d\u4ee4\u540e\uff0c\u5c31\u4f1a\u628a\u4ece\u8282\u70b9\u5217\u8868\u8fd4\u56de\u7ed9\u54e8\u5175\u3002\u63a5\u7740\uff0c\u54e8\u5175\u5c31\u53ef\u4ee5\u6839\u636e\u4ece\u8282\u70b9\u5217\u8868\u4e2d\u7684\u8fde\u63a5\u4fe1\u606f\uff0c\u548c\u6bcf\u4e2a\u4ece\u8282\u70b9\u5efa\u7acb\u8fde\u63a5\uff0c\u5e76\u5728\u8fd9\u4e2a\u8fde\u63a5\u4e0a\u6301\u7eed\u5730\u5bf9\u4ece\u8282\u70b9\u8fdb\u884c\u76d1\u63a7\u3002\u54e8\u5175 A \u548c C \u53ef\u4ee5\u901a\u8fc7\u76f8\u540c\u7684\u65b9\u6cd5\u548c\u4ece\u8282\u70b9\u5efa\u7acb\u8fde\u63a5\u3002",(0,l.kt)("img",{alt:"image-20220714222836699",src:n(91119).Z,width:"1396",height:"856"})),(0,l.kt)("p",null,"\u6b63\u5f0f\u901a\u8fc7  Redis \u7684\u53d1\u5e03\u8005/\u8ba2\u9605\u8005\u673a\u5236\uff0c\u54e8\u5175\u4e4b\u95f4\u53ef\u4ee5\u76f8\u4e92\u611f\u77e5\uff0c\u7136\u540e\u7ec4\u6210\u96c6\u7fa4\uff0c\u540c\u65f6\uff0c\u54e8\u5175\u53c8\u901a\u8fc7 INFO \u547d\u4ee4\uff0c\u5728\u4e3b\u8282\u70b9\u91cc\u83b7\u5f97\u4e86\u6240\u6709\u4ece\u8282\u70b9\u8fde\u63a5\u4fe1\u606f\uff0c\u4e8e\u662f\u5c31\u80fd\u548c\u4ece\u8282\u70b9\u5efa\u7acb\u8fde\u63a5\uff0c\u5e76\u8fdb\u884c\u76d1\u63a7\u4e86\u3002"),(0,l.kt)("h4",{id:"\u603b\u7ed3-5"},"\u603b\u7ed3"),(0,l.kt)("p",null,"Redis \u5728 2.8 \u7248\u672c\u4ee5\u540e\u63d0\u4f9b\u7684",(0,l.kt)("strong",{parentName:"p"},"\u54e8\u5175\uff08","*","Sentinel","*","\uff09\u673a\u5236"),"\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u5b9e\u73b0",(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u4ece\u8282\u70b9\u6545\u969c\u8f6c\u79fb"),"\u3002\u5b83\u4f1a\u76d1\u6d4b\u4e3b\u8282\u70b9\u662f\u5426\u5b58\u6d3b\uff0c\u5982\u679c\u53d1\u73b0\u4e3b\u8282\u70b9\u6302\u4e86\uff0c\u5b83\u5c31\u4f1a\u9009\u4e3e\u4e00\u4e2a\u4ece\u8282\u70b9\u5207\u6362\u4e3a\u4e3b\u8282\u70b9\uff0c\u5e76\u4e14\u628a\u65b0\u4e3b\u8282\u70b9\u7684\u76f8\u5173\u4fe1\u606f\u901a\u77e5\u7ed9\u4ece\u8282\u70b9\u548c\u5ba2\u6237\u7aef\u3002"),(0,l.kt)("p",null,"\u54e8\u5175\u4e00\u822c\u662f\u4ee5\u96c6\u7fa4\u7684\u65b9\u5f0f\u90e8\u7f72\uff0c\u81f3\u5c11\u9700\u8981 3 \u4e2a\u54e8\u5175\u8282\u70b9\uff0c\u54e8\u5175\u96c6\u7fa4\u4e3b\u8981\u8d1f\u8d23\u4e09\u4ef6\u4e8b\u60c5\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u76d1\u63a7\u3001\u9009\u4e3b\u3001\u901a\u77e5"),"\u3002"),(0,l.kt)("p",null,"\u54e8\u5175\u8282\u70b9\u901a\u8fc7 Redis \u7684\u53d1\u5e03\u8005/\u8ba2\u9605\u8005\u673a\u5236\uff0c\u54e8\u5175\u4e4b\u95f4\u53ef\u4ee5\u76f8\u4e92\u611f\u77e5\uff0c\u76f8\u4e92\u8fde\u63a5\uff0c\u7136\u540e\u7ec4\u6210\u54e8\u5175\u96c6\u7fa4\uff0c\u540c\u65f6\u54e8\u5175\u53c8\u901a\u8fc7 INFO \u547d\u4ee4\uff0c\u5728\u4e3b\u8282\u70b9\u91cc\u83b7\u5f97\u4e86\u6240\u6709\u4ece\u8282\u70b9\u8fde\u63a5\u4fe1\u606f\uff0c\u4e8e\u662f\u5c31\u80fd\u548c\u4ece\u8282\u70b9\u5efa\u7acb\u8fde\u63a5\uff0c\u5e76\u8fdb\u884c\u76d1\u63a7\u4e86\u3002"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"1\u3001\u7b2c\u4e00\u8f6e\u6295\u7968\uff1a\u5224\u65ad\u4e3b\u8282\u70b9\u4e0b\u7ebf")),(0,l.kt)("p",null,"\u5f53\u54e8\u5175\u96c6\u7fa4\u4e2d\u7684\u67d0\u4e2a\u54e8\u5175\u5224\u5b9a\u4e3b\u8282\u70b9\u4e0b\u7ebf\uff08\u4e3b\u89c2\u4e0b\u7ebf\uff09\u540e\uff0c\u5c31\u4f1a\u5411\u5176\u4ed6\u54e8\u5175\u53d1\u8d77\u547d\u4ee4\uff0c\u5176\u4ed6\u54e8\u5175\u6536\u5230\u8fd9\u4e2a\u547d\u4ee4\u540e\uff0c\u5c31\u4f1a\u6839\u636e\u81ea\u8eab\u548c\u4e3b\u8282\u70b9\u7684\u7f51\u7edc\u72b6\u51b5\uff0c\u505a\u51fa\u8d5e\u6210\u6295\u7968\u6216\u8005\u62d2\u7edd\u6295\u7968\u7684\u54cd\u5e94\u3002"),(0,l.kt)("p",null,"\u5f53\u8fd9\u4e2a\u54e8\u5175\u7684\u8d5e\u540c\u7968\u6570\u8fbe\u5230\u54e8\u5175\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 quorum \u914d\u7f6e\u9879\u8bbe\u5b9a\u7684\u503c\u540e\uff0c\u8fd9\u65f6\u4e3b\u8282\u70b9\u5c31\u4f1a\u88ab\u8be5\u54e8\u5175\u6807\u8bb0\u4e3a\u300c\u5ba2\u89c2\u4e0b\u7ebf\u300d\u3002"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"2\u3001\u7b2c\u4e8c\u8f6e\u6295\u7968\uff1a\u9009\u51fa\u54e8\u5175leader")),(0,l.kt)("p",null,"\u67d0\u4e2a\u54e8\u5175\u5224\u5b9a\u4e3b\u8282\u70b9\u5ba2\u89c2\u4e0b\u7ebf\u540e\uff0c\u8be5\u54e8\u5175\u5c31\u4f1a\u53d1\u8d77\u6295\u7968\uff0c\u544a\u8bc9\u5176\u4ed6\u54e8\u5175\uff0c\u5b83\u60f3\u6210\u4e3a leader\uff0c\u60f3\u6210\u4e3a leader \u7684\u54e8\u5175\u8282\u70b9\uff0c\u8981\u6ee1\u8db3\u4e24\u4e2a\u6761\u4ef6\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\uff0c\u62ff\u5230\u534a\u6570\u4ee5\u4e0a\u7684\u8d5e\u6210\u7968\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\uff0c\u62ff\u5230\u7684\u7968\u6570\u540c\u65f6\u8fd8\u9700\u8981\u5927\u4e8e\u7b49\u4e8e\u54e8\u5175\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 quorum \u503c\u3002")),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"3\u3001\u7531\u54e8\u5175 leader \u8fdb\u884c\u4e3b\u4ece\u6545\u969c\u8f6c\u79fb")),(0,l.kt)("p",null,"\u9009\u4e3e\u51fa\u4e86\u54e8\u5175 leader \u540e\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884c\u4e3b\u4ece\u6545\u969c\u8f6c\u79fb\u7684\u8fc7\u7a0b\u4e86\u3002\u8be5\u64cd\u4f5c\u5305\u542b\u4ee5\u4e0b\u56db\u4e2a\u6b65\u9aa4\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u6b65\uff1a\u5728\u5df2\u4e0b\u7ebf\u4e3b\u8282\u70b9\uff08\u65e7\u4e3b\u8282\u70b9\uff09\u5c5e\u4e0b\u7684\u6240\u6709\u300c\u4ece\u8282\u70b9\u300d\u91cc\u9762\uff0c\u6311\u9009\u51fa\u4e00\u4e2a\u4ece\u8282\u70b9\uff0c\u5e76\u5c06\u5176\u8f6c\u6362\u4e3a\u4e3b\u8282\u70b9\uff0c\u9009\u62e9\u7684\u89c4\u5219\uff1a",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u8fc7\u6ee4\u6389\u5df2\u7ecf\u79bb\u7ebf\u7684\u4ece\u8282\u70b9\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u8fc7\u6ee4\u6389\u5386\u53f2\u7f51\u7edc\u8fde\u63a5\u72b6\u6001\u4e0d\u597d\u7684\u4ece\u8282\u70b9\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5c06\u5269\u4e0b\u7684\u4ece\u8282\u70b9\uff0c\u8fdb\u884c\u4e09\u8f6e\u8003\u5bdf\uff1a\u4f18\u5148\u7ea7\u3001\u590d\u5236\u8fdb\u5ea6\u3001ID \u53f7\u3002\u5728\u6bcf\u4e00\u8f6e\u8003\u5bdf\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u627e\u5230\u4e86\u4e00\u4e2a\u80dc\u51fa\u7684\u4ece\u8282\u70b9\uff0c\u5c31\u5c06\u5176\u4f5c\u4e3a\u65b0\u4e3b\u8282\u70b9\u3002"))),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u6b65\uff1a\u8ba9\u5df2\u4e0b\u7ebf\u4e3b\u8282\u70b9\u5c5e\u4e0b\u7684\u6240\u6709\u300c\u4ece\u8282\u70b9\u300d\u4fee\u6539\u590d\u5236\u76ee\u6807\uff0c\u4fee\u6539\u4e3a\u590d\u5236\u300c\u65b0\u4e3b\u8282\u70b9\u300d\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e09\u6b65\uff1a\u5c06\u65b0\u4e3b\u8282\u70b9\u7684 IP \u5730\u5740\u548c\u4fe1\u606f\uff0c\u901a\u8fc7\u300c\u53d1\u5e03\u8005/\u8ba2\u9605\u8005\u673a\u5236\u300d\u901a\u77e5\u7ed9\u5ba2\u6237\u7aef\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u56db\u6b65\uff1a\u7ee7\u7eed\u76d1\u89c6\u65e7\u4e3b\u8282\u70b9\uff0c\u5f53\u8fd9\u4e2a\u65e7\u4e3b\u8282\u70b9\u91cd\u65b0\u4e0a\u7ebf\u65f6\uff0c\u5c06\u5b83\u8bbe\u7f6e\u4e3a\u65b0\u4e3b\u8282\u70b9\u7684\u4ece\u8282\u70b9\uff1b")),(0,l.kt)("h3",{id:"cluster\u96c6\u7fa4\u7684\u539f\u7406\u4f60\u80fd\u8bb2\u4e00\u4e0b\u5417"},"Cluster\uff08\u96c6\u7fa4\uff09\u7684\u539f\u7406\u4f60\u80fd\u8bb2\u4e00\u4e0b\u5417\uff1f"),(0,l.kt)("p",null,"\u54e8\u5175\u6a21\u5f0f\u89e3\u51b3\u4e86\u4e3b\u4ece\u590d\u5236\u4e0d\u80fd\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u3001\u8fbe\u4e0d\u5230\u9ad8\u53ef\u7528\u7684\u95ee\u9898\uff0c\u4f46\u8fd8\u662f\u5b58\u5728\u4e3b\u8282\u70b9\u7684\u5199\u80fd\u529b\u3001\u5bb9\u91cf\u53d7\u9650\u4e8e\u5355\u673a\u914d\u7f6e\u7684\u95ee\u9898\u3002\u800ccluster\u6a21\u5f0f\u5b9e\u73b0\u4e86Redis\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\uff0c\u6bcf\u4e2a\u8282\u70b9\u5b58\u50a8\u4e0d\u540c\u7684\u5185\u5bb9\uff0c\u89e3\u51b3\u4e3b\u8282\u70b9\u7684\u5199\u80fd\u529b\u3001\u5bb9\u91cf\u53d7\u9650\u4e8e\u5355\u673a\u914d\u7f6e\u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,"Redis cluster\u96c6\u7fa4\u8282\u70b9\u6700\u5c0f\u914d\u7f6e6\u4e2a\u8282\u70b9\u4ee5\u4e0a\uff083\u4e3b3\u4ece\uff09\uff0c\u5176\u4e2d\u4e3b\u8282\u70b9\u63d0\u4f9b\u8bfb\u5199\u64cd\u4f5c\uff0c\u4ece\u8282\u70b9\u4f5c\u4e3a\u5907\u7528\u8282\u70b9\uff0c\u4e0d\u63d0\u4f9b\u8bf7\u6c42\uff0c\u53ea\u4f5c\u4e3a\u6545\u969c\u8f6c\u79fb\u4f7f\u7528\u3002"),(0,l.kt)("p",null,"Redis cluster\u91c7\u7528",(0,l.kt)("strong",{parentName:"p"},"\u865a\u62df\u69fd\u5206\u533a"),"\uff0c\u6240\u6709\u7684\u952e\u6839\u636e\u54c8\u5e0c\u51fd\u6570\u6620\u5c04\u52300\uff5e16383\u4e2a\u6574\u6570\u69fd\u5185\uff0c\u6bcf\u4e2a\u8282\u70b9\u8d1f\u8d23\u7ef4\u62a4\u4e00\u90e8\u5206\u69fd\u4ee5\u53ca\u69fd\u6240\u6620\u5c04\u7684\u952e\u503c\u6570\u636e\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(36179).Z,width:"381",height:"321"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5de5\u4f5c\u539f\u7406\uff1a")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u901a\u8fc7\u54c8\u5e0c\u7684\u65b9\u5f0f\uff0c\u5c06\u6570\u636e\u5206\u7247\uff0c\u6bcf\u4e2a\u8282\u70b9\u5747\u5206\u5b58\u50a8\u4e00\u5b9a\u54c8\u5e0c\u69fd(\u54c8\u5e0c\u503c)\u533a\u95f4\u7684\u6570\u636e\uff0c\u9ed8\u8ba4\u5206\u914d\u4e8616384 \u4e2a\u69fd\u4f4d"),(0,l.kt)("li",{parentName:"ol"},"\u6bcf\u4efd\u6570\u636e\u5206\u7247\u4f1a\u5b58\u50a8\u5728\u591a\u4e2a\u4e92\u4e3a\u4e3b\u4ece\u7684\u591a\u8282\u70b9\u4e0a"),(0,l.kt)("li",{parentName:"ol"},"\u6570\u636e\u5199\u5165\u5148\u5199\u4e3b\u8282\u70b9\uff0c\u518d\u540c\u6b65\u5230\u4ece\u8282\u70b9(\u652f\u6301\u914d\u7f6e\u4e3a\u963b\u585e\u540c\u6b65)"),(0,l.kt)("li",{parentName:"ol"},"\u540c\u4e00\u5206\u7247\u591a\u4e2a\u8282\u70b9\u95f4\u7684\u6570\u636e\u4e0d\u4fdd\u6301\u4e00\u81f4\u6027"),(0,l.kt)("li",{parentName:"ol"},"\u8bfb\u53d6\u6570\u636e\u65f6\uff0c\u5f53\u5ba2\u6237\u7aef\u64cd\u4f5c\u7684key\u6ca1\u6709\u5206\u914d\u5728\u8be5\u8282\u70b9\u4e0a\u65f6\uff0credis\u4f1a\u8fd4\u56de\u8f6c\u5411\u6307\u4ee4\uff0c\u6307\u5411\u6b63\u786e\u7684\u8282\u70b9"),(0,l.kt)("li",{parentName:"ol"},"\u6269\u5bb9\u65f6\u65f6\u9700\u8981\u9700\u8981\u628a\u65e7\u8282\u70b9\u7684\u6570\u636e\u8fc1\u79fb\u4e00\u90e8\u5206\u5230\u65b0\u8282\u70b9")),(0,l.kt)("p",null,"\u5728 redis cluster \u67b6\u6784\u4e0b\uff0c\u6bcf\u4e2a redis \u8981\u653e\u5f00\u4e24\u4e2a\u7aef\u53e3\u53f7\uff0c\u6bd4\u5982\u4e00\u4e2a\u662f 6379\uff0c\u53e6\u5916\u4e00\u4e2a\u5c31\u662f \u52a01w \u7684\u7aef\u53e3\u53f7\uff0c\u6bd4\u5982 16379\u3002"),(0,l.kt)("p",null,"16379 \u7aef\u53e3\u53f7\u662f\u7528\u6765\u8fdb\u884c\u8282\u70b9\u95f4\u901a\u4fe1\u7684\uff0c\u4e5f\u5c31\u662f cluster bus \u7684\u4e1c\u897f\uff0ccluster bus \u7684\u901a\u4fe1\uff0c\u7528\u6765\u8fdb\u884c\u6545\u969c\u68c0\u6d4b\u3001\u914d\u7f6e\u66f4\u65b0\u3001\u6545\u969c\u8f6c\u79fb\u6388\u6743\u3002cluster bus \u7528\u4e86\u53e6\u5916\u4e00\u79cd\u4e8c\u8fdb\u5236\u7684\u534f\u8bae\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"gossip")," \u534f\u8bae\uff0c\u7528\u4e8e\u8282\u70b9\u95f4\u8fdb\u884c\u9ad8\u6548\u7684\u6570\u636e\u4ea4\u6362\uff0c\u5360\u7528\u66f4\u5c11\u7684\u7f51\u7edc\u5e26\u5bbd\u548c\u5904\u7406\u65f6\u95f4\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4f18\u70b9\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u65e0\u4e2d\u5fc3\u67b6\u6784\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u652f\u6301\u52a8\u6001\u6269"),"\u5bb9\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u6570\u636e\u6309\u7167 ",(0,l.kt)("inlineCode",{parentName:"li"},"slot"),"\u5b58\u50a8\u5206\u5e03\u5728\u591a\u4e2a\u8282\u70b9\uff0c\u8282\u70b9\u95f4\u6570\u636e\u5171\u4eab\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u53ef\u52a8\u6001\u8c03\u6574\u6570\u636e\u5206\u5e03"),"\uff1b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u9ad8\u53ef\u7528\u6027"),"\u3002\u90e8\u5206\u8282\u70b9\u4e0d\u53ef\u7528\u65f6\uff0c\u96c6\u7fa4\u4ecd\u53ef\u7528\u3002\u96c6\u7fa4\u6a21\u5f0f\u80fd\u591f\u5b9e\u73b0\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff08failover\uff09\uff0c\u8282\u70b9\u4e4b\u95f4\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"li"},"gossip"),"\u534f\u8bae\u4ea4\u6362\u72b6\u6001\u4fe1\u606f\uff0c\u7528\u6295\u7968\u673a\u5236\u5b8c\u6210 ",(0,l.kt)("inlineCode",{parentName:"li"},"Slave"),"\u5230 ",(0,l.kt)("inlineCode",{parentName:"li"},"Master"),"\u7684\u89d2\u8272\u8f6c\u6362\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7f3a\u70b9\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e0d\u652f\u6301\u6279\u91cf\u64cd\u4f5c"),"\uff08pipeline\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6570\u636e\u901a\u8fc7\u5f02\u6b65\u590d\u5236\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u4e0d\u4fdd\u8bc1\u6570\u636e\u7684\u5f3a\u4e00\u81f4\u6027"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e8b\u52a1\u64cd\u4f5c\u652f\u6301\u6709\u9650"),"\uff0c\u53ea\u652f\u6301\u591a ",(0,l.kt)("inlineCode",{parentName:"li"},"key"),"\u5728\u540c\u4e00\u8282\u70b9\u4e0a\u7684\u4e8b\u52a1\u64cd\u4f5c\uff0c\u5f53\u591a\u4e2a ",(0,l.kt)("inlineCode",{parentName:"li"},"key"),"\u5206\u5e03\u4e8e\u4e0d\u540c\u7684\u8282\u70b9\u4e0a\u65f6\u65e0\u6cd5\u4f7f\u7528\u4e8b\u52a1\u529f\u80fd\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"key"),"\u4f5c\u4e3a\u6570\u636e\u5206\u533a\u7684\u6700\u5c0f\u7c92\u5ea6\uff0c\u4e0d\u80fd\u5c06\u4e00\u4e2a\u5f88\u5927\u7684\u952e\u503c\u5bf9\u8c61\u5982 ",(0,l.kt)("inlineCode",{parentName:"li"},"hash"),"\u3001",(0,l.kt)("inlineCode",{parentName:"li"},"list"),"\u7b49\u6620\u5c04\u5230\u4e0d\u540c\u7684\u8282\u70b9\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e0d\u652f\u6301\u591a\u6570\u636e\u5e93\u7a7a\u95f4"),"\uff0c\u5355\u673a\u4e0b\u7684Redis\u53ef\u4ee5\u652f\u6301\u523016\u4e2a\u6570\u636e\u5e93\uff0c\u96c6\u7fa4\u6a21\u5f0f\u4e0b\u53ea\u80fd\u4f7f\u75281\u4e2a\u6570\u636e\u5e93\u7a7a\u95f4\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u53ea\u80fd\u4f7f\u75280\u53f7\u6570\u636e\u5e93\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u54c8\u5e0c\u5206\u533a\u7b97\u6cd5\u6709\u54ea\u4e9b\uff1f")),(0,l.kt)("p",null,"\u8282\u70b9\u53d6\u4f59\u5206\u533a\u3002\u4f7f\u7528\u7279\u5b9a\u7684\u6570\u636e\uff0c\u5982Redis\u7684\u952e\u6216\u7528\u6237ID\uff0c\u5bf9\u8282\u70b9\u6570\u91cfN\u53d6\u4f59\uff1ahash\uff08key\uff09%N\u8ba1\u7b97\u51fa\u54c8\u5e0c\u503c\uff0c\u7528\u6765\u51b3\u5b9a\u6570\u636e\u6620\u5c04\u5230\u54ea\u4e00\u4e2a\u8282\u70b9\u4e0a\u3002 \u4f18\u70b9\u662f\u7b80\u5355\u6027\u3002\u6269\u5bb9\u65f6\u901a\u5e38\u91c7\u7528\u7ffb\u500d\u6269\u5bb9\uff0c\u907f\u514d\u6570\u636e\u6620\u5c04\u5168\u90e8\u88ab\u6253\u4e71\u5bfc\u81f4\u5168\u91cf\u8fc1\u79fb\u7684\u60c5\u51b5\u3002"),(0,l.kt)("p",null,"\u4e00\u81f4\u6027\u54c8\u5e0c\u5206\u533a\u3002\u4e3a\u7cfb\u7edf\u4e2d\u6bcf\u4e2a\u8282\u70b9\u5206\u914d\u4e00\u4e2atoken\uff0c\u8303\u56f4\u4e00\u822c\u57280~232\uff0c\u8fd9\u4e9btoken\u6784\u6210\u4e00\u4e2a\u54c8\u5e0c\u73af\u3002\u6570\u636e\u8bfb\u5199\u6267\u884c\u8282\u70b9\u67e5\u627e\u64cd\u4f5c\u65f6\uff0c\u5148\u6839\u636ekey\u8ba1\u7b97hash\u503c\uff0c\u7136\u540e\u987a\u65f6\u9488\u627e\u5230\u7b2c\u4e00\u4e2a\u5927\u4e8e\u7b49\u4e8e\u8be5\u54c8\u5e0c\u503c\u7684token\u8282\u70b9\u3002 \u8fd9\u79cd\u65b9\u5f0f\u76f8\u6bd4\u8282\u70b9\u53d6\u4f59\u6700\u5927\u7684\u597d\u5904\u5728\u4e8e\u52a0\u5165\u548c\u5220\u9664\u8282\u70b9\u53ea\u5f71\u54cd\u54c8\u5e0c\u73af\u4e2d\u76f8\u90bb\u7684\u8282\u70b9\uff0c\u5bf9\u5176\u4ed6\u8282\u70b9\u65e0\u5f71\u54cd\u3002"),(0,l.kt)("p",null,"\u865a\u62df\u69fd\u5206\u533a\uff0c\u6240\u6709\u7684\u952e\u6839\u636e\u54c8\u5e0c\u51fd\u6570\u6620\u5c04\u52300~16383\u6574\u6570\u69fd\u5185\uff0c\u8ba1\u7b97\u516c\u5f0f\uff1aslot=CRC16\uff08key\uff09&16383\u3002\u6bcf\u4e00\u4e2a\u8282\u70b9\u8d1f\u8d23\u7ef4\u62a4\u4e00\u90e8\u5206\u69fd\u4ee5\u53ca\u69fd\u6240\u6620\u5c04\u7684\u952e\u503c\u6570\u636e\u3002",(0,l.kt)("strong",{parentName:"p"},"Redis Cluser\u91c7\u7528\u865a\u62df\u69fd\u5206\u533a\u7b97\u6cd5\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8be6\u7ec6\u8bf4\u660e")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u81ea\u52a8\u5c06\u6570\u636e\u8fdb\u884c\u5206\u7247\uff0c\u6bcf\u4e2a master \u4e0a\u653e\u4e00\u90e8\u5206\u6570\u636e"),(0,l.kt)("li",{parentName:"ul"},"\u63d0\u4f9b\u5185\u7f6e\u7684\u9ad8\u53ef\u7528\u652f\u6301\uff0c\u90e8\u5206 master \u4e0d\u53ef\u7528\u65f6\uff0c\u8fd8\u662f\u53ef\u4ee5\u7ee7\u7eed\u5de5\u4f5c\u7684")),(0,l.kt)("p",null,"\u5728 Redis cluster \u67b6\u6784\u4e0b\uff0c\u6bcf\u4e2a Redis \u8981\u653e\u5f00\u4e24\u4e2a\u7aef\u53e3\u53f7\uff0c\u6bd4\u5982\u4e00\u4e2a\u662f 6379\uff0c\u53e6\u5916\u4e00\u4e2a\u5c31\u662f \u52a0 1w \u7684\u7aef\u53e3\u53f7\uff0c\u6bd4\u5982 16379\u3002"),(0,l.kt)("p",null,"16379 \u7aef\u53e3\u53f7\u662f\u7528\u6765\u8fdb\u884c\u8282\u70b9\u95f4\u901a\u4fe1\u7684\uff0c\u4e5f\u5c31\u662f cluster bus \u7684\u4e1c\u897f\uff0ccluster bus \u7684\u901a\u4fe1\uff0c\u7528\u6765\u8fdb\u884c\u6545\u969c\u68c0\u6d4b\u3001\u914d\u7f6e\u66f4\u65b0\u3001\u6545\u969c\u8f6c\u79fb\u6388\u6743\u3002cluster bus \u7528\u4e86\u53e6\u5916\u4e00\u79cd\u4e8c\u8fdb\u5236\u7684\u534f\u8bae\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"gossip")," \u534f\u8bae\uff0c\u7528\u4e8e\u8282\u70b9\u95f4\u8fdb\u884c\u9ad8\u6548\u7684\u6570\u636e\u4ea4\u6362\uff0c\u5360\u7528\u66f4\u5c11\u7684\u7f51\u7edc\u5e26\u5bbd\u548c\u5904\u7406\u65f6\u95f4\u3002"),(0,l.kt)("h4",{id:"\u8282\u70b9\u95f4\u7684\u5185\u90e8\u901a\u4fe1\u673a\u5236"},"\u8282\u70b9\u95f4\u7684\u5185\u90e8\u901a\u4fe1\u673a\u5236"),(0,l.kt)("h5",{id:"\u57fa\u672c\u901a\u4fe1\u539f\u7406"},"\u57fa\u672c\u901a\u4fe1\u539f\u7406"),(0,l.kt)("p",null,"\u96c6\u7fa4\u5143\u6570\u636e\u7684\u7ef4\u62a4\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\u96c6\u4e2d\u5f0f\u3001Gossip \u534f\u8bae\u3002Redis cluster \u8282\u70b9\u95f4\u91c7\u7528 gossip \u534f\u8bae\u8fdb\u884c\u901a\u4fe1\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u96c6\u4e2d\u5f0f"),"\u662f\u5c06\u96c6\u7fa4\u5143\u6570\u636e\uff08\u8282\u70b9\u4fe1\u606f\u3001\u6545\u969c\u7b49\u7b49\uff09\u96c6\u4e2d\u5b58\u50a8\u5728\u67d0\u4e2a\u8282\u70b9\u4e0a\u3002\u96c6\u4e2d\u5f0f\u5143\u6570\u636e\u96c6\u4e2d\u5b58\u50a8\u7684\u4e00\u4e2a\u5178\u578b\u4ee3\u8868\uff0c\u5c31\u662f\u5927\u6570\u636e\u9886\u57df\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"storm")," \u3002\u5b83\u662f\u5206\u5e03\u5f0f\u7684\u5927\u6570\u636e\u5b9e\u65f6\u8ba1\u7b97\u5f15\u64ce\uff0c\u662f\u96c6\u4e2d\u5f0f\u7684\u5143\u6570\u636e\u5b58\u50a8\u7684\u7ed3\u6784\uff0c\u5e95\u5c42\u57fa\u4e8e zookeeper\uff08\u5206\u5e03\u5f0f\u534f\u8c03\u7684\u4e2d\u95f4\u4ef6\uff09\u5bf9\u6240\u6709\u5143\u6570\u636e\u8fdb\u884c\u5b58\u50a8\u7ef4\u62a4\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715143320253",src:n(83055).Z,width:"503",height:"256"})),(0,l.kt)("p",null,"Redis \u7ef4\u62a4\u96c6\u7fa4\u5143\u6570\u636e\u91c7\u7528\u53e6\u4e00\u4e2a\u65b9\u5f0f\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"gossip")," \u534f\u8bae\uff0c\u6240\u6709\u8282\u70b9\u90fd\u6301\u6709\u4e00\u4efd\u5143\u6570\u636e\uff0c\u4e0d\u540c\u7684\u8282\u70b9\u5982\u679c\u51fa\u73b0\u4e86\u5143\u6570\u636e\u7684\u53d8\u66f4\uff0c\u5c31\u4e0d\u65ad\u5c06\u5143\u6570\u636e\u53d1\u9001\u7ed9\u5176\u5b83\u7684\u8282\u70b9\uff0c\u8ba9\u5176\u5b83\u8282\u70b9\u4e5f\u8fdb\u884c\u5143\u6570\u636e\u7684\u53d8\u66f4\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715143327361",src:n(28086).Z,width:"453",height:"332"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u96c6\u4e2d\u5f0f"),"\u7684",(0,l.kt)("strong",{parentName:"p"},"\u597d\u5904"),"\u5728\u4e8e\uff0c\u5143\u6570\u636e\u7684\u8bfb\u53d6\u548c\u66f4\u65b0\uff0c\u65f6\u6548\u6027\u975e\u5e38\u597d\uff0c\u4e00\u65e6\u5143\u6570\u636e\u51fa\u73b0\u4e86\u53d8\u66f4\uff0c\u5c31\u7acb\u5373\u66f4\u65b0\u5230\u96c6\u4e2d\u5f0f\u7684\u5b58\u50a8\u4e2d\uff0c\u5176\u5b83\u8282\u70b9\u8bfb\u53d6\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u611f\u77e5\u5230\uff1b",(0,l.kt)("strong",{parentName:"p"},"\u4e0d\u597d"),"\u5728\u4e8e\uff0c\u6240\u6709\u7684\u5143\u6570\u636e\u7684\u66f4\u65b0\u538b\u529b\u5168\u90e8\u96c6\u4e2d\u5728\u4e00\u4e2a\u5730\u65b9\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5143\u6570\u636e\u7684\u5b58\u50a8\u6709\u538b\u529b\u3002"),(0,l.kt)("p",null,"gossip \u597d\u5904\u5728\u4e8e\uff0c\u5143\u6570\u636e\u7684\u66f4\u65b0\u6bd4\u8f83\u5206\u6563\uff0c\u4e0d\u662f\u96c6\u4e2d\u5728\u4e00\u4e2a\u5730\u65b9\uff0c\u66f4\u65b0\u8bf7\u6c42\u4f1a\u9646\u9646\u7eed\u7eed\u6253\u5230\u6240\u6709\u8282\u70b9\u4e0a\u53bb\u66f4\u65b0\uff0c\u964d\u4f4e\u4e86\u538b\u529b\uff1b\u4e0d\u597d\u5728\u4e8e\uff0c\u5143\u6570\u636e\u7684\u66f4\u65b0\u6709\u5ef6\u65f6\uff0c\u53ef\u80fd\u5bfc\u81f4\u96c6\u7fa4\u4e2d\u7684\u4e00\u4e9b\u64cd\u4f5c\u4f1a\u6709\u4e00\u4e9b\u6ede\u540e\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"10000 \u7aef\u53e3\uff1a\u6bcf\u4e2a\u8282\u70b9\u90fd\u6709\u4e00\u4e2a\u4e13\u95e8\u7528\u4e8e\u8282\u70b9\u95f4\u901a\u4fe1\u7684\u7aef\u53e3\uff0c\u5c31\u662f\u81ea\u5df1\u63d0\u4f9b\u670d\u52a1\u7684\u7aef\u53e3\u53f7+10000\uff0c\u6bd4\u5982 7001\uff0c\u90a3\u4e48\u7528\u4e8e\u8282\u70b9\u95f4\u901a\u4fe1\u7684\u5c31\u662f 17001 \u7aef\u53e3\u3002\u6bcf\u4e2a\u8282\u70b9\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u90fd\u4f1a\u5f80\u53e6\u5916\u51e0\u4e2a\u8282\u70b9\u53d1\u9001 ",(0,l.kt)("inlineCode",{parentName:"li"},"ping")," \u6d88\u606f\uff0c\u540c\u65f6\u5176\u5b83\u51e0\u4e2a\u8282\u70b9\u63a5\u6536\u5230 ",(0,l.kt)("inlineCode",{parentName:"li"},"ping")," \u4e4b\u540e\u8fd4\u56de ",(0,l.kt)("inlineCode",{parentName:"li"},"pong")," \u3002"),(0,l.kt)("li",{parentName:"ul"},"\u4ea4\u6362\u7684\u4fe1\u606f\uff1a\u4fe1\u606f\u5305\u62ec\u6545\u969c\u4fe1\u606f\uff0c\u8282\u70b9\u7684\u589e\u52a0\u548c\u5220\u9664\uff0chash slot \u4fe1\u606f\u7b49\u7b49\u3002")),(0,l.kt)("h5",{id:"gossip-\u534f\u8bae"},"gossip \u534f\u8bae"),(0,l.kt)("p",null,"gossip \u534f\u8bae\u5305\u542b\u591a\u79cd\u6d88\u606f\uff0c\u5305\u542b ",(0,l.kt)("inlineCode",{parentName:"p"},"ping")," , ",(0,l.kt)("inlineCode",{parentName:"p"},"pong")," , ",(0,l.kt)("inlineCode",{parentName:"p"},"meet")," , ",(0,l.kt)("inlineCode",{parentName:"p"},"fail")," \u7b49\u7b49\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"meet\uff1a\u67d0\u4e2a\u8282\u70b9\u53d1\u9001 meet \u7ed9\u65b0\u52a0\u5165\u7684\u8282\u70b9\uff0c\u8ba9\u65b0\u8282\u70b9\u52a0\u5165\u96c6\u7fa4\u4e2d\uff0c\u7136\u540e\u65b0\u8282\u70b9\u5c31\u4f1a\u5f00\u59cb\u4e0e\u5176\u5b83\u8282\u70b9\u8fdb\u884c\u901a\u4fe1\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Redis-trib.rb add-node\n")),(0,l.kt)("p",null,"\u5176\u5b9e\u5185\u90e8\u5c31\u662f\u53d1\u9001\u4e86\u4e00\u4e2a gossip meet \u6d88\u606f\u7ed9\u65b0\u52a0\u5165\u7684\u8282\u70b9\uff0c\u901a\u77e5\u90a3\u4e2a\u8282\u70b9\u53bb\u52a0\u5165\u6211\u4eec\u7684\u96c6\u7fa4\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"ping\uff1a\u6bcf\u4e2a\u8282\u70b9\u90fd\u4f1a\u9891\u7e41\u7ed9\u5176\u5b83\u8282\u70b9\u53d1\u9001 ping\uff0c\u5176\u4e2d\u5305\u542b\u81ea\u5df1\u7684\u72b6\u6001\u8fd8\u6709\u81ea\u5df1\u7ef4\u62a4\u7684\u96c6\u7fa4\u5143\u6570\u636e\uff0c\u4e92\u76f8\u901a\u8fc7 ping \u4ea4\u6362\u5143\u6570\u636e\u3002"),(0,l.kt)("li",{parentName:"ul"},"pong\uff1a\u8fd4\u56de ping \u548c meet\uff0c\u5305\u542b\u81ea\u5df1\u7684\u72b6\u6001\u548c\u5176\u5b83\u4fe1\u606f\uff0c\u4e5f\u7528\u4e8e\u4fe1\u606f\u5e7f\u64ad\u548c\u66f4\u65b0\u3002"),(0,l.kt)("li",{parentName:"ul"},"fail\uff1a\u67d0\u4e2a\u8282\u70b9\u5224\u65ad\u53e6\u4e00\u4e2a\u8282\u70b9 fail \u4e4b\u540e\uff0c\u5c31\u53d1\u9001 fail \u7ed9\u5176\u5b83\u8282\u70b9\uff0c\u901a\u77e5\u5176\u5b83\u8282\u70b9\u8bf4\uff0c\u67d0\u4e2a\u8282\u70b9\u5b95\u673a\u5566\u3002")),(0,l.kt)("h5",{id:"ping-\u6d88\u606f\u6df1\u5165"},"ping \u6d88\u606f\u6df1\u5165"),(0,l.kt)("p",null,"ping \u65f6\u8981\u643a\u5e26\u4e00\u4e9b\u5143\u6570\u636e\uff0c\u5982\u679c\u5f88\u9891\u7e41\uff0c\u53ef\u80fd\u4f1a\u52a0\u91cd\u7f51\u7edc\u8d1f\u62c5\u3002"),(0,l.kt)("p",null,"\u6bcf\u4e2a\u8282\u70b9\u6bcf\u79d2\u4f1a\u6267\u884c 10 \u6b21 ping\uff0c\u6bcf\u6b21\u4f1a\u9009\u62e9 5 \u4e2a\u6700\u4e45\u6ca1\u6709\u901a\u4fe1\u7684\u5176\u5b83\u8282\u70b9\u3002\u5f53\u7136\u5982\u679c\u53d1\u73b0\u67d0\u4e2a\u8282\u70b9\u901a\u4fe1\u5ef6\u65f6\u8fbe\u5230\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"cluster_node_timeout / 2")," \uff0c\u90a3\u4e48\u7acb\u5373\u53d1\u9001 ping\uff0c\u907f\u514d\u6570\u636e\u4ea4\u6362\u5ef6\u65f6\u8fc7\u957f\uff0c\u843d\u540e\u7684\u65f6\u95f4\u592a\u957f\u4e86\u3002\u6bd4\u5982\u8bf4\uff0c\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u90fd 10 \u5206\u949f\u6ca1\u6709\u4ea4\u6362\u6570\u636e\u4e86\uff0c\u90a3\u4e48\u6574\u4e2a\u96c6\u7fa4\u5904\u4e8e\u4e25\u91cd\u7684\u5143\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\uff0c\u5c31\u4f1a\u6709\u95ee\u9898\u3002\u6240\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"p"},"cluster_node_timeout")," \u53ef\u4ee5\u8c03\u8282\uff0c\u5982\u679c\u8c03\u5f97\u6bd4\u8f83\u5927\uff0c\u90a3\u4e48\u4f1a\u964d\u4f4e ping \u7684\u9891\u7387\u3002"),(0,l.kt)("p",null,"\u6bcf\u6b21 ping\uff0c\u4f1a\u5e26\u4e0a\u81ea\u5df1\u8282\u70b9\u7684\u4fe1\u606f\uff0c\u8fd8\u6709\u5c31\u662f\u5e26\u4e0a 1/10 \u5176\u5b83\u8282\u70b9\u7684\u4fe1\u606f\uff0c\u53d1\u9001\u51fa\u53bb\uff0c\u8fdb\u884c\u4ea4\u6362\u3002\u81f3\u5c11\u5305\u542b ",(0,l.kt)("inlineCode",{parentName:"p"},"3")," \u4e2a\u5176\u5b83\u8282\u70b9\u7684\u4fe1\u606f\uff0c\u6700\u591a\u5305\u542b ",(0,l.kt)("inlineCode",{parentName:"p"},"\u603b\u8282\u70b9\u6570\u51cf 2")," \u4e2a\u5176\u5b83\u8282\u70b9\u7684\u4fe1\u606f\u3002"),(0,l.kt)("h4",{id:"\u5206\u5e03\u5f0f\u5bfb\u5740\u7b97\u6cd5"},"\u5206\u5e03\u5f0f\u5bfb\u5740\u7b97\u6cd5"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"hash \u7b97\u6cd5\uff08\u5927\u91cf\u7f13\u5b58\u91cd\u5efa\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u4e00\u81f4\u6027 hash \u7b97\u6cd5\uff08\u81ea\u52a8\u7f13\u5b58\u8fc1\u79fb\uff09+ \u865a\u62df\u8282\u70b9\uff08\u81ea\u52a8\u8d1f\u8f7d\u5747\u8861\uff09"),(0,l.kt)("li",{parentName:"ul"},"Redis cluster \u7684 hash slot \u7b97\u6cd5")),(0,l.kt)("h5",{id:"hash-\u7b97\u6cd5"},"hash \u7b97\u6cd5"),(0,l.kt)("p",null,"\u6765\u4e86\u4e00\u4e2a key\uff0c\u9996\u5148\u8ba1\u7b97 hash \u503c\uff0c\u7136\u540e\u5bf9\u8282\u70b9\u6570\u53d6\u6a21\u3002\u7136\u540e\u6253\u5728\u4e0d\u540c\u7684 master \u8282\u70b9\u4e0a\u3002\u4e00\u65e6\u67d0\u4e00\u4e2a master \u8282\u70b9\u5b95\u673a\uff0c\u6240\u6709\u8bf7\u6c42\u8fc7\u6765\uff0c\u90fd\u4f1a\u57fa\u4e8e\u6700\u65b0\u7684\u5269\u4f59 master \u8282\u70b9\u6570\u53bb\u53d6\u6a21\uff0c\u5c1d\u8bd5\u53bb\u53d6\u6570\u636e\u3002\u8fd9\u4f1a\u5bfc\u81f4",(0,l.kt)("strong",{parentName:"p"},"\u5927\u90e8\u5206\u7684\u8bf7\u6c42\u8fc7\u6765\uff0c\u5168\u90e8\u65e0\u6cd5\u62ff\u5230\u6709\u6548\u7684\u7f13\u5b58"),"\uff0c\u5bfc\u81f4\u5927\u91cf\u7684\u6d41\u91cf\u6d8c\u5165\u6570\u636e\u5e93\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715143507698",src:n(39870).Z,width:"456",height:"316"})),(0,l.kt)("h5",{id:"\u4e00\u81f4\u6027-hash-\u7b97\u6cd5"},"\u4e00\u81f4\u6027 hash \u7b97\u6cd5"),(0,l.kt)("p",null,"\u4e00\u81f4\u6027 hash \u7b97\u6cd5\u5c06\u6574\u4e2a hash \u503c\u7a7a\u95f4\u7ec4\u7ec7\u6210\u4e00\u4e2a\u865a\u62df\u7684\u5706\u73af\uff0c\u6574\u4e2a\u7a7a\u95f4\u6309\u987a\u65f6\u9488\u65b9\u5411\u7ec4\u7ec7\uff0c\u4e0b\u4e00\u6b65\u5c06\u5404\u4e2a master \u8282\u70b9\uff08\u4f7f\u7528\u670d\u52a1\u5668\u7684 ip \u6216\u4e3b\u673a\u540d\uff09\u8fdb\u884c hash\u3002\u8fd9\u6837\u5c31\u80fd\u786e\u5b9a\u6bcf\u4e2a\u8282\u70b9\u5728\u5176\u54c8\u5e0c\u73af\u4e0a\u7684\u4f4d\u7f6e\u3002"),(0,l.kt)("p",null,"\u6765\u4e86\u4e00\u4e2a key\uff0c\u9996\u5148\u8ba1\u7b97 hash \u503c\uff0c\u5e76\u786e\u5b9a\u6b64\u6570\u636e\u5728\u73af\u4e0a\u7684\u4f4d\u7f6e\uff0c\u4ece\u6b64\u4f4d\u7f6e\u6cbf\u73af",(0,l.kt)("strong",{parentName:"p"},"\u987a\u65f6\u9488\u201c\u884c\u8d70\u201d"),"\uff0c\u9047\u5230\u7684\u7b2c\u4e00\u4e2a master \u8282\u70b9\u5c31\u662f key \u6240\u5728\u4f4d\u7f6e\u3002"),(0,l.kt)("p",null,"\u5728\u4e00\u81f4\u6027\u54c8\u5e0c\u7b97\u6cd5\u4e2d\uff0c\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u6302\u4e86\uff0c\u53d7\u5f71\u54cd\u7684\u6570\u636e\u4ec5\u4ec5\u662f\u6b64\u8282\u70b9\u5230\u73af\u7a7a\u95f4\u524d\u4e00\u4e2a\u8282\u70b9\uff08\u6cbf\u7740\u9006\u65f6\u9488\u65b9\u5411\u884c\u8d70\u9047\u5230\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9\uff09\u4e4b\u95f4\u7684\u6570\u636e\uff0c\u5176\u5b83\u4e0d\u53d7\u5f71\u54cd\u3002\u589e\u52a0\u4e00\u4e2a\u8282\u70b9\u4e5f\u540c\u7406\u3002"),(0,l.kt)("p",null,"\u71c3\u9e45\uff0c\u4e00\u81f4\u6027\u54c8\u5e0c\u7b97\u6cd5\u5728\u8282\u70b9\u592a\u5c11\u65f6\uff0c\u5bb9\u6613\u56e0\u4e3a\u8282\u70b9\u5206\u5e03\u4e0d\u5747\u5300\u800c\u9020\u6210",(0,l.kt)("strong",{parentName:"p"},"\u7f13\u5b58\u70ed\u70b9"),"\u7684\u95ee\u9898\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u79cd\u70ed\u70b9\u95ee\u9898\uff0c\u4e00\u81f4\u6027 hash \u7b97\u6cd5\u5f15\u5165\u4e86\u865a\u62df\u8282\u70b9\u673a\u5236\uff0c\u5373\u5bf9\u6bcf\u4e00\u4e2a\u8282\u70b9\u8ba1\u7b97\u591a\u4e2a hash\uff0c\u6bcf\u4e2a\u8ba1\u7b97\u7ed3\u679c\u4f4d\u7f6e\u90fd\u653e\u7f6e\u4e00\u4e2a\u865a\u62df\u8282\u70b9\u3002\u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86\u6570\u636e\u7684\u5747\u5300\u5206\u5e03\uff0c\u8d1f\u8f7d\u5747\u8861\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715143520445",src:n(78417).Z,width:"741",height:"759"})),(0,l.kt)("h5",{id:"redis-cluster-\u7684-hash-slot-\u7b97\u6cd5"},"Redis cluster \u7684 hash slot \u7b97\u6cd5"),(0,l.kt)("p",null,"Redis cluster \u6709\u56fa\u5b9a\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"16384")," \u4e2a hash slot\uff0c\u5bf9\u6bcf\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"key")," \u8ba1\u7b97 ",(0,l.kt)("inlineCode",{parentName:"p"},"CRC16")," \u503c\uff0c\u7136\u540e\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"p"},"16384")," \u53d6\u6a21\uff0c\u53ef\u4ee5\u83b7\u53d6 key \u5bf9\u5e94\u7684 hash slot\u3002"),(0,l.kt)("p",null,"Redis cluster \u4e2d\u6bcf\u4e2a master \u90fd\u4f1a\u6301\u6709\u90e8\u5206 slot\uff0c\u6bd4\u5982\u6709 3 \u4e2a master\uff0c\u90a3\u4e48\u53ef\u80fd\u6bcf\u4e2a master \u6301\u6709 5000 \u591a\u4e2a  hash slot\u3002hash slot \u8ba9 node \u7684\u589e\u52a0\u548c\u79fb\u9664\u5f88\u7b80\u5355\uff0c\u589e\u52a0\u4e00\u4e2a master\uff0c\u5c31\u5c06\u5176\u4ed6 master \u7684 hash slot \u79fb\u52a8\u90e8\u5206\u8fc7\u53bb\uff0c\u51cf\u5c11\u4e00\u4e2a master\uff0c\u5c31\u5c06\u5b83\u7684 hash slot \u79fb\u52a8\u5230\u5176\u4ed6 master \u4e0a\u53bb\u3002\u79fb\u52a8 hash slot  \u7684\u6210\u672c\u662f\u975e\u5e38\u4f4e\u7684\u3002\u5ba2\u6237\u7aef\u7684 api\uff0c\u53ef\u4ee5\u5bf9\u6307\u5b9a\u7684\u6570\u636e\uff0c\u8ba9\u4ed6\u4eec\u8d70\u540c\u4e00\u4e2a hash slot\uff0c\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"hash tag")," \u6765\u5b9e\u73b0\u3002"),(0,l.kt)("p",null,"\u4efb\u4f55\u4e00\u53f0\u673a\u5668\u5b95\u673a\uff0c\u53e6\u5916\u4e24\u4e2a\u8282\u70b9\uff0c\u4e0d\u5f71\u54cd\u7684\u3002\u56e0\u4e3a key \u627e\u7684\u662f hash slot\uff0c\u4e0d\u662f\u673a\u5668\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715143532988",src:n(46881).Z,width:"721",height:"223"})),(0,l.kt)("h4",{id:"redis-cluster-\u7684\u9ad8\u53ef\u7528\u4e0e\u4e3b\u5907\u5207\u6362\u539f\u7406"},"Redis cluster \u7684\u9ad8\u53ef\u7528\u4e0e\u4e3b\u5907\u5207\u6362\u539f\u7406"),(0,l.kt)("p",null,"Redis cluster \u7684\u9ad8\u53ef\u7528\u7684\u539f\u7406\uff0c\u51e0\u4e4e\u8ddf\u54e8\u5175\u662f\u7c7b\u4f3c\u7684\u3002"),(0,l.kt)("h5",{id:"\u5224\u65ad\u8282\u70b9\u5b95\u673a"},"\u5224\u65ad\u8282\u70b9\u5b95\u673a"),(0,l.kt)("p",null,"\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u8ba4\u4e3a\u53e6\u5916\u4e00\u4e2a\u8282\u70b9\u5b95\u673a\uff0c\u90a3\u4e48\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"pfail")," \uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u89c2\u5b95\u673a"),"\u3002\u5982\u679c\u591a\u4e2a\u8282\u70b9\u90fd\u8ba4\u4e3a\u53e6\u5916\u4e00\u4e2a\u8282\u70b9\u5b95\u673a\u4e86\uff0c\u90a3\u4e48\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"fail")," \uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5ba2\u89c2\u5b95\u673a"),"\uff0c\u8ddf\u54e8\u5175\u7684\u539f\u7406\u51e0\u4e4e\u4e00\u6837\uff0csdown\uff0codown\u3002"),(0,l.kt)("p",null,"\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"cluster-node-timeout")," \u5185\uff0c\u67d0\u4e2a\u8282\u70b9\u4e00\u76f4\u6ca1\u6709\u8fd4\u56de ",(0,l.kt)("inlineCode",{parentName:"p"},"pong")," \uff0c\u90a3\u4e48\u5c31\u88ab\u8ba4\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"pfail")," \u3002"),(0,l.kt)("p",null,"\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u8ba4\u4e3a\u67d0\u4e2a\u8282\u70b9 ",(0,l.kt)("inlineCode",{parentName:"p"},"pfail")," \u4e86\uff0c\u90a3\u4e48\u4f1a\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"gossip ping")," \u6d88\u606f\u4e2d\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"ping")," \u7ed9\u5176\u4ed6\u8282\u70b9\uff0c\u5982\u679c",(0,l.kt)("strong",{parentName:"p"},"\u8d85\u8fc7\u534a\u6570"),"\u7684\u8282\u70b9\u90fd\u8ba4\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"pfail")," \u4e86\uff0c\u90a3\u4e48\u5c31\u4f1a\u53d8\u6210 ",(0,l.kt)("inlineCode",{parentName:"p"},"fail")," \u3002"),(0,l.kt)("h5",{id:"\u4ece\u8282\u70b9\u8fc7\u6ee4"},"\u4ece\u8282\u70b9\u8fc7\u6ee4"),(0,l.kt)("p",null,"\u5bf9\u5b95\u673a\u7684 master node\uff0c\u4ece\u5176\u6240\u6709\u7684 slave node \u4e2d\uff0c\u9009\u62e9\u4e00\u4e2a\u5207\u6362\u6210 master node\u3002"),(0,l.kt)("p",null,"\u68c0\u67e5\u6bcf\u4e2a slave node \u4e0e master node \u65ad\u5f00\u8fde\u63a5\u7684\u65f6\u95f4\uff0c\u5982\u679c\u8d85\u8fc7\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"cluster-node-timeout * cluster-slave-validity-factor")," \uff0c\u90a3\u4e48\u5c31",(0,l.kt)("strong",{parentName:"p"},"\u6ca1\u6709\u8d44\u683c"),"\u5207\u6362\u6210 ",(0,l.kt)("inlineCode",{parentName:"p"},"master")," \u3002"),(0,l.kt)("h5",{id:"\u4ece\u8282\u70b9\u9009\u4e3e"},"\u4ece\u8282\u70b9\u9009\u4e3e"),(0,l.kt)("p",null,"\u6bcf\u4e2a\u4ece\u8282\u70b9\uff0c\u90fd\u6839\u636e\u81ea\u5df1\u5bf9 master \u590d\u5236\u6570\u636e\u7684 offset\uff0c\u6765\u8bbe\u7f6e\u4e00\u4e2a\u9009\u4e3e\u65f6\u95f4\uff0coffset \u8d8a\u5927\uff08\u590d\u5236\u6570\u636e\u8d8a\u591a\uff09\u7684\u4ece\u8282\u70b9\uff0c\u9009\u4e3e\u65f6\u95f4\u8d8a\u9760\u524d\uff0c\u4f18\u5148\u8fdb\u884c\u9009\u4e3e\u3002"),(0,l.kt)("p",null,"\u6240\u6709\u7684 master node \u5f00\u59cb slave \u9009\u4e3e\u6295\u7968\uff0c\u7ed9\u8981\u8fdb\u884c\u9009\u4e3e\u7684 slave \u8fdb\u884c\u6295\u7968\uff0c\u5982\u679c\u5927\u90e8\u5206 master node ",(0,l.kt)("inlineCode",{parentName:"p"},"\uff08N/2 + 1\uff09")," \u90fd\u6295\u7968\u7ed9\u4e86\u67d0\u4e2a\u4ece\u8282\u70b9\uff0c\u90a3\u4e48\u9009\u4e3e\u901a\u8fc7\uff0c\u90a3\u4e2a\u4ece\u8282\u70b9\u53ef\u4ee5\u5207\u6362\u6210 master\u3002"),(0,l.kt)("p",null,"\u4ece\u8282\u70b9\u6267\u884c\u4e3b\u5907\u5207\u6362\uff0c\u4ece\u8282\u70b9\u5207\u6362\u4e3a\u4e3b\u8282\u70b9\u3002"),(0,l.kt)("h5",{id:"\u4e0e\u54e8\u5175\u6bd4\u8f83"},"\u4e0e\u54e8\u5175\u6bd4\u8f83"),(0,l.kt)("p",null,"\u6574\u4e2a\u6d41\u7a0b\u8ddf\u54e8\u5175\u76f8\u6bd4\uff0c\u975e\u5e38\u7c7b\u4f3c\uff0c\u6240\u4ee5\u8bf4\uff0cRedis cluster \u529f\u80fd\u5f3a\u5927\uff0c\u76f4\u63a5\u96c6\u6210\u4e86 replication \u548c sentinel \u7684\u529f\u80fd\u3002"),(0,l.kt)("h3",{id:"mysql-\u548c-redis-\u600e\u4e48\u4fdd\u6301\u6570\u636e\u4e00\u81f4"},"\u2b50MySQL \u548c Redis \u600e\u4e48\u4fdd\u6301\u6570\u636e\u4e00\u81f4?"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u7f13\u5b58\u548c\u6570\u636e\u5e93\u7684\u64cd\u4f5c\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u3002"),(0,l.kt)("h4",{id:"\u5148\u5220\u7f13\u5b58\u518d\u66f4\u65b0\u6570\u636e\u5e93"},"\u5148\u5220\u7f13\u5b58\uff0c\u518d\u66f4\u65b0\u6570\u636e\u5e93"),(0,l.kt)("p",null,"\u4e3e\u4e2a \ud83c\udf30 \u5047\u8bbe\u67d0\u4e2a\u7528\u6237\u7684\u5e74\u9f84\u662f 20\uff0c\u8bf7\u6c42 A \u8981\u66f4\u65b0\u7528\u6237\u5e74\u9f84\u4e3a 21\uff0c\u6240\u4ee5\u5b83\u4f1a\u5220\u9664\u7f13\u5b58\u4e2d\u7684\u5185\u5bb9\u3002\u8fd9\u65f6\uff0c\u53e6\u4e00\u4e2a\u8bf7\u6c42 B  \u8981\u8bfb\u53d6\u8fd9\u4e2a\u7528\u6237\u7684\u5e74\u9f84\uff0c\u5b83\u67e5\u8be2\u7f13\u5b58\u53d1\u73b0\u672a\u547d\u4e2d\u540e\uff0c\u4f1a\u4ece\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6\u5230\u5e74\u9f84\u4e3a 20\uff0c\u5e76\u4e14\u5199\u5165\u5230\u7f13\u5b58\u4e2d\uff0c\u7136\u540e\u8bf7\u6c42 A \u7ee7\u7eed\u66f4\u6539\u6570\u636e\u5e93\uff0c\u5c06\u7528\u6237\u7684\u5e74\u9f84\u66f4\u65b0\u4e3a 21\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715152802050",src:n(70640).Z,width:"903",height:"618"})),(0,l.kt)("p",null,"\u6700\u7ec8\uff0c\u8be5\u7528\u6237\u5e74\u9f84\u5728\u7f13\u5b58\u4e2d\u662f 20\uff08\u65e7\u503c\uff09\uff0c\u5728\u6570\u636e\u5e93\u4e2d\u662f 21\uff08\u65b0\u503c\uff09\uff0c\u7f13\u5b58\u548c\u6570\u636e\u5e93\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u3002"),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5148\u5220\u9664\u7f13\u5b58\uff0c\u518d\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u5728\u300c\u8bfb + \u5199\u300d\u5e76\u53d1\u7684\u65f6\u5019\uff0c\u8fd8\u662f\u4f1a\u51fa\u73b0\u7f13\u5b58\u548c\u6570\u636e\u5e93\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u95ee\u9898"),"\u3002"),(0,l.kt)("h5",{id:"\u89e3\u51b3\u65b9\u6848\u5ef6\u65f6\u53cc\u5220"},"\u89e3\u51b3\u65b9\u6848:\u5ef6\u65f6\u53cc\u5220"),(0,l.kt)("p",null,"\u5ef6\u65f6\u53cc\u5220\u7684\u65b9\u6848\u7684\u601d\u8def\u662f\uff0c\u4e3a\u4e86\u907f\u514d\u66f4\u65b0\u6570\u636e\u5e93\u7684\u65f6\u5019\uff0c\u5176\u4ed6\u7ebf\u7a0b\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\u4e0d\u5230\u6570\u636e\uff0c\u5c31\u5728\u66f4\u65b0\u5b8c\u6570\u636e\u5e93\u4e4b\u540e\uff0c\u518dsleep\u4e00\u6bb5\u65f6\u95f4\uff0c\u7136\u540e\u518d\u6b21\u5220\u9664\u7f13\u5b58\u3002"),(0,l.kt)("p",null,"sleep\u7684\u65f6\u95f4\u8981\u5bf9\u4e1a\u52a1\u8bfb\u5199\u7f13\u5b58\u7684\u65f6\u95f4\u505a\u51fa\u8bc4\u4f30\uff0csleep\u65f6\u95f4\u5927\u4e8e\u8bfb\u5199\u7f13\u5b58\u7684\u65f6\u95f4\u5373\u53ef\u3002"),(0,l.kt)("p",null,"\u6d41\u7a0b\u5982\u4e0b\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u7ebf\u7a0b1\u5220\u9664\u7f13\u5b58\uff0c\u7136\u540e\u53bb\u66f4\u65b0\u6570\u636e\u5e93"),(0,l.kt)("li",{parentName:"ol"},"\u7ebf\u7a0b2\u6765\u8bfb\u7f13\u5b58\uff0c\u53d1\u73b0\u7f13\u5b58\u5df2\u7ecf\u88ab\u5220\u9664\uff0c\u6240\u4ee5\u76f4\u63a5\u4ece\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6\uff0c\u8fd9\u65f6\u5019\u7531\u4e8e\u7ebf\u7a0b1\u8fd8\u6ca1\u6709\u66f4\u65b0\u5b8c\u6210\uff0c\u6240\u4ee5\u8bfb\u5230\u7684\u662f\u65e7\u503c\uff0c\u7136\u540e\u628a\u65e7\u503c\u5199\u5165\u7f13\u5b58"),(0,l.kt)("li",{parentName:"ol"},"\u7ebf\u7a0b1\uff0c\u6839\u636e\u4f30\u7b97\u7684\u65f6\u95f4\uff0csleep\uff0c\u7531\u4e8esleep\u7684\u65f6\u95f4\u5927\u4e8e\u7ebf\u7a0b2\u8bfb\u6570\u636e+\u5199\u7f13\u5b58\u7684\u65f6\u95f4\uff0c\u6240\u4ee5\u7f13\u5b58\u88ab\u518d\u6b21\u5220\u9664"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u8fd8\u6709\u5176\u4ed6\u7ebf\u7a0b\u6765\u8bfb\u53d6\u7f13\u5b58\u7684\u8bdd\uff0c\u5c31\u4f1a\u518d\u6b21\u4ece\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6\u5230\u6700\u65b0\u503c")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715152925965",src:n(46794).Z,width:"951",height:"231"})),(0,l.kt)("h4",{id:"\u5148\u66f4\u65b0\u6570\u636e\u5e93\u518d\u5220\u9664\u7f13\u5b58"},"\u5148\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u518d\u5220\u9664\u7f13\u5b58"),(0,l.kt)("p",null,"\u7ee7\u7eed\u7528\u300c\u8bfb + \u5199\u300d\u8bf7\u6c42\u7684\u5e76\u53d1\u7684\u573a\u666f\u6765\u5206\u6790\u3002"),(0,l.kt)("p",null,"\u5047\u5982\u67d0\u4e2a\u7528\u6237\u6570\u636e\u5728\u7f13\u5b58\u4e2d\u4e0d\u5b58\u5728\uff0c\u8bf7\u6c42 A \u8bfb\u53d6\u6570\u636e\u65f6\u4ece\u6570\u636e\u5e93\u4e2d\u67e5\u8be2\u5230\u5e74\u9f84\u4e3a 20\uff0c\u5728\u672a\u5199\u5165\u7f13\u5b58\u4e2d\u65f6\u53e6\u4e00\u4e2a\u8bf7\u6c42 B \u66f4\u65b0\u6570\u636e\u3002\u5b83\u66f4\u65b0\u6570\u636e\u5e93\u4e2d\u7684\u5e74\u9f84\u4e3a 21\uff0c\u5e76\u4e14\u6e05\u7a7a\u7f13\u5b58\u3002\u8fd9\u65f6\u8bf7\u6c42 A \u628a\u4ece\u6570\u636e\u5e93\u4e2d\u8bfb\u5230\u7684\u5e74\u9f84\u4e3a 20 \u7684\u6570\u636e\u5199\u5165\u5230\u7f13\u5b58\u4e2d\u3002",(0,l.kt)("img",{alt:"image-20220715152956657",src:n(46470).Z,width:"902",height:"618"})),(0,l.kt)("p",null,"\u6700\u7ec8\uff0c\u8be5\u7528\u6237\u5e74\u9f84\u5728\u7f13\u5b58\u4e2d\u662f 20\uff08\u65e7\u503c\uff09\uff0c\u5728\u6570\u636e\u5e93\u4e2d\u662f 21\uff08\u65b0\u503c\uff09\uff0c\u7f13\u5b58\u548c\u6570\u636e\u5e93\u6570\u636e\u4e0d\u4e00\u81f4\u3002"),(0,l.kt)("p",null,"\u4ece\u4e0a\u9762\u7684\u7406\u8bba\u4e0a\u5206\u6790\uff0c\u5148\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u518d\u5220\u9664\u7f13\u5b58\u4e5f\u662f\u4f1a\u51fa\u73b0\u6570\u636e\u4e0d\u4e00\u81f4\u6027\u7684\u95ee\u9898\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4f46\u662f\u5728\u5b9e\u9645\u4e2d\uff0c\u8fd9\u4e2a\u95ee\u9898\u51fa\u73b0\u7684\u6982\u7387\u5e76\u4e0d\u9ad8"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u56e0\u4e3a\u7f13\u5b58\u7684\u5199\u5165\u901a\u5e38\u8981\u8fdc\u8fdc\u5feb\u4e8e\u6570\u636e\u5e93\u7684\u5199\u5165"),"\uff0c\u6240\u4ee5\u5728\u5b9e\u9645\u4e2d\u5f88\u96be\u51fa\u73b0\u8bf7\u6c42 B \u5df2\u7ecf\u66f4\u65b0\u4e86\u6570\u636e\u5e93\u5e76\u4e14\u5220\u9664\u4e86\u7f13\u5b58\uff0c\u8bf7\u6c42 A \u624d\u66f4\u65b0\u5b8c\u7f13\u5b58\u7684\u60c5\u51b5\u3002"),(0,l.kt)("p",null,"\u800c\u4e00\u65e6\u8bf7\u6c42 A \u65e9\u4e8e\u8bf7\u6c42 B \u5220\u9664\u7f13\u5b58\u4e4b\u524d\u66f4\u65b0\u4e86\u7f13\u5b58\uff0c\u90a3\u4e48\u63a5\u4e0b\u6765\u7684\u8bf7\u6c42\u5c31\u4f1a\u56e0\u4e3a\u7f13\u5b58\u4e0d\u547d\u4e2d\u800c\u4ece\u6570\u636e\u5e93\u4e2d\u91cd\u65b0\u8bfb\u53d6\u6570\u636e\uff0c\u6240\u4ee5\u4e0d\u4f1a\u51fa\u73b0\u8fd9\u79cd\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u300c\u5148\u66f4\u65b0\u6570\u636e\u5e93 + \u518d\u5220\u9664\u7f13\u5b58\u300d\u7684\u65b9\u6848\uff0c\u662f\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u7684"),"\u3002"),(0,l.kt)("h5",{id:"\u89e3\u51b3\u65b9\u68481\u6d88\u606f\u961f\u5217"},"\u89e3\u51b3\u65b9\u68481:\u6d88\u606f\u961f\u5217"),(0,l.kt)("p",null,"\u8fd9\u662f\u7f51\u4e0a\u5f88\u591a\u6587\u7ae0\u91cc\u90fd\u6709\u5199\u8fc7\u7684\u65b9\u6848\u3002\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u7684\u7f3a\u9677\u4f1a\u66f4\u660e\u663e\u4e00\u70b9\u3002"),(0,l.kt)("p",null,"\u5148\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u6210\u529f\u540e\u5f80\u6d88\u606f\u961f\u5217\u53d1\u6d88\u606f\uff0c\u6d88\u8d39\u5230\u6d88\u606f\u540e\u518d\u5220\u9664\u7f13\u5b58\uff0c\u501f\u52a9\u6d88\u606f\u961f\u5217\u7684\u91cd\u8bd5\u673a\u5236\u6765\u5b9e\u73b0\uff0c\u8fbe\u5230\u6700\u7ec8\u4e00\u81f4\u6027\u7684\u6548\u679c\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715153053443",src:n(78853).Z,width:"701",height:"276"})),(0,l.kt)("p",null,"\u8fd9\u4e2a\u89e3\u51b3\u65b9\u6848\u5176\u5b9e\u95ee\u9898\u66f4\u591a\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5f15\u5165\u6d88\u606f\u4e2d\u95f4\u4ef6\u4e4b\u540e\uff0c\u95ee\u9898\u66f4\u590d\u6742\u4e86\uff0c\u600e\u4e48\u4fdd\u8bc1\u6d88\u606f\u4e0d\u4e22\u5931\u66f4\u9ebb\u70e6"),(0,l.kt)("li",{parentName:"ol"},"\u5c31\u7b97\u66f4\u65b0\u6570\u636e\u5e93\u548c\u5220\u9664\u7f13\u5b58\u90fd\u6ca1\u6709\u53d1\u751f\u95ee\u9898\uff0c\u6d88\u606f\u7684\u5ef6\u8fdf\u4e5f\u4f1a\u5e26\u6765\u77ed\u6682\u7684\u4e0d\u4e00\u81f4\u6027\uff0c\u4e0d\u8fc7\u8fd9\u4e2a\u5ef6\u8fdf\u76f8\u5bf9\u6765\u8bf4\u8fd8\u662f\u53ef\u4ee5\u63a5\u53d7\u7684")),(0,l.kt)("h5",{id:"\u89e3\u51b3\u65b9\u68482\u8fdb\u9636\u7248\u6d88\u606f\u961f\u5217"},"\u89e3\u51b3\u65b9\u68482:\u8fdb\u9636\u7248\u6d88\u606f\u961f\u5217"),(0,l.kt)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u7f13\u5b58\u4e00\u81f4\u6027\u7684\u95ee\u9898\u5355\u72ec\u5f15\u5165\u4e00\u4e2a\u6d88\u606f\u961f\u5217\uff0c\u592a\u590d\u6742\u4e86\u3002"),(0,l.kt)("p",null,"\u5176\u5b9e\uff0c\u4e00\u822c\u5927\u516c\u53f8\u672c\u8eab\u90fd\u4f1a\u6709\u76d1\u542cbinlog\u6d88\u606f\u7684\u6d88\u606f\u961f\u5217\u5b58\u5728\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u505a\u4e00\u4e9b\u6838\u5bf9\u7684\u5de5\u4f5c\u3002"),(0,l.kt)("p",null,"\u8fd9\u6837\uff0c\u6211\u4eec\u53ef\u4ee5\u501f\u52a9\u76d1\u542cbinlog\u7684\u6d88\u606f\u961f\u5217\u6765\u505a\u5220\u9664\u7f13\u5b58\u7684\u64cd\u4f5c\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff0c\u4e0d\u7528\u4f60\u81ea\u5df1\u5f15\u5165\uff0c\u4fb5\u5165\u5230\u4f60\u7684\u4e1a\u52a1\u4ee3\u7801\u4e2d\uff0c\u4e2d\u95f4\u4ef6\u5e2e\u4f60\u505a\u4e86\u89e3\u8026\uff0c\u540c\u65f6\uff0c\u4e2d\u95f4\u4ef6\u7684\u8fd9\u4e2a\u4e1c\u897f\u672c\u8eab\u5c31\u4fdd\u8bc1\u4e86\u9ad8\u53ef\u7528\u3002"),(0,l.kt)("p",null,"\u5f53\u7136\uff0c\u8fd9\u6837\u6d88\u606f\u5ef6\u8fdf\u7684\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u4f46\u662f\u76f8\u6bd4\u5355\u7eaf\u5f15\u5165\u6d88\u606f\u961f\u5217\u7684\u505a\u6cd5\u66f4\u597d\u4e00\u70b9\u3002"),(0,l.kt)("p",null,"\u800c\u4e14\uff0c\u5982\u679c\u5e76\u53d1\u4e0d\u662f\u7279\u522b\u9ad8\u7684\u8bdd\uff0c\u8fd9\u79cd\u505a\u6cd5\u7684\u5b9e\u65f6\u6027\u548c\u4e00\u81f4\u6027\u90fd\u8fd8\u7b97\u53ef\u4ee5\u63a5\u53d7\u7684\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220715153124553",src:n(21102).Z,width:"701",height:"276"})),(0,l.kt)("h5",{id:"\u89e3\u51b3\u65b9\u68483\u8bbe\u7f6e\u7f13\u5b58\u8fc7\u671f\u65f6\u95f4"},"\u89e3\u51b3\u65b9\u68483:\u8bbe\u7f6e\u7f13\u5b58\u8fc7\u671f\u65f6\u95f4"),(0,l.kt)("p",null,"\u6bcf\u6b21\u653e\u5165\u7f13\u5b58\u7684\u65f6\u5019\uff0c\u8bbe\u7f6e\u4e00\u4e2a\u8fc7\u671f\u65f6\u95f4\uff0c\u6bd4\u59825\u5206\u949f\uff0c\u4ee5\u540e\u7684\u64cd\u4f5c\u53ea\u4fee\u6539\u6570\u636e\u5e93\uff0c\u4e0d\u64cd\u4f5c\u7f13\u5b58\uff0c\u7b49\u5f85\u7f13\u5b58\u8d85\u65f6\u540e\u4ece\u6570\u636e\u5e93\u91cd\u65b0\u8bfb\u53d6\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u5bf9\u4e8e\u4e00\u81f4\u6027\u8981\u6c42\u4e0d\u662f\u5f88\u9ad8\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u91c7\u7528\u8fd9\u79cd\u65b9\u6848\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u65b9\u6848\u8fd8\u4f1a\u6709\u53e6\u5916\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u5982\u679c\u6570\u636e\u66f4\u65b0\u7684\u7279\u522b\u9891\u7e41\uff0c\u4e0d\u4e00\u81f4\u6027\u7684\u95ee\u9898\u5c31\u5f88\u5927\u4e86\u3002"),(0,l.kt)("p",null,"\u5728\u5b9e\u9645\u751f\u4ea7\u4e2d\uff0c\u6211\u4eec\u6709\u4e00\u4e9b\u6d3b\u52a8\u7684\u7f13\u5b58\u6570\u636e\u662f\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u5904\u7406\u7684\u3002"),(0,l.kt)("p",null,"\u56e0\u4e3a\u6d3b\u52a8\u5e76\u4e0d\u9891\u7e41\u53d1\u751f\u6539\u53d8\uff0c\u800c\u4e14\u5bf9\u4e8e\u6d3b\u52a8\u6765\u8bf4\uff0c\u77ed\u6682\u7684\u4e0d\u4e00\u81f4\u6027\u5e76\u4e0d\u4f1a\u6709\u4ec0\u4e48\u5927\u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u8be6\u7ec6\u95ee\u9898\u53ef\u4ee5\u770b\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://xiaolincoding.com/redis/architecture/mysql_redis_consistency.html#%E5%85%88%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE%E5%BA%93-%E8%BF%98%E6%98%AF%E5%85%88%E5%88%A0%E9%99%A4%E7%BC%93%E5%AD%98"},"\u6570\u636e\u5e93\u548c\u7f13\u5b58\u5982\u4f55\u4fdd\u8bc1\u4e00\u81f4\u6027\uff1f")),(0,l.kt)("h3",{id:"\ufe0fredis\u5982\u4f55\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501"},"\u2b50\ufe0fRedis\u5982\u4f55\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\uff1f"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5206\u5e03\u5f0f\u9501"),"\uff1a\u5f53\u591a\u4e2a\u8fdb\u7a0b\u4e0d\u5728\u540c\u4e00\u4e2a\u7cfb\u7edf\u4e2d(\u6bd4\u5982\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u63a7\u5236\u5171\u4eab\u8d44\u6e90\u8bbf\u95ee)\uff0c\u7528\u5206\u5e03\u5f0f\u9501\u63a7\u5236\u591a\u4e2a\u8fdb\u7a0b\u5bf9\u8d44\u6e90\u7684\u8bbf\u95ee\u3002"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://redis.io/docs/reference/patterns/distributed-locks/"},"Redis\u7684\u5b98\u7f51"),"\u4e0a\u5bf9\u4f7f\u7528\u5206\u5e03\u5f0f\u9501\u63d0\u51fa\u81f3\u5c11\u9700\u8981\u6ee1\u8db3\u5982\u4e0b\u4e09\u4e2a\u8981\u6c42\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4e92\u65a5"),"\uff08\u5c5e\u4e8e\u5b89\u5168\u6027\uff09\uff1a\u5728\u4efb\u4f55\u7ed9\u5b9a\u65f6\u523b\uff0c\u53ea\u6709\u4e00\u4e2a\u5ba2\u6237\u7aef\u53ef\u4ee5\u6301\u6709\u9501\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u65e0\u6b7b\u9501"),"\uff08\u5c5e\u4e8e\u6709\u6548\u6027\uff09\uff1a\u5373\u4f7f\u9501\u5b9a\u8d44\u6e90\u7684\u5ba2\u6237\u7aef\u5d29\u6e83\u6216\u88ab\u5206\u533a\uff0c\u4e5f\u603b\u662f\u53ef\u4ee5\u83b7\u5f97\u9501\uff1b\u901a\u5e38\u901a\u8fc7\u8d85\u65f6\u673a\u5236\u5b9e\u73b0\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5bb9\u9519\u6027"),"\uff08\u5c5e\u4e8e\u6709\u6548\u6027\uff09\uff1a\u53ea\u8981\u5927\u591a\u6570 Redis \u8282\u70b9\u90fd\u542f\u52a8\uff0c\u5ba2\u6237\u7aef\u5c31\u53ef\u4ee5\u83b7\u53d6\u548c\u91ca\u653e\u9501\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u57fa\u4e8e redis \u5b9e\u73b0\u5206\u5e03\u5f0f\u9501"),":"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5355\u4e2aRedis\u5b9e\u4f8b\uff1asetnx(key,\u5f53\u524d\u65f6\u95f4+\u8fc7\u671f\u65f6\u95f4) + Lua"),(0,l.kt)("li",{parentName:"ul"},"Redis\u96c6\u7fa4\u6a21\u5f0f\uff1aRedlock")),(0,l.kt)("h4",{id:"\u6700\u7b80\u5316\u7248\u672c"},"\u6700\u7b80\u5316\u7248\u672c"),(0,l.kt)("p",null,"\u9996\u5148\uff0c\u5f53\u7136\u662f\u642d\u5efa\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u76f4\u63a5\u7528Redis\u7684setnx\u547d\u4ee4\uff0c\u8fd9\u4e2a\u547d\u4ee4\u7684\u8bed\u6cd5\u662f\uff1a",(0,l.kt)("strong",{parentName:"p"},"setnx key value")),(0,l.kt)("p",null,"\u5982\u679ckey\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u5c06key\u8bbe\u7f6e\u4e3avalue\uff0c\u5e76\u8fd4\u56de1\uff1b\u5982\u679ckey\u5b58\u5728\uff0c\u4e0d\u4f1a\u6709\u4efb\u52a1\u5f71\u54cd\uff0c\u8fd4\u56de0\u3002"),(0,l.kt)("p",null,"\u57fa\u4e8e\u8fd9\u4e2a\u7279\u6027\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u7528setnx\u5b9e\u73b0\u52a0\u9501\u7684\u76ee\u7684\uff1a\u901a\u8fc7setnx\u52a0\u9501\uff0c\u52a0\u9501\u4e4b\u540e\u5176\u4ed6\u670d\u52a1\u65e0\u6cd5\u52a0\u9501\uff0c\u7528\u5b8c\u4e4b\u540e\uff0c\u518d\u901a\u8fc7delete\u89e3\u9501\uff0c\u6df1\u85cf\u529f\u4e0e\u540d"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220709164349575",src:n(2767).Z,width:"1080",height:"1038"})),(0,l.kt)("h4",{id:"\u652f\u6301\u8fc7\u671f\u65f6\u95f4"},"\u652f\u6301\u8fc7\u671f\u65f6\u95f4"),(0,l.kt)("p",null,"\u6700\u7b80\u5316\u7248\u672c\u6709\u4e00\u4e2a\u95ee\u9898\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u5982\u679c\u83b7\u53d6\u9501\u7684\u670d\u52a1\u6302\u6389\u4e86\uff0c\u90a3\u4e48\u9501\u5c31\u4e00\u76f4\u5f97\u4e0d\u5230\u91ca\u653e"),"\uff0c\u5c31\u50cf\u77f3\u6c89\u5927\u6d77\uff0c\u6773\u65e0\u97f3\u4fe1\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u8d85\u65f6\u6765\u515c\u5e95\u3002"),(0,l.kt)("p",null,"Redis\u4e2d\u6709expire\u547d\u4ee4\uff0c\u7528\u6765\u8bbe\u7f6e\u4e00\u4e2akey\u7684\u8d85\u65f6\u65f6\u95f4\u3002\u4f46\u662fsetnx\u548cexpire\u4e0d\u5177\u5907\u539f\u5b50\u6027\uff0c\u5982\u679csetnx\u83b7\u53d6\u9501\u4e4b\u540e\uff0c\u670d\u52a1\u6302\u6389\uff0c\u4f9d\u65e7\u662f\u6ce5\u725b\u5165\u6d77\u3002"),(0,l.kt)("p",null,"\u5f88\u81ea\u7136\uff0c\u6211\u4eec\u4f1a\u60f3\u5230\uff0cset\u548cexpire\uff0c\u6709\u6ca1\u6709\u539f\u5b50\u64cd\u4f5c\uff1f"),(0,l.kt)("p",null,"\u5f53\u7136\u6709\uff0cRedis\u65e9\u5c31\u8003\u8651\u5230\u4e86\u8fd9\u79cd\u573a\u666f\uff0c\u63a8\u51fa\u4e86\u5982\u4e0b\u6267\u884c\u8bed\u53e5\uff1a",(0,l.kt)("strong",{parentName:"p"},"set key value nx ex seconds")),(0,l.kt)("p",null,"nx\u8868\u793a\u5177\u5907setnx\u7279\u5b9a\uff0cex\u8868\u793a\u589e\u52a0\u4e86\u8fc7\u671f\u65f6\u95f4\uff0c\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u5c31\u662f\u8fc7\u671f\u65f6\u95f4\u7684\u503c\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220709164418917",src:n(23651).Z,width:"1080",height:"1046"})),(0,l.kt)("p",null,"\u80fd\u591f\u652f\u6301\u8fc7\u671f\u65f6\u95f4\uff0c\u76ee\u524d\u8fd9\u4e2a\u9501\u57fa\u672c\u4e0a\u662f\u80fd\u7528\u4e86\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff1a\u4f1a\u5b58\u5728\u670d\u52a1A\u91ca\u653e\u6389\u670d\u52a1B\u7684\u9501\u7684\u53ef\u80fd\u3002"),(0,l.kt)("h4",{id:"\u52a0\u4e0aowner"},"\u52a0\u4e0aowner"),(0,l.kt)("p",null,"\u6211\u4eec\u6765\u8bd5\u60f3\u4e00\u4e0b\u5982\u4e0b\u573a\u666f\uff1a\u670d\u52a1A\u83b7\u53d6\u4e86\u9501\uff0c\u7531\u4e8e\u4e1a\u52a1\u6d41\u7a0b\u6bd4\u8f83\u957f\uff0c\u6216\u8005\u7f51\u7edc\u5ef6\u8fdf\u3001GC\u5361\u987f\u7b49\u539f\u56e0\uff0c\u5bfc\u81f4\u9501\u8fc7\u671f\uff0c\u800c\u4e1a\u52a1\u8fd8\u4f1a\u7ee7\u7eed\u8fdb\u884c\u3002\u8fd9\u65f6\u5019\uff0c\u4e1a\u52a1B\u5df2\u7ecf\u62ff\u5230\u4e86\u9501\uff0c\u51c6\u5907\u53bb\u6267\u884c\uff0c\u8fd9\u4e2a\u65f6\u5019\u670d\u52a1A\u6062\u590d\u8fc7\u6765\u5e76\u505a\u5b8c\u4e86\u4e1a\u52a1\uff0c\u5c31\u4f1a\u91ca\u653e\u9501\uff0c\u800cB\u5374\u8fd8\u5728\u7ee7\u7eed\u6267\u884c\u3002"),(0,l.kt)("p",null,"\u5728\u771f\u5b9e\u7684\u5206\u5e03\u5f0f\u573a\u666f\u4e2d\uff0c\u53ef\u80fd\u5b58\u5728\u51e0\u5341\u4e2a\u7ade\u4e89\u8005\uff0c\u90a3\u4e48\u4e0a\u8ff0\u60c5\u51b5\u53d1\u751f\u6982\u7387\u5c31\u5f88\u9ad8\uff0c\u5bfc\u81f4\u540c\u4e00\u4efd\u8d44\u6e90\u9891\u7e41\u88ab\u4e0d\u540c\u7ade\u4e89\u8005\u540c\u65f6\u8bbf\u95ee\uff0c\u5206\u5e03\u5f0f\u9501\u4e5f\u5c31\u5931\u53bb\u4e86\u610f\u4e49\u3002"),(0,l.kt)("p",null,"\u57fa\u4e8e\u8fd9\u4e2a\u573a\u666f\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u95ee\u9898\u5173\u952e\u5728\u4e8e\uff0c\u7ade\u4e89\u8005\u53ef\u4ee5\u91ca\u653e\u5176\u4ed6\u4eba\u7684\u9501\u3002\u90a3\u4e48\u5728\u5f02\u5e38\u60c5\u51b5\u4e0b\uff0c\u5c31\u4f1a\u51fa\u73b0\u95ee\u9898\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u8fdb\u4e00\u6b65\u7ed9\u51fa\u89e3\u51b3\u65b9\u6848\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u5206\u5e03\u5f0f\u9501\u9700\u8981\u6ee1\u8db3\u8c01\u7533\u8bf7\u8c01\u91ca\u653e\u539f\u5219\uff0c\u4e0d\u80fd\u91ca\u653e\u522b\u4eba\u7684\u9501\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5206\u5e03\u5f0f\u9501\uff0c\u662f\u8981\u6709\u5f52\u5c5e\u7684")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220709164452895",src:n(25389).Z,width:"1080",height:"1187"})),(0,l.kt)("h4",{id:"\u5f15\u5165lua"},"\u5f15\u5165Lua"),(0,l.kt)("p",null,"\u52a0\u5165owner\u540e\u7684\u7248\u672c\u53ef\u4ee5\u79f0\u5f97\u4e0a\u662f\u5b8c\u5584\u4e86\u5417\uff1f\u8fd8\u6709\u6ca1\u6709\u4ec0\u4e48\u9690\u60a3\u5462\uff1f"),(0,l.kt)("p",null,"\u6211\u4e5f\u4e0d\u5356\u5173\u5b50\u4e86\uff0c\u5230\u8fd9\u4e00\u6b65\u5176\u5b9e\u8fd8\u5b58\u5728\u4e00\u4e2a\u5c0f\u95ee\u9898\uff0c\u6211\u4eec\u5b8c\u6574\u7684\u6d41\u7a0b\u662f\u7ade\u4e89\u8005\u83b7\u53d6\u9501\u6267\u884c\u4efb\u52a1\uff0c\u6267\u884c\u5b8c\u6bd5\u540e\u68c0\u67e5\u9501\u662f\u4e0d\u662f\u81ea\u5df1\u7684\uff0c\u6700\u540e\u8fdb\u884c\u91ca\u653e\u3002"),(0,l.kt)("p",null,"\u6d41\u7a0b\u4e00\u68b3\u7406\uff0c\u4f60\u4eec\u80af\u5b9a\u660e\u767d\u4e86\uff0c\u6267\u884c\u5b8c\u6bd5\u540e\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u68c0\u67e5\u9501\uff0c\u518d\u91ca\u653e\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u4e0d\u662f\u539f\u5b50\u5316\u7684\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53ef\u80fd\u9501\u83b7\u53d6\u65f6\u8fd8\u662f\u81ea\u5df1\u7684\uff0c\u5220\u9664\u65f6\u5374\u5df2\u7ecf\u662f\u522b\u4eba\u7684"),"\u4e86\u3002\u8fd9\u53ef\u600e\u4e48\u529e\u5462\uff1f"),(0,l.kt)("p",null,"Redis\u53ef\u6ca1\u6709\u76f4\u63a5\u63d0\u4f9b\u8fd9\u79cd\u573a\u666f\u539f\u5b50\u5316\u7684\u64cd\u4f5c\u554a\u3002\u9047\u4e8b\u4e0d\u8981\u614c\uff0c\u4ed4\u7ec6\u60f3\u4e00\u60f3\uff0cRedis\u662f\u4e0d\u662f\u8fd8\u6709\u4e2a\u7279\u6027\uff0c\u4e13\u95e8\u6574\u5408\u539f\u5b50\u64cd\u4f5c\uff0c\u5bf9\uff0c\u5c31\u662f\u5b83\u2014\u2014",(0,l.kt)("strong",{parentName:"p"},"Lua")),(0,l.kt)("p",null,"Redis\u2795Lua\uff0c\u53ef\u4ee5\u8bf4\u662f\u4e13\u95e8\u4e3a\u89e3\u51b3\u539f\u5b50\u95ee\u9898\u800c\u751f\u3002"),(0,l.kt)("p",null,"\u6709\u4e86Lua\u7684\u7279\u6027\uff0cRedis\u624d\u771f\u6b63\u5728\u5206\u5e03\u5f0f\u9501\u3001\u79d2\u6740\u7b49\u573a\u666f\uff0c\u6709\u4e86\u7528\u6b66\u4e4b\u5730\uff0c\u4e0b\u9762\u4fbf\u662f\u6539\u9020\u4e4b\u540e\u7684\u6d41\u7a0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220709164528516",src:n(55175).Z,width:"1054",height:"1342"})),(0,l.kt)("p",null,"\u5176\u5b9e\u5230\u4e86\u8fd9\u4e00\u6b65\uff0c\u5206\u5e03\u5f0f\u9501\u7684\u524d\u4e09\u4e2a\u7279\u6027\uff1a\u5bf9\u79f0\u6027\u3001\u5b89\u5168\u6027\u3001\u53ef\u9760\u6027\uff0c\u5c31\u6ee1\u8db3\u4e86\u3002\u53ef\u4ee5\u8bf4\u662f\u4e00\u4e2a\u53ef\u7528\u7684\u5206\u5e03\u5f0f\u9501\u4e86\uff0c\u80fd\u6ee1\u8db3\u5927\u591a\u6570\u573a\u666f\u7684\u9700\u8981"),(0,l.kt)("h4",{id:"redisson"},"Redisson"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u53ef\u80fd\u5b58\u5728",(0,l.kt)("strong",{parentName:"p"},"\u9501\u8fc7\u671f\u91ca\u653e\uff0c\u4e1a\u52a1\u6ca1\u6267\u884c\u5b8c")," \u7684\u95ee\u9898\u3002\u6211\u4eec\u53ef\u4ee5\u7a0d\u5fae\u628a\u9501\u8fc7\u671f\u65f6\u95f4\u8bbe\u7f6e\u957f\u4e00\u4e9b\uff0c\u5927\u4e8e\u6b63\u5e38\u4e1a\u52a1\u5904\u7406\u65f6\u95f4\u5c31\u597d\u5566\u3002\u5982\u679c\u4f60\u89c9\u5f97\u4e0d\u662f\u5f88\u7a33\uff0c\u8fd8\u53ef\u4ee5\u7ed9\u83b7\u5f97\u9501\u7684\u7ebf\u7a0b\uff0c\u5f00\u542f\u4e00\u4e2a\u5b9a\u65f6\u5b88\u62a4\u7ebf\u7a0b\uff0c\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u68c0\u67e5\u9501\u662f\u5426\u8fd8\u5b58\u5728\uff0c\u5b58\u5728\u5219\u5bf9\u9501\u7684\u8fc7\u671f\u65f6\u95f4\u5ef6\u957f\uff0c\u9632\u6b62\u9501\u8fc7\u671f\u63d0\u524d\u91ca\u653e\u3002"),(0,l.kt)("p",null,"\u5f53\u524d\u5f00\u6e90\u6846\u67b6Redisson\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002\u53ef\u4ee5\u770b\u4e0bRedisson\u5e95\u5c42\u539f\u7406\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220709164742280",src:n(78765).Z,width:"1614",height:"1013"})),(0,l.kt)("p",null,"\u53ea\u8981\u7ebf\u7a0b\u4e00\u52a0\u9501\u6210\u529f\uff0c\u5c31\u4f1a\u542f\u52a8\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"watch dog"),"\u770b\u95e8\u72d7\uff0c\u5b83\u662f\u4e00\u4e2a\u540e\u53f0\u7ebf\u7a0b\uff0c\u4f1a\u6bcf\u969410\u79d2\u68c0\u67e5\u4e00\u4e0b\uff0c\u5982\u679c\u7ebf\u7a0b1\u8fd8\u6301\u6709\u9501\uff0c\u90a3\u4e48\u5c31\u4f1a\u4e0d\u65ad\u7684\u5ef6\u957f\u9501key\u7684\u751f\u5b58\u65f6\u95f4\u3002\u56e0\u6b64\uff0cRedisson\u5c31\u662f\u4f7f\u7528watch dog\u89e3\u51b3\u4e86",(0,l.kt)("strong",{parentName:"p"},"\u300c\u9501\u8fc7\u671f\u91ca\u653e\uff0c\u4e1a\u52a1\u6ca1\u6267\u884c\u5b8c\u300d"),"\u95ee\u9898\u3002"),(0,l.kt)("h4",{id:"redlockredisson"},"Redlock+Redisson"),(0,l.kt)("p",null,"\u5176\u5b9eRedis\u4e00\u822c\u90fd\u662f\u96c6\u7fa4\u90e8\u7f72\u7684\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220709164811068",src:n(81203).Z,width:"1062",height:"397"})),(0,l.kt)("p",null,"\u5982\u679c\u7ebf\u7a0b\u4e00\u5728Redis\u7684master\u8282\u70b9\u4e0a\u62ff\u5230\u4e86\u9501\uff0c\u4f46\u662f\u52a0\u9501\u7684key\u8fd8\u6ca1\u540c\u6b65\u5230slave\u8282\u70b9\u3002\u6070\u597d\u8fd9\u65f6\uff0cmaster\u8282\u70b9\u53d1\u751f\u6545\u969c\uff0c\u4e00\u4e2aslave\u8282\u70b9\u5c31\u4f1a\u5347\u7ea7\u4e3amaster\u8282\u70b9\u3002\u7ebf\u7a0b\u4e8c\u5c31\u53ef\u4ee5\u83b7\u53d6\u540c\u4e2akey\u7684\u9501\u5566\uff0c\u4f46\u7ebf\u7a0b\u4e00\u4e5f\u5df2\u7ecf\u62ff\u5230\u9501\u4e86\uff0c\u9501\u7684\u5b89\u5168\u6027\u5c31\u6ca1\u4e86\u3002"),(0,l.kt)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cRedis\u4f5c\u8005 antirez\u63d0\u51fa\u4e00\u79cd\u9ad8\u7ea7\u7684\u5206\u5e03\u5f0f\u9501\u7b97\u6cd5\uff1aRedlock\u3002Redlock\u6838\u5fc3\u601d\u60f3\u662f\u8fd9\u6837\u7684\uff1a"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u275d"),(0,l.kt)("p",{parentName:"blockquote"},"\u641e\u591a\u4e2aRedis master\u90e8\u7f72\uff0c\u4ee5\u4fdd\u8bc1\u5b83\u4eec\u4e0d\u4f1a\u540c\u65f6\u5b95\u6389\u3002\u5e76\u4e14\u8fd9\u4e9bmaster\u8282\u70b9\u662f\u5b8c\u5168\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u76f8\u4e92\u4e4b\u95f4\u4e0d\u5b58\u5728\u6570\u636e\u540c\u6b65\u3002\u540c\u65f6\uff0c\u9700\u8981\u786e\u4fdd\u5728\u8fd9\u591a\u4e2amaster\u5b9e\u4f8b\u4e0a\uff0c\u662f\u4e0e\u5728Redis\u5355\u5b9e\u4f8b\uff0c\u4f7f\u7528\u76f8\u540c\u65b9\u6cd5\u6765\u83b7\u53d6\u548c\u91ca\u653e\u9501\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u275e")),(0,l.kt)("p",null,"\u6211\u4eec\u5047\u8bbe\u5f53\u524d\u67095\u4e2aRedis master\u8282\u70b9\uff0c\u57285\u53f0\u670d\u52a1\u5668\u4e0a\u9762\u8fd0\u884c\u8fd9\u4e9bRedis\u5b9e\u4f8b\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220709164830756",src:n(494).Z,width:"1217",height:"832"})),(0,l.kt)("p",null,"RedLock\u7684\u5b9e\u73b0\u6b65\u9aa4:\u5982\u4e0b"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u275d"),(0,l.kt)("ul",{parentName:"blockquote"},(0,l.kt)("li",{parentName:"ul"},"1.\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\uff0c\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u3002"),(0,l.kt)("li",{parentName:"ul"},"2.\u6309\u987a\u5e8f\u54115\u4e2amaster\u8282\u70b9\u8bf7\u6c42\u52a0\u9501\u3002\u5ba2\u6237\u7aef\u8bbe\u7f6e\u7f51\u7edc\u8fde\u63a5\u548c\u54cd\u5e94\u8d85\u65f6\u65f6\u95f4\uff0c\u5e76\u4e14\u8d85\u65f6\u65f6\u95f4\u8981\u5c0f\u4e8e\u9501\u7684\u5931\u6548\u65f6\u95f4\u3002\uff08\u5047\u8bbe\u9501\u81ea\u52a8\u5931\u6548\u65f6\u95f4\u4e3a10\u79d2\uff0c\u5219\u8d85\u65f6\u65f6\u95f4\u4e00\u822c\u57285-50\u6beb\u79d2\u4e4b\u95f4,\u6211\u4eec\u5c31\u5047\u8bbe\u8d85\u65f6\u65f6\u95f4\u662f50ms\u5427\uff09\u3002\u5982\u679c\u8d85\u65f6\uff0c\u8df3\u8fc7\u8be5master\u8282\u70b9\uff0c\u5c3d\u5feb\u53bb\u5c1d\u8bd5\u4e0b\u4e00\u4e2amaster\u8282\u70b9\u3002"),(0,l.kt)("li",{parentName:"ul"},"3.\u5ba2\u6237\u7aef\u4f7f\u7528\u5f53\u524d\u65f6\u95f4\u51cf\u53bb\u5f00\u59cb\u83b7\u53d6\u9501\u65f6\u95f4\uff08\u5373\u6b65\u9aa41\u8bb0\u5f55\u7684\u65f6\u95f4\uff09\uff0c\u5f97\u5230\u83b7\u53d6\u9501\u4f7f\u7528\u7684\u65f6\u95f4\u3002\u5f53\u4e14\u4ec5\u5f53\u8d85\u8fc7\u4e00\u534a\uff08N/2+1\uff0c\u8fd9\u91cc\u662f5/2+1=3\u4e2a\u8282\u70b9\uff09\u7684Redis master\u8282\u70b9\u90fd\u83b7\u5f97\u9501\uff0c\u5e76\u4e14\u4f7f\u7528\u7684\u65f6\u95f4\u5c0f\u4e8e\u9501\u5931\u6548\u65f6\u95f4\u65f6\uff0c\u9501\u624d\u7b97\u83b7\u53d6\u6210\u529f\u3002\uff08\u5982\u4e0a\u56fe\uff0c10s> 30ms+40ms+50ms+4m0s+50ms\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u53d6\u5230\u4e86\u9501\uff0ckey\u7684\u771f\u6b63\u6709\u6548\u65f6\u95f4\u5c31\u53d8\u5566\uff0c\u9700\u8981\u51cf\u53bb\u83b7\u53d6\u9501\u6240\u4f7f\u7528\u7684\u65f6\u95f4\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u83b7\u53d6\u9501\u5931\u8d25\uff08\u6ca1\u6709\u5728\u81f3\u5c11N/2+1\u4e2amaster\u5b9e\u4f8b\u53d6\u5230\u9501\uff0c\u6709\u6216\u8005\u83b7\u53d6\u9501\u65f6\u95f4\u5df2\u7ecf\u8d85\u8fc7\u4e86\u6709\u6548\u65f6\u95f4\uff09\uff0c\u5ba2\u6237\u7aef\u8981\u5728\u6240\u6709\u7684master\u8282\u70b9\u4e0a\u89e3\u9501\uff08\u5373\u4fbf\u6709\u4e9bmaster\u8282\u70b9\u6839\u672c\u5c31\u6ca1\u6709\u52a0\u9501\u6210\u529f\uff0c\u4e5f\u9700\u8981\u89e3\u9501\uff0c\u4ee5\u9632\u6b62\u6709\u4e9b\u6f0f\u7f51\u4e4b\u9c7c\uff09\u3002")),(0,l.kt)("p",{parentName:"blockquote"},"\u275e")),(0,l.kt)("p",null,"\u7b80\u5316\u4e0b\u6b65\u9aa4\u5c31\u662f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6309\u987a\u5e8f\u54115\u4e2amaster\u8282\u70b9\u8bf7\u6c42\u52a0\u9501"),(0,l.kt)("li",{parentName:"ul"},"\u6839\u636e\u8bbe\u7f6e\u7684\u8d85\u65f6\u65f6\u95f4\u6765\u5224\u65ad\uff0c\u662f\u4e0d\u662f\u8981\u8df3\u8fc7\u8be5master\u8282\u70b9\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u5927\u4e8e\u7b49\u4e8e3\u4e2a\u8282\u70b9\u52a0\u9501\u6210\u529f\uff0c\u5e76\u4e14\u4f7f\u7528\u7684\u65f6\u95f4\u5c0f\u4e8e\u9501\u7684\u6709\u6548\u671f\uff0c\u5373\u53ef\u8ba4\u5b9a\u52a0\u9501\u6210\u529f\u5566\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u83b7\u53d6\u9501\u5931\u8d25\uff0c\u89e3\u9501\uff01")),(0,l.kt)("h4",{id:"zookeeper\u5206\u5e03\u5f0f\u9501"},"Zookeeper\u5206\u5e03\u5f0f\u9501"),(0,l.kt)("p",null,"Zookeeper\u7684\u8282\u70b9Znode\u6709\u56db\u79cd\u7c7b\u578b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u6301\u4e45\u8282\u70b9")," \uff1a\u9ed8\u8ba4\u7684\u8282\u70b9\u7c7b\u578b\u3002\u521b\u5efa\u8282\u70b9\u7684\u5ba2\u6237\u7aef\u4e0ezookeeper\u65ad\u5f00\u8fde\u63a5\u540e\uff0c\u8be5\u8282\u70b9\u4f9d\u65e7\u5b58\u5728\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u6301\u4e45\u8282\u70b9\u987a\u5e8f\u8282\u70b9")," \uff1a\u6240\u8c13\u987a\u5e8f\u8282\u70b9\uff0c\u5c31\u662f\u5728\u521b\u5efa\u8282\u70b9\u65f6\uff0cZookeeper\u6839\u636e\u521b\u5efa\u7684\u65f6\u95f4\u987a\u5e8f\u7ed9\u8be5\u8282\u70b9\u540d\u79f0\u8fdb\u884c\u7f16\u53f7\uff0c\u6301\u4e45\u8282\u70b9\u987a\u5e8f\u8282\u70b9\u5c31\u662f\u6709\u987a\u5e8f\u7684\u6301\u4e45\u8282\u70b9\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e34\u65f6\u8282\u70b9")," \uff1a\u548c\u6301\u4e45\u8282\u70b9\u76f8\u53cd\uff0c\u5f53\u521b\u5efa\u8282\u70b9\u7684\u5ba2\u6237\u7aef\u4e0ezookeeper\u65ad\u5f00\u8fde\u63a5\u540e\uff0c\u4e34\u65f6\u8282\u70b9\u4f1a\u88ab\u5220\u9664\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e34\u65f6\u987a\u5e8f\u8282\u70b9")," \uff1a\u6709\u987a\u5e8f\u7684\u4e34\u65f6\u8282\u70b9\u3002")),(0,l.kt)("p",null,"Zookeeper\u5206\u5e03\u5f0f\u9501\u5b9e\u73b0\u5e94\u7528\u4e86",(0,l.kt)("strong",{parentName:"p"},"\u4e34\u65f6\u987a\u5e8f\u8282\u70b9")," \u3002\u8fd9\u91cc\u4e0d\u8d34\u4ee3\u7801\u5566\uff0c\u6765\u8bb2\u4e0bzk\u5206\u5e03\u5f0f\u9501\u7684\u5b9e\u73b0\u539f\u7406\u5427\u3002"),(0,l.kt)("h5",{id:"zk\u83b7\u53d6\u9501\u8fc7\u7a0b"},"zk\u83b7\u53d6\u9501\u8fc7\u7a0b"),(0,l.kt)("p",null,"\u5f53\u7b2c\u4e00\u4e2a\u5ba2\u6237\u7aef\u8bf7\u6c42\u8fc7\u6765\u65f6\uff0cZookeeper\u5ba2\u6237\u7aef\u4f1a\u521b\u5efa\u4e00\u4e2a\u6301\u4e45\u8282\u70b9",(0,l.kt)("inlineCode",{parentName:"p"},"locks"),"\u3002\u5982\u679c\u5b83\uff08Client1\uff09\u60f3\u83b7\u5f97\u9501\uff0c\u9700\u8981\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"locks"),"\u8282\u70b9\u4e0b\u521b\u5efa\u4e00\u4e2a\u987a\u5e8f\u8282\u70b9",(0,l.kt)("inlineCode",{parentName:"p"},"lock1"),".\u5982\u56fe"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725154831233",src:n(78531).Z,width:"1080",height:"521"})),(0,l.kt)("p",null,"\u63a5\u7740\uff0c\u5ba2\u6237\u7aefClient1\u4f1a\u67e5\u627e",(0,l.kt)("inlineCode",{parentName:"p"},"locks"),"\u4e0b\u9762\u7684\u6240\u6709\u4e34\u65f6\u987a\u5e8f\u5b50\u8282\u70b9\uff0c\u5224\u65ad\u81ea\u5df1\u7684\u8282\u70b9",(0,l.kt)("inlineCode",{parentName:"p"},"lock1"),"\u662f\u4e0d\u662f\u6392\u5e8f\u6700\u5c0f\u7684\u90a3\u4e00\u4e2a\uff0c\u5982\u679c\u662f\uff0c\u5219\u6210\u529f\u83b7\u5f97\u9501\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725154850768",src:n(47908).Z,width:"1080",height:"516"})),(0,l.kt)("p",null,"\u8fd9\u65f6\u5019\u5982\u679c\u53c8\u6765\u4e00\u4e2a\u5ba2\u6237\u7aefclient2\u524d\u6765\u5c1d\u8bd5\u83b7\u5f97\u9501\uff0c\u5b83\u4f1a\u5728locks\u4e0b\u518d\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u8282\u70b9",(0,l.kt)("inlineCode",{parentName:"p"},"lock2")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725154905321",src:n(19750).Z,width:"1080",height:"542"})),(0,l.kt)("p",null,"\u5ba2\u6237\u7aefclient2\u4e00\u6837\u4e5f\u4f1a\u67e5\u627elocks\u4e0b\u9762\u7684\u6240\u6709\u4e34\u65f6\u987a\u5e8f\u5b50\u8282\u70b9\uff0c\u5224\u65ad\u81ea\u5df1\u7684\u8282\u70b9lock2\u662f\u4e0d\u662f\u6700\u5c0f\u7684\uff0c\u6b64\u65f6\uff0c\u53d1\u73b0lock1\u624d\u662f\u6700\u5c0f\u7684\uff0c\u4e8e\u662f\u83b7\u53d6\u9501\u5931\u8d25\u3002\u83b7\u53d6\u9501\u5931\u8d25\uff0c\u5b83\u662f\u4e0d\u4f1a\u7518\u5fc3\u7684\uff0cclient2\u5411\u5b83\u6392\u5e8f\u9760\u524d\u7684\u8282\u70b9lock1\u6ce8\u518cWatcher\u4e8b\u4ef6\uff0c\u7528\u6765\u76d1\u542clock1\u662f\u5426\u5b58\u5728\uff0c\u4e5f\u5c31\u662f\u8bf4client2\u62a2\u9501\u5931\u8d25\u8fdb\u5165\u7b49\u5f85\u72b6\u6001\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725154920071",src:n(19241).Z,width:"1080",height:"533"})),(0,l.kt)("p",null,"\u6b64\u65f6\uff0c\u5982\u679c\u518d\u6765\u4e00\u4e2a\u5ba2\u6237\u7aefClient3\u6765\u5c1d\u8bd5\u83b7\u53d6\u9501\uff0c\u5b83\u4f1a\u5728locks\u4e0b\u518d\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u8282\u70b9lock3"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725154933777",src:n(82634).Z,width:"1080",height:"525"})),(0,l.kt)("p",null,"\u540c\u6837\u7684\uff0cclient3\u4e00\u6837\u4e5f\u4f1a\u67e5\u627elocks\u4e0b\u9762\u7684\u6240\u6709\u4e34\u65f6\u987a\u5e8f\u5b50\u8282\u70b9\uff0c\u5224\u65ad\u81ea\u5df1\u7684\u8282\u70b9lock3\u662f\u4e0d\u662f\u6700\u5c0f\u7684\uff0c\u53d1\u73b0\u81ea\u5df1\u4e0d\u662f\u6700\u5c0f\u7684\uff0c\u5c31\u83b7\u53d6\u9501\u5931\u8d25\u3002\u5b83\u4e5f\u662f\u4e0d\u4f1a\u7518\u5fc3\u7684\uff0c\u5b83\u4f1a\u5411\u5728\u5b83\u524d\u9762\u7684\u8282\u70b9lock2\u6ce8\u518cWatcher\u4e8b\u4ef6\uff0c\u4ee5\u76d1\u542clock2\u8282\u70b9\u662f\u5426\u5b58\u5728\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725154939637",src:n(36979).Z,width:"1080",height:"520"})),(0,l.kt)("h3",{id:"\u96c6\u7fa4\u8111\u88c2\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u600e\u4e48\u529e"},"\u96c6\u7fa4\u8111\u88c2\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u600e\u4e48\u529e\uff1f"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4ec0\u4e48\u662f\u8111\u88c2\uff1f")),(0,l.kt)("p",null,"\u5148\u6765\u7406\u89e3\u96c6\u7fa4\u7684\u8111\u88c2\u73b0\u8c61\uff0c\u8fd9\u5c31\u597d\u6bd4\u4e00\u4e2a\u4eba\u6709\u4e24\u4e2a\u5927\u8111\uff0c\u90a3\u4e48\u5230\u5e95\u53d7\u8c01\u63a7\u5236\u5462\uff1f"),(0,l.kt)("p",null,"\u90a3\u4e48\u5728 Redis \u4e2d\uff0c\u96c6\u7fa4\u8111\u88c2\u4ea7\u751f\u6570\u636e\u4e22\u5931\u7684\u73b0\u8c61\u662f\u600e\u6837\u7684\u5462\uff1f"),(0,l.kt)("p",null,"\u5728 Redis \u4e3b\u4ece\u67b6\u6784\u4e2d\uff0c\u90e8\u7f72\u65b9\u5f0f\u4e00\u822c\u662f\u300c\u4e00\u4e3b\u591a\u4ece\u300d\uff0c\u4e3b\u8282\u70b9\u63d0\u4f9b\u5199\u64cd\u4f5c\uff0c\u4ece\u8282\u70b9\u63d0\u4f9b\u8bfb\u64cd\u4f5c\u3002 \u5982\u679c\u4e3b\u8282\u70b9\u7684\u7f51\u7edc\u7a81\u7136\u53d1\u751f\u4e86\u95ee\u9898\uff0c\u5b83\u4e0e\u6240\u6709\u7684\u4ece\u8282\u70b9\u90fd\u5931\u8054\u4e86\uff0c\u4f46\u662f\u6b64\u65f6\u7684\u4e3b\u8282\u70b9\u548c\u5ba2\u6237\u7aef\u7684\u7f51\u7edc\u662f\u6b63\u5e38\u7684\uff0c\u8fd9\u4e2a\u5ba2\u6237\u7aef\u5e76\u4e0d\u77e5\u9053 Redis  \u5185\u90e8\u5df2\u7ecf\u51fa\u73b0\u4e86\u95ee\u9898\uff0c\u8fd8\u5728\u7167\u6837\u7684\u5411\u8fd9\u4e2a\u5931\u8054\u7684\u4e3b\u8282\u70b9\u5199\u6570\u636e\uff08\u8fc7\u7a0bA\uff09\uff0c\u6b64\u65f6\u8fd9\u4e9b\u6570\u636e\u88ab\u65e7\u4e3b\u8282\u70b9\u7f13\u5b58\u5230\u4e86\u7f13\u51b2\u533a\u91cc\uff0c\u56e0\u4e3a\u4e3b\u4ece\u8282\u70b9\u4e4b\u95f4\u7684\u7f51\u7edc\u95ee\u9898\uff0c\u8fd9\u4e9b\u6570\u636e\u90fd\u662f\u65e0\u6cd5\u540c\u6b65\u7ed9\u4ece\u8282\u70b9\u7684\u3002"),(0,l.kt)("p",null,"\u8fd9\u65f6\uff0c\u54e8\u5175\u4e5f\u53d1\u73b0\u4e3b\u8282\u70b9\u5931\u8054\u4e86\uff0c\u5b83\u5c31\u8ba4\u4e3a\u4e3b\u8282\u70b9\u6302\u4e86\uff08\u4f46\u5b9e\u9645\u4e0a\u4e3b\u8282\u70b9\u6b63\u5e38\u8fd0\u884c\uff0c\u53ea\u662f\u7f51\u7edc\u51fa\u95ee\u9898\u4e86\uff09\uff0c\u4e8e\u662f\u54e8\u5175\u5c31\u4f1a\u5728\u300c\u4ece\u8282\u70b9\u300d\u4e2d\u9009\u4e3e\u51fa\u4e00\u4e2a leeder \u4f5c\u4e3a\u4e3b\u8282\u70b9\uff0c\u8fd9\u65f6\u96c6\u7fa4\u5c31\u6709\u4e24\u4e2a\u4e3b\u8282\u70b9\u4e86 \u2014\u2014 ",(0,l.kt)("strong",{parentName:"p"},"\u8111\u88c2\u51fa\u73b0\u4e86"),"\u3002"),(0,l.kt)("p",null,"\u7136\u540e\uff0c\u7f51\u7edc\u7a81\u7136\u597d\u4e86\uff0c\u54e8\u5175\u56e0\u4e3a\u4e4b\u524d\u5df2\u7ecf\u9009\u4e3e\u51fa\u4e00\u4e2a\u65b0\u4e3b\u8282\u70b9\u4e86\uff0c\u5b83\u5c31\u4f1a\u628a\u65e7\u4e3b\u8282\u70b9\u964d\u7ea7\u4e3a\u4ece\u8282\u70b9\uff08A\uff09\uff0c\u7136\u540e\u4ece\u8282\u70b9\uff08A\uff09\u4f1a\u5411\u65b0\u4e3b\u8282\u70b9\u8bf7\u6c42\u6570\u636e\u540c\u6b65\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u56e0\u4e3a\u7b2c\u4e00\u6b21\u540c\u6b65\u662f\u5168\u91cf\u540c\u6b65\u7684\u65b9\u5f0f\uff0c\u6b64\u65f6\u7684\u4ece\u8282\u70b9\uff08A\uff09\u4f1a\u6e05\u7a7a\u6389\u81ea\u5df1\u672c\u5730\u7684\u6570\u636e\uff0c\u7136\u540e\u518d\u505a\u5168\u91cf\u540c\u6b65\u3002\u6240\u4ee5\uff0c\u4e4b\u524d\u5ba2\u6237\u7aef\u5728\u8fc7\u7a0b A \u5199\u5165\u7684\u6570\u636e\u5c31\u4f1a\u4e22\u5931\u4e86\uff0c\u4e5f\u5c31\u662f\u96c6\u7fa4\u4ea7\u751f\u8111\u88c2\u6570\u636e\u4e22\u5931\u7684\u95ee\u9898"),"\u3002"),(0,l.kt)("p",null,"\u603b\u7ed3\u4e00\u53e5\u8bdd\u5c31\u662f\uff1a\u7531\u4e8e\u7f51\u7edc\u95ee\u9898\uff0c\u96c6\u7fa4\u8282\u70b9\u4e4b\u95f4\u5931\u53bb\u8054\u7cfb\u3002\u4e3b\u4ece\u6570\u636e\u4e0d\u540c\u6b65\uff1b\u91cd\u65b0\u5e73\u8861\u9009\u4e3e\uff0c\u4ea7\u751f\u4e24\u4e2a\u4e3b\u670d\u52a1\u3002\u7b49\u7f51\u7edc\u6062\u590d\uff0c\u65e7\u4e3b\u8282\u70b9\u4f1a\u964d\u7ea7\u4e3a\u4ece\u8282\u70b9\uff0c\u518d\u4e0e\u65b0\u4e3b\u8282\u70b9\u8fdb\u884c\u540c\u6b65\u590d\u5236\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u4f1a\u4ece\u8282\u70b9\u4f1a\u6e05\u7a7a\u81ea\u5df1\u7684\u7f13\u51b2\u533a\uff0c\u6240\u4ee5\u5bfc\u81f4\u4e4b\u524d\u5ba2\u6237\u7aef\u5199\u5165\u7684\u6570\u636e\u4e22\u5931\u4e86\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u89e3\u51b3\u65b9\u6848")),(0,l.kt)("p",null,"\u5f53\u4e3b\u8282\u70b9\u53d1\u73b0\u4ece\u8282\u70b9\u4e0b\u7ebf\u6216\u8005\u901a\u4fe1\u8d85\u65f6\u7684\u603b\u6570\u91cf\u5c0f\u4e8e\u9608\u503c\u65f6\uff0c\u90a3\u4e48\u7981\u6b62\u4e3b\u8282\u70b9\u8fdb\u884c\u5199\u6570\u636e\uff0c\u76f4\u63a5\u628a\u9519\u8bef\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002"),(0,l.kt)("p",null,"\u5728 Redis \u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u6709\u4e24\u4e2a\u53c2\u6570\u6211\u4eec\u53ef\u4ee5\u8bbe\u7f6e\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"min-slaves-to-write x\uff0c\u4e3b\u8282\u70b9\u5fc5\u987b\u8981\u6709\u81f3\u5c11 x \u4e2a\u4ece\u8282\u70b9\u8fde\u63a5\uff0c\u5982\u679c\u5c0f\u4e8e\u8fd9\u4e2a\u6570\uff0c\u4e3b\u8282\u70b9\u4f1a\u7981\u6b62\u5199\u6570\u636e\u3002"),(0,l.kt)("li",{parentName:"ul"},"min-slaves-max-lag x\uff0c\u4e3b\u4ece\u6570\u636e\u590d\u5236\u548c\u540c\u6b65\u7684\u5ef6\u8fdf\u4e0d\u80fd\u8d85\u8fc7 x \u79d2\uff0c\u5982\u679c\u8d85\u8fc7\uff0c\u4e3b\u8282\u70b9\u4f1a\u7981\u6b62\u5199\u6570\u636e\u3002")),(0,l.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u628a min-slaves-to-write \u548c min-slaves-max-lag \u8fd9\u4e24\u4e2a\u914d\u7f6e\u9879\u642d\u914d\u8d77\u6765\u4f7f\u7528\uff0c\u5206\u522b\u7ed9\u5b83\u4eec\u8bbe\u7f6e\u4e00\u5b9a\u7684\u9608\u503c\uff0c\u5047\u8bbe\u4e3a N \u548c T\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e24\u4e2a\u914d\u7f6e\u9879\u7ec4\u5408\u540e\u7684\u8981\u6c42\u662f\uff0c\u4e3b\u5e93\u8fde\u63a5\u7684\u4ece\u5e93\u4e2d\u81f3\u5c11\u6709 N \u4e2a\u4ece\u5e93\uff0c\u548c\u4e3b\u5e93\u8fdb\u884c\u6570\u636e\u590d\u5236\u65f6\u7684 ACK \u6d88\u606f\u5ef6\u8fdf\u4e0d\u80fd\u8d85\u8fc7 T \u79d2\uff0c\u5426\u5219\uff0c\u4e3b\u5e93\u5c31\u4e0d\u4f1a\u518d\u63a5\u6536\u5ba2\u6237\u7aef\u7684\u5199\u8bf7\u6c42\u4e86\u3002"),(0,l.kt)("p",null,"\u5373\u4f7f\u539f\u4e3b\u5e93\u662f\u5047\u6545\u969c\uff0c\u5b83\u5728\u5047\u6545\u969c\u671f\u95f4\u4e5f\u65e0\u6cd5\u54cd\u5e94\u54e8\u5175\u5fc3\u8df3\uff0c\u4e5f\u4e0d\u80fd\u548c\u4ece\u5e93\u8fdb\u884c\u540c\u6b65\uff0c\u81ea\u7136\u4e5f\u5c31\u65e0\u6cd5\u548c\u4ece\u5e93\u8fdb\u884c ACK \u786e\u8ba4\u4e86\u3002\u8fd9\u6837\u4e00\u6765\uff0cmin-slaves-to-write \u548c min-slaves-max-lag \u7684\u7ec4\u5408\u8981\u6c42\u5c31\u65e0\u6cd5\u5f97\u5230\u6ee1\u8db3\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u539f\u4e3b\u5e93\u5c31\u4f1a\u88ab\u9650\u5236\u63a5\u6536\u5ba2\u6237\u7aef\u5199\u8bf7\u6c42\uff0c\u5ba2\u6237\u7aef\u4e5f\u5c31\u4e0d\u80fd\u5728\u539f\u4e3b\u5e93\u4e2d\u5199\u5165\u65b0\u6570\u636e\u4e86"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7b49\u5230\u65b0\u4e3b\u5e93\u4e0a\u7ebf\u65f6\uff0c\u5c31\u53ea\u6709\u65b0\u4e3b\u5e93\u80fd\u63a5\u6536\u548c\u5904\u7406\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u6b64\u65f6\uff0c\u65b0\u5199\u7684\u6570\u636e\u4f1a\u88ab\u76f4\u63a5\u5199\u5230\u65b0\u4e3b\u5e93\u4e2d\u3002\u800c\u539f\u4e3b\u5e93\u4f1a\u88ab\u54e8\u5175\u964d\u4e3a\u4ece\u5e93\uff0c\u5373\u4f7f\u5b83\u7684\u6570\u636e\u88ab\u6e05\u7a7a\u4e86\uff0c\u4e5f\u4e0d\u4f1a\u6709\u65b0\u6570\u636e\u4e22\u5931\u3002")),(0,l.kt)("p",null,"\u518d\u6765\u4e3e\u4e2a\u4f8b\u5b50\u3002"),(0,l.kt)("p",null,"\u5047\u8bbe\u6211\u4eec\u5c06 min-slaves-to-write \u8bbe\u7f6e\u4e3a 1\uff0c\u628a min-slaves-max-lag \u8bbe\u7f6e\u4e3a 12s\uff0c\u628a\u54e8\u5175\u7684  down-after-milliseconds \u8bbe\u7f6e\u4e3a 10s\uff0c\u4e3b\u5e93\u56e0\u4e3a\u67d0\u4e9b\u539f\u56e0\u5361\u4f4f\u4e86 15s\uff0c\u5bfc\u81f4\u54e8\u5175\u5224\u65ad\u4e3b\u5e93\u5ba2\u89c2\u4e0b\u7ebf\uff0c\u5f00\u59cb\u8fdb\u884c\u4e3b\u4ece\u5207\u6362\u3002"),(0,l.kt)("p",null,"\u540c\u65f6\uff0c\u56e0\u4e3a\u539f\u4e3b\u5e93\u5361\u4f4f\u4e86 15s\uff0c\u6ca1\u6709\u4e00\u4e2a\u4ece\u5e93\u80fd\u548c\u539f\u4e3b\u5e93\u5728 12s \u5185\u8fdb\u884c\u6570\u636e\u590d\u5236\uff0c\u539f\u4e3b\u5e93\u4e5f\u65e0\u6cd5\u63a5\u6536\u5ba2\u6237\u7aef\u8bf7\u6c42\u4e86\u3002"),(0,l.kt)("p",null,"\u8fd9\u6837\u4e00\u6765\uff0c\u4e3b\u4ece\u5207\u6362\u5b8c\u6210\u540e\uff0c\u4e5f\u53ea\u6709\u65b0\u4e3b\u5e93\u80fd\u63a5\u6536\u8bf7\u6c42\uff0c\u4e0d\u4f1a\u53d1\u751f\u8111\u88c2\uff0c\u4e5f\u5c31\u4e0d\u4f1a\u53d1\u751f\u6570\u636e\u4e22\u5931\u7684\u95ee\u9898\u4e86\u3002"),(0,l.kt)("h2",{id:"-\u6d88\u606f\u961f\u5217"},"\ud83d\udced \u6d88\u606f\u961f\u5217"),(0,l.kt)("h3",{id:"\u6d88\u606f\u961f\u5217\u6709\u54ea\u4e9b\u4f7f\u7528\u573a\u666f-or-\u4e3a\u4ec0\u4e48\u4f7f\u7528\u6d88\u606f\u961f\u5217"},"\u6d88\u606f\u961f\u5217\u6709\u54ea\u4e9b\u4f7f\u7528\u573a\u666f \uff08or \u4e3a\u4ec0\u4e48\u4f7f\u7528\u6d88\u606f\u961f\u5217\uff09"),(0,l.kt)("p",null,"\u5176\u5b9e\u5c31\u662f\u95ee\u95ee\u4f60\u6d88\u606f\u961f\u5217\u90fd\u6709\u54ea\u4e9b\u4f7f\u7528\u573a\u666f\uff0c\u7136\u540e\u4f60\u9879\u76ee\u91cc\u5177\u4f53\u662f\u4ec0\u4e48\u573a\u666f\uff0c\u8bf4\u8bf4\u4f60\u5728\u8fd9\u4e2a\u573a\u666f\u91cc\u7528\u6d88\u606f\u961f\u5217\u662f\u4ec0\u4e48\uff1f"),(0,l.kt)("p",null,"\u9762\u8bd5\u5b98\u95ee\u4f60\u8fd9\u4e2a\u95ee\u9898\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u671f\u671b\u7684\u4e00\u4e2a\u56de\u7b54"),"\u662f\u8bf4\uff0c\u4f60\u4eec\u516c\u53f8\u6709\u4e2a\u4ec0\u4e48",(0,l.kt)("strong",{parentName:"p"},"\u4e1a\u52a1\u573a\u666f"),"\uff0c\u8fd9\u4e2a\u4e1a\u52a1\u573a\u666f\u6709\u4e2a\u4ec0\u4e48\u6280\u672f\u6311\u6218\uff0c\u5982\u679c\u4e0d\u7528 MQ \u53ef\u80fd\u4f1a\u5f88\u9ebb\u70e6\uff0c\u4f46\u662f\u4f60\u73b0\u5728\u7528\u4e86 MQ \u4e4b\u540e\u5e26\u7ed9\u4e86\u4f60\u5f88\u591a\u7684\u597d\u5904\u3002"),(0,l.kt)("p",null,"\u5148\u8bf4\u4e00\u4e0b\u6d88\u606f\u961f\u5217\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u666f\u5427\uff0c\u5176\u5b9e\u573a\u666f\u6709\u5f88\u591a\uff0c\u4f46\u662f\u6bd4\u8f83\u6838\u5fc3\u7684\u6709 3 \u4e2a\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u89e3\u8026"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u5f02\u6b65"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u524a\u5cf0"),"\u3002"),(0,l.kt)("h4",{id:"\u5e94\u7528\u89e3\u8026"},"\u5e94\u7528\u89e3\u8026"),(0,l.kt)("p",null,"\u4e3e\u4e2a\u5e38\u89c1\u4e1a\u52a1\u573a\u666f\uff1a\u4e0b\u5355\u6263\u5e93\u5b58\uff0c\u7528\u6237\u4e0b\u5355\u540e\uff0c\u8ba2\u5355\u7cfb\u7edf\u53bb\u901a\u77e5\u5e93\u5b58\u7cfb\u7edf\u6263\u51cf\u3002"),(0,l.kt)("p",null,"\u4f20\u7edf\u7684\u505a\u6cd5\u5c31\u662f\u8ba2\u5355\u7cfb\u7edf\u76f4\u63a5\u8c03\u7528\u5e93\u5b58\u7cfb\u7edf\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622201936640",src:n(89118).Z,width:"608",height:"205"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u5e93\u5b58\u7cfb\u7edf\u65e0\u6cd5\u8bbf\u95ee\uff0c\u4e0b\u5355\u5c31\u4f1a\u5931\u8d25\uff0c\u8ba2\u5355\u548c\u5e93\u5b58\u7cfb\u7edf\u5b58\u5728\u8026\u5408\u5173\u7cfb"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e1a\u52a1\u53c8\u63a5\u5165\u4e00\u4e2a\u8425\u9500\u79ef\u5206\u670d\u52a1\uff0c\u90a3\u8ba2\u5355\u4e0b\u6e38\u7cfb\u7edf\u8981\u6269\u5145\uff0c\u5982\u679c\u672a\u6765\u63a5\u5165\u8d8a\u6765\u8d8a\u591a\u7684\u4e0b\u6e38\u7cfb\u7edf\uff0c\u90a3\u8ba2\u5355\u7cfb\u7edf\u4ee3\u7801\u9700\u8981\u7ecf\u5e38\u4fee\u6539")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622201957609",src:n(78640).Z,width:"595",height:"380"})),(0,l.kt)("p",null,"\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\u53ef\u4ee5\u5f15\u5165\u6d88\u606f\u961f\u5217"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622202006170",src:n(39775).Z,width:"784",height:"289"})),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u8ba2\u5355\u7cfb\u7edf\uff1a\u7528\u6237\u4e0b\u5355\u540e\uff0c\u6d88\u606f\u5199\u5165\u5230\u6d88\u606f\u961f\u5217\uff0c\u8fd4\u56de\u4e0b\u5355\u6210\u529f"),(0,l.kt)("li",{parentName:"ol"},"\u5e93\u5b58\u7cfb\u7edf\uff1a\u8ba2\u9605\u4e0b\u5355\u6d88\u606f\uff0c\u83b7\u53d6\u4e0b\u5355\u4fe1\u606f\uff0c\u8fdb\u884c\u5e93\u5b58\u64cd\u4f5c")),(0,l.kt)("h4",{id:"\u6d41\u91cf\u524a\u5cf0"},"\u6d41\u91cf\u524a\u5cf0"),(0,l.kt)("p",null,"\u6d41\u91cf\u524a\u5cf0\u4e5f\u662f\u6d88\u606f\u961f\u5217\u7684\u5e38\u7528\u573a\u666f\u3002\u6211\u4eec\u505a\u79d2\u6740\u5b9e\u73b0\u7684\u65f6\u5019\uff0c\u9700\u8981\u907f\u514d\u6d41\u91cf\u66b4\u6da8\uff0c\u6253\u57ae\u5e94\u7528\u7cfb\u7edf\u7684\u98ce\u9669\u3002\u53ef\u4ee5\u5728\u5e94\u7528\u524d\u9762\u52a0\u5165\u6d88\u606f\u961f\u5217\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622202028028",src:n(42422).Z,width:"928",height:"199"})),(0,l.kt)("p",null,"\u5047\u8bbe\u79d2\u6740\u7cfb\u7edf\u6bcf\u79d2\u6700\u591a\u53ef\u4ee5\u5904\u7406 2k \u4e2a\u8bf7\u6c42\uff0c\u6bcf\u79d2\u5374\u6709 5k \u7684\u8bf7\u6c42\u8fc7\u6765\uff0c\u53ef\u4ee5\u5f15\u5165\u6d88\u606f\u961f\u5217\uff0c\u79d2\u6740\u7cfb\u7edf\u6bcf\u79d2\u4ece\u6d88\u606f\u961f\u5217\u62c9 2k \u8bf7\u6c42\u5904\u7406\u5f97\u4e86\u3002"),(0,l.kt)("p",null,"\u6709\u4e9b\u4f19\u4f34\u62c5\u5fc3\u8fd9\u6837\u4f1a\u51fa\u73b0\u6d88\u606f\u79ef\u538b\u7684\u95ee\u9898\uff0c"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9996\u5148\u79d2\u6740\u6d3b\u52a8\u4e0d\u4f1a\u6bcf\u65f6\u6bcf\u523b\u90fd\u90a3\u4e48\u591a\u8bf7\u6c42\u8fc7\u6765\uff0c\u9ad8\u5cf0\u671f\u8fc7\u53bb\u540e\uff0c\u79ef\u538b\u7684\u8bf7\u6c42\u53ef\u4ee5\u6162\n\u6162\u5904\u7406\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5176\u6b21\uff0c\u5982\u679c\u6d88\u606f\u961f\u5217\u957f\u5ea6\u8d85\u8fc7\u6700\u5927\u6570\u91cf\uff0c\u53ef\u4ee5\u76f4\u63a5\u629b\u5f03\u7528\u6237\u8bf7\u6c42\u6216\u8df3\u8f6c\u5230\u9519\u8bef\u9875\u9762\uff1b")),(0,l.kt)("h4",{id:"\u5f02\u6b65\u5904\u7406"},"\u5f02\u6b65\u5904\u7406"),(0,l.kt)("p",null,"\u6211\u4eec\u7ecf\u5e38\u4f1a\u9047\u5230\u8fd9\u6837\u7684\u4e1a\u52a1\u573a\u666f\uff1a\u7528\u6237\u6ce8\u518c\u6210\u529f\u540e\uff0c\u7ed9\u5b83\u53d1\u4e2a\u77ed\u4fe1\u548c\u53d1\u4e2a\u90ae\u4ef6\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u6ce8\u518c\u4fe1\u606f\u5165\u5e93\u662f 30ms\uff0c\u53d1\u77ed\u4fe1\u3001\u90ae\u4ef6\u4e5f\u662f 30ms\uff0c\u4e09\u4e2a\u52a8\u4f5c\u4e32\u884c\u6267\u884c\u7684\u8bdd\uff0c\u4f1a\u6bd4\u8f83\u8017\u65f6\uff0c\u54cd\u5e94 90ms\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622202122102",src:n(99740).Z,width:"999",height:"206"})),(0,l.kt)("p",null,"\u5982\u679c\u91c7\u7528\u5e76\u884c\u6267\u884c\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u51cf\u5c11\u54cd\u5e94\u65f6\u95f4\u3002\u6ce8\u518c\u4fe1\u606f\u5165\u5e93\u540e\uff0c\u540c\u65f6\u5f02\u6b65\u53d1\u77ed\u4fe1\u548c\u90ae\u4ef6\u3002\u5982\u4f55\u5b9e\u73b0\u5f02\u6b65\u5462\uff0c\u7528\u6d88\u606f\u961f\u5217\u5373\u53ef\uff0c\u5c31\u662f\u8bf4\uff0c\u6ce8\u518c\u4fe1\u606f\u5165\u5e93\u6210\u529f\u540e\uff0c\u5199\u5165\u5230\u6d88\u606f\u961f\u5217\uff08\u8fd9\u4e2a\u4e00\u822c\u6bd4\u8f83\u5feb\uff0c\u5982\u53ea\u9700\u89813ms\uff09\uff0c\u7136\u540e\u5f02\u6b65\u8bfb\u53d6\u53d1\u90ae\u4ef6\u548c\u77ed\u4fe1\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622202150827",src:n(94646).Z,width:"1003",height:"406"})),(0,l.kt)("h3",{id:"\u6b7b\u4fe1\u961f\u5217\u5ef6\u8fdf\u961f\u5217"},"\u6b7b\u4fe1\u961f\u5217&\u5ef6\u8fdf\u961f\u5217"),(0,l.kt)("p",null,"\u6d88\u8d39\u5931\u8d25\u7684\u6d88\u606f\u5b58\u653e\u7684\u961f\u5217\u3002"),(0,l.kt)("p",null,"\u6d88\u606f\u6d88\u8d39\u5931\u8d25\u7684\u539f\u56e0\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6d88\u606f\u88ab\u62d2\u7edd\u5e76\u4e14\u6d88\u606f\u6ca1\u6709\u91cd\u65b0\u5165\u961f\uff08requeue=false\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u6d88\u606f\u8d85\u65f6\u672a\u6d88\u8d39"),(0,l.kt)("li",{parentName:"ul"},"\u8fbe\u5230\u6700\u5927\u961f\u5217\u957f\u5ea6")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220720155246253",src:n(14608).Z,width:"1071",height:"583"})),(0,l.kt)("h3",{id:"mq\u5e38\u7528\u901a\u4fe1\u534f\u8bae"},"MQ\u5e38\u7528\u901a\u4fe1\u534f\u8bae"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"AMQP\u534f\u8bae")," AMQP\u5373Advanced Message Queuing Protocol,\u4e00\u4e2a\u63d0\u4f9b\u7edf\u4e00\u6d88\u606f\u670d\u52a1\u7684\u5e94\u7528\u5c42\u6807\u51c6\u9ad8\u7ea7\u6d88\u606f\u961f\u5217\u534f\u8bae,\u662f\u5e94\u7528\u5c42\u534f\u8bae\u7684\u4e00\u4e2a\u5f00\u653e\u6807\u51c6,\u4e3a\u9762\u5411\u6d88\u606f\u7684\u4e2d\u95f4\u4ef6\u8bbe\u8ba1\u3002\u57fa\u4e8e\u6b64\u534f\u8bae\u7684\u5ba2\u6237\u7aef\u4e0e\u6d88\u606f\u4e2d\u95f4\u4ef6\u53ef\u4f20\u9012\u6d88\u606f\uff0c\u5e76\u4e0d\u53d7\u5ba2\u6237\u7aef/\u4e2d\u95f4\u4ef6\u4e0d\u540c\u4ea7\u54c1\uff0c\u4e0d\u540c\u5f00\u53d1\u8bed\u8a00\u7b49\u6761\u4ef6\u7684\u9650\u5236\u3002"),(0,l.kt)("blockquote",{parentName:"li"},(0,l.kt)("p",{parentName:"blockquote"},"\u4f18\u70b9\uff1a\u53ef\u9760\u3001\u901a\u7528"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"MQTT\u534f\u8bae")," MQTT\uff08Message Queuing Telemetry Transport\uff0c\u6d88\u606f\u961f\u5217\u9065\u6d4b\u4f20\u8f93\uff09\u662fIBM\u5f00\u53d1\u7684\u4e00\u4e2a\u5373\u65f6\u901a\u8baf\u534f\u8bae\uff0c\u6709\u53ef\u80fd\u6210\u4e3a\u7269\u8054\u7f51\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\u3002\u8be5\u534f\u8bae\u652f\u6301\u6240\u6709\u5e73\u53f0\uff0c\u51e0\u4e4e\u53ef\u4ee5\u628a\u6240\u6709\u8054\u7f51\u7269\u54c1\u548c\u5916\u90e8\u8fde\u63a5\u8d77\u6765\uff0c\u88ab\u7528\u6765\u5f53\u505a\u4f20\u611f\u5668\u548c\u81f4\u52a8\u5668\uff08\u6bd4\u5982\u901a\u8fc7Twitter\u8ba9\u623f\u5c4b\u8054\u7f51\uff09\u7684\u901a\u4fe1\u534f\u8bae\u3002"),(0,l.kt)("blockquote",{parentName:"li"},(0,l.kt)("p",{parentName:"blockquote"},"\u4f18\u70b9\uff1a\u683c\u5f0f\u7b80\u6d01\u3001\u5360\u7528\u5e26\u5bbd\u5c0f\u3001\u79fb\u52a8\u7aef\u901a\u4fe1\u3001PUSH\u3001\u5d4c\u5165\u5f0f\u7cfb\u7edf"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"STOMP\u534f\u8bae")," STOMP\uff08Streaming Text Orientated Message Protocol\uff09\u662f\u6d41\u6587\u672c\u5b9a\u5411\u6d88\u606f\u534f\u8bae\uff0c\u662f\u4e00\u79cd\u4e3aMOM(Message Oriented Middleware\uff0c\u9762\u5411\u6d88\u606f\u7684\u4e2d\u95f4\u4ef6)\u8bbe\u8ba1\u7684\u7b80\u5355\u6587\u672c\u534f\u8bae\u3002STOMP\u63d0\u4f9b\u4e00\u4e2a\u53ef\u4e92\u64cd\u4f5c\u7684\u8fde\u63a5\u683c\u5f0f\uff0c\u5141\u8bb8\u5ba2\u6237\u7aef\u4e0e\u4efb\u610fSTOMP\u6d88\u606f\u4ee3\u7406\uff08Broker\uff09\u8fdb\u884c\u4ea4\u4e92\u3002"),(0,l.kt)("blockquote",{parentName:"li"},(0,l.kt)("p",{parentName:"blockquote"},"\u4f18\u70b9\uff1a\u547d\u4ee4\u6a21\u5f0f\uff08\u975etopic/queue\u6a21\u5f0f\uff09"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"XMPP\u534f\u8bae")," XMPP\uff08\u53ef\u6269\u5c55\u6d88\u606f\u5904\u7406\u73b0\u573a\u534f\u8bae\uff0cExtensible Messaging and Presence Protocol\uff09\u662f\u57fa\u4e8e\u53ef\u6269\u5c55\u6807\u8bb0\u8bed\u8a00\uff08XML\uff09\u7684\u534f\u8bae\uff0c\u591a\u7528\u4e8e\u5373\u65f6\u6d88\u606f\uff08IM\uff09\u4ee5\u53ca\u5728\u7ebf\u73b0\u573a\u63a2\u6d4b\u3002\u9002\u7528\u4e8e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u51c6\u5373\u65f6\u64cd\u4f5c\u3002\u6838\u5fc3\u662f\u57fa\u4e8eXML\u6d41\u4f20\u8f93\uff0c\u8fd9\u4e2a\u534f\u8bae\u53ef\u80fd\u6700\u7ec8\u5141\u8bb8\u56e0\u7279\u7f51\u7528\u6237\u5411\u56e0\u7279\u7f51\u4e0a\u7684\u5176\u4ed6\u4efb\u4f55\u4eba\u53d1\u9001\u5373\u65f6\u6d88\u606f\uff0c\u5373\u4f7f\u5176\u64cd\u4f5c\u7cfb\u7edf\u548c\u6d4f\u89c8\u5668\u4e0d\u540c\u3002"),(0,l.kt)("blockquote",{parentName:"li"},(0,l.kt)("p",{parentName:"blockquote"},"\u4f18\u70b9\uff1a\u901a\u7528\u516c\u5f00\u3001\u517c\u5bb9\u6027\u5f3a\u3001\u53ef\u6269\u5c55\u3001\u5b89\u5168\u6027\u9ad8\uff0c\u4f46XML\u7f16\u7801\u683c\u5f0f\u5360\u7528\u5e26\u5bbd\u5927"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"\u5176\u4ed6\u57fa\u4e8eTCP/IP\u81ea\u5b9a\u4e49\u7684\u534f\u8bae"),"\uff1a\u6709\u4e9b\u7279\u6b8a\u6846\u67b6\uff08\u5982\uff1aredis\u3001kafka\u3001zeroMq\u7b49\uff09\u6839\u636e\u81ea\u8eab\u9700\u8981\u672a\u4e25\u683c\u9075\u5faaMQ\u89c4\u8303\uff0c\u800c\u662f\u57fa\u4e8eTCP\\IP\u81ea\u884c\u5c01\u88c5\u4e86\u4e00\u5957\u534f\u8bae\uff0c\u901a\u8fc7\u7f51\u7edcsocket\u63a5\u53e3\u8fdb\u884c\u4f20\u8f93\uff0c\u5b9e\u73b0\u4e86MQ\u7684\u529f\u80fd\u3002"))),(0,l.kt)("h3",{id:"\u5982\u4f55\u4fdd\u8bc1\u6d88\u606f\u961f\u5217\u7684\u9ad8\u53ef\u7528"},"\u5982\u4f55\u4fdd\u8bc1\u6d88\u606f\u961f\u5217\u7684\u9ad8\u53ef\u7528\uff1f"),(0,l.kt)("h4",{id:"rabbitmq-\u7684\u9ad8\u53ef\u7528\u6027"},"RabbitMQ \u7684\u9ad8\u53ef\u7528\u6027"),(0,l.kt)("p",null,"RabbitMQ \u662f\u6bd4\u8f83\u6709\u4ee3\u8868\u6027\u7684\uff0c\u56e0\u4e3a\u662f",(0,l.kt)("strong",{parentName:"p"},"\u57fa\u4e8e\u4e3b\u4ece"),"\uff08\u975e\u5206\u5e03\u5f0f\uff09\u505a\u9ad8\u53ef\u7528\u6027\u7684\uff0c\u6211\u4eec\u5c31\u4ee5 RabbitMQ \u4e3a\u4f8b\u5b50\u8bb2\u89e3\u7b2c\u4e00\u79cd MQ \u7684\u9ad8\u53ef\u7528\u6027\u600e\u4e48\u5b9e\u73b0\u3002"),(0,l.kt)("p",null,"RabbitMQ \u6709\u4e09\u79cd\u6a21\u5f0f\uff1a\u5355\u673a\u6a21\u5f0f\u3001\u666e\u901a\u96c6\u7fa4\u6a21\u5f0f\u3001\u955c\u50cf\u96c6\u7fa4\u6a21\u5f0f\u3002"),(0,l.kt)("h4",{id:"\u5355\u673a\u6a21\u5f0f"},"\u5355\u673a\u6a21\u5f0f"),(0,l.kt)("p",null,"\u5355\u673a\u6a21\u5f0f\uff0c\u5c31\u662f Demo \u7ea7\u522b\u7684\uff0c\u4e00\u822c\u5c31\u662f\u4f60\u672c\u5730\u542f\u52a8\u4e86\u73a9\u73a9\u513f\u7684\uff0c\u6ca1\u4eba\u751f\u4ea7\u7528\u5355\u673a\u6a21\u5f0f\u3002"),(0,l.kt)("h4",{id:"\u666e\u901a\u96c6\u7fa4\u6a21\u5f0f\u65e0\u9ad8\u53ef\u7528\u6027"},"\u666e\u901a\u96c6\u7fa4\u6a21\u5f0f\uff08\u65e0\u9ad8\u53ef\u7528\u6027\uff09"),(0,l.kt)("p",null,"\u666e\u901a\u96c6\u7fa4\u6a21\u5f0f\uff0c\u610f\u601d\u5c31\u662f\u5728\u591a\u53f0\u673a\u5668\u4e0a\u542f\u52a8\u591a\u4e2a RabbitMQ \u5b9e\u4f8b\uff0c\u6bcf\u53f0\u673a\u5668\u542f\u52a8\u4e00\u4e2a\u3002\u4f60",(0,l.kt)("strong",{parentName:"p"},"\u521b\u5efa\u7684 queue\uff0c\u53ea\u4f1a\u653e\u5728\u4e00\u4e2a RabbitMQ \u5b9e\u4f8b\u4e0a"),"\uff0c\u4f46\u662f\u6bcf\u4e2a\u5b9e\u4f8b\u90fd\u540c\u6b65 queue \u7684\u5143\u6570\u636e\uff08\u5143\u6570\u636e\u53ef\u4ee5\u8ba4\u4e3a\u662f queue \u7684\u4e00\u4e9b\u914d\u7f6e\u4fe1\u606f\uff0c\u901a\u8fc7\u5143\u6570\u636e\uff0c\u53ef\u4ee5\u627e\u5230 queue \u6240\u5728\u5b9e\u4f8b\uff09\u3002\u4f60\u6d88\u8d39\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4e0a\u5982\u679c\u8fde\u63a5\u5230\u4e86\u53e6\u5916\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u90a3\u4e48\u90a3\u4e2a\u5b9e\u4f8b\u4f1a\u4ece queue \u6240\u5728\u5b9e\u4f8b\u4e0a\u62c9\u53d6\u6570\u636e\u8fc7\u6765\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"mq-7",src:n(96893).Z,width:"883",height:"567"})),(0,l.kt)("p",null,"\u8fd9\u79cd\u65b9\u5f0f\u786e\u5b9e\u5f88\u9ebb\u70e6\uff0c\u4e5f\u4e0d\u600e\u4e48\u597d\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u6ca1\u505a\u5230\u6240\u8c13\u7684\u5206\u5e03\u5f0f"),"\uff0c\u5c31\u662f\u4e2a\u666e\u901a\u96c6\u7fa4\u3002\u56e0\u4e3a\u8fd9\u5bfc\u81f4\u4f60\u8981\u4e48\u6d88\u8d39\u8005\u6bcf\u6b21\u968f\u673a\u8fde\u63a5\u4e00\u4e2a\u5b9e\u4f8b\u7136\u540e\u62c9\u53d6\u6570\u636e\uff0c\u8981\u4e48\u56fa\u5b9a\u8fde\u63a5\u90a3\u4e2a queue \u6240\u5728\u5b9e\u4f8b\u6d88\u8d39\u6570\u636e\uff0c\u524d\u8005\u6709",(0,l.kt)("strong",{parentName:"p"},"\u6570\u636e\u62c9\u53d6\u7684\u5f00\u9500"),"\uff0c\u540e\u8005\u5bfc\u81f4",(0,l.kt)("strong",{parentName:"p"},"\u5355\u5b9e\u4f8b\u6027\u80fd\u74f6\u9888"),"\u3002"),(0,l.kt)("p",null,"\u800c\u4e14\u5982\u679c\u90a3\u4e2a\u653e queue \u7684\u5b9e\u4f8b\u5b95\u673a\u4e86\uff0c\u4f1a\u5bfc\u81f4\u63a5\u4e0b\u6765\u5176\u4ed6\u5b9e\u4f8b\u5c31\u65e0\u6cd5\u4ece\u90a3\u4e2a\u5b9e\u4f8b\u62c9\u53d6\uff0c\u5982\u679c\u4f60",(0,l.kt)("strong",{parentName:"p"},"\u5f00\u542f\u4e86\u6d88\u606f\u6301\u4e45\u5316"),"\uff0c\u8ba9 RabbitMQ \u843d\u5730\u5b58\u50a8\u6d88\u606f\u7684\u8bdd\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u6d88\u606f\u4e0d\u4e00\u5b9a\u4f1a\u4e22"),"\uff0c\u5f97\u7b49\u8fd9\u4e2a\u5b9e\u4f8b\u6062\u590d\u4e86\uff0c\u7136\u540e\u624d\u53ef\u4ee5\u7ee7\u7eed\u4ece\u8fd9\u4e2a queue \u62c9\u53d6\u6570\u636e\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\u8fd9\u4e2a\u4e8b\u513f\u5c31\u6bd4\u8f83\u5c34\u5c2c\u4e86\uff0c\u8fd9\u5c31",(0,l.kt)("strong",{parentName:"p"},"\u6ca1\u6709\u4ec0\u4e48\u6240\u8c13\u7684\u9ad8\u53ef\u7528\u6027"),"\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u8fd9\u65b9\u6848\u4e3b\u8981\u662f\u63d0\u9ad8\u541e\u5410\u91cf\u7684"),"\uff0c\u5c31\u662f\u8bf4\u8ba9\u96c6\u7fa4\u4e2d\u591a\u4e2a\u8282\u70b9\u6765\u670d\u52a1\u67d0\u4e2a queue \u7684\u8bfb\u5199\u64cd\u4f5c\u3002"),(0,l.kt)("h4",{id:"\u955c\u50cf\u96c6\u7fa4\u6a21\u5f0f\u9ad8\u53ef\u7528\u6027"},"\u955c\u50cf\u96c6\u7fa4\u6a21\u5f0f\uff08\u9ad8\u53ef\u7528\u6027\uff09"),(0,l.kt)("p",null,"\u8fd9\u79cd\u6a21\u5f0f\uff0c\u624d\u662f\u6240\u8c13\u7684 RabbitMQ \u7684\u9ad8\u53ef\u7528\u6a21\u5f0f\u3002\u8ddf\u666e\u901a\u96c6\u7fa4\u6a21\u5f0f\u4e0d\u4e00\u6837\u7684\u662f\uff0c\u5728\u955c\u50cf\u96c6\u7fa4\u6a21\u5f0f\u4e0b\uff0c\u4f60\u521b\u5efa\u7684 queue\uff0c\u65e0\u8bba\u662f\u5143\u6570\u636e\u8fd8\u662f queue \u91cc\u7684\u6d88\u606f\u90fd\u4f1a",(0,l.kt)("strong",{parentName:"p"},"\u5b58\u5728\u4e8e\u591a\u4e2a\u5b9e\u4f8b\u4e0a"),"\uff0c\u5c31\u662f\u8bf4\uff0c\u6bcf\u4e2a RabbitMQ \u8282\u70b9\u90fd\u6709\u8fd9\u4e2a queue \u7684\u4e00\u4e2a",(0,l.kt)("strong",{parentName:"p"},"\u5b8c\u6574\u955c\u50cf"),"\uff0c\u5305\u542b queue \u7684\u5168\u90e8\u6570\u636e\u7684\u610f\u601d\u3002\u7136\u540e\u6bcf\u6b21\u4f60\u5199\u6d88\u606f\u5230 queue \u7684\u65f6\u5019\uff0c\u90fd\u4f1a\u81ea\u52a8\u628a",(0,l.kt)("strong",{parentName:"p"},"\u6d88\u606f\u540c\u6b65"),"\u5230\u591a\u4e2a\u5b9e\u4f8b\u7684 queue \u4e0a\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"mq-8",src:n(93071).Z,width:"630",height:"470"})),(0,l.kt)("p",null,"\u90a3\u4e48",(0,l.kt)("strong",{parentName:"p"},"\u5982\u4f55\u5f00\u542f\u8fd9\u4e2a\u955c\u50cf\u96c6\u7fa4\u6a21\u5f0f"),"\u5462\uff1f\u5176\u5b9e\u5f88\u7b80\u5355\uff0cRabbitMQ \u6709\u5f88\u597d\u7684\u7ba1\u7406\u63a7\u5236\u53f0\uff0c\u5c31\u662f\u5728\u540e\u53f0\u65b0\u589e\u4e00\u4e2a\u7b56\u7565\uff0c\u8fd9\u4e2a\u7b56\u7565\u662f",(0,l.kt)("strong",{parentName:"p"},"\u955c\u50cf\u96c6\u7fa4\u6a21\u5f0f\u7684\u7b56\u7565"),"\uff0c\u6307\u5b9a\u7684\u65f6\u5019\u662f\u53ef\u4ee5\u8981\u6c42\u6570\u636e\u540c\u6b65\u5230\u6240\u6709\u8282\u70b9\u7684\uff0c\u4e5f\u53ef\u4ee5\u8981\u6c42\u540c\u6b65\u5230\u6307\u5b9a\u6570\u91cf\u7684\u8282\u70b9\uff0c\u518d\u6b21\u521b\u5efa queue \u7684\u65f6\u5019\uff0c\u5e94\u7528\u8fd9\u4e2a\u7b56\u7565\uff0c\u5c31\u4f1a\u81ea\u52a8\u5c06\u6570\u636e\u540c\u6b65\u5230\u5176\u4ed6\u7684\u8282\u70b9\u4e0a\u53bb\u4e86\u3002"),(0,l.kt)("p",null,"\u8fd9\u6837\u7684\u8bdd\uff0c\u597d\u5904\u5728\u4e8e\uff0c\u4f60\u4efb\u4f55\u4e00\u4e2a\u673a\u5668\u5b95\u673a\u4e86\uff0c\u6ca1\u4e8b\u513f\uff0c\u5176\u5b83\u673a\u5668\uff08\u8282\u70b9\uff09\u8fd8\u5305\u542b\u4e86\u8fd9\u4e2a queue \u7684\u5b8c\u6574\u6570\u636e\uff0c\u522b\u7684 consumer \u90fd\u53ef\u4ee5\u5230\u5176\u5b83\u8282\u70b9\u4e0a\u53bb\u6d88\u8d39\u6570\u636e\u3002\u574f\u5904\u5728\u4e8e\uff0c\u7b2c\u4e00\uff0c\u8fd9\u4e2a\u6027\u80fd\u5f00\u9500\u4e5f\u592a\u5927\u4e86\u5427\uff0c\u6d88\u606f\u9700\u8981\u540c\u6b65\u5230\u6240\u6709\u673a\u5668\u4e0a\uff0c\u5bfc\u81f4\u7f51\u7edc\u5e26\u5bbd\u538b\u529b\u548c\u6d88\u8017\u5f88\u91cd\uff01\u7b2c\u4e8c\uff0c\u8fd9\u4e48\u73a9\u513f\uff0c\u4e0d\u662f\u5206\u5e03\u5f0f\u7684\uff0c\u5c31",(0,l.kt)("strong",{parentName:"p"},"\u6ca1\u6709\u6269\u5c55\u6027\u53ef\u8a00"),"\u4e86\uff0c\u5982\u679c\u67d0\u4e2a queue \u8d1f\u8f7d\u5f88\u91cd\uff0c\u4f60\u52a0\u673a\u5668\uff0c\u65b0\u589e\u7684\u673a\u5668\u4e5f\u5305\u542b\u4e86\u8fd9\u4e2a queue \u7684\u6240\u6709\u6570\u636e\uff0c\u5e76",(0,l.kt)("strong",{parentName:"p"},"\u6ca1\u6709\u529e\u6cd5\u7ebf\u6027\u6269\u5c55"),"\u4f60\u7684 queue\u3002\u4f60\u60f3\uff0c\u5982\u679c\u8fd9\u4e2a queue \u7684\u6570\u636e\u91cf\u5f88\u5927\uff0c\u5927\u5230\u8fd9\u4e2a\u673a\u5668\u4e0a\u7684\u5bb9\u91cf\u65e0\u6cd5\u5bb9\u7eb3\u4e86\uff0c\u6b64\u65f6\u8be5\u600e\u4e48\u529e\u5462\uff1f"),(0,l.kt)("h4",{id:"kafka-\u7684\u9ad8\u53ef\u7528\u6027"},"Kafka \u7684\u9ad8\u53ef\u7528\u6027"),(0,l.kt)("p",null,"Kafka \u4e00\u4e2a\u6700\u57fa\u672c\u7684\u67b6\u6784\u8ba4\u8bc6\uff1a\u7531\u591a\u4e2a broker \u7ec4\u6210\uff0c\u6bcf\u4e2a broker \u662f\u4e00\u4e2a\u8282\u70b9\uff1b\u4f60\u521b\u5efa\u4e00\u4e2a topic\uff0c\u8fd9\u4e2a topic \u53ef\u4ee5\u5212\u5206\u4e3a\u591a\u4e2a partition\uff0c\u6bcf\u4e2a partition \u53ef\u4ee5\u5b58\u5728\u4e8e\u4e0d\u540c\u7684 broker \u4e0a\uff0c\u6bcf\u4e2a partition \u5c31\u653e\u4e00\u90e8\u5206\u6570\u636e\u3002"),(0,l.kt)("p",null,"\u8fd9\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u5929\u7136\u7684\u5206\u5e03\u5f0f\u6d88\u606f\u961f\u5217"),"\uff0c\u5c31\u662f\u8bf4\u4e00\u4e2a topic \u7684\u6570\u636e\uff0c\u662f",(0,l.kt)("strong",{parentName:"p"},"\u5206\u6563\u653e\u5728\u591a\u4e2a\u673a\u5668\u4e0a\u7684\uff0c\u6bcf\u4e2a\u673a\u5668\u5c31\u653e\u4e00\u90e8\u5206\u6570\u636e"),"\u3002"),(0,l.kt)("p",null,"\u5b9e\u9645\u4e0a RabbitMQ \u4e4b\u7c7b\u7684\uff0c\u5e76\u4e0d\u662f\u5206\u5e03\u5f0f\u6d88\u606f\u961f\u5217\uff0c\u5b83\u5c31\u662f\u4f20\u7edf\u7684\u6d88\u606f\u961f\u5217\uff0c\u53ea\u4e0d\u8fc7\u63d0\u4f9b\u4e86\u4e00\u4e9b\u96c6\u7fa4\u3001HA(High Availability, \u9ad8\u53ef\u7528\u6027) \u7684\u673a\u5236\u800c\u5df2\uff0c\u56e0\u4e3a\u65e0\u8bba\u600e\u4e48\u73a9\u513f\uff0cRabbitMQ \u4e00\u4e2a queue \u7684\u6570\u636e\u90fd\u662f\u653e\u5728\u4e00\u4e2a\u8282\u70b9\u91cc\u7684\uff0c\u955c\u50cf\u96c6\u7fa4\u6a21\u5f0f\u4e0b\uff0c\u4e5f\u662f\u6bcf\u4e2a\u8282\u70b9\u90fd\u653e\u8fd9\u4e2a queue \u7684\u5b8c\u6574\u6570\u636e\u3002"),(0,l.kt)("p",null,"Kafka 0.8 \u4ee5\u524d\uff0c\u662f\u6ca1\u6709 HA \u673a\u5236\u7684\uff0c\u5c31\u662f\u4efb\u4f55\u4e00\u4e2a broker \u5b95\u673a\u4e86\uff0c\u90a3\u4e2a broker \u4e0a\u7684 partition \u5c31\u5e9f\u4e86\uff0c\u6ca1\u6cd5\u5199\u4e5f\u6ca1\u6cd5\u8bfb\uff0c\u6ca1\u6709\u4ec0\u4e48\u9ad8\u53ef\u7528\u6027\u53ef\u8a00\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982\u8bf4\uff0c\u6211\u4eec\u5047\u8bbe\u521b\u5efa\u4e86\u4e00\u4e2a topic\uff0c\u6307\u5b9a\u5176 partition \u6570\u91cf\u662f 3 \u4e2a\uff0c\u5206\u522b\u5728\u4e09\u53f0\u673a\u5668\u4e0a\u3002\u4f46\u662f\uff0c\u5982\u679c\u7b2c\u4e8c\u53f0\u673a\u5668\u5b95\u673a\u4e86\uff0c\u4f1a\u5bfc\u81f4\u8fd9\u4e2a topic \u7684 1/3 \u7684\u6570\u636e\u5c31\u4e22\u4e86\uff0c\u56e0\u6b64\u8fd9\u4e2a\u662f\u505a\u4e0d\u5230\u9ad8\u53ef\u7528\u7684\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"kafka-before",src:n(83986).Z,width:"712",height:"331"})),(0,l.kt)("p",null,"Kafka 0.8 \u4ee5\u540e\uff0c\u63d0\u4f9b\u4e86 HA \u673a\u5236\uff0c\u5c31\u662f replica\uff08\u590d\u5236\u54c1\uff09 \u526f\u672c\u673a\u5236\u3002\u6bcf\u4e2a partition \u7684\u6570\u636e\u90fd\u4f1a\u540c\u6b65\u5230\u5176\u5b83\u673a\u5668\u4e0a\uff0c\u5f62\u6210\u81ea\u5df1\u7684\u591a\u4e2a replica \u526f\u672c\u3002\u6240\u6709 replica \u4f1a\u9009\u4e3e\u4e00\u4e2a leader \u51fa\u6765\uff0c\u90a3\u4e48\u751f\u4ea7\u548c\u6d88\u8d39\u90fd\u8ddf\u8fd9\u4e2a leader \u6253\u4ea4\u9053\uff0c\u7136\u540e\u5176\u4ed6 replica \u5c31\u662f follower\u3002\u5199\u7684\u65f6\u5019\uff0cleader \u4f1a\u8d1f\u8d23\u628a\u6570\u636e\u540c\u6b65\u5230\u6240\u6709 follower \u4e0a\u53bb\uff0c\u8bfb\u7684\u65f6\u5019\u5c31\u76f4\u63a5\u8bfb leader \u4e0a\u7684\u6570\u636e\u5373\u53ef\u3002\u53ea\u80fd\u8bfb\u5199 leader\uff1f\u5f88\u7b80\u5355\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u8981\u662f\u4f60\u53ef\u4ee5\u968f\u610f\u8bfb\u5199\u6bcf\u4e2a follower\uff0c\u90a3\u4e48\u5c31\u8981 care \u6570\u636e\u4e00\u81f4\u6027\u7684\u95ee\u9898"),"\uff0c\u7cfb\u7edf\u590d\u6742\u5ea6\u592a\u9ad8\uff0c\u5f88\u5bb9\u6613\u51fa\u95ee\u9898\u3002Kafka \u4f1a\u5747\u5300\u5730\u5c06\u4e00\u4e2a partition \u7684\u6240\u6709 replica \u5206\u5e03\u5728\u4e0d\u540c\u7684\u673a\u5668\u4e0a\uff0c\u8fd9\u6837\u624d\u53ef\u4ee5\u63d0\u9ad8\u5bb9\u9519\u6027\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"kafka-after",src:n(34760).Z,width:"721",height:"578"})),(0,l.kt)("p",null,"\u8fd9\u4e48\u641e\uff0c\u5c31\u6709\u6240\u8c13\u7684",(0,l.kt)("strong",{parentName:"p"},"\u9ad8\u53ef\u7528\u6027"),"\u4e86\uff0c\u56e0\u4e3a\u5982\u679c\u67d0\u4e2a broker \u5b95\u673a\u4e86\uff0c\u6ca1\u4e8b\u513f\uff0c\u90a3\u4e2a broker \u4e0a\u9762\u7684 partition \u5728\u5176\u4ed6\u673a\u5668\u4e0a\u90fd\u6709\u526f\u672c\u7684\u3002\u5982\u679c\u8fd9\u4e2a\u5b95\u673a\u7684 broker \u4e0a\u9762\u6709\u67d0\u4e2a partition \u7684 leader\uff0c\u90a3\u4e48\u6b64\u65f6\u4f1a\u4ece follower \u4e2d",(0,l.kt)("strong",{parentName:"p"},"\u91cd\u65b0\u9009\u4e3e"),"\u4e00\u4e2a\u65b0\u7684 leader \u51fa\u6765\uff0c\u5927\u5bb6\u7ee7\u7eed\u8bfb\u5199\u90a3\u4e2a\u65b0\u7684 leader \u5373\u53ef\u3002\u8fd9\u5c31\u6709\u6240\u8c13\u7684\u9ad8\u53ef\u7528\u6027\u4e86\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5199\u6570\u636e"),"\u7684\u65f6\u5019\uff0c\u751f\u4ea7\u8005\u5c31\u5199 leader\uff0c\u7136\u540e leader \u5c06\u6570\u636e\u843d\u5730\u5199\u672c\u5730\u78c1\u76d8\uff0c\u63a5\u7740\u5176\u4ed6 follower \u81ea\u5df1\u4e3b\u52a8\u4ece leader \u6765 pull \u6570\u636e\u3002\u4e00\u65e6\u6240\u6709 follower \u540c\u6b65\u597d\u6570\u636e\u4e86\uff0c\u5c31\u4f1a\u53d1\u9001 ack \u7ed9 leader\uff0cleader \u6536\u5230\u6240\u6709 follower \u7684 ack \u4e4b\u540e\uff0c\u5c31\u4f1a\u8fd4\u56de\u5199\u6210\u529f\u7684\u6d88\u606f\u7ed9\u751f\u4ea7\u8005\u3002\uff08\u5f53\u7136\uff0c\u8fd9\u53ea\u662f\u5176\u4e2d\u4e00\u79cd\u6a21\u5f0f\uff0c\u8fd8\u53ef\u4ee5\u9002\u5f53\u8c03\u6574\u8fd9\u4e2a\u884c\u4e3a\uff09"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6d88\u8d39"),"\u7684\u65f6\u5019\uff0c\u53ea\u4f1a\u4ece leader \u53bb\u8bfb\uff0c\u4f46\u662f\u53ea\u6709\u5f53\u4e00\u4e2a\u6d88\u606f\u5df2\u7ecf\u88ab\u6240\u6709 follower \u90fd\u540c\u6b65\u6210\u529f\u8fd4\u56de ack \u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u6d88\u606f\u624d\u4f1a\u88ab\u6d88\u8d39\u8005\u8bfb\u5230\u3002"),(0,l.kt)("p",null,"\u770b\u5230\u8fd9\u91cc\uff0c\u76f8\u4fe1\u4f60\u5927\u81f4\u660e\u767d\u4e86 Kafka \u662f\u5982\u4f55\u4fdd\u8bc1\u9ad8\u53ef\u7528\u673a\u5236\u7684\u4e86\uff0c\u5bf9\u5427\uff1f\u4e0d\u81f3\u4e8e\u4e00\u65e0\u6240\u77e5\uff0c\u73b0\u573a\u8fd8\u80fd\u7ed9\u9762\u8bd5\u5b98\u753b\u753b\u56fe\u3002\u8981\u662f\u9047\u4e0a\u9762\u8bd5\u5b98\u786e\u5b9e\u662f Kafka \u9ad8\u624b\uff0c\u6df1\u6316\u4e86\u95ee\uff0c\u90a3\u4f60\u53ea\u80fd\u8bf4\u4e0d\u597d\u610f\u601d\uff0c\u592a\u6df1\u5165\u7684\u4f60\u6ca1\u7814\u7a76\u8fc7\u3002"),(0,l.kt)("h3",{id:"\u5982\u4f55\u4fdd\u8bc1\u6d88\u606f\u7684\u987a\u5e8f\u6027"},"\u5982\u4f55\u4fdd\u8bc1\u6d88\u606f\u7684\u987a\u5e8f\u6027\uff1f"),(0,l.kt)("h4",{id:"rocketmq"},"RocketMQ"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("inlineCode",{parentName:"strong"},"RocketMQ")," \u5728\u4e3b\u9898\u4e0a\u662f\u65e0\u5e8f\u7684\u3001\u5b83\u53ea\u6709\u5728\u961f\u5217\u5c42\u9762\u624d\u662f\u4fdd\u8bc1\u6709\u5e8f")," \u7684\u3002"),(0,l.kt)("p",null,"\u8fd9\u53c8\u626f\u5230\u4e24\u4e2a\u6982\u5ff5\u2014\u2014",(0,l.kt)("strong",{parentName:"p"},"\u666e\u901a\u987a\u5e8f")," \u548c ",(0,l.kt)("strong",{parentName:"p"},"\u4e25\u683c\u987a\u5e8f")," \u3002"),(0,l.kt)("p",null,"\u6240\u8c13\u666e\u901a\u987a\u5e8f\u662f\u6307 \u6d88\u8d39\u8005\u901a\u8fc7 ",(0,l.kt)("strong",{parentName:"p"},"\u540c\u4e00\u4e2a\u6d88\u8d39\u961f\u5217\u6536\u5230\u7684\u6d88\u606f\u662f\u6709\u987a\u5e8f\u7684")," \uff0c\u4e0d\u540c\u6d88\u606f\u961f\u5217\u6536\u5230\u7684\u6d88\u606f\u5219\u53ef\u80fd\u662f\u65e0\u987a\u5e8f\u7684\u3002\u666e\u901a\u987a\u5e8f\u6d88\u606f\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"Broker")," ",(0,l.kt)("strong",{parentName:"p"},"\u91cd\u542f\u60c5\u51b5\u4e0b\u4e0d\u4f1a\u4fdd\u8bc1\u6d88\u606f\u987a\u5e8f\u6027")," (\u77ed\u6682\u65f6\u95f4) \u3002"),(0,l.kt)("p",null,"\u6240\u8c13\u4e25\u683c\u987a\u5e8f\u662f\u6307 \u6d88\u8d39\u8005\u6536\u5230\u7684 ",(0,l.kt)("strong",{parentName:"p"},"\u6240\u6709\u6d88\u606f")," \u5747\u662f\u6709\u987a\u5e8f\u7684\u3002\u4e25\u683c\u987a\u5e8f\u6d88\u606f ",(0,l.kt)("strong",{parentName:"p"},"\u5373\u4f7f\u5728\u5f02\u5e38\u60c5\u51b5\u4e0b\u4e5f\u4f1a\u4fdd\u8bc1\u6d88\u606f\u7684\u987a\u5e8f\u6027")," \u3002"),(0,l.kt)("p",null,"\u4f46\u662f\uff0c\u4e25\u683c\u987a\u5e8f\u770b\u8d77\u6765\u867d\u597d\uff0c\u5b9e\u73b0\u5b83\u53ef\u4f1a\u4ed8\u51fa\u5de8\u5927\u7684\u4ee3\u4ef7\u3002\u5982\u679c\u4f60\u4f7f\u7528\u4e25\u683c\u987a\u5e8f\u6a21\u5f0f\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"Broker")," \u96c6\u7fa4\u4e2d\u53ea\u8981\u6709\u4e00\u53f0\u673a\u5668\u4e0d\u53ef\u7528\uff0c\u5219\u6574\u4e2a\u96c6\u7fa4\u90fd\u4e0d\u53ef\u7528\u3002\u4f60\u8fd8\u7528\u5565\uff1f\u73b0\u5728\u4e3b\u8981\u573a\u666f\u4e5f\u5c31\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog")," \u540c\u6b65\u3002"),(0,l.kt)("p",null,"\u4e00\u822c\u800c\u8a00\uff0c\u6211\u4eec\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"MQ")," \u90fd\u662f\u80fd\u5bb9\u5fcd\u77ed\u6682\u7684\u4e71\u5e8f\uff0c\u6240\u4ee5\u63a8\u8350\u4f7f\u7528\u666e\u901a\u987a\u5e8f\u6a21\u5f0f\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\uff0c\u6211\u4eec\u73b0\u5728\u4f7f\u7528\u4e86 ",(0,l.kt)("strong",{parentName:"p"},"\u666e\u901a\u987a\u5e8f\u6a21\u5f0f")," \uff0c\u6211\u4eec\u4ece\u4e0a\u9762\u5b66\u4e60\u77e5\u9053\u4e86\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"Producer")," \u751f\u4ea7\u6d88\u606f\u7684\u65f6\u5019\u4f1a\u8fdb\u884c\u8f6e\u8be2(\u53d6\u51b3\u4f60\u7684\u8d1f\u8f7d\u5747\u8861\u7b56\u7565)\u6765\u5411\u540c\u4e00\u4e3b\u9898\u7684\u4e0d\u540c\u6d88\u606f\u961f\u5217\u53d1\u9001\u6d88\u606f\u3002\u90a3\u4e48\u5982\u679c\u6b64\u65f6\u6211\u6709\u51e0\u4e2a\u6d88\u606f\u5206\u522b\u662f\u540c\u4e00\u4e2a\u8ba2\u5355\u7684\u521b\u5efa\u3001\u652f\u4ed8\u3001\u53d1\u8d27\uff0c\u5728\u8f6e\u8be2\u7684\u7b56\u7565\u4e0b\u8fd9 ",(0,l.kt)("strong",{parentName:"p"},"\u4e09\u4e2a\u6d88\u606f\u4f1a\u88ab\u53d1\u9001\u5230\u4e0d\u540c\u961f\u5217")," \uff0c\u56e0\u4e3a\u5728\u4e0d\u540c\u7684\u961f\u5217\u6b64\u65f6\u5c31\u65e0\u6cd5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"RocketMQ")," \u5e26\u6765\u7684\u961f\u5217\u6709\u5e8f\u7279\u6027\u6765\u4fdd\u8bc1\u6d88\u606f\u6709\u5e8f\u6027\u4e86\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220606105514638",src:n(81152).Z,width:"1258",height:"484"})),(0,l.kt)("p",null,"\u90a3\u4e48\uff0c\u600e\u4e48\u89e3\u51b3\u5462\uff1f"),(0,l.kt)("p",null,"\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u9700\u8981\u5904\u7406\u7684\u4ec5\u4ec5\u662f\u5c06\u540c\u4e00\u8bed\u4e49\u4e0b\u7684\u6d88\u606f\u653e\u5165\u540c\u4e00\u4e2a\u961f\u5217(\u6bd4\u5982\u8fd9\u91cc\u662f\u540c\u4e00\u4e2a\u8ba2\u5355)\uff0c\u90a3\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("strong",{parentName:"p"},"Hash\u53d6\u6a21\u6cd5")," \u6765\u4fdd\u8bc1\u540c\u4e00\u4e2a\u8ba2\u5355\u5728\u540c\u4e00\u4e2a\u961f\u5217\u4e2d\u5c31\u884c\u4e86\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u53e6\u5916\u6709\u8bf4\u6cd5\u662f\u8fd9\u6837\uff0c\u4f46\u5927\u610f\u4e00\u81f4\uff0c\u65b9\u4fbf\u7406\u89e3\u653e\u5728\u4e00\u8d77"),(0,l.kt)("p",{parentName:"blockquote"},"\u8981\u89e3\u51b3 RocketMQ \u7684\u4e71\u5e8f\u95ee\u9898\uff0c\u6211\u4eec\u53ea\u9700\u8981\u60f3\u529e\u6cd5\u8ba9\u540c\u4e00\u4e2a\u8ba2\u5355\u7684 binlog \u8fdb\u5165\u5230\u540c\u4e00\u4e2a MessageQueue  \u4e2d\u5c31\u53ef\u4ee5\u4e86\u3002\u56e0\u4e3a\u540c\u4e00\u4e2a MessageQueue \u5185\u7684\u6d88\u606f\u662f\u4e00\u5b9a\u6709\u5e8f\u7684\uff0c\u4e00\u4e2a MessageQueue \u4e2d\u7684\u6d88\u606f\u53ea\u80fd\u4ea4\u7ed9\u4e00\u4e2a Consumer  \u6765\u8fdb\u884c\u5904\u7406\uff0c\u6240\u4ee5 Consumer \u6d88\u8d39\u7684\u65f6\u5019\u5c31\u4e00\u5b9a\u4f1a\u662f\u6709\u5e8f\u7684\u3002")),(0,l.kt)("h4",{id:"rabbitmq"},"RabbitMQ"),(0,l.kt)("p",null,"\u6211\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u4ee5\u524d\u505a\u8fc7\u4e00\u4e2a mysql ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog")," \u540c\u6b65\u7684\u7cfb\u7edf\uff0c\u538b\u529b\u8fd8\u662f\u975e\u5e38\u5927\u7684\uff0c\u65e5\u540c\u6b65\u6570\u636e\u8981\u8fbe\u5230\u4e0a\u4ebf\uff0c\u5c31\u662f\u8bf4\u6570\u636e\u4ece\u4e00\u4e2a mysql \u5e93\u539f\u5c01\u4e0d\u52a8\u5730\u540c\u6b65\u5230\u53e6\u4e00\u4e2a mysql \u5e93\u91cc\u9762\u53bb\uff08mysql -> mysql\uff09\u3002\u5e38\u89c1\u7684\u4e00\u70b9\u5728\u4e8e\u8bf4\u6bd4\u5982\u5927\u6570\u636e team\uff0c\u5c31\u9700\u8981\u540c\u6b65\u4e00\u4e2a mysql \u5e93\u8fc7\u6765\uff0c\u5bf9\u516c\u53f8\u7684\u4e1a\u52a1\u7cfb\u7edf\u7684\u6570\u636e\u505a\u5404\u79cd\u590d\u6742\u7684\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,"\u4f60\u5728 mysql \u91cc\u589e\u5220\u6539\u4e00\u6761\u6570\u636e\uff0c\u5bf9\u5e94\u51fa\u6765\u4e86\u589e\u5220\u6539 3 \u6761 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog")," \u65e5\u5fd7\uff0c\u63a5\u7740\u8fd9\u4e09\u6761 ",(0,l.kt)("inlineCode",{parentName:"p"},"binlog")," \u53d1\u9001\u5230 MQ \u91cc\u9762\uff0c\u518d\u6d88\u8d39\u51fa\u6765\u4f9d\u6b21\u6267\u884c\uff0c\u8d77\u7801\u5f97\u4fdd\u8bc1\u4eba\u5bb6\u662f\u6309\u7167\u987a\u5e8f\u6765\u7684\u5427\uff1f\u4e0d\u7136\u672c\u6765\u662f\uff1a\u589e\u52a0\u3001\u4fee\u6539\u3001\u5220\u9664\uff1b\u4f60\u695e\u662f\u6362\u4e86\u987a\u5e8f\u7ed9\u6267\u884c\u6210\u5220\u9664\u3001\u4fee\u6539\u3001\u589e\u52a0\uff0c\u4e0d\u5168\u9519\u4e86\u4e48\u3002"),(0,l.kt)("p",null,"\u672c\u6765\u8fd9\u4e2a\u6570\u636e\u540c\u6b65\u8fc7\u6765\uff0c\u5e94\u8be5\u6700\u540e\u8fd9\u4e2a\u6570\u636e\u88ab\u5220\u9664\u4e86\uff1b\u7ed3\u679c\u4f60\u641e\u9519\u4e86\u8fd9\u4e2a\u987a\u5e8f\uff0c\u6700\u540e\u8fd9\u4e2a\u6570\u636e\u4fdd\u7559\u4e0b\u6765\u4e86\uff0c\u6570\u636e\u540c\u6b65\u5c31\u51fa\u9519\u4e86\u3002"),(0,l.kt)("p",null,"\u5148\u770b\u770b\u987a\u5e8f\u4f1a\u9519\u4e71\u7684\u4fe9\u573a\u666f\uff1a"),(0,l.kt)("p",null,"\u4e00\u4e2a queue\uff0c\u591a\u4e2a consumer\u3002\u6bd4\u5982\uff0c\u751f\u4ea7\u8005\u5411 RabbitMQ \u91cc\u53d1\u9001\u4e86\u4e09\u6761\u6570\u636e\uff0c\u987a\u5e8f\u4f9d\u6b21\u662f data1/data2/data3\uff0c\u538b\u5165\u7684\u662f RabbitMQ \u7684\u4e00\u4e2a\u5185\u5b58\u961f\u5217\u3002\u6709\u4e09\u4e2a\u6d88\u8d39\u8005\u5206\u522b\u4ece MQ \u4e2d\u6d88\u8d39\u8fd9\u4e09\u6761\u6570\u636e\u4e2d\u7684\u4e00\u6761\uff0c\u7ed3\u679c\u6d88\u8d39\u80052\u5148\u6267\u884c\u5b8c\u64cd\u4f5c\uff0c\u628a data2 \u5b58\u5165\u6570\u636e\u5e93\uff0c\u7136\u540e\u662f data1/data3\u3002\u8fd9\u4e0d\u660e\u663e\u4e71\u4e86\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220606105701838",src:n(81154).Z,width:"384",height:"435"})),(0,l.kt)("p",null,"\u89e3\u51b3\uff1a\u62c6\u5206\u591a\u4e2a queue\uff0c\u6bcf\u4e2a queue \u4e00\u4e2a consumer\uff0c\u5c31\u662f\u591a\u4e00\u4e9b queue \u800c\u5df2\uff0c\u786e\u5b9e\u662f\u9ebb\u70e6\u70b9\uff1b\u6216\u8005\u5c31\u4e00\u4e2a queue \u4f46\u662f\u5bf9\u5e94\u4e00\u4e2a consumer\uff0c\u7136\u540e\u8fd9\u4e2a consumer \u5185\u90e8\u7528\u5185\u5b58\u961f\u5217\u505a\u6392\u961f\uff0c\u7136\u540e\u5206\u53d1\u7ed9\u5e95\u5c42\u4e0d\u540c\u7684 worker \u6765\u5904\u7406\u3002\u540c\u4e00\u4e2a\u8ba2\u5355\u53f7\u7684\u6d88\u606f\u53d1\u9001\u5230\u540c\u4e00\u4e2a queue \u4e2d\uff0c\u7531\u4e8e\u540c\u4e00\u4e2a queue \u7684\u6d88\u606f\u662f\u4e00\u5b9a\u4f1a\u4fdd\u8bc1\u6709\u5e8f\u7684\uff0c\u90a3\u4e48\u540c\u4e00\u4e2a\u8ba2\u5355\u53f7\u7684\u6d88\u606f\u5c31\u53ea\u4f1a\u88ab\u4e00\u4e2a\u6d88\u8d39\u8005\u987a\u5e8f\u6d88\u8d39\uff0c\u4ece\u800c\u4fdd\u8bc1\u4e86\u6d88\u606f\u7684\u987a\u5e8f\u6027\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220712235743200",src:n(8058).Z,width:"1839",height:"710"})),(0,l.kt)("h4",{id:"kafka"},"Kafka"),(0,l.kt)("p",null,"Kafka  \u4ece\u751f\u4ea7\u8005\u5230\u6d88\u8d39\u8005\u6d88\u8d39\u6d88\u606f\u8fd9\u4e00\u6574\u4e2a\u8fc7\u7a0b\u5176\u5b9e\u90fd\u662f\u53ef\u4ee5\u4fdd\u8bc1\u6709\u5e8f\u7684\uff0c\u5bfc\u81f4\u6700\u7ec8\u4e71\u5e8f\u662f\u7531\u4e8e\u6d88\u8d39\u8005\u7aef\u9700\u8981\u4f7f\u7528\u591a\u7ebf\u7a0b\u5e76\u53d1\u5904\u7406\u6d88\u606f\u6765\u63d0\u9ad8\u541e\u5410\u91cf\uff0c\u6bd4\u5982\u6d88\u8d39\u8005\u6d88\u8d39\u5230\u4e86\u6d88\u606f\u4ee5\u540e\uff0c\u5f00\u542f 32 \u4e2a\u7ebf\u7a0b\u5904\u7406\u6d88\u606f\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u7ebf\u7a0b\u5904\u7406\u6d88\u606f\u7684\u5feb\u6162\u662f\u4e0d\u4e00\u81f4\u7684\uff0c\u6240\u4ee5\u624d\u4f1a\u5bfc\u81f4\u6700\u7ec8\u6d88\u606f\u6709\u53ef\u80fd\u4e0d\u4e00\u81f4\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982\u8bf4\u6211\u4eec\u5efa\u4e86\u4e00\u4e2a topic\uff0c\u6709\u4e09\u4e2a partition\u3002\u751f\u4ea7\u8005\u5728\u5199\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a key\uff0c\u6bd4\u5982\u8bf4\u6211\u4eec\u6307\u5b9a\u4e86\u67d0\u4e2a\u8ba2\u5355 id \u4f5c\u4e3a key\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8ba2\u5355\u76f8\u5173\u7684\u6570\u636e\uff0c\u4e00\u5b9a\u4f1a\u88ab\u5206\u53d1\u5230\u540c\u4e00\u4e2a partition \u4e2d\u53bb\uff0c\u800c\u4e14\u8fd9\u4e2a partition \u4e2d\u7684\u6570\u636e\u4e00\u5b9a\u662f\u6709\u987a\u5e8f\u7684\u3002"),(0,l.kt)("p",null,"\u6d88\u8d39\u8005\u4ece partition \u4e2d\u53d6\u51fa\u6765\u6570\u636e\u7684\u65f6\u5019\uff0c\u4e5f\u4e00\u5b9a\u662f\u6709\u987a\u5e8f\u7684\u3002\u5230\u8fd9\u91cc\uff0c\u987a\u5e8f\u8fd8\u662f ok \u7684\uff0c\u6ca1\u6709\u9519\u4e71\u3002\u63a5\u7740\uff0c\u6211\u4eec\u5728\u6d88\u8d39\u8005\u91cc\u53ef\u80fd\u4f1a\u641e",(0,l.kt)("strong",{parentName:"p"},"\u591a\u4e2a\u7ebf\u7a0b\u6765\u5e76\u53d1\u5904\u7406\u6d88\u606f"),"\u3002\u56e0\u4e3a\u5982\u679c\u6d88\u8d39\u8005\u662f\u5355\u7ebf\u7a0b\u6d88\u8d39\u5904\u7406\uff0c\u800c\u5904\u7406\u6bd4\u8f83\u8017\u65f6\u7684\u8bdd\uff0c\u6bd4\u5982\u5904\u7406\u4e00\u6761\u6d88\u606f\u8017\u65f6\u51e0\u5341 ms\uff0c\u90a3\u4e48 1 \u79d2\u949f\u53ea\u80fd\u5904\u7406\u51e0\u5341\u6761\u6d88\u606f\uff0c\u8fd9\u541e\u5410\u91cf\u592a\u4f4e\u4e86\u3002\u800c\u591a\u4e2a\u7ebf\u7a0b\u5e76\u53d1\u8dd1\u7684\u8bdd\uff0c\u987a\u5e8f\u53ef\u80fd\u5c31\u4e71\u6389\u4e86\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220606105925337",src:n(63449).Z,width:"542",height:"541"})),(0,l.kt)("p",null,"\u89e3\u51b3\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e00\u4e2a topic\uff0c\u4e00\u4e2a partition\uff0c\u4e00\u4e2a consumer\uff0c\u5185\u90e8\u5355\u7ebf\u7a0b\u6d88\u8d39\uff0c\u5355\u7ebf\u7a0b\u541e\u5410\u91cf\u592a\u4f4e\uff0c\u4e00\u822c\u4e0d\u4f1a\u7528\u8fd9\u4e2a\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6240\u4ee5\u5bf9\u4e8e Kafka \u7684\u6d88\u606f\u987a\u5e8f\u6027\u4fdd\u8bc1\uff0c\u5176\u5b9e\u6211\u4eec\u53ea\u9700\u8981\u4fdd\u8bc1\u540c\u4e00\u4e2a\u8ba2\u5355\u53f7\u7684\u6d88\u606f\u53ea\u88ab\u540c\u4e00\u4e2a\u7ebf\u7a0b\u5904\u7406\u7684\u5c31\u53ef\u4ee5\u4e86\u3002\u7531\u6b64\u6211\u4eec\u53ef\u4ee5\u5728\u7ebf\u7a0b\u5904\u7406\u524d\u589e\u52a0\u4e2a\u5185\u5b58\u961f\u5217\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u53ea\u8d1f\u8d23\u5904\u7406\u5176\u4e2d\u4e00\u4e2a\u5185\u5b58\u961f\u5217\u7684\u6d88\u606f\uff0c\u540c\u4e00\u4e2a\u8ba2\u5355\u53f7\u7684\u6d88\u606f\u53d1\u9001\u5230\u540c\u4e00\u4e2a\u5185\u5b58\u961f\u5217\u4e2d\u5373\u53ef\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220713000139006",src:n(16646).Z,width:"2200",height:"752"})),(0,l.kt)("h3",{id:"\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u4e8b\u52a1\u6d88\u606f\u5982\u4f55\u5b9e\u73b0"},"\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\uff0c\u4e8b\u52a1\u6d88\u606f\u5982\u4f55\u5b9e\u73b0"),(0,l.kt)("p",null,"\u4e00\u6761\u666e\u901a\u7684 MQ \u6d88\u606f\uff0c\u4ece\u4ea7\u751f\u5230\u88ab\u6d88\u8d39\uff0c\u5927\u6982\u6d41\u7a0b\u5982\u4e0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622201746536",src:n(96582).Z,width:"1029",height:"551"})),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u751f\u4ea7\u8005\u4ea7\u751f\u6d88\u606f\uff0c\u53d1\u9001\u5e26 MQ \u670d\u52a1\u5668"),(0,l.kt)("li",{parentName:"ol"},"MQ \u6536\u5230\u6d88\u606f\u540e\uff0c\u5c06\u6d88\u606f\u6301\u4e45\u5316\u5230\u5b58\u50a8\u7cfb\u7edf\u3002"),(0,l.kt)("li",{parentName:"ol"},"MQ \u670d\u52a1\u5668\u8fd4\u56de ACk \u5230\u751f\u4ea7\u8005\u3002"),(0,l.kt)("li",{parentName:"ol"},"MQ \u670d\u52a1\u5668\u628a\u6d88\u606f push \u7ed9\u6d88\u8d39\u8005"),(0,l.kt)("li",{parentName:"ol"},"\u6d88\u8d39\u8005\u6d88\u8d39\u5b8c\u6d88\u606f\uff0c\u54cd\u5e94 ACK"),(0,l.kt)("li",{parentName:"ol"},"MQ \u670d\u52a1\u5668\u6536\u5230 ACK\uff0c\u8ba4\u4e3a\u6d88\u606f\u6d88\u8d39\u6210\u529f\uff0c\u5373\u5728\u5b58\u50a8\u4e2d\u5220\u9664\u6d88\u606f\u3002")),(0,l.kt)("p",null,"\u6211\u4eec\u4e3e\u4e2a\u4e0b\u8ba2\u5355\u7684\u4f8b\u5b50\u5427\u3002\u8ba2\u5355\u7cfb\u7edf\u521b\u5efa\u5b8c\u8ba2\u5355\u540e\uff0c\u518d\u53d1\u9001\u6d88\u606f\u7ed9\u4e0b\u6e38\u7cfb\u7edf\u3002\u5982\u679c\u8ba2\u5355\u521b\u5efa\u6210\u529f\uff0c\u7136\u540e\u6d88\u606f\u6ca1\u6709\u6210\u529f\u53d1\u9001\u51fa\u53bb\uff0c\u4e0b\u6e38\u7cfb\u7edf\u5c31\u65e0\u6cd5\u611f\u77e5\u8fd9\u4e2a\u4e8b\u60c5\uff0c\u51fa\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002\n\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u5462\uff1f\u53ef\u4ee5\u4f7f\u7528\u4e8b\u52a1\u6d88\u606f\u3002\u4e00\u8d77\u6765\u770b\u4e0b\u4e8b\u52a1\u6d88\u606f\u662f\u5982\u4f55\u5b9e\u73b0\u7684"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622201820014",src:n(72661).Z,width:"1065",height:"702"})),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u751f\u4ea7\u8005\u4ea7\u751f\u6d88\u606f\uff0c\u53d1\u9001\u4e00\u6761\u534a\u4e8b\u52a1\u6d88\u606f\u5230 MQ \u670d\u52a1\u5668"),(0,l.kt)("li",{parentName:"ol"},"MQ \u6536\u5230\u6d88\u606f\u540e\uff0c\u5c06\u6d88\u606f\u6301\u4e45\u5316\u5230\u5b58\u50a8\u7cfb\u7edf\uff0c\u8fd9\u6761\u6d88\u606f\u7684\u72b6\u6001\u662f\u5f85\u53d1\u9001\u72b6\u6001\u3002"),(0,l.kt)("li",{parentName:"ol"},"MQ \u670d\u52a1\u5668\u8fd4\u56de ACK \u786e\u8ba4\u5230\u751f\u4ea7\u8005\uff0c\u6b64\u65f6 MQ \u4e0d\u4f1a\u89e6\u53d1\u6d88\u606f\u63a8\u9001\u4e8b\u4ef6"),(0,l.kt)("li",{parentName:"ol"},"\u751f\u4ea7\u8005\u6267\u884c\u672c\u5730\u4e8b\u52a1"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u672c\u5730\u4e8b\u52a1\u6267\u884c\u6210\u529f\uff0c\u5373 commit \u6267\u884c\u7ed3\u679c\u5230 MQ \u670d\u52a1\u5668\uff1b\u5982\u679c\u6267\u884c\u5931\u8d25\uff0c\u53d1\n\u9001 rollback\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u662f\u6b63\u5e38\u7684 commit\uff0cMQ \u670d\u52a1\u5668\u66f4\u65b0\u6d88\u606f\u72b6\u6001\u4e3a\u53ef\u53d1\u9001\uff1b\u5982\u679c\u662f rollback\uff0c\u5373\n\u5220\u9664\u6d88\u606f\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u6d88\u606f\u72b6\u6001\u66f4\u65b0\u4e3a\u53ef\u53d1\u9001\uff0c\u5219 MQ \u670d\u52a1\u5668\u4f1a push \u6d88\u606f\u7ed9\u6d88\u8d39\u8005\u3002\u6d88\u8d39\u8005\u6d88\u8d39\u5b8c\n\u5c31\u56de ACK\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c MQ \u670d\u52a1\u5668\u957f\u65f6\u95f4\u6ca1\u6709\u6536\u5230\u751f\u4ea7\u8005\u7684 commit \u6216\u8005 rollback\uff0c\u5b83\u4f1a\u53cd\u67e5\u751f\u4ea7\n\u8005\uff0c\u7136\u540e\u6839\u636e\u67e5\u8be2\u5230\u7684\u7ed3\u679c\u6267\u884c\u6700\u7ec8\u72b6\u6001\u3002")),(0,l.kt)("h3",{id:"\u5982\u4f55\u4fdd\u8bc1\u6d88\u606f\u7684\u53ef\u9760\u6027\u4f20\u8f93"},"\u5982\u4f55\u4fdd\u8bc1\u6d88\u606f\u7684\u53ef\u9760\u6027\u4f20\u8f93\uff1f"),(0,l.kt)("h3",{id:"\u5982\u4f55\u89e3\u51b3\u91cd\u590d\u6d88\u8d39"},"\u5982\u4f55\u89e3\u51b3\u91cd\u590d\u6d88\u8d39"),(0,l.kt)("p",null,"\u5c31\u4e24\u4e2a\u5b57\u2014\u2014 ",(0,l.kt)("strong",{parentName:"p"},"\u5e42\u7b49")," \u3002\u5728\u7f16\u7a0b\u4e2d\u4e00\u4e2a",(0,l.kt)("em",{parentName:"p"},"\u5e42\u7b49"),"  \u64cd\u4f5c\u7684\u7279\u70b9\u662f\u5176\u4efb\u610f\u591a\u6b21\u6267\u884c\u6240\u4ea7\u751f\u7684\u5f71\u54cd\u5747\u4e0e\u4e00\u6b21\u6267\u884c\u7684\u5f71\u54cd\u76f8\u540c\u3002\u6bd4\u5982\u8bf4\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u6709\u4e00\u4e2a\u8ba2\u5355\u7684\u5904\u7406\u79ef\u5206\u7684\u7cfb\u7edf\uff0c\u6bcf\u5f53\u6765\u4e00\u4e2a\u6d88\u606f\u7684\u65f6\u5019\u5b83\u5c31\u8d1f\u8d23\u4e3a\u521b\u5efa\u8fd9\u4e2a\u8ba2\u5355\u7684\u7528\u6237\u7684\u79ef\u5206\u52a0\u4e0a\u76f8\u5e94\u7684\u6570\u503c\u3002\u53ef\u662f\u6709\u4e00\u6b21\uff0c\u6d88\u606f\u961f\u5217\u53d1\u9001\u7ed9\u8ba2\u5355\u7cfb\u7edf FrancisQ \u7684\u8ba2\u5355\u4fe1\u606f\uff0c\u5176\u8981\u6c42\u662f\u7ed9 FrancisQ \u7684\u79ef\u5206\u52a0\u4e0a 500\u3002\u4f46\u662f\u79ef\u5206\u7cfb\u7edf\u5728\u6536\u5230 FrancisQ  \u7684\u8ba2\u5355\u4fe1\u606f\u5904\u7406\u5b8c\u6210\u4e4b\u540e\u8fd4\u56de\u7ed9\u6d88\u606f\u961f\u5217\u5904\u7406\u6210\u529f\u7684\u4fe1\u606f\u7684\u65f6\u5019\u51fa\u73b0\u4e86\u7f51\u7edc\u6ce2\u52a8(\u5f53\u7136\u8fd8\u6709\u5f88\u591a\u79cd\u60c5\u51b5\uff0c\u6bd4\u5982Broker\u610f\u5916\u91cd\u542f\u7b49\u7b49)\uff0c\u8fd9\u6761\u56de\u5e94\u6ca1\u6709\u53d1\u9001\u6210\u529f\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\uff0c\u6d88\u606f\u961f\u5217\u6ca1\u6536\u5230\u79ef\u5206\u7cfb\u7edf\u7684\u56de\u5e94\u4f1a\u4e0d\u4f1a\u5c1d\u8bd5\u91cd\u53d1\u8fd9\u4e2a\u6d88\u606f\uff1f\u95ee\u9898\u5c31\u6765\u4e86\uff0c\u6211\u518d\u53d1\u8fd9\u4e2a\u6d88\u606f\uff0c\u4e07\u4e00\u5b83\u53c8\u7ed9 FrancisQ \u7684\u8d26\u6237\u52a0\u4e0a 500 \u79ef\u5206\u600e\u4e48\u529e\u5462\uff1f"),(0,l.kt)("p",null,"\u6240\u4ee5\u6211\u4eec\u9700\u8981\u7ed9\u6211\u4eec\u7684\u6d88\u8d39\u8005\u5b9e\u73b0 ",(0,l.kt)("strong",{parentName:"p"},"\u5e42\u7b49")," \uff0c\u4e5f\u5c31\u662f\u5bf9\u540c\u4e00\u4e2a\u6d88\u606f\u7684\u5904\u7406\u7ed3\u679c\uff0c\u6267\u884c\u591a\u5c11\u6b21\u90fd\u4e0d\u53d8\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\u5982\u4f55\u7ed9\u4e1a\u52a1\u5b9e\u73b0\u5e42\u7b49\u5462\uff1f\u8fd9\u4e2a\u8fd8\u662f\u9700\u8981\u7ed3\u5408\u5177\u4f53\u7684\u4e1a\u52a1\u7684\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("strong",{parentName:"p"},"\u5199\u5165 ",(0,l.kt)("inlineCode",{parentName:"strong"},"Redis"))," \u6765\u4fdd\u8bc1\uff0c\u56e0\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"Redis")," \u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"key")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"value")," \u5c31\u662f\u5929\u7136\u652f\u6301\u5e42\u7b49\u7684\u3002\u5f53\u7136\u8fd8\u6709\u4f7f\u7528 ",(0,l.kt)("strong",{parentName:"p"},"\u6570\u636e\u5e93\u63d2\u5165\u6cd5")," \uff0c\u57fa\u4e8e\u6570\u636e\u5e93\u7684\u552f\u4e00\u952e\u6765\u4fdd\u8bc1\u91cd\u590d\u6570\u636e\u4e0d\u4f1a\u88ab\u63d2\u5165\u591a\u6761\u3002"),(0,l.kt)("p",null,"\u4e0d\u8fc7\u6700\u4e3b\u8981\u7684\u8fd8\u662f\u9700\u8981 ",(0,l.kt)("strong",{parentName:"p"},"\u6839\u636e\u7279\u5b9a\u573a\u666f\u4f7f\u7528\u7279\u5b9a\u7684\u89e3\u51b3\u65b9\u6848")," \uff0c\u4f60\u8981\u77e5\u9053\u4f60\u7684\u6d88\u606f\u6d88\u8d39\u662f\u5426\u662f\u5b8c\u5168\u4e0d\u53ef\u91cd\u590d\u6d88\u8d39\u8fd8\u662f\u53ef\u4ee5\u5fcd\u53d7\u91cd\u590d\u6d88\u8d39\u7684\uff0c\u7136\u540e\u518d\u9009\u62e9\u5f3a\u6821\u9a8c\u548c\u5f31\u6821\u9a8c\u7684\u65b9\u5f0f\u3002\u6bd5\u7adf\u5728 CS \u9886\u57df\u8fd8\u662f\u5f88\u5c11\u6709\u6280\u672f\u94f6\u5f39\u7684\u8bf4\u6cd5\u3002"),(0,l.kt)("p",null,"\u800c\u5728\u6574\u4e2a\u4e92\u8054\u7f51\u9886\u57df\uff0c\u5e42\u7b49\u4e0d\u4ec5\u4ec5\u9002\u7528\u4e8e\u6d88\u606f\u961f\u5217\u7684\u91cd\u590d\u6d88\u8d39\u95ee\u9898\uff0c\u8fd9\u4e9b\u5b9e\u73b0\u5e42\u7b49\u7684\u65b9\u6cd5\uff0c\u4e5f\u540c\u6837\u9002\u7528\u4e8e\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5728\u5176\u4ed6\u573a\u666f\u4e2d\u6765\u89e3\u51b3\u91cd\u590d\u8bf7\u6c42\u6216\u8005\u91cd\u590d\u8c03\u7528\u7684\u95ee\u9898")," \u3002\u6bd4\u5982\u5c06HTTP\u670d\u52a1\u8bbe\u8ba1\u6210\u5e42\u7b49\u7684\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u89e3\u51b3\u524d\u7aef\u6216\u8005APP\u91cd\u590d\u63d0\u4ea4\u8868\u5355\u6570\u636e\u7684\u95ee\u9898")," \uff0c\u4e5f\u53ef\u4ee5\u5c06\u4e00\u4e2a\u5fae\u670d\u52a1\u8bbe\u8ba1\u6210\u5e42\u7b49\u7684\uff0c\u89e3\u51b3 ",(0,l.kt)("inlineCode",{parentName:"p"},"RPC")," \u6846\u67b6\u81ea\u52a8\u91cd\u8bd5\u5bfc\u81f4\u7684 ",(0,l.kt)("strong",{parentName:"p"},"\u91cd\u590d\u8c03\u7528\u95ee\u9898")," \u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5e38\u7528\u7684\u4e1a\u52a1\u5e42\u7b49\u6027\u4fdd\u8bc1\u65b9\u6cd5")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5229\u7528\u6570\u636e\u5e93\u7684\u552f\u4e00\u7ea6\u675f\u5b9e\u73b0\u5e42\u7b49")),(0,l.kt)("p",null,"\u6bd4\u5982\u5c06\u8ba2\u5355\u8868\u4e2d\u7684\u8ba2\u5355\u7f16\u53f7\u8bbe\u7f6e\u4e3a\u552f\u4e00\u7d22\u5f15\uff0c\u521b\u5efa\u8ba2\u5355\u65f6\uff0c\u6839\u636e\u8ba2\u5355\u7f16\u53f7\u5c31\u53ef\u4ee5\u4fdd\u8bc1\u5e42\u7b49"),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"\u53bb\u91cd\u8868")),(0,l.kt)("p",null,"\u8fd9\u4e2a\u65b9\u6848\u672c\u8d28\u4e5f\u662f\u6839\u636e\u6570\u636e\u5e93\u7684\u552f\u4e00\u6027\u7ea6\u675f\u6765\u5b9e\u73b0\u3002\u5176\u5b9e\u73b0\u5927\u4f53\u601d\u8def\u662f\uff1a\u9996\u5148\u5728\u53bb\u91cd\u8868\u4e0a\u5efa\u552f\u4e00\u7d22\u5f15\uff0c\u5176\u6b21\u64cd\u4f5c\u65f6\u628a\u4e1a\u52a1\u8868\u548c\u53bb\u91cd\u8868\u653e\u5728\u540c\u4e2a\u672c\u5730\u4e8b\u52a1\u4e2d\uff0c\u5982\u679c\u51fa\u73b0\u91cd\u73b0\u91cd\u590d\u6d88\u8d39\uff0c\u6570\u636e\u5e93\u4f1a\u629b\u552f\u4e00\u7ea6\u675f\u5f02\u5e38\uff0c\u64cd\u4f5c\u5c31\u4f1a\u56de\u6eda"),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"\u5229\u7528redis\u7684\u539f\u5b50\u6027")),(0,l.kt)("p",null,"\u6bcf\u6b21\u64cd\u4f5c\u90fd\u76f4\u63a5set\u5230redis\u91cc\u9762\uff0c\u7136\u540e\u5c06redis\u6570\u636e\u5b9a\u65f6\u540c\u6b65\u5230\u6570\u636e\u5e93\u4e2d"),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"\u591a\u7248\u672c\uff08\u4e50\u89c2\u9501\uff09\u63a7\u5236")),(0,l.kt)("p",null,"\u6b64\u65b9\u6848\u591a\u7528\u4e8e\u66f4\u65b0\u7684\u573a\u666f\u4e0b\u3002\u5176\u5b9e\u73b0\u7684\u5927\u4f53\u601d\u8def\u662f\uff1a\u7ed9\u4e1a\u52a1\u6570\u636e\u589e\u52a0\u4e00\u4e2a\u7248\u672c\u53f7\u5c5e\u6027\uff0c\u6bcf\u6b21\u66f4\u65b0\u6570\u636e\u524d\uff0c\u6bd4\u8f83\u5f53\u524d\u6570\u636e\u7684\u7248\u672c\u53f7\u662f\u5426\u548c\u6d88\u606f\u4e2d\u7684\u7248\u672c\u4e00\u81f4\uff0c\u5982\u679c\u4e0d\u4e00\u81f4\u5219\u62d2\u7edd\u66f4\u65b0\u6570\u636e\uff0c\u66f4\u65b0\u6570\u636e\u7684\u540c\u65f6\u5c06\u7248\u672c\u53f7+1"),(0,l.kt)("ol",{start:5},(0,l.kt)("li",{parentName:"ol"},"\u72b6\u6001\u673a\u673a\u5236")),(0,l.kt)("p",null,"\u6b64\u65b9\u6848\u591a\u7528\u4e8e\u66f4\u65b0\u4e14\u4e1a\u52a1\u573a\u666f\u5b58\u5728\u591a\u79cd\u72b6\u6001\u6d41\u8f6c\u7684\u573a\u666f"),(0,l.kt)("ol",{start:6},(0,l.kt)("li",{parentName:"ol"},"token\u673a\u5236")),(0,l.kt)("p",null,"\u751f\u4ea7\u8005\u53d1\u9001\u6bcf\u6761\u6570\u636e\u7684\u65f6\u5019\uff0c\u589e\u52a0\u4e00\u4e2a\u5168\u5c40\u552f\u4e00\u7684id\uff0c\u8fd9\u4e2aid\u901a\u5e38\u662f",(0,l.kt)("strong",{parentName:"p"},"\u4e1a\u52a1\u7684\u552f\u4e00\u6807\u8bc6"),"\uff0c\u6bd4\u5982\u8ba2\u5355\u7f16\u53f7\u3002\u5728\u6d88\u8d39\u7aef\u6d88\u8d39\u65f6\uff0c\u5219\u9a8c\u8bc1\u8be5id\u662f\u5426\u88ab\u6d88\u8d39\u8fc7\uff0c\u5982\u679c\u8fd8\u6ca1\u6d88\u8d39\u8fc7\uff0c\u5219\u8fdb\u884c\u4e1a\u52a1\u5904\u7406\u3002\u5904\u7406\u7ed3\u675f\u540e\uff0c\u5728\u628a\u8be5id\u5b58\u5165redis\uff0c\u540c\u65f6\u8bbe\u7f6e\u72b6\u6001\u4e3a\u5df2\u6d88\u8d39\u3002\u5982\u679c\u5df2\u7ecf\u6d88\u8d39\u8fc7\u4e86\uff0c\u5219\u4e0d\u8fdb\u884c\u5904\u7406\u3002"),(0,l.kt)("h3",{id:"\u6d88\u606f\u5806\u79ef\u95ee\u9898"},"\u6d88\u606f\u5806\u79ef\u95ee\u9898"),(0,l.kt)("p",null,"\u5728\u4e0a\u9762\u6211\u4eec\u63d0\u5230\u4e86\u6d88\u606f\u961f\u5217\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u529f\u80fd\u2014\u2014",(0,l.kt)("strong",{parentName:"p"},"\u524a\u5cf0")," \u3002\u90a3\u4e48\u5982\u679c\u8fd9\u4e2a\u5cf0\u503c\u592a\u5927\u4e86\u5bfc\u81f4\u6d88\u606f\u5806\u79ef\u5728\u961f\u5217\u4e2d\u600e\u4e48\u529e\u5462\uff1f"),(0,l.kt)("p",null,"\u5176\u5b9e\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u5c06\u5b83\u5e7f\u4e49\u5316\uff0c\u56e0\u4e3a\u4ea7\u751f\u6d88\u606f\u5806\u79ef\u7684\u6839\u6e90\u5176\u5b9e\u5c31\u53ea\u6709\u4e24\u4e2a\u2014\u2014\u751f\u4ea7\u8005\u751f\u4ea7\u592a\u5feb\u6216\u8005\u6d88\u8d39\u8005\u6d88\u8d39\u592a\u6162\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u4ece\u591a\u4e2a\u89d2\u5ea6\u53bb\u601d\u8003\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5f53\u6d41\u91cf\u5230\u5cf0\u503c\u7684\u65f6\u5019\u662f\u56e0\u4e3a\u751f\u4ea7\u8005\u751f\u4ea7\u592a\u5feb\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b ",(0,l.kt)("strong",{parentName:"p"},"\u9650\u6d41\u964d\u7ea7")," \u7684\u65b9\u6cd5\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u589e\u52a0\u591a\u4e2a\u6d88\u8d39\u8005\u5b9e\u4f8b\u53bb\u6c34\u5e73\u6269\u5c55\u589e\u52a0\u6d88\u8d39\u80fd\u529b\u6765\u5339\u914d\u751f\u4ea7\u7684\u6fc0\u589e\u3002\u5982\u679c\u6d88\u8d39\u8005\u6d88\u8d39\u8fc7\u6162\u7684\u8bdd\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u68c0\u67e5 ",(0,l.kt)("strong",{parentName:"p"},"\u662f\u5426\u662f\u6d88\u8d39\u8005\u51fa\u73b0\u4e86\u5927\u91cf\u7684\u6d88\u8d39\u9519\u8bef")," \uff0c\u6216\u8005\u6253\u5370\u4e00\u4e0b\u65e5\u5fd7\u67e5\u770b\u662f\u5426\u662f\u54ea\u4e00\u4e2a\u7ebf\u7a0b\u5361\u6b7b\uff0c\u51fa\u73b0\u4e86\u9501\u8d44\u6e90\u4e0d\u91ca\u653e\u7b49\u7b49\u7684\u95ee\u9898\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5f53\u7136\uff0c\u6700\u5feb\u901f\u89e3\u51b3\u6d88\u606f\u5806\u79ef\u95ee\u9898\u7684\u65b9\u6cd5\u8fd8\u662f\u589e\u52a0\u6d88\u8d39\u8005\u5b9e\u4f8b\uff0c\u4e0d\u8fc7 ",(0,l.kt)("strong",{parentName:"p"},"\u540c\u65f6\u4f60\u8fd8\u9700\u8981\u589e\u52a0\u6bcf\u4e2a\u4e3b\u9898\u7684\u961f\u5217\u6570\u91cf")," \u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u522b\u5fd8\u4e86\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"RocketMQ")," \u4e2d\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4e00\u4e2a\u961f\u5217\u53ea\u4f1a\u88ab\u4e00\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39")," \uff0c\u5982\u679c\u4f60\u4ec5\u4ec5\u662f\u589e\u52a0\u6d88\u8d39\u8005\u5b9e\u4f8b\u5c31\u4f1a\u51fa\u73b0\u6211\u4e00\u5f00\u59cb\u7ed9\u4f60\u753b\u67b6\u6784\u56fe\u7684\u90a3\u79cd\u60c5\u51b5")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617111103393",src:n(56411).Z,width:"1391",height:"555"})),(0,l.kt)("h2",{id:"-\u5206\u5e03\u5f0f"},"\ud83d\udd17 \u5206\u5e03\u5f0f"),(0,l.kt)("h3",{id:"\u4e86\u89e3rpc\u5417"},"\u4e86\u89e3RPC\u5417\uff1f"),(0,l.kt)("p",null,"\u4e00\u8a00\u853d\u4e4b\uff1a",(0,l.kt)("strong",{parentName:"p"},"RPC \uff08Remote Procedure Call\uff09\u7684\u51fa\u73b0\u5c31\u662f\u4e3a\u4e86\u8ba9\u4f60\u8c03\u7528\u8fdc\u7a0b\u65b9\u6cd5\u50cf\u8c03\u7528\u672c\u5730\u65b9\u6cd5\u4e00\u6837\u7b80\u5355\u3002")),(0,l.kt)("p",null,"\u4e3a\u4e86\u80fd\u591f\u5e2e\u52a9\u5c0f\u4f19\u4f34\u4eec\u7406\u89e3 RPC \u539f\u7406\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u6574\u4e2a RPC\u7684 \u6838\u5fc3\u529f\u80fd\u770b\u4f5c\u662f\u4e0b\u9762\ud83d\udc47 6 \u4e2a\u90e8\u5206\u5b9e\u73b0\u7684\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5ba2\u6237\u7aef\uff08\u670d\u52a1\u6d88\u8d39\u7aef\uff09")," \uff1a\u8c03\u7528\u8fdc\u7a0b\u65b9\u6cd5\u7684\u4e00\u7aef\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5ba2\u6237\u7aef Stub\uff08\u6869\uff09")," \uff1a \u8fd9\u5176\u5b9e\u5c31\u662f\u4e00\u4ee3\u7406\u7c7b\u3002\u4ee3\u7406\u7c7b\u4e3b\u8981\u505a\u7684\u4e8b\u60c5\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u628a\u4f60\u8c03\u7528\u65b9\u6cd5\u3001\u7c7b\u3001\u65b9\u6cd5\u53c2\u6570\u7b49\u4fe1\u606f\u4f20\u9012\u5230\u670d\u52a1\u7aef\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u7f51\u7edc\u4f20\u8f93")," \uff1a \u7f51\u7edc\u4f20\u8f93\u5c31\u662f\u4f60\u8981\u628a\u4f60\u8c03\u7528\u7684\u65b9\u6cd5\u7684\u4fe1\u606f\u6bd4\u5982\u8bf4\u53c2\u6570\u554a\u8fd9\u4e9b\u4e1c\u897f\u4f20\u8f93\u5230\u670d\u52a1\u7aef\uff0c\u7136\u540e\u670d\u52a1\u7aef\u6267\u884c\u5b8c\u4e4b\u540e\u518d\u628a\u8fd4\u56de\u7ed3\u679c\u901a\u8fc7\u7f51\u7edc\u4f20\u8f93\u7ed9\u4f60\u4f20\u8f93\u56de\u6765\u3002\u7f51\u7edc\u4f20\u8f93\u7684\u5b9e\u73b0\u65b9\u5f0f\u6709\u5f88\u591a\u79cd\u6bd4\u5982\u6700\u8fd1\u57fa\u672c\u7684 Socket\u6216\u8005\u6027\u80fd\u4ee5\u53ca\u5c01\u88c5\u66f4\u52a0\u4f18\u79c0\u7684 Netty\uff08\u63a8\u8350\uff09\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u670d\u52a1\u7aef Stub\uff08\u6869\uff09")," \uff1a\u8fd9\u4e2a\u6869\u5c31\u4e0d\u662f\u4ee3\u7406\u7c7b\u4e86\u3002\u6211\u89c9\u5f97\u7406\u89e3\u4e3a\u6869\u5b9e\u9645\u4e0d\u592a\u597d\uff0c\u5927\u5bb6\u6ce8\u610f\u4e00\u4e0b\u5c31\u597d\u3002\u8fd9\u91cc\u7684\u670d\u52a1\u7aef Stub \u5b9e\u9645\u6307\u7684\u5c31\u662f\u63a5\u6536\u5230\u5ba2\u6237\u7aef\u6267\u884c\u65b9\u6cd5\u7684\u8bf7\u6c42\u540e\uff0c\u53bb\u6307\u5b9a\u5bf9\u5e94\u7684\u65b9\u6cd5\u7136\u540e\u8fd4\u56de\u7ed3\u679c\u7ed9\u5ba2\u6237\u7aef\u7684\u7c7b\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u670d\u52a1\u7aef\uff08\u670d\u52a1\u63d0\u4f9b\u7aef\uff09")," \uff1a\u63d0\u4f9b\u8fdc\u7a0b\u65b9\u6cd5\u7684\u4e00\u7aef\u3002")),(0,l.kt)("p",null,"\u5177\u4f53\u539f\u7406\u56fe\u5982\u4e0b\uff0c\u540e\u9762\u6211\u4f1a\u4e32\u8d77\u6765\u5c06\u6574\u4e2aRPC\u7684\u8fc7\u7a0b\u7ed9\u5927\u5bb6\u8bf4\u4e00\u4e0b\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220609151233412",src:n(23004).Z,width:"499",height:"317"})),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u670d\u52a1\u6d88\u8d39\u7aef\uff08client\uff09\u4ee5\u672c\u5730\u8c03\u7528\u7684\u65b9\u5f0f\u8c03\u7528\u8fdc\u7a0b\u670d\u52a1\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5ba2\u6237\u7aef Stub\uff08client stub\uff09 \u63a5\u6536\u5230\u8c03\u7528\u540e\u8d1f\u8d23\u5c06\u65b9\u6cd5\u3001\u53c2\u6570\u7b49\u7ec4\u88c5\u6210\u80fd\u591f\u8fdb\u884c\u7f51\u7edc\u4f20\u8f93\u7684\u6d88\u606f\u4f53\uff08\u5e8f\u5217\u5316\uff09\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"RpcRequest"),"\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5ba2\u6237\u7aef Stub\uff08client stub\uff09 \u627e\u5230\u8fdc\u7a0b\u670d\u52a1\u7684\u5730\u5740\uff0c\u5e76\u5c06\u6d88\u606f\u53d1\u9001\u5230\u670d\u52a1\u63d0\u4f9b\u7aef\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u670d\u52a1\u7aef Stub\uff08\u6869\uff09\u6536\u5230\u6d88\u606f\u5c06\u6d88\u606f\u53cd\u5e8f\u5217\u5316\u4e3aJava\u5bf9\u8c61: ",(0,l.kt)("inlineCode",{parentName:"li"},"RpcRequest"),"\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u670d\u52a1\u7aef Stub\uff08\u6869\uff09\u6839\u636e ",(0,l.kt)("inlineCode",{parentName:"li"},"RpcRequest"),"\u4e2d\u7684\u7c7b\u3001\u65b9\u6cd5\u3001\u65b9\u6cd5\u53c2\u6570\u7b49\u4fe1\u606f\u8c03\u7528\u672c\u5730\u7684\u65b9\u6cd5\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u670d\u52a1\u7aef Stub\uff08\u6869\uff09\u5f97\u5230\u65b9\u6cd5\u6267\u884c\u7ed3\u679c\u5e76\u5c06\u7ec4\u88c5\u6210\u80fd\u591f\u8fdb\u884c\u7f51\u7edc\u4f20\u8f93\u7684\u6d88\u606f\u4f53\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"RpcResponse"),"\uff08\u5e8f\u5217\u5316\uff09\u53d1\u9001\u81f3\u6d88\u8d39\u65b9\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5ba2\u6237\u7aef Stub\uff08client stub\uff09\u63a5\u6536\u5230\u6d88\u606f\u5e76\u5c06\u6d88\u606f\u53cd\u5e8f\u5217\u5316\u4e3aJava\u5bf9\u8c61:",(0,l.kt)("inlineCode",{parentName:"li"},"RpcResponse")," \uff0c\u8fd9\u6837\u4e5f\u5c31\u5f97\u5230\u4e86\u6700\u7ec8\u7ed3\u679c\u3002over!")),(0,l.kt)("p",null,"\u76f8\u4fe1\u5c0f\u4f19\u4f34\u4eec\u770b\u5b8c\u4e0a\u9762\u7684\u8bb2\u89e3\u4e4b\u540e\uff0c\u5df2\u7ecf\u4e86\u89e3\u4e86 RPC \u7684\u539f\u7406\u3002"),(0,l.kt)("p",null,"\u867d\u7136\u7bc7\u5e45\u4e0d\u591a\uff0c\u4f46\u662f\u57fa\u672c\u628a RPC \u6846\u67b6\u7684\u6838\u5fc3\u539f\u7406\u8bb2\u6e05\u695a\u4e86\uff01\u53e6\u5916\uff0c\u5bf9\u4e8e\u4e0a\u9762\u7684\u6280\u672f\u7ec6\u8282\uff0c\u6211\u4f1a\u5728\u540e\u9762\u7684\u7ae0\u8282\u4ecb\u7ecd\u5230\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6700\u540e\uff0c\u5bf9\u4e8e RPC \u7684\u539f\u7406\uff0c\u5e0c\u671b\u5c0f\u4f19\u4f34\u4e0d\u5355\u5355\u8981\u7406\u89e3\uff0c\u8fd8\u8981\u80fd\u591f\u81ea\u5df1\u753b\u51fa\u6765\u5e76\u4e14\u80fd\u591f\u7ed9\u522b\u4eba\u8bb2\u51fa\u6765\u3002\u56e0\u4e3a\uff0c\u5728\u9762\u8bd5\u4e2d\u8fd9\u4e2a\u95ee\u9898\u5728\u9762\u8bd5\u5b98\u95ee\u5230 RPC \u76f8\u5173\u5185\u5bb9\u7684\u65f6\u5019\u57fa\u672c\u90fd\u4f1a\u78b0\u5230\u3002")),(0,l.kt)("h3",{id:"\u6709\u54ea\u4e9b\u5e38\u89c1\u7684-rpc-\u6846\u67b6"},"\u6709\u54ea\u4e9b\u5e38\u89c1\u7684 RPC \u6846\u67b6\uff1f"),(0,l.kt)("p",null,"\u6211\u4eec\u8fd9\u91cc\u8bf4\u7684 RPC \u6846\u67b6\u6307\u7684\u662f\u53ef\u4ee5\u8ba9\u5ba2\u6237\u7aef\u76f4\u63a5\u8c03\u7528\u670d\u52a1\u7aef\u65b9\u6cd5\uff0c\u5c31\u50cf\u8c03\u7528\u672c\u5730\u65b9\u6cd5\u4e00\u6837\u7b80\u5355\u7684\u6846\u67b6\uff0c\u6bd4\u5982\u6211\u4e0b\u9762\u4ecb\u7ecd\u7684  Dubbo\u3001Motan\u3001gRPC\u8fd9\u4e9b\u3002 \u5982\u679c\u9700\u8981\u548c HTTP \u534f\u8bae\u6253\u4ea4\u9053\uff0c\u89e3\u6790\u548c\u5c01\u88c5 HTTP \u8bf7\u6c42\u548c\u54cd\u5e94\u3002\u8fd9\u7c7b\u6846\u67b6\u5e76\u4e0d\u80fd\u7b97\u662f\u201cRPC  \u6846\u67b6\u201d\uff0c\u6bd4\u5982Feign"),(0,l.kt)("h4",{id:"dubbo"},"Dubbo"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723235648648",src:n(70065).Z,width:"1154",height:"469"})),(0,l.kt)("p",null,"Apache Dubbo \u662f\u4e00\u6b3e\u5fae\u670d\u52a1\u6846\u67b6\uff0c\u4e3a\u5927\u89c4\u6a21\u5fae\u670d\u52a1\u5b9e\u8df5\u63d0\u4f9b\u9ad8\u6027\u80fd RPC \u901a\u4fe1\u3001\u6d41\u91cf\u6cbb\u7406\u3001\u53ef\u89c2\u6d4b\u6027\u7b49\u89e3\u51b3\u65b9\u6848\uff0c \u6db5\u76d6 Java\u3001Golang \u7b49\u591a\u79cd\u8bed\u8a00 SDK \u5b9e\u73b0\u3002"),(0,l.kt)("p",null,"Dubbo \u63d0\u4f9b\u4e86\u4ece\u670d\u52a1\u5b9a\u4e49\u3001\u670d\u52a1\u53d1\u73b0\u3001\u670d\u52a1\u901a\u4fe1\u5230\u6d41\u91cf\u7ba1\u63a7\u7b49\u51e0\u4e4e\u6240\u6709\u7684\u670d\u52a1\u6cbb\u7406\u80fd\u529b\uff0c\u652f\u6301 Triple \u534f\u8bae\uff08\u57fa\u4e8e HTTP/2 \u4e4b\u4e0a\u5b9a\u4e49\u7684\u4e0b\u4e00\u4ee3 RPC \u901a\u4fe1\u534f\u8bae\uff09\u3001\u5e94\u7528\u7ea7\u670d\u52a1\u53d1\u73b0\u3001Dubbo Mesh \uff08Dubbo3 \u8d4b\u4e88\u4e86\u5f88\u591a\u4e91\u539f\u751f\u53cb\u597d\u7684\u65b0\u7279\u6027\uff09\u7b49\u7279\u6027\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723235657177",src:n(98283).Z,width:"1235",height:"706"})),(0,l.kt)("p",null,"Dubbo \u662f\u7531\u963f\u91cc\u5f00\u6e90\uff0c\u540e\u6765\u52a0\u5165\u4e86 Apache \u3002\u6b63\u5f0f\u7531\u4e8e Dubbo \u7684\u51fa\u73b0\uff0c\u624d\u4f7f\u5f97\u8d8a\u6765\u8d8a\u591a\u7684\u516c\u53f8\u5f00\u59cb\u4f7f\u7528\u4ee5\u53ca\u63a5\u53d7\u5206\u5e03\u5f0f\u67b6\u6784\u3002"),(0,l.kt)("p",null,"Dubbo \u7b97\u7684\u662f\u6bd4\u8f83\u4f18\u79c0\u7684\u56fd\u4ea7\u5f00\u6e90\u9879\u76ee\u4e86\uff0c\u5b83\u7684\u6e90\u7801\u4e5f\u662f\u975e\u5e38\u503c\u5f97\u5b66\u4e60\u548c\u9605\u8bfb\u7684\uff01"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Github \uff1a",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/incubator-dubbo"},"https://github.com/apache/incubator-dubbo")),(0,l.kt)("li",{parentName:"ul"},"\u5b98\u7f51\uff1a",(0,l.kt)("a",{parentName:"li",href:"https://dubbo.apache.org/zh/"},"https://dubbo.apache.org/zh/"))),(0,l.kt)("h4",{id:"motan"},"Motan"),(0,l.kt)("p",null,"Motan \u662f\u65b0\u6d6a\u5fae\u535a\u5f00\u6e90\u7684\u4e00\u6b3e RPC \u6846\u67b6\uff0c\u636e\u8bf4\u5728\u65b0\u6d6a\u5fae\u535a\u6b63\u652f\u6491\u7740\u5343\u4ebf\u6b21\u8c03\u7528\u3002\u4e0d\u8fc7\u7b14\u8005\u5012\u662f\u5f88\u5c11\u770b\u5230\u6709\u516c\u53f8\u4f7f\u7528\uff0c\u800c\u4e14\u7f51\u4e0a\u7684\u8d44\u6599\u4e5f\u6bd4\u8f83\u5c11\u3002"),(0,l.kt)("p",null,"\u5f88\u591a\u4eba\u559c\u6b22\u62ff Motan \u548c Dubbo \u4f5c\u6bd4\u8f83\uff0c\u6bd5\u7adf\u90fd\u662f\u56fd\u5185\u5927\u516c\u53f8\u5f00\u6e90\u7684\u3002\u7b14\u8005\u5728\u67e5\u9605\u4e86\u5f88\u591a\u8d44\u6599\uff0c\u4ee5\u53ca\u7b80\u5355\u67e5\u770b\u4e86\u5176\u6e90\u7801\u4e4b\u540e\u53d1\u73b0\uff1a",(0,l.kt)("strong",{parentName:"p"},"Motan \u66f4\u50cf\u662f\u4e00\u4e2a\u7cbe\u7b80\u7248\u7684 Dubbo\uff0c\u53ef\u80fd\u662f\u501f\u9274\u4e86 Dubbo \u7684\u601d\u60f3\uff0cMotan \u7684\u8bbe\u8ba1\u66f4\u52a0\u7cbe\u7b80\uff0c\u529f\u80fd\u66f4\u52a0\u7eaf\u7cb9\u3002")),(0,l.kt)("p",null,"\u4e0d\u8fc7\uff0c\u6211\u4e0d\u63a8\u8350\u4f60\u5728\u5b9e\u9645\u9879\u76ee\u4e2d\u4f7f\u7528 Motan\u3002\u5982\u679c\u4f60\u8981\u662f\u516c\u53f8\u5b9e\u9645\u4f7f\u7528\u7684\u8bdd\uff0c\u8fd8\u662f\u63a8\u8350 Dubbo \uff0c\u5176\u793e\u533a\u6d3b\u8dc3\u5ea6\u4ee5\u53ca\u751f\u6001\u90fd\u8981\u597d\u5f88\u591a\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4ece Motan \u770b RPC \u6846\u67b6\u8bbe\u8ba1\uff1a",(0,l.kt)("a",{parentName:"li",href:"http://kriszhang.com/motan-rpc-impl/"},"http://kriszhang.com/motan-rpc-impl/")),(0,l.kt)("li",{parentName:"ul"},"Motan \u4e2d\u6587\u6587\u6863\uff1a",(0,l.kt)("a",{parentName:"li",href:"https://github.com/weibocom/motan/wiki/zh_overview"},"https://github.com/weibocom/motan/wiki/zh_overview"))),(0,l.kt)("h4",{id:"grpc"},"gRPC"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723235737977",src:n(77522).Z,width:"3538",height:"1958"})),(0,l.kt)("p",null,"gRPC \u662f Google \u5f00\u6e90\u7684\u4e00\u4e2a\u9ad8\u6027\u80fd\u3001\u901a\u7528\u7684\u5f00\u6e90 RPC \u6846\u67b6\u3002\u5176\u7531\u4e3b\u8981\u9762\u5411\u79fb\u52a8\u5e94\u7528\u5f00\u53d1\u5e76\u57fa\u4e8e HTTP/2 \u534f\u8bae\u6807\u51c6\u800c\u8bbe\u8ba1\uff08\u652f\u6301\u53cc\u5411\u6d41\u3001\u6d88\u606f\u5934\u538b\u7f29\u7b49\u529f\u80fd\uff0c\u66f4\u52a0\u8282\u7701\u5e26\u5bbd\uff09\uff0c\u57fa\u4e8e ProtoBuf \u5e8f\u5217\u5316\u534f\u8bae\u5f00\u53d1\uff0c\u5e76\u4e14\u652f\u6301\u4f17\u591a\u5f00\u53d1\u8bed\u8a00\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4f55\u8c13 ProtoBuf\uff1f")," ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/protocolbuffers/protobuf"},"ProtoBuf\uff08 Protocol Buffer\uff09")),(0,l.kt)("p",null," \u662f\u4e00\u79cd\u66f4\u52a0\u7075\u6d3b\u3001\u9ad8\u6548\u7684\u6570\u636e\u683c\u5f0f\uff0c\u53ef\u7528\u4e8e\u901a\u8baf\u534f\u8bae\u3001\u6570\u636e\u5b58\u50a8\u7b49\u9886\u57df\uff0c\u57fa\u672c\u652f\u6301\u6240\u6709\u4e3b\u6d41\u7f16\u7a0b\u8bed\u8a00\u4e14\u4e0e\u5e73\u53f0\u65e0\u5173\u3002\u4e0d\u8fc7\uff0c\u901a\u8fc7 ProtoBuf \u5b9a\u4e49\u63a5\u53e3\u548c\u6570\u636e\u7c7b\u578b\u8fd8\u633a\u7e41\u7410\u7684\uff0c\u8fd9\u662f\u4e00\u4e2a\u5c0f\u95ee\u9898\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723235747598",src:n(93732).Z,width:"837",height:"506"})),(0,l.kt)("p",null,"\u4e0d\u5f97\u4e0d\u8bf4\uff0cgRPC \u7684\u901a\u4fe1\u5c42\u7684\u8bbe\u8ba1\u8fd8\u662f\u975e\u5e38\u4f18\u79c0\u7684\uff0c",(0,l.kt)("a",{parentName:"p",href:"https://dubbogo.github.io/"},"Dubbo-go 3.0")),(0,l.kt)("p",null," \u7684\u901a\u4fe1\u5c42\u6539\u8fdb\u4e3b\u8981\u501f\u9274\u4e86 gRPC\u3002"),(0,l.kt)("p",null,"\u4e0d\u8fc7\uff0cgRPC \u7684\u8bbe\u8ba1\u5bfc\u81f4\u5176\u51e0\u4e4e\u6ca1\u6709\u670d\u52a1\u6cbb\u7406\u80fd\u529b\u3002\u5982\u679c\u4f60\u60f3\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u8bdd\uff0c\u5c31\u9700\u8981\u4f9d\u8d56\u5176\u4ed6\u7ec4\u4ef6\u6bd4\u5982\u817e\u8baf\u7684 PolarisMesh\uff08\u5317\u6781\u661f\uff09\u4e86\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Github\uff1a",(0,l.kt)("a",{parentName:"li",href:"https://github.com/grpc/grpc"},"https://github.com/grpc/grpc")),(0,l.kt)("li",{parentName:"ul"},"\u5b98\u7f51\uff1a",(0,l.kt)("a",{parentName:"li",href:"https://grpc.io/"},"https://grpc.io/"))),(0,l.kt)("h4",{id:"thrift"},"Thrift"),(0,l.kt)("p",null,"Apache Thrift \u662f Facebook \u5f00\u6e90\u7684\u8de8\u8bed\u8a00\u7684 RPC \u901a\u4fe1\u6846\u67b6\uff0c\u76ee\u524d\u5df2\u7ecf\u6350\u732e\u7ed9 Apache  \u57fa\u91d1\u4f1a\u7ba1\u7406\uff0c\u7531\u4e8e\u5176\u8de8\u8bed\u8a00\u7279\u6027\u548c\u51fa\u8272\u7684\u6027\u80fd\uff0c\u5728\u5f88\u591a\u4e92\u8054\u7f51\u516c\u53f8\u5f97\u5230\u5e94\u7528\uff0c\u6709\u80fd\u529b\u7684\u516c\u53f8\u751a\u81f3\u4f1a\u57fa\u4e8e thrift  \u7814\u53d1\u4e00\u5957\u5206\u5e03\u5f0f\u670d\u52a1\u6846\u67b6\uff0c\u589e\u52a0\u8bf8\u5982\u670d\u52a1\u6ce8\u518c\u3001\u670d\u52a1\u53d1\u73b0\u7b49\u529f\u80fd\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Thrift"),"\u652f\u6301\u591a\u79cd\u4e0d\u540c\u7684",(0,l.kt)("strong",{parentName:"p"},"\u7f16\u7a0b\u8bed\u8a00"),"\uff0c\u5305\u62ec",(0,l.kt)("inlineCode",{parentName:"p"},"C++"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"Java"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"Python"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"PHP"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"Ruby"),"\u7b49\uff08\u76f8\u6bd4\u4e8e gRPC \u652f\u6301\u7684\u8bed\u8a00\u66f4\u591a \uff09\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5b98\u7f51\uff1a",(0,l.kt)("a",{parentName:"li",href:"https://thrift.apache.org/"},"https://thrift.apache.org/")),(0,l.kt)("li",{parentName:"ul"},"Thrift \u7b80\u5355\u4ecb\u7ecd\uff1a",(0,l.kt)("a",{parentName:"li",href:"https://www.jianshu.com/p/8f25d057a5a9"},"https://www.jianshu.com/p/8f25d057a5a9"))),(0,l.kt)("h4",{id:"\u603b\u7ed3-6"},"\u603b\u7ed3"),(0,l.kt)("p",null,"gRPC \u548c Thrift \u867d\u7136\u652f\u6301\u8de8\u8bed\u8a00\u7684 RPC \u8c03\u7528\uff0c\u4f46\u662f\u5b83\u4eec\u53ea\u63d0\u4f9b\u4e86\u6700\u57fa\u672c\u7684 RPC \u6846\u67b6\u529f\u80fd\uff0c\u7f3a\u4e4f\u4e00\u7cfb\u5217\u914d\u5957\u7684\u670d\u52a1\u5316\u7ec4\u4ef6\u548c\u670d\u52a1\u6cbb\u7406\u529f\u80fd\u7684\u652f\u6491\u3002"),(0,l.kt)("p",null,"Dubbo \u4e0d\u8bba\u662f\u4ece\u529f\u80fd\u5b8c\u5584\u7a0b\u5ea6\u3001\u751f\u6001\u7cfb\u7edf\u8fd8\u662f\u793e\u533a\u6d3b\u8dc3\u5ea6\u6765\u8bf4\u90fd\u662f\u6700\u4f18\u79c0\u7684\u3002\u800c\u4e14\uff0cDubbo\u5728\u56fd\u5185\u6709\u5f88\u591a\u6210\u529f\u7684\u6848\u4f8b\u6bd4\u5982\u5f53\u5f53\u7f51\u3001\u6ef4\u6ef4\u7b49\u7b49\uff0c\u662f\u4e00\u6b3e\u7ecf\u5f97\u8d77\u751f\u4ea7\u8003\u9a8c\u7684\u6210\u719f\u7a33\u5b9a\u7684 RPC \u6846\u67b6\u3002\u6700\u91cd\u8981\u7684\u662f\u4f60\u8fd8\u80fd\u627e\u5230\u975e\u5e38\u591a\u7684 Dubbo \u53c2\u8003\u8d44\u6599\uff0c\u5b66\u4e60\u6210\u672c\u76f8\u5bf9\u4e5f\u8f83\u4f4e\u3002"),(0,l.kt)("p",null,"\u4e0b\u56fe\u5c55\u793a\u4e86 Dubbo \u7684\u751f\u6001\u7cfb\u7edf\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723235849004",src:n(95045).Z,width:"2296",height:"1376"})),(0,l.kt)("p",null,"Dubbo \u4e5f\u662f Spring Cloud Alibaba \u91cc\u9762\u7684\u4e00\u4e2a\u7ec4\u4ef6\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220723235856647",src:n(48834).Z,width:"2274",height:"1062"})),(0,l.kt)("p",null,"\u4f46\u662f\uff0cDubbo \u548c Motan \u4e3b\u8981\u662f\u7ed9 Java \u8bed\u8a00\u4f7f\u7528\u3002\u867d\u7136\uff0cDubbo \u548c Motan \u76ee\u524d\u4e5f\u80fd\u517c\u5bb9\u90e8\u5206\u8bed\u8a00\uff0c\u4f46\u662f\u4e0d\u592a\u63a8\u8350\u3002\u5982\u679c\u9700\u8981\u8de8\u591a\u79cd\u8bed\u8a00\u8c03\u7528\u7684\u8bdd\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 gRPC\u3002"),(0,l.kt)("p",null,"\u7efc\u4e0a\uff0c\u5982\u679c\u662f Java \u540e\u7aef\u6280\u672f\u6808\uff0c\u5e76\u4e14\u4f60\u5728\u7ea0\u7ed3\u9009\u62e9\u54ea\u4e00\u79cd RPC \u6846\u67b6\u7684\u8bdd\uff0c\u6211\u63a8\u8350\u4f60\u8003\u8651\u4e00\u4e0b Dubbo"),(0,l.kt)("h3",{id:"\u4e86\u89e3\u5206\u5e03\u5f0f\u4e8b\u52a1\u5417"},"\u4e86\u89e3\u5206\u5e03\u5f0f\u4e8b\u52a1\u5417\uff1f"),(0,l.kt)("p",null,"\u6211\u63a5\u89e6\u548c\u4e86\u89e3\u5230\u7684\u5206\u5e03\u5f0f\u4e8b\u52a1\u5927\u6982\u5206\u4e3a\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"2pc\uff08\u4e24\u6bb5\u5f0f\u63d0\u4ea4\uff09"),(0,l.kt)("li",{parentName:"ul"},"3pc\uff08\u4e09\u6bb5\u5f0f\u63d0\u4ea4\uff09"),(0,l.kt)("li",{parentName:"ul"},"TCC\uff08Try\u3001Confirm\u3001Cancel\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u6700\u5927\u52aa\u529b\u901a\u77e5"),(0,l.kt)("li",{parentName:"ul"},"\u6d88\u606f\u4e8b\u52a1"),(0,l.kt)("li",{parentName:"ul"},"\u672c\u5730\u6d88\u606f\u8868\uff08ebay\u7814\u53d1\u51fa\u7684\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u534a\u6d88\u606f/\u6700\u7ec8\u4e00\u81f4\u6027\uff08RocketMQ\uff09")),(0,l.kt)("p",null,"\u8fd9\u91cc\u6211\u5c31\u4ecb\u7ecd\u4e0b\u6700\u7b80\u5355\u7684",(0,l.kt)("strong",{parentName:"p"},"2pc\uff08\u4e24\u6bb5\u5f0f\uff09"),"\uff0c\u4ee5\u53ca\u5927\u5bb6\u4ee5\u540e\u53ef\u80fd\u6bd4\u8f83\u5e38\u7528\u7684",(0,l.kt)("strong",{parentName:"p"},"\u534a\u6d88\u606f\u4e8b\u52a1"),"\u4e5f\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u6700\u7ec8\u4e00\u81f4\u6027"),"\uff0c\u76ee\u7684\u662f\u8ba9\u5927\u5bb6\u7406\u89e3\u4e0b\u5206\u5e03\u5f0f\u4e8b\u52a1\u91cc\u9762",(0,l.kt)("strong",{parentName:"p"},"\u6d88\u606f\u4e2d\u95f4\u4ef6\u7684\u4f5c\u7528"),"\uff0c\u522b\u7684\u4e8b\u52a1\u90fd\u5927\u540c\u5c0f\u5f02\uff0c\u90fd\u6709\u5f88\u591a\u4f18\u70b9\u3002"),(0,l.kt)("p",null,"\u5f53\u7136\u4e5f\u90fd\u6709",(0,l.kt)("strong",{parentName:"p"},"\u79cd\u79cd\u5f0a\u7aef"),"\uff1a"),(0,l.kt)("p",null,"\u4f8b\u5982",(0,l.kt)("strong",{parentName:"p"},"\u957f\u65f6\u95f4\u9501\u5b9a\u6570\u636e\u5e93\u8d44\u6e90"),"\uff0c\u5bfc\u81f4\u7cfb\u7edf\u7684",(0,l.kt)("strong",{parentName:"p"},"\u54cd\u5e94\u4e0d\u5feb"),"\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5e76\u53d1\u4e0a\u4e0d\u53bb"),"\u3002"),(0,l.kt)("p",null,"\u7f51\u7edc\u6296\u52a8\u51fa\u73b0",(0,l.kt)("strong",{parentName:"p"},"\u8111\u88c2"),"\u60c5\u51b5\uff0c\u5bfc\u81f4\u4e8b\u7269\u53c2\u4e0e\u8005\uff0c\u4e0d\u80fd\u5f88\u597d\u5730\u6267\u884c\u534f\u8c03\u8005\u7684\u6307\u4ee4\uff0c\u5bfc\u81f4",(0,l.kt)("strong",{parentName:"p"},"\u6570\u636e\u4e0d\u4e00\u81f4"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5355\u70b9\u6545\u969c"),"\uff1a\u4f8b\u5982\u4e8b\u7269\u534f\u8c03\u8005\uff0c\u5728\u67d0\u4e00\u65f6\u523b\u5b95\u673a\uff0c\u867d\u7136\u53ef\u4ee5\u901a\u8fc7\u9009\u4e3e\u673a\u5236\u4ea7\u751f\u65b0\u7684Leader\uff0c\u4f46\u662f\u8fd9\u8fc7\u7a0b\u4e2d\uff0c\u5fc5\u7136\u51fa\u73b0\u95ee\u9898\uff0c\u800cTCC\uff0c\u53ea\u6709\u5f3a\u608d\u7684\u6280\u672f\u56e2\u961f\uff0c\u624d\u80fd\u652f\u6301\u5f00\u53d1\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u6210\u672c\u592a\u9ad8"),"\u3002"),(0,l.kt)("p",null,"\u4e0d\u591aBB\u4e86\uff0c\u6211\u4eec\u5f00\u59cb\u4ecb\u7ecd\u8fd9\u4e2a\u4e24\u4e2a\u4e8b\u7269\u5427\u3002"),(0,l.kt)("h4",{id:"2pc\u4e24\u6bb5\u5f0f\u63d0\u4ea4"},"2pc\uff08\u4e24\u6bb5\u5f0f\u63d0\u4ea4\uff09"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617144013552",src:n(84690).Z,width:"780",height:"683"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2pc\uff08\u4e24\u6bb5\u5f0f\u63d0\u4ea4\uff09"),"\u53ef\u4ee5\u8bf4\u662f\u5206\u5e03\u5f0f\u4e8b\u52a1\u7684\u6700\u5f00\u59cb\u7684\u6837\u5b50\u4e86\uff0c\u50cf\u6781\u4e86",(0,l.kt)("strong",{parentName:"p"},"\u5a92\u5a46"),"\uff0c\u5c31\u662f\u901a\u8fc7\u6d88\u606f\u4e2d\u95f4\u4ef6\u534f\u8c03\u591a\u4e2a\u7cfb\u7edf\uff0c\u5728\u4e24\u4e2a\u7cfb\u7edf\u64cd\u4f5c\u4e8b\u52a1\u7684\u65f6\u5019\u90fd\u9501\u5b9a\u8d44\u6e90\u4f46\u662f\u4e0d\u63d0\u4ea4\u4e8b\u52a1\uff0c\u7b49\u4e24\u8005\u90fd\u51c6\u5907\u597d\u4e86\uff0c\u544a\u8bc9\u6d88\u606f\u4e2d\u95f4\u4ef6\uff0c\u7136\u540e\u518d\u5206\u522b\u63d0\u4ea4\u4e8b\u52a1\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4f46\u662f\u6211\u4e0d\u77e5\u9053\u5927\u5bb6\u770b\u5230\u95ee\u9898\u6240\u5728\u6ca1\u6709\uff1f")),(0,l.kt)("p",null,"\u662f\u7684\u4f60\u53ef\u80fd\u5df2\u7ecf\u53d1\u73b0\u4e86\uff0c\u5982\u679cA\u7cfb\u7edf\u4e8b\u52a1\u63d0\u4ea4\u6210\u529f\u4e86\uff0c\u4f46\u662fB\u7cfb\u7edf\u5728\u63d0\u4ea4\u7684\u65f6\u5019\u7f51\u7edc\u6ce2\u52a8\u6216\u8005\u5404\u79cd\u539f\u56e0\u63d0\u4ea4\u5931\u8d25\u4e86\uff0c\u5176\u5b9e\u8fd8\u662f\u4f1a\u5931\u8d25\u7684\u3002"),(0,l.kt)("h4",{id:"3pc"},"3PC"),(0,l.kt)("p",null,"3PC \u7684\u51fa\u73b0\u662f\u4e3a\u4e86\u89e3\u51b3 2PC \u7684\u4e00\u4e9b\u95ee\u9898\uff0c\u76f8\u6bd4\u4e8e 2PC \u5b83\u5728",(0,l.kt)("strong",{parentName:"p"},"\u53c2\u4e0e\u8005\u4e2d\u4e5f\u5f15\u5165\u4e86\u8d85\u65f6\u673a\u5236"),"\uff0c\u5e76\u4e14",(0,l.kt)("strong",{parentName:"p"},"\u65b0\u589e\u4e86\u4e00\u4e2a\u9636\u6bb5"),"\u4f7f\u5f97\u53c2\u4e0e\u8005\u53ef\u4ee5\u5229\u7528\u8fd9\u4e00\u4e2a\u9636\u6bb5\u7edf\u4e00\u5404\u81ea\u7684\u72b6\u6001\u3002"),(0,l.kt)("p",null,"\u8ba9\u6211\u4eec\u6765\u8be6\u7ec6\u770b\u4e00\u4e0b\u3002"),(0,l.kt)("p",null,"3PC \u5305\u542b\u4e86\u4e09\u4e2a\u9636\u6bb5\uff0c\u5206\u522b\u662f",(0,l.kt)("strong",{parentName:"p"},"\u51c6\u5907\u9636\u6bb5\u3001\u9884\u63d0\u4ea4\u9636\u6bb5\u548c\u63d0\u4ea4\u9636\u6bb5"),"\uff0c\u5bf9\u5e94\u7684\u82f1\u6587\u5c31\u662f\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"CanCommit\u3001PreCommit \u548c DoCommit"),"\u3002"),(0,l.kt)("p",null,"\u770b\u8d77\u6765\u662f",(0,l.kt)("strong",{parentName:"p"},"\u628a 2PC \u7684\u63d0\u4ea4\u9636\u6bb5\u53d8\u6210\u4e86\u9884\u63d0\u4ea4\u9636\u6bb5\u548c\u63d0\u4ea4\u9636\u6bb5"),"\uff0c\u4f46\u662f 3PC \u7684\u51c6\u5907\u9636\u6bb5\u534f\u8c03\u8005\u53ea\u662f\u8be2\u95ee\u53c2\u4e0e\u8005\u7684\u81ea\u8eab\u72b6\u51b5\uff0c\u6bd4\u5982\u4f60\u73b0\u5728\u8fd8\u597d\u5417\uff1f\u8d1f\u8f7d\u91cd\u4e0d\u91cd\uff1f\u8fd9\u7c7b\u7684\u3002"),(0,l.kt)("p",null,"\u800c\u9884\u63d0\u4ea4\u9636\u6bb5\u5c31\u662f\u548c 2PC \u7684\u51c6\u5907\u9636\u6bb5\u4e00\u6837\uff0c\u9664\u4e86\u4e8b\u52a1\u7684\u63d0\u4ea4\u8be5\u505a\u7684\u90fd\u505a\u4e86\u3002"),(0,l.kt)("p",null,"\u63d0\u4ea4\u9636\u6bb5\u548c 2PC \u7684\u4e00\u6837\uff0c\u8ba9\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u56fe\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725145659669",src:n(9047).Z,width:"1024",height:"738"})),(0,l.kt)("p",null,"\u4e0d\u7ba1\u54ea\u4e00\u4e2a\u9636\u6bb5\u6709\u53c2\u4e0e\u8005\u8fd4\u56de\u5931\u8d25\u90fd\u4f1a\u5ba3\u5e03\u4e8b\u52a1\u5931\u8d25\uff0c\u8fd9\u548c 2PC \u662f\u4e00\u6837\u7684\uff08\u5f53\u7136\u5230\u6700\u540e\u7684\u63d0\u4ea4\u9636\u6bb5\u548c 2PC \u4e00\u6837\u53ea\u8981\u662f\u63d0\u4ea4\u8bf7\u6c42\u5c31\u53ea\u80fd\u4e0d\u65ad\u91cd\u8bd5\uff09\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e0b 3PC \u7684\u9636\u6bb5\u53d8\u66f4\u6709\u4ec0\u4e48\u5f71\u54cd\u3002"),(0,l.kt)("p",null,"\u9996\u5148",(0,l.kt)("strong",{parentName:"p"},"\u51c6\u5907\u9636\u6bb5\u7684\u53d8\u66f4\u6210\u4e0d\u4f1a\u76f4\u63a5\u6267\u884c\u4e8b\u52a1"),"\uff0c\u800c\u662f\u4f1a\u5148\u53bb\u8be2\u95ee\u6b64\u65f6\u7684\u53c2\u4e0e\u8005\u662f\u5426\u6709\u6761\u4ef6\u63a5\u8fd9\u4e2a\u4e8b\u52a1\uff0c\u56e0\u6b64",(0,l.kt)("strong",{parentName:"p"},"\u4e0d\u4f1a\u4e00\u6765\u5c31\u5e72\u6d3b\u76f4\u63a5\u9501\u8d44\u6e90"),"\uff0c\u4f7f\u5f97\u5728\u67d0\u4e9b\u8d44\u6e90\u4e0d\u53ef\u7528\u7684\u60c5\u51b5\u4e0b\u6240\u6709\u53c2\u4e0e\u8005\u90fd\u963b\u585e\u7740\u3002"),(0,l.kt)("p",null,"\u800c",(0,l.kt)("strong",{parentName:"p"},"\u9884\u63d0\u4ea4\u9636\u6bb5\u7684\u5f15\u5165\u8d77\u5230\u4e86\u4e00\u4e2a\u7edf\u4e00\u72b6\u6001\u7684\u4f5c\u7528"),"\uff0c\u5b83\u50cf\u4e00\u9053\u6805\u680f\uff0c\u8868\u660e\u5728\u9884\u63d0\u4ea4\u9636\u6bb5\u524d\u6240\u6709\u53c2\u4e0e\u8005\u5176\u5b9e\u8fd8\u672a\u90fd\u56de\u5e94\uff0c\u5728\u9884\u5904\u7406\u9636\u6bb5\u8868\u660e\u6240\u6709\u53c2\u4e0e\u8005\u90fd\u5df2\u7ecf\u56de\u5e94\u4e86\u3002"),(0,l.kt)("p",null,"\u5047\u5982\u4f60\u662f\u4e00\u4f4d\u53c2\u4e0e\u8005\uff0c\u4f60\u77e5\u9053\u81ea\u5df1\u8fdb\u5165\u4e86\u9884\u63d0\u4ea4\u72b6\u6001\u90a3\u4f60\u5c31\u53ef\u4ee5\u63a8\u65ad\u51fa\u6765\u5176\u4ed6\u53c2\u4e0e\u8005\u4e5f\u90fd\u8fdb\u5165\u4e86\u9884\u63d0\u4ea4\u72b6\u6001\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\u591a\u5f15\u5165\u4e00\u4e2a\u9636\u6bb5\u4e5f\u591a\u4e00\u4e2a\u4ea4\u4e92\uff0c\u56e0\u6b64",(0,l.kt)("strong",{parentName:"p"},"\u6027\u80fd\u4f1a\u5dee\u4e00\u4e9b"),"\uff0c\u800c\u4e14",(0,l.kt)("strong",{parentName:"p"},"\u7edd\u5927\u90e8\u5206\u7684\u60c5\u51b5\u4e0b\u8d44\u6e90\u5e94\u8be5\u90fd\u662f\u53ef\u7528\u7684"),"\uff0c\u8fd9\u6837\u7b49\u4e8e\u6bcf\u6b21\u660e\u77e5\u53ef\u7528\u6267\u884c\u8fd8\u5f97\u8be2\u95ee\u4e00\u6b21\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u518d\u6765\u770b\u4e0b\u53c2\u4e0e\u8005\u8d85\u65f6\u80fd\u5e26\u6765\u4ec0\u4e48\u6837\u7684\u5f71\u54cd\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u77e5\u9053 2PC \u662f\u540c\u6b65\u963b\u585e\u7684\uff0c\u4e0a\u9762\u6211\u4eec\u5df2\u7ecf\u5206\u6790\u4e86\u534f\u8c03\u8005\u6302\u5728\u4e86\u63d0\u4ea4\u8bf7\u6c42\u8fd8\u672a\u53d1\u51fa\u53bb\u7684\u65f6\u5019\u662f\u6700\u4f24\u7684\uff0c\u6240\u6709\u53c2\u4e0e\u8005\u90fd\u5df2\u7ecf\u9501\u5b9a\u8d44\u6e90\u5e76\u4e14\u963b\u585e\u7b49\u5f85\u7740\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\u5f15\u5165\u4e86\u8d85\u65f6\u673a\u5236\uff0c\u53c2\u4e0e\u8005\u5c31\u4e0d\u4f1a\u50bb\u7b49\u4e86\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5982\u679c\u662f\u7b49\u5f85\u63d0\u4ea4\u547d\u4ee4\u8d85\u65f6\uff0c\u90a3\u4e48\u53c2\u4e0e\u8005\u5c31\u4f1a\u63d0\u4ea4\u4e8b\u52a1\u4e86"),"\uff0c\u56e0\u4e3a\u90fd\u5230\u4e86\u8fd9\u4e00\u9636\u6bb5\u4e86\u5927\u6982\u7387\u662f\u63d0\u4ea4\u7684\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5982\u679c\u662f\u7b49\u5f85\u9884\u63d0\u4ea4\u547d\u4ee4\u8d85\u65f6\uff0c\u90a3\u8be5\u5e72\u5565\u5c31\u5e72\u5565\u4e86\uff0c\u53cd\u6b63\u672c\u6765\u5565\u4e5f\u6ca1\u5e72"),"\u3002"),(0,l.kt)("p",null,"\u7136\u800c\u8d85\u65f6\u673a\u5236\u4e5f\u4f1a\u5e26\u6765\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u5728\u7b49\u5f85\u63d0\u4ea4\u547d\u4ee4\u65f6\u5019\u8d85\u65f6\u4e86\uff0c\u53c2\u4e0e\u8005\u9ed8\u8ba4\u6267\u884c\u7684\u662f\u63d0\u4ea4\u4e8b\u52a1\u64cd\u4f5c\uff0c\u4f46\u662f",(0,l.kt)("strong",{parentName:"p"},"\u6709\u53ef\u80fd\u6267\u884c\u7684\u662f\u56de\u6eda\u64cd\u4f5c\uff0c\u8fd9\u6837\u4e00\u6765\u6570\u636e\u5c31\u4e0d\u4e00\u81f4\u4e86"),"\u3002"),(0,l.kt)("p",null,"\u5f53\u7136 3PC \u534f\u8c03\u8005\u8d85\u65f6\u8fd8\u662f\u5728\u7684\uff0c\u5177\u4f53\u4e0d\u5206\u6790\u4e86\u548c 2PC \u662f\u4e00\u6837\u7684\u3002"),(0,l.kt)("p",null,"\u4ece\u7ef4\u57fa\u767e\u79d1\u4e0a\u770b\uff0c3PC \u7684\u5f15\u5165\u662f\u4e3a\u4e86\u89e3\u51b3\u63d0\u4ea4\u9636\u6bb5 2PC \u534f\u8c03\u8005\u548c\u67d0\u53c2\u4e0e\u8005\u90fd\u6302\u4e86\u4e4b\u540e\u65b0\u9009\u4e3e\u7684\u534f\u8c03\u8005\u4e0d\u77e5\u9053\u5f53\u524d\u5e94\u8be5\u63d0\u4ea4\u8fd8\u662f\u56de\u6eda\u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u65b0\u534f\u8c03\u8005\u6765\u7684\u65f6\u5019\u53d1\u73b0\u6709\u4e00\u4e2a\u53c2\u4e0e\u8005\u5904\u4e8e\u9884\u63d0\u4ea4\u6216\u8005\u63d0\u4ea4\u9636\u6bb5\uff0c\u90a3\u4e48\u8868\u660e\u5df2\u7ecf\u7ecf\u8fc7\u4e86\u6240\u6709\u53c2\u4e0e\u8005\u7684\u786e\u8ba4\u4e86\uff0c\u6240\u4ee5\u6b64\u65f6\u6267\u884c\u7684\u5c31\u662f\u63d0\u4ea4\u547d\u4ee4\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\u8bf4 3PC \u5c31\u662f\u901a\u8fc7\u5f15\u5165\u9884\u63d0\u4ea4\u9636\u6bb5\u6765\u4f7f\u5f97\u53c2\u4e0e\u8005\u4e4b\u95f4\u7684\u72b6\u6001\u5f97\u5230\u7edf\u4e00\uff0c\u4e5f\u5c31\u662f\u7559\u4e86\u4e00\u4e2a\u9636\u6bb5\u8ba9\u5927\u5bb6\u540c\u6b65\u4e00\u4e0b\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\u8fd9\u4e5f\u53ea\u80fd\u8ba9\u534f\u8c03\u8005\u77e5\u9053\u8be5\u5982\u679c\u505a\uff0c\u4f46\u4e0d\u80fd\u4fdd\u8bc1\u8fd9\u6837\u505a\u4e00\u5b9a\u5bf9\uff0c\u8fd9\u5176\u5b9e\u548c\u4e0a\u9762 2PC \u5206\u6790\u4e00\u81f4\uff0c\u56e0\u4e3a\u6302\u4e86\u7684\u53c2\u4e0e\u8005\u5230\u5e95\u6709\u6ca1\u6709\u6267\u884c\u4e8b\u52a1\u65e0\u6cd5\u65ad\u5b9a\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\u8bf4 3PC \u901a\u8fc7\u9884\u63d0\u4ea4\u9636\u6bb5\u53ef\u4ee5\u51cf\u5c11\u6545\u969c\u6062\u590d\u65f6\u5019\u7684\u590d\u6742\u6027\uff0c\u4f46\u662f\u4e0d\u80fd\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\uff0c\u9664\u975e\u6302\u4e86\u7684\u90a3\u4e2a\u53c2\u4e0e\u8005\u6062\u590d\u3002"),(0,l.kt)("p",null,"\u8ba9\u6211\u4eec\u603b\u7ed3\u4e00\u4e0b\uff0c 3PC \u76f8\u5bf9\u4e8e 2PC \u505a\u4e86\u4e00\u5b9a\u7684\u6539\u8fdb\uff1a\u5f15\u5165\u4e86\u53c2\u4e0e\u8005\u8d85\u65f6\u673a\u5236\uff0c\u5e76\u4e14\u589e\u52a0\u4e86\u9884\u63d0\u4ea4\u9636\u6bb5\u4f7f\u5f97\u6545\u969c\u6062\u590d\u4e4b\u540e\u534f\u8c03\u8005\u7684\u51b3\u7b56\u590d\u6742\u5ea6\u964d\u4f4e\uff0c\u4f46\u6574\u4f53\u7684\u4ea4\u4e92\u8fc7\u7a0b\u66f4\u957f\u4e86\uff0c\u6027\u80fd\u6709\u6240\u4e0b\u964d\uff0c\u5e76\u4e14\u8fd8\u662f\u4f1a\u5b58\u5728\u6570\u636e\u4e0d\u4e00\u81f4\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5 2PC \u548c 3PC \u90fd\u4e0d\u80fd\u4fdd\u8bc1\u6570\u636e100%\u4e00\u81f4\uff0c\u56e0\u6b64\u4e00\u822c\u90fd\u9700\u8981\u6709\u5b9a\u65f6\u626b\u63cf\u8865\u507f\u673a\u5236\u3002"),(0,l.kt)("p",null,"\u6211\u518d\u8bf4\u4e0b 3PC \u6211\u6ca1\u6709\u627e\u5230\u5177\u4f53\u7684\u5b9e\u73b0\uff0c\u6240\u4ee5\u6211\u8ba4\u4e3a 3PC \u53ea\u662f\u7eaf\u7684\u7406\u8bba\u4e0a\u7684\u4e1c\u897f\uff0c\u800c\u4e14\u53ef\u4ee5\u770b\u5230\u76f8\u6bd4\u4e8e 2PC \u5b83\u662f\u505a\u4e86\u4e00\u4e9b\u52aa\u529b\u4f46\u662f\u6548\u679c\u751a\u5fae\uff0c\u6240\u4ee5\u53ea\u505a\u4e86\u89e3\u5373\u53ef\u3002"),(0,l.kt)("h4",{id:"tcc"},"TCC"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2PC \u548c 3PC \u90fd\u662f\u6570\u636e\u5e93\u5c42\u9762\u7684\uff0c\u800c TCC \u662f\u4e1a\u52a1\u5c42\u9762\u7684\u5206\u5e03\u5f0f\u4e8b\u52a1"),"\uff0c\u5c31\u50cf\u6211\u524d\u9762\u8bf4\u7684\u5206\u5e03\u5f0f\u4e8b\u52a1\u4e0d\u4ec5\u4ec5\u5305\u62ec\u6570\u636e\u5e93\u7684\u64cd\u4f5c\uff0c\u8fd8\u5305\u62ec\u53d1\u9001\u77ed\u4fe1\u7b49\uff0c\u8fd9\u65f6\u5019 TCC \u5c31\u6d3e\u4e0a\u7528\u573a\u4e86\uff01"),(0,l.kt)("p",null,"TCC \u6307\u7684\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"Try - Confirm - Cancel"),"\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Try \u6307\u7684\u662f\u9884\u7559\uff0c\u5373\u8d44\u6e90\u7684\u9884\u7559\u548c\u9501\u5b9a\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u6ce8\u610f\u662f\u9884\u7559"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},"Confirm \u6307\u7684\u662f\u786e\u8ba4\u64cd\u4f5c\uff0c\u8fd9\u4e00\u6b65\u5176\u5b9e\u5c31\u662f\u771f\u6b63\u7684\u6267\u884c\u4e86\u3002"),(0,l.kt)("li",{parentName:"ul"},"Cancel \u6307\u7684\u662f\u64a4\u9500\u64cd\u4f5c\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u628a\u9884\u7559\u9636\u6bb5\u7684\u52a8\u4f5c\u64a4\u9500\u4e86\u3002")),(0,l.kt)("p",null,"\u5176\u5b9e\u4ece\u601d\u60f3\u4e0a\u770b\u548c 2PC \u5dee\u4e0d\u591a\uff0c\u90fd\u662f\u5148\u8bd5\u63a2\u6027\u7684\u6267\u884c\uff0c\u5982\u679c\u90fd\u53ef\u4ee5\u90a3\u5c31\u771f\u6b63\u7684\u6267\u884c\uff0c\u5982\u679c\u4e0d\u884c\u5c31\u56de\u6eda\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982\u8bf4\u4e00\u4e2a\u4e8b\u52a1\u8981\u6267\u884cA\u3001B\u3001C\u4e09\u4e2a\u64cd\u4f5c\uff0c\u90a3\u4e48\u5148\u5bf9\u4e09\u4e2a\u64cd\u4f5c\u6267\u884c\u9884\u7559\u52a8\u4f5c\u3002\u5982\u679c\u90fd\u9884\u7559\u6210\u529f\u4e86\u90a3\u4e48\u5c31\u6267\u884c\u786e\u8ba4\u64cd\u4f5c\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u9884\u7559\u5931\u8d25\u90a3\u5c31\u90fd\u6267\u884c\u64a4\u9500\u52a8\u4f5c\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u6765\u770b\u4e0b\u6d41\u7a0b\uff0cTCC\u6a21\u578b\u8fd8\u6709\u4e2a\u4e8b\u52a1\u7ba1\u7406\u8005\u7684\u89d2\u8272\uff0c\u7528\u6765\u8bb0\u5f55TCC\u5168\u5c40\u4e8b\u52a1\u72b6\u6001\u5e76\u63d0\u4ea4\u6216\u8005\u56de\u6eda\u4e8b\u52a1\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725145418194",src:n(3622).Z,width:"854",height:"712"})),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\u6d41\u7a0b\u8fd8\u662f\u5f88\u7b80\u5355\u7684\uff0c\u96be\u70b9\u5728\u4e8e\u4e1a\u52a1\u4e0a\u7684\u5b9a\u4e49\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u64cd\u4f5c\u4f60\u90fd\u9700\u8981\u5b9a\u4e49\u4e09\u4e2a\u52a8\u4f5c\u5206\u522b\u5bf9\u5e94",(0,l.kt)("inlineCode",{parentName:"p"},"Try - Confirm - Cancel"),"\u3002"),(0,l.kt)("p",null,"\u56e0\u6b64 ",(0,l.kt)("strong",{parentName:"p"},"TCC \u5bf9\u4e1a\u52a1\u7684\u4fb5\u5165\u8f83\u5927\u548c\u4e1a\u52a1\u7d27\u8026\u5408"),"\uff0c\u9700\u8981\u6839\u636e\u7279\u5b9a\u7684\u573a\u666f\u548c\u4e1a\u52a1\u903b\u8f91\u6765\u8bbe\u8ba1\u76f8\u5e94\u7684\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,"\u8fd8\u6709\u4e00\u70b9\u8981\u6ce8\u610f\uff0c\u64a4\u9500\u548c\u786e\u8ba4\u64cd\u4f5c\u7684\u6267\u884c\u53ef\u80fd\u9700\u8981\u91cd\u8bd5\uff0c\u56e0\u6b64\u8fd8\u9700\u8981\u4fdd\u8bc1",(0,l.kt)("strong",{parentName:"p"},"\u64cd\u4f5c\u7684\u5e42\u7b49"),"\u3002"),(0,l.kt)("p",null,"\u76f8\u5bf9\u4e8e 2PC\u30013PC \uff0cTCC \u9002\u7528\u7684\u8303\u56f4\u66f4\u5927\uff0c\u4f46\u662f\u5f00\u53d1\u91cf\u4e5f\u66f4\u5927\uff0c\u6bd5\u7adf\u90fd\u5728\u4e1a\u52a1\u4e0a\u5b9e\u73b0\uff0c\u800c\u4e14\u6709\u65f6\u5019\u4f60\u4f1a\u53d1\u73b0\u8fd9\u4e09\u4e2a\u65b9\u6cd5\u8fd8\u771f\u4e0d\u597d\u5199\u3002\u4e0d\u8fc7\u4e5f\u56e0\u4e3a\u662f\u5728\u4e1a\u52a1\u4e0a\u5b9e\u73b0\u7684\uff0c\u6240\u4ee5",(0,l.kt)("strong",{parentName:"p"},"TCC\u53ef\u4ee5\u8de8\u6570\u636e\u5e93\u3001\u8de8\u4e0d\u540c\u7684\u4e1a\u52a1\u7cfb\u7edf\u6765\u5b9e\u73b0\u4e8b\u52a1"),"\u3002"),(0,l.kt)("h4",{id:"\u6700\u5927\u52aa\u529b\u901a\u77e5"},"\u6700\u5927\u52aa\u529b\u901a\u77e5"),(0,l.kt)("p",null,"\u5176\u5b9e\u6211\u89c9\u5f97\u672c\u5730\u6d88\u606f\u8868\u4e5f\u53ef\u4ee5\u7b97\u6700\u5927\u52aa\u529b\uff0c\u4e8b\u52a1\u6d88\u606f\u4e5f\u53ef\u4ee5\u7b97\u6700\u5927\u52aa\u529b\u3002"),(0,l.kt)("p",null,"\u5c31\u672c\u5730\u6d88\u606f\u8868\u6765\u8bf4\u4f1a\u6709\u540e\u53f0\u4efb\u52a1\u5b9a\u65f6\u53bb\u67e5\u770b\u672a\u5b8c\u6210\u7684\u6d88\u606f\uff0c\u7136\u540e\u53bb\u8c03\u7528\u5bf9\u5e94\u7684\u670d\u52a1\uff0c\u5f53\u4e00\u4e2a\u6d88\u606f\u591a\u6b21\u8c03\u7528\u90fd\u5931\u8d25\u7684\u65f6\u5019\u53ef\u4ee5\u8bb0\u5f55\u4e0b\u7136\u540e\u5f15\u5165\u4eba\u5de5\uff0c\u6216\u8005\u76f4\u63a5\u820d\u5f03\u3002\u8fd9\u5176\u5b9e\u7b97\u662f\u6700\u5927\u52aa\u529b\u4e86\u3002"),(0,l.kt)("p",null,"\u4e8b\u52a1\u6d88\u606f\u4e5f\u662f\u4e00\u6837\uff0c\u5f53\u534a\u6d88\u606f\u88abcommit\u4e86\u4e4b\u540e\u786e\u5b9e\u5c31\u662f\u666e\u901a\u6d88\u606f\u4e86\uff0c\u5982\u679c\u8ba2\u9605\u8005\u4e00\u76f4\u4e0d\u6d88\u8d39\u6216\u8005\u6d88\u8d39\u4e0d\u4e86\u5219\u4f1a\u4e00\u76f4\u91cd\u8bd5\uff0c\u5230\u6700\u540e\u8fdb\u5165\u6b7b\u4fe1\u961f\u5217\u3002\u5176\u5b9e\u8fd9\u4e5f\u7b97\u6700\u5927\u52aa\u529b\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5",(0,l.kt)("strong",{parentName:"p"},"\u6700\u5927\u52aa\u529b\u901a\u77e5\u5176\u5b9e\u53ea\u662f\u8868\u660e\u4e86\u4e00\u79cd\u67d4\u6027\u4e8b\u52a1\u7684\u601d\u60f3"),"\uff1a\u6211\u5df2\u7ecf\u5c3d\u529b\u6211\u6700\u5927\u7684\u52aa\u529b\u60f3\u8fbe\u6210\u4e8b\u52a1\u7684\u6700\u7ec8\u4e00\u81f4\u4e86\u3002"),(0,l.kt)("p",null,"\u9002\u7528\u4e8e\u5bf9\u65f6\u95f4\u4e0d\u654f\u611f\u7684\u4e1a\u52a1\uff0c\u4f8b\u5982\u77ed\u4fe1\u901a\u77e5\u3002"),(0,l.kt)("h4",{id:"\u6d88\u606f\u4e8b\u52a1"},"\u6d88\u606f\u4e8b\u52a1"),(0,l.kt)("p",null,"RocketMQ \u5c31\u5f88\u597d\u7684\u652f\u6301\u4e86\u6d88\u606f\u4e8b\u52a1\uff0c\u8ba9\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u5982\u4f55\u901a\u8fc7\u6d88\u606f\u5b9e\u73b0\u4e8b\u52a1\u3002"),(0,l.kt)("p",null,"\u7b2c\u4e00\u6b65\u5148\u7ed9 Broker \u53d1\u9001\u4e8b\u52a1\u6d88\u606f\u5373\u534a\u6d88\u606f\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u534a\u6d88\u606f\u4e0d\u662f\u8bf4\u4e00\u534a\u6d88\u606f\uff0c\u800c\u662f\u8fd9\u4e2a\u6d88\u606f\u5bf9\u6d88\u8d39\u8005\u6765\u8bf4\u4e0d\u53ef\u89c1"),"\uff0c\u7136\u540e",(0,l.kt)("strong",{parentName:"p"},"\u53d1\u9001\u6210\u529f\u540e\u53d1\u9001\u65b9\u518d\u6267\u884c\u672c\u5730\u4e8b\u52a1"),"\u3002"),(0,l.kt)("p",null,"\u518d\u6839\u636e",(0,l.kt)("strong",{parentName:"p"},"\u672c\u5730\u4e8b\u52a1\u7684\u7ed3\u679c\u5411 Broker \u53d1\u9001 Commit \u6216\u8005 RollBack \u547d\u4ee4"),"\u3002"),(0,l.kt)("p",null,"\u5e76\u4e14 RocketMQ \u7684\u53d1\u9001\u65b9\u4f1a\u63d0\u4f9b\u4e00\u4e2a",(0,l.kt)("strong",{parentName:"p"},"\u53cd\u67e5\u4e8b\u52a1\u72b6\u6001\u63a5\u53e3"),"\uff0c\u5982\u679c\u4e00\u6bb5\u65f6\u95f4\u5185\u534a\u6d88\u606f\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u64cd\u4f5c\u8bf7\u6c42\uff0c\u90a3\u4e48 Broker \u4f1a\u901a\u8fc7\u53cd\u67e5\u63a5\u53e3\u5f97\u77e5\u53d1\u9001\u65b9\u4e8b\u52a1\u662f\u5426\u6267\u884c\u6210\u529f\uff0c\u7136\u540e\u6267\u884c Commit \u6216\u8005 RollBack \u547d\u4ee4\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u662f Commit \u90a3\u4e48\u8ba2\u9605\u65b9\u5c31\u80fd\u6536\u5230\u8fd9\u6761\u6d88\u606f\uff0c\u7136\u540e\u518d\u505a\u5bf9\u5e94\u7684\u64cd\u4f5c\uff0c\u505a\u5b8c\u4e86\u4e4b\u540e\u518d\u6d88\u8d39\u8fd9\u6761\u6d88\u606f\u5373\u53ef\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u662f RollBack \u90a3\u4e48\u8ba2\u9605\u65b9\u6536\u4e0d\u5230\u8fd9\u6761\u6d88\u606f\uff0c\u7b49\u4e8e\u4e8b\u52a1\u5c31\u6ca1\u6267\u884c\u8fc7\u3002"),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\u901a\u8fc7 RocketMQ \u8fd8\u662f\u6bd4\u8f83\u5bb9\u6613\u5b9e\u73b0\u7684\uff0cRocketMQ \u63d0\u4f9b\u4e86\u4e8b\u52a1\u6d88\u606f\u7684\u529f\u80fd\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5b9a\u4e49\u597d\u4e8b\u52a1\u53cd\u67e5\u63a5\u53e3\u5373\u53ef\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725145800448",src:n(66505).Z,width:"817",height:"397"})),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\u6d88\u606f\u4e8b\u52a1\u5b9e\u73b0\u7684\u4e5f\u662f\u6700\u7ec8\u4e00\u81f4\u6027\u3002"),(0,l.kt)("h4",{id:"\u672c\u5730\u6d88\u606f\u8868"},"\u672c\u5730\u6d88\u606f\u8868"),(0,l.kt)("p",null,"\u672c\u5730\u6d88\u606f\u8868\u5176\u5b9e\u5c31\u662f\u5229\u7528\u4e86 ",(0,l.kt)("strong",{parentName:"p"},"\u5404\u7cfb\u7edf\u672c\u5730\u7684\u4e8b\u52a1"),"\u6765\u5b9e\u73b0\u5206\u5e03\u5f0f\u4e8b\u52a1\u3002"),(0,l.kt)("p",null,"\u672c\u5730\u6d88\u606f\u8868\u987e\u540d\u601d\u4e49\u5c31\u662f\u4f1a\u6709\u4e00\u5f20\u5b58\u653e\u672c\u5730\u6d88\u606f\u7684\u8868\uff0c\u4e00\u822c\u90fd\u662f\u653e\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u7136\u540e\u5728\u6267\u884c\u4e1a\u52a1\u7684\u65f6\u5019 ",(0,l.kt)("strong",{parentName:"p"},"\u5c06\u4e1a\u52a1\u7684\u6267\u884c\u548c\u5c06\u6d88\u606f\u653e\u5165\u6d88\u606f\u8868\u4e2d\u7684\u64cd\u4f5c\u653e\u5728\u540c\u4e00\u4e2a\u4e8b\u52a1\u4e2d"),"\uff0c\u8fd9\u6837\u5c31\u80fd\u4fdd\u8bc1\u6d88\u606f\u653e\u5165\u672c\u5730\u8868\u4e2d\u4e1a\u52a1\u80af\u5b9a\u662f\u6267\u884c\u6210\u529f\u7684\u3002"),(0,l.kt)("p",null,"\u7136\u540e\u518d\u53bb\u8c03\u7528\u4e0b\u4e00\u4e2a\u64cd\u4f5c\uff0c\u5982\u679c\u4e0b\u4e00\u4e2a\u64cd\u4f5c\u8c03\u7528\u6210\u529f\u4e86\u597d\u8bf4\uff0c\u6d88\u606f\u8868\u7684\u6d88\u606f\u72b6\u6001\u53ef\u4ee5\u76f4\u63a5\u6539\u6210\u5df2\u6210\u529f\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u8c03\u7528\u5931\u8d25\u4e5f\u6ca1\u4e8b\uff0c\u4f1a\u6709 ",(0,l.kt)("strong",{parentName:"p"},"\u540e\u53f0\u4efb\u52a1\u5b9a\u65f6\u53bb\u8bfb\u53d6\u672c\u5730\u6d88\u606f\u8868"),"\uff0c\u7b5b\u9009\u51fa\u8fd8\u672a\u6210\u529f\u7684\u6d88\u606f\u518d\u8c03\u7528\u5bf9\u5e94\u7684\u670d\u52a1\uff0c\u670d\u52a1\u66f4\u65b0\u6210\u529f\u4e86\u518d\u53d8\u66f4\u6d88\u606f\u7684\u72b6\u6001\u3002"),(0,l.kt)("p",null,"\u8fd9\u65f6\u5019\u6709\u53ef\u80fd\u6d88\u606f\u5bf9\u5e94\u7684\u64cd\u4f5c\u4e0d\u6210\u529f\uff0c\u56e0\u6b64\u4e5f\u9700\u8981\u91cd\u8bd5\uff0c\u91cd\u8bd5\u5c31\u5f97\u4fdd\u8bc1\u5bf9\u5e94\u670d\u52a1\u7684\u65b9\u6cd5\u662f\u5e42\u7b49\u7684\uff0c\u800c\u4e14\u4e00\u822c\u91cd\u8bd5\u4f1a\u6709\u6700\u5927\u6b21\u6570\uff0c\u8d85\u8fc7\u6700\u5927\u6b21\u6570\u53ef\u4ee5\u8bb0\u5f55\u4e0b\u62a5\u8b66\u8ba9\u4eba\u5de5\u5904\u7406\u3002"),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\u672c\u5730\u6d88\u606f\u8868\u5176\u5b9e\u5b9e\u73b0\u7684\u662f",(0,l.kt)("strong",{parentName:"p"},"\u6700\u7ec8\u4e00\u81f4\u6027"),"\uff0c\u5bb9\u5fcd\u4e86\u6570\u636e\u6682\u65f6\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\u3002"),(0,l.kt)("h4",{id:"\u6700\u7ec8\u4e00\u81f4\u6027"},"\u6700\u7ec8\u4e00\u81f4\u6027"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617144020576",src:n(31700).Z,width:"1080",height:"532"})),(0,l.kt)("p",null,"\u6574\u4e2a\u6d41\u7a0b\u4e2d\uff0c\u6211\u4eec\u80fd\u4fdd\u8bc1\u662f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e1a\u52a1\u4e3b\u52a8\u65b9\u672c\u5730\u4e8b\u52a1\u63d0\u4ea4\u5931\u8d25\uff0c\u4e1a\u52a1\u88ab\u52a8\u65b9\u4e0d\u4f1a\u6536\u5230\u6d88\u606f\u7684\u6295\u9012\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u53ea\u8981\u4e1a\u52a1\u4e3b\u52a8\u65b9\u672c\u5730\u4e8b\u52a1\u6267\u884c\u6210\u529f\uff0c\u90a3\u4e48\u6d88\u606f\u670d\u52a1\u4e00\u5b9a\u4f1a\u6295\u9012\u6d88\u606f\u7ed9\u4e0b\u6e38\u7684\u4e1a\u52a1\u88ab\u52a8\u65b9\uff0c\u5e76\u6700\u7ec8\u4fdd\u8bc1\u4e1a\u52a1\u88ab\u52a8\u65b9\u4e00\u5b9a\u80fd\u6210\u529f\u6d88\u8d39\u8be5\u6d88\u606f\uff08\u6d88\u8d39\u6210\u529f\u6216\u5931\u8d25\uff0c\u5373\u6700\u7ec8\u4e00\u5b9a\u4f1a\u6709\u4e00\u4e2a\u6700\u7ec8\u6001\uff09\u3002")),(0,l.kt)("p",null,"\u4e0d\u8fc7\u5462\u6280\u672f\u5c31\u662f\u8fd9\u6837\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5404\u79cd\u6781\u7aef\u7684\u60c5\u51b5\u6211\u4eec\u90fd\u9700\u8981\u8003\u8651"),"\uff0c\u4e5f\u5f88\u96be\u6709\u5b8c\u7f8e\u7684\u65b9\u6848\uff0c\u6240\u4ee5\u624d\u4f1a\u6709\u8fd9\u4e48\u591a\u7684\u65b9\u6848",(0,l.kt)("strong",{parentName:"p"},"\u4e09\u6bb5\u5f0f"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"TCC"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u6700\u5927\u52aa\u529b\u901a\u77e5"),"\u7b49\u7b49\u5206\u5e03\u5f0f\u4e8b\u52a1\u65b9\u6848\uff0c\u5927\u5bb6\u53ea\u9700\u8981\u77e5\u9053\u4e3a\u5565\u8981\u505a\uff0c\u505a\u4e86\u6709\u5565\u597d\u5904\uff0c\u6709\u5565\u574f\u5904\uff0c\u5728\u5b9e\u9645\u5f00\u53d1\u7684\u65f6\u5019\u90fd\u6ce8\u610f\u4e0b\u5c31\u597d\u597d\u4e86\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u7cfb\u7edf\u90fd\u662f\u6839\u636e\u4e1a\u52a1\u573a\u666f\u8bbe\u8ba1\u51fa\u6765\u7684\uff0c\u79bb\u5f00\u4e1a\u52a1\u7684\u6280\u672f\u6ca1\u6709\u610f\u4e49\uff0c\u79bb\u5f00\u6280\u672f\u7684\u4e1a\u52a1\u6ca1\u6709\u5e95\u6c14"),"\u3002"),(0,l.kt)("p",null,"\u8fd8\u662f\u90a3\u53e5\u8bdd\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u6ca1\u6709\u6700\u5b8c\u7f8e\u7684\u7cfb\u7edf\uff0c\u53ea\u6709\u6700\u9002\u5408\u7684\u7cfb\u7edf\u3002")),(0,l.kt)("h3",{id:"\u5e38\u89c1\u4fdd\u8bc1\u5e42\u7b49\u7684\u65b9\u5f0f"},"\u5e38\u89c1\u4fdd\u8bc1\u5e42\u7b49\u7684\u65b9\u5f0f"),(0,l.kt)("h4",{id:"\u4ec0\u4e48\u662f\u5e42\u7b49\u6027"},"\u4ec0\u4e48\u662f\u5e42\u7b49\u6027"),(0,l.kt)("p",null,"\u5e42\u7b49\u662f\u4e00\u4e2a\u6570\u5b66\u4e0e\u8ba1\u7b97\u673a\u5b66\u6982\u5ff5\uff0c\u5728\u6570\u5b66\u4e2d\u67d0\u4e00\u5143\u8fd0\u7b97\u4e3a\u5e42\u7b49\u65f6\uff0c\u5176\u4f5c\u7528\u5728\u4efb\u4e00\u5143\u7d20\u4e24\u6b21\u540e\u4f1a\u548c\u5176\u4f5c\u7528\u4e00\u6b21\u7684\u7ed3\u679c\u76f8\u540c\u3002"),(0,l.kt)("p",null,"\u5728\u8ba1\u7b97\u673a\u4e2d\u7f16\u7a0b\u4e2d\uff0c\u4e00\u4e2a\u5e42\u7b49\u64cd\u4f5c\u7684\u7279\u70b9\u662f\u5176\u4efb\u610f\u591a\u6b21\u6267\u884c\u6240\u4ea7\u751f\u7684\u5f71\u54cd\u5747\u4e0e\u4e00\u6b21\u6267\u884c\u7684\u5f71\u54cd\u76f8\u540c\u3002\u5e42\u7b49\u51fd\u6570\u6216\u5e42\u7b49\u65b9\u6cd5\u662f\u6307\u53ef\u4ee5\u4f7f\u7528\u76f8\u540c\u53c2\u6570\u91cd\u590d\u6267\u884c\uff0c\u5e76\u80fd\u83b7\u5f97\u76f8\u540c\u7ed3\u679c\u7684\u51fd\u6570\u3002\u8fd9\u4e9b\u51fd\u6570\u4e0d\u4f1a\u5f71\u54cd\u7cfb\u7edf\u72b6\u6001\uff0c\u4e5f\u4e0d\u7528\u62c5\u5fc3\u91cd\u590d\u6267\u884c\u4f1a\u5bf9\u7cfb\u7edf\u9020\u6210\u6539\u53d8\u3002"),(0,l.kt)("h4",{id:"\u4ec0\u4e48\u662f\u63a5\u53e3\u5e42\u7b49\u6027"},"\u4ec0\u4e48\u662f\u63a5\u53e3\u5e42\u7b49\u6027"),(0,l.kt)("p",null,"\u5728HTTP/1.1\u4e2d\uff0c\u5bf9\u5e42\u7b49\u6027\u8fdb\u884c\u4e86\u5b9a\u4e49\u3002\u5b83\u63cf\u8ff0\u4e86\u4e00\u6b21\u548c\u591a\u6b21\u8bf7\u6c42\u67d0\u4e00\u4e2a\u8d44\u6e90\u5bf9\u4e8e\u8d44\u6e90\u672c\u8eab\u5e94\u8be5\u5177\u6709\u540c\u6837\u7684\u7ed3\u679c\uff08\u7f51\u7edc\u8d85\u65f6\u7b49\u95ee\u9898\u9664\u5916\uff09\uff0c\u5373\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\u5bf9\u8d44\u6e90\u4ea7\u751f\u4e86\u526f\u4f5c\u7528\uff0c\u4f46\u662f\u4ee5\u540e\u7684\u591a\u6b21\u8bf7\u6c42\u90fd\u4e0d\u4f1a\u518d\u5bf9\u8d44\u6e90\u4ea7\u751f\u526f\u4f5c\u7528\u3002"),(0,l.kt)("p",null,"\u8fd9\u91cc\u7684\u526f\u4f5c\u7528\u662f\u4e0d\u4f1a\u5bf9\u7ed3\u679c\u4ea7\u751f\u7834\u574f\u6216\u8005\u4ea7\u751f\u4e0d\u53ef\u9884\u6599\u7684\u7ed3\u679c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5176\u4efb\u610f\u591a\u6b21\u6267\u884c\u5bf9\u8d44\u6e90\u672c\u8eab\u6240\u4ea7\u751f\u7684\u5f71\u54cd\u5747\u4e0e\u4e00\u6b21\u6267\u884c\u7684\u5f71\u54cd\u76f8\u540c\u3002"),(0,l.kt)("h4",{id:"\u4e3a\u4ec0\u4e48\u9700\u8981\u5b9e\u73b0\u5e42\u7b49\u6027"},"\u4e3a\u4ec0\u4e48\u9700\u8981\u5b9e\u73b0\u5e42\u7b49\u6027"),(0,l.kt)("p",null,"\u5728\u63a5\u53e3\u8c03\u7528\u65f6\u4e00\u822c\u60c5\u51b5\u4e0b\u90fd\u80fd\u6b63\u5e38\u8fd4\u56de\u4fe1\u606f\u4e0d\u4f1a\u91cd\u590d\u63d0\u4ea4\uff0c\u4e0d\u8fc7\u5728\u9047\u89c1\u4ee5\u4e0b\u60c5\u51b5\u65f6\u53ef\u4ee5\u5c31\u4f1a\u51fa\u73b0\u95ee\u9898\uff0c\u5982\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u524d\u7aef\u91cd\u590d\u63d0\u4ea4\u8868\u5355\uff1a")," \u5728\u586b\u5199\u4e00\u4e9b\u8868\u683c\u65f6\u5019\uff0c\u7528\u6237\u586b\u5199\u5b8c\u6210\u63d0\u4ea4\uff0c\u5f88\u591a\u65f6\u5019\u4f1a\u56e0\u7f51\u7edc\u6ce2\u52a8\u6ca1\u6709\u53ca\u65f6\u5bf9\u7528\u6237\u505a\u51fa\u63d0\u4ea4\u6210\u529f\u54cd\u5e94\uff0c\u81f4\u4f7f\u7528\u6237\u8ba4\u4e3a\u6ca1\u6709\u6210\u529f\u63d0\u4ea4\uff0c\u7136\u540e\u4e00\u76f4\u70b9\u63d0\u4ea4\u6309\u94ae\uff0c\u8fd9\u65f6\u5c31\u4f1a\u53d1\u751f\u91cd\u590d\u63d0\u4ea4\u8868\u5355\u8bf7\u6c42\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7528\u6237\u6076\u610f\u8fdb\u884c\u5237\u5355\uff1a")," \u4f8b\u5982\u5728\u5b9e\u73b0\u7528\u6237\u6295\u7968\u8fd9\u79cd\u529f\u80fd\u65f6\uff0c\u5982\u679c\u7528\u6237\u9488\u5bf9\u4e00\u4e2a\u7528\u6237\u8fdb\u884c\u91cd\u590d\u63d0\u4ea4\u6295\u7968\uff0c\u8fd9\u6837\u4f1a\u5bfc\u81f4\u63a5\u53e3\u63a5\u6536\u5230\u7528\u6237\u91cd\u590d\u63d0\u4ea4\u7684\u6295\u7968\u4fe1\u606f\uff0c\u8fd9\u6837\u4f1a\u4f7f\u6295\u7968\u7ed3\u679c\u4e0e\u4e8b\u5b9e\u4e25\u91cd\u4e0d\u7b26\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u63a5\u53e3\u8d85\u65f6\u91cd\u590d\u63d0\u4ea4\uff1a")," \u5f88\u591a\u65f6\u5019 HTTP \u5ba2\u6237\u7aef\u5de5\u5177\u90fd\u9ed8\u8ba4\u5f00\u542f\u8d85\u65f6\u91cd\u8bd5\u7684\u673a\u5236\uff0c\u5c24\u5176\u662f\u7b2c\u4e09\u65b9\u8c03\u7528\u63a5\u53e3\u65f6\u5019\uff0c\u4e3a\u4e86\u9632\u6b62\u7f51\u7edc\u6ce2\u52a8\u8d85\u65f6\u7b49\u9020\u6210\u7684\u8bf7\u6c42\u5931\u8d25\uff0c\u90fd\u4f1a\u6dfb\u52a0\u91cd\u8bd5\u673a\u5236\uff0c\u5bfc\u81f4\u4e00\u4e2a\u8bf7\u6c42\u63d0\u4ea4\u591a\u6b21\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u6d88\u606f\u8fdb\u884c\u91cd\u590d\u6d88\u8d39\uff1a")," \u5f53\u4f7f\u7528 MQ \u6d88\u606f\u4e2d\u95f4\u4ef6\u65f6\u5019\uff0c\u5982\u679c\u53d1\u751f\u6d88\u606f\u4e2d\u95f4\u4ef6\u51fa\u73b0\u9519\u8bef\u672a\u53ca\u65f6\u63d0\u4ea4\u6d88\u8d39\u4fe1\u606f\uff0c\u5bfc\u81f4\u53d1\u751f\u91cd\u590d\u6d88\u8d39\u3002")),(0,l.kt)("p",null,"\u4f7f\u7528\u5e42\u7b49\u6027\u6700\u5927\u7684\u4f18\u52bf\u5728\u4e8e\u4f7f\u63a5\u53e3\u4fdd\u8bc1\u4efb\u4f55\u5e42\u7b49\u6027\u64cd\u4f5c\uff0c\u514d\u53bb\u56e0\u91cd\u8bd5\u7b49\u9020\u6210\u7cfb\u7edf\u4ea7\u751f\u7684\u672a\u77e5\u7684\u95ee\u9898\u3002"),(0,l.kt)("h4",{id:"\u5f15\u5165\u5e42\u7b49\u6027\u540e\u5bf9\u7cfb\u7edf\u7684\u5f71\u54cd"},"\u5f15\u5165\u5e42\u7b49\u6027\u540e\u5bf9\u7cfb\u7edf\u7684\u5f71\u54cd"),(0,l.kt)("p",null,"\u5e42\u7b49\u6027\u662f\u4e3a\u4e86\u7b80\u5316\u5ba2\u6237\u7aef\u903b\u8f91\u5904\u7406\uff0c\u80fd\u653e\u7f6e\u91cd\u590d\u63d0\u4ea4\u7b49\u64cd\u4f5c\uff0c\u4f46\u5374\u589e\u52a0\u4e86\u670d\u52a1\u7aef\u7684\u903b\u8f91\u590d\u6742\u6027\u548c\u6210\u672c\uff0c\u5176\u4e3b\u8981\u662f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u628a\u5e76\u884c\u6267\u884c\u7684\u529f\u80fd\u6539\u4e3a\u4e32\u884c\u6267\u884c\uff0c\u964d\u4f4e\u4e86\u6267\u884c\u6548\u7387\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u589e\u52a0\u4e86\u989d\u5916\u63a7\u5236\u5e42\u7b49\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u590d\u6742\u5316\u4e86\u4e1a\u52a1\u529f\u80fd\uff1b")),(0,l.kt)("p",null,"\u6240\u4ee5\u5728\u4f7f\u7528\u65f6\u5019\u9700\u8981\u8003\u8651\u662f\u5426\u5f15\u5165\u5e42\u7b49\u6027\u7684\u5fc5\u8981\u6027\uff0c\u6839\u636e\u5b9e\u9645\u4e1a\u52a1\u573a\u666f\u5177\u4f53\u5206\u6790\uff0c\u9664\u4e86\u4e1a\u52a1\u4e0a\u7684\u7279\u6b8a\u8981\u6c42\u5916\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u5f15\u5165\u7684\u63a5\u53e3\u5e42\u7b49\u6027\u3002"),(0,l.kt)("h4",{id:"restful-api-\u63a5\u53e3\u7684\u5e42\u7b49\u6027"},"Restful API \u63a5\u53e3\u7684\u5e42\u7b49\u6027"),(0,l.kt)("p",null,"\u73b0\u5728\u6d41\u884c\u7684 Restful \u63a8\u8350\u7684\u51e0\u79cd HTTP \u63a5\u53e3\u65b9\u6cd5\u4e2d\uff0c\u5206\u522b\u5b58\u5728\u5e42\u7b49\u884c\u4e0e\u4e0d\u80fd\u4fdd\u8bc1\u5e42\u7b49\u7684\u65b9\u6cd5\uff0c\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u221a \u6ee1\u8db3\u5e42\u7b49")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"x \u4e0d\u6ee1\u8db3\u5e42\u7b49")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"-"," \u53ef\u80fd\u6ee1\u8db3\u4e5f\u53ef\u80fd\u4e0d\u6ee1\u8db3\u5e42\u7b49\uff0c\u6839\u636e\u5b9e\u9645\u4e1a\u52a1\u903b\u8f91\u6709\u5173"))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"\u65b9\u6cd5\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:"center"},"\u662f\u5426\u5e42\u7b49"),(0,l.kt)("th",{parentName:"tr",align:"center"},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"Get"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u221a"),(0,l.kt)("td",{parentName:"tr",align:"center"},"Get \u65b9\u6cd5\u7528\u4e8e\u83b7\u53d6\u8d44\u6e90\u3002\u5176\u4e00\u822c\u4e0d\u4f1a\u4e5f\u4e0d\u5e94\u5f53\u5bf9\u7cfb\u7edf\u8d44\u6e90\u8fdb\u884c\u6539\u53d8\uff0c\u6240\u4ee5\u662f\u5e42\u7b49\u7684\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"Post"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\xd7"),(0,l.kt)("td",{parentName:"tr",align:"center"},"Post \u65b9\u6cd5\u4e00\u822c\u7528\u4e8e\u521b\u5efa\u65b0\u7684\u8d44\u6e90\u3002\u5176\u6bcf\u6b21\u6267\u884c\u90fd\u4f1a\u65b0\u589e\u6570\u636e\uff0c\u6240\u4ee5\u4e0d\u662f\u5e42\u7b49\u7684\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"Put"),(0,l.kt)("td",{parentName:"tr",align:"center"},"-"),(0,l.kt)("td",{parentName:"tr",align:"center"},"Put \u65b9\u6cd5\u4e00\u822c\u7528\u4e8e\u4fee\u6539\u8d44\u6e90\u3002\u8be5\u64cd\u4f5c\u5219\u5206\u60c5\u51b5\u6765\u5224\u65ad\u662f\u4e0d\u662f\u6ee1\u8db3\u5e42\u7b49\uff0c\u66f4\u65b0\u64cd\u4f5c\u4e2d\u76f4\u63a5\u6839\u636e\u67d0\u4e2a\u503c\u8fdb\u884c\u66f4\u65b0\uff0c\u4e5f\u80fd\u4fdd\u6301\u5e42\u7b49\u3002\u4e0d\u8fc7\u6267\u884c\u7d2f\u52a0\u64cd\u4f5c\u7684\u66f4\u65b0\u662f\u975e\u5e42\u7b49\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"Delete"),(0,l.kt)("td",{parentName:"tr",align:"center"},"-"),(0,l.kt)("td",{parentName:"tr",align:"center"},"Delete  \u65b9\u6cd5\u4e00\u822c\u7528\u4e8e\u5220\u9664\u8d44\u6e90\u3002\u8be5\u64cd\u4f5c\u5219\u5206\u60c5\u51b5\u6765\u5224\u65ad\u662f\u4e0d\u662f\u6ee1\u8db3\u5e42\u7b49\uff0c\u5f53\u6839\u636e\u552f\u4e00\u503c\u8fdb\u884c\u5220\u9664\u65f6\uff0c\u5220\u9664\u540c\u4e00\u4e2a\u6570\u636e\u591a\u6b21\u6267\u884c\u6548\u679c\u4e00\u6837\u3002\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\uff0c\u5e26\u67e5\u8be2\u6761\u4ef6\u7684\u5220\u9664\u5219\u5c31\u4e0d\u4e00\u5b9a\u6ee1\u8db3\u5e42\u7b49\u4e86\u3002\u4f8b\u5982\u5728\u6839\u636e\u6761\u4ef6\u5220\u9664\u4e00\u6279\u6570\u636e\u540e\uff0c\u8fd9\u65f6\u5019\u65b0\u589e\u52a0\u4e86\u4e00\u6761\u6570\u636e\u4e5f\u6ee1\u8db3\u6761\u4ef6\uff0c\u7136\u540e\u53c8\u6267\u884c\u4e86\u4e00\u6b21\u5220\u9664\uff0c\u90a3\u4e48\u5c06\u4f1a\u5bfc\u81f4\u65b0\u589e\u52a0\u7684\u8fd9\u6761\u6ee1\u8db3\u6761\u4ef6\u6570\u636e\u4e5f\u88ab\u5220\u9664\u3002")))),(0,l.kt)("h4",{id:"\u5982\u4f55\u5b9e\u73b0\u5e42\u7b49\u6027"},"\u5982\u4f55\u5b9e\u73b0\u5e42\u7b49\u6027"),(0,l.kt)("h5",{id:"\u65b9\u6848\u4e00\u6570\u636e\u5e93\u552f\u4e00\u4e3b\u952e"},"\u65b9\u6848\u4e00\uff1a\u6570\u636e\u5e93\u552f\u4e00\u4e3b\u952e"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u65b9\u6848\u63cf\u8ff0")),(0,l.kt)("p",null,"\u6570\u636e\u5e93\u552f\u4e00\u4e3b\u952e\u7684\u5b9e\u73b0\u4e3b\u8981\u662f\u5229\u7528\u6570\u636e\u5e93\u4e2d\u4e3b\u952e\u552f\u4e00\u7ea6\u675f\u7684\u7279\u6027\uff0c\u4e00\u822c\u6765\u8bf4\u552f\u4e00\u4e3b\u952e\u6bd4\u8f83\u9002\u7528\u4e8e\u201c\u63d2\u5165\u201d\u65f6\u7684\u5e42\u7b49\u6027\uff0c\u5176\u80fd\u4fdd\u8bc1\u4e00\u5f20\u8868\u4e2d\u53ea\u80fd\u5b58\u5728\u4e00\u6761\u5e26\u8be5\u552f\u4e00\u4e3b\u952e\u7684\u8bb0\u5f55\u3002"),(0,l.kt)("p",null,"\u4f7f\u7528\u6570\u636e\u5e93\u552f\u4e00\u4e3b\u952e\u5b8c\u6210\u5e42\u7b49\u6027\u65f6\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8be5\u4e3b\u952e\u4e00\u822c\u6765\u8bf4\u5e76\u4e0d\u662f\u4f7f\u7528\u6570\u636e\u5e93\u4e2d\u81ea\u589e\u4e3b\u952e\uff0c\u800c\u662f\u4f7f\u7528\u5206\u5e03\u5f0f ID \u5145\u5f53\u4e3b\u952e\uff08\u53ef\u4ee5\u53c2\u8003 Java \u4e2d\u5206\u5e03\u5f0f ID \u7684\u8bbe\u8ba1\u65b9\u6848 \u8fd9\u7bc7\u6587\u7ae0\uff09\uff0c\u8fd9\u6837\u624d\u80fd\u80fd\u4fdd\u8bc1\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e0b ID \u7684\u5168\u5c40\u552f\u4e00\u6027\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u9002\u7528\u64cd\u4f5c\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u63d2\u5165\u64cd\u4f5c"),(0,l.kt)("li",{parentName:"ul"},"\u5220\u9664\u64cd\u4f5c")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4f7f\u7528\u9650\u5236\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9700\u8981\u751f\u6210\u5168\u5c40\u552f\u4e00\u4e3b\u952e ID\uff1b")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u8981\u6d41\u7a0b\uff1a")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725150136872",src:n(81679).Z,width:"970",height:"458"})),(0,l.kt)("p",null,"\u4e3b\u8981\u6d41\u7a0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u2460 \u5ba2\u6237\u7aef\u6267\u884c\u521b\u5efa\u8bf7\u6c42\uff0c\u8c03\u7528\u670d\u52a1\u7aef\u63a5\u53e3\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u2461 \u670d\u52a1\u7aef\u6267\u884c\u4e1a\u52a1\u903b\u8f91\uff0c\u751f\u6210\u4e00\u4e2a\u5206\u5e03\u5f0f ID\uff0c\u5c06\u8be5 ID \u5145\u5f53\u5f85\u63d2\u5165\u6570\u636e\u7684\u4e3b\u952e\uff0c\u7136\u540e\u6267\u6570\u636e\u63d2\u5165\u64cd\u4f5c\uff0c\u8fd0\u884c\u5bf9\u5e94\u7684 SQL \u8bed\u53e5\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u2462 \u670d\u52a1\u7aef\u5c06\u8be5\u6761\u6570\u636e\u63d2\u5165\u6570\u636e\u5e93\u4e2d\uff0c\u5982\u679c\u63d2\u5165\u6210\u529f\u5219\u8868\u793a\u6ca1\u6709\u91cd\u590d\u8c03\u7528\u63a5\u53e3\u3002\u5982\u679c\u629b\u51fa\u4e3b\u952e\u91cd\u590d\u5f02\u5e38\uff0c\u5219\u8868\u793a\u6570\u636e\u5e93\u4e2d\u5df2\u7ecf\u5b58\u5728\u8be5\u6761\u8bb0\u5f55\uff0c\u8fd4\u56de\u9519\u8bef\u4fe1\u606f\u5230\u5ba2\u6237\u7aef\u3002")),(0,l.kt)("h5",{id:"\u65b9\u6848\u4e8c\u6570\u636e\u5e93\u4e50\u89c2\u9501"},"\u65b9\u6848\u4e8c\uff1a\u6570\u636e\u5e93\u4e50\u89c2\u9501"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u65b9\u6848\u63cf\u8ff0\uff1a")),(0,l.kt)("p",null,"\u6570\u636e\u5e93\u4e50\u89c2\u9501\u65b9\u6848\u4e00\u822c\u53ea\u80fd\u9002\u7528\u4e8e\u6267\u884c\u201c\u66f4\u65b0\u64cd\u4f5c\u201d\u7684\u8fc7\u7a0b\uff0c\u6211\u4eec\u53ef\u4ee5\u63d0\u524d\u5728\u5bf9\u5e94\u7684\u6570\u636e\u8868\u4e2d\u591a\u6dfb\u52a0\u4e00\u4e2a\u5b57\u6bb5\uff0c\u5145\u5f53\u5f53\u524d\u6570\u636e\u7684\u7248\u672c\u6807\u8bc6\u3002\u8fd9\u6837\u6bcf\u6b21\u5bf9\u8be5\u6570\u636e\u5e93\u8be5\u8868\u7684\u8fd9\u6761\u6570\u636e\u6267\u884c\u66f4\u65b0\u65f6\uff0c\u90fd\u4f1a\u5c06\u8be5\u7248\u672c\u6807\u8bc6\u4f5c\u4e3a\u4e00\u4e2a\u6761\u4ef6\uff0c\u503c\u4e3a\u4e0a\u6b21\u5f85\u66f4\u65b0\u6570\u636e\u4e2d\u7684\u7248\u672c\u6807\u8bc6\u7684\u503c\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u9002\u7528\u64cd\u4f5c\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u66f4\u65b0\u64cd\u4f5c")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4f7f\u7528\u9650\u5236\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9700\u8981\u6570\u636e\u5e93\u5bf9\u5e94\u4e1a\u52a1\u8868\u4e2d\u6dfb\u52a0\u989d\u5916\u5b57\u6bb5\uff1b")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u63cf\u8ff0\u793a\u4f8b\uff1a")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725150153331",src:n(43662).Z,width:"970",height:"337"})),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c\u5b58\u5728\u5982\u4e0b\u7684\u6570\u636e\u8868\u4e2d\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"id"),(0,l.kt)("th",{parentName:"tr",align:"left"},"name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"price"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"1"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u5c0f\u7c73\u624b\u673a"),(0,l.kt)("td",{parentName:"tr",align:"left"},"1000")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"2"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u82f9\u679c\u624b\u673a"),(0,l.kt)("td",{parentName:"tr",align:"left"},"2500")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"3"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u534e\u4e3a\u624b\u673a"),(0,l.kt)("td",{parentName:"tr",align:"left"},"1600")))),(0,l.kt)("p",null,"\u4e3a\u4e86\u6bcf\u6b21\u6267\u884c\u66f4\u65b0\u65f6\u9632\u6b62\u91cd\u590d\u66f4\u65b0\uff0c\u786e\u5b9a\u66f4\u65b0\u7684\u4e00\u5b9a\u662f\u8981\u66f4\u65b0\u7684\u5185\u5bb9\uff0c\u6211\u4eec\u901a\u5e38\u90fd\u4f1a\u6dfb\u52a0\u4e00\u4e2a version \u5b57\u6bb5\u8bb0\u5f55\u5f53\u524d\u7684\u8bb0\u5f55\u7248\u672c\uff0c\u8fd9\u6837\u5728\u66f4\u65b0\u65f6\u5019\u5c06\u8be5\u503c\u5e26\u4e0a\uff0c\u90a3\u4e48\u53ea\u8981\u6267\u884c\u66f4\u65b0\u64cd\u4f5c\u5c31\u80fd\u786e\u5b9a\u4e00\u5b9a\u66f4\u65b0\u7684\u662f\u67d0\u4e2a\u5bf9\u5e94\u7248\u672c\u4e0b\u7684\u4fe1\u606f\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"id"),(0,l.kt)("th",{parentName:"tr",align:"left"},"name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"price"),(0,l.kt)("th",{parentName:"tr",align:"left"},"version"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"1"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u5c0f\u7c73\u624b\u673a"),(0,l.kt)("td",{parentName:"tr",align:"left"},"1000"),(0,l.kt)("td",{parentName:"tr",align:"left"},"10")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"2"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u82f9\u679c\u624b\u673a"),(0,l.kt)("td",{parentName:"tr",align:"left"},"2500"),(0,l.kt)("td",{parentName:"tr",align:"left"},"21")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"3"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u534e\u4e3a\u624b\u673a"),(0,l.kt)("td",{parentName:"tr",align:"left"},"1600"),(0,l.kt)("td",{parentName:"tr",align:"left"},"5")))),(0,l.kt)("p",null,"\u8fd9\u6837\u6bcf\u6b21\u6267\u884c\u66f4\u65b0\u65f6\u5019\uff0c\u90fd\u8981\u6307\u5b9a\u8981\u66f4\u65b0\u7684\u7248\u672c\u53f7\uff0c\u5982\u4e0b\u64cd\u4f5c\u5c31\u80fd\u51c6\u786e\u66f4\u65b0 version=5 \u7684\u4fe1\u606f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"UPDATE my_table SET price=price+50,version=version+1 WHERE id=1 AND version=5\n")),(0,l.kt)("p",null,"\u4e0a\u9762 WHERE \u540e\u9762\u8ddf\u7740\u6761\u4ef6 id=1 AND version=5 \u88ab\u6267\u884c\u540e\uff0cid=1 \u7684 version \u88ab\u66f4\u65b0\u4e3a 6\uff0c\u6240\u4ee5\u5982\u679c\u91cd\u590d\u6267\u884c\u8be5\u6761  SQL \u8bed\u53e5\u5c06\u4e0d\u751f\u6548\uff0c\u56e0\u4e3a id=1 AND version=5 \u7684\u6570\u636e\u5df2\u7ecf\u4e0d\u5b58\u5728\uff0c\u8fd9\u6837\u5c31\u80fd\u4fdd\u4f4f\u66f4\u65b0\u7684\u5e42\u7b49\uff0c\u591a\u6b21\u66f4\u65b0\u5bf9\u7ed3\u679c\u4e0d\u4f1a\u4ea7\u751f\u5f71\u54cd\u3002"),(0,l.kt)("h5",{id:"\u65b9\u6848\u4e09\u9632\u91cd-token-\u4ee4\u724c"},"\u65b9\u6848\u4e09\uff1a\u9632\u91cd Token \u4ee4\u724c"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u65b9\u6848\u63cf\u8ff0\uff1a")),(0,l.kt)("p",null,"\u9488\u5bf9\u5ba2\u6237\u7aef\u8fde\u7eed\u70b9\u51fb\u6216\u8005\u8c03\u7528\u65b9\u7684\u8d85\u65f6\u91cd\u8bd5\u7b49\u60c5\u51b5\uff0c\u4f8b\u5982\u63d0\u4ea4\u8ba2\u5355\uff0c\u6b64\u79cd\u64cd\u4f5c\u5c31\u53ef\u4ee5\u7528  Token \u7684\u673a\u5236\u5b9e\u73b0\u9632\u6b62\u91cd\u590d\u63d0\u4ea4\u3002\u7b80\u5355\u7684\u8bf4\u5c31\u662f\u8c03\u7528\u65b9\u5728\u8c03\u7528\u63a5\u53e3\u7684\u65f6\u5019\u5148\u5411\u540e\u7aef\u8bf7\u6c42\u4e00\u4e2a\u5168\u5c40 ID\uff08Token\uff09\uff0c\u8bf7\u6c42\u7684\u65f6\u5019\u643a\u5e26\u8fd9\u4e2a\u5168\u5c40 ID  \u4e00\u8d77\u8bf7\u6c42\uff08Token \u6700\u597d\u5c06\u5176\u653e\u5230 Headers \u4e2d\uff09\uff0c\u540e\u7aef\u9700\u8981\u5bf9\u8fd9\u4e2a Token \u4f5c\u4e3a Key\uff0c\u7528\u6237\u4fe1\u606f\u4f5c\u4e3a Value \u5230 Redis  \u4e2d\u8fdb\u884c\u952e\u503c\u5185\u5bb9\u6821\u9a8c\uff0c\u5982\u679c Key \u5b58\u5728\u4e14 Value \u5339\u914d\u5c31\u6267\u884c\u5220\u9664\u547d\u4ee4\uff0c\u7136\u540e\u6b63\u5e38\u6267\u884c\u540e\u9762\u7684\u4e1a\u52a1\u903b\u8f91\u3002\u5982\u679c\u4e0d\u5b58\u5728\u5bf9\u5e94\u7684 Key \u6216 Value  \u4e0d\u5339\u914d\u5c31\u8fd4\u56de\u91cd\u590d\u6267\u884c\u7684\u9519\u8bef\u4fe1\u606f\uff0c\u8fd9\u6837\u6765\u4fdd\u8bc1\u5e42\u7b49\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u9002\u7528\u64cd\u4f5c\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u63d2\u5165\u64cd\u4f5c"),(0,l.kt)("li",{parentName:"ul"},"\u66f4\u65b0\u64cd\u4f5c"),(0,l.kt)("li",{parentName:"ul"},"\u5220\u9664\u64cd\u4f5c")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4f7f\u7528\u9650\u5236\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9700\u8981\u751f\u6210\u5168\u5c40\u552f\u4e00 Token \u4e32\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u9700\u8981\u4f7f\u7528\u7b2c\u4e09\u65b9\u7ec4\u4ef6 Redis \u8fdb\u884c\u6570\u636e\u6548\u9a8c\uff1b")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u8981\u6d41\u7a0b\uff1a")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725150246041",src:n(17113).Z,width:"970",height:"459"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u2460 \u670d\u52a1\u7aef\u63d0\u4f9b\u83b7\u53d6 Token \u7684\u63a5\u53e3\uff0c\u8be5 Token \u53ef\u4ee5\u662f\u4e00\u4e2a\u5e8f\u5217\u53f7\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f ID \u6216\u8005 UUID \u4e32\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u2461 \u5ba2\u6237\u7aef\u8c03\u7528\u63a5\u53e3\u83b7\u53d6 Token\uff0c\u8fd9\u65f6\u5019\u670d\u52a1\u7aef\u4f1a\u751f\u6210\u4e00\u4e2a Token \u4e32\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u2462 \u7136\u540e\u5c06\u8be5\u4e32\u5b58\u5165 Redis \u6570\u636e\u5e93\u4e2d\uff0c\u4ee5\u8be5 Token \u4f5c\u4e3a Redis \u7684\u952e\uff08\u6ce8\u610f\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u2463 \u5c06 Token \u8fd4\u56de\u5230\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u62ff\u5230\u540e\u5e94\u5b58\u5230\u8868\u5355\u9690\u85cf\u57df\u4e2d\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u2464 \u5ba2\u6237\u7aef\u5728\u6267\u884c\u63d0\u4ea4\u8868\u5355\u65f6\uff0c\u628a Token \u5b58\u5165\u5230 Headers \u4e2d\uff0c\u6267\u884c\u4e1a\u52a1\u8bf7\u6c42\u5e26\u4e0a\u8be5 Headers\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u2465 \u670d\u52a1\u7aef\u63a5\u6536\u5230\u8bf7\u6c42\u540e\u4ece Headers \u4e2d\u62ff\u5230 Token\uff0c\u7136\u540e\u6839\u636e Token \u5230 Redis \u4e2d\u67e5\u627e\u8be5 key \u662f\u5426\u5b58\u5728\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u2466 \u670d\u52a1\u7aef\u6839\u636e Redis \u4e2d\u662f\u5426\u5b58\u8be5 key \u8fdb\u884c\u5224\u65ad\uff0c\u5982\u679c\u5b58\u5728\u5c31\u5c06\u8be5 key \u5220\u9664\uff0c\u7136\u540e\u6b63\u5e38\u6267\u884c\u4e1a\u52a1\u903b\u8f91\u3002\u5982\u679c\u4e0d\u5b58\u5728\u5c31\u629b\u5f02\u5e38\uff0c\u8fd4\u56de\u91cd\u590d\u63d0\u4ea4\u7684\u9519\u8bef\u4fe1\u606f\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff0c\u5728\u5e76\u53d1\u60c5\u51b5\u4e0b\uff0c\u6267\u884c Redis \u67e5\u627e\u6570\u636e\u4e0e\u5220\u9664\u9700\u8981\u4fdd\u8bc1\u539f\u5b50\u6027\uff0c\u5426\u5219\u5f88\u53ef\u80fd\u5728\u5e76\u53d1\u4e0b\u65e0\u6cd5\u4fdd\u8bc1\u5e42\u7b49\u6027\u3002\u5176\u5b9e\u73b0\u65b9\u6cd5\u53ef\u4ee5\u4f7f\u7528\u5206\u5e03\u5f0f\u9501\u6216\u8005\u4f7f\u7528 Lua \u8868\u8fbe\u5f0f\u6765\u6ce8\u9500\u67e5\u8be2\u4e0e\u5220\u9664\u64cd\u4f5c\u3002")),(0,l.kt)("h4",{id:"\u65b9\u6848\u56db\u4e0b\u6e38\u4f20\u9012\u552f\u4e00\u5e8f\u5217\u53f7"},"\u65b9\u6848\u56db:\u4e0b\u6e38\u4f20\u9012\u552f\u4e00\u5e8f\u5217\u53f7"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u65b9\u6848\u63cf\u8ff0\uff1a")),(0,l.kt)("p",null,"\u6240\u8c13\u8bf7\u6c42\u5e8f\u5217\u53f7\uff0c\u5176\u5b9e\u5c31\u662f\u6bcf\u6b21\u5411\u670d\u52a1\u7aef\u8bf7\u6c42\u65f6\u5019\u9644\u5e26\u4e00\u4e2a\u77ed\u65f6\u95f4\u5185\u552f\u4e00\u4e0d\u91cd\u590d\u7684\u5e8f\u5217\u53f7\uff0c\u8be5\u5e8f\u5217\u53f7\u53ef\u4ee5\u662f\u4e00\u4e2a\u6709\u5e8f ID\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u8ba2\u5355\u53f7\uff0c\u4e00\u822c\u7531\u4e0b\u6e38\u751f\u6210\uff0c\u5728\u8c03\u7528\u4e0a\u6e38\u670d\u52a1\u7aef\u63a5\u53e3\u65f6\u9644\u52a0\u8be5\u5e8f\u5217\u53f7\u548c\u7528\u4e8e\u8ba4\u8bc1\u7684 ID\u3002"),(0,l.kt)("p",null,"\u5f53\u4e0a\u6e38\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u4fe1\u606f\u540e\u62ff\u53d6\u8be5 \u5e8f\u5217\u53f7 \u548c\u4e0b\u6e38 \u8ba4\u8bc1ID \u8fdb\u884c\u7ec4\u5408\uff0c\u5f62\u6210\u7528\u4e8e\u64cd\u4f5c Redis \u7684 Key\uff0c\u7136\u540e\u5230 Redis \u4e2d\u67e5\u8be2\u662f\u5426\u5b58\u5728\u5bf9\u5e94\u7684 Key \u7684\u952e\u503c\u5bf9\uff0c\u6839\u636e\u5176\u7ed3\u679c\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u5b58\u5728\uff0c\u5c31\u8bf4\u660e\u5df2\u7ecf\u5bf9\u8be5\u4e0b\u6e38\u7684\u8be5\u5e8f\u5217\u53f7\u7684\u8bf7\u6c42\u8fdb\u884c\u4e86\u4e1a\u52a1\u5904\u7406\uff0c\u8fd9\u65f6\u53ef\u4ee5\u76f4\u63a5\u54cd\u5e94\u91cd\u590d\u8bf7\u6c42\u7684\u9519\u8bef\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5c31\u4ee5\u8be5 Key \u4f5c\u4e3a Redis \u7684\u952e\uff0c\u4ee5\u4e0b\u6e38\u5173\u952e\u4fe1\u606f\u4f5c\u4e3a\u5b58\u50a8\u7684\u503c\uff08\u4f8b\u5982\u4e0b\u6e38\u5546\u4f20\u9012\u7684\u4e00\u4e9b\u4e1a\u52a1\u903b\u8f91\u4fe1\u606f\uff09\uff0c\u5c06\u8be5\u952e\u503c\u5bf9\u5b58\u50a8\u5230 Redis \u4e2d \uff0c\u7136\u540e\u518d\u6b63\u5e38\u6267\u884c\u5bf9\u5e94\u7684\u4e1a\u52a1\u903b\u8f91\u5373\u53ef\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u9002\u7528\u64cd\u4f5c\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u63d2\u5165\u64cd\u4f5c"),(0,l.kt)("li",{parentName:"ul"},"\u66f4\u65b0\u64cd\u4f5c"),(0,l.kt)("li",{parentName:"ul"},"\u5220\u9664\u64cd\u4f5c")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4f7f\u7528\u9650\u5236\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8981\u6c42\u7b2c\u4e09\u65b9\u4f20\u9012\u552f\u4e00\u5e8f\u5217\u53f7\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u9700\u8981\u4f7f\u7528\u7b2c\u4e09\u65b9\u7ec4\u4ef6 Redis \u8fdb\u884c\u6570\u636e\u6548\u9a8c\uff1b")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e3b\u8981\u6d41\u7a0b\uff1a")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220725150306807",src:n(7946).Z,width:"970",height:"479"})),(0,l.kt)("p",null,"\u4e3b\u8981\u6b65\u9aa4\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u2460 \u4e0b\u6e38\u670d\u52a1\u751f\u6210\u5206\u5e03\u5f0f ID \u4f5c\u4e3a\u5e8f\u5217\u53f7\uff0c\u7136\u540e\u6267\u884c\u8bf7\u6c42\u8c03\u7528\u4e0a\u6e38\u63a5\u53e3\uff0c\u5e76\u9644\u5e26\u201c\u552f\u4e00\u5e8f\u5217\u53f7\u201d\u4e0e\u8bf7\u6c42\u7684\u201c\u8ba4\u8bc1\u51ed\u636eID\u201d\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u2461 \u4e0a\u6e38\u670d\u52a1\u8fdb\u884c\u5b89\u5168\u6548\u9a8c\uff0c\u68c0\u6d4b\u4e0b\u6e38\u4f20\u9012\u7684\u53c2\u6570\u4e2d\u662f\u5426\u5b58\u5728\u201c\u5e8f\u5217\u53f7\u201d\u548c\u201c\u51ed\u636eID\u201d\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u2462 \u4e0a\u6e38\u670d\u52a1\u5230 Redis \u4e2d\u68c0\u6d4b\u662f\u5426\u5b58\u5728\u5bf9\u5e94\u7684\u201c\u5e8f\u5217\u53f7\u201d\u4e0e\u201c\u8ba4\u8bc1ID\u201d\u7ec4\u6210\u7684  Key\uff0c\u5982\u679c\u5b58\u5728\u5c31\u629b\u51fa\u91cd\u590d\u6267\u884c\u7684\u5f02\u5e38\u4fe1\u606f\uff0c\u7136\u540e\u54cd\u5e94\u4e0b\u6e38\u5bf9\u5e94\u7684\u9519\u8bef\u4fe1\u606f\u3002\u5982\u679c\u4e0d\u5b58\u5728\u5c31\u4ee5\u8be5\u201c\u5e8f\u5217\u53f7\u201d\u548c\u201c\u8ba4\u8bc1ID\u201d\u7ec4\u5408\u4f5c\u4e3a  Key\uff0c\u4ee5\u4e0b\u6e38\u5173\u952e\u4fe1\u606f\u4f5c\u4e3a Value\uff0c\u8fdb\u800c\u5b58\u50a8\u5230 Redis \u4e2d\uff0c\u7136\u540e\u6b63\u5e38\u6267\u884c\u63a5\u6765\u6765\u7684\u4e1a\u52a1\u903b\u8f91\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e0a\u9762\u6b65\u9aa4\u4e2d\u63d2\u5165\u6570\u636e\u5230 Redis \u4e00\u5b9a\u8981\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u3002\u8fd9\u6837\u80fd\u4fdd\u8bc1\u5728\u8fd9\u4e2a\u65f6\u95f4\u8303\u56f4\u5185\uff0c\u5982\u679c\u91cd\u590d\u8c03\u7528\u63a5\u53e3\uff0c\u5219\u80fd\u591f\u8fdb\u884c\u5224\u65ad\u8bc6\u522b\u3002\u5982\u679c\u4e0d\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff0c\u5f88\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u65e0\u9650\u91cf\u7684\u5b58\u5165 Redis\uff0c\u81f4\u4f7f Redis \u4e0d\u80fd\u6b63\u5e38\u5de5\u4f5c\u3002")),(0,l.kt)("h3",{id:"\u5206\u5e03\u5f0f\u7cfb\u7edf\u63a5\u53e3\u5982\u4f55\u907f\u514d\u8868\u5355\u7684\u91cd\u590d\u63d0\u4ea4"},"\u5206\u5e03\u5f0f\u7cfb\u7edf\u63a5\u53e3\uff0c\u5982\u4f55\u907f\u514d\u8868\u5355\u7684\u91cd\u590d\u63d0\u4ea4\uff1f"),(0,l.kt)("h4",{id:"\u5e42\u7b49\u6027"},"\u5e42\u7b49\u6027"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6548\u679c\uff1a"),"\u7cfb\u7edf\u5bf9\u67d0\u63a5\u53e3\u7684\u591a\u6b21\u8bf7\u6c42\uff0c\u90fd\u5e94\u8be5\u8fd4\u56de\u540c\u6837\u7684\u7ed3\u679c\uff01\uff08\u7f51\u7edc\u8bbf\u95ee\u5931\u8d25\u7684\u573a\u666f\u9664\u5916\uff09"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u76ee\u7684\uff1a"),"\u907f\u514d\u56e0\u4e3a\u5404\u79cd\u539f\u56e0\uff0c\u91cd\u590d\u8bf7\u6c42\u5bfc\u81f4\u7684\u4e1a\u52a1\u91cd\u590d\u5904\u7406"),(0,l.kt)("h4",{id:"\u91cd\u590d\u8bf7\u6c42\u573a\u666f\u6848\u4f8b"},"\u91cd\u590d\u8bf7\u6c42\u573a\u666f\u6848\u4f8b"),(0,l.kt)("p",null,"1\uff0c\u5ba2\u6237\u7aef\u7b2c\u4e00\u6b21\u8bf7\u6c42\u540e\uff0c\u7f51\u7edc\u5f02\u5e38\u5bfc\u81f4\u6536\u5230\u8bf7\u6c42\u6267\u884c\u903b\u8f91\u4f46\u662f\u6ca1\u6709\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u7684\u91cd\u65b0\u53d1\u8d77\u8bf7\u6c42"),(0,l.kt)("p",null,"2\uff0c\u5ba2\u6237\u7aef\u8fc5\u901f\u70b9\u51fb\u6309\u94ae\u63d0\u4ea4\uff0c\u5bfc\u81f4\u540c\u4e00\u903b\u8f91\u88ab\u591a\u6b21\u53d1\u9001\u5230\u670d\u52a1\u5668"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u7b80\u5355\u6765\u5212\u5206\uff0c\u4e1a\u52a1\u903b\u8f91\u65e0\u975e\u90fd\u53ef\u4ee5\u5f52\u7eb3\u4e3a\u589e\u5220\u6539\u67e5\uff01")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5bf9\u4e8e\u67e5\u8be2"),"\uff0c\u5185\u90e8\u4e0d\u5305\u542b\u5176\u4ed6\u64cd\u4f5c\uff0c\u5c5e\u4e8e\u53ea\u8bfb\u6027\u8d28\u7684\u90a3\u79cd\u4e1a\u52a1\u5fc5\u7136\u7b26\u5408\u5e42\u7b49\u6027\u8981\u6c42\u7684\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5bf9\u4e8e\u5220\u9664"),"\uff0c\u91cd\u590d\u505a\u5220\u9664\u8bf7\u6c42\u81f3\u5c11\u4e0d\u4f1a\u9020\u6210\u6570\u636e\u6742\u4e71\uff0c\u4e0d\u8fc7\u4e5f\u6709\u4e9b\u573a\u666f\u66f4\u5e0c\u671b\u91cd\u590d\u70b9\u51fb\u63d0\u793a\u7684\u662f\u5220\u9664\u6210\u529f\uff0c\u800c\u4e0d\u662f\u76ee\u6807\u4e0d\u5b58\u5728\u7684\u63d0\u793a\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5bf9\u4e8e\u65b0\u589e\u548c\u4fee\u6539"),"\uff0c\u8fd9\u91cc\u662f\u4eca\u5929\u8981\u91cd\u70b9\u5173\u6ce8\u7684\u90e8\u5206\uff1a\u65b0\u589e\uff0c\u9700\u8981\u907f\u514d\u91cd\u590d\u63d2\u5165\uff1b\u4fee\u6539\uff0c\u907f\u514d\u8fdb\u884c\u65e0\u6548\u7684\u91cd\u590d\u4fee\u6539\uff1b"),(0,l.kt)("h4",{id:"\u5e42\u7b49\u6027\u7684\u5b9e\u73b0\u65b9\u5f0f"},"\u5e42\u7b49\u6027\u7684\u5b9e\u73b0\u65b9\u5f0f"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5b9e\u73b0\u65b9\u6cd5\uff1a"),"\u5ba2\u6237\u7aef\u505a\u67d0\u4e00\u8bf7\u6c42\u7684\u65f6\u5019\u5e26\u4e0a\u8bc6\u522b\u53c2\u6570\u6807\u8bc6\uff0c\u670d\u52a1\u7aef\u5bf9\u6b64\u6807\u8bc6\u8fdb\u884c\u8bc6\u522b\uff0c\u91cd\u590d\u8bf7\u6c42\u5219\u91cd\u590d\u8fd4\u56de\u7b2c\u4e00\u6b21\u7684\u7ed3\u679c\u5373\u53ef\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e3e\u4e2a\u6817\u5b50\uff1a"),"\u6bd4\u5982\u6dfb\u52a0\u8bf7\u6c42\u7684\u8868\u5355\u91cc\uff0c\u5728\u6253\u5f00\u6dfb\u52a0\u8868\u5355\u9875\u9762\u7684\u65f6\u5019\uff0c\u5c31\u751f\u6210\u4e00\u4e2aAddId\u6807\u8bc6\uff0c\u8fd9\u4e2aAddId\u8ddf\u7740\u8868\u5355\u4e00\u8d77\u63d0\u4ea4\u5230\u540e\u53f0\u63a5\u53e3\u3002"),(0,l.kt)("p",null,"\u540e\u53f0\u63a5\u53e3\u6839\u636e\u8fd9\u4e2aAddId\uff0c\u670d\u52a1\u7aef\u5c31\u53ef\u4ee5\u8fdb\u884c\u7f13\u5b58\u6807\u8bb0\u5e76\u8fdb\u884c\u8fc7\u6ee4\uff0c\u7f13\u5b58\u503c\u53ef\u4ee5\u662fAddId\u4f5c\u4e3a\u7f13\u5b58key\uff0c\u8fd4\u56de\u5185\u5bb9\u4f5c\u4e3a\u7f13\u5b58Value\uff0c\u8fd9\u6837\u5373\u4f7f\u6dfb\u52a0\u6309\u94ae\u88ab\u591a\u6b21\u70b9\u4e0b\u4e5f\u53ef\u4ee5\u8bc6\u522b\u51fa\u6765\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e2aAddId\u4ec0\u4e48\u65f6\u5019\u66f4\u65b0\u5462\uff1f\u53ea\u6709\u5728\u4fdd\u5b58\u6210\u529f\u5e76\u4e14\u6e05\u7a7a\u8868\u5355\u4e4b\u540e\uff0c\u624d\u53d8\u66f4\u8fd9\u4e2aAddId\u6807\u8bc6\uff0c\u4ece\u800c\u5b9e\u73b0\u65b0\u6570\u636e\u7684\u8868\u5355\u63d0\u4ea4"),(0,l.kt)("h3",{id:"\u6709\u51e0\u79cd\u751f\u6210\u552f\u4e00id\u7684\u65b9\u5f0f"},"\u6709\u51e0\u79cd\u751f\u6210\u552f\u4e00ID\u7684\u65b9\u5f0f\uff1f"),(0,l.kt)("p",null,"\u5728\u590d\u6742\u5206\u5e03\u5f0f\u7cfb\u7edf\u548c\u5e9e\u5927\u6570\u636e\u91cf\u7684\u573a\u666f\u4e0b\uff0c\u4e00\u822c\u9700\u8981\u5bf9\u5927\u91cf\u6570\u636e\u8fdb\u884c\u552f\u4e00\u6807\u8bc6\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6570\u636e\u5e93\u5206\u5e93\u5206\u8868\u540e\u9700\u8981\u7528\u4e00\u4e2a\u552f\u4e00ID\u6765\u6807\u8bc6\u4e00\u6761\u6570\u636e\u3002"),(0,l.kt)("li",{parentName:"ul"},"nosql\u4e2d\u7684\u6570\u636e\uff0c\u9700\u8981\u4e00\u4e2a\u552f\u4e00ID\u4e0e\u5176\u4ed6\u6570\u636e\u6e90\u7684\u6570\u636e\u8fdb\u884c\u5173\u8054")),(0,l.kt)("p",null,"\u672c\u6587\u5bf9\u6bd4\u548c\u603b\u7ed3\u4e86\u5e38\u89c1\u7684\u51e0\u79cd\u65b9\u5f0f\uff0c\u5728\u5ea7\u540c\u5b66\u53ef\u4ee5\u8fdb\u884c\u53c2\u8003\u3002"),(0,l.kt)("p",null,"\u6211\u5728\u5b9e\u9645\u9879\u76ee\u4e2d\u7ecf\u5e38\u4f7f\u7528ksuid\u7b97\u6cd5\u3002\u5b83\u7b80\u5355\u53ef\u9760\uff0c\u8fd8\u53ef\u6309\u65f6\u95f4\u6392\u5e8f"),(0,l.kt)("h4",{id:"uuid"},"UUID"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"UUID \uff08Universally Unique Identifier\uff09"),"\uff0c\u901a\u7528\u552f\u4e00\u8bc6\u522b\u7801\u7684\u7f29\u5199\u3002UUID\u662f\u7531\u4e00\u7ec432\u4f4d\u6570\u768416\u8fdb\u5236\u6570\u5b57\u6240\u6784\u6210\uff0c\u6240\u4ee5UUID\u7406\u8bba\u4e0a\u7684\u603b\u6570\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"16^32=2^128"),"\uff0c\u7ea6\u7b49\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"3.4 x 10^38"),"\u3002\u4e5f\u5c31\u662f\u8bf4\u82e5\u6bcf\u7eb3\u79d2\u4ea7\u751f1\u5146\u4e2aUUID\uff0c\u8981\u82b1100\u4ebf\u5e74\u624d\u4f1a\u5c06\u6240\u6709UUID\u7528\u5b8c\u3002"),(0,l.kt)("p",null,"\u751f\u6210\u7684UUID\u662f\u7531 8-4-4-4-12\u683c\u5f0f\u7684\u6570\u636e\u7ec4\u6210\uff0c\u5176\u4e2d32\u4e2a\u5b57\u7b26\u548c4\u4e2a\u8fde\u5b57\u7b26' - '\uff0c\u4e00\u822c\u6211\u4eec\u4f7f\u7528\u7684\u65f6\u5019\u4f1a\u5c06\u8fde\u5b57\u7b26\u5220\u9664 uuid.",(0,l.kt)("inlineCode",{parentName:"p"},'toString().replaceAll("-","")'),"\u3002"),(0,l.kt)("p",null,"\u76ee\u524dUUID\u7684\u4ea7\u751f\u65b9\u5f0f\u67095\u79cd\u7248\u672c\uff0c\u6bcf\u4e2a\u7248\u672c\u7684\u7b97\u6cd5\u4e0d\u540c\uff0c\u5e94\u7528\u8303\u56f4\u4e5f\u4e0d\u540c\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"\u57fa\u4e8e\u65f6\u95f4\u7684UUID")," - \u7248\u672c1\uff1a \u8fd9\u4e2a\u4e00\u822c\u662f\u901a\u8fc7\u5f53\u524d\u65f6\u95f4\uff0c\u968f\u673a\u6570\uff0c\u548c\u672c\u5730Mac\u5730\u5740\u6765\u8ba1\u7b97\u51fa\u6765\uff0c\u53ef\u4ee5\u901a\u8fc7 org.apache.logging.log4j.core.util\u5305\u4e2d\u7684 UuidUtil.getTimeBasedUuid()\u6765\u4f7f\u7528\u6216\u8005\u5176\u4ed6\u5305\u4e2d\u5de5\u5177\u3002\u7531\u4e8e\u4f7f\u7528\u4e86MAC\u5730\u5740\uff0c\u56e0\u6b64\u80fd\u591f\u786e\u4fdd\u552f\u4e00\u6027\uff0c\u4f46\u662f\u540c\u65f6\u4e5f\u66b4\u9732\u4e86MAC\u5730\u5740\uff0c\u79c1\u5bc6\u6027\u4e0d\u591f\u597d\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"DCE\u5b89\u5168\u7684UUID")," - \u7248\u672c2 DCE\uff08Distributed Computing Environment\uff09\u5b89\u5168\u7684UUID\u548c\u57fa\u4e8e\u65f6\u95f4\u7684UUID\u7b97\u6cd5\u76f8\u540c\uff0c\u4f46\u4f1a\u628a\u65f6\u95f4\u6233\u7684\u524d4\u4f4d\u7f6e\u6362\u4e3aPOSIX\u7684UID\u6216GID\u3002\u8fd9\u4e2a\u7248\u672c\u7684UUID\u5728\u5b9e\u9645\u4e2d\u8f83\u5c11\u7528\u5230\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"\u57fa\u4e8e\u540d\u5b57\u7684UUID\uff08MD5\uff09"),"- \u7248\u672c3 \u57fa\u4e8e\u540d\u5b57\u7684UUID\u901a\u8fc7\u8ba1\u7b97\u540d\u5b57\u548c\u540d\u5b57\u7a7a\u95f4\u7684MD5\u6563\u5217\u503c\u5f97\u5230\u3002\u8fd9\u4e2a\u7248\u672c\u7684UUID\u4fdd\u8bc1\u4e86\uff1a\u76f8\u540c\u540d\u5b57\u7a7a\u95f4\u4e2d\u4e0d\u540c\u540d\u5b57\u751f\u6210\u7684UUID\u7684\u552f\u4e00\u6027\uff1b\u4e0d\u540c\u540d\u5b57\u7a7a\u95f4\u4e2d\u7684UUID\u7684\u552f\u4e00\u6027\uff1b\u76f8\u540c\u540d\u5b57\u7a7a\u95f4\u4e2d\u76f8\u540c\u540d\u5b57\u7684UUID\u91cd\u590d\u751f\u6210\u662f\u76f8\u540c\u7684\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"\u968f\u673aUUID")," - \u7248\u672c4 \u6839\u636e\u968f\u673a\u6570\uff0c\u6216\u8005\u4f2a\u968f\u673a\u6570\u751f\u6210UUID\u3002\u8fd9\u79cdUUID\u4ea7\u751f\u91cd\u590d\u7684\u6982\u7387\u662f\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6765\u7684\uff0c\u4f46\u662f\u91cd\u590d\u7684\u53ef\u80fd\u6027\u53ef\u4ee5\u5ffd\u7565\u4e0d\u8ba1\uff0c\u56e0\u6b64\u8be5\u7248\u672c\u4e5f\u662f\u88ab\u7ecf\u5e38\u4f7f\u7528\u7684\u7248\u672c\u3002JDK\u4e2d\u4f7f\u7528\u7684\u5c31\u662f\u8fd9\u4e2a\u7248\u672c\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"\u57fa\u4e8e\u540d\u5b57\u7684UUID\uff08SHA1\uff09")," - \u7248\u672c5 \u548c\u57fa\u4e8e\u540d\u5b57\u7684UUID\u7b97\u6cd5\u7c7b\u4f3c\uff0c\u53ea\u662f\u6563\u5217\u503c\u8ba1\u7b97\u4f7f\u7528SHA1\uff08Secure Hash Algorithm 1\uff09\u7b97\u6cd5\u3002")),(0,l.kt)("p",null,"\u4e00\u822c\u9009\u7528V4\u7248\u672c\uff0cV1\u6709\u66b4\u9732mac\u5730\u5740\u7684\u98ce\u9669\uff0cV2\u7279\u5b9a\u573a\u666f\u624d\u4f1a\u7528\u5230\uff0cV3\u3001V5\u76f8\u540c\u7684\u8f93\u5165\u53c2\u6570\u5f97\u5230\u76f8\u540c\u7684UUID"),(0,l.kt)("p",null,"\u4f18\u7f3a\u70b9"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4f18\u70b9\uff1a\u7b80\u5355\u53ef\u9760"),(0,l.kt)("li",{parentName:"ul"},"\u7f3a\u70b9\uff1a\u4e0d\u53ef\u6392\u5e8f\uff0c\u4e0d\u5229\u4e8e\u68c0\u7d22")),(0,l.kt)("h4",{id:"mysql\u81ea\u589eid"},"mysql\u81ea\u589eid"),(0,l.kt)("p",null,"\u9002\u7528mysql\u7684\u81ea\u589eid\u673a\u5236\uff0c\u6ee1\u8db3 \u9012\u589e\u6027\u3001\u5355\u8c03\u6027\u3001\u552f\u4e00\u6027\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5728\u5355\u673a\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u5e76\u53d1\u91cf\u9ad8\uff0cmysql\u7684\u538b\u529b\u4f1a\u5f88\u5927\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5206\u5e03\u5f0f\u60c5\u51b5\u4e0b\uff0c\u4e00\u822c\u9700\u8981\u8bbe\u5b9a\u6bcf\u53f0\u673a\u5668\u521d\u59cbID\uff0c\u6765\u907f\u514dID\u91cd\u590d\u3002\u8fd9\u79cd\u65b9\u5f0f\u6709\u5c40\u9650\u6027\uff0c\u4e14\u6c34\u5e73\u6269\u5c55\u65b9\u6848\u590d\u6742\uff0c\u5bb9\u6613 \u51fa\u95ee\u9898\u3002")),(0,l.kt)("p",null,"\u4f18\u7f3a\u70b9"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4f18\u70b9\uff1a\u7b80\u5355\u53ef\u9760\uff0c\u5728\u5355\u673a\u3001\u5e76\u53d1\u4e0d\u9ad8\u3001\u6570\u636e\u91cf\u8f83\u5c0f\u7684\u60c5\u51b5\u4e0b\u9002\u7528"),(0,l.kt)("li",{parentName:"ul"},"\u7f3a\u70b9\uff1a\u5728\u5206\u5e93\u5206\u8868\u3001\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u4e0d\u9002\u7528")),(0,l.kt)("h4",{id:"redis"},"redis"),(0,l.kt)("p",null,"\u56e0\u4e3aRedis\u662f\u5355\u7ebf\u7a0b\uff0c\u5929\u751f\u4fdd\u8bc1\u539f\u5b50\u6027\uff0c\u53ef\u4ee5\u4f7f\u7528\u539f\u5b50\u64cd\u4f5cINCR\u548cINCRBY\u6765\u5b9e\u73b0"),(0,l.kt)("p",null,"\u5355\u673a\u548c\u5206\u5e03\u5f0f\u7684\u4f18\u7f3a\u70b9\u4e0emysql\u7c7b\u4f3c"),(0,l.kt)("h4",{id:"snowflake"},"snowflake"),(0,l.kt)("p",null,"Snowflake\uff0c\u96ea\u82b1\u7b97\u6cd5\u662f\u7531Twitter\u5f00\u6e90\u7684\u5206\u5e03\u5f0fID\u751f\u6210\u7b97\u6cd5\uff0c\u4ee5\u5212\u5206\u547d\u540d\u7a7a\u95f4\u7684\u65b9\u5f0f\u5c06 64-bit\u4f4d\u5206\u5272\u6210\u591a\u4e2a\u90e8\u5206\uff0c\u6bcf\u4e2a\u90e8\u5206\u4ee3\u8868\u4e0d\u540c\u7684\u542b\u4e49\u3002\u800c Java\u4e2d64bit\u7684\u6574\u6570\u662fLong\u7c7b\u578b\uff0c\u6240\u4ee5\u5728 Java \u4e2d SnowFlake \u7b97\u6cd5\u751f\u6210\u7684 ID \u5c31\u662f long \u6765\u5b58\u50a8\u7684\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7b2c1\u4f4d"),"\u5360\u75281bit\uff0c\u5176\u503c\u59cb\u7ec8\u662f0\uff0c\u53ef\u770b\u505a\u662f\u7b26\u53f7\u4f4d\u4e0d\u4f7f\u7528\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7b2c2\u4f4d"),"\u5f00\u59cb\u768441\u4f4d\u662f\u65f6\u95f4\u6233\uff0c41-bit\u4f4d\u53ef\u8868\u793a2^41\u4e2a\u6570\uff0c\u6bcf\u4e2a\u6570\u4ee3\u8868\u6beb\u79d2\uff0c\u90a3\u4e48\u96ea\u82b1\u7b97\u6cd5\u53ef\u7528\u7684\u65f6\u95f4\u5e74\u9650\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"(1L<<41)/(1000L360024*365)"),"=69 \u5e74\u7684\u65f6\u95f4\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e2d\u95f4\u768410-bit\u4f4d"),"\u53ef\u8868\u793a\u673a\u5668\u6570\uff0c\u53732^10 = 1024\u53f0\u673a\u5668\uff0c\u4f46\u662f\u4e00\u822c\u60c5\u51b5\u4e0b\u6211\u4eec\u4e0d\u4f1a\u90e8\u7f72\u8fd9\u4e48\u53f0\u673a\u5668\u3002\u5982\u679c\u6211\u4eec\u5bf9IDC\uff08\u4e92\u8054\u7f51\u6570\u636e\u4e2d\u5fc3\uff09\u6709\u9700\u6c42\uff0c\u8fd8\u53ef\u4ee5\u5c06 10-bit \u5206 5-bit \u7ed9 IDC\uff0c\u52065-bit\u7ed9\u5de5\u4f5c\u673a\u5668\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u8868\u793a32\u4e2aIDC\uff0c\u6bcf\u4e2aIDC\u4e0b\u53ef\u4ee5\u670932\u53f0\u673a\u5668\uff0c\u5177\u4f53\u7684\u5212\u5206\u53ef\u4ee5\u6839\u636e\u81ea\u8eab\u9700\u6c42\u5b9a\u4e49\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u6700\u540e12-bit\u4f4d"),"\u662f\u81ea\u589e\u5e8f\u5217\uff0c\u53ef\u8868\u793a2^12 = 4096\u4e2a\u6570\u3002")),(0,l.kt)("p",null,"\u8fd9\u6837\u7684\u5212\u5206\u4e4b\u540e\u76f8\u5f53\u4e8e",(0,l.kt)("strong",{parentName:"p"},"\u5728\u4e00\u6beb\u79d2\u4e00\u4e2a\u6570\u636e\u4e2d\u5fc3\u7684\u4e00\u53f0\u673a\u5668\u4e0a\u53ef\u4ea7\u751f4096\u4e2a\u6709\u5e8f\u7684\u4e0d\u91cd\u590d\u7684ID"),"\u3002\u4f46\u662f\u6211\u4eec IDC \u548c\u673a\u5668\u6570\u80af\u5b9a\u4e0d\u6b62\u4e00\u4e2a\uff0c\u6240\u4ee5\u6beb\u79d2\u5185\u80fd\u751f\u6210\u7684\u6709\u5e8fID\u6570\u662f\u7ffb\u500d\u7684\u3002"),(0,l.kt)("p",null,"\u7b97\u6cd5\u7ed3\u6784"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220709155254210",src:n(91269).Z,width:"885",height:"265"})),(0,l.kt)("p",null,"\u4f18\u52bf\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5355\u673a\u53ef\u5728\u4e00\u6beb\u79d2\u5185\u751f\u62104096\u4e2a\u552f\u4e00ID"),(0,l.kt)("li",{parentName:"ul"},"\u56e0\u4e3a\u6700\u9ad8\u4f4d\u662f\u65f6\u95f4\u6233\uff0c\u6240\u4ee5snowflake\u751f\u6210\u7684ID\u90fd\u662f\u6309\u65f6\u95f4\u8d8b\u52bf\u9012\u589e"),(0,l.kt)("li",{parentName:"ul"},"\u56e0\u4e3a\u6709 workerId\u6765\u505a\u533a\u5206\uff0c\u6240\u4ee5\u6574\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\u5185\u4e0d\u4f1a\u4ea7\u751f\u91cd\u590dID")),(0,l.kt)("p",null,"\u6700\u5927\u7684\u95ee\u9898\uff1a\u65f6\u949f\u56de\u62e8"),(0,l.kt)("p",null,"snowflake\u975e\u5e38\u4f9d\u8d56\u7cfb\u7edf\u65f6\u95f4\u7684\u4e00\u81f4\u6027\uff0c\u5982\u679c\u53d1\u751f\u7cfb\u7edf\u65f6\u95f4\u7684\u56de\u8c03\uff0c\u6539\u53d8\uff0c\u5c31\u53ef\u80fd\u4f1a\u53d1\u751fid\u7684\u91cd\u590d"),(0,l.kt)("p",null,"\u4e0b\u9762\u662f\u6211\u603b\u7ed3\u7684\u51e0\u79cd\u89e3\u51b3\u65b9\u6cd5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7b80\u5355\u7c97\u66b4\uff0c\u76f4\u63a5\u629b\u51fa\u9519\u8bef\uff0c\u8ba9\u4e1a\u52a1\u5c42\u53bb\u89e3\u51b3"),(0,l.kt)("li",{parentName:"ul"},"\u5173\u95ed\u670d\u52a1\u5668\u65f6\u95f4\u540c\u6b65"),(0,l.kt)("li",{parentName:"ul"},"\u4fdd\u5b58\u8fc7\u53bb\u4e00\u5c0f\u65f6\uff0c\u6bcf\u4e2a\u6beb\u79d2\u7684\u5e8f\u53f7\u4f7f\u7528\u60c5\u51b5\u3002\u5982\u679c\u65f6\u95f4\u56de\u9000\u5230\u67d0\u4e00\u6beb\u79d2\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e00\u6beb\u79d2\u7684\u5e8f\u53f7\uff0c\u7ee7\u7eed\u751f\u6210ID"),(0,l.kt)("li",{parentName:"ul"},"\u751f\u6210ID\u7684\u65f6\u95f4\uff0c\u4e0d\u5b9e\u65f6\u8ddf\u968f\u670d\u52a1\u5668\u65f6\u95f4\uff0c\u5f531\u6beb\u79d2\u5185\u7684\u5e8f\u53f7\u5168\u90e8\u7528\u5b8c\uff0c\u624d\u8df3\u5230\u4e0b\u4e00\u6beb\u79d2\u3002\u5982\u679c\u751f\u6210ID\u7684\u5e76\u53d1\u91cf\u4e0d\u5927\uff0c\u5c31\u6709\u5f88\u5927\u7684\u4f59\u91cf\u65f6\u95f4\u6ca1\u6709\u4f7f\u7528\uff0c\u5c31\u7b97\u65f6\u949f\u56de\u9000\u4e86\uff0c\u4e5f\u662f\u56de\u9000\u5230\u6ca1\u6709\u88ab\u4f7f\u7528\u7684\u65f6\u95f4\u3002")),(0,l.kt)("p",null,"\u4f18\u7f3a\u70b9"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4f18\u70b9\uff1a\u751f\u6210\u7684ID\u8d8b\u52bf\u9012\u589e\uff0c\u751f\u6210\u6548\u7387\u9ad8\uff0c\u53ef\u4fdd\u8bc1\u4e0d\u91cd\u590d"),(0,l.kt)("li",{parentName:"ul"},"\u7f3a\u70b9\uff1a\u65f6\u949f\u56de\u62e8\u95ee\u9898\u5904\u7406\u8d77\u6765\u590d\u6742\uff0c\u5bb9\u6613\u51fa\u73b0\u95ee\u9898")),(0,l.kt)("h4",{id:"ksuid"},"ksuid"),(0,l.kt)("p",null,"\u7b97\u6cd5\u7ed3\u6784"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220709155341400",src:n(11056).Z,width:"1080",height:"237"})),(0,l.kt)("p",null,"ksuid\u7531\u4e24\u90e8\u5206\u7ec4\u6210"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7b2c\u4e00\u90e8\u5206"))),(0,l.kt)("p",null,"32\u4f4d\u7684\u79d2\u7ea7\u65f6\u95f4\u6233"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7b2c\u4e8c\u90e8\u5206"))),(0,l.kt)("p",null,"128 \u4f4d\u968f\u673a\u751f\u6210\u8f7d\u8377"),(0,l.kt)("p",null,"\u4f18\u52bf\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u56e0\u4e3a\u6700\u9ad8\u4f4d\u662f\u65f6\u95f4\u6233\uff0c\u6240\u4ee5snowflake\u751f\u6210\u7684ID\u90fd\u662f\u6309\u65f6\u95f4\u8d8b\u52bf\u9012\u589e"),(0,l.kt)("li",{parentName:"ul"},"\u800c128\u4f4d\u7684\u53f7\u7801\u7a7a\u95f4\uff0c\u5728\u4e00\u79d2\u5185\u51fa\u73b0\u968f\u673a\u78b0\u649e\u7684\u6982\u7387\u975e\u5e38\u4e4b\u4f4e\uff0c1/2^128 \u7ea6\u7b49\u4e8e\u660e\u5929\u9668\u77f3\u649e\u5730\u7403\u7684\u6982\u7387"),(0,l.kt)("li",{parentName:"ul"},"\u6ca1\u6709\u5e8f\u53f7\u5219\u53ef\u4ee5\u907f\u514dsnowflake\u7684\u65f6\u949f\u56de\u62e8\u95ee\u9898")),(0,l.kt)("p",null,"\u4f18\u7f3a\u70b9"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4f18\u70b9\uff1a\u751f\u6210\u7684ID\u8d8b\u52bf\u9012\u589e\uff0c\u751f\u6210\u6548\u7387\u9ad8\uff0c\u6ca1\u6709\u65f6\u949f\u56de\u62e8\u7684\u95ee\u9898"),(0,l.kt)("li",{parentName:"ul"},"\u7f3a\u70b9\uff1a\u6709\u968f\u673a\u90e8\u5206\uff0c\u7406\u8bba\u4e0a\u5b58\u5728\u968f\u673a\u78b0\u649e\u7684\u53ef\u80fd")),(0,l.kt)("h4",{id:"\u5176\u4ed6"},"\u5176\u4ed6"),(0,l.kt)("p",null,"\u53e6\u5916\u8fd8\u6709\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u767e\u5ea6-UidGenerator"),(0,l.kt)("li",{parentName:"ul"},"\u7f8e\u56e2Leaf")),(0,l.kt)("p",null,"\u5bf9\u6bd4\u4e865\u79cd\u89e3\u51b3\u65b9\u6848\u3002\u5728\u6211\u7684\u4e1a\u52a1\u573a\u666f\u4e0b\uff0c\u6211\u9009\u62e9\u7b80\u5355\u53ef\u9760\u7684ksuid\u7b97\u6cd5\u6765\u751f\u6210\u552f\u4e00ID"),(0,l.kt)("h3",{id:"\u5355\u70b9\u767b\u5f55"},"\u5355\u70b9\u767b\u5f55"),(0,l.kt)("p",null,"\u5355\u70b9\u767b\u5f55\u7684\u82f1\u6587\u540d\u53eb\u505a\uff1aSingle Sign On\uff08\u7b80\u79f0",(0,l.kt)("strong",{parentName:"p"},"SSO"),"\uff09\u3002"),(0,l.kt)("p",null,"\u5728",(0,l.kt)("strong",{parentName:"p"},"\u521d\u5b66/\u4ee5\u524d"),"\u7684\u65f6\u5019\uff0c\u4e00\u822c\u6211\u4eec\u5c31",(0,l.kt)("strong",{parentName:"p"},"\u5355\u7cfb\u7edf"),"\uff0c\u6240\u6709\u7684\u529f\u80fd\u90fd\u5728\u540c\u4e00\u4e2a\u7cfb\u7edf\u4e0a\u3002"),(0,l.kt)("h2",{id:"\u8ba1\u7b97\u673a\u57fa\u7840"},"\ud83d\udc68\u200d\ud83d\udcbb\u8ba1\u7b97\u673a\u57fa\u7840"),(0,l.kt)("h3",{id:"\u8ba1\u7b97\u673a\u7f51\u7edc\u70ed\u95e8\u516b\u80a1\u6587"},"\ud83c\udf10\u8ba1\u7b97\u673a\u7f51\u7edc\uff08\u70ed\u95e8\u516b\u80a1\u6587\uff09"),(0,l.kt)("h4",{id:"\ufe0f\u524d\u7f6e\u77e5\u8bc6"},"\ud83d\udc41\ufe0f\u524d\u7f6e\u77e5\u8bc6"),(0,l.kt)("h5",{id:"osi-\u4e03\u5c42\u6a21\u578b"},"OSI \u4e03\u5c42\u6a21\u578b"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"OSI \u4e03\u5c42\u6a21\u578b")," \u662f\u56fd\u9645\u6807\u51c6\u5316\u7ec4\u7ec7\u63d0\u51fa\u4e00\u4e2a\u7f51\u7edc\u5206\u5c42\u6a21\u578b\uff0c\u5176\u5927\u4f53\u7ed3\u6784\u4ee5\u53ca\u6bcf\u4e00\u5c42\u63d0\u4f9b\u7684\u529f\u80fd\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617141718194",src:n(81294).Z,width:"694",height:"425"})),(0,l.kt)("p",null,"\u6bcf\u4e00\u5c42\u90fd\u4e13\u6ce8\u505a\u4e00\u4ef6\u4e8b\u60c5\uff0c\u5e76\u4e14\u6bcf\u4e00\u5c42\u90fd\u9700\u8981\u4f7f\u7528\u4e0b\u4e00\u5c42\u63d0\u4f9b\u7684\u529f\u80fd\u6bd4\u5982\u4f20\u8f93\u5c42\u9700\u8981\u4f7f\u7528\u7f51\u7edc\u5c42\u63d0\u4f9b\u7684\u8def\u7531\u548c\u5bfb\u5740\u529f\u80fd\uff0c\u8fd9\u6837\u4f20\u8f93\u5c42\u624d\u77e5\u9053\u628a\u6570\u636e\u4f20\u8f93\u5230\u54ea\u91cc\u53bb\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"OSI \u7684\u4e03\u5c42\u4f53\u7cfb\u7ed3\u6784\u6982\u5ff5\u6e05\u695a\uff0c\u7406\u8bba\u4e5f\u5f88\u5b8c\u6574\uff0c\u4f46\u662f\u5b83\u6bd4\u8f83\u590d\u6742\u800c\u4e14\u4e0d\u5b9e\u7528\uff0c\u800c\u4e14\u6709\u4e9b\u529f\u80fd\u5728\u591a\u4e2a\u5c42\u4e2d\u91cd\u590d\u51fa\u73b0\u3002")),(0,l.kt)("p",null,"\u4e0a\u9762\u8fd9\u79cd\u56fe\u53ef\u80fd\u6bd4\u8f83\u62bd\u8c61\uff0c\u518d\u6765\u4e00\u4e2a\u6bd4\u8f83\u751f\u52a8\u7684\u56fe\u7247\u3002\u4e0b\u9762\u8fd9\u4e2a\u56fe\u7247\u662f\u6211\u5728\u56fd\u5916\u7684\u4e00\u4e2a\u7f51\u7ad9\u4e0a\u770b\u5230\u7684\uff0c\u975e\u5e38\u8d5e\uff01"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617141726678",src:n(13036).Z,width:"1852",height:"1384"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u65e2\u7136 OSI \u4e03\u5c42\u6a21\u578b\u8fd9\u4e48\u5389\u5bb3\uff0c\u4e3a\u4ec0\u4e48\u5e72\u4e0d\u8fc7 TCP/IP \u56db \u5c42\u6a21\u578b\u5462\uff1f")),(0,l.kt)("p",null,"\u7684\u786e\uff0cOSI \u4e03\u5c42\u6a21\u578b\u5f53\u65f6\u4e00\u76f4\u88ab\u4e00\u4e9b\u5927\u516c\u53f8\u751a\u81f3\u4e00\u4e9b\u56fd\u5bb6\u653f\u5e9c\u652f\u6301\u3002\u8fd9\u6837\u7684\u80cc\u666f\u4e0b\uff0c\u4e3a\u4ec0\u4e48\u4f1a\u5931\u8d25\u5462\uff1f\u6211\u89c9\u5f97\u4e3b\u8981\u6709\u4e0b\u9762\u51e0\u65b9\u9762\u539f\u56e0\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"OSI \u7684\u4e13\u5bb6\u7f3a\u4e4f\u5b9e\u9645\u7ecf\u9a8c\uff0c\u4ed6\u4eec\u5728\u5b8c\u6210 OSI \u6807\u51c6\u65f6\u7f3a\u4e4f\u5546\u4e1a\u9a71\u52a8\u529b"),(0,l.kt)("li",{parentName:"ol"},"OSI \u7684\u534f\u8bae\u5b9e\u73b0\u8d77\u6765\u8fc7\u5206\u590d\u6742\uff0c\u800c\u4e14\u8fd0\u884c\u6548\u7387\u5f88\u4f4e"),(0,l.kt)("li",{parentName:"ol"},"OSI \u5236\u5b9a\u6807\u51c6\u7684\u5468\u671f\u592a\u957f\uff0c\u56e0\u800c\u4f7f\u5f97\u6309 OSI \u6807\u51c6\u751f\u4ea7\u7684\u8bbe\u5907\u65e0\u6cd5\u53ca\u65f6\u8fdb\u5165\u5e02\u573a\uff0820 \u4e16\u7eaa 90 \u5e74\u4ee3\u521d\u671f\uff0c\u867d\u7136\u6574\u5957\u7684 OSI \u56fd\u9645\u6807\u51c6\u90fd\u5df2\u7ecf\u5236\u5b9a\u51fa\u6765\uff0c\u4f46\u57fa\u4e8e TCP/IP \u7684\u4e92\u8054\u7f51\u5df2\u7ecf\u62a2\u5148\u5728\u5168\u7403\u76f8\u5f53\u5927\u7684\u8303\u56f4\u6210\u529f\u8fd0\u884c\u4e86\uff09"),(0,l.kt)("li",{parentName:"ol"},"OSI \u7684\u5c42\u6b21\u5212\u5206\u4e0d\u592a\u5408\u7406\uff0c\u6709\u4e9b\u529f\u80fd\u5728\u591a\u4e2a\u5c42\u6b21\u4e2d\u91cd\u590d\u51fa\u73b0\u3002")),(0,l.kt)("p",null,"OSI \u4e03\u5c42\u6a21\u578b\u867d\u7136\u5931\u8d25\u4e86\uff0c\u4f46\u662f\u5374\u63d0\u4f9b\u4e86\u5f88\u591a\u4e0d\u9519\u7684\u7406\u8bba\u57fa\u7840\u3002\u4e3a\u4e86\u66f4\u597d\u5730\u53bb\u4e86\u89e3\u7f51\u7edc\u5206\u5c42\uff0cOSI \u4e03\u5c42\u6a21\u578b\u8fd8\u662f\u975e\u5e38\u6709\u5fc5\u8981\u5b66\u4e60\u7684\u3002"),(0,l.kt)("p",null,"\u6700\u540e\u518d\u5206\u4eab\u4e00\u4e2a\u5173\u4e8e OSI \u4e03\u5c42\u6a21\u578b\u975e\u5e38\u4e0d\u9519\u7684\u603b\u7ed3\u56fe\u7247\uff01"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617141738525",src:n(93220).Z,width:"1120",height:"1588"})),(0,l.kt)("h5",{id:"tcpip-\u56db\u5c42\u6a21\u578b"},"TCP/IP \u56db\u5c42\u6a21\u578b"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"TCP/IP \u56db\u5c42\u6a21\u578b")," \u662f\u76ee\u524d\u88ab\u5e7f\u6cdb\u91c7\u7528\u7684\u4e00\u79cd\u6a21\u578b,\u6211\u4eec\u53ef\u4ee5\u5c06 TCP / IP \u6a21\u578b\u770b\u4f5c\u662f OSI \u4e03\u5c42\u6a21\u578b\u7684\u7cbe\u7b80\u7248\u672c\uff0c\u7531\u4ee5\u4e0b 4 \u5c42\u7ec4\u6210\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5e94\u7528\u5c42"),(0,l.kt)("li",{parentName:"ol"},"\u4f20\u8f93\u5c42"),(0,l.kt)("li",{parentName:"ol"},"\u7f51\u7edc\u5c42"),(0,l.kt)("li",{parentName:"ol"},"\u7f51\u7edc\u63a5\u53e3\u5c42")),(0,l.kt)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6211\u4eec\u5e76\u4e0d\u80fd\u5c06 TCP/IP \u56db\u5c42\u6a21\u578b \u548c OSI \u4e03\u5c42\u6a21\u578b\u5b8c\u5168\u7cbe\u786e\u5730\u5339\u914d\u8d77\u6765\uff0c\u4e0d\u8fc7\u53ef\u4ee5\u7b80\u5355\u5c06\u4e24\u8005\u5bf9\u5e94\u8d77\u6765\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617141758284",src:n(71119).Z,width:"713",height:"425"})),(0,l.kt)("h6",{id:"\u5e94\u7528\u5c42application-layer"},"\u5e94\u7528\u5c42\uff08Application layer\uff09"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5c42\u4f4d\u4e8e\u4f20\u8f93\u5c42\u4e4b\u4e0a\uff0c\u4e3b\u8981\u63d0\u4f9b\u4e24\u4e2a\u7ec8\u7aef\u8bbe\u5907\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f\u4e4b\u95f4\u4fe1\u606f\u4ea4\u6362\u7684\u670d\u52a1\uff0c\u5b83\u5b9a\u4e49\u4e86\u4fe1\u606f\u4ea4\u6362\u7684\u683c\u5f0f\uff0c\u6d88\u606f\u4f1a\u4ea4\u7ed9\u4e0b\u4e00\u5c42\u4f20\u8f93\u5c42\u6765\u4f20\u8f93\u3002")," \u6211\u4eec\u628a\u5e94\u7528\u5c42\u4ea4\u4e92\u7684\u6570\u636e\u5355\u5143\u79f0\u4e3a\u62a5\u6587\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617141814110",src:n(74201).Z,width:"519",height:"377"})),(0,l.kt)("p",null,"\u5e94\u7528\u5c42\u534f\u8bae\u5b9a\u4e49\u4e86\u7f51\u7edc\u901a\u4fe1\u89c4\u5219\uff0c\u5bf9\u4e8e\u4e0d\u540c\u7684\u7f51\u7edc\u5e94\u7528\u9700\u8981\u4e0d\u540c\u7684\u5e94\u7528\u5c42\u534f\u8bae\u3002\u5728\u4e92\u8054\u7f51\u4e2d\u5e94\u7528\u5c42\u534f\u8bae\u5f88\u591a\uff0c\u5982\u652f\u6301 Web \u5e94\u7528\u7684 HTTP \u534f\u8bae\uff0c\u652f\u6301\u7535\u5b50\u90ae\u4ef6\u7684 SMTP \u534f\u8bae\u7b49\u7b49\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617141821818",src:n(22903).Z,width:"479",height:"354"})),(0,l.kt)("h6",{id:"\u4f20\u8f93\u5c42transport-layer"},"\u4f20\u8f93\u5c42\uff08Transport layer\uff09"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4f20\u8f93\u5c42\u7684\u4e3b\u8981\u4efb\u52a1\u5c31\u662f\u8d1f\u8d23\u5411\u4e24\u53f0\u7ec8\u7aef\u8bbe\u5907\u8fdb\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\u63d0\u4f9b\u901a\u7528\u7684\u6570\u636e\u4f20\u8f93\u670d\u52a1\u3002")," \u5e94\u7528\u8fdb\u7a0b\u5229\u7528\u8be5\u670d\u52a1\u4f20\u9001\u5e94\u7528\u5c42\u62a5\u6587\u3002\u201c\u901a\u7528\u7684\u201d\u662f\u6307\u5e76\u4e0d\u9488\u5bf9\u67d0\u4e00\u4e2a\u7279\u5b9a\u7684\u7f51\u7edc\u5e94\u7528\uff0c\u800c\u662f\u591a\u79cd\u5e94\u7528\u53ef\u4ee5\u4f7f\u7528\u540c\u4e00\u4e2a\u8fd0\u8f93\u5c42\u670d\u52a1\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8fd0\u8f93\u5c42\u4e3b\u8981\u4f7f\u7528\u4ee5\u4e0b\u4e24\u79cd\u534f\u8bae\uff1a")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4f20\u8f93\u63a7\u5236\u534f\u8bae TCP"),"\uff08Transmisson Control Protocol\uff09--\u63d0\u4f9b",(0,l.kt)("strong",{parentName:"li"},"\u9762\u5411\u8fde\u63a5"),"\u7684\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u53ef\u9760\u7684"),"\u6570\u636e\u4f20\u8f93\u670d\u52a1\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u7528\u6237\u6570\u636e\u534f\u8bae UDP"),"\uff08User Datagram Protocol\uff09--\u63d0\u4f9b",(0,l.kt)("strong",{parentName:"li"},"\u65e0\u8fde\u63a5"),"\u7684\uff0c\u5c3d\u6700\u5927\u52aa\u529b\u7684\u6570\u636e\u4f20\u8f93\u670d\u52a1\uff08",(0,l.kt)("strong",{parentName:"li"},"\u4e0d\u4fdd\u8bc1\u6570\u636e\u4f20\u8f93\u7684\u53ef\u9760\u6027"),"\uff09\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617141843078",src:n(30508).Z,width:"477",height:"191"})),(0,l.kt)("h6",{id:"\u7f51\u7edc\u5c42network-layer"},"\u7f51\u7edc\u5c42\uff08Network layer\uff09"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7f51\u7edc\u5c42\u8d1f\u8d23\u4e3a\u5206\u7ec4\u4ea4\u6362\u7f51\u4e0a\u7684\u4e0d\u540c\u4e3b\u673a\u63d0\u4f9b\u901a\u4fe1\u670d\u52a1\u3002")," \u5728\u53d1\u9001\u6570\u636e\u65f6\uff0c\u7f51\u7edc\u5c42\u628a\u8fd0\u8f93\u5c42\u4ea7\u751f\u7684\u62a5\u6587\u6bb5\u6216\u7528\u6237\u6570\u636e\u62a5\u5c01\u88c5\u6210\u5206\u7ec4\u548c\u5305\u8fdb\u884c\u4f20\u9001\u3002\u5728 TCP/IP \u4f53\u7cfb\u7ed3\u6784\u4e2d\uff0c\u7531\u4e8e\u7f51\u7edc\u5c42\u4f7f\u7528 IP \u534f\u8bae\uff0c\u56e0\u6b64\u5206\u7ec4\u4e5f\u53eb IP \u6570\u636e\u62a5\uff0c\u7b80\u79f0\u6570\u636e\u62a5\u3002"),(0,l.kt)("p",null,"\u26a0\ufe0f\u6ce8\u610f \uff1a",(0,l.kt)("strong",{parentName:"p"},"\u4e0d\u8981\u628a\u8fd0\u8f93\u5c42\u7684\u201c\u7528\u6237\u6570\u636e\u62a5 UDP\u201d\u548c\u7f51\u7edc\u5c42\u7684\u201cIP \u6570\u636e\u62a5\u201d\u5f04\u6df7"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7f51\u7edc\u5c42\u7684\u8fd8\u6709\u4e00\u4e2a\u4efb\u52a1\u5c31\u662f\u9009\u62e9\u5408\u9002\u7684\u8def\u7531\uff0c\u4f7f\u6e90\u4e3b\u673a\u8fd0\u8f93\u5c42\u6240\u4f20\u4e0b\u6765\u7684\u5206\u7ec4\uff0c\u80fd\u901a\u8fc7\u7f51\u7edc\u5c42\u4e2d\u7684\u8def\u7531\u5668\u627e\u5230\u76ee\u7684\u4e3b\u673a\u3002")),(0,l.kt)("p",null,"\u8fd9\u91cc\u5f3a\u8c03\u6307\u51fa\uff0c\u7f51\u7edc\u5c42\u4e2d\u7684\u201c\u7f51\u7edc\u201d\u4e8c\u5b57\u5df2\u7ecf\u4e0d\u662f\u6211\u4eec\u901a\u5e38\u8c08\u5230\u7684\u5177\u4f53\u7f51\u7edc\uff0c\u800c\u662f\u6307\u8ba1\u7b97\u673a\u7f51\u7edc\u4f53\u7cfb\u7ed3\u6784\u6a21\u578b\u4e2d\u7b2c\u4e09\u5c42\u7684\u540d\u79f0\u3002"),(0,l.kt)("p",null,"\u4e92\u8054\u7f51\u662f\u7531\u5927\u91cf\u7684\u5f02\u6784\uff08heterogeneous\uff09\u7f51\u7edc\u901a\u8fc7\u8def\u7531\u5668\uff08router\uff09\u76f8\u4e92\u8fde\u63a5\u8d77\u6765\u7684\u3002\u4e92\u8054\u7f51\u4f7f\u7528\u7684\u7f51\u7edc\u5c42\u534f\u8bae\u662f\u65e0\u8fde\u63a5\u7684\u7f51\u9645\u534f\u8bae\uff08Intert Prococol\uff09\u548c\u8bb8\u591a\u8def\u7531\u9009\u62e9\u534f\u8bae\uff0c\u56e0\u6b64\u4e92\u8054\u7f51\u7684\u7f51\u7edc\u5c42\u4e5f\u53eb\u505a",(0,l.kt)("strong",{parentName:"p"},"\u7f51\u9645\u5c42"),"\u6216",(0,l.kt)("strong",{parentName:"p"},"IP \u5c42"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617141854709",src:n(74434).Z,width:"479",height:"354"})),(0,l.kt)("h6",{id:"\u7f51\u7edc\u63a5\u53e3\u5c42network-interface-layer"},"\u7f51\u7edc\u63a5\u53e3\u5c42\uff08Network interface layer\uff09"),(0,l.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u628a\u7f51\u7edc\u63a5\u53e3\u5c42\u770b\u4f5c\u662f\u6570\u636e\u94fe\u8def\u5c42\u548c\u7269\u7406\u5c42\u7684\u5408\u4f53\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u6570\u636e\u94fe\u8def\u5c42(data link layer)\u901a\u5e38\u7b80\u79f0\u4e3a\u94fe\u8def\u5c42\uff08 \u4e24\u53f0\u4e3b\u673a\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93\uff0c\u603b\u662f\u5728\u4e00\u6bb5\u4e00\u6bb5\u7684\u94fe\u8def\u4e0a\u4f20\u9001\u7684\uff09\u3002",(0,l.kt)("strong",{parentName:"li"},"\u6570\u636e\u94fe\u8def\u5c42\u7684\u4f5c\u7528\u662f\u5c06\u7f51\u7edc\u5c42\u4ea4\u4e0b\u6765\u7684 IP \u6570\u636e\u62a5\u7ec4\u88c5\u6210\u5e27\uff0c\u5728\u4e24\u4e2a\u76f8\u90bb\u8282\u70b9\u95f4\u7684\u94fe\u8def\u4e0a\u4f20\u9001\u5e27\u3002\u6bcf\u4e00\u5e27\u5305\u62ec\u6570\u636e\u548c\u5fc5\u8981\u7684\u63a7\u5236\u4fe1\u606f\uff08\u5982\u540c\u6b65\u4fe1\u606f\uff0c\u5730\u5740\u4fe1\u606f\uff0c\u5dee\u9519\u63a7\u5236\u7b49\uff09\u3002")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u7269\u7406\u5c42\u7684\u4f5c\u7528\u662f\u5b9e\u73b0\u76f8\u90bb\u8ba1\u7b97\u673a\u8282\u70b9\u4e4b\u95f4\u6bd4\u7279\u6d41\u7684\u900f\u660e\u4f20\u9001\uff0c\u5c3d\u53ef\u80fd\u5c4f\u853d\u6389\u5177\u4f53\u4f20\u8f93\u4ecb\u8d28\u548c\u7269\u7406\u8bbe\u5907\u7684\u5dee\u5f02"))),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220617141907476",src:n(81905).Z,width:"479",height:"354"})),(0,l.kt)("h5",{id:"tcp\u6d41\u91cf\u63a7\u5236"},"TCP\u6d41\u91cf\u63a7\u5236"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"TCP \u5229\u7528\u6ed1\u52a8\u7a97\u53e3\u5b9e\u73b0\u6d41\u91cf\u63a7\u5236\u3002\u6d41\u91cf\u63a7\u5236\u662f\u4e3a\u4e86\u63a7\u5236\u53d1\u9001\u65b9\u53d1\u9001\u901f\u7387\uff0c\u4fdd\u8bc1\u63a5\u6536\u65b9\u6765\u5f97\u53ca\u63a5\u6536\u3002")," \u63a5\u6536\u65b9\u53d1\u9001\u7684\u786e\u8ba4\u62a5\u6587\u4e2d\u7684\u7a97\u53e3\u5b57\u6bb5\u53ef\u4ee5\u7528\u6765\u63a7\u5236\u53d1\u9001\u65b9\u7a97\u53e3\u5927\u5c0f\uff0c\u4ece\u800c\u5f71\u54cd\u53d1\u9001\u65b9\u7684\u53d1\u9001\u901f\u7387\u3002\u5c06\u7a97\u53e3\u5b57\u6bb5\u8bbe\u7f6e\u4e3a 0\uff0c\u5219\u53d1\u9001\u65b9\u4e0d\u80fd\u53d1\u9001\u6570\u636e"),(0,l.kt)("p",null,"\ud83c\udf30 \u76f4\u63a5\u4e3e\u6817\u5b50\u8bf4\u660e\uff0c\u8bf7\u7ed3\u5408\u56fe\u8010\u5fc3\u9605\u8bfb\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u4e3b\u673aA\u901a\u8fc7TCP\u62a5\u6587\u53d1\u9001\u7ed9\u4e3b\u673aB 1-100\u5b57\u8282 \uff08seq\u662f\u5e8f\u53f7\u5b57\u6bb5\uff0c DATA\u662f\u8868\u793a\u662f\u6570\u636e\u62a5\u6587\u6bb5\uff09"),(0,l.kt)("li",{parentName:"ol"},"\u4e3b\u673aA\u53c8\u901a\u8fc7TCP\u62a5\u6587\u53d1\u9001\u7ed9\u4e3b\u673aB 101-200\u5b57\u8282\uff08\u6240\u4ee5\u8fd9\u91cc\u7684seq\u662f101\uff09"),(0,l.kt)("li",{parentName:"ol"},"\u4e3b\u673aA\u53c8\u901a\u8fc7TCP\u62a5\u6587\u5c01\u88c5\u53d1\u9001\u7ed9\u6ce8\u89e3B 201-300\u5b57\u8282\uff0c\u4f46\u662f\u53d1\u751f\u4e86\u4e22\u5931 \ud83c\udff3\ufe0f",(0,l.kt)("ol",{parentName:"li"},(0,l.kt)("li",{parentName:"ol"},"\u6b64\u65f6\u4e3b\u673aB\u5bf9\u4e3b\u673aA\u8fdb\u884c",(0,l.kt)("strong",{parentName:"li"},"\u7d2f\u8ba1\u786e\u8ba4"),"\uff08ACK\uff1aTCP\u62a5\u6587\u6bb5\u9996\u90e8\u4e2d\u7684\u6807\u5fd7\u4f4d\uff1back\uff1a\u786e\u8ba4\u62a5\u6587\u6bb5\uff0c201\u662f\u8bf4\u660e201\u4ee5\u524d\u7684\u6570\u636e\u5df2\u5168\u90e8\u6b63\u786e\u63a5\u6536\uff1brwnd\u6ed1\u52a8\u7a97\u53e3\u5b57\u6bb5\uff0c300\u8868\u793a\u53ef\u4ee5\u63a5\u6536\u7684\u7a97\u53e3\u5927\u5c0f\u4e3a300\uff09"),(0,l.kt)("li",{parentName:"ol"},"\u6ed1\u52a8\u7a97\u53e3\uff0c\u6ed1\u5230201-600\u7684\u4f4d\u7f6e\uff08\u56e0\u4e3a\u521d\u59cb\u7a97\u53e3\u7684\u5927\u5c0f\u4e3a400\uff09"),(0,l.kt)("li",{parentName:"ol"},"\u8c03\u6574\u7a97\u53e3\u5927\u5c0f\uff0c\u6b64\u65f6\u7a97\u53e3\u4f4d\u7f6e\u4e3a201-500\uff08\u56e0\u4e3arwnd\u73b0\u5728\u4e3a300\uff09"))),(0,l.kt)("li",{parentName:"ol"},"\u4e3b\u673aA\u5220\u96641-200\u7684\u7f13\u5b58\u6570\u636e\uff08\u56e0\u4e3a\u6b65\u9aa43\u4e2d\u5df2\u7ecf\u8bf4\u660e\u4e86201\u4e4b\u524d\u7684\u6570\u636e\u5df2\u7ecf\u786e\u8ba4\u63a5\u6536\uff09"),(0,l.kt)("li",{parentName:"ol"},"\u4e3b\u673aA\u8bb2301-400\u7684\u6570\u636e\u5c01\u88c5\u6210TCP\u53d1\u9001\u7ed9\u4e3b\u673aB\uff08\u6b64\u65f6201-500\u7684\u6570\u636e\u5df2\u7ecf\u5168\u90e8\u53d1\u9001\u51fa\u53bb\uff09"),(0,l.kt)("li",{parentName:"ol"},"\u91cd\u4f20\u8ba1\u65f6\u5668\u5f00\u59cb\u8ba1\u65f6\uff0c\u4e3b\u673aA\u628a201-500\u7684\u6570\u636e\u5c01\u88c5\u6210TCP\u62a5\u6587\u6bb5\u91cd\u65b0\u53d1\u9001\u51fa\u53bb\uff08\u7ed9B\uff09"),(0,l.kt)("li",{parentName:"ol"},"\u6b64\u65f6\u4e3b\u673aB\u5bf9\u4e3b\u673aA\u8fdb\u884c",(0,l.kt)("strong",{parentName:"li"},"\u7d2f\u8ba1\u786e\u8ba4"),"\uff08ACK=1\uff0cack=501\uff1a\u786e\u8ba4501\u4e4b\u524d\u7684\u6570\u636e\uff0crwnd=100\uff1a\u6b64\u65f6\u4e3b\u673aB\u8fd8\u80fd\u63a5\u6536100\u5b57\u8282\u7684\u6570\u636e\uff09",(0,l.kt)("ol",{parentName:"li"},(0,l.kt)("li",{parentName:"ol"},"\u6b64\u65f6\u6ed1\u52a8\u7a97\u53e3\u4ece501-800\uff08\u7a97\u53e3\u5927\u5c0f\u4e3a300\uff09"),(0,l.kt)("li",{parentName:"ol"},"\u56e0\u4e3a\u6536\u5230\u4e3b\u673aB\u7684rwnd=100\uff0c\u6240\u4ee5\u8c03\u6574\u7a97\u53e3\u5927\u5c0f\u4e3a501-600"))),(0,l.kt)("li",{parentName:"ol"},"\u5220\u9664501\u4e4b\u524d\u7684\u6570\u636e\u7f13\u5b58"),(0,l.kt)("li",{parentName:"ol"},"\u5c01\u88c5\u6210TCP\u62a5\u6587\u9001501-600\u7684\u6570\u636e"),(0,l.kt)("li",{parentName:"ol"},"\u6b64\u65f6\u4e3b\u673aB\u53c8\u5bf9\u4e3b\u673aA\u8fdb\u884c",(0,l.kt)("strong",{parentName:"li"},"\u7d2f\u8ba1\u786e\u8ba4"),"\uff08ACK=1\uff0cack=601\uff0crwnd=0\uff09\u6b64\u65f6\u4e3b\u673aA\u4e0d\u80fd\u518d\u53d1\u9001\u4e86\uff0c\u53d1\u9001\u7a97\u53e3\u88ab\u8c03\u63a7\u4e3a0")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622144025833",src:n(94701).Z,width:"877",height:"495"})),(0,l.kt)("p",null,"\ud83d\udca8\u5047\u8bbe\u4e0d\u4e45\u4e4b\u540e\uff0c\u4e3b\u673aB\u53c8\u6709\u4e86\u4e00\u4e9b\u5b58\u50a8\u7a7a\u95f4\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u4e3b\u673aB\u5bf9\u4e3b\u673aA\u53d1\u9001\u4e00\u4e2arwnd=300\u7684\u62a5\u6587\u6bb5\uff0c\u4f46\u662f\u8fd9\u4e2a\u62a5\u6587\u6bb5\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e22\u5931\u4e86",(0,l.kt)("ol",{parentName:"li"},(0,l.kt)("li",{parentName:"ol"},"A\u4e00\u76f4\u7b49\u5f85B\u53d1\u9001\u7684\u975e\u96f6\u7a97\u53e3\u901a\u77e5\uff0cB\u4e5f\u4e00\u76f4\u7b49\u5f85A\u53d1\u9001\u7684\u6570\u636e\uff08\u7ecf\u5178\u6b7b\u9501\uff09"),(0,l.kt)("li",{parentName:"ol"},"TCP\u89e3\u51b3\u65b9\u6848\uff1a\u8bbe\u7acb\u5b9a\u65f6\u5668\uff1b\u6240\u4ee5\u4e3b\u673aA\u4f1a\u542f\u52a8\u4e00\u4e2a\u6301\u7eed\u8ba1\u65f6\u5668"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u6301\u7eed\u8ba1\u65f6\u5668\u8d85\u65f6\uff0c\u5c31\u4f1a\u53d1\u9001\u4e00\u4e2a\u96f6\u7a97\u53e3\u63a2\u6d4b\u62a5\u6587\u6bb5\uff08\u643a\u5e261\u5b57\u8282\u6570\u636e\uff09\u3010\u62d3\u5c55\uff1a\u96f6\u7a97\u53e3\u63a2\u6d4b\u62a5\u6587\u6bb5\u4e5f\u6709\u6301\u7eed\u8ba1\u65f6\u5668\uff0c\u5982\u679c\u4e22\u5931\u4e86\u4e5f\u4f1a\u8fdb\u884c\u91cd\u4f20\u907f\u514d\u6b7b\u9501\u3011"))),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u73b0\u5728\u4e3b\u673aB\u53c8\u6ca1\u6709\u7a7a\u95f4\u4e86\uff0c\u5c31\u4f1a\u53d1\u9001\u4e00\u4e2a\u7a97\u53e3\u63a2\u6d4b\u62a5\u6587\u6bb5\u8fdb\u884c\u786e\u8ba4\uff08ACK=1 rwnd=0\uff09"),(0,l.kt)("li",{parentName:"ol"},"\u4e3b\u673aA\u63a5\u6536\u5230\u4e86\u4f1a\u53c8\u542f\u52a8\u4e00\u4e2a\u6301\u7eed\u8ba1\u65f6\u5668\uff0c\u5982\u679c\u4e3b\u673aB\u53c8\u6709\u4e86\u5b58\u50a8\u7a7a\u95f4\uff08\u5047\u8bbe\u73b0\u5728\u4e3a300\uff09\uff0c\u90a3\u4e48\u5c31\u4f1a\u53d1\u9001\u4e00\u4e2a\u63a5\u6536\u7a97\u53e3\uff08ACK=1\uff0crwnd=300\uff09")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622144903957",src:n(43627).Z,width:"951",height:"492"})),(0,l.kt)("h5",{id:"tcp\u62e5\u585e\u63a7\u5236"},"TCP\u62e5\u585e\u63a7\u5236"),(0,l.kt)("p",null,"\u56db\u79cd\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\uff1a\u6162\u5f00\u59cb\u3001\u62e5\u585e\u907f\u514d\u3001\u5feb\u91cd\u4f20\uff0c\u5feb\u6062\u590d"),(0,l.kt)("h6",{id:"\u6162\u5f00\u59cb\u62e5\u585e\u907f\u514d"},"\u6162\u5f00\u59cb\u3001\u62e5\u585e\u907f\u514d"),(0,l.kt)("p",null,"\u5047\u8bbe\u53d1\u9001\u65b9cwnd=1,swnd=cwnd,ssthresh=16"),(0,l.kt)("p",null,"\u6162\u5f00\u59cb\u5c0f\u7ed3\uff1a\u6ed1\u52a8\u7a97\u53e3\u9010\u6e10\u589e\u5927"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u53d1\u9001\u65b9\u7ed9\u63a5\u6536\u65b9\u53d1\u9001\u62a5\u6587\u6bb5\uff0c\u53d1\u9001\u65b9\u63a5\u6536\u5230\u4e86\u63a5\u6536\u65b9\u7684\u786e\u8ba4\u62a5\u6587\u6bb5\u540e\u5c06\u7a97\u53e3\u589e\u59271 (1+1=2)\uff0c\u6b64\u65f6\u53d1\u9001\u53d1\u53ef\u4ee5\u53d1\u90012\u53f7\u6570\u636e\u62a5\u6587\u6bb5")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622145827589",src:n(36312).Z,width:"736",height:"242"})),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"\u6b64\u65f6\u53d1\u9001\u53d1\u53c8\u53d1\u90011~2\u62a5\u6587\u6bb5\uff0c\u63a5\u6536\u65b9\u786e\u8ba4\u540e\uff0c\u53d1\u9001\u65b9\u5c06\u7a97\u53e3\u589e\u5927\u4e3a4\uff082+2=4\uff09\uff0c\u53d1\u9001\u53d1\u73b0\u5728\u53ef\u4ee5\u53d1\u90013~6\u53f7\u6570\u636e\u62a5\u6587\u6bb5")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622150047014",src:n(62998).Z,width:"748",height:"240"})),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"\u6b64\u65f6\u53d1\u9001\u53d1\u53c8\u53d1\u90013~6\u62a5\u6587\u6bb5\uff0c\u63a5\u6536\u65b9\u786e\u8ba4\u540e\uff0c\u53d1\u9001\u65b9\u5c06\u7a97\u53e3\u589e\u5927\u4e3a4\uff084+4=8\uff09\uff0c\u53d1\u9001\u53d1\u73b0\u5728\u53ef\u4ee5\u53d1\u90017~14\u53f7\u6570\u636e\u62a5\u6587\u6bb5")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622150158817",src:n(89259).Z,width:"747",height:"241"})),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"\u540c\u7406\u53ef\u4ee5\u589e\u52a0\u523016\u7684\u7a97\u53e3\u5927\u5c0f")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622150303164",src:n(74212).Z,width:"735",height:"238"})),(0,l.kt)("ol",{start:5},(0,l.kt)("li",{parentName:"ol"},"\u6b64\u65f6\u5f00\u59cb",(0,l.kt)("strong",{parentName:"li"},"\u62e5\u585e\u907f\u514d"),"\u7b97\u6cd5\uff1a\u5bf9\u62a5\u6587\u6bb515~30\u53f7\u8fdb\u884c\u53d1\u9001\u548c\u786e\u8ba4\uff0c\u6b64\u65f6cwnd\u4ece16 + 1 = 17\uff0c")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622150515511",src:n(52655).Z,width:"184",height:"225"})),(0,l.kt)("ol",{start:6},(0,l.kt)("li",{parentName:"ol"},"\u6b64\u65f6\u53ef\u4ee5\u5bf9TCP\u62a5\u6587\u6bb531~47\u53f7\u8fdb\u884c\u53d1\u9001\u548c\u786e\u8ba4\uff0c\u53d1\u9001\u65b9\u6536\u5230\u540e\u7a97\u53e3\u4ece17\u589e\u5927\u523018\uff0817+1\uff09")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622150617743",src:n(82494).Z,width:"190",height:"244"})),(0,l.kt)("ol",{start:7},(0,l.kt)("li",{parentName:"ol"},"\u4ee5\u6b64\u7c7b\u63a8\uff0c\u5f53\u589e\u52a0\u523024\u7684\u6ed1\u52a8\u7a97\u53e3\u65f6\uff0c\u6b64\u65f6TCP\u5bf9171~194\u62a5\u6587\u6bb5\u8fdb\u884c\u53d1\u9001\u548c\u786e\u8ba4")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622150715342",src:n(14560).Z,width:"309",height:"224"})),(0,l.kt)("p",null,"\u5982\u679c\u6b64\u65f6\u62a5\u6587\u6bb5\u53d1\u751f\u4e86\u4e22\u5931\uff0c\u90a3\u4e48\u5c31\u4f1a\u8fdb\u884c\u91cd\u4f20\u8ba1\u65f6\u5668\u8d85\u65f6\uff08\u5224\u65ad\u7f51\u7edc\u51fa\u73b0\u4e86\u62e5\u585e\uff09\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5c06ssthresh\u503c\u66f4\u65b0\u4e3a\u53d1\u751f\u62e5\u585e\u63a7\u5236\u65f6cwnd\u503c\u7684\u4e00\u534a\uff08ssthresh = 24 / 2 = 12\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u5c06cwnd\u503c\u51cf\u5c11\u4e3a1\uff0c\u5e76\u5f00\u59cb\u6267\u884c\u6162\u5f00\u59cb\u7b97\u6cd5\uff08cwnd=1\uff09")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622152317600",src:n(59813).Z,width:"339",height:"222"})),(0,l.kt)("ol",{start:8},(0,l.kt)("li",{parentName:"ol"},"\u53c8\u5f00\u59cb\u6162\u5f00\u59cb\u7b97\u6cd5\uff0c\u76f4\u5230\u8fbe\u5230\u6162\u5f00\u59cb\u95e8\u9650\u503c")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622152350238",src:n(10174).Z,width:"584",height:"241"})),(0,l.kt)("p",null,"\u6574\u4f53\u6d41\u7a0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622152551749",src:n(95395).Z,width:"946",height:"477"})),(0,l.kt)("h6",{id:"\u5feb\u91cd\u4f20\u5feb\u6062\u590d"},"\u5feb\u91cd\u4f20\u3001\u5feb\u6062\u590d"),(0,l.kt)("p",null,"\u5feb\u91cd\u4f20\u7b80\u6d01\u8bf4\u660e\uff1a\u5f53\u53d1\u9001\u53d1\u6536\u52303\u4e2a\u8fde\u7eed\u91cd\u590d\u786e\u8ba4\uff0c\u5c31\u5c06\u76f8\u5e94\u7684\u62a5\u6587\u6bb5\u7acb\u5373\u91cd\u4f20\uff08\u56fe\u4e2d\u76843\u4e2a\u786e\u8ba4\u62a5\u6587\u6bb5\u4e3a\uff1aM4 M5 M6\uff0c\u6700\u540e\u7acb\u5373\u91cd\u4f20M3\u3010M3\u4e22\u5931\u3011\uff09"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622153534786",src:n(44421).Z,width:"619",height:"255"})),(0,l.kt)("p",null,"\u5feb\u6062\u590d\u7b80\u6d01\u8bf4\u660e\uff1a\u53d1\u9001\u65b9\u4e00\u65e6\u6536\u52303\u4e2a\u91cd\u590d\u786e\u8ba4\uff0c\u5c31\u77e5\u9053\u73b0\u5728\u53ea\u662f\u4e22\u5931\u4e86\u4e2a\u522b\u7684\u62a5\u6587\u6bb5\u3002\u4e8e\u662f",(0,l.kt)("strong",{parentName:"p"},"\u4e0d\u542f\u52a8\u6162\u5f00\u59cb"),"\u7b97\u6cd5\uff0c\u800c\u6267\u884c\u5feb\u6062\u590d\u7b97\u6cd5\uff1b\u53d1\u9001\u65b9\u5c06\u6162\u5f00\u59cb\u95e8\u9650ssthresh\u503c\u548c\u62e5\u585e\u7a97\u53e3cwnd\u503c\u8c03\u6574\u4e3a\u5f53\u524d\u7a97\u53e3\u7684\u4e00\u534a\uff1b",(0,l.kt)("strong",{parentName:"p"},"\u5f00\u59cb\u6267\u884c\u62e5\u585e\u907f\u514d\u7b97\u6cd5"),"\u3002"),(0,l.kt)("p",null,"\u6574\u4f53\u6d41\u7a0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622153028675",src:n(59187).Z,width:"943",height:"371"})),(0,l.kt)("h5",{id:"tcp\u53ef\u9760\u4f20\u8f93"},"TCP\u53ef\u9760\u4f20\u8f93"),(0,l.kt)("p",null,"\u53d1\u9001\u65b9\u5982\u679c\u53d1\u9001\u4e8632~33\u53f7\u62a5\u6587\u6bb5\u7ed9\u63a5\u6536\u65b9"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622160349594",src:n(36941).Z,width:"959",height:"420"})),(0,l.kt)("p",null,"\u90a3\u4e48\u63a5\u6536\u65b9\u4f1a\u63a5\u6536\u5b83\u4eec\uff0c\u5b58\u5165\u7f13\u5b58\uff1b\u56e0\u4e3a31\u53f7\u5143\u7d20\u8fd8\u6ca1\u6709\u5230\u8fbe\uff0c\u8fd9\u662f\u672a\u6309\u5e8f\u5230\u8fbe\u7684\u6570\u636e"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622160614260",src:n(28947).Z,width:"957",height:"461"})),(0,l.kt)("p",null,"\u5047\u8bbe31\u53f7\u62a5\u6587\u6bb5\u5230\u8fbe\u4e86\u63a5\u6536\u65b9\uff0c\u5b58\u5165\u5230\u63a5\u6536\u7f13\u5b58\uff0c\u63a5\u6536\u65b9\u63a5\u6536\u4e86\u4e4b\u540e\u5c31\u4f1a\u628a31~33\u53f7\u6570\u636e\u4ea4\u4ed8\u7ed9\u5e94\u7528\u8fdb\u7a0b\uff1b\u63a5\u6536\u65b9\u4f1a\u5411\u53f3\u6ed1\u52a83\u4e2a\u7a97\u53e3\uff0c\u5e76\u53d1\u9001\u7ed9\u53d1\u9001\u53d1\u786e\u8ba4\u62a5\u6587\u6bb5"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622160757115",src:n(57396).Z,width:"956",height:"423"})),(0,l.kt)("p",null,"\u5982\u679c\u53d1\u9001\u65b9\u53c8\u53d1\u9001\u4e86\u4e09\u4e2a\u6570\u636e\uff0837\u300138\u300140\uff09\uff0c\u63a5\u6536\u7aef\u63a5\u53d7\u4e86\u4e4b\u540e\u4f1a\u53d1\u9001\u786e\u8ba4\u62a5\u6587\u6bb5\uff08rwnd=20, ack=34\uff09\uff0c\u90a3\u4e48\u53d1\u9001\u65b9\u7684\u7a97\u53e3\u4e5f\u4f1a\u5411\u53f3\u79fb\u52a83\u4f4d"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622161106757",src:n(45097).Z,width:"959",height:"410"})),(0,l.kt)("h5",{id:"http"},"HTTP"),(0,l.kt)("p",null,"HTTP \u534f\u8bae\uff0c\u5168\u79f0\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff08Hypertext Transfer Protocol\uff09\u3002\u987e\u540d\u601d\u4e49\uff0cHTTP \u534f\u8bae\u5c31\u662f\u7528\u6765\u89c4\u8303\u8d85\u6587\u672c\u7684\u4f20\u8f93\uff0c\u8d85\u6587\u672c\uff0c\u4e5f\u5c31\u662f\u7f51\u7edc\u4e0a\u7684\u5305\u62ec\u6587\u672c\u5728\u5185\u7684\u5404\u5f0f\u5404\u6837\u7684\u6d88\uff0c\u5177\u4f53\u6765\u8bf4\uff0c\u4e3b\u8981\u662f\u6765\u89c4\u8303\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u7aef\u7684\u884c\u4e3a\u7684\u3002"),(0,l.kt)("p",null,"\u5e76\u4e14\uff0cHTTP \u662f\u4e00\u4e2a\u65e0\u72b6\u6001\uff08stateless\uff09\u534f\u8bae\uff0c\u4e5f\u5c31\u662f\u8bf4\u670d\u52a1\u5668\u4e0d\u7ef4\u62a4\u4efb\u4f55\u6709\u5173\u5ba2\u6237\u7aef\u8fc7\u53bb\u6240\u53d1\u8bf7\u6c42\u7684\u6d88\u606f\u3002\u8fd9\u5176\u5b9e\u662f\u4e00\u79cd\u61d2\u653f\uff0c\u6709\u72b6\u6001\u534f\u8bae\u4f1a\u66f4\u52a0\u590d\u6742\uff0c\u9700\u8981\u7ef4\u62a4\u72b6\u6001\uff08\u5386\u53f2\u4fe1\u606f\uff09\uff0c\u800c\u4e14\u5982\u679c\u5ba2\u6237\u6216\u670d\u52a1\u5668\u5931\u6548\uff0c\u4f1a\u4ea7\u751f\u72b6\u6001\u7684\u4e0d\u4e00\u81f4\uff0c\u89e3\u51b3\u8fd9\u79cd\u4e0d\u4e00\u81f4\u7684\u4ee3\u4ef7\u66f4\u9ad8\u3002"),(0,l.kt)("h6",{id:"\u901a\u4fe1\u8fc7\u7a0b"},"\u901a\u4fe1\u8fc7\u7a0b"),(0,l.kt)("p",null,"HTTP \u662f\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5b83\u4ee5 TCP\uff08\u4f20\u8f93\u5c42\uff09\u4f5c\u4e3a\u5e95\u5c42\u534f\u8bae\uff0c\u9ed8\u8ba4\u7aef\u53e3\u4e3a 80. \u901a\u4fe1\u8fc7\u7a0b\u4e3b\u8981\u5982\u4e0b\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u670d\u52a1\u5668\u5728 80 \u7aef\u53e3\u7b49\u5f85\u5ba2\u6237\u7684\u8bf7\u6c42\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u6d4f\u89c8\u5668\u53d1\u8d77\u5230\u670d\u52a1\u5668\u7684 TCP \u8fde\u63a5\uff08\u521b\u5efa\u5957\u63a5\u5b57 Socket\uff09\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u670d\u52a1\u5668\u63a5\u6536\u6765\u81ea\u6d4f\u89c8\u5668\u7684 TCP \u8fde\u63a5\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u6d4f\u89c8\u5668\uff08HTTP \u5ba2\u6237\u7aef\uff09\u4e0e Web \u670d\u52a1\u5668\uff08HTTP \u670d\u52a1\u5668\uff09\u4ea4\u6362 HTTP \u6d88\u606f\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5173\u95ed TCP \u8fde\u63a5\u3002")),(0,l.kt)("h5",{id:"https"},"HTTPS"),(0,l.kt)("p",null,"\u56e0\u4e3a HTTPS \u76f8\u6bd4 HTTP \u534f\u8bae\u591a\u4e00\u4e2a TLS \u534f\u8bae\u63e1\u624b\u8fc7\u7a0b\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u76ee\u7684\u662f\u4e3a\u4e86\u901a\u8fc7\u975e\u5bf9\u79f0\u52a0\u5bc6\u63e1\u624b\u534f\u5546\u6216\u8005\u4ea4\u6362\u51fa\u5bf9\u79f0\u52a0\u5bc6\u5bc6\u94a5"),"\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u6700\u957f\u53ef\u4ee5\u82b1\u8d39\u6389 2 RTT\uff0c\u63a5\u7740\u540e\u7eed\u4f20\u8f93\u7684\u5e94\u7528\u6570\u636e\u90fd\u5f97\u4f7f\u7528\u5bf9\u79f0\u52a0\u5bc6\u5bc6\u94a5\u6765\u52a0\u5bc6/\u89e3\u5bc6\u3002"),(0,l.kt)("p",null,"HTTPS \u534f\u8bae\uff08Hyper Text Transfer Protocol Secure\uff09\uff0c\u662f HTTP \u7684\u52a0\u5f3a\u5b89\u5168\u7248\u672c\u3002HTTPS  \u662f\u57fa\u4e8e HTTP \u7684\uff0c\u4e5f\u662f\u7528 TCP \u4f5c\u4e3a\u5e95\u5c42\u534f\u8bae\uff0c\u5e76\u989d\u5916\u4f7f\u7528 SSL/TLS \u534f\u8bae\u7528\u4f5c\u52a0\u5bc6\u548c\u5b89\u5168\u8ba4\u8bc1\u3002\u9ed8\u8ba4\u7aef\u53e3\u53f7\u662f 443."),(0,l.kt)("p",null,"HTTPS \u534f\u8bae\u4e2d\uff0cSSL \u901a\u9053\u901a\u5e38\u4f7f\u7528\u57fa\u4e8e\u5bc6\u94a5\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u5bc6\u94a5\u957f\u5ea6\u901a\u5e38\u662f 40 \u6bd4\u7279\u6216 128 \u6bd4\u7279\u3002"),(0,l.kt)("h6",{id:"ssltls"},"SSL/TLS"),(0,l.kt)("p",null,"SSL \u6307\u5b89\u5168\u5957\u63a5\u5b57\u534f\u8bae\uff08Secure Sockets Layer\uff09\uff0c\u9996\u6b21\u53d1\u5e03\u4e0e 1996 \u5e74\u3002SSL \u7684\u9996\u6b21\u53d1\u5e03\u5176\u5b9e\u5df2\u7ecf\u662f\u4ed6\u7684 3.0  \u7248\u672c\uff0cSSL 1.0 \u4ece\u672a\u9762\u4e16\uff0cSSL 2.0 \u5219\u5177\u6709\u8f83\u5927\u7684\u7f3a\u9677\uff08DROWN \u7f3a\u9677\u2014\u2014Decrypting RSA with Obsolete  and Weakened eNcryption\uff09\u3002\u5f88\u5feb\uff0c\u5728 1999 \u5e74\uff0cSSL 3.0 \u8fdb\u4e00\u6b65\u5347\u7ea7\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u65b0\u7248\u672c\u88ab\u547d\u540d\u4e3a TLS 1.0"),"\u3002\u56e0\u6b64\uff0cTLS \u662f\u57fa\u4e8e SSL \u4e4b\u4e0a\u7684\uff0c\u4f46\u7531\u4e8e\u4e60\u60ef\u53eb\u6cd5\uff0c\u901a\u5e38\u628a HTTPS \u4e2d\u7684\u6838\u5fc3\u52a0\u5bc6\u534f\u8bae\u6df7\u6210\u4e3a SSL/TLS\u3002"),(0,l.kt)("h6",{id:"\u975e\u5bf9\u79f0\u52a0\u5bc6"},"\u975e\u5bf9\u79f0\u52a0\u5bc6"),(0,l.kt)("p",null,"SSL/TLS \u7684\u6838\u5fc3\u8981\u7d20\u662f",(0,l.kt)("strong",{parentName:"p"},"\u975e\u5bf9\u79f0\u52a0\u5bc6"),"\u3002\u975e\u5bf9\u79f0\u52a0\u5bc6\u91c7\u7528\u4e24\u4e2a\u5bc6\u94a5\u2014\u2014\u4e00\u4e2a\u516c\u94a5\uff0c\u4e00\u4e2a\u79c1\u94a5\u3002\u5728\u901a\u4fe1\u65f6\uff0c\u79c1\u94a5\u4ec5\u7531\u89e3\u5bc6\u8005\u4fdd\u5b58\uff0c\u516c\u94a5\u7531\u4efb\u4f55\u4e00\u4e2a\u60f3\u4e0e\u89e3\u5bc6\u8005\u901a\u4fe1\u7684\u53d1\u9001\u8005\uff08\u52a0\u5bc6\u8005\uff09\u6240\u77e5\u3002\u53ef\u4ee5\u8bbe\u60f3\u4e00\u4e2a\u573a\u666f\uff0c"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5728\u67d0\u4e2a\u81ea\u52a9\u90ae\u5c40\uff0c\u6bcf\u4e2a\u901a\u4fe1\u4fe1\u9053\u90fd\u662f\u4e00\u4e2a\u90ae\u7bb1\uff0c\u6bcf\u4e00\u4e2a\u90ae\u7bb1\u6240\u6709\u8005\u90fd\u5728\u65c1\u8fb9\u7acb\u4e86\u4e00\u4e2a\u724c\u5b50\uff0c\u4e0a\u9762\u6302\u7740\u4e00\u628a\u94a5\u5319\uff1a\u8fd9\u662f\u6211\u7684\u516c\u94a5\uff0c\u53d1\u9001\u8005\u8bf7\u5c06\u4fe1\u4ef6\u653e\u5165\u6211\u7684\u90ae\u7bb1\uff0c\u5e76\u7528\u516c\u94a5\u9501\u597d\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u4f46\u662f\u516c\u94a5\u53ea\u80fd\u52a0\u9501\uff0c\u5e76\u4e0d\u80fd\u89e3\u9501\u3002\u89e3\u9501\u53ea\u80fd\u7531\u90ae\u7bb1\u7684\u6240\u6709\u8005\u2014\u2014\u56e0\u4e3a\u53ea\u6709\u4ed6\u4fdd\u5b58\u7740\u79c1\u94a5\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u8fd9\u6837\uff0c\u901a\u4fe1\u4fe1\u606f\u5c31\u4e0d\u4f1a\u88ab\u5176\u4ed6\u4eba\u622a\u83b7\u4e86\uff0c\u8fd9\u4f9d\u8d56\u4e8e\u79c1\u94a5\u7684\u4fdd\u5bc6\u6027\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622195056508",src:n(84059).Z,width:"874",height:"679"})),(0,l.kt)("p",null,"\u975e\u5bf9\u79f0\u52a0\u5bc6\u7684\u516c\u94a5\u548c\u79c1\u94a5\u9700\u8981\u91c7\u7528\u4e00\u79cd\u590d\u6742\u7684\u6570\u5b66\u673a\u5236\u751f\u6210\uff08\u5bc6\u7801\u5b66\u8ba4\u4e3a\uff0c\u4e3a\u4e86\u8f83\u9ad8\u7684\u5b89\u5168\u6027\uff0c\u5c3d\u91cf\u4e0d\u8981\u81ea\u5df1\u521b\u9020\u52a0\u5bc6\u65b9\u6848\uff09\u3002\u516c\u79c1\u94a5\u5bf9\u7684\u751f\u6210\u7b97\u6cd5\u4f9d\u8d56\u4e8e\u5355\u5411\u9677\u95e8\u51fd\u6570\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5355\u5411\u51fd\u6570\uff1a\u5df2\u77e5\u5355\u5411\u51fd\u6570 f\uff0c\u7ed9\u5b9a\u4efb\u610f\u4e00\u4e2a\u8f93\u5165 x\uff0c\u6613\u8ba1\u7b97\u8f93\u51fa y=f(x)\uff1b\u800c\u7ed9\u5b9a\u4e00\u4e2a\u8f93\u51fa y\uff0c\u5047\u8bbe\u5b58\u5728 f(x)=y\uff0c\u5f88\u96be\u6839\u636e f \u6765\u8ba1\u7b97\u51fa x\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u5355\u5411\u9677\u95e8\u51fd\u6570\uff1a\u4e00\u4e2a\u8f83\u5f31\u7684\u5355\u5411\u51fd\u6570\u3002\u5df2\u77e5\u5355\u5411\u9677\u95e8\u51fd\u6570 f\uff0c\u9677\u95e8 h\uff0c\u7ed9\u5b9a\u4efb\u610f\u4e00\u4e2a\u8f93\u5165 x\uff0c\u6613\u8ba1\u7b97\u51fa\u8f93\u51fa y=f(x;h)\uff1b\u800c\u7ed9\u5b9a\u4e00\u4e2a\u8f93\u51fa y\uff0c\u5047\u8bbe\u5b58\u5728 f(x;h)=y\uff0c\u5f88\u96be\u6839\u636e f \u6765\u8ba1\u7b97\u51fa x\uff0c\u4f46\u53ef\u4ee5\u6839\u636e f \u548c h \u6765\u63a8\u5bfc\u51fa x\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622195100965",src:n(19326).Z,width:"1094",height:"775"})),(0,l.kt)("p",null,"\u4e0a\u56fe\u5c31\u662f\u4e00\u4e2a\u5355\u5411\u51fd\u6570\uff08\u4e0d\u662f\u5355\u9879\u9677\u95e8\u51fd\u6570\uff09\uff0c\u5047\u8bbe\u6709\u4e00\u4e2a\u7edd\u4e16\u79d8\u7c4d\uff0c\u4efb\u4f55\u77e5\u9053\u4e86\u8fd9\u4e2a\u79d8\u7c4d\u7684\u4eba\u90fd\u53ef\u4ee5\u628a\u82f9\u679c\u6c41\u69a8\u6210\u82f9\u679c\uff0c\u90a3\u4e48\u8fd9\u4e2a\u79d8\u7c4d\u5c31\u662f\u201c\u9677\u95e8\u201d\u4e86\u5427\u3002"),(0,l.kt)("p",null,"\u5728\u8fd9\u91cc\uff0c\u51fd\u6570 f \u7684\u8ba1\u7b97\u65b9\u6cd5\u76f8\u5f53\u4e8e\u516c\u94a5\uff0c\u9677\u95e8 h \u76f8\u5f53\u4e8e\u79c1\u94a5\u3002\u516c\u94a5 f \u662f\u516c\u5f00\u7684\uff0c\u4efb\u4f55\u4eba\u5bf9\u5df2\u6709\u8f93\u5165\uff0c\u90fd\u53ef\u4ee5\u7528 f \u52a0\u5bc6\uff0c\u800c\u8981\u60f3\u6839\u636e\u52a0\u5bc6\u4fe1\u606f\u8fd8\u539f\u51fa\u539f\u4fe1\u606f\uff0c\u5fc5\u987b\u8981\u6709\u79c1\u94a5\u624d\u884c\u3002"),(0,l.kt)("h6",{id:"\u5bf9\u79f0\u52a0\u5bc6"},"\u5bf9\u79f0\u52a0\u5bc6"),(0,l.kt)("p",null,"\u4f7f\u7528 SSL/TLS \u8fdb\u884c\u901a\u4fe1\u7684\u53cc\u65b9\u9700\u8981\u4f7f\u7528\u975e\u5bf9\u79f0\u52a0\u5bc6\u65b9\u6848\u6765\u901a\u4fe1\uff0c\u4f46\u662f\u975e\u5bf9\u79f0\u52a0\u5bc6\u8bbe\u8ba1\u4e86\u8f83\u4e3a\u590d\u6742\u7684\u6570\u5b66\u7b97\u6cd5\uff0c\u5728\u5b9e\u9645\u901a\u4fe1\u8fc7\u7a0b\u4e2d\uff0c\u8ba1\u7b97\u7684\u4ee3\u4ef7\u8f83\u9ad8\uff0c\u6548\u7387\u592a\u4f4e\uff0c\u56e0\u6b64\uff0cSSL/TLS \u5b9e\u9645\u5bf9\u6d88\u606f\u7684\u52a0\u5bc6\u4f7f\u7528\u7684\u662f\u5bf9\u79f0\u52a0\u5bc6\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5bf9\u79f0\u52a0\u5bc6\uff1a\u901a\u4fe1\u53cc\u65b9\u5171\u4eab\u552f\u4e00\u5bc6\u94a5 k\uff0c\u52a0\u89e3\u5bc6\u7b97\u6cd5\u5df2\u77e5\uff0c\u52a0\u5bc6\u65b9\u5229\u7528\u5bc6\u94a5 k \u52a0\u5bc6\uff0c\u89e3\u5bc6\u65b9\u5229\u7528\u5bc6\u94a5 k \u89e3\u5bc6\uff0c\u4fdd\u5bc6\u6027\u4f9d\u8d56\u4e8e\u5bc6\u94a5 k \u7684\u4fdd\u5bc6\u6027\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622195120635",src:n(6754).Z,width:"1129",height:"382"})),(0,l.kt)("p",null,"\u5bf9\u79f0\u52a0\u5bc6\u7684\u5bc6\u94a5\u751f\u6210\u4ee3\u4ef7\u6bd4\u516c\u79c1\u94a5\u5bf9\u7684\u751f\u6210\u4ee3\u4ef7\u4f4e\u5f97\u591a\uff0c\u90a3\u4e48\u6709\u7684\u4eba\u4f1a\u95ee\u4e86\uff0c\u4e3a\u4ec0\u4e48 SSL/TLS  \u8fd8\u9700\u8981\u4f7f\u7528\u975e\u5bf9\u79f0\u52a0\u5bc6\u5462\uff1f\u56e0\u4e3a\u5bf9\u79f0\u52a0\u5bc6\u7684\u4fdd\u5bc6\u6027\u5b8c\u5168\u4f9d\u8d56\u4e8e\u5bc6\u94a5\u7684\u4fdd\u5bc6\u6027\u3002\u5728\u53cc\u65b9\u901a\u4fe1\u4e4b\u524d\uff0c\u9700\u8981\u5546\u91cf\u4e00\u4e2a\u7528\u4e8e\u5bf9\u79f0\u52a0\u5bc6\u7684\u5bc6\u94a5\u3002\u6211\u4eec\u77e5\u9053\u7f51\u7edc\u901a\u4fe1\u7684\u4fe1\u9053\u662f\u4e0d\u5b89\u5168\u7684\uff0c\u4f20\u8f93\u62a5\u6587\u5bf9\u4efb\u4f55\u4eba\u662f\u53ef\u89c1\u7684\uff0c\u5bc6\u94a5\u7684\u4ea4\u6362\u80af\u5b9a\u4e0d\u80fd\u76f4\u63a5\u5728\u7f51\u7edc\u4fe1\u9053\u4e2d\u4f20\u8f93\u3002\u56e0\u6b64\uff0c\u4f7f\u7528\u975e\u5bf9\u79f0\u52a0\u5bc6\uff0c\u5bf9\u5bf9\u79f0\u52a0\u5bc6\u7684\u5bc6\u94a5\u8fdb\u884c\u52a0\u5bc6\uff0c\u4fdd\u62a4\u8be5\u5bc6\u94a5\u4e0d\u5728\u7f51\u7edc\u4fe1\u9053\u4e2d\u88ab\u7a83\u542c\u3002\u8fd9\u6837\uff0c\u901a\u4fe1\u53cc\u65b9\u53ea\u9700\u8981\u4e00\u6b21\u975e\u5bf9\u79f0\u52a0\u5bc6\uff0c\u4ea4\u6362\u5bf9\u79f0\u52a0\u5bc6\u7684\u5bc6\u94a5\uff0c\u5728\u4e4b\u540e\u7684\u4fe1\u606f\u901a\u4fe1\u4e2d\uff0c\u4f7f\u7528\u7edd\u5bf9\u5b89\u5168\u7684\u5bc6\u94a5\uff0c\u5bf9\u4fe1\u606f\u8fdb\u884c\u5bf9\u79f0\u52a0\u5bc6\uff0c\u5373\u53ef\u4fdd\u8bc1\u4f20\u8f93\u6d88\u606f\u7684\u4fdd\u5bc6\u6027\u3002"),(0,l.kt)("h6",{id:"\u6570\u5b57\u7b7e\u540d"},"\u6570\u5b57\u7b7e\u540d"),(0,l.kt)("p",null,"\u597d\uff0c\u5230\u8fd9\u4e00\u5c0f\u8282\uff0c\u5df2\u7ecf\u662f SSL/TLS \u7684\u5c3e\u58f0\u4e86\u3002\u4e0a\u4e00\u5c0f\u8282\u63d0\u5230\u4e86\u6570\u5b57\u7b7e\u540d\uff0c\u6570\u5b57\u7b7e\u540d\u8981\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u662f\u9632\u6b62\u8bc1\u4e66\u88ab\u4f2a\u9020\u3002\u7b2c\u4e09\u65b9\u4fe1\u8d56\u673a\u6784 CA \u4e4b\u6240\u4ee5\u80fd\u88ab\u4fe1\u8d56\uff0c\u5c31\u662f ",(0,l.kt)("strong",{parentName:"p"},"\u9760\u6570\u5b57\u7b7e\u540d\u6280\u672f")," \u3002"),(0,l.kt)("p",null,"\u6570\u5b57\u7b7e\u540d\uff0c\u662f CA \u5728\u7ed9\u670d\u52a1\u5668\u9881\u53d1\u8bc1\u4e66\u65f6\uff0c\u4f7f\u7528\u6563\u5217+\u52a0\u5bc6\u7684\u7ec4\u5408\u6280\u672f\uff0c\u5728\u8bc1\u4e66\u4e0a\u76d6\u4e2a\u7ae0\uff0c\u4ee5\u6b64\u6765\u63d0\u4f9b\u9a8c\u4f2a\u7684\u529f\u80fd\u3002\u5177\u4f53\u884c\u4e3a\u5982\u4e0b\uff1a"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"CA \u77e5\u9053\u670d\u52a1\u5668\u7684\u516c\u94a5\uff0c\u5bf9\u8be5\u516c\u94a5\u91c7\u7528\u6563\u5217\u6280\u672f\u751f\u6210\u4e00\u4e2a\u6458\u8981\u3002CA \u4f7f\u7528 CA \u79c1\u94a5\u5bf9\u8be5\u6458\u8981\u8fdb\u884c\u52a0\u5bc6\uff0c\u5e76\u9644\u5728\u8bc1\u4e66\u4e0b\u65b9\uff0c\u53d1\u9001\u7ed9\u670d\u52a1\u5668\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u73b0\u5728\u670d\u52a1\u5668\u5c06\u8be5\u8bc1\u4e66\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u9700\u8981\u9a8c\u8bc1\u8be5\u8bc1\u4e66\u7684\u8eab\u4efd\u3002\u5ba2\u6237\u7aef\u627e\u5230\u7b2c\u4e09\u65b9\u673a\u6784 CA\uff0c\u83b7\u77e5 CA \u7684\u516c\u94a5\uff0c\u5e76\u7528 CA \u516c\u94a5\u5bf9\u8bc1\u4e66\u7684\u7b7e\u540d\u8fdb\u884c\u89e3\u5bc6\uff0c\u83b7\u5f97\u4e86 CA \u751f\u6210\u7684\u6458\u8981\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u5ba2\u6237\u7aef\u5bf9\u8bc1\u4e66\u6570\u636e\uff08\u4e5f\u5c31\u662f\u670d\u52a1\u5668\u7684\u516c\u94a5\uff09\u505a\u76f8\u540c\u7684\u6563\u5217\u5904\u7406\uff0c\u5f97\u5230\u6458\u8981\uff0c\u5e76\u5c06\u8be5\u6458\u8981\u4e0e\u4e4b\u524d\u4ece\u7b7e\u540d\u4e2d\u89e3\u7801\u51fa\u7684\u6458\u8981\u505a\u5bf9\u6bd4\uff0c\u5982\u679c\u76f8\u540c\uff0c\u5219\u8eab\u4efd\u9a8c\u8bc1\u6210\u529f\uff1b\u5426\u5219\u9a8c\u8bc1\u5931\u8d25\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622195206707",src:n(8459).Z,width:"632",height:"188"})),(0,l.kt)("p",null,"\u603b\u7ed3\u6765\u8bf4\uff0c\u5e26\u6709\u8bc1\u4e66\u7684\u516c\u94a5\u4f20\u8f93\u673a\u5236\u5982\u4e0b\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u8bbe\u6709\u670d\u52a1\u5668 S\uff0c\u5ba2\u6237\u7aef C\uff0c\u548c\u7b2c\u4e09\u65b9\u4fe1\u8d56\u673a\u6784 CA\u3002"),(0,l.kt)("li",{parentName:"ol"},"S \u4fe1\u4efb CA\uff0cCA \u662f\u77e5\u9053 S \u516c\u94a5\u7684\uff0cCA \u5411 S \u9881\u53d1\u8bc1\u4e66\u3002\u5e76\u9644\u4e0a CA \u79c1\u94a5\u5bf9\u6d88\u606f\u6458\u8981\u7684\u52a0\u5bc6\u7b7e\u540d\u3002"),(0,l.kt)("li",{parentName:"ol"},"S \u83b7\u5f97 CA \u9881\u53d1\u7684\u8bc1\u4e66\uff0c\u5c06\u8be5\u8bc1\u4e66\u4f20\u9012\u7ed9 C\u3002"),(0,l.kt)("li",{parentName:"ol"},"C \u83b7\u5f97 S \u7684\u8bc1\u4e66\uff0c\u4fe1\u4efb CA \u5e76\u77e5\u6653 CA \u516c\u94a5\uff0c\u4f7f\u7528 CA \u516c\u94a5\u5bf9 S \u8bc1\u4e66\u4e0a\u7684\u7b7e\u540d\u89e3\u5bc6\uff0c\u540c\u65f6\u5bf9\u6d88\u606f\u8fdb\u884c\u6563\u5217\u5904\u7406\uff0c\u5f97\u5230\u6458\u8981\u3002\u6bd4\u8f83\u6458\u8981\uff0c\u9a8c\u8bc1 S \u8bc1\u4e66\u7684\u771f\u5b9e\u6027\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c C \u9a8c\u8bc1 S \u8bc1\u4e66\u662f\u771f\u5b9e\u7684\uff0c\u5219\u4fe1\u4efb S \u7684\u516c\u94a5\uff08\u5728 S \u8bc1\u4e66\u4e2d\uff09\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622195221158",src:n(75653).Z,width:"556",height:"434"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("a",{parentName:"p",href:"https://www.bilibili.com/video/BV18N411X7ty/"},"\u6570\u5b57\u7b7e\u540d \u53ca \u6570\u5b57\u8bc1\u4e66 \u539f\u7406")),(0,l.kt)("p",{parentName:"blockquote"},"\u8865\u5145\uff1a\u90e8\u5206\u5185\u5bb9\u8282\u9009\u81ea\u300a\u56fe\u89e3HTTP\u300b"),(0,l.kt)("p",{parentName:"blockquote"},"\u516c\u5f00\u5bc6\u94a5\u52a0\u5bc6\u4f7f\u7528\u4e00\u5bf9\u975e\u5bf9\u79f0\u7684\u5bc6\u94a5\u3002\u4e00\u628a\u53eb\u505a\u79c1\u6709\u5bc6\u94a5\uff08privatekey\uff09\uff0c\u53e6\u4e00\u628a\u53eb\u505a\u516c\u5f00\u5bc6\u94a5\uff08public key\uff09\u3002\u987e\u540d\u601d\u4e49\uff0c\u79c1\u6709\u5bc6\u94a5\u4e0d\u80fd\u8ba9\u5176\u4ed6\u4efb\u4f55\u4eba\u77e5\u9053\uff0c\u800c\u516c\u5f00\u5bc6\u94a5\u5219\u53ef\u4ee5\u968f\u610f\u53d1\u5e03\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u83b7\u5f97\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u4f7f\u7528\u516c\u5f00\u5bc6\u94a5\u52a0\u5bc6\u65b9\u5f0f\uff0c\u53d1\u9001\u5bc6\u6587\u7684\u4e00\u65b9\u4f7f\u7528\u5bf9\u65b9\u7684\u516c\u5f00\u5bc6\u94a5\u8fdb\u884c\u52a0\u5bc6\u5904\u7406\uff0c\u5bf9\u65b9\u6536\u5230\u88ab\u52a0\u5bc6\u7684\u4fe1\u606f\u540e\uff0c\u518d\u4f7f\u7528\u81ea\u5df1\u7684\u79c1\u6709\u5bc6\u94a5\u8fdb\u884c\u89e3\u5bc6\u3002\u5229\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u4e0d\u9700\u8981\u53d1\u9001\u7528\u6765\u89e3\u5bc6\u7684\u79c1\u6709\u5bc6\u94a5\uff0c\u4e5f\u4e0d\u5fc5\u62c5\u5fc3\u5bc6\u94a5\u88ab\u653b\u51fb\u8005\u7a83\u542c\u800c\u76d7\u8d70\u3002"),(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("img",{alt:"image-20220725121250347",src:n(76975).Z,width:"660",height:"481"})),(0,l.kt)("p",{parentName:"blockquote"},"\u4e3a\u4e86\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\uff0c\u53ef\u4ee5\u4f7f\u7528\u7531",(0,l.kt)("strong",{parentName:"p"},"\u6570\u5b57\u8bc1\u4e66\u8ba4\u8bc1\u673a\u6784\uff08CA\uff0cCertificateAuthority\uff09"),"\u548c\u5176\u76f8\u5173\u673a\u5173\u9881\u53d1\u7684\u516c\u5f00\u5bc6\u94a5\u8bc1\u4e66\u3002\u6570\u5b57\u8bc1\u4e66\u8ba4\u8bc1\u673a\u6784\u5904\u4e8e\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u53cc\u65b9\u90fd\u53ef\u4fe1\u8d56\u7684\u7b2c\u4e09\u65b9\u673a\u6784\u7684\u7acb\u573a\u4e0a\u3002\u5a01\u745e\u4fe1\uff08VeriSign\uff09\u5c31\u662f\u5176\u4e2d\u4e00\u5bb6\u975e\u5e38\u6709\u540d\u7684\u6570\u5b57\u8bc1\u4e66\u8ba4\u8bc1\u673a\u6784\u3002\u6570\u5b57\u8bc1\u4e66\u8ba4\u8bc1\u673a\u6784\u5728\u5224\u660e\u63d0\u51fa\u7533\u8bf7\u8005\u7684\u8eab\u4efd\u4e4b\u540e\uff0c\u4f1a\u5bf9\u5df2\u7533\u8bf7\u7684\u516c\u5f00\u5bc6\u94a5\u505a\u6570\u5b57\u7b7e\u540d\uff0c\u7136\u540e\u5206\u914d\u8fd9\u4e2a\u5df2\u7b7e\u540d\u7684\u516c\u5f00\u5bc6\u94a5\uff0c\u5e76\u5c06\u8be5\u516c\u5f00\u5bc6\u94a5\u653e\u5165\u516c\u94a5\u8bc1\u4e66\u540e\u7ed1\u5b9a\u5728\u4e00\u8d77\u3002\u670d\u52a1\u5668\u4f1a\u5c06\u8fd9\u4efd\u7531\u6570\u5b57\u8bc1\u4e66\u8ba4\u8bc1\u673a\u6784\u9881\u53d1\u7684\u516c\u94a5\u8bc1\u4e66\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\uff0c\u4ee5\u8fdb\u884c\u516c\u5f00\u5bc6\u94a5\u52a0\u5bc6\u65b9\u5f0f\u901a\u4fe1\u3002\u516c\u94a5\u8bc1\u4e66\u4e5f\u53ef\u53eb\u505a\u6570\u5b57\u8bc1\u4e66\u6216\u76f4\u63a5\u79f0\u4e3a\u8bc1\u4e66\u3002\u63a5\u5230\u8bc1\u4e66\u7684\u5ba2\u6237\u7aef\u53ef\u4f7f\u7528\u6570\u5b57\u8bc1\u4e66\u8ba4\u8bc1\u673a\u6784\u7684\u516c\u5f00\u5bc6\u94a5\uff0c\u5bf9\u90a3\u5f20\u8bc1\u4e66\u4e0a\u7684\u6570\u5b57\u7b7e\u540d\u8fdb\u884c\u9a8c\u8bc1\uff0c\u4e00\u65e6\u9a8c\u8bc1\u901a\u8fc7\uff0c\u5ba2\u6237\u7aef\u4fbf\u53ef\u660e\u786e\u4e24\u4ef6\u4e8b\uff1a"),(0,l.kt)("ol",{parentName:"blockquote"},(0,l.kt)("li",{parentName:"ol"},"\u8ba4\u8bc1\u670d\u52a1\u5668\u7684\u516c\u5f00\u5bc6\u94a5\u7684\u662f\u771f\u5b9e\u6709\u6548\u7684\u6570\u5b57\u8bc1\u4e66\u8ba4\u8bc1\u673a\u6784\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u670d\u52a1\u5668\u7684\u516c\u5f00\u5bc6\u94a5\u662f\u503c\u5f97\u4fe1\u8d56\u7684\u3002")),(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("img",{alt:"image-20220725121905030",src:n(93334).Z,width:"1047",height:"772"}))),(0,l.kt)("h5",{id:"arq-\u534f\u8bae"},"ARQ \u534f\u8bae"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u81ea\u52a8\u91cd\u4f20\u8bf7\u6c42"),"\uff08Automatic Repeat-reQuest\uff0cARQ\uff09\u662f OSI \u6a21\u578b\u4e2d\u6570\u636e\u94fe\u8def\u5c42\u548c\u4f20\u8f93\u5c42\u7684\u9519\u8bef\u7ea0\u6b63\u534f\u8bae\u4e4b\u4e00\u3002\u5b83\u901a\u8fc7\u4f7f\u7528\u786e\u8ba4\u548c\u8d85\u65f6\u8fd9\u4e24\u4e2a\u673a\u5236\uff0c\u5728\u4e0d\u53ef\u9760\u670d\u52a1\u7684\u57fa\u7840\u4e0a\u5b9e\u73b0\u53ef\u9760\u7684\u4fe1\u606f\u4f20\u8f93\u3002\u5982\u679c\u53d1\u9001\u65b9\u5728\u53d1\u9001\u540e\u4e00\u6bb5\u65f6\u95f4\u4e4b\u5185\u6ca1\u6709\u6536\u5230\u786e\u8ba4\u5e27\uff0c\u5b83\u901a\u5e38\u4f1a\u91cd\u65b0\u53d1\u9001\u3002ARQ \u5305\u62ec\u505c\u6b62\u7b49\u5f85 ARQ \u534f\u8bae\u548c\u8fde\u7eed ARQ \u534f\u8bae\u3002"),(0,l.kt)("h6",{id:"\u505c\u6b62\u7b49\u5f85-arq-\u534f\u8bae"},"\u505c\u6b62\u7b49\u5f85 ARQ \u534f\u8bae"),(0,l.kt)("p",null,"\u505c\u6b62\u7b49\u5f85\u534f\u8bae\u662f\u4e3a\u4e86\u5b9e\u73b0\u53ef\u9760\u4f20\u8f93\u7684\uff0c\u5b83\u7684\u57fa\u672c\u539f\u7406\u5c31\u662f\u6bcf\u53d1\u5b8c\u4e00\u4e2a\u5206\u7ec4\u5c31\u505c\u6b62\u53d1\u9001\uff0c\u7b49\u5f85\u5bf9\u65b9\u786e\u8ba4\uff08\u56de\u590d ACK\uff09\u3002\u5982\u679c\u8fc7\u4e86\u4e00\u6bb5\u65f6\u95f4\uff08\u8d85\u65f6\u65f6\u95f4\u540e\uff09\uff0c\u8fd8\u662f\u6ca1\u6709\u6536\u5230 ACK \u786e\u8ba4\uff0c\u8bf4\u660e\u6ca1\u6709\u53d1\u9001\u6210\u529f\uff0c\u9700\u8981\u91cd\u65b0\u53d1\u9001\uff0c\u76f4\u5230\u6536\u5230\u786e\u8ba4\u540e\u518d\u53d1\u4e0b\u4e00\u4e2a\u5206\u7ec4\u3002"),(0,l.kt)("p",null,"\u5728\u505c\u6b62\u7b49\u5f85\u534f\u8bae\u4e2d\uff0c\u82e5\u63a5\u6536\u65b9\u6536\u5230\u91cd\u590d\u5206\u7ec4\uff0c\u5c31\u4e22\u5f03\u8be5\u5206\u7ec4\uff0c\u4f46\u540c\u65f6\u8fd8\u8981\u53d1\u9001\u786e\u8ba4\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4f18\u7f3a\u70b9\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4f18\u70b9\uff1a")," \u7b80\u5355"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7f3a\u70b9\uff1a")," \u4fe1\u9053\u5229\u7528\u7387\u4f4e\uff0c\u7b49\u5f85\u65f6\u95f4\u957f")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1) \u65e0\u5dee\u9519\u60c5\u51b5:")),(0,l.kt)("p",null,"\u53d1\u9001\u65b9\u53d1\u9001\u5206\u7ec4, \u63a5\u6536\u65b9\u5728\u89c4\u5b9a\u65f6\u95f4\u5185\u6536\u5230, \u5e76\u4e14\u56de\u590d\u786e\u8ba4. \u53d1\u9001\u65b9\u518d\u6b21\u53d1\u9001\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2) \u51fa\u73b0\u5dee\u9519\u60c5\u51b5\uff08\u8d85\u65f6\u91cd\u4f20\uff09:")),(0,l.kt)("p",null,"\u505c\u6b62\u7b49\u5f85\u534f\u8bae\u4e2d\u8d85\u65f6\u91cd\u4f20\u662f\u6307\u53ea\u8981\u8d85\u8fc7\u4e00\u6bb5\u65f6\u95f4\u4ecd\u7136\u6ca1\u6709\u6536\u5230\u786e\u8ba4\uff0c\u5c31\u91cd\u4f20\u524d\u9762\u53d1\u9001\u8fc7\u7684\u5206\u7ec4\uff08\u8ba4\u4e3a\u521a\u624d\u53d1\u9001\u8fc7\u7684\u5206\u7ec4\u4e22\u5931\u4e86\uff09\u3002\u56e0\u6b64\u6bcf\u53d1\u9001\u5b8c\u4e00\u4e2a\u5206\u7ec4\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2a\u8d85\u65f6\u8ba1\u65f6\u5668\uff0c\u5176\u91cd\u4f20\u65f6\u95f4\u5e94\u6bd4\u6570\u636e\u5728\u5206\u7ec4\u4f20\u8f93\u7684\u5e73\u5747\u5f80\u8fd4\u65f6\u95f4\u66f4\u957f\u4e00\u4e9b\u3002\u8fd9\u79cd\u81ea\u52a8\u91cd\u4f20\u65b9\u5f0f\u5e38\u79f0\u4e3a ",(0,l.kt)("strong",{parentName:"p"},"\u81ea\u52a8\u91cd\u4f20\u8bf7\u6c42 ARQ")," \u3002\u53e6\u5916\u5728\u505c\u6b62\u7b49\u5f85\u534f\u8bae\u4e2d\u82e5\u6536\u5230\u91cd\u590d\u5206\u7ec4\uff0c\u5c31\u4e22\u5f03\u8be5\u5206\u7ec4\uff0c\u4f46\u540c\u65f6\u8fd8\u8981\u53d1\u9001\u786e\u8ba4\u3002",(0,l.kt)("strong",{parentName:"p"},"\u8fde\u7eed ARQ \u534f\u8bae")," \u53ef\u63d0\u9ad8\u4fe1\u9053\u5229\u7528\u7387\u3002\u53d1\u9001\u7ef4\u6301\u4e00\u4e2a\u53d1\u9001\u7a97\u53e3\uff0c\u51e1\u4f4d\u4e8e\u53d1\u9001\u7a97\u53e3\u5185\u7684\u5206\u7ec4\u53ef\u8fde\u7eed\u53d1\u9001\u51fa\u53bb\uff0c\u800c\u4e0d\u9700\u8981\u7b49\u5f85\u5bf9\u65b9\u786e\u8ba4\u3002\u63a5\u6536\u65b9\u4e00\u822c\u91c7\u7528\u7d2f\u79ef\u786e\u8ba4\uff0c\u5bf9\u6309\u5e8f\u5230\u8fbe\u7684\u6700\u540e\u4e00\u4e2a\u5206\u7ec4\u53d1\u9001\u786e\u8ba4\uff0c\u8868\u660e\u5230\u8fd9\u4e2a\u5206\u7ec4\u4f4d\u7f6e\u7684\u6240\u6709\u5206\u7ec4\u90fd\u5df2\u7ecf\u6b63\u786e\u6536\u5230\u4e86\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"3) \u786e\u8ba4\u4e22\u5931\u548c\u786e\u8ba4\u8fdf\u5230")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u786e\u8ba4\u4e22\u5931")," \uff1a\u786e\u8ba4\u6d88\u606f\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e22\u5931\u3002\u5f53 A \u53d1\u9001 M1 \u6d88\u606f\uff0cB \u6536\u5230\u540e\uff0cB \u5411 A \u53d1\u9001\u4e86\u4e00\u4e2a M1 \u786e\u8ba4\u6d88\u606f\uff0c\u4f46\u5374\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e22\u5931\u3002\u800c A \u5e76\u4e0d\u77e5\u9053\uff0c\u5728\u8d85\u65f6\u8ba1\u65f6\u8fc7\u540e\uff0cA \u91cd\u4f20 M1 \u6d88\u606f\uff0cB \u518d\u6b21\u6536\u5230\u8be5\u6d88\u606f\u540e\u91c7\u53d6\u4ee5\u4e0b\u4e24\u70b9\u63aa\u65bd\uff1a1. \u4e22\u5f03\u8fd9\u4e2a\u91cd\u590d\u7684 M1 \u6d88\u606f\uff0c\u4e0d\u5411\u4e0a\u5c42\u4ea4\u4ed8\u3002 2. \u5411 A \u53d1\u9001\u786e\u8ba4\u6d88\u606f\u3002\uff08\u4e0d\u4f1a\u8ba4\u4e3a\u5df2\u7ecf\u53d1\u9001\u8fc7\u4e86\uff0c\u5c31\u4e0d\u518d\u53d1\u9001\u3002A \u80fd\u91cd\u4f20\uff0c\u5c31\u8bc1\u660e B \u7684\u786e\u8ba4\u6d88\u606f\u4e22\u5931\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u786e\u8ba4\u8fdf\u5230")," \uff1a\u786e\u8ba4\u6d88\u606f\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u8fdf\u5230\u3002A \u53d1\u9001 M1 \u6d88\u606f\uff0cB \u6536\u5230\u5e76\u53d1\u9001\u786e\u8ba4\u3002\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u6ca1\u6709\u6536\u5230\u786e\u8ba4\u6d88\u606f\uff0cA \u91cd\u4f20 M1 \u6d88\u606f\uff0cB \u4ecd\u7136\u6536\u5230\u5e76\u7ee7\u7eed\u53d1\u9001\u786e\u8ba4\u6d88\u606f\uff08B \u6536\u5230\u4e86 2 \u4efd M1\uff09\u3002\u6b64\u65f6 A \u6536\u5230\u4e86 B \u7b2c\u4e8c\u6b21\u53d1\u9001\u7684\u786e\u8ba4\u6d88\u606f\u3002\u63a5\u7740\u53d1\u9001\u5176\u4ed6\u6570\u636e\u3002\u8fc7\u4e86\u4e00\u4f1a\uff0cA \u6536\u5230\u4e86 B \u7b2c\u4e00\u6b21\u53d1\u9001\u7684\u5bf9 M1 \u7684\u786e\u8ba4\u6d88\u606f\uff08A \u4e5f\u6536\u5230\u4e86 2 \u4efd\u786e\u8ba4\u6d88\u606f\uff09\u3002\u5904\u7406\u5982\u4e0b\uff1a1. A \u6536\u5230\u91cd\u590d\u7684\u786e\u8ba4\u540e\uff0c\u76f4\u63a5\u4e22\u5f03\u30022. B \u6536\u5230\u91cd\u590d\u7684 M1 \u540e\uff0c\u4e5f\u76f4\u63a5\u4e22\u5f03\u91cd\u590d\u7684 M1\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8fde\u7eed ARQ \u534f\u8bae")),(0,l.kt)("p",null,"\u8fde\u7eed ARQ \u534f\u8bae\u53ef\u63d0\u9ad8\u4fe1\u9053\u5229\u7528\u7387\u3002\u53d1\u9001\u65b9\u7ef4\u6301\u4e00\u4e2a\u53d1\u9001\u7a97\u53e3\uff0c\u51e1\u4f4d\u4e8e\u53d1\u9001\u7a97\u53e3\u5185\u7684\u5206\u7ec4\u53ef\u4ee5\u8fde\u7eed\u53d1\u9001\u51fa\u53bb\uff0c\u800c\u4e0d\u9700\u8981\u7b49\u5f85\u5bf9\u65b9\u786e\u8ba4\u3002\u63a5\u6536\u65b9\u4e00\u822c\u91c7\u7528\u7d2f\u8ba1\u786e\u8ba4\uff0c\u5bf9\u6309\u5e8f\u5230\u8fbe\u7684\u6700\u540e\u4e00\u4e2a\u5206\u7ec4\u53d1\u9001\u786e\u8ba4\uff0c\u8868\u660e\u5230\u8fd9\u4e2a\u5206\u7ec4\u4e3a\u6b62\u7684\u6240\u6709\u5206\u7ec4\u90fd\u5df2\u7ecf\u6b63\u786e\u6536\u5230\u4e86\u3002"),(0,l.kt)("h5",{id:"\u6ed1\u52a8\u7a97\u53e3"},"\u6ed1\u52a8\u7a97\u53e3"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5f15\u5165\u7a97\u53e3\u6982\u5ff5\u7684\u539f\u56e0")),(0,l.kt)("p",null,"\u6211\u4eec\u90fd\u77e5\u9053 TCP \u662f\u6bcf\u53d1\u9001\u4e00\u4e2a\u6570\u636e\uff0c\u90fd\u8981\u8fdb\u884c\u4e00\u6b21\u786e\u8ba4\u5e94\u7b54\u3002\u5f53\u4e0a\u4e00\u4e2a\u6570\u636e\u5305\u6536\u5230\u4e86\u5e94\u7b54\u4e86\uff0c \u518d\u53d1\u9001\u4e0b\u4e00\u4e2a\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u6a21\u5f0f\u5c31\u6709\u70b9\u50cf\u6211\u548c\u4f60\u9762\u5bf9\u9762\u804a\u5929\uff0c\u4f60\u4e00\u53e5\u6211\u4e00\u53e5\u3002\u4f46\u8fd9\u79cd\u65b9\u5f0f\u7684\u7f3a\u70b9\u662f\u6548\u7387\u6bd4\u8f83\u4f4e\u7684\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u4f60\u8bf4\u5b8c\u4e00\u53e5\u8bdd\uff0c\u6211\u5728\u5904\u7406\u5176\u4ed6\u4e8b\u60c5\uff0c\u6ca1\u6709\u53ca\u65f6\u56de\u590d\u4f60\uff0c\u90a3\u4f60\u4e0d\u662f\u8981\u5e72\u7b49\u7740\u6211\u505a\u5b8c\u5176\u4ed6\u4e8b\u60c5\u540e\uff0c\u6211\u56de\u590d\u4f60\uff0c\u4f60\u624d\u80fd\u8bf4\u4e0b\u4e00\u53e5\u8bdd\uff0c\u5f88\u663e\u7136\u8fd9\u4e0d\u73b0\u5b9e\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"\u6309\u6570\u636e\u5305\u8fdb\u884c\u786e\u8ba4\u5e94\u7b54",src:n(55059).Z,width:"498",height:"617"})),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u8fd9\u6837\u7684\u4f20\u8f93\u65b9\u5f0f\u6709\u4e00\u4e2a\u7f3a\u70b9\uff1a\u6570\u636e\u5305\u7684",(0,l.kt)("strong",{parentName:"p"},"\u5f80\u8fd4\u65f6\u95f4\u8d8a\u957f\uff0c\u901a\u4fe1\u7684\u6548\u7387\u5c31\u8d8a\u4f4e"),"\u3002"),(0,l.kt)("p",null,"\u4e3a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cTCP \u5f15\u5165\u4e86",(0,l.kt)("strong",{parentName:"p"},"\u7a97\u53e3"),"\u8fd9\u4e2a\u6982\u5ff5\u3002\u5373\u4f7f\u5728\u5f80\u8fd4\u65f6\u95f4\u8f83\u957f\u7684\u60c5\u51b5\u4e0b\uff0c\u5b83\u4e5f\u4e0d\u4f1a\u964d\u4f4e\u7f51\u7edc\u901a\u4fe1\u7684\u6548\u7387\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\u6709\u4e86\u7a97\u53e3\uff0c\u5c31\u53ef\u4ee5\u6307\u5b9a\u7a97\u53e3\u5927\u5c0f\uff0c\u7a97\u53e3\u5927\u5c0f\u5c31\u662f\u6307",(0,l.kt)("strong",{parentName:"p"},"\u65e0\u9700\u7b49\u5f85\u786e\u8ba4\u5e94\u7b54\uff0c\u800c\u53ef\u4ee5\u7ee7\u7eed\u53d1\u9001\u6570\u636e\u7684\u6700\u5927\u503c"),"\u3002"),(0,l.kt)("p",null,"\u7a97\u53e3\u7684\u5b9e\u73b0\u5b9e\u9645\u4e0a\u662f\u64cd\u4f5c\u7cfb\u7edf\u5f00\u8f9f\u7684\u4e00\u4e2a\u7f13\u5b58\u7a7a\u95f4\uff0c\u53d1\u9001\u65b9\u4e3b\u673a\u5728\u7b49\u5230\u786e\u8ba4\u5e94\u7b54\u8fd4\u56de\u4e4b\u524d\uff0c\u5fc5\u987b\u5728\u7f13\u51b2\u533a\u4e2d\u4fdd\u7559\u5df2\u53d1\u9001\u7684\u6570\u636e\u3002\u5982\u679c\u6309\u671f\u6536\u5230\u786e\u8ba4\u5e94\u7b54\uff0c\u6b64\u65f6\u6570\u636e\u5c31\u53ef\u4ee5\u4ece\u7f13\u5b58\u533a\u6e05\u9664\u3002"),(0,l.kt)("p",null,"\u5047\u8bbe\u7a97\u53e3\u5927\u5c0f\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"3")," \u4e2a TCP \u6bb5\uff0c\u90a3\u4e48\u53d1\u9001\u65b9\u5c31\u53ef\u4ee5\u300c\u8fde\u7eed\u53d1\u9001\u300d ",(0,l.kt)("inlineCode",{parentName:"p"},"3")," \u4e2a TCP \u6bb5\uff0c\u5e76\u4e14\u4e2d\u9014\u82e5\u6709 ACK \u4e22\u5931\uff0c\u53ef\u4ee5\u901a\u8fc7\u300c\u4e0b\u4e00\u4e2a\u786e\u8ba4\u5e94\u7b54\u8fdb\u884c\u786e\u8ba4\u300d\u3002\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"\u7528\u6ed1\u52a8\u7a97\u53e3\u65b9\u5f0f\u5e76\u884c\u5904\u7406",src:n(66625).Z,width:"857",height:"602"})),(0,l.kt)("p",null,"\u56fe\u4e2d\u7684 ACK 600 \u786e\u8ba4\u5e94\u7b54\u62a5\u6587\u4e22\u5931\uff0c\u4e5f\u6ca1\u5173\u7cfb\uff0c\u56e0\u4e3a\u53ef\u4ee5\u901a\u8fc7\u4e0b\u4e00\u4e2a\u786e\u8ba4\u5e94\u7b54\u8fdb\u884c\u786e\u8ba4\uff0c\u53ea\u8981\u53d1\u9001\u65b9\u6536\u5230\u4e86 ACK 700 \u786e\u8ba4\u5e94\u7b54\uff0c\u5c31\u610f\u5473\u7740 700 \u4e4b\u524d\u7684\u6240\u6709\u6570\u636e\u300c\u63a5\u6536\u65b9\u300d\u90fd\u6536\u5230\u4e86\u3002\u8fd9\u4e2a\u6a21\u5f0f\u5c31\u53eb",(0,l.kt)("strong",{parentName:"p"},"\u7d2f\u8ba1\u786e\u8ba4"),"\u6216\u8005",(0,l.kt)("strong",{parentName:"p"},"\u7d2f\u8ba1\u5e94\u7b54"),"\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u7a97\u53e3\u5927\u5c0f\u7531\u54ea\u4e00\u65b9\u51b3\u5b9a\uff1f")),(0,l.kt)("p",null,"TCP \u5934\u91cc\u6709\u4e00\u4e2a\u5b57\u6bb5\u53eb ",(0,l.kt)("inlineCode",{parentName:"p"},"Window"),"\uff0c\u4e5f\u5c31\u662f\u7a97\u53e3\u5927\u5c0f\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8fd9\u4e2a\u5b57\u6bb5\u662f\u63a5\u6536\u7aef\u544a\u8bc9\u53d1\u9001\u7aef\u81ea\u5df1\u8fd8\u6709\u591a\u5c11\u7f13\u51b2\u533a\u53ef\u4ee5\u63a5\u6536\u6570\u636e\u3002\u4e8e\u662f\u53d1\u9001\u7aef\u5c31\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u63a5\u6536\u7aef\u7684\u5904\u7406\u80fd\u529b\u6765\u53d1\u9001\u6570\u636e\uff0c\u800c\u4e0d\u4f1a\u5bfc\u81f4\u63a5\u6536\u7aef\u5904\u7406\u4e0d\u8fc7\u6765\u3002")),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u901a\u5e38\u7a97\u53e3\u7684\u5927\u5c0f\u662f\u7531\u63a5\u6536\u65b9\u7684\u7a97\u53e3\u5927\u5c0f\u6765\u51b3\u5b9a\u7684\u3002"),(0,l.kt)("p",null,"\u53d1\u9001\u65b9\u53d1\u9001\u7684\u6570\u636e\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7\u63a5\u6536\u65b9\u7684\u7a97\u53e3\u5927\u5c0f\uff0c\u5426\u5219\u63a5\u6536\u65b9\u5c31\u65e0\u6cd5\u6b63\u5e38\u63a5\u6536\u5230\u6570\u636e\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u53d1\u9001\u65b9\u7684\u6ed1\u52a8\u7a97\u53e3")),(0,l.kt)("p",null,"\u6211\u4eec\u5148\u6765\u770b\u770b\u53d1\u9001\u65b9\u7684\u7a97\u53e3\uff0c\u4e0b\u56fe\u5c31\u662f\u53d1\u9001\u65b9\u7f13\u5b58\u7684\u6570\u636e\uff0c\u6839\u636e\u5904\u7406\u7684\u60c5\u51b5\u5206\u6210\u56db\u4e2a\u90e8\u5206\uff0c\u5176\u4e2d\u6df1\u84dd\u8272\u65b9\u6846\u662f\u53d1\u9001\u7a97\u53e3\uff0c\u7d2b\u8272\u65b9\u6846\u662f\u53ef\u7528\u7a97\u53e3\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(61479).Z,width:"1428",height:"483"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"#","1 \u662f\u5df2\u53d1\u9001\u5e76\u6536\u5230 ACK\u786e\u8ba4\u7684\u6570\u636e\uff1a1~31 \u5b57\u8282"),(0,l.kt)("li",{parentName:"ul"},"#","2 \u662f\u5df2\u53d1\u9001\u4f46\u672a\u6536\u5230 ACK\u786e\u8ba4\u7684\u6570\u636e\uff1a32~45 \u5b57\u8282"),(0,l.kt)("li",{parentName:"ul"},"#","3 \u662f\u672a\u53d1\u9001\u4f46\u603b\u5927\u5c0f\u5728\u63a5\u6536\u65b9\u5904\u7406\u8303\u56f4\u5185\uff08\u63a5\u6536\u65b9\u8fd8\u6709\u7a7a\u95f4\uff09\uff1a46~51\u5b57\u8282"),(0,l.kt)("li",{parentName:"ul"},"#","4 \u662f\u672a\u53d1\u9001\u4f46\u603b\u5927\u5c0f\u8d85\u8fc7\u63a5\u6536\u65b9\u5904\u7406\u8303\u56f4\uff08\u63a5\u6536\u65b9\u6ca1\u6709\u7a7a\u95f4\uff09\uff1a52\u5b57\u8282\u4ee5\u540e")),(0,l.kt)("p",null,"\u5728\u4e0b\u56fe\uff0c\u5f53\u53d1\u9001\u65b9\u628a\u6570\u636e\u300c\u5168\u90e8\u300d\u90fd\u4e00\u4e0b\u53d1\u9001\u51fa\u53bb\u540e\uff0c\u53ef\u7528\u7a97\u53e3\u7684\u5927\u5c0f\u5c31\u4e3a 0 \u4e86\uff0c\u8868\u660e\u53ef\u7528\u7a97\u53e3\u8017\u5c3d\uff0c\u5728\u6ca1\u6536\u5230 ACK \u786e\u8ba4\u4e4b\u524d\u662f\u65e0\u6cd5\u7ee7\u7eed\u53d1\u9001\u6570\u636e\u4e86\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"\u53ef\u7528\u7a97\u53e3\u8017\u5c3d",src:n(77693).Z,width:"1428",height:"393"})),(0,l.kt)("p",null,"\u5728\u4e0b\u56fe\uff0c\u5f53\u6536\u5230\u4e4b\u524d\u53d1\u9001\u7684\u6570\u636e ",(0,l.kt)("inlineCode",{parentName:"p"},"32~36")," \u5b57\u8282\u7684 ACK \u786e\u8ba4\u5e94\u7b54\u540e\uff0c\u5982\u679c\u53d1\u9001\u7a97\u53e3\u7684\u5927\u5c0f\u6ca1\u6709\u53d8\u5316\uff0c\u5219",(0,l.kt)("strong",{parentName:"p"},"\u6ed1\u52a8\u7a97\u53e3\u5f80\u53f3\u8fb9\u79fb\u52a8 5 \u4e2a\u5b57\u8282\uff0c\u56e0\u4e3a\u6709 5 \u4e2a\u5b57\u8282\u7684\u6570\u636e\u88ab\u5e94\u7b54\u786e\u8ba4"),"\uff0c\u63a5\u4e0b\u6765 ",(0,l.kt)("inlineCode",{parentName:"p"},"52~56")," \u5b57\u8282\u53c8\u53d8\u6210\u4e86\u53ef\u7528\u7a97\u53e3\uff0c\u90a3\u4e48\u540e\u7eed\u4e5f\u5c31\u53ef\u4ee5\u53d1\u9001 ",(0,l.kt)("inlineCode",{parentName:"p"},"52~56")," \u8fd9 5 \u4e2a\u5b57\u8282\u7684\u6570\u636e\u4e86\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"32 ~ 36 \u5b57\u8282\u5df2\u786e\u8ba4",src:n(88353).Z,width:"1608",height:"408"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u7a0b\u5e8f\u662f\u5982\u4f55\u8868\u793a\u53d1\u9001\u65b9\u7684\u56db\u4e2a\u90e8\u5206\u7684\u5462\uff1f")),(0,l.kt)("p",null,"TCP \u6ed1\u52a8\u7a97\u53e3\u65b9\u6848\u4f7f\u7528\u4e09\u4e2a\u6307\u9488\u6765\u8ddf\u8e2a\u5728\u56db\u4e2a\u4f20\u8f93\u7c7b\u522b\u4e2d\u7684\u6bcf\u4e00\u4e2a\u7c7b\u522b\u4e2d\u7684\u5b57\u8282\u3002\u5176\u4e2d\u4e24\u4e2a\u6307\u9488\u662f\u7edd\u5bf9\u6307\u9488\uff08\u6307\u7279\u5b9a\u7684\u5e8f\u5217\u53f7\uff09\uff0c\u4e00\u4e2a\u662f\u76f8\u5bf9\u6307\u9488\uff08\u9700\u8981\u505a\u504f\u79fb\uff09\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"SND.WND\u3001SND.UN\u3001SND.NXT",src:n(92807).Z,width:"1428",height:"513"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SND.WND"),"\uff1a\u8868\u793a\u53d1\u9001\u7a97\u53e3\u7684\u5927\u5c0f\uff08\u5927\u5c0f\u662f\u7531\u63a5\u6536\u65b9\u6307\u5b9a\u7684\uff09\uff1b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SND.UNA"),"\uff08",(0,l.kt)("em",{parentName:"li"},"Send Unacknoleged"),"\uff09\uff1a\u662f\u4e00\u4e2a\u7edd\u5bf9\u6307\u9488\uff0c\u5b83\u6307\u5411\u7684\u662f\u5df2\u53d1\u9001\u4f46\u672a\u6536\u5230\u786e\u8ba4\u7684\u7b2c\u4e00\u4e2a\u5b57\u8282\u7684\u5e8f\u5217\u53f7\uff0c\u4e5f\u5c31\u662f #2 \u7684\u7b2c\u4e00\u4e2a\u5b57\u8282\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SND.NXT"),"\uff1a\u4e5f\u662f\u4e00\u4e2a\u7edd\u5bf9\u6307\u9488\uff0c\u5b83\u6307\u5411\u672a\u53d1\u9001\u4f46\u53ef\u53d1\u9001\u8303\u56f4\u7684\u7b2c\u4e00\u4e2a\u5b57\u8282\u7684\u5e8f\u5217\u53f7\uff0c\u4e5f\u5c31\u662f #3 \u7684\u7b2c\u4e00\u4e2a\u5b57\u8282\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6307\u5411 #4 \u7684\u7b2c\u4e00\u4e2a\u5b57\u8282\u662f\u4e2a\u76f8\u5bf9\u6307\u9488\uff0c\u5b83\u9700\u8981 ",(0,l.kt)("inlineCode",{parentName:"li"},"SND.UNA")," \u6307\u9488\u52a0\u4e0a ",(0,l.kt)("inlineCode",{parentName:"li"},"SND.WND")," \u5927\u5c0f\u7684\u504f\u79fb\u91cf\uff0c\u5c31\u53ef\u4ee5\u6307\u5411 #4 \u7684\u7b2c\u4e00\u4e2a\u5b57\u8282\u4e86\u3002")),(0,l.kt)("p",null,"\u90a3\u4e48\u53ef\u7528\u7a97\u53e3\u5927\u5c0f\u7684\u8ba1\u7b97\u5c31\u53ef\u4ee5\u662f\uff1a"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53ef\u7528\u7a97\u53e3\u5927 = SND.WND -\uff08SND.NXT - SND.UNA\uff09")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u63a5\u6536\u65b9\u7684\u6ed1\u52a8\u7a97\u53e3")),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\u6211\u4eec\u770b\u770b\u63a5\u6536\u65b9\u7684\u7a97\u53e3\uff0c\u63a5\u6536\u7a97\u53e3\u76f8\u5bf9\u7b80\u5355\u4e00\u4e9b\uff0c\u6839\u636e\u5904\u7406\u7684\u60c5\u51b5\u5212\u5206\u6210\u4e09\u4e2a\u90e8\u5206\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"#","1 + #2 \u662f\u5df2\u6210\u529f\u63a5\u6536\u5e76\u786e\u8ba4\u7684\u6570\u636e\uff08\u7b49\u5f85\u5e94\u7528\u8fdb\u7a0b\u8bfb\u53d6\uff09\uff1b"),(0,l.kt)("li",{parentName:"ul"},"#","3 \u662f\u672a\u6536\u5230\u6570\u636e\u4f46\u53ef\u4ee5\u63a5\u6536\u7684\u6570\u636e\uff1b"),(0,l.kt)("li",{parentName:"ul"},"#","4 \u672a\u6536\u5230\u6570\u636e\u5e76\u4e0d\u53ef\u4ee5\u63a5\u6536\u7684\u6570\u636e\uff1b")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"\u63a5\u6536\u7a97\u53e3",src:n(83238).Z,width:"1429",height:"498"})),(0,l.kt)("p",null,"\u5176\u4e2d\u4e09\u4e2a\u63a5\u6536\u90e8\u5206\uff0c\u4f7f\u7528\u4e24\u4e2a\u6307\u9488\u8fdb\u884c\u5212\u5206:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"RCV.WND"),"\uff1a\u8868\u793a\u63a5\u6536\u7a97\u53e3\u7684\u5927\u5c0f\uff0c\u5b83\u4f1a\u901a\u544a\u7ed9\u53d1\u9001\u65b9\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"RCV.NXT"),"\uff1a\u662f\u4e00\u4e2a\u6307\u9488\uff0c\u5b83\u6307\u5411\u671f\u671b\u4ece\u53d1\u9001\u65b9\u53d1\u9001\u6765\u7684\u4e0b\u4e00\u4e2a\u6570\u636e\u5b57\u8282\u7684\u5e8f\u5217\u53f7\uff0c\u4e5f\u5c31\u662f #3 \u7684\u7b2c\u4e00\u4e2a\u5b57\u8282\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6307\u5411 #4 \u7684\u7b2c\u4e00\u4e2a\u5b57\u8282\u662f\u4e2a\u76f8\u5bf9\u6307\u9488\uff0c\u5b83\u9700\u8981 ",(0,l.kt)("inlineCode",{parentName:"li"},"RCV.NXT")," \u6307\u9488\u52a0\u4e0a ",(0,l.kt)("inlineCode",{parentName:"li"},"RCV.WND")," \u5927\u5c0f\u7684\u504f\u79fb\u91cf\uff0c\u5c31\u53ef\u4ee5\u6307\u5411 #4 \u7684\u7b2c\u4e00\u4e2a\u5b57\u8282\u4e86\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u63a5\u6536\u7a97\u53e3\u548c\u53d1\u9001\u7a97\u53e3\u7684\u5927\u5c0f\u662f\u76f8\u7b49\u7684\u5417\uff1f")),(0,l.kt)("p",null,"\u5e76\u4e0d\u662f\u5b8c\u5168\u76f8\u7b49\uff0c\u63a5\u6536\u7a97\u53e3\u7684\u5927\u5c0f\u662f",(0,l.kt)("strong",{parentName:"p"},"\u7ea6\u7b49\u4e8e"),"\u53d1\u9001\u7a97\u53e3\u7684\u5927\u5c0f\u7684\u3002"),(0,l.kt)("p",null,"\u56e0\u4e3a\u6ed1\u52a8\u7a97\u53e3\u5e76\u4e0d\u662f\u4e00\u6210\u4e0d\u53d8\u7684\u3002\u6bd4\u5982\uff0c\u5f53\u63a5\u6536\u65b9\u7684\u5e94\u7528\u8fdb\u7a0b\u8bfb\u53d6\u6570\u636e\u7684\u901f\u5ea6\u975e\u5e38\u5feb\u7684\u8bdd\uff0c\u8fd9\u6837\u7684\u8bdd\u63a5\u6536\u7a97\u53e3\u53ef\u4ee5\u5f88\u5feb\u7684\u5c31\u7a7a\u7f3a\u51fa\u6765\u3002\u90a3\u4e48\u65b0\u7684\u63a5\u6536\u7a97\u53e3\u5927\u5c0f\uff0c\u662f\u901a\u8fc7 TCP \u62a5\u6587\u4e2d\u7684 Windows \u5b57\u6bb5\u6765\u544a\u8bc9\u53d1\u9001\u65b9\u3002\u90a3\u4e48\u8fd9\u4e2a\u4f20\u8f93\u8fc7\u7a0b\u662f\u5b58\u5728\u65f6\u5ef6\u7684\uff0c\u6240\u4ee5\u63a5\u6536\u7a97\u53e3\u548c\u53d1\u9001\u7a97\u53e3\u662f\u7ea6\u7b49\u4e8e\u7684\u5173\u7cfb\u3002"),(0,l.kt)("h5",{id:"\u7c98\u5305"},"\u7c98\u5305"),(0,l.kt)("p",null,"\u5728\u8fdb\u884c Java NIO \u5b66\u4e60\u65f6\uff0c\u53ef\u80fd\u4f1a\u53d1\u73b0\uff1a\u5982\u679c\u5ba2\u6237\u7aef\u8fde\u7eed\u4e0d\u65ad\u7684\u5411\u670d\u52a1\u7aef\u53d1\u9001\u6570\u636e\u5305\u65f6\uff0c\u670d\u52a1\u7aef\u63a5\u6536\u7684\u6570\u636e\u4f1a\u51fa\u73b0\u4e24\u4e2a\u6570\u636e\u5305\u7c98\u5728\u4e00\u8d77\u7684\u60c5\u51b5\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"TCP \u662f\u57fa\u4e8e\u5b57\u8282\u6d41\u7684\uff0c\u867d\u7136\u5e94\u7528\u5c42\u548c TCP \u4f20\u8f93\u5c42\u4e4b\u95f4\u7684\u6570\u636e\u4ea4\u4e92\u662f\u5927\u5c0f\u4e0d\u7b49\u7684\u6570\u636e\u5757\uff0c\u4f46\u662f TCP \u628a\u8fd9\u4e9b\u6570\u636e\u5757\u4ec5\u4ec5\u770b\u6210\u4e00\u8fde\u4e32\u65e0\u7ed3\u6784\u7684\u5b57\u8282\u6d41\uff0c\u6ca1\u6709\u8fb9\u754c"),(0,l.kt)("li",{parentName:"ol"},"\u4ece TCP \u7684\u5e27\u7ed3\u6784\u4e5f\u53ef\u4ee5\u770b\u51fa\uff0c\u5728 TCP \u7684\u9996\u90e8\u6ca1\u6709\u8868\u793a\u6570\u636e\u957f\u5ea6\u7684\u5b57\u6bb5\u3002")),(0,l.kt)("p",null,"\u57fa\u4e8e\u4e0a\u9762\u4e24\u70b9\uff0c\u5728\u4f7f\u7528 TCP \u4f20\u8f93\u6570\u636e\u65f6\uff0c\u624d\u6709\u7c98\u5305\u6216\u8005\u62c6\u5305\u73b0\u8c61\u53d1\u751f\u7684\u53ef\u80fd\u3002\u4e00\u4e2a\u6570\u636e\u5305\u4e2d\u5305\u542b\u4e86\u53d1\u9001\u7aef\u53d1\u9001\u7684\u4e24\u4e2a\u6570\u636e\u5305\u7684\u4fe1\u606f\uff0c\u8fd9\u79cd\u73b0\u8c61\u5373\u4e3a\u7c98\u5305\u3002"),(0,l.kt)("p",null,"\u63a5\u6536\u7aef\u6536\u5230\u4e86\u4e24\u4e2a\u6570\u636e\u5305\uff0c\u4f46\u662f\u8fd9\u4e24\u4e2a\u6570\u636e\u5305\u8981\u4e48\u662f\u4e0d\u5b8c\u6574\u7684\uff0c\u8981\u4e48\u5c31\u662f\u591a\u51fa\u6765\u4e00\u5757\uff0c\u8fd9\u79cd\u60c5\u51b5\u5373\u53d1\u751f\u4e86\u62c6\u5305\u548c\u7c98\u5305\u3002\u62c6\u5305\u548c\u7c98\u5305\u7684\u95ee\u9898\u5bfc\u81f4\u63a5\u6536\u7aef\u5728\u5904\u7406\u7684\u65f6\u5019\u4f1a\u975e\u5e38\u56f0\u96be\uff0c\u56e0\u4e3a\u65e0\u6cd5\u533a\u5206\u4e00\u4e2a\u5b8c\u6574\u7684\u6570\u636e\u5305\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u53d1\u9001\u65b9\u4ea7\u751f\u7c98\u5305"))),(0,l.kt)("p",null,"\u91c7\u7528 TCP \u534f\u8bae\u4f20\u8f93\u6570\u636e\u7684\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u7ecf\u5e38\u662f\u4fdd\u6301\u4e00\u4e2a\u957f\u8fde\u63a5\u7684\u72b6\u6001\uff08\u4e00\u6b21\u8fde\u63a5\u53d1\u4e00\u6b21\u6570\u636e\u4e0d\u5b58\u5728\u7c98\u5305\uff09\uff0c\u53cc\u65b9\u5728\u8fde\u63a5\u4e0d\u65ad\u5f00\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u4e00\u76f4\u4f20\u8f93\u6570\u636e\u3002\u4f46\u5f53\u53d1\u9001\u7684\u6570\u636e\u5305\u8fc7\u4e8e\u7684\u5c0f\u65f6\uff0c\u90a3\u4e48 TCP \u534f\u8bae\u9ed8\u8ba4\u7684\u4f1a\u542f\u7528 Nagle \u7b97\u6cd5\uff0c\u5c06\u8fd9\u4e9b\u8f83\u5c0f\u7684\u6570\u636e\u5305\u8fdb\u884c\u5408\u5e76\u53d1\u9001\uff08\u7f13\u51b2\u533a\u6570\u636e\u53d1\u9001\u662f\u4e00\u4e2a\u5806\u538b\u7684\u8fc7\u7a0b\uff09\uff1b\u8fd9\u4e2a\u5408\u5e76\u8fc7\u7a0b\u5c31\u662f\u5728\u53d1\u9001\u7f13\u51b2\u533a\u4e2d\u8fdb\u884c\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u6570\u636e\u53d1\u9001\u51fa\u6765\u5b83\u5df2\u7ecf\u662f\u7c98\u5305\u7684\u72b6\u6001\u4e86\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u63a5\u6536\u65b9\u4ea7\u751f\u7c98\u5305"))),(0,l.kt)("p",null,"\u63a5\u6536\u65b9\u91c7\u7528 TCP \u534f\u8bae\u63a5\u6536\u6570\u636e\u65f6\u7684\u8fc7\u7a0b\u662f\u8fd9\u6837\u7684\uff1a\u6570\u636e\u5230\u63a5\u6536\u65b9\uff0c\u4ece\u7f51\u7edc\u6a21\u578b\u7684\u4e0b\u65b9\u4f20\u9012\u81f3\u4f20\u8f93\u5c42\uff0c\u4f20\u8f93\u5c42\u7684 TCP \u534f\u8bae\u5904\u7406\u662f\u5c06\u5176\u653e\u7f6e\u63a5\u6536\u7f13\u51b2\u533a\uff0c\u7136\u540e\u7531\u5e94\u7528\u5c42\u6765\u4e3b\u52a8\u83b7\u53d6\uff08C \u8bed\u8a00\u7528 recv\u3001read \u7b49\u51fd\u6570\uff09\uff1b\u8fd9\u65f6\u4f1a\u51fa\u73b0\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u6211\u4eec\u5728\u7a0b\u5e8f\u4e2d\u8c03\u7528\u7684\u8bfb\u53d6\u6570\u636e\u51fd\u6570\u4e0d\u80fd\u53ca\u65f6\u7684\u628a\u7f13\u51b2\u533a\u4e2d\u7684\u6570\u636e\u62ff\u51fa\u6765\uff0c\u800c\u4e0b\u4e00\u4e2a\u6570\u636e\u53c8\u5230\u6765\u5e76\u6709\u4e00\u90e8\u5206\u653e\u5165\u7684\u7f13\u51b2\u533a\u672b\u5c3e\uff0c\u7b49\u6211\u4eec\u8bfb\u53d6\u6570\u636e\u65f6\u5c31\u662f\u4e00\u4e2a\u7c98\u5305\u3002\uff08\u653e\u6570\u636e\u7684\u901f\u5ea6 > \u5e94\u7528\u5c42\u62ff\u6570\u636e\u901f\u5ea6"),(0,l.kt)("h4",{id:"\ufe0f\u952e\u5165\u7f51\u5740\u5230\u7f51\u9875\u663e\u793a\u671f\u95f4\u53d1\u751f\u4e86\u4ec0\u4e48"},"\u2b50\ufe0f\u952e\u5165\u7f51\u5740\u5230\u7f51\u9875\u663e\u793a\uff0c\u671f\u95f4\u53d1\u751f\u4e86\u4ec0\u4e48\uff1f"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(97157).Z,width:"1160",height:"914"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e0a\u56fe\u6709\u4e00\u4e2a\u9519\u8bef\uff0c\u8bf7\u6ce8\u610f\uff0c\u662f OSPF \u4e0d\u662f OPSF\u3002 OSPF\uff08Open Shortest Path First\uff0cospf\uff09\u5f00\u653e\u6700\u77ed\u8def\u5f84\u4f18\u5148\u534f\u8bae, \u662f\u7531 Internet \u5de5\u7a0b\u4efb\u52a1\u7ec4\u5f00\u53d1\u7684\u8def\u7531\u9009\u62e9\u534f\u8bae")),(0,l.kt)("p",null,"\u603b\u4f53\u6765\u8bf4\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u8fc7\u7a0b:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"DNS \u89e3\u6790"),(0,l.kt)("li",{parentName:"ol"},"TCP \u8fde\u63a5"),(0,l.kt)("li",{parentName:"ol"},"\u53d1\u9001 HTTP \u8bf7\u6c42"),(0,l.kt)("li",{parentName:"ol"},"\u670d\u52a1\u5668\u5904\u7406\u8bf7\u6c42\u5e76\u8fd4\u56de HTTP \u62a5\u6587"),(0,l.kt)("li",{parentName:"ol"},"\u6d4f\u89c8\u5668\u89e3\u6790\u6e32\u67d3\u9875\u9762"),(0,l.kt)("li",{parentName:"ol"},"\u8fde\u63a5\u7ed3\u675f")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6700\u8fd1\u770b\u9762\u8bd5\u9898\u8981\u6c42\u8bf4\u7684\u8d8a\u8be6\u7ec6\u8d8a\u597d\u53d1\u73b0\u8d8a\u6765\u8d8a\u5377\uff0c\u6240\u4ee5\u52a0\u5165\u4e86\u8be6\u7ec6\u5185\u5bb9")),(0,l.kt)("h5",{id:"http-1"},"HTTP"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6d4f\u89c8\u5668\u505a\u7684\u7b2c\u4e00\u6b65\u5de5\u4f5c\u662f\u89e3\u6790 URL")),(0,l.kt)("p",null,"\u9996\u5148\u6d4f\u89c8\u5668\u505a\u7684\u7b2c\u4e00\u6b65\u5de5\u4f5c\u5c31\u662f\u8981\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"p"},"URL")," \u8fdb\u884c\u89e3\u6790\uff0c\u4ece\u800c\u751f\u6210\u53d1\u9001\u7ed9 ",(0,l.kt)("inlineCode",{parentName:"p"},"Web")," \u670d\u52a1\u5668\u7684\u8bf7\u6c42\u4fe1\u606f\u3002"),(0,l.kt)("p",null,"\u8ba9\u6211\u4eec\u770b\u770b\u4e00\u6761\u957f\u957f\u7684 URL \u91cc\u7684\u5404\u4e2a\u5143\u7d20\u7684\u4ee3\u8868\u4ec0\u4e48\uff0c\u89c1\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718150512474",src:n(52334).Z,width:"1503",height:"1879"})),(0,l.kt)("p",null,"\u6240\u4ee5\u56fe\u4e2d\u7684\u957f\u957f\u7684 URL \u5b9e\u9645\u4e0a\u662f\u8bf7\u6c42\u670d\u52a1\u5668\u91cc\u7684\u6587\u4ef6\u8d44\u6e90\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8981\u662f\u4e0a\u56fe\u4e2d\u7684\u84dd\u8272\u90e8\u5206 URL \u5143\u7d20\u90fd\u7701\u7565\u4e86\uff0c\u90a3\u5e94\u8be5\u662f\u8bf7\u6c42\u54ea\u4e2a\u6587\u4ef6\u5462\uff1f")),(0,l.kt)("p",null,"\u5f53\u6ca1\u6709\u8def\u5f84\u540d\u65f6\uff0c\u5c31\u4ee3\u8868\u8bbf\u95ee\u6839\u76ee\u5f55\u4e0b\u4e8b\u5148\u8bbe\u7f6e\u7684",(0,l.kt)("strong",{parentName:"p"},"\u9ed8\u8ba4\u6587\u4ef6"),"\uff0c\u4e5f\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"/index.html")," \u6216\u8005 ",(0,l.kt)("inlineCode",{parentName:"p"},"/default.html")," \u8fd9\u4e9b\u6587\u4ef6\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u53d1\u751f\u6df7\u4e71\u4e86\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u751f\u4ea7 HTTP \u8bf7\u6c42\u4fe1\u606f")),(0,l.kt)("p",null,"\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"p"},"URL")," \u8fdb\u884c\u89e3\u6790\u4e4b\u540e\uff0c\u6d4f\u89c8\u5668\u786e\u5b9a\u4e86 Web \u670d\u52a1\u5668\u548c\u6587\u4ef6\u540d\uff0c\u63a5\u4e0b\u6765\u5c31\u662f\u6839\u636e\u8fd9\u4e9b\u4fe1\u606f\u6765\u751f\u6210 HTTP \u8bf7\u6c42\u6d88\u606f\u4e86\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718150623675",src:n(81521).Z,width:"1773",height:"1847"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e00\u4e2a\u5b64\u5355 HTTP \u6570\u636e\u5305\u8868\u793a\uff1a\u201c\u6211\u8fd9\u4e48\u4e00\u4e2a\u5c0f\u5c0f\u7684\u6570\u636e\u5305\uff0c\u6ca1\u4eb2\u6ca1\u53cb\uff0c\u76f4\u63a5\u53d1\u5230\u6d69\u701a\u7684\u7f51\u7edc\uff0c\u8c01\u4f1a\u77e5\u9053\u6211\u5462\uff1f\u8c01\u80fd\u8f7d\u6211\u4e00\u7a0b\u5462\uff1f\u8c01\u80fd\u4fdd\u62a4\u6211\u5462\uff1f\u6211\u7684\u76ee\u7684\u5730\u5728\u54ea\u5462\uff1f\u201d\u3002\u5145\u6ee1\u5404\u79cd\u7591\u95ee\u7684\u5b83\uff0c\u6ca1\u6709\u505c\u6ede\u4e0d\u524d\uff0c\u4f9d\u7136\u8e0f\u4e0a\u4e86\u5f81\u9014\uff01")),(0,l.kt)("h5",{id:"dns"},"DNS"),(0,l.kt)("p",null,"\u901a\u8fc7\u6d4f\u89c8\u5668\u89e3\u6790 URL \u5e76\u751f\u6210 HTTP \u6d88\u606f\u540e\uff0c\u9700\u8981\u59d4\u6258\u64cd\u4f5c\u7cfb\u7edf\u5c06\u6d88\u606f\u53d1\u9001\u7ed9 ",(0,l.kt)("inlineCode",{parentName:"p"},"Web"),"  \u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,"\u4f46\u5728\u53d1\u9001\u4e4b\u524d\uff0c\u8fd8\u6709\u4e00\u9879\u5de5\u4f5c\u9700\u8981\u5b8c\u6210\uff0c\u90a3\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u67e5\u8be2\u670d\u52a1\u5668\u57df\u540d\u5bf9\u5e94\u7684 IP \u5730\u5740"),"\uff0c\u56e0\u4e3a\u59d4\u6258\u64cd\u4f5c\u7cfb\u7edf\u53d1\u9001\u6d88\u606f\u65f6\uff0c\u5fc5\u987b\u63d0\u4f9b\u901a\u4fe1\u5bf9\u8c61\u7684 IP \u5730\u5740\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982\u6211\u4eec\u6253\u7535\u8bdd\u7684\u65f6\u5019\uff0c\u5fc5\u987b\u8981\u77e5\u9053\u5bf9\u65b9\u7684\u7535\u8bdd\u53f7\u7801\uff0c\u4f46\u7531\u4e8e\u7535\u8bdd\u53f7\u7801\u96be\u4ee5\u8bb0\u5fc6\uff0c\u6240\u4ee5\u901a\u5e38\u6211\u4eec\u4f1a\u5c06\u5bf9\u65b9\u7535\u8bdd\u53f7 + \u59d3\u540d\u4fdd\u5b58\u5728\u901a\u8baf\u5f55\u91cc\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u6709\u4e00\u79cd\u670d\u52a1\u5668\u5c31\u4e13\u95e8\u4fdd\u5b58\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"Web")," \u670d\u52a1\u5668\u57df\u540d\u4e0e ",(0,l.kt)("inlineCode",{parentName:"p"},"IP")," \u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u5b83\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"DNS")," \u670d\u52a1\u5668\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u57df\u540d\u7684\u5c42\u7ea7\u5173\u7cfb")),(0,l.kt)("p",null,"DNS \u4e2d\u7684\u57df\u540d\u90fd\u662f\u7528",(0,l.kt)("strong",{parentName:"p"},"\u53e5\u70b9"),"\u6765\u5206\u9694\u7684\uff0c\u6bd4\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"www.server.com"),"\uff0c\u8fd9\u91cc\u7684\u53e5\u70b9\u4ee3\u8868\u4e86\u4e0d\u540c\u5c42\u6b21\u4e4b\u95f4\u7684",(0,l.kt)("strong",{parentName:"p"},"\u754c\u9650"),"\u3002"),(0,l.kt)("p",null,"\u5728\u57df\u540d\u4e2d\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u8d8a\u9760\u53f3"),"\u7684\u4f4d\u7f6e\u8868\u793a\u5176\u5c42\u7ea7",(0,l.kt)("strong",{parentName:"p"},"\u8d8a\u9ad8"),"\u3002"),(0,l.kt)("p",null,"\u6bd5\u7adf\u57df\u540d\u662f\u5916\u56fd\u4eba\u53d1\u660e\uff0c\u6240\u4ee5\u601d\u7ef4\u548c\u4e2d\u56fd\u4eba\u76f8\u53cd\uff0c\u6bd4\u5982\u8bf4\u4e00\u4e2a\u57ce\u5e02\u5730\u70b9\u7684\u65f6\u5019\uff0c\u5916\u56fd\u559c\u6b22\u4ece\u5c0f\u5230\u5927\u7684\u65b9\u5f0f\u987a\u5e8f\u8bf4\u8d77\uff08\u5982 XX \u8857\u9053 XX \u533a XX \u5e02 XX \u7701\uff09\uff0c\u800c\u4e2d\u56fd\u5219\u559c\u6b22\u4ece\u5927\u5230\u5c0f\u7684\u987a\u5e8f\uff08\u5982 XX \u7701 XX \u5e02 XX \u533a XX \u8857\u9053\uff09\u3002"),(0,l.kt)("p",null,"\u5b9e\u9645\u4e0a\u57df\u540d\u6700\u540e\u8fd8\u6709\u4e00\u4e2a\u70b9\uff0c\u6bd4\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"www.server.com."),"\uff0c\u8fd9\u4e2a\u6700\u540e\u7684\u4e00\u4e2a\u70b9\u4ee3\u8868\u6839\u57df\u540d\u3002"),(0,l.kt)("p",null,"\u4e5f\u5c31\u662f\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},".")," \u6839\u57df\u662f\u5728\u6700\u9876\u5c42\uff0c\u5b83\u7684\u4e0b\u4e00\u5c42\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},".com")," \u9876\u7ea7\u57df\uff0c\u518d\u4e0b\u9762\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"server.com"),"\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\u57df\u540d\u7684\u5c42\u7ea7\u5173\u7cfb\u7c7b\u4f3c\u4e00\u4e2a\u6811\u72b6\u7ed3\u6784\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6839 DNS \u670d\u52a1\u5668\uff08.\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u9876\u7ea7\u57df DNS \u670d\u52a1\u5668\uff08.com\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u6743\u5a01 DNS \u670d\u52a1\u5668\uff08server.com\uff09")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718151134708",src:n(68718).Z,width:"621",height:"420"})),(0,l.kt)("p",null,"\u6839\u57df\u7684 DNS \u670d\u52a1\u5668\u4fe1\u606f\u4fdd\u5b58\u5728\u4e92\u8054\u7f51\u4e2d\u6240\u6709\u7684 DNS \u670d\u52a1\u5668\u4e2d\u3002"),(0,l.kt)("p",null,"\u8fd9\u6837\u4e00\u6765\uff0c\u4efb\u4f55 DNS \u670d\u52a1\u5668\u5c31\u90fd\u53ef\u4ee5\u627e\u5230\u5e76\u8bbf\u95ee\u6839\u57df DNS \u670d\u52a1\u5668\u4e86\u3002"),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c\u5ba2\u6237\u7aef\u53ea\u8981\u80fd\u591f\u627e\u5230\u4efb\u610f\u4e00\u53f0 DNS \u670d\u52a1\u5668\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u5b83\u627e\u5230\u6839\u57df DNS \u670d\u52a1\u5668\uff0c\u7136\u540e\u518d\u4e00\u8def\u987a\u85e4\u6478\u74dc\u627e\u5230\u4f4d\u4e8e\u4e0b\u5c42\u7684\u67d0\u53f0\u76ee\u6807 DNS \u670d\u52a1\u5668\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u57df\u540d\u89e3\u6790\u7684\u5de5\u4f5c\u6d41\u7a0b")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5ba2\u6237\u7aef\u9996\u5148\u4f1a\u53d1\u51fa\u4e00\u4e2a DNS \u8bf7\u6c42\uff0c\u95ee ",(0,l.kt)("a",{parentName:"li",href:"http://www.server.com"},"www.server.com")," \u7684 IP \u662f\u5565\uff0c\u5e76\u53d1\u7ed9\u672c\u5730 DNS \u670d\u52a1\u5668\uff08\u4e5f\u5c31\u662f\u5ba2\u6237\u7aef\u7684 TCP/IP \u8bbe\u7f6e\u4e2d\u586b\u5199\u7684 DNS \u670d\u52a1\u5668\u5730\u5740\uff09\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\u6536\u5230\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u540e\uff0c\u5982\u679c\u7f13\u5b58\u91cc\u7684\u8868\u683c\u80fd\u627e\u5230 ",(0,l.kt)("a",{parentName:"li",href:"http://www.server.com%EF%BC%8C%E5%88%99%E5%AE%83%E7%9B%B4%E6%8E%A5%E8%BF%94%E5%9B%9E"},"www.server.com\uff0c\u5219\u5b83\u76f4\u63a5\u8fd4\u56de")," IP \u5730\u5740\u3002\u5982\u679c\u6ca1\u6709\uff0c\u672c\u5730 DNS \u4f1a\u53bb\u95ee\u5b83\u7684\u6839\u57df\u540d\u670d\u52a1\u5668\uff1a\u201c\u8001\u5927\uff0c \u80fd\u544a\u8bc9\u6211  ",(0,l.kt)("a",{parentName:"li",href:"http://www.server.com"},"www.server.com")," \u7684 IP \u5730\u5740\u5417\uff1f\u201d \u6839\u57df\u540d\u670d\u52a1\u5668\u662f\u6700\u9ad8\u5c42\u6b21\u7684\uff0c\u5b83\u4e0d\u76f4\u63a5\u7528\u4e8e\u57df\u540d\u89e3\u6790\uff0c\u4f46\u80fd\u6307\u660e\u4e00\u6761\u9053\u8def\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u6839 DNS \u6536\u5230\u6765\u81ea\u672c\u5730 DNS \u7684\u8bf7\u6c42\u540e\uff0c\u53d1\u73b0\u540e\u7f6e\u662f .com\uff0c\u8bf4\uff1a\u201c",(0,l.kt)("a",{parentName:"li",href:"http://www.server.com"},"www.server.com")," \u8fd9\u4e2a\u57df\u540d\u5f52 .com \u533a\u57df\u7ba1\u7406\u201d\uff0c\u6211\u7ed9\u4f60 .com \u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u5730\u5740\u7ed9\u4f60\uff0c\u4f60\u53bb\u95ee\u95ee\u5b83\u5427\u3002\u201d"),(0,l.kt)("li",{parentName:"ol"},"\u672c\u5730 DNS \u6536\u5230\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u7684\u5730\u5740\u540e\uff0c\u53d1\u8d77\u8bf7\u6c42\u95ee\u201c\u8001\u4e8c\uff0c \u4f60\u80fd\u544a\u8bc9\u6211 ",(0,l.kt)("a",{parentName:"li",href:"http://www.server.com"},"www.server.com"),"  \u7684 IP \u5730\u5740\u5417\uff1f\u201d"),(0,l.kt)("li",{parentName:"ol"},"\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u8bf4\uff1a\u201c\u6211\u7ed9\u4f60\u8d1f\u8d23 ",(0,l.kt)("a",{parentName:"li",href:"http://www.server.com"},"www.server.com")," \u533a\u57df\u7684\u6743\u5a01 DNS \u670d\u52a1\u5668\u7684\u5730\u5740\uff0c\u4f60\u53bb\u95ee\u5b83\u5e94\u8be5\u80fd\u95ee\u5230\u201d\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u672c\u5730 DNS \u4e8e\u662f\u8f6c\u5411\u95ee\u6743\u5a01 DNS \u670d\u52a1\u5668\uff1a\u201c\u8001\u4e09\uff0c",(0,l.kt)("a",{parentName:"li",href:"http://www.server.com%E5%AF%B9%E5%BA%94%E7%9A%84IP%E6%98%AF%E5%95%A5%E5%91%80%EF%BC%9F%E2%80%9D"},"www.server.com\u5bf9\u5e94\u7684IP\u662f\u5565\u5440\uff1f\u201d")," server.com \u7684\u6743\u5a01 DNS \u670d\u52a1\u5668\uff0c\u5b83\u662f\u57df\u540d\u89e3\u6790\u7ed3\u679c\u7684\u539f\u51fa\u5904\u3002\u4e3a\u5565\u53eb\u6743\u5a01\u5462\uff1f\u5c31\u662f\u6211\u7684\u57df\u540d\u6211\u505a\u4e3b\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u6743\u5a01 DNS \u670d\u52a1\u5668\u67e5\u8be2\u540e\u5c06\u5bf9\u5e94\u7684 IP \u5730\u5740 X.X.X.X \u544a\u8bc9\u672c\u5730 DNS\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u672c\u5730 DNS \u518d\u5c06 IP \u5730\u5740\u8fd4\u56de\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u548c\u76ee\u6807\u5efa\u7acb\u8fde\u63a5\u3002")),(0,l.kt)("p",null,"\u81f3\u6b64\uff0c\u6211\u4eec\u5b8c\u6210\u4e86 DNS \u7684\u89e3\u6790\u8fc7\u7a0b\u3002\u73b0\u5728\u603b\u7ed3\u4e00\u4e0b\uff0c\u6574\u4e2a\u8fc7\u7a0b\u6211\u753b\u6210\u4e86\u4e00\u4e2a\u56fe\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718151150466",src:n(7804).Z,width:"1505",height:"1095"})),(0,l.kt)("p",null,"DNS \u57df\u540d\u89e3\u6790\u7684\u8fc7\u7a0b\u86ee\u6709\u610f\u601d\u7684\uff0c\u6574\u4e2a\u8fc7\u7a0b\u5c31\u548c\u6211\u4eec\u65e5\u5e38\u751f\u6d3b\u4e2d\u627e\u4eba\u95ee\u8def\u7684\u8fc7\u7a0b\u7c7b\u4f3c\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u53ea\u6307\u8def\u4e0d\u5e26\u8def"),"\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u90a3\u662f\u4e0d\u662f\u6bcf\u6b21\u89e3\u6790\u57df\u540d\u90fd\u8981\u7ecf\u8fc7\u90a3\u4e48\u591a\u7684\u6b65\u9aa4\u5462\uff1f")),(0,l.kt)("p",null,"\u5f53\u7136\u4e0d\u662f\u4e86\uff0c\u8fd8\u6709\u7f13\u5b58\u8fd9\u4e2a\u4e1c\u897f\u7684\u561b\u3002"),(0,l.kt)("p",null,"\u6d4f\u89c8\u5668\u4f1a\u5148\u770b\u81ea\u8eab\u6709\u6ca1\u6709\u5bf9\u8fd9\u4e2a\u57df\u540d\u7684\u7f13\u5b58\uff0c\u5982\u679c\u6709\uff0c\u5c31\u76f4\u63a5\u8fd4\u56de\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5c31\u53bb\u95ee\u64cd\u4f5c\u7cfb\u7edf\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4e5f\u4f1a\u53bb\u770b\u81ea\u5df1\u7684\u7f13\u5b58\uff0c\u5982\u679c\u6709\uff0c\u5c31\u76f4\u63a5\u8fd4\u56de\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u518d\u53bb hosts \u6587\u4ef6\u770b\uff0c\u4e5f\u6ca1\u6709\uff0c\u624d\u4f1a\u53bb\u95ee\u300c\u672c\u5730 DNS \u670d\u52a1\u5668\u300d\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6570\u636e\u5305\u8868\u793a\uff1a\u201cDNS \u8001\u5927\u54e5\u5389\u5bb3\u5440\uff0c\u627e\u5230\u4e86\u76ee\u7684\u5730\u4e86\uff01\u6211\u8fd8\u662f\u5f88\u8ff7\u832b\u5440\uff0c\u6211\u8981\u53d1\u51fa\u53bb\uff0c\u63a5\u4e0b\u6765\u6211\u9700\u8981\u8c01\u7684\u5e2e\u52a9\u5462?\u201d")),(0,l.kt)("h5",{id:"\u534f\u8bae\u6808"},"\u534f\u8bae\u6808"),(0,l.kt)("p",null,"\u901a\u8fc7 DNS \u83b7\u53d6\u5230 IP \u540e\uff0c\u5c31\u53ef\u4ee5\u628a HTTP \u7684\u4f20\u8f93\u5de5\u4f5c\u4ea4\u7ed9\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684",(0,l.kt)("strong",{parentName:"p"},"\u534f\u8bae\u6808"),"\u3002"),(0,l.kt)("p",null,"\u534f\u8bae\u6808\u7684\u5185\u90e8\u5206\u4e3a\u51e0\u4e2a\u90e8\u5206\uff0c\u5206\u522b\u627f\u62c5\u4e0d\u540c\u7684\u5de5\u4f5c\u3002\u4e0a\u4e0b\u5173\u7cfb\u662f\u6709\u4e00\u5b9a\u7684\u89c4\u5219\u7684\uff0c\u4e0a\u9762\u7684\u90e8\u5206\u4f1a\u5411\u4e0b\u9762\u7684\u90e8\u5206\u59d4\u6258\u5de5\u4f5c\uff0c\u4e0b\u9762\u7684\u90e8\u5206\u6536\u5230\u59d4\u6258\u7684\u5de5\u4f5c\u5e76\u6267\u884c\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718151430741",src:n(17635).Z,width:"903",height:"917"})),(0,l.kt)("p",null,"\u5e94\u7528\u7a0b\u5e8f\uff08\u6d4f\u89c8\u5668\uff09\u901a\u8fc7\u8c03\u7528 Socket \u5e93\uff0c\u6765\u59d4\u6258\u534f\u8bae\u6808\u5de5\u4f5c\u3002\u534f\u8bae\u6808\u7684\u4e0a\u534a\u90e8\u5206\u6709\u4e24\u5757\uff0c\u5206\u522b\u662f\u8d1f\u8d23\u6536\u53d1\u6570\u636e\u7684 TCP \u548c UDP \u534f\u8bae\uff0c\u8fd9\u4e24\u4e2a\u4f20\u8f93\u534f\u8bae\u4f1a\u63a5\u53d7\u5e94\u7528\u5c42\u7684\u59d4\u6258\u6267\u884c\u6536\u53d1\u6570\u636e\u7684\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,"\u534f\u8bae\u6808\u7684\u4e0b\u9762\u4e00\u534a\u662f\u7528 IP \u534f\u8bae\u63a7\u5236\u7f51\u7edc\u5305\u6536\u53d1\u64cd\u4f5c\uff0c\u5728\u4e92\u8054\u7f51\u4e0a\u4f20\u6570\u636e\u65f6\uff0c\u6570\u636e\u4f1a\u88ab\u5207\u5206\u6210\u4e00\u5757\u5757\u7684\u7f51\u7edc\u5305\uff0c\u800c\u5c06\u7f51\u7edc\u5305\u53d1\u9001\u7ed9\u5bf9\u65b9\u7684\u64cd\u4f5c\u5c31\u662f\u7531 IP \u8d1f\u8d23\u7684\u3002"),(0,l.kt)("p",null,"\u6b64\u5916 IP \u4e2d\u8fd8\u5305\u62ec ",(0,l.kt)("inlineCode",{parentName:"p"},"ICMP")," \u534f\u8bae\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"ARP")," \u534f\u8bae\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ICMP")," \u7528\u4e8e\u544a\u77e5\u7f51\u7edc\u5305\u4f20\u9001\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u7684\u9519\u8bef\u4ee5\u53ca\u5404\u79cd\u63a7\u5236\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ARP")," \u7528\u4e8e\u6839\u636e IP \u5730\u5740\u67e5\u8be2\u76f8\u5e94\u7684\u4ee5\u592a\u7f51 MAC \u5730\u5740\u3002")),(0,l.kt)("p",null,"IP \u4e0b\u9762\u7684\u7f51\u5361\u9a71\u52a8\u7a0b\u5e8f\u8d1f\u8d23\u63a7\u5236\u7f51\u5361\u786c\u4ef6\uff0c\u800c\u6700\u4e0b\u9762\u7684\u7f51\u5361\u5219\u8d1f\u8d23\u5b8c\u6210\u5b9e\u9645\u7684\u6536\u53d1\u64cd\u4f5c\uff0c\u4e5f\u5c31\u662f\u5bf9\u7f51\u7ebf\u4e2d\u7684\u4fe1\u53f7\u6267\u884c\u53d1\u9001\u548c\u63a5\u6536\u64cd\u4f5c\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6570\u636e\u5305\u770b\u4e86\u8fd9\u4efd\u6307\u5357\u8868\u793a\uff1a\u201c\u539f\u6765\u6211\u9700\u8981\u90a3\u4e48\u591a\u5927\u4f6c\u7684\u534f\u52a9\u554a\uff0c\u90a3\u6211\u5148\u53bb\u627e\u627e TCP \u5927\u4f6c\uff01\u201d")),(0,l.kt)("h5",{id:"tcp"},"TCP"),(0,l.kt)("p",null,"HTTP \u662f\u57fa\u4e8e TCP \u534f\u8bae\u4f20\u8f93\u7684\uff0c\u6240\u4ee5\u5728\u8fd9\u6211\u4eec\u5148\u4e86\u89e3\u4e0b TCP \u534f\u8bae\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"TCP \u5305\u5934\u683c\u5f0f")),(0,l.kt)("p",null,"\u6211\u4eec\u5148\u770b\u770b TCP \u62a5\u6587\u5934\u90e8\u7684\u683c\u5f0f\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718151452778",src:n(55182).Z,width:"978",height:"749"})),(0,l.kt)("p",null,"\u9996\u5148\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u6e90\u7aef\u53e3\u53f7"),"\u548c",(0,l.kt)("strong",{parentName:"p"},"\u76ee\u6807\u7aef\u53e3"),"\u53f7\u662f\u4e0d\u53ef\u5c11\u7684\uff0c\u5982\u679c\u6ca1\u6709\u8fd9\u4e24\u4e2a\u7aef\u53e3\u53f7\uff0c\u6570\u636e\u5c31\u4e0d\u77e5\u9053\u5e94\u8be5\u53d1\u7ed9\u54ea\u4e2a\u5e94\u7528\u3002"),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\u6709\u5305\u7684",(0,l.kt)("strong",{parentName:"p"},"\u5e8f"),"\u53f7\uff0c\u8fd9\u4e2a\u662f\u4e3a\u4e86\u89e3\u51b3\u5305\u4e71\u5e8f\u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u8fd8\u6709\u5e94\u8be5\u6709\u7684\u662f",(0,l.kt)("strong",{parentName:"p"},"\u786e\u8ba4\u53f7"),"\uff0c\u76ee\u7684\u662f\u786e\u8ba4\u53d1\u51fa\u53bb\u5bf9\u65b9\u662f\u5426\u6709\u6536\u5230\u3002\u5982\u679c\u6ca1\u6709\u6536\u5230\u5c31\u5e94\u8be5\u91cd\u65b0\u53d1\u9001\uff0c\u76f4\u5230\u9001\u8fbe\uff0c\u8fd9\u4e2a\u662f\u4e3a\u4e86\u89e3\u51b3\u4e0d\u4e22\u5305\u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\u8fd8\u6709\u4e00\u4e9b",(0,l.kt)("strong",{parentName:"p"},"\u72b6\u6001\u4f4d"),"\u3002\u4f8b\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"SYN")," \u662f\u53d1\u8d77\u4e00\u4e2a\u8fde\u63a5\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"ACK")," \u662f\u56de\u590d\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"RST")," \u662f\u91cd\u65b0\u8fde\u63a5\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"FIN")," \u662f\u7ed3\u675f\u8fde\u63a5\u7b49\u3002TCP \u662f\u9762\u5411\u8fde\u63a5\u7684\uff0c\u56e0\u800c\u53cc\u65b9\u8981\u7ef4\u62a4\u8fde\u63a5\u7684\u72b6\u6001\uff0c\u8fd9\u4e9b\u5e26\u72b6\u6001\u4f4d\u7684\u5305\u7684\u53d1\u9001\uff0c\u4f1a\u5f15\u8d77\u53cc\u65b9\u7684\u72b6\u6001\u53d8\u66f4\u3002"),(0,l.kt)("p",null,"\u8fd8\u6709\u4e00\u4e2a\u91cd\u8981\u7684\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u7a97\u53e3\u5927\u5c0f"),"\u3002TCP \u8981\u505a",(0,l.kt)("strong",{parentName:"p"},"\u6d41\u91cf\u63a7\u5236"),"\uff0c\u901a\u4fe1\u53cc\u65b9\u5404\u58f0\u660e\u4e00\u4e2a\u7a97\u53e3\uff08\u7f13\u5b58\u5927\u5c0f\uff09\uff0c\u6807\u8bc6\u81ea\u5df1\u5f53\u524d\u80fd\u591f\u7684\u5904\u7406\u80fd\u529b\uff0c\u522b\u53d1\u9001\u7684\u592a\u5feb\uff0c\u6491\u6b7b\u6211\uff0c\u4e5f\u522b\u53d1\u7684\u592a\u6162\uff0c\u997f\u6b7b\u6211\u3002"),(0,l.kt)("p",null,"\u9664\u4e86\u505a\u6d41\u91cf\u63a7\u5236\u4ee5\u5916\uff0cTCP\u8fd8\u4f1a\u505a",(0,l.kt)("strong",{parentName:"p"},"\u62e5\u585e\u63a7\u5236"),"\uff0c\u5bf9\u4e8e\u771f\u6b63\u7684\u901a\u8def\u5835\u8f66\u4e0d\u5835\u8f66\uff0c\u5b83\u65e0\u80fd\u4e3a\u529b\uff0c\u552f\u4e00\u80fd\u505a\u7684\u5c31\u662f\u63a7\u5236\u81ea\u5df1\uff0c\u4e5f\u5373\u63a7\u5236\u53d1\u9001\u7684\u901f\u5ea6\u3002\u4e0d\u80fd\u6539\u53d8\u4e16\u754c\uff0c\u5c31\u6539\u53d8\u81ea\u5df1\u561b\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"TCP \u4f20\u8f93\u6570\u636e\u4e4b\u524d\uff0c\u8981\u5148\u4e09\u6b21\u63e1\u624b\u5efa\u7acb\u8fde\u63a5")),(0,l.kt)("p",null,"\u5728 HTTP \u4f20\u8f93\u6570\u636e\u4e4b\u524d\uff0c\u9996\u5148\u9700\u8981 TCP \u5efa\u7acb\u8fde\u63a5\uff0cTCP \u8fde\u63a5\u7684\u5efa\u7acb\uff0c\u901a\u5e38\u79f0\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u4e09\u6b21\u63e1\u624b"),"\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u6240\u8c13\u7684\u300c\u8fde\u63a5\u300d\uff0c\u53ea\u662f\u53cc\u65b9\u8ba1\u7b97\u673a\u91cc\u7ef4\u62a4\u4e00\u4e2a\u72b6\u6001\u673a\uff0c\u5728\u8fde\u63a5\u5efa\u7acb\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53cc\u65b9\u7684\u72b6\u6001\u53d8\u5316\u65f6\u5e8f\u56fe\u5c31\u50cf\u8fd9\u6837\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718151501747",src:n(32730).Z,width:"1221",height:"1019"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e00\u5f00\u59cb\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u90fd\u5904\u4e8e ",(0,l.kt)("inlineCode",{parentName:"li"},"CLOSED")," \u72b6\u6001\u3002\u5148\u662f\u670d\u52a1\u7aef\u4e3b\u52a8\u76d1\u542c\u67d0\u4e2a\u7aef\u53e3\uff0c\u5904\u4e8e ",(0,l.kt)("inlineCode",{parentName:"li"},"LISTEN")," \u72b6\u6001\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7136\u540e\u5ba2\u6237\u7aef\u4e3b\u52a8\u53d1\u8d77\u8fde\u63a5 ",(0,l.kt)("inlineCode",{parentName:"li"},"SYN"),"\uff0c\u4e4b\u540e\u5904\u4e8e ",(0,l.kt)("inlineCode",{parentName:"li"},"SYN-SENT")," \u72b6\u6001\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aef\u6536\u5230\u53d1\u8d77\u7684\u8fde\u63a5\uff0c\u8fd4\u56de ",(0,l.kt)("inlineCode",{parentName:"li"},"SYN"),"\uff0c\u5e76\u4e14 ",(0,l.kt)("inlineCode",{parentName:"li"},"ACK")," \u5ba2\u6237\u7aef\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"SYN"),"\uff0c\u4e4b\u540e\u5904\u4e8e ",(0,l.kt)("inlineCode",{parentName:"li"},"SYN-RCVD")," \u72b6\u6001\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef\u6536\u5230\u670d\u52a1\u7aef\u53d1\u9001\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"SYN")," \u548c ",(0,l.kt)("inlineCode",{parentName:"li"},"ACK")," \u4e4b\u540e\uff0c\u53d1\u9001\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"li"},"SYN")," \u786e\u8ba4\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"ACK"),"\uff0c\u4e4b\u540e\u5904\u4e8e ",(0,l.kt)("inlineCode",{parentName:"li"},"ESTABLISHED")," \u72b6\u6001\uff0c\u56e0\u4e3a\u5b83\u4e00\u53d1\u4e00\u6536\u6210\u529f\u4e86\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aef\u6536\u5230 ",(0,l.kt)("inlineCode",{parentName:"li"},"ACK")," \u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"ACK")," \u4e4b\u540e\uff0c\u5904\u4e8e ",(0,l.kt)("inlineCode",{parentName:"li"},"ESTABLISHED")," \u72b6\u6001\uff0c\u56e0\u4e3a\u5b83\u4e5f\u4e00\u53d1\u4e00\u6536\u4e86\u3002")),(0,l.kt)("p",null,"\u6240\u4ee5\u4e09\u6b21\u63e1\u624b\u76ee\u7684\u662f",(0,l.kt)("strong",{parentName:"p"},"\u4fdd\u8bc1\u53cc\u65b9\u90fd\u6709\u53d1\u9001\u548c\u63a5\u6536\u7684\u80fd\u529b"),"\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5982\u4f55\u67e5\u770b TCP \u7684\u8fde\u63a5\u72b6\u6001\uff1f")),(0,l.kt)("p",null,"TCP \u7684\u8fde\u63a5\u72b6\u6001\u67e5\u770b\uff0c\u5728 Linux \u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"netstat -napt")," \u547d\u4ee4\u67e5\u770b\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718151518568",src:n(42862).Z,width:"1563",height:"327"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"TCP \u5206\u5272\u6570\u636e")),(0,l.kt)("p",null,"\u5982\u679c HTTP \u8bf7\u6c42\u6d88\u606f\u6bd4\u8f83\u957f\uff0c\u8d85\u8fc7\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"MSS")," \u7684\u957f\u5ea6\uff0c\u8fd9\u65f6 TCP \u5c31\u9700\u8981\u628a HTTP \u7684\u6570\u636e\u62c6\u89e3\u6210\u4e00\u5757\u5757\u7684\u6570\u636e\u53d1\u9001\uff0c\u800c\u4e0d\u662f\u4e00\u6b21\u6027\u53d1\u9001\u6240\u6709\u6570\u636e\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718151526400",src:n(85159).Z,width:"1067",height:"422"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"MTU"),"\uff1a\u4e00\u4e2a\u7f51\u7edc\u5305\u7684\u6700\u5927\u957f\u5ea6\uff0c\u4ee5\u592a\u7f51\u4e2d\u4e00\u822c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"1500")," \u5b57\u8282\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"MSS"),"\uff1a\u9664\u53bb IP \u548c TCP \u5934\u90e8\u4e4b\u540e\uff0c\u4e00\u4e2a\u7f51\u7edc\u5305\u6240\u80fd\u5bb9\u7eb3\u7684 TCP \u6570\u636e\u7684\u6700\u5927\u957f\u5ea6\u3002")),(0,l.kt)("p",null,"\u6570\u636e\u4f1a\u88ab\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"p"},"MSS")," \u7684\u957f\u5ea6\u4e3a\u5355\u4f4d\u8fdb\u884c\u62c6\u5206\uff0c\u62c6\u5206\u51fa\u6765\u7684\u6bcf\u4e00\u5757\u6570\u636e\u90fd\u4f1a\u88ab\u653e\u8fdb\u5355\u72ec\u7684\u7f51\u7edc\u5305\u4e2d\u3002\u4e5f\u5c31\u662f\u5728\u6bcf\u4e2a\u88ab\u62c6\u5206\u7684\u6570\u636e\u52a0\u4e0a TCP \u5934\u4fe1\u606f\uff0c\u7136\u540e\u4ea4\u7ed9 IP \u6a21\u5757\u6765\u53d1\u9001\u6570\u636e\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718151534470",src:n(55183).Z,width:"1142",height:"702"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"TCP \u62a5\u6587\u751f\u6210")),(0,l.kt)("p",null,"TCP \u534f\u8bae\u91cc\u9762\u4f1a\u6709\u4e24\u4e2a\u7aef\u53e3\uff0c\u4e00\u4e2a\u662f\u6d4f\u89c8\u5668\u76d1\u542c\u7684\u7aef\u53e3\uff08\u901a\u5e38\u662f\u968f\u673a\u751f\u6210\u7684\uff09\uff0c\u4e00\u4e2a\u662f Web \u670d\u52a1\u5668\u76d1\u542c\u7684\u7aef\u53e3\uff08HTTP \u9ed8\u8ba4\u7aef\u53e3\u53f7\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"80"),"\uff0c HTTPS \u9ed8\u8ba4\u7aef\u53e3\u53f7\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"443"),"\uff09\u3002"),(0,l.kt)("p",null,"\u5728\u53cc\u65b9\u5efa\u7acb\u4e86\u8fde\u63a5\u540e\uff0cTCP \u62a5\u6587\u4e2d\u7684\u6570\u636e\u90e8\u5206\u5c31\u662f\u5b58\u653e HTTP \u5934\u90e8 + \u6570\u636e\uff0c\u7ec4\u88c5\u597d TCP \u62a5\u6587\u4e4b\u540e\uff0c\u5c31\u9700\u4ea4\u7ed9\u4e0b\u9762\u7684\u7f51\u7edc\u5c42\u5904\u7406\u3002"),(0,l.kt)("p",null,"\u81f3\u6b64\uff0c\u7f51\u7edc\u5305\u7684\u62a5\u6587\u5982\u4e0b\u56fe\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718151542331",src:n(34209).Z,width:"1233",height:"1038"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6b64\u65f6\uff0c\u9047\u4e0a\u4e86 TCP \u7684  \u6570\u636e\u5305\u6fc0\u52a8\u8868\u793a\uff1a\u201c\u592a\u597d\u4e86\uff0c\u78b0\u5230\u4e86\u53ef\u9760\u4f20\u8f93\u7684 TCP \u4f20\u8f93\uff0c\u5b83\u7ed9\u6211\u52a0\u4e0a TCP \u5934\u90e8\uff0c\u6211\u4e0d\u518d\u5b64\u5355\u4e86\uff0c\u5b89\u5168\u611f\u5341\u8db3\u554a\uff01\u6709\u5927\u4f6c\u53ef\u4ee5\u4fdd\u62a4\u6211\u7684\u53ef\u9760\u9001\u8fbe\uff01\u4f46\u6211\u5e94\u8be5\u5f80\u54ea\u8d70\u5462\uff1f\u201d")),(0,l.kt)("h5",{id:"ip"},"IP"),(0,l.kt)("p",null,"TCP \u6a21\u5757\u5728\u6267\u884c\u8fde\u63a5\u3001\u6536\u53d1\u3001\u65ad\u5f00\u7b49\u5404\u9636\u6bb5\u64cd\u4f5c\u65f6\uff0c\u90fd\u9700\u8981\u59d4\u6258 IP \u6a21\u5757\u5c06\u6570\u636e\u5c01\u88c5\u6210",(0,l.kt)("strong",{parentName:"p"},"\u7f51\u7edc\u5305"),"\u53d1\u9001\u7ed9\u901a\u4fe1\u5bf9\u8c61\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"IP \u5305\u5934\u683c\u5f0f")),(0,l.kt)("p",null,"\u6211\u4eec\u5148\u770b\u770b IP \u62a5\u6587\u5934\u90e8\u7684\u683c\u5f0f\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718151640795",src:n(19833).Z,width:"603",height:"1203"})),(0,l.kt)("p",null,"\u5728 IP \u534f\u8bae\u91cc\u9762\u9700\u8981\u6709",(0,l.kt)("strong",{parentName:"p"},"\u6e90\u5730\u5740 IP")," \u548c ",(0,l.kt)("strong",{parentName:"p"},"\u76ee\u6807\u5730\u5740 IP"),"\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6e90\u5730\u5740IP\uff0c\u5373\u662f\u5ba2\u6237\u7aef\u8f93\u51fa\u7684 IP \u5730\u5740\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u76ee\u6807\u5730\u5740\uff0c\u5373\u901a\u8fc7 DNS \u57df\u540d\u89e3\u6790\u5f97\u5230\u7684 Web \u670d\u52a1\u5668 IP\u3002")),(0,l.kt)("p",null,"\u56e0\u4e3a HTTP \u662f\u7ecf\u8fc7 TCP \u4f20\u8f93\u7684\uff0c\u6240\u4ee5\u5728 IP \u5305\u5934\u7684",(0,l.kt)("strong",{parentName:"p"},"\u534f\u8bae\u53f7"),"\uff0c\u8981\u586b\u5199\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"06"),"\uff08\u5341\u516d\u8fdb\u5236\uff09\uff0c\u8868\u793a\u534f\u8bae\u4e3a TCP\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5047\u8bbe\u5ba2\u6237\u7aef\u6709\u591a\u4e2a\u7f51\u5361\uff0c\u5c31\u4f1a\u6709\u591a\u4e2a IP \u5730\u5740\uff0c\u90a3 IP \u5934\u90e8\u7684\u6e90\u5730\u5740\u5e94\u8be5\u9009\u62e9\u54ea\u4e2a IP \u5462\uff1f")),(0,l.kt)("p",null,"\u5f53\u5b58\u5728\u591a\u4e2a\u7f51\u5361\u65f6\uff0c\u5728\u586b\u5199\u6e90\u5730\u5740 IP \u65f6\uff0c\u5c31\u9700\u8981\u5224\u65ad\u5230\u5e95\u5e94\u8be5\u586b\u5199\u54ea\u4e2a\u5730\u5740\u3002\u8fd9\u4e2a\u5224\u65ad\u76f8\u5f53\u4e8e\u5728\u591a\u5757\u7f51\u5361\u4e2d\u5224\u65ad\u5e94\u8be5\u4f7f\u7528\u54ea\u4e2a\u4e00\u5757\u7f51\u5361\u6765\u53d1\u9001\u5305\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u6839\u636e",(0,l.kt)("strong",{parentName:"p"},"\u8def\u7531\u8868"),"\u89c4\u5219\uff0c\u6765\u5224\u65ad\u54ea\u4e00\u4e2a\u7f51\u5361\u4f5c\u4e3a\u6e90\u5730\u5740 IP\u3002"),(0,l.kt)("p",null,"\u5728 Linux \u64cd\u4f5c\u7cfb\u7edf\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"route -n")," \u547d\u4ee4\u67e5\u770b\u5f53\u524d\u7cfb\u7edf\u7684\u8def\u7531\u8868\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718151649816",src:n(61625).Z,width:"917",height:"242"})),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6839\u636e\u4e0a\u9762\u7684\u8def\u7531\u8868\uff0c\u6211\u4eec\u5047\u8bbe Web \u670d\u52a1\u5668\u7684\u76ee\u6807\u5730\u5740\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"192.168.10.200"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718151659105",src:n(19988).Z,width:"1442",height:"1313"})),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u9996\u5148\u5148\u548c\u7b2c\u4e00\u6761\u76ee\u7684\u5b50\u7f51\u63a9\u7801\uff08",(0,l.kt)("inlineCode",{parentName:"li"},"Genmask"),"\uff09\u8fdb\u884c ",(0,l.kt)("strong",{parentName:"li"},"\u4e0e\u8fd0\u7b97"),"\uff0c\u5f97\u5230\u7ed3\u679c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"192.168.10.0"),"\uff0c\u4f46\u662f\u7b2c\u4e00\u4e2a\u6761\u76ee\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"Destination")," \u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"192.168.3.0"),"\uff0c\u4e24\u8005\u4e0d\u4e00\u81f4\u6240\u4ee5\u5339\u914d\u5931\u8d25\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u518d\u4e0e\u7b2c\u4e8c\u6761\u76ee\u7684\u5b50\u7f51\u63a9\u7801\u8fdb\u884c ",(0,l.kt)("strong",{parentName:"li"},"\u4e0e\u8fd0\u7b97"),"\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"192.168.10.0"),"\uff0c\u4e0e\u7b2c\u4e8c\u6761\u76ee\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"Destination 192.168.10.0")," \u5339\u914d\u6210\u529f\uff0c\u6240\u4ee5\u5c06\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"eth1")," \u7f51\u5361\u7684 IP \u5730\u5740\u4f5c\u4e3a IP \u5305\u5934\u7684\u6e90\u5730\u5740\u3002")),(0,l.kt)("p",null,"\u90a3\u4e48\u5047\u8bbe Web \u670d\u52a1\u5668\u7684\u76ee\u6807\u5730\u5740\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"10.100.20.100"),"\uff0c\u90a3\u4e48\u4f9d\u7136\u4f9d\u7167\u4e0a\u9762\u7684\u8def\u7531\u8868\u89c4\u5219\u5224\u65ad\uff0c\u5224\u65ad\u540e\u7684\u7ed3\u679c\u662f\u548c\u7b2c\u4e09\u6761\u76ee\u5339\u914d\u3002"),(0,l.kt)("p",null,"\u7b2c\u4e09\u6761\u76ee\u6bd4\u8f83\u7279\u6b8a\uff0c\u5b83\u76ee\u6807\u5730\u5740\u548c\u5b50\u7f51\u63a9\u7801\u90fd\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"0.0.0.0"),"\uff0c\u8fd9\u8868\u793a",(0,l.kt)("strong",{parentName:"p"},"\u9ed8\u8ba4\u7f51\u5173"),"\uff0c\u5982\u679c\u5176\u4ed6\u6240\u6709\u6761\u76ee\u90fd\u65e0\u6cd5\u5339\u914d\uff0c\u5c31\u4f1a\u81ea\u52a8\u5339\u914d\u8fd9\u4e00\u884c\u3002\u5e76\u4e14\u540e\u7eed\u5c31\u628a\u5305\u53d1\u7ed9\u8def\u7531\u5668\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"Gateway")," \u5373\u662f\u8def\u7531\u5668\u7684 IP \u5730\u5740\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"IP \u62a5\u6587\u751f\u6210")),(0,l.kt)("p",null,"\u81f3\u6b64\uff0c\u7f51\u7edc\u5305\u7684\u62a5\u6587\u5982\u4e0b\u56fe\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220718151712840",src:n(24435).Z,width:"1233",height:"1818"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6b64\u65f6\uff0c\u52a0\u4e0a\u4e86 IP \u5934\u90e8\u7684\u6570\u636e\u5305\u8868\u793a \uff1a\u201c\u6709 IP \u5927\u4f6c\u7ed9\u6211\u6307\u8def\u4e86\uff0c\u611f\u8c22 IP \u5c42\u7ed9\u6211\u52a0\u4e0a\u4e86 IP \u5305\u5934\uff0c\u8ba9\u6211\u6709\u4e86\u8fdc\u7a0b\u5b9a\u4f4d\u7684\u80fd\u529b\uff01\u4e0d\u4f1a\u5bb3\u6015\u5728\u6d69\u701a\u7684\u4e92\u8054\u7f51\u8ff7\u832b\u4e86\uff01\u53ef\u662f\u76ee\u7684\u5730\u597d\u8fdc\u554a\uff0c\u6211\u4e0b\u4e00\u7ad9\u5e94\u8be5\u53bb\u54ea\u5462\uff1f\u201d")),(0,l.kt)("h5",{id:"mac"},"MAC"),(0,l.kt)("p",null,"\u751f\u6210\u4e86 IP \u5934\u90e8\u4e4b\u540e\uff0c\u63a5\u4e0b\u6765\u7f51\u7edc\u5305\u8fd8\u9700\u8981\u5728 IP \u5934\u90e8\u7684\u524d\u9762\u52a0\u4e0a ",(0,l.kt)("strong",{parentName:"p"},"MAC \u5934\u90e8"),"\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"MAC \u5305\u5934\u683c\u5f0f")),(0,l.kt)("p",null,"MAC \u5934\u90e8\u662f\u4ee5\u592a\u7f51\u4f7f\u7528\u7684\u5934\u90e8\uff0c\u5b83\u5305\u542b\u4e86\u63a5\u6536\u65b9\u548c\u53d1\u9001\u65b9\u7684 MAC \u5730\u5740\u7b49\u4fe1\u606f\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"MAC \u5305\u5934\u683c\u5f0f",src:n(27869).Z,width:"558",height:"558"})),(0,l.kt)("p",null,"\u5728 MAC \u5305\u5934\u91cc\u9700\u8981",(0,l.kt)("strong",{parentName:"p"},"\u53d1\u9001\u65b9 MAC \u5730\u5740"),"\u548c",(0,l.kt)("strong",{parentName:"p"},"\u63a5\u6536\u65b9\u76ee\u6807 MAC \u5730\u5740"),"\uff0c\u7528\u4e8e",(0,l.kt)("strong",{parentName:"p"},"\u4e24\u70b9\u4e4b\u95f4\u7684\u4f20\u8f93"),"\u3002"),(0,l.kt)("p",null,"\u4e00\u822c\u5728 TCP/IP \u901a\u4fe1\u91cc\uff0cMAC \u5305\u5934\u7684",(0,l.kt)("strong",{parentName:"p"},"\u534f\u8bae\u7c7b\u578b"),"\u53ea\u4f7f\u7528\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"0800")," \uff1a IP \u534f\u8bae"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"0806")," \uff1a ARP \u534f\u8bae")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"MAC \u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u5982\u4f55\u786e\u8ba4?")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53d1\u9001\u65b9"),"\u7684 MAC \u5730\u5740\u83b7\u53d6\u5c31\u6bd4\u8f83\u7b80\u5355\u4e86\uff0cMAC \u5730\u5740\u662f\u5728\u7f51\u5361\u751f\u4ea7\u65f6\u5199\u5165\u5230 ROM \u91cc\u7684\uff0c\u53ea\u8981\u5c06\u8fd9\u4e2a\u503c\u8bfb\u53d6\u51fa\u6765\u5199\u5165\u5230 MAC \u5934\u90e8\u5c31\u53ef\u4ee5\u4e86\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u63a5\u6536\u65b9"),"\u7684 MAC \u5730\u5740\u5c31\u6709\u70b9\u590d\u6742\u4e86\uff0c\u53ea\u8981\u544a\u8bc9\u4ee5\u592a\u7f51\u5bf9\u65b9\u7684 MAC \u7684\u5730\u5740\uff0c\u4ee5\u592a\u7f51\u5c31\u4f1a\u5e2e\u6211\u4eec\u628a\u5305\u53d1\u9001\u8fc7\u53bb\uff0c\u90a3\u4e48\u5f88\u663e\u7136\u8fd9\u91cc\u5e94\u8be5\u586b\u5199\u5bf9\u65b9\u7684 MAC \u5730\u5740\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\u5148\u5f97\u641e\u6e05\u695a\u5e94\u8be5\u628a\u5305\u53d1\u7ed9\u8c01\uff0c\u8fd9\u4e2a\u53ea\u8981\u67e5\u4e00\u4e0b",(0,l.kt)("strong",{parentName:"p"},"\u8def\u7531\u8868"),"\u5c31\u77e5\u9053\u4e86\u3002\u5728\u8def\u7531\u8868\u4e2d\u627e\u5230\u76f8\u5339\u914d\u7684\u6761\u76ee\uff0c\u7136\u540e\u628a\u5305\u53d1\u7ed9 ",(0,l.kt)("inlineCode",{parentName:"p"},"Gateway")," \u5217\u4e2d\u7684 IP \u5730\u5740\u5c31\u53ef\u4ee5\u4e86\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u65e2\u7136\u77e5\u9053\u8981\u53d1\u7ed9\u8c01\uff0c\u6309\u5982\u4f55\u83b7\u53d6\u5bf9\u65b9\u7684 MAC \u5730\u5740\u5462\uff1f")),(0,l.kt)("p",null,"\u4e0d\u77e5\u9053\u5bf9\u65b9 MAC \u5730\u5740\uff1f\u4e0d\u77e5\u9053\u5c31\u558a\u5457\u3002"),(0,l.kt)("p",null,"\u6b64\u65f6\u5c31\u9700\u8981 ",(0,l.kt)("inlineCode",{parentName:"p"},"ARP")," \u534f\u8bae\u5e2e\u6211\u4eec\u627e\u5230\u8def\u7531\u5668\u7684 MAC \u5730\u5740\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"ARP \u5e7f\u64ad",src:n(55563).Z,width:"594",height:"498"})),(0,l.kt)("p",null,"ARP \u534f\u8bae\u4f1a\u5728\u4ee5\u592a\u7f51\u4e2d\u4ee5",(0,l.kt)("strong",{parentName:"p"},"\u5e7f\u64ad"),"\u7684\u5f62\u5f0f\uff0c\u5bf9\u4ee5\u592a\u7f51\u6240\u6709\u7684\u8bbe\u5907\u558a\u51fa\uff1a\u201c\u8fd9\u4e2a IP \u5730\u5740\u662f\u8c01\u7684\uff1f\u8bf7\u628a\u4f60\u7684 MAC \u5730\u5740\u544a\u8bc9\u6211\u201d\u3002"),(0,l.kt)("p",null,"\u7136\u540e\u5c31\u4f1a\u6709\u4eba\u56de\u7b54\uff1a\u201c\u8fd9\u4e2a IP \u5730\u5740\u662f\u6211\u7684\uff0c\u6211\u7684 MAC \u5730\u5740\u662f XXXX\u201d\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u5bf9\u65b9\u548c\u81ea\u5df1\u5904\u4e8e\u540c\u4e00\u4e2a\u5b50\u7f51\u4e2d\uff0c\u90a3\u4e48\u901a\u8fc7\u4e0a\u9762\u7684\u64cd\u4f5c\u5c31\u53ef\u4ee5\u5f97\u5230\u5bf9\u65b9\u7684 MAC \u5730\u5740\u3002\u7136\u540e\uff0c\u6211\u4eec\u5c06\u8fd9\u4e2a MAC \u5730\u5740\u5199\u5165 MAC \u5934\u90e8\uff0cMAC \u5934\u90e8\u5c31\u5b8c\u6210\u4e86\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u597d\u50cf\u6bcf\u6b21\u90fd\u8981\u5e7f\u64ad\u83b7\u53d6\uff0c\u8fd9\u4e0d\u662f\u5f88\u9ebb\u70e6\u5417\uff1f")),(0,l.kt)("p",null,"\u653e\u5fc3\uff0c\u5728\u540e\u7eed\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u628a\u672c\u6b21\u67e5\u8be2\u7ed3\u679c\u653e\u5230\u4e00\u5757\u53eb\u505a ",(0,l.kt)("strong",{parentName:"p"},"ARP \u7f13\u5b58"),"\u7684\u5185\u5b58\u7a7a\u95f4\u7559\u7740\u4ee5\u540e\u7528\uff0c\u4e0d\u8fc7\u7f13\u5b58\u7684\u65f6\u95f4\u5c31\u51e0\u5206\u949f\u3002"),(0,l.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u53d1\u5305\u65f6\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5148\u67e5\u8be2 ARP \u7f13\u5b58\uff0c\u5982\u679c\u5176\u4e2d\u5df2\u7ecf\u4fdd\u5b58\u4e86\u5bf9\u65b9\u7684 MAC \u5730\u5740\uff0c\u5c31\u4e0d\u9700\u8981\u53d1\u9001 ARP \u67e5\u8be2\uff0c\u76f4\u63a5\u4f7f\u7528 ARP \u7f13\u5b58\u4e2d\u7684\u5730\u5740\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u800c\u5f53 ARP \u7f13\u5b58\u4e2d\u4e0d\u5b58\u5728\u5bf9\u65b9 MAC \u5730\u5740\u65f6\uff0c\u5219\u53d1\u9001 ARP \u5e7f\u64ad\u67e5\u8be2\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u67e5\u770b ARP \u7f13\u5b58\u5185\u5bb9")),(0,l.kt)("p",null,"\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"arp -a")," \u547d\u4ee4\u6765\u67e5\u770b ARP \u7f13\u5b58\u7684\u5185\u5bb9\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"ARP \u7f13\u5b58\u5185\u5bb9",src:n(46580).Z,width:"671",height:"183"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"MAC \u62a5\u6587\u751f\u6210")),(0,l.kt)("p",null,"\u81f3\u6b64\uff0c\u7f51\u7edc\u5305\u7684\u62a5\u6587\u5982\u4e0b\u56fe\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"MAC \u5c42\u62a5\u6587",src:n(51074).Z,width:"1235",height:"2373"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6b64\u65f6\uff0c\u52a0\u4e0a\u4e86 MAC \u5934\u90e8\u7684\u6570\u636e\u5305\u4e07\u5206\u611f\u8c22\uff0c\u8bf4\u9053 \uff1a\u201c\u611f\u8c22 MAC \u5927\u4f6c\uff0c\u6211\u77e5\u9053\u6211\u4e0b\u4e00\u6b65\u8981\u53bb\u54ea\u4e86\uff01\u6211\u73b0\u5728\u6709\u5f88\u591a\u5934\u90e8\u5144\u5f1f\uff0c\u76f8\u4fe1\u6211\u53ef\u4ee5\u5230\u8fbe\u6700\u7ec8\u7684\u76ee\u7684\u5730\uff01\u201d\u3002 \u5e26\u7740\u4f17\u591a\u5934\u90e8\u5144\u5f1f\u7684\u6570\u636e\u5305\uff0c\u7ec8\u4e8e\u51c6\u5907\u8981\u51fa\u95e8\u4e86\u3002")),(0,l.kt)("h5",{id:"\u7f51\u5361"},"\u7f51\u5361"),(0,l.kt)("p",null,"\u7f51\u7edc\u5305\u53ea\u662f\u5b58\u653e\u5728\u5185\u5b58\u4e2d\u7684\u4e00\u4e32\u4e8c\u8fdb\u5236\u6570\u5b57\u4fe1\u606f\uff0c\u6ca1\u6709\u529e\u6cd5\u76f4\u63a5\u53d1\u9001\u7ed9\u5bf9\u65b9\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5c06",(0,l.kt)("strong",{parentName:"p"},"\u6570\u5b57\u4fe1\u606f\u8f6c\u6362\u4e3a\u7535\u4fe1\u53f7"),"\uff0c\u624d\u80fd\u5728\u7f51\u7ebf\u4e0a\u4f20\u8f93\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u624d\u662f\u771f\u6b63\u7684\u6570\u636e\u53d1\u9001\u8fc7\u7a0b\u3002"),(0,l.kt)("p",null,"\u8d1f\u8d23\u6267\u884c\u8fd9\u4e00\u64cd\u4f5c\u7684\u662f",(0,l.kt)("strong",{parentName:"p"},"\u7f51\u5361"),"\uff0c\u8981\u63a7\u5236\u7f51\u5361\u8fd8\u9700\u8981\u9760",(0,l.kt)("strong",{parentName:"p"},"\u7f51\u5361\u9a71\u52a8\u7a0b\u5e8f"),"\u3002"),(0,l.kt)("p",null,"\u7f51\u5361\u9a71\u52a8\u83b7\u53d6\u7f51\u7edc\u5305\u4e4b\u540e\uff0c\u4f1a\u5c06\u5176",(0,l.kt)("strong",{parentName:"p"},"\u590d\u5236"),"\u5230\u7f51\u5361\u5185\u7684\u7f13\u5b58\u533a\u4e2d\uff0c\u63a5\u7740\u4f1a\u5728\u5176",(0,l.kt)("strong",{parentName:"p"},"\u5f00\u5934\u52a0\u4e0a\u62a5\u5934\u548c\u8d77\u59cb\u5e27\u5206\u754c\u7b26\uff0c\u5728\u672b\u5c3e\u52a0\u4e0a\u7528\u4e8e\u68c0\u6d4b\u9519\u8bef\u7684\u5e27\u6821\u9a8c\u5e8f\u5217"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"\u6570\u636e\u5305",src:n(84665).Z,width:"968",height:"392"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8d77\u59cb\u5e27\u5206\u754c\u7b26\u662f\u4e00\u4e2a\u7528\u6765\u8868\u793a\u5305\u8d77\u59cb\u4f4d\u7f6e\u7684\u6807\u8bb0"),(0,l.kt)("li",{parentName:"ul"},"\u672b\u5c3e\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"FCS"),"\uff08\u5e27\u6821\u9a8c\u5e8f\u5217\uff09\u7528\u6765\u68c0\u67e5\u5305\u4f20\u8f93\u8fc7\u7a0b\u662f\u5426\u6709\u635f\u574f")),(0,l.kt)("p",null,"\u6700\u540e\u7f51\u5361\u4f1a\u5c06\u5305\u8f6c\u4e3a\u7535\u4fe1\u53f7\uff0c\u901a\u8fc7\u7f51\u7ebf\u53d1\u9001\u51fa\u53bb\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5509\uff0c\u771f\u662f\u4e0d\u5bb9\u6613\uff0c\u53d1\u4e00\u4e2a\u5305\uff0c\u771f\u662f\u5386\u7ecf\u5343\u8f9b\u4e07\u82e6\u3002\u81f4\u6b64\uff0c\u4e00\u4e2a\u5e26\u6709\u8bb8\u591a\u5934\u90e8\u7684\u6570\u636e\u7ec8\u4e8e\u8e0f\u4e0a\u5bfb\u627e\u76ee\u7684\u5730\u7684\u5f81\u9014\u4e86\uff01")),(0,l.kt)("h5",{id:"\u4ea4\u6362\u673a"},"\u4ea4\u6362\u673a"),(0,l.kt)("p",null,"\u4e0b\u9762\u6765\u770b\u4e00\u4e0b\u5305\u662f\u5982\u4f55\u901a\u8fc7\u4ea4\u6362\u673a\u7684\u3002\u4ea4\u6362\u673a\u7684\u8bbe\u8ba1\u662f\u5c06\u7f51\u7edc\u5305",(0,l.kt)("strong",{parentName:"p"},"\u539f\u6837"),"\u8f6c\u53d1\u5230\u76ee\u7684\u5730\u3002\u4ea4\u6362\u673a\u5de5\u4f5c\u5728 MAC \u5c42\uff0c\u4e5f\u79f0\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u4e8c\u5c42\u7f51\u7edc\u8bbe\u5907"),"\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4ea4\u6362\u673a\u7684\u5305\u63a5\u6536\u64cd\u4f5c")),(0,l.kt)("p",null,"\u9996\u5148\uff0c\u7535\u4fe1\u53f7\u5230\u8fbe\u7f51\u7ebf\u63a5\u53e3\uff0c\u4ea4\u6362\u673a\u91cc\u7684\u6a21\u5757\u8fdb\u884c\u63a5\u6536\uff0c\u63a5\u4e0b\u6765\u4ea4\u6362\u673a\u91cc\u7684\u6a21\u5757\u5c06\u7535\u4fe1\u53f7\u8f6c\u6362\u4e3a\u6570\u5b57\u4fe1\u53f7\u3002"),(0,l.kt)("p",null,"\u7136\u540e\u901a\u8fc7\u5305\u672b\u5c3e\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"FCS")," \u6821\u9a8c\u9519\u8bef\uff0c\u5982\u679c\u6ca1\u95ee\u9898\u5219\u653e\u5230\u7f13\u51b2\u533a\u3002\u8fd9\u90e8\u5206\u64cd\u4f5c\u57fa\u672c\u548c\u8ba1\u7b97\u673a\u7684\u7f51\u5361\u76f8\u540c\uff0c\u4f46\u4ea4\u6362\u673a\u7684\u5de5\u4f5c\u65b9\u5f0f\u548c\u7f51\u5361\u4e0d\u540c\u3002"),(0,l.kt)("p",null,"\u8ba1\u7b97\u673a\u7684\u7f51\u5361\u672c\u8eab\u5177\u6709 MAC \u5730\u5740\uff0c\u5e76\u901a\u8fc7\u6838\u5bf9\u6536\u5230\u7684\u5305\u7684\u63a5\u6536\u65b9 MAC \u5730\u5740\u5224\u65ad\u662f\u4e0d\u662f\u53d1\u7ed9\u81ea\u5df1\u7684\uff0c\u5982\u679c\u4e0d\u662f\u53d1\u7ed9\u81ea\u5df1\u7684\u5219\u4e22\u5f03\uff1b\u76f8\u5bf9\u5730\uff0c\u4ea4\u6362\u673a\u7684\u7aef\u53e3\u4e0d\u6838\u5bf9\u63a5\u6536\u65b9 MAC \u5730\u5740\uff0c\u800c\u662f\u76f4\u63a5\u63a5\u6536\u6240\u6709\u7684\u5305\u5e76\u5b58\u653e\u5230\u7f13\u51b2\u533a\u4e2d\u3002\u56e0\u6b64\uff0c\u548c\u7f51\u5361\u4e0d\u540c\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4ea4\u6362\u673a\u7684\u7aef\u53e3\u4e0d\u5177\u6709 MAC \u5730\u5740"),"\u3002"),(0,l.kt)("p",null,"\u5c06\u5305\u5b58\u5165\u7f13\u51b2\u533a\u540e\uff0c\u63a5\u4e0b\u6765\u9700\u8981\u67e5\u8be2\u4e00\u4e0b\u8fd9\u4e2a\u5305\u7684\u63a5\u6536\u65b9 MAC \u5730\u5740\u662f\u5426\u5df2\u7ecf\u5728 MAC \u5730\u5740\u8868\u4e2d\u6709\u8bb0\u5f55\u4e86\u3002"),(0,l.kt)("p",null,"\u4ea4\u6362\u673a\u7684 MAC \u5730\u5740\u8868\u4e3b\u8981\u5305\u542b\u4e24\u4e2a\u4fe1\u606f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e00\u4e2a\u662f\u8bbe\u5907\u7684 MAC \u5730\u5740\uff0c"),(0,l.kt)("li",{parentName:"ul"},"\u53e6\u4e00\u4e2a\u662f\u8be5\u8bbe\u5907\u8fde\u63a5\u5728\u4ea4\u6362\u673a\u7684\u54ea\u4e2a\u7aef\u53e3\u4e0a\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"\u4ea4\u6362\u673a\u7684 MAC \u5730\u5740\u8868",src:n(33685).Z,width:"947",height:"629"})),(0,l.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u6536\u5230\u7684\u5305\u7684\u63a5\u6536\u65b9 MAC \u5730\u5740\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"00-02-B3-1C-9C-F9"),"\uff0c\u5219\u4e0e\u56fe\u4e2d\u8868\u4e2d\u7684\u7b2c 3 \u884c\u5339\u914d\uff0c\u6839\u636e\u7aef\u53e3\u5217\u7684\u4fe1\u606f\uff0c\u53ef\u77e5\u8fd9\u4e2a\u5730\u5740\u4f4d\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"3")," \u53f7\u7aef\u53e3\u4e0a\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u901a\u8fc7\u4ea4\u6362\u7535\u8def\u5c06\u5305\u53d1\u9001\u5230\u76f8\u5e94\u7684\u7aef\u53e3\u4e86\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4ea4\u6362\u673a\u6839\u636e MAC \u5730\u5740\u8868\u67e5\u627e MAC \u5730\u5740\uff0c\u7136\u540e\u5c06\u4fe1\u53f7\u53d1\u9001\u5230\u76f8\u5e94\u7684\u7aef\u53e3"),"\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5f53 MAC \u5730\u5740\u8868\u627e\u4e0d\u5230\u6307\u5b9a\u7684 MAC \u5730\u5740\u4f1a\u600e\u4e48\u6837\uff1f")),(0,l.kt)("p",null,"\u5730\u5740\u8868\u4e2d\u627e\u4e0d\u5230\u6307\u5b9a\u7684 MAC \u5730\u5740\u3002\u8fd9\u53ef\u80fd\u662f\u56e0\u4e3a\u5177\u6709\u8be5\u5730\u5740\u7684\u8bbe\u5907\u8fd8\u6ca1\u6709\u5411\u4ea4\u6362\u673a\u53d1\u9001\u8fc7\u5305\uff0c\u6216\u8005\u8fd9\u4e2a\u8bbe\u5907\u4e00\u6bb5\u65f6\u95f4\u6ca1\u6709\u5de5\u4f5c\u5bfc\u81f4\u5730\u5740\u88ab\u4ece\u5730\u5740\u8868\u4e2d\u5220\u9664\u4e86\u3002"),(0,l.kt)("p",null,"\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4ea4\u6362\u673a\u65e0\u6cd5\u5224\u65ad\u5e94\u8be5\u628a\u5305\u8f6c\u53d1\u5230\u54ea\u4e2a\u7aef\u53e3\uff0c\u53ea\u80fd\u5c06\u5305\u8f6c\u53d1\u5230\u9664\u4e86\u6e90\u7aef\u53e3\u4e4b\u5916\u7684\u6240\u6709\u7aef\u53e3\u4e0a\uff0c\u65e0\u8bba\u8be5\u8bbe\u5907\u8fde\u63a5\u5728\u54ea\u4e2a\u7aef\u53e3\u4e0a\u90fd\u80fd\u6536\u5230\u8fd9\u4e2a\u5305\u3002"),(0,l.kt)("p",null,"\u8fd9\u6837\u505a\u4e0d\u4f1a\u4ea7\u751f\u4ec0\u4e48\u95ee\u9898\uff0c\u56e0\u4e3a\u4ee5\u592a\u7f51\u7684\u8bbe\u8ba1\u672c\u6765\u5c31\u662f\u5c06\u5305\u53d1\u9001\u5230\u6574\u4e2a\u7f51\u7edc\u7684\uff0c\u7136\u540e",(0,l.kt)("strong",{parentName:"p"},"\u53ea\u6709\u76f8\u5e94\u7684\u63a5\u6536\u8005\u624d\u63a5\u6536\u5305\uff0c\u800c\u5176\u4ed6\u8bbe\u5907\u5219\u4f1a\u5ffd\u7565\u8fd9\u4e2a\u5305"),"\u3002"),(0,l.kt)("p",null,"\u6709\u4eba\u4f1a\u8bf4\uff1a\u201c\u8fd9\u6837\u505a\u4f1a\u53d1\u9001\u591a\u4f59\u7684\u5305\uff0c\u4f1a\u4e0d\u4f1a\u9020\u6210\u7f51\u7edc\u62e5\u585e\u5462\uff1f\u201d"),(0,l.kt)("p",null,"\u5176\u5b9e\u5b8c\u5168\u4e0d\u7528\u8fc7\u4e8e\u62c5\u5fc3\uff0c\u56e0\u4e3a\u53d1\u9001\u4e86\u5305\u4e4b\u540e\u76ee\u6807\u8bbe\u5907\u4f1a\u4f5c\u51fa\u54cd\u5e94\uff0c\u53ea\u8981\u8fd4\u56de\u4e86\u54cd\u5e94\u5305\uff0c\u4ea4\u6362\u673a\u5c31\u53ef\u4ee5\u5c06\u5b83\u7684\u5730\u5740\u5199\u5165 MAC \u5730\u5740\u8868\uff0c\u4e0b\u6b21\u4e5f\u5c31\u4e0d\u9700\u8981\u628a\u5305\u53d1\u5230\u6240\u6709\u7aef\u53e3\u4e86\u3002"),(0,l.kt)("p",null,"\u5c40\u57df\u7f51\u4e2d\u6bcf\u79d2\u53ef\u4ee5\u4f20\u8f93\u4e0a\u5343\u4e2a\u5305\uff0c\u591a\u51fa\u4e00\u4e24\u4e2a\u5305\u5e76\u65e0\u5927\u788d\u3002"),(0,l.kt)("p",null,"\u6b64\u5916\uff0c\u5982\u679c\u63a5\u6536\u65b9 MAC \u5730\u5740\u662f\u4e00\u4e2a",(0,l.kt)("strong",{parentName:"p"},"\u5e7f\u64ad\u5730\u5740"),"\uff0c\u90a3\u4e48\u4ea4\u6362\u673a\u4f1a\u5c06\u5305\u53d1\u9001\u5230\u9664\u6e90\u7aef\u53e3\u4e4b\u5916\u7684\u6240\u6709\u7aef\u53e3\u3002"),(0,l.kt)("p",null,"\u4ee5\u4e0b\u4e24\u4e2a\u5c5e\u4e8e\u5e7f\u64ad\u5730\u5740\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"MAC \u5730\u5740\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"FF:FF:FF:FF:FF:FF")),(0,l.kt)("li",{parentName:"ul"},"IP \u5730\u5740\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"255.255.255.255"))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6570\u636e\u5305\u901a\u8fc7\u4ea4\u6362\u673a\u8f6c\u53d1\u62b5\u8fbe\u4e86\u8def\u7531\u5668\uff0c\u51c6\u5907\u8981\u79bb\u5f00\u571f\u751f\u571f\u957f\u7684\u5b50\u7f51\u4e86\u3002\u6b64\u65f6\uff0c\u6570\u636e\u5305\u548c\u4ea4\u6362\u673a\u79bb\u522b\u65f6\u8bf4\u9053\uff1a\u201c\u611f\u8c22\u4ea4\u6362\u673a\u5144\u5f1f\uff0c\u5e2e\u6211\u8f6c\u53d1\u5230\u51fa\u5883\u7684\u5927\u95e8\uff0c\u6211\u8981\u51fa\u8fdc\u95e8\u5566\uff01\u201d")),(0,l.kt)("h5",{id:"\u8def\u7531\u5668"},"\u8def\u7531\u5668"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8def\u7531\u5668\u4e0e\u4ea4\u6362\u673a\u7684\u533a\u522b")),(0,l.kt)("p",null,"\u7f51\u7edc\u5305\u7ecf\u8fc7\u4ea4\u6362\u673a\u4e4b\u540e\uff0c\u73b0\u5728\u5230\u8fbe\u4e86",(0,l.kt)("strong",{parentName:"p"},"\u8def\u7531\u5668"),"\uff0c\u5e76\u5728\u6b64\u88ab\u8f6c\u53d1\u5230\u4e0b\u4e00\u4e2a\u8def\u7531\u5668\u6216\u76ee\u6807\u8bbe\u5907\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e00\u6b65\u8f6c\u53d1\u7684\u5de5\u4f5c\u539f\u7406\u548c\u4ea4\u6362\u673a\u7c7b\u4f3c\uff0c\u4e5f\u662f\u901a\u8fc7\u67e5\u8868\u5224\u65ad\u5305\u8f6c\u53d1\u7684\u76ee\u6807\u3002"),(0,l.kt)("p",null,"\u4e0d\u8fc7\u5728\u5177\u4f53\u7684\u64cd\u4f5c\u8fc7\u7a0b\u4e0a\uff0c\u8def\u7531\u5668\u548c\u4ea4\u6362\u673a\u662f\u6709\u533a\u522b\u7684\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u56e0\u4e3a",(0,l.kt)("strong",{parentName:"li"},"\u8def\u7531\u5668"),"\u662f\u57fa\u4e8e IP \u8bbe\u8ba1\u7684\uff0c\u4fd7\u79f0",(0,l.kt)("strong",{parentName:"li"},"\u4e09\u5c42"),"\u7f51\u7edc\u8bbe\u5907\uff0c\u8def\u7531\u5668\u7684\u5404\u4e2a\u7aef\u53e3\u90fd\u5177\u6709 MAC \u5730\u5740\u548c IP \u5730\u5740\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u800c",(0,l.kt)("strong",{parentName:"li"},"\u4ea4\u6362\u673a"),"\u662f\u57fa\u4e8e\u4ee5\u592a\u7f51\u8bbe\u8ba1\u7684\uff0c\u4fd7\u79f0",(0,l.kt)("strong",{parentName:"li"},"\u4e8c\u5c42"),"\u7f51\u7edc\u8bbe\u5907\uff0c\u4ea4\u6362\u673a\u7684\u7aef\u53e3\u4e0d\u5177\u6709 MAC \u5730\u5740\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8def\u7531\u5668\u57fa\u672c\u539f\u7406")),(0,l.kt)("p",null,"\u8def\u7531\u5668\u7684\u7aef\u53e3\u5177\u6709 MAC \u5730\u5740\uff0c\u56e0\u6b64\u5b83\u5c31\u80fd\u591f\u6210\u4e3a\u4ee5\u592a\u7f51\u7684\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\uff1b\u540c\u65f6\u8fd8\u5177\u6709 IP \u5730\u5740\uff0c\u4ece\u8fd9\u4e2a\u610f\u4e49\u4e0a\u6765\u8bf4\uff0c\u5b83\u548c\u8ba1\u7b97\u673a\u7684\u7f51\u5361\u662f\u4e00\u6837\u7684\u3002"),(0,l.kt)("p",null,"\u5f53\u8f6c\u53d1\u5305\u65f6\uff0c\u9996\u5148\u8def\u7531\u5668\u7aef\u53e3\u4f1a\u63a5\u6536\u53d1\u7ed9\u81ea\u5df1\u7684\u4ee5\u592a\u7f51\u5305\uff0c\u7136\u540e",(0,l.kt)("strong",{parentName:"p"},"\u8def\u7531\u8868"),"\u67e5\u8be2\u8f6c\u53d1\u76ee\u6807\uff0c\u518d\u7531\u76f8\u5e94\u7684\u7aef\u53e3\u4f5c\u4e3a\u53d1\u9001\u65b9\u5c06\u4ee5\u592a\u7f51\u5305\u53d1\u9001\u51fa\u53bb\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8def\u7531\u5668\u7684\u5305\u63a5\u6536\u64cd\u4f5c")),(0,l.kt)("p",null,"\u9996\u5148\uff0c\u7535\u4fe1\u53f7\u5230\u8fbe\u7f51\u7ebf\u63a5\u53e3\u90e8\u5206\uff0c\u8def\u7531\u5668\u4e2d\u7684\u6a21\u5757\u4f1a\u5c06\u7535\u4fe1\u53f7\u8f6c\u6210\u6570\u5b57\u4fe1\u53f7\uff0c\u7136\u540e\u901a\u8fc7\u5305\u672b\u5c3e\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"FCS")," \u8fdb\u884c\u9519\u8bef\u6821\u9a8c\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u6ca1\u95ee\u9898\u5219\u68c0\u67e5 MAC \u5934\u90e8\u4e2d\u7684",(0,l.kt)("strong",{parentName:"p"},"\u63a5\u6536\u65b9 MAC \u5730\u5740"),"\uff0c\u770b\u770b\u662f\u4e0d\u662f\u53d1\u7ed9\u81ea\u5df1\u7684\u5305\uff0c\u5982\u679c\u662f\u5c31\u653e\u5230\u63a5\u6536\u7f13\u51b2\u533a\u4e2d\uff0c\u5426\u5219\u5c31\u4e22\u5f03\u8fd9\u4e2a\u5305\u3002"),(0,l.kt)("p",null,"\u603b\u7684\u6765\u8bf4\uff0c\u8def\u7531\u5668\u7684\u7aef\u53e3\u90fd\u5177\u6709 MAC \u5730\u5740\uff0c\u53ea\u63a5\u6536\u4e0e\u81ea\u8eab\u5730\u5740\u5339\u914d\u7684\u5305\uff0c\u9047\u5230\u4e0d\u5339\u914d\u7684\u5305\u5219\u76f4\u63a5\u4e22\u5f03\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u67e5\u8be2\u8def\u7531\u8868\u786e\u5b9a\u8f93\u51fa\u7aef\u53e3")),(0,l.kt)("p",null,"\u5b8c\u6210\u5305\u63a5\u6536\u64cd\u4f5c\u4e4b\u540e\uff0c\u8def\u7531\u5668\u5c31\u4f1a",(0,l.kt)("strong",{parentName:"p"},"\u53bb\u6389"),"\u5305\u5f00\u5934\u7684 MAC \u5934\u90e8\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"MAC \u5934\u90e8\u7684\u4f5c\u7528\u5c31\u662f\u5c06\u5305\u9001\u8fbe\u8def\u7531\u5668"),"\uff0c\u5176\u4e2d\u7684\u63a5\u6536\u65b9 MAC \u5730\u5740\u5c31\u662f\u8def\u7531\u5668\u7aef\u53e3\u7684 MAC \u5730\u5740\u3002\u56e0\u6b64\uff0c\u5f53\u5305\u5230\u8fbe\u8def\u7531\u5668\u4e4b\u540e\uff0cMAC \u5934\u90e8\u7684\u4efb\u52a1\u5c31\u5b8c\u6210\u4e86\uff0c\u4e8e\u662f MAC \u5934\u90e8\u5c31\u4f1a",(0,l.kt)("strong",{parentName:"p"},"\u88ab\u4e22\u5f03"),"\u3002"),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u8def\u7531\u5668\u4f1a\u6839\u636e MAC \u5934\u90e8\u540e\u65b9\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"IP")," \u5934\u90e8\u4e2d\u7684\u5185\u5bb9\u8fdb\u884c\u5305\u7684\u8f6c\u53d1\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,"\u8f6c\u53d1\u64cd\u4f5c\u5206\u4e3a\u51e0\u4e2a\u9636\u6bb5\uff0c\u9996\u5148\u662f\u67e5\u8be2",(0,l.kt)("strong",{parentName:"p"},"\u8def\u7531\u8868"),"\u5224\u65ad\u8f6c\u53d1\u76ee\u6807\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"\u8def\u7531\u5668\u8f6c\u53d1",src:n(25194).Z,width:"1260",height:"798"})),(0,l.kt)("p",null,"\u5177\u4f53\u7684\u5de5\u4f5c\u6d41\u7a0b\u6839\u636e\u4e0a\u56fe\uff0c\u4e3e\u4e2a\u4f8b\u5b50\u3002"),(0,l.kt)("p",null,"\u5047\u8bbe\u5730\u5740\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"10.10.1.101")," \u7684\u8ba1\u7b97\u673a\u8981\u5411\u5730\u5740\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"192.168.1.100")," \u7684\u670d\u52a1\u5668\u53d1\u9001\u4e00\u4e2a\u5305\uff0c\u8fd9\u4e2a\u5305\u5148\u5230\u8fbe\u56fe\u4e2d\u7684\u8def\u7531\u5668\u3002"),(0,l.kt)("p",null,"\u5224\u65ad\u8f6c\u53d1\u76ee\u6807\u7684\u7b2c\u4e00\u6b65\uff0c\u5c31\u662f\u6839\u636e\u5305\u7684\u63a5\u6536\u65b9 IP \u5730\u5740\u67e5\u8be2\u8def\u7531\u8868\u4e2d\u7684\u76ee\u6807\u5730\u5740\u680f\uff0c\u4ee5\u627e\u5230\u76f8\u5339\u914d\u7684\u8bb0\u5f55\u3002"),(0,l.kt)("p",null,"\u8def\u7531\u5339\u914d\u548c\u524d\u9762\u8bb2\u7684\u4e00\u6837\uff0c\u6bcf\u4e2a\u6761\u76ee\u7684\u5b50\u7f51\u63a9\u7801\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"192.168.1.100")," IP \u505a ",(0,l.kt)("strong",{parentName:"p"},"& \u4e0e\u8fd0\u7b97"),"\u540e\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u4e0e\u5bf9\u5e94\u6761\u76ee\u7684\u76ee\u6807\u5730\u5740\u8fdb\u884c\u5339\u914d\uff0c\u5982\u679c\u5339\u914d\u5c31\u4f1a\u4f5c\u4e3a\u5019\u9009\u8f6c\u53d1\u76ee\u6807\uff0c\u5982\u679c\u4e0d\u5339\u914d\u5c31\u7ee7\u7eed\u4e0e\u4e0b\u4e2a\u6761\u76ee\u8fdb\u884c\u8def\u7531\u5339\u914d\u3002"),(0,l.kt)("p",null,"\u5982\u7b2c\u4e8c\u6761\u76ee\u7684\u5b50\u7f51\u63a9\u7801 ",(0,l.kt)("inlineCode",{parentName:"p"},"255.255.255.0")," \u4e0e ",(0,l.kt)("inlineCode",{parentName:"p"},"192.168.1.100")," IP \u505a ",(0,l.kt)("strong",{parentName:"p"},"& \u4e0e\u8fd0\u7b97"),"\u540e\uff0c\u5f97\u5230\u7ed3\u679c\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"192.168.1.0")," \uff0c\u8fd9\u4e0e\u7b2c\u4e8c\u6761\u76ee\u7684\u76ee\u6807\u5730\u5740 ",(0,l.kt)("inlineCode",{parentName:"p"},"192.168.1.0")," \u5339\u914d\uff0c\u8be5\u7b2c\u4e8c\u6761\u76ee\u8bb0\u5f55\u5c31\u4f1a\u88ab\u4f5c\u4e3a\u8f6c\u53d1\u76ee\u6807\u3002"),(0,l.kt)("p",null,"\u5b9e\u5728\u627e\u4e0d\u5230\u5339\u914d\u8def\u7531\u65f6\uff0c\u5c31\u4f1a\u9009\u62e9",(0,l.kt)("strong",{parentName:"p"},"\u9ed8\u8ba4\u8def\u7531"),"\uff0c\u8def\u7531\u8868\u4e2d\u5b50\u7f51\u63a9\u7801\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"0.0.0.0")," \u7684\u8bb0\u5f55\u8868\u793a\u300c\u9ed8\u8ba4\u8def\u7531\u300d\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8def\u7531\u5668\u7684\u53d1\u9001\u64cd\u4f5c")),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\u5c31\u4f1a\u8fdb\u5165\u5305\u7684",(0,l.kt)("strong",{parentName:"p"},"\u53d1\u9001\u64cd\u4f5c"),"\u3002"),(0,l.kt)("p",null,"\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u6839\u636e",(0,l.kt)("strong",{parentName:"p"},"\u8def\u7531\u8868\u7684\u7f51\u5173\u5217"),"\u5224\u65ad\u5bf9\u65b9\u7684\u5730\u5740\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u7f51\u5173\u662f\u4e00\u4e2a IP \u5730\u5740\uff0c\u5219\u8fd9\u4e2aIP \u5730\u5740\u5c31\u662f\u6211\u4eec\u8981\u8f6c\u53d1\u5230\u7684\u76ee\u6807\u5730\u5740\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u8fd8\u672a\u62b5\u8fbe\u7ec8\u70b9"),"\uff0c\u8fd8\u9700\u7ee7\u7eed\u9700\u8981\u8def\u7531\u5668\u8f6c\u53d1\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u7f51\u5173\u4e3a\u7a7a\uff0c\u5219 IP \u5934\u90e8\u4e2d\u7684\u63a5\u6536\u65b9 IP \u5730\u5740\u5c31\u662f\u8981\u8f6c\u53d1\u5230\u7684\u76ee\u6807\u5730\u5740\uff0c\u4e5f\u662f\u5c31\u7ec8\u4e8e\u627e\u5230 IP \u5305\u5934\u91cc\u7684\u76ee\u6807\u5730\u5740\u4e86\uff0c\u8bf4\u660e",(0,l.kt)("strong",{parentName:"li"},"\u5df2\u62b5\u8fbe\u7ec8\u70b9"),"\u3002")),(0,l.kt)("p",null,"\u77e5\u9053\u5bf9\u65b9\u7684 IP \u5730\u5740\u4e4b\u540e\uff0c\u63a5\u4e0b\u6765\u9700\u8981\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"ARP")," \u534f\u8bae\u6839\u636e IP \u5730\u5740\u67e5\u8be2 MAC \u5730\u5740\uff0c\u5e76\u5c06\u67e5\u8be2\u7684\u7ed3\u679c\u4f5c\u4e3a\u63a5\u6536\u65b9 MAC \u5730\u5740\u3002"),(0,l.kt)("p",null,"\u8def\u7531\u5668\u4e5f\u6709 ARP \u7f13\u5b58\uff0c\u56e0\u6b64\u9996\u5148\u4f1a\u5728 ARP \u7f13\u5b58\u4e2d\u67e5\u8be2\uff0c\u5982\u679c\u627e\u4e0d\u5230\u5219\u53d1\u9001 ARP \u67e5\u8be2\u8bf7\u6c42\u3002"),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\u662f\u53d1\u9001\u65b9 MAC \u5730\u5740\u5b57\u6bb5\uff0c\u8fd9\u91cc\u586b\u5199\u8f93\u51fa\u7aef\u53e3\u7684 MAC \u5730\u5740\u3002\u8fd8\u6709\u4e00\u4e2a\u4ee5\u592a\u7c7b\u578b\u5b57\u6bb5\uff0c\u586b\u5199 ",(0,l.kt)("inlineCode",{parentName:"p"},"0800")," \uff08\u5341\u516d\u8fdb\u5236\uff09\u8868\u793a IP \u534f\u8bae\u3002"),(0,l.kt)("p",null,"\u7f51\u7edc\u5305\u5b8c\u6210\u540e\uff0c\u63a5\u4e0b\u6765\u4f1a\u5c06\u5176\u8f6c\u6362\u6210\u7535\u4fe1\u53f7\u5e76\u901a\u8fc7\u7aef\u53e3\u53d1\u9001\u51fa\u53bb\u3002\u8fd9\u4e00\u6b65\u7684\u5de5\u4f5c\u8fc7\u7a0b\u548c\u8ba1\u7b97\u673a\u4e5f\u662f\u76f8\u540c\u7684\u3002"),(0,l.kt)("p",null,"\u53d1\u9001\u51fa\u53bb\u7684\u7f51\u7edc\u5305\u4f1a\u901a\u8fc7",(0,l.kt)("strong",{parentName:"p"},"\u4ea4\u6362\u673a"),"\u5230\u8fbe\u4e0b\u4e00\u4e2a\u8def\u7531\u5668\u3002\u7531\u4e8e\u63a5\u6536\u65b9 MAC \u5730\u5740\u5c31\u662f\u4e0b\u4e00\u4e2a\u8def\u7531\u5668\u7684\u5730\u5740\uff0c\u6240\u4ee5\u4ea4\u6362\u673a\u4f1a\u6839\u636e\u8fd9\u4e00\u5730\u5740\u5c06\u5305\u4f20\u8f93\u5230\u4e0b\u4e00\u4e2a\u8def\u7531\u5668\u3002"),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u4e0b\u4e00\u4e2a\u8def\u7531\u5668\u4f1a\u5c06\u5305\u8f6c\u53d1\u7ed9\u518d\u4e0b\u4e00\u4e2a\u8def\u7531\u5668\uff0c\u7ecf\u8fc7\u5c42\u5c42\u8f6c\u53d1\u4e4b\u540e\uff0c\u7f51\u7edc\u5305\u5c31\u5230\u8fbe\u4e86\u6700\u7ec8\u7684\u76ee\u7684\u5730\u3002"),(0,l.kt)("p",null,"\u4e0d\u77e5\u4f60\u53d1\u73b0\u4e86\u6ca1\u6709\uff0c\u5728\u7f51\u7edc\u5305\u4f20\u8f93\u7684\u8fc7\u7a0b\u4e2d\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u6e90 IP \u548c\u76ee\u6807 IP \u59cb\u7ec8\u662f\u4e0d\u4f1a\u53d8\u7684\uff0c\u4e00\u76f4\u53d8\u5316\u7684\u662f MAC \u5730\u5740"),"\uff0c\u56e0\u4e3a\u9700\u8981 MAC \u5730\u5740\u5728\u4ee5\u592a\u7f51\u5185\u8fdb\u884c",(0,l.kt)("strong",{parentName:"p"},"\u4e24\u4e2a\u8bbe\u5907"),"\u4e4b\u95f4\u7684\u5305\u4f20\u8f93\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6570\u636e\u5305\u901a\u8fc7\u591a\u4e2a\u8def\u7531\u5668\u9053\u53cb\u7684\u5e2e\u52a9\uff0c\u5728\u7f51\u7edc\u4e16\u754c\u9014\u7ecf\u4e86\u5f88\u591a\u8def\u7a0b\uff0c\u6700\u7ec8\u62b5\u8fbe\u4e86\u76ee\u7684\u5730\u7684\u57ce\u95e8\uff01\u57ce\u95e8\u503c\u5b88\u7684\u8def\u7531\u5668\uff0c\u53d1\u73b0\u4e86\u8fd9\u4e2a\u5c0f\u5144\u5f1f\u6570\u636e\u5305\u539f\u6765\u662f\u627e\u57ce\u5185\u7684\u4eba\uff0c\u4e8e\u662f\u5b83\u5c31\u5c06\u6570\u636e\u5305\u9001\u8fdb\u4e86\u57ce\u5185\uff0c\u518d\u7ecf\u7531\u57ce\u5185\u7684\u4ea4\u6362\u673a\u5e2e\u52a9\u4e0b\uff0c\u6700\u7ec8\u8f6c\u53d1\u5230\u4e86\u76ee\u7684\u5730\u4e86\u3002\u6570\u636e\u5305\u611f\u6168\u4e07\u5343\u7684\u8bf4\u9053\uff1a\u201c\u591a\u8c22\u8fd9\u4e00\u8def\u4e0a\uff0c\u5404\u8def\u5927\u4fa0\u7684\u76f8\u52a9\uff01\u201d")),(0,l.kt)("h5",{id:"\u670d\u52a1\u5668-\u4e0e-\u5ba2\u6237\u7aef"},"\u670d\u52a1\u5668 \u4e0e \u5ba2\u6237\u7aef"),(0,l.kt)("p",null,"\u6570\u636e\u5305\u62b5\u8fbe\u4e86\u670d\u52a1\u5668\uff0c\u670d\u52a1\u5668\u80af\u5b9a\u9ad8\u5174\u5440\uff0c\u6b63\u6240\u8c13\u6709\u670b\u81ea\u8fdc\u65b9\u6765\uff0c\u4e0d\u4ea6\u4e50\u4e4e\uff1f"),(0,l.kt)("p",null,"\u670d\u52a1\u5668\u9ad8\u5174\u7684\u4e0d\u5f97\u4e86\uff0c\u4e8e\u662f\u5f00\u59cb\u6252\u6570\u636e\u5305\u7684\u76ae\uff01\u5c31\u597d\u50cf\u4f60\u6536\u5230\u5feb\u9012\uff0c\u80fd\u4e0d\u5174\u594b\u5417\uff1f"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"\u7f51\u7edc\u5206\u5c42\u6a21\u578b",src:n(74248).Z,width:"936",height:"953"})),(0,l.kt)("p",null,"\u6570\u636e\u5305\u62b5\u8fbe\u670d\u52a1\u5668\u540e\uff0c\u670d\u52a1\u5668\u4f1a\u5148\u6252\u5f00\u6570\u636e\u5305\u7684 MAC \u5934\u90e8\uff0c\u67e5\u770b\u662f\u5426\u548c\u670d\u52a1\u5668\u81ea\u5df1\u7684 MAC \u5730\u5740\u7b26\u5408\uff0c\u7b26\u5408\u5c31\u5c06\u5305\u6536\u8d77\u6765\u3002"),(0,l.kt)("p",null,"\u63a5\u7740\u7ee7\u7eed\u6252\u5f00\u6570\u636e\u5305\u7684 IP \u5934\uff0c\u53d1\u73b0 IP \u5730\u5740\u7b26\u5408\uff0c\u6839\u636e IP \u5934\u4e2d\u534f\u8bae\u9879\uff0c\u77e5\u9053\u81ea\u5df1\u4e0a\u5c42\u662f TCP \u534f\u8bae\u3002"),(0,l.kt)("p",null,"\u4e8e\u662f\uff0c\u6252\u5f00 TCP \u7684\u5934\uff0c\u91cc\u9762\u6709\u5e8f\u5217\u53f7\uff0c\u9700\u8981\u770b\u4e00\u770b\u8fd9\u4e2a\u5e8f\u5217\u5305\u662f\u4e0d\u662f\u6211\u60f3\u8981\u7684\uff0c\u5982\u679c\u662f\u5c31\u653e\u5165\u7f13\u5b58\u4e2d\u7136\u540e\u8fd4\u56de\u4e00\u4e2a ACK\uff0c\u5982\u679c\u4e0d\u662f\u5c31\u4e22\u5f03\u3002TCP\u5934\u90e8\u91cc\u9762\u8fd8\u6709\u7aef\u53e3\u53f7\uff0c HTTP \u7684\u670d\u52a1\u5668\u6b63\u5728\u76d1\u542c\u8fd9\u4e2a\u7aef\u53e3\u53f7\u3002"),(0,l.kt)("p",null,"\u4e8e\u662f\uff0c\u670d\u52a1\u5668\u81ea\u7136\u5c31\u77e5\u9053\u662f HTTP \u8fdb\u7a0b\u60f3\u8981\u8fd9\u4e2a\u5305\uff0c\u4e8e\u662f\u5c31\u5c06\u5305\u53d1\u7ed9 HTTP \u8fdb\u7a0b\u3002"),(0,l.kt)("p",null,"\u670d\u52a1\u5668\u7684 HTTP \u8fdb\u7a0b\u770b\u5230\uff0c\u539f\u6765\u8fd9\u4e2a\u8bf7\u6c42\u662f\u8981\u8bbf\u95ee\u4e00\u4e2a\u9875\u9762\uff0c\u4e8e\u662f\u5c31\u628a\u8fd9\u4e2a\u7f51\u9875\u5c01\u88c5\u5728 HTTP \u54cd\u5e94\u62a5\u6587\u91cc\u3002"),(0,l.kt)("p",null,"HTTP \u54cd\u5e94\u62a5\u6587\u4e5f\u9700\u8981\u7a7f\u4e0a TCP\u3001IP\u3001MAC \u5934\u90e8\uff0c\u4e0d\u8fc7\u8fd9\u6b21\u662f\u6e90\u5730\u5740\u662f\u670d\u52a1\u5668 IP \u5730\u5740\uff0c\u76ee\u7684\u5730\u5740\u662f\u5ba2\u6237\u7aef IP \u5730\u5740\u3002"),(0,l.kt)("p",null,"\u7a7f\u597d\u5934\u90e8\u8863\u670d\u540e\uff0c\u4ece\u7f51\u5361\u51fa\u53bb\uff0c\u4ea4\u7531\u4ea4\u6362\u673a\u8f6c\u53d1\u5230\u51fa\u57ce\u7684\u8def\u7531\u5668\uff0c\u8def\u7531\u5668\u5c31\u628a\u54cd\u5e94\u6570\u636e\u5305\u53d1\u5230\u4e86\u4e0b\u4e00\u4e2a\u8def\u7531\u5668\uff0c\u5c31\u8fd9\u6837\u8df3\u554a\u8df3\u3002"),(0,l.kt)("p",null,"\u6700\u540e\u8df3\u5230\u4e86\u5ba2\u6237\u7aef\u7684\u57ce\u95e8\u628a\u5b88\u7684\u8def\u7531\u5668\uff0c\u8def\u7531\u5668\u6252\u5f00 IP \u5934\u90e8\u53d1\u73b0\u662f\u8981\u627e\u57ce\u5185\u7684\u4eba\uff0c\u4e8e\u662f\u53c8\u628a\u5305\u53d1\u7ed9\u4e86\u57ce\u5185\u7684\u4ea4\u6362\u673a\uff0c\u518d\u7531\u4ea4\u6362\u673a\u8f6c\u53d1\u5230\u5ba2\u6237\u7aef\u3002"),(0,l.kt)("p",null,"\u5ba2\u6237\u7aef\u6536\u5230\u4e86\u670d\u52a1\u5668\u7684\u54cd\u5e94\u6570\u636e\u5305\u540e\uff0c\u540c\u6837\u4e5f\u975e\u5e38\u7684\u9ad8\u5174\uff0c\u5ba2\u6237\u80fd\u62c6\u5feb\u9012\u4e86\uff01"),(0,l.kt)("p",null,"\u4e8e\u662f\uff0c\u5ba2\u6237\u7aef\u5f00\u59cb\u6252\u76ae\uff0c\u628a\u6536\u5230\u7684\u6570\u636e\u5305\u7684\u76ae\u6252\u5269 HTTP \u54cd\u5e94\u62a5\u6587\u540e\uff0c\u4ea4\u7ed9\u6d4f\u89c8\u5668\u53bb\u6e32\u67d3\u9875\u9762\uff0c\u4e00\u4efd\u7279\u522b\u7684\u6570\u636e\u5305\u5feb\u9012\uff0c\u5c31\u8fd9\u6837\u663e\u793a\u51fa\u6765\u4e86\uff01"),(0,l.kt)("p",null,"\u6700\u540e\uff0c\u5ba2\u6237\u7aef\u8981\u79bb\u5f00\u4e86\uff0c\u5411\u670d\u52a1\u5668\u53d1\u8d77\u4e86 TCP \u56db\u6b21\u6325\u624b\uff0c\u81f3\u6b64\u53cc\u65b9\u7684\u8fde\u63a5\u5c31\u65ad\u5f00\u4e86\u3002"),(0,l.kt)("h5",{id:"\u6570\u636e\u5305"},"\u6570\u636e\u5305"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e0b\u9762\u5185\u5bb9\u7684 \u300c\u6211\u300d\uff0c\u4ee3\u8868\u300c\u81ed\u7f8e\u7684\u6570\u636e\u5305\u89d2\u8272\u300d\u3002\u6ce8\uff1a\uff08\u62ec\u53f7\u7684\u5185\u5bb9\uff09\u4ee3\u8868\u6211\u7684\u5410\u69fd\uff0c\u4e09\u8fde\u5478\uff01")),(0,l.kt)("p",null,"\u6211\u4e00\u5f00\u59cb\u6211\u867d\u7136\u5b64\u5355\u3001\u4e0d\u77e5\u6240\u63aa\uff0c\u4f46\u6ca1\u6709\u505c\u6ede\u4e0d\u524d\u3002\u6211\u4f9d\u7136\u6ee1\u6000\u4fe1\u5fc3\u548c\u52c7\u6c14\u5f00\u59cb\u4e86\u5f81\u9014\u3002\uff08",(0,l.kt)("strong",{parentName:"p"},"\u4f60\u5f53\u7136\u6709\u52c7\u6c14\uff0c\u4f60\u662f\u5e94\u7528\u5c42\u6570\u636e\uff0c\u540e\u9762\u6709\u5e95\u5c42\u5144\u5f1f\u5f53\u9760\u5c71\uff0c\u6211\u5478\uff01"),"\uff09"),(0,l.kt)("p",null,"\u6211\u5f88\u5e86\u5e78\u9047\u5230\u4e86\u5404\u8def\u795e\u901a\u5e7f\u5927\u7684\u5927\u4f6c\uff0c\u6709\u53ef\u9760\u4f20\u8f93\u7684 TCP\u3001\u6709\u8fdc\u7a0b\u5b9a\u4f4d\u529f\u80fd\u7684 IP\u3001\u6709\u6307\u660e\u4e0b\u4e00\u7ad9\u4f4d\u7f6e\u7684 MAC \u7b49\uff08",(0,l.kt)("strong",{parentName:"p"},"\u4f60\u5f53\u7136\u4f1a\u9047\u5230\uff0c\u56e0\u4e3a\u90fd\u88ab\u8ba1\u7b97\u673a\u5b89\u6392\u597d\u7684\uff0c\u6211\u5478\uff01"),"\uff09\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e9b\u5927\u4f6c\u90fd\u7ed9\u6211\u524d\u9762\u52a0\u4e0a\u4e86\u5934\u90e8\uff0c\u4f7f\u5f97\u6211\u80fd\u5728\u4ea4\u6362\u673a\u548c\u8def\u7531\u5668\u7684\u8f6c\u53d1\u4e0b\uff0c\u62b5\u8fbe\u5230\u4e86\u76ee\u7684\u5730\uff01\uff08",(0,l.kt)("strong",{parentName:"p"},"\u54ce\uff0c\u4f60\u4e5f\u4e0d\u5bb9\u6613\uff0c\u4e0d\u5410\u69fd\u4e86\uff0c\u653e\u8fc7\u4f60\uff01"),"\uff09"),(0,l.kt)("p",null,"\u8fd9\u4e00\u8def\u4e0a\u7684\u7ecf\u5386\uff0c\u8ba9\u6211\u8ba4\u8bc6\u5230\u4e86\u7f51\u7edc\u4e16\u754c\u4e2d\u5404\u8def\u5927\u4fa0\u534f\u4f5c\u7684\u91cd\u8981\u6027\uff0c\u662f\u4ed6\u4eec\u7ef4\u62a4\u4e86\u7f51\u7edc\u4e16\u754c\u7684\u79e9\u5e8f\uff0c\u611f\u8c22\u4ed6\u4eec\uff01\uff08",(0,l.kt)("strong",{parentName:"p"},"\u6211\u5478\uff0c\u4f60\u5e94\u8be5\u611f\u8c22\u4f17\u591a\u8ba1\u7b97\u673a\u79d1\u5b66\u5bb6\uff01"),"\uff09"),(0,l.kt)("h4",{id:"tcp\u5982\u4f55\u4fdd\u8bc1\u53ef\u9760\u4f20\u8f93"},"TCP\u5982\u4f55\u4fdd\u8bc1\u53ef\u9760\u4f20\u8f93\uff1f"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5e94\u7528\u6570\u636e\u88ab\u5206\u5272\u6210 TCP \u8ba4\u4e3a\u6700\u9002\u5408\u53d1\u9001\u7684\u6570\u636e\u5757\u3002"),(0,l.kt)("li",{parentName:"ol"},"TCP \u7ed9\u53d1\u9001\u7684\u6bcf\u4e00\u4e2a\u5305\u8fdb\u884c\u7f16\u53f7\uff0c\u63a5\u6536\u65b9\u5bf9\u6570\u636e\u5305\u8fdb\u884c\u6392\u5e8f\uff0c\u628a\u6709\u5e8f\u6570\u636e\u4f20\u9001\u7ed9\u5e94\u7528\u5c42\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u6821\u9a8c\u548c\uff1a")," TCP \u5c06\u4fdd\u6301\u5b83\u9996\u90e8\u548c\u6570\u636e\u7684\u68c0\u9a8c\u548c\u3002\u8fd9\u662f\u4e00\u4e2a\u7aef\u5230\u7aef\u7684\u68c0\u9a8c\u548c\uff0c\u76ee\u7684\u662f\u68c0\u6d4b\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u7684\u4efb\u4f55\u53d8\u5316\u3002\u5982\u679c\u6536\u5230\u6bb5\u7684\u68c0\u9a8c\u548c\u6709\u5dee\u9519\uff0cTCP \u5c06\u4e22\u5f03\u8fd9\u4e2a\u62a5\u6587\u6bb5\u548c\u4e0d\u786e\u8ba4\u6536\u5230\u6b64\u62a5\u6587\u6bb5\u3002"),(0,l.kt)("li",{parentName:"ol"},"TCP \u7684\u63a5\u6536\u7aef\u4f1a\u4e22\u5f03\u91cd\u590d\u7684\u6570\u636e\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u6d41\u91cf\u63a7\u5236\uff1a")," TCP \u8fde\u63a5\u7684\u6bcf\u4e00\u65b9\u90fd\u6709\u56fa\u5b9a\u5927\u5c0f\u7684\u7f13\u51b2\u7a7a\u95f4\uff0cTCP  \u7684\u63a5\u6536\u7aef\u53ea\u5141\u8bb8\u53d1\u9001\u7aef\u53d1\u9001\u63a5\u6536\u7aef\u7f13\u51b2\u533a\u80fd\u63a5\u7eb3\u7684\u6570\u636e\u3002\u5f53\u63a5\u6536\u65b9\u6765\u4e0d\u53ca\u5904\u7406\u53d1\u9001\u65b9\u7684\u6570\u636e\uff0c\u80fd\u63d0\u793a\u53d1\u9001\u65b9\u964d\u4f4e\u53d1\u9001\u7684\u901f\u7387\uff0c\u9632\u6b62\u5305\u4e22\u5931\u3002TCP  \u4f7f\u7528\u7684\u6d41\u91cf\u63a7\u5236\u534f\u8bae\u662f\u53ef\u53d8\u5927\u5c0f\u7684\u6ed1\u52a8\u7a97\u53e3\u534f\u8bae\u3002 \uff08TCP \u5229\u7528\u6ed1\u52a8\u7a97\u53e3\u5b9e\u73b0\u6d41\u91cf\u63a7\u5236\uff09"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u62e5\u585e\u63a7\u5236\uff1a")," \u5f53\u7f51\u7edc\u62e5\u585e\u65f6\uff0c\u51cf\u5c11\u6570\u636e\u7684\u53d1\u9001\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"ARQ \u534f\u8bae\uff1a")," \u4e5f\u662f\u4e3a\u4e86\u5b9e\u73b0\u53ef\u9760\u4f20\u8f93\u7684\uff0c\u5b83\u7684\u57fa\u672c\u539f\u7406\u5c31\u662f\u6bcf\u53d1\u5b8c\u4e00\u4e2a\u5206\u7ec4\u5c31\u505c\u6b62\u53d1\u9001\uff0c\u7b49\u5f85\u5bf9\u65b9\u786e\u8ba4\u3002\u5728\u6536\u5230\u786e\u8ba4\u540e\u518d\u53d1\u4e0b\u4e00\u4e2a\u5206\u7ec4\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u8d85\u65f6\u91cd\u4f20\uff1a")," \u5f53 TCP \u53d1\u51fa\u4e00\u4e2a\u6bb5\u540e\uff0c\u5b83\u542f\u52a8\u4e00\u4e2a\u5b9a\u65f6\u5668\uff0c\u7b49\u5f85\u76ee\u7684\u7aef\u786e\u8ba4\u6536\u5230\u8fd9\u4e2a\u62a5\u6587\u6bb5\u3002\u5982\u679c\u4e0d\u80fd\u53ca\u65f6\u6536\u5230\u4e00\u4e2a\u786e\u8ba4\uff0c\u5c06\u91cd\u53d1\u8fd9\u4e2a\u62a5\u6587\u6bb5\u3002")),(0,l.kt)("h4",{id:"\ufe0ftcp-\u4e09\u6b21\u63e1\u624b\u548c\u56db\u6b21\u6325\u624b\u6781\u9650\u62d3\u5c55"},"\u2b50\ufe0fTCP \u4e09\u6b21\u63e1\u624b\u548c\u56db\u6b21\u6325\u624b\uff08+++\u6781\u9650\u62d3\u5c55\uff09"),(0,l.kt)("p",null,"\u8be6\u7ec6\u53ef\u89c1\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://xiaolincoding.com/network/3_tcp/tcp_interview.html#tcp-%E8%BF%9E%E6%8E%A5%E5%BB%BA%E7%AB%8B"},"https://xiaolincoding.com/network/3_tcp/tcp_interview.html#tcp-%E8%BF%9E%E6%8E%A5%E5%BB%BA%E7%AB%8B")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u524d\u63d0\u6982\u8981\uff1a"),(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("em",{parentName:"p"},"SYN\uff08\u540c\u6b65\u5e8f\u5217\u7f16\u53f7 ",(0,l.kt)("strong",{parentName:"em"},"Synchronize Sequence Numbers")," \uff09"),"\uff1a\u8be5\u4f4d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"1")," \u65f6\uff0c\u8868\u793a\u5e0c\u671b\u5efa\u7acb\u8fde\u63a5\uff0c\u5e76\u5728\u5176\u300c\u5e8f\u5217\u53f7\u300d\u7684\u5b57\u6bb5\u8fdb\u884c\u5e8f\u5217\u53f7\u521d\u59cb\u503c\u7684\u8bbe\u5b9a\u3002"),(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("em",{parentName:"p"},"ACK\uff08\u786e\u8ba4\u5b57\u7b26 ",(0,l.kt)("strong",{parentName:"em"},"Acknowledge character"),"\uff09"),"\uff1a\u8be5\u4f4d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"1")," \u65f6\uff0c\u300c\u786e\u8ba4\u5e94\u7b54\u300d\u7684\u5b57\u6bb5\u53d8\u4e3a\u6709\u6548\uff0cTCP \u89c4\u5b9a\u9664\u4e86\u6700\u521d\u5efa\u7acb\u8fde\u63a5\u65f6\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"SYN")," \u5305\u4e4b\u5916\u8be5\u4f4d\u5fc5\u987b\u8bbe\u7f6e\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"1")," \u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622162158478",src:n(18459).Z,width:"820",height:"450"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef\u2013\u53d1\u9001\u5e26\u6709 SYN \u6807\u5fd7\u7684\u6570\u636e\u5305\u2013\u4e00\u6b21\u63e1\u624b\u2013\u670d\u52a1\u7aef"),(0,l.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aef\u2013\u53d1\u9001\u5e26\u6709 SYN/ACK \u6807\u5fd7\u7684\u6570\u636e\u5305\u2013\u4e8c\u6b21\u63e1\u624b\u2013\u5ba2\u6237\u7aef"),(0,l.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef\u2013\u53d1\u9001\u5e26\u6709\u5e26\u6709 ACK \u6807\u5fd7\u7684\u6570\u636e\u5305\u2013\u4e09\u6b21\u63e1\u624b\u2013\u670d\u52a1\u7aef")),(0,l.kt)("p",null,"or \u53ef\u4ee5\u8fd9\u6837\u56de\u7b54\ud83e\uddcf\u200d\u2642\ufe0f\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u7b2c\u4e00\u6b21\u63e1\u624b\ud83e\udd1d\uff1a\u5ba2\u6237\u7aef\u7ed9\u670d\u52a1\u5668\u53d1\u9001\u4e00\u4e2a SYN \u62a5\u6587\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u7b2c\u4e8c\u6b21\u63e1\u624b\ud83e\udd1d\uff1a\u670d\u52a1\u5668\u6536\u5230 SYN \u62a5\u6587\u4e4b\u540e\uff0c\u4f1a\u5e94\u7b54\u4e00\u4e2a SYN+ACK \u62a5\u6587\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u7b2c\u4e09\u6b21\u63e1\u624b\ud83e\udd1d\uff1a\u5ba2\u6237\u7aef\u6536\u5230 SYN+ACK \u62a5\u6587\u4e4b\u540e\uff0c\u4f1a\u56de\u5e94\u4e00\u4e2a ACK \u62a5\u6587\u3002")),(0,l.kt)("p",null,"\u670d\u52a1\u5668\u6536\u5230 ACK \u62a5\u6587\u4e4b\u540e\uff0c\u4e09\u6b21\u63e1\u624b\u5efa\u7acb\u5b8c\u6210\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5f3a\u5316\u7406\u89e3\uff1a"),(0,l.kt)("p",{parentName:"blockquote"},"A\uff1a\u662fB\u5417\uff1f\u6211\u8981\u8ddf\u4f60\u901a\u4fe1\uff0c\u542c\u5f97\u5230\u6211\u8bf4\u8bdd\u5417\uff1f\nB\uff1a\u53ef\u4ee5\u901a\u4fe1\uff0c\u4f60\u542c\u5f97\u5230\u6211\u8bf4\u8bdd\u5417\uff1f\nA\uff1a\u6211\u4e5f\u542c\u5f97\u5230\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u524d\u63d0\u6982\u8981\uff1a"),(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("em",{parentName:"p"},"FIN\uff08\u7ec8\u6b62 ",(0,l.kt)("strong",{parentName:"em"},"FINish"),"\uff09"),"\uff1a\u8be5\u4f4d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"1")," \u65f6\uff0c\u8868\u793a\u4eca\u540e\u4e0d\u4f1a\u518d\u6709\u6570\u636e\u53d1\u9001\uff0c\u5e0c\u671b\u65ad\u5f00\u8fde\u63a5\u3002\u5f53\u901a\u4fe1\u7ed3\u675f\u5e0c\u671b\u65ad\u5f00\u8fde\u63a5\u65f6\uff0c\u901a\u4fe1\u53cc\u65b9\u7684\u4e3b\u673a\u4e4b\u95f4\u5c31\u53ef\u4ee5\u76f8\u4e92\u4ea4\u6362 ",(0,l.kt)("inlineCode",{parentName:"p"},"FIN")," \u4f4d\u4e3a 1 \u7684 TCP \u6bb5\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220622171739797",src:n(16868).Z,width:"1218",height:"651"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef-\u53d1\u9001\u4e00\u4e2a FIN\uff0c\u7528\u6765\u5173\u95ed\u5ba2\u6237\u7aef\u5230\u670d\u52a1\u5668\u7684\u6570\u636e\u4f20\u9001"),(0,l.kt)("li",{parentName:"ul"},"\u670d\u52a1\u5668-\u6536\u5230\u8fd9\u4e2a FIN\uff0c\u5b83\u53d1\u56de\u4e00\u4e2a ACK\uff0c\u786e\u8ba4\u5e8f\u53f7\u4e3a\u6536\u5230\u7684\u5e8f\u53f7\u52a0 1 \u3002\u548c SYN \u4e00\u6837\uff0c\u4e00\u4e2a FIN \u5c06\u5360\u7528\u4e00\u4e2a\u5e8f\u53f7"),(0,l.kt)("li",{parentName:"ul"},"\u670d\u52a1\u5668-\u5173\u95ed\u4e0e\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\uff0c\u53d1\u9001\u4e00\u4e2a FIN \u7ed9\u5ba2\u6237\u7aef"),(0,l.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef-\u53d1\u56de ACK \u62a5\u6587\u786e\u8ba4\uff0c\u5e76\u5c06\u786e\u8ba4\u5e8f\u53f7\u8bbe\u7f6e\u4e3a\u6536\u5230\u5e8f\u53f7\u52a0 1")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5f3a\u5316\u7406\u89e3\uff1a"),(0,l.kt)("p",{parentName:"blockquote"},"A\uff1a\u547c\u53ebB\uff0c\u6211\u8981\u8ddf\u4f60\u65ad\u5f00\u3002\nB\uff1a\u77e5\u9053\u4e86\uff0c\u7b49\u4e00\u4e0b\u6211\u8fd8\u6709\u8bdd\u6ca1\u8bf4\u5b8c\nB\uff1a\u6211\u8bf4\u5b8c\u4e86\uff0c\u53ef\u4ee5\u65ad\u5f00\u4e86\nA\uff1a\u597d\u7684"),(0,l.kt)("hr",{parentName:"blockquote"}),(0,l.kt)("p",{parentName:"blockquote"},"A\uff1a\u56f0\u4e86\uff0c\u5728\u5e72\u561b\uff1f\nB\uff1a\u5728\u5237\u89c6\u9891\u3002\nB\uff1a\u4f60\u8981\u7761\u4e86\u5417\uff1f\nA\uff1a\u5bf9\uff0c\u665a\u5b89\u3002\uff08\u7b49\u5979\u770b\u5230\u6d88\u606f\u5b89\u5fc3\u5165\u7761\uff09")),(0,l.kt)("h5",{id:"\u6781\u9650\u62d3\u5c55"},"\u6781\u9650\u62d3\u5c55"),(0,l.kt)("p",null,"\u53ef\u4ee5\u5148\u89c2\u770b\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://www.bilibili.com/video/BV1kV411j7hA?vd_source=e300c0e56286b6c321abd6aac8da8682"},"\u4e00\u6761\u89c6\u9891\u8bb2\u6e05\u695aTCP\u534f\u8bae\u4e0eUDP\u534f\u8bae-\u4ec0\u4e48\u662f\u4e09\u6b21\u63e1\u624b\u4e0e\u56db\u6b21\u6325\u624b")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e3a\u4ec0\u4e48\u9700\u8981\u4e09\u6b21\u63e1\u624b\uff1f\u4e24\u6b21\u4e0d\u884c\uff1f")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u6b21\u63e1\u624b\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u7f51\u7edc\u5305\uff0c\u670d\u52a1\u7aef\u6536\u5230\u4e86\u3002\u8fd9\u6837\u670d\u52a1\u7aef\u5c31\u80fd\u5f97\u51fa\u7ed3\u8bba\uff1a\u5ba2\u6237\u7aef\u7684\u53d1\u9001\u80fd\u529b\u3001\u670d\u52a1\u7aef\u7684\u63a5\u6536\u80fd\u529b\u662f\u6b63\u5e38\u7684\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u6b21\u63e1\u624b\uff1a\u670d\u52a1\u7aef\u53d1\u5305\uff0c\u5ba2\u6237\u7aef\u6536\u5230\u4e86\u3002\u8fd9\u6837\u5ba2\u6237\u7aef\u5c31\u80fd\u5f97\u51fa\u7ed3\u8bba\uff1a\u670d\u52a1\u7aef\u7684\u63a5\u6536\u3001\u53d1\u9001\u80fd\u529b\uff0c\u5ba2\u6237\u7aef\u7684\u63a5\u6536\u3001\u53d1\u9001\u80fd\u529b\u662f\u6b63\u5e38\u7684\u3002\u4e0d\u8fc7\u6b64\u65f6\u670d\u52a1\u5668\u5e76\u4e0d\u80fd\u786e\u8ba4\u5ba2\u6237\u7aef\u7684\u63a5\u6536\u80fd\u529b\u662f\u5426\u6b63\u5e38\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e09\u6b21\u63e1\u624b\uff1a\u5ba2\u6237\u7aef\u53d1\u5305\uff0c\u670d\u52a1\u7aef\u6536\u5230\u4e86\u3002\u8fd9\u6837\u670d\u52a1\u7aef\u5c31\u80fd\u5f97\u51fa\u7ed3\u8bba\uff1a\u5ba2\u6237\u7aef\u7684\u63a5\u6536\u3001\u53d1\u9001\u80fd\u529b\u6b63\u5e38\uff0c\u670d\u52a1\u5668\u81ea\u5df1\u7684\u53d1\u9001\u3001\u63a5\u6536\u80fd\u529b\u4e5f\u6b63\u5e38\u3002")),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c\u9700\u8981\u4e09\u6b21\u63e1\u624b\u624d\u80fd\u786e\u8ba4\u53cc\u65b9\u7684\u63a5\u6536\u4e0e\u53d1\u9001\u80fd\u529b\u662f\u5426\u6b63\u5e38\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e3a\u4ec0\u4e48\u9700\u8981\u56db\u6b21\u6325\u624b\uff1f\u4e09\u6b21\u4e0d\u884c\uff1f")),(0,l.kt)("p",null,"\u53ef\u4ee5\u52a0\u5165\u77e5\u4e4e\u8ba8\u8bba\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://www.zhihu.com/question/50646354"},"https://www.zhihu.com/question/50646354")),(0,l.kt)("p",null,"\u521a\u5f00\u59cb\u53cc\u65b9\u90fd\u5904\u4e8e establised \u72b6\u6001\uff0c\u5047\u5982\u662f\u5ba2\u6237\u7aef\u5148\u53d1\u8d77\u5173\u95ed\u8bf7\u6c42\uff0c\u5219\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u7b2c\u4e00\u6b21\u6325\u624b\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u4e00\u4e2a FIN \u62a5\u6587\uff0c\u62a5\u6587\u4e2d\u4f1a\u6307\u5b9a\u4e00\u4e2a\u5e8f\u5217\u53f7\u3002\u6b64\u65f6\u5ba2\u6237\u7aef\u5904\u4e8eFIN_WAIT1\u72b6\u6001\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u7b2c\u4e8c\u6b21\u6325\u624b\uff1a\u670d\u52a1\u7aef\u6536\u5230 FIN \u4e4b\u540e\uff0c\u4f1a\u53d1\u9001 ACK \u62a5\u6587\uff0c\u4e14\u628a\u5ba2\u6237\u7aef\u7684\u5e8f\u5217\u53f7\u503c + 1 \u4f5c\u4e3a ACK \u62a5\u6587\u7684\u5e8f\u5217\u53f7\u503c\uff0c\u8868\u660e\u5df2\u7ecf\u6536\u5230\u5ba2\u6237\u7aef\u7684\u62a5\u6587\u4e86\uff0c\u6b64\u65f6\u670d\u52a1\u7aef\u5904\u4e8e CLOSE_WAIT\u72b6\u6001\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u7b2c\u4e09\u6b21\u6325\u624b\uff1a\u5982\u679c\u670d\u52a1\u7aef\u4e5f\u60f3\u65ad\u5f00\u8fde\u63a5\u4e86\uff0c\u548c\u5ba2\u6237\u7aef\u7684\u7b2c\u4e00\u6b21\u6325\u624b\u4e00\u6837\uff0c\u53d1\u7ed9 FIN \u62a5\u6587\uff0c\u4e14\u6307\u5b9a\u4e00\u4e2a\u5e8f\u5217\u53f7\u3002\u6b64\u65f6\u670d\u52a1\u7aef\u5904\u4e8e LAST_ACK \u7684\u72b6\u6001\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u7b2c\u56db\u6b21\u6325\u624b\uff1a\u5ba2\u6237\u7aef\u6536\u5230 FIN \u4e4b\u540e\uff0c\u4e00\u6837\u53d1\u9001\u4e00\u4e2a ACK \u62a5\u6587\u4f5c\u4e3a\u5e94\u7b54\uff0c\u4e14\u628a\u670d\u52a1\u7aef\u7684\u5e8f\u5217\u53f7\u503c + 1 \u4f5c\u4e3a\u81ea\u5df1 ACK \u62a5\u6587\u7684\u5e8f\u5217\u53f7\u503c\uff0c\u6b64\u65f6\u5ba2\u6237\u7aef\u5904\u4e8e TIME_WAIT \u72b6\u6001\u3002\u9700\u8981\u8fc7\u4e00\u9635\u5b50\u4ee5\u786e\u4fdd\u670d\u52a1\u7aef\u6536\u5230\u81ea\u5df1\u7684 ACK \u62a5\u6587\u4e4b\u540e\u624d\u4f1a\u8fdb\u5165 CLOSED \u72b6\u6001"),(0,l.kt)("li",{parentName:"ol"},"\u670d\u52a1\u7aef\u6536\u5230 ACK \u62a5\u6587\u4e4b\u540e\uff0c\u5c31\u5904\u4e8e\u5173\u95ed\u8fde\u63a5\u4e86\uff0c\u5904\u4e8e CLOSED \u72b6\u6001\u3002")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e3a\u4ec0\u4e48\u7b2c\u4e8c\u6b21\u6325\u624b\u548c\u7b2c\u4e09\u6b21\u6325\u624b\u4e0d\u80fd\u50cf\u63e1\u624b\u4e00\u6837\u5728\u540c\u4e00\u4e2a\u5305\u4e2d\u8bbe\u7f6e ACK \u548c SYN\uff1f")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/46212623/why-tcp-termination-need-4-way-handshake"},"https://stackoverflow.com/questions/46212623/why-tcp-termination-need-4-way-handshake")),(0,l.kt)("p",null,"\u56de\u7b54\u6765\u81ea\uff1a",(0,l.kt)("a",{parentName:"p",href:"http://www.tcpipguide.com/index.htm"},"http://www.tcpipguide.com/index.htm")),(0,l.kt)("p",null,"\u5728\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e00\u65b9\u901a\u8fc7\u53d1\u9001\u4e00\u4e2a\u8bbe\u7f6e\u4e86FIN\uff08\u7ed3\u675f\uff09\u4f4d\u7684\u7279\u6b8a\u6d88\u606f\u6765\u7ec8\u6b62\u5176\u8fde\u63a5\u7684\u672b\u7aef\u3002\u8fd9\u4e2a\u6d88\u606f\uff0c\u6709\u65f6\u88ab\u79f0\u4e3aFIN\uff0c\u4f5c\u4e3a\u5bf9\u53e6\u4e00\u8bbe\u5907\u7684\u8fde\u63a5\u7ec8\u6b62\u8bf7\u6c42\uff0c\u540c\u65f6\u4e5f\u53ef\u80fd\u50cf\u666e\u901a\u7f51\u6bb5\u4e00\u6837\u643a\u5e26\u6570\u636e\u3002\u6536\u5230FIN\u7684\u8bbe\u5907\u4f1a\u5bf9FIN\u8fdb\u884c\u786e\u8ba4\uff0c\u4ee5\u8868\u793a\u6536\u5230\u4e86\u5b83\u3002\u5728\u53cc\u65b9\u901a\u8fc7\u53d1\u9001FIN\u548c\u63a5\u6536ACK\u5b8c\u6210\u5173\u95ed\u7a0b\u5e8f\u4e4b\u524d\uff0c\u6574\u4e2a\u8fde\u63a5\u4e0d\u88ab\u8ba4\u4e3a\u662f\u7ec8\u6b62\u7684\u3002\n\u56e0\u6b64\uff0c\u7ec8\u6b62\u5e76\u4e0d\u50cf\u5efa\u7acb\u90a3\u6837\u662f\u4e00\u4e2a\u4e09\u65b9\u63e1\u624b\uff1a\u5b83\u662f\u4e00\u5bf9\u53cc\u5411\u63e1\u624b\u3002\u5728\u6b63\u5e38\u7684\u8fde\u63a5\u5173\u95ed\u8fc7\u7a0b\u4e2d\uff0c\u8fde\u63a5\u4e2d\u7684\u4e24\u4e2a\u8bbe\u5907\u6240\u7ecf\u5386\u7684\u72b6\u6001\u662f\u4e0d\u540c\u7684\uff0c\u56e0\u4e3a\u53d1\u8d77\u5173\u95ed\u7684\u8bbe\u5907\u7684\u884c\u4e3a\u5fc5\u987b\u4e0e\u63a5\u6536\u7ec8\u6b62\u8bf7\u6c42\u7684\u8bbe\u5907\u4e0d\u540c\u3002\u7279\u522b\u662f\uff0c\u6536\u5230\u521d\u59cb\u7ec8\u6b62\u8bf7\u6c42\u7684\u8bbe\u5907\u4e0a\u7684TCP\u5fc5\u987b\u901a\u77e5\u5176\u5e94\u7528\u8fdb\u7a0b\uff0c\u5e76\u7b49\u5f85\u8be5\u8fdb\u7a0b\u51c6\u5907\u7ee7\u7eed\u7684\u4fe1\u53f7\u3002\u53d1\u8d77\u7684\u8bbe\u5907\u4e0d\u9700\u8981\u8fd9\u6837\u505a\uff0c\u56e0\u4e3a\u5e94\u7528\u7a0b\u5e8f\u662f\u9996\u5148\u5f00\u59cb\u7684\u3002"),(0,l.kt)("p",null,"\u603b\u7ed3\uff1a\u7b2c\u4e8c\u6b21\u6325\u624b\u548c\u7b2c\u4e09\u6b21\u6325\u624b\u4e0d\u80fd\u5408\u5e76\u6210\u4e00\u4e2a\u5305\uff0c\u56e0\u4e3a\u5b83\u4eec\u5c5e\u4e8e\u4e0d\u540c\u7684\u72b6\u6001\u3002\u4f46\u662f\uff0c\u5982\u679c\u670d\u52a1\u5668\u5728\u4ece\u5ba2\u6237\u7aef\u6536\u5230 FIN \u65f6\u6ca1\u6709\u66f4\u591a\u7684\u6570\u636e\u6216\u6839\u672c\u6ca1\u6709\u8981\u53d1\u9001\u7684\u6570\u636e\uff0c\u90a3\u4e48\u53ef\u4ee5\u5c06\u7b2c\u4e8c\u6b21\u6325\u624b\u548c\u7b2c\u4e09\u6b21\u6325\u624b\u5408\u5e76\u5230\u4e00\u4e2a\u5305\u4e2d\u3002"),(0,l.kt)("h4",{id:"http-\u4e0e-https-\u6709\u54ea\u4e9b\u533a\u522b"},"HTTP \u4e0e HTTPS \u6709\u54ea\u4e9b\u533a\u522b\uff1f"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"HTTP \u662f\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff0c\u4fe1\u606f\u662f\u660e\u6587\u4f20\u8f93\uff0c\u5b58\u5728\u5b89\u5168\u98ce\u9669\u7684\u95ee\u9898\u3002HTTPS \u5219\u89e3\u51b3 HTTP \u4e0d\u5b89\u5168\u7684\u7f3a\u9677\uff0c\u5728 TCP \u548c HTTP \u7f51\u7edc\u5c42\u4e4b\u95f4\u52a0\u5165\u4e86 SSL/TLS \u5b89\u5168\u534f\u8bae\uff0c\u4f7f\u5f97\u62a5\u6587\u80fd\u591f\u52a0\u5bc6\u4f20\u8f93\u3002"),(0,l.kt)("li",{parentName:"ol"},"HTTP \u8fde\u63a5\u5efa\u7acb\u76f8\u5bf9\u7b80\u5355\uff0c TCP \u4e09\u6b21\u63e1\u624b\u4e4b\u540e\u4fbf\u53ef\u8fdb\u884c HTTP \u7684\u62a5\u6587\u4f20\u8f93\u3002\u800c HTTPS \u5728 TCP \u4e09\u6b21\u63e1\u624b\u4e4b\u540e\uff0c\u8fd8\u9700\u8fdb\u884c SSL/TLS \u7684\u63e1\u624b\u8fc7\u7a0b\uff0c\u624d\u53ef\u8fdb\u5165\u52a0\u5bc6\u62a5\u6587\u4f20\u8f93\u3002"),(0,l.kt)("li",{parentName:"ol"},"HTTP \u7684\u7aef\u53e3\u53f7\u662f 80\uff0cHTTPS \u7684\u7aef\u53e3\u53f7\u662f 443\u3002"),(0,l.kt)("li",{parentName:"ol"},"HTTPS \u534f\u8bae\u9700\u8981\u5411 CA\uff08\u8bc1\u4e66\u6743\u5a01\u673a\u6784\uff09\u7533\u8bf7\u6570\u5b57\u8bc1\u4e66\uff0c\u6765\u4fdd\u8bc1\u670d\u52a1\u5668\u7684\u8eab\u4efd\u662f\u53ef\u4fe1\u7684\u3002")),(0,l.kt)("h4",{id:"https-\u662f\u5982\u4f55\u5efa\u7acb\u8fde\u63a5\u7684\u5176\u95f4\u4ea4\u4e92\u4e86\u4ec0\u4e48"},"HTTPS \u662f\u5982\u4f55\u5efa\u7acb\u8fde\u63a5\u7684\uff1f\u5176\u95f4\u4ea4\u4e92\u4e86\u4ec0\u4e48\uff1f"),(0,l.kt)("p",null,"SSL/TLS \u534f\u8bae\u57fa\u672c\u6d41\u7a0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u7d22\u8981\u5e76\u9a8c\u8bc1\u670d\u52a1\u5668\u7684\u516c\u94a5\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u53cc\u65b9\u534f\u5546\u751f\u4ea7\u300c\u4f1a\u8bdd\u79d8\u94a5\u300d\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u53cc\u65b9\u91c7\u7528\u300c\u4f1a\u8bdd\u79d8\u94a5\u300d\u8fdb\u884c\u52a0\u5bc6\u901a\u4fe1\u3002")),(0,l.kt)("p",null,"\u524d\u4e24\u6b65\u4e5f\u5c31\u662f SSL/TLS \u7684\u5efa\u7acb\u8fc7\u7a0b\uff0c\u4e5f\u5c31\u662f TLS \u63e1\u624b\u9636\u6bb5\u3002"),(0,l.kt)("p",null,"SSL/TLS \u7684\u300c\u63e1\u624b\u9636\u6bb5\u300d\u6d89\u53ca",(0,l.kt)("strong",{parentName:"p"},"\u56db\u6b21"),"\u901a\u4fe1\uff0c\u57fa\u4e8e RSA \u63e1\u624b\u8fc7\u7a0b\u7684 HTTPS\u89c1\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"HTTPS \u8fde\u63a5\u5efa\u7acb\u8fc7\u7a0b",src:n(15125).Z,width:"1545",height:"2807"})),(0,l.kt)("p",null,"SSL/TLS \u534f\u8bae\u5efa\u7acb\u7684\u8be6\u7ec6\u6d41\u7a0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"1. ClientHello")),(0,l.kt)("p",null,"\u9996\u5148\uff0c\u7531\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u8d77\u52a0\u5bc6\u901a\u4fe1\u8bf7\u6c42\uff0c\u4e5f\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"ClientHello")," \u8bf7\u6c42\u3002"),(0,l.kt)("p",null,"\u5728\u8fd9\u4e00\u6b65\uff0c\u5ba2\u6237\u7aef\u4e3b\u8981\u5411\u670d\u52a1\u5668\u53d1\u9001\u4ee5\u4e0b\u4fe1\u606f\uff1a"),(0,l.kt)("p",null,"\uff081\uff09\u5ba2\u6237\u7aef\u652f\u6301\u7684 SSL/TLS \u534f\u8bae\u7248\u672c\uff0c\u5982 TLS 1.2 \u7248\u672c\u3002"),(0,l.kt)("p",null,"\uff082\uff09\u5ba2\u6237\u7aef\u751f\u4ea7\u7684\u968f\u673a\u6570\uff08",(0,l.kt)("inlineCode",{parentName:"p"},"Client Random"),"\uff09\uff0c\u540e\u9762\u7528\u4e8e\u751f\u6210\u300c\u4f1a\u8bdd\u79d8\u94a5\u300d\u6761\u4ef6\u4e4b\u4e00\u3002"),(0,l.kt)("p",null,"\uff083\uff09\u5ba2\u6237\u7aef\u652f\u6301\u7684\u5bc6\u7801\u5957\u4ef6\u5217\u8868\uff0c\u5982 RSA \u52a0\u5bc6\u7b97\u6cd5\u3002"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"2. SeverHello")),(0,l.kt)("p",null,"\u670d\u52a1\u5668\u6536\u5230\u5ba2\u6237\u7aef\u8bf7\u6c42\u540e\uff0c\u5411\u5ba2\u6237\u7aef\u53d1\u51fa\u54cd\u5e94\uff0c\u4e5f\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"SeverHello"),"\u3002\u670d\u52a1\u5668\u56de\u5e94\u7684\u5185\u5bb9\u6709\u5982\u4e0b\u5185\u5bb9\uff1a"),(0,l.kt)("p",null,"\uff081\uff09\u786e\u8ba4 SSL/ TLS \u534f\u8bae\u7248\u672c\uff0c\u5982\u679c\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\uff0c\u5219\u5173\u95ed\u52a0\u5bc6\u901a\u4fe1\u3002"),(0,l.kt)("p",null,"\uff082\uff09\u670d\u52a1\u5668\u751f\u4ea7\u7684\u968f\u673a\u6570\uff08",(0,l.kt)("inlineCode",{parentName:"p"},"Server Random"),"\uff09\uff0c\u4e5f\u662f\u540e\u9762\u7528\u4e8e\u751f\u4ea7\u300c\u4f1a\u8bdd\u79d8\u94a5\u300d\u6761\u4ef6\u4e4b\u4e00\u3002"),(0,l.kt)("p",null,"\uff083\uff09\u786e\u8ba4\u7684\u5bc6\u7801\u5957\u4ef6\u5217\u8868\uff0c\u5982 RSA \u52a0\u5bc6\u7b97\u6cd5\u3002"),(0,l.kt)("p",null,"\uff084\uff09\u670d\u52a1\u5668\u7684\u6570\u5b57\u8bc1\u4e66\u3002"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"3.\u5ba2\u6237\u7aef\u56de\u5e94")),(0,l.kt)("p",null,"\u5ba2\u6237\u7aef\u6536\u5230\u670d\u52a1\u5668\u7684\u56de\u5e94\u4e4b\u540e\uff0c\u9996\u5148\u901a\u8fc7\u6d4f\u89c8\u5668\u6216\u8005\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684 CA \u516c\u94a5\uff0c\u786e\u8ba4\u670d\u52a1\u5668\u7684\u6570\u5b57\u8bc1\u4e66\u7684\u771f\u5b9e\u6027\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u8bc1\u4e66\u6ca1\u6709\u95ee\u9898\uff0c\u5ba2\u6237\u7aef\u4f1a",(0,l.kt)("strong",{parentName:"p"},"\u4ece\u6570\u5b57\u8bc1\u4e66\u4e2d\u53d6\u51fa\u670d\u52a1\u5668\u7684\u516c\u94a5"),"\uff0c\u7136\u540e\u4f7f\u7528\u5b83\u52a0\u5bc6\u62a5\u6587\uff0c\u5411\u670d\u52a1\u5668\u53d1\u9001\u5982\u4e0b\u4fe1\u606f\uff1a"),(0,l.kt)("p",null,"\uff081\uff09\u4e00\u4e2a\u968f\u673a\u6570\uff08",(0,l.kt)("inlineCode",{parentName:"p"},"pre-master key"),"\uff09\u3002\u8be5\u968f\u673a\u6570\u4f1a\u88ab\u670d\u52a1\u5668\u516c\u94a5\u52a0\u5bc6\u3002"),(0,l.kt)("p",null,"\uff082\uff09\u52a0\u5bc6\u901a\u4fe1\u7b97\u6cd5\u6539\u53d8\u901a\u77e5\uff0c\u8868\u793a\u968f\u540e\u7684\u4fe1\u606f\u90fd\u5c06\u7528\u300c\u4f1a\u8bdd\u79d8\u94a5\u300d\u52a0\u5bc6\u901a\u4fe1\u3002"),(0,l.kt)("p",null,"\uff083\uff09\u5ba2\u6237\u7aef\u63e1\u624b\u7ed3\u675f\u901a\u77e5\uff0c\u8868\u793a\u5ba2\u6237\u7aef\u7684\u63e1\u624b\u9636\u6bb5\u5df2\u7ecf\u7ed3\u675f\u3002\u8fd9\u4e00\u9879\u540c\u65f6\u628a\u4e4b\u524d\u6240\u6709\u5185\u5bb9\u7684\u53d1\u751f\u7684\u6570\u636e\u505a\u4e2a\u6458\u8981\uff0c\u7528\u6765\u4f9b\u670d\u52a1\u7aef\u6821\u9a8c\u3002"),(0,l.kt)("p",null,"\u4e0a\u9762\u7b2c\u4e00\u9879\u7684\u968f\u673a\u6570\u662f\u6574\u4e2a\u63e1\u624b\u9636\u6bb5\u7684\u7b2c\u4e09\u4e2a\u968f\u673a\u6570\uff0c\u4f1a\u53d1\u7ed9\u670d\u52a1\u7aef\uff0c\u6240\u4ee5\u8fd9\u4e2a\u968f\u673a\u6570\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u90fd\u662f\u4e00\u6837\u7684\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u6709\u4e86\u8fd9\u4e09\u4e2a\u968f\u673a\u6570\uff08Client Random\u3001Server Random\u3001pre-master key\uff09\uff0c\u63a5\u7740\u5c31\u7528\u53cc\u65b9\u534f\u5546\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u5404\u81ea\u751f\u6210\u672c\u6b21\u901a\u4fe1\u7684\u300c\u4f1a\u8bdd\u79d8\u94a5\u300d"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"4. \u670d\u52a1\u5668\u7684\u6700\u540e\u56de\u5e94")),(0,l.kt)("p",null,"\u670d\u52a1\u5668\u6536\u5230\u5ba2\u6237\u7aef\u7684\u7b2c\u4e09\u4e2a\u968f\u673a\u6570\uff08",(0,l.kt)("inlineCode",{parentName:"p"},"pre-master key"),"\uff09\u4e4b\u540e\uff0c\u901a\u8fc7\u534f\u5546\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u8ba1\u7b97\u51fa\u672c\u6b21\u901a\u4fe1\u7684\u300c\u4f1a\u8bdd\u79d8\u94a5\u300d\u3002"),(0,l.kt)("p",null,"\u7136\u540e\uff0c\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u6700\u540e\u7684\u4fe1\u606f\uff1a"),(0,l.kt)("p",null,"\uff081\uff09\u52a0\u5bc6\u901a\u4fe1\u7b97\u6cd5\u6539\u53d8\u901a\u77e5\uff0c\u8868\u793a\u968f\u540e\u7684\u4fe1\u606f\u90fd\u5c06\u7528\u300c\u4f1a\u8bdd\u79d8\u94a5\u300d\u52a0\u5bc6\u901a\u4fe1\u3002"),(0,l.kt)("p",null,"\uff082\uff09\u670d\u52a1\u5668\u63e1\u624b\u7ed3\u675f\u901a\u77e5\uff0c\u8868\u793a\u670d\u52a1\u5668\u7684\u63e1\u624b\u9636\u6bb5\u5df2\u7ecf\u7ed3\u675f\u3002\u8fd9\u4e00\u9879\u540c\u65f6\u628a\u4e4b\u524d\u6240\u6709\u5185\u5bb9\u7684\u53d1\u751f\u7684\u6570\u636e\u505a\u4e2a\u6458\u8981\uff0c\u7528\u6765\u4f9b\u5ba2\u6237\u7aef\u6821\u9a8c\u3002"),(0,l.kt)("p",null,"\u81f3\u6b64\uff0c\u6574\u4e2a SSL/TLS \u7684\u63e1\u624b\u9636\u6bb5\u5168\u90e8\u7ed3\u675f\u3002\u63a5\u4e0b\u6765\uff0c\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u8fdb\u5165\u52a0\u5bc6\u901a\u4fe1\uff0c\u5c31\u5b8c\u5168\u662f\u4f7f\u7528\u666e\u901a\u7684 HTTP \u534f\u8bae\uff0c\u53ea\u4e0d\u8fc7\u7528\u300c\u4f1a\u8bdd\u79d8\u94a5\u300d\u52a0\u5bc6\u5185\u5bb9\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5ba2\u6237\u7aef\u6821\u9a8c\u6570\u5b57\u8bc1\u4e66\u7684\u6d41\u7a0b\u662f\u600e\u6837\u7684\uff1f")),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u5b9e\u9645\u4e2d\u6570\u5b57\u8bc1\u4e66\u7b7e\u53d1\u548c\u9a8c\u8bc1\u6d41\u7a0b\u3002"),(0,l.kt)("p",null,"\u5982\u4e0b\u56fe\u56fe\u6240\u793a\uff0c\u4e3a\u6570\u5b57\u8bc1\u4e66\u7b7e\u53d1\u548c\u9a8c\u8bc1\u6d41\u7a0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(28632).Z,width:"1337",height:"740"})),(0,l.kt)("p",null,"CA \u7b7e\u53d1\u8bc1\u4e66\u7684\u8fc7\u7a0b\uff0c\u5982\u4e0a\u56fe\u5de6\u8fb9\u90e8\u5206\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9996\u5148 CA \u4f1a\u628a\u6301\u6709\u8005\u7684\u516c\u94a5\u3001\u7528\u9014\u3001\u9881\u53d1\u8005\u3001\u6709\u6548\u65f6\u95f4\u7b49\u4fe1\u606f\u6253\u6210\u4e00\u4e2a\u5305\uff0c\u7136\u540e\u5bf9\u8fd9\u4e9b\u4fe1\u606f\u8fdb\u884c Hash \u8ba1\u7b97\uff0c\u5f97\u5230\u4e00\u4e2a Hash \u503c\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7136\u540e CA \u4f1a\u4f7f\u7528\u81ea\u5df1\u7684\u79c1\u94a5\u5c06\u8be5 Hash \u503c\u52a0\u5bc6\uff0c\u751f\u6210 Certificate Signature\uff0c\u4e5f\u5c31\u662f CA \u5bf9\u8bc1\u4e66\u505a\u4e86\u7b7e\u540d\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u6700\u540e\u5c06 Certificate Signature \u6dfb\u52a0\u5728\u6587\u4ef6\u8bc1\u4e66\u4e0a\uff0c\u5f62\u6210\u6570\u5b57\u8bc1\u4e66\uff1b")),(0,l.kt)("p",null,"\u5ba2\u6237\u7aef\u6821\u9a8c\u670d\u52a1\u7aef\u7684\u6570\u5b57\u8bc1\u4e66\u7684\u8fc7\u7a0b\uff0c\u5982\u4e0a\u56fe\u53f3\u8fb9\u90e8\u5206\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9996\u5148\u5ba2\u6237\u7aef\u4f1a\u4f7f\u7528\u540c\u6837\u7684 Hash \u7b97\u6cd5\u83b7\u53d6\u8be5\u8bc1\u4e66\u7684 Hash \u503c H1\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u901a\u5e38\u6d4f\u89c8\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u96c6\u6210\u4e86 CA \u7684\u516c\u94a5\u4fe1\u606f\uff0c\u6d4f\u89c8\u5668\u6536\u5230\u8bc1\u4e66\u540e\u53ef\u4ee5\u4f7f\u7528 CA \u7684\u516c\u94a5\u89e3\u5bc6 Certificate Signature \u5185\u5bb9\uff0c\u5f97\u5230\u4e00\u4e2a Hash \u503c H2 \uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u6700\u540e\u6bd4\u8f83 H1 \u548c H2\uff0c\u5982\u679c\u503c\u76f8\u540c\uff0c\u5219\u4e3a\u53ef\u4fe1\u8d56\u7684\u8bc1\u4e66\uff0c\u5426\u5219\u5219\u8ba4\u4e3a\u8bc1\u4e66\u4e0d\u53ef\u4fe1\u3002")),(0,l.kt)("p",null,"\u4f46\u4e8b\u5b9e\u4e0a\uff0c\u8bc1\u4e66\u7684\u9a8c\u8bc1\u8fc7\u7a0b\u4e2d",(0,l.kt)("strong",{parentName:"p"},"\u8fd8\u5b58\u5728\u4e00\u4e2a\u8bc1\u4e66\u4fe1\u4efb\u94fe\u7684\u95ee\u9898"),"\uff0c\u56e0\u4e3a\u6211\u4eec\u5411 CA \u7533\u8bf7\u7684\u8bc1\u4e66\u4e00\u822c\u4e0d\u662f\u6839\u8bc1\u4e66\u7b7e\u53d1\u7684\uff0c\u800c\u662f\u7531\u4e2d\u95f4\u8bc1\u4e66\u7b7e\u53d1\u7684\uff0c\u6bd4\u5982\u767e\u5ea6\u7684\u8bc1\u4e66\uff0c\u4ece\u4e0b\u56fe\u4f60\u53ef\u4ee5\u770b\u5230\uff0c\u8bc1\u4e66\u7684\u5c42\u7ea7\u6709\u4e09\u7ea7\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(59518).Z,width:"567",height:"217"})),(0,l.kt)("p",null,"\u5bf9\u4e8e\u8fd9\u79cd\u4e09\u7ea7\u5c42\u7ea7\u5173\u7cfb\u7684\u8bc1\u4e66\u7684\u9a8c\u8bc1\u8fc7\u7a0b\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef\u6536\u5230 baidu.com \u7684\u8bc1\u4e66\u540e\uff0c\u53d1\u73b0\u8fd9\u4e2a\u8bc1\u4e66\u7684\u7b7e\u53d1\u8005\u4e0d\u662f\u6839\u8bc1\u4e66\uff0c\u5c31\u65e0\u6cd5\u6839\u636e\u672c\u5730\u5df2\u6709\u7684\u6839\u8bc1\u4e66\u4e2d\u7684\u516c\u94a5\u53bb\u9a8c\u8bc1 baidu.com \u8bc1\u4e66\u662f\u5426\u53ef\u4fe1\u3002\u4e8e\u662f\uff0c\u5ba2\u6237\u7aef\u6839\u636e baidu.com \u8bc1\u4e66\u4e2d\u7684\u7b7e\u53d1\u8005\uff0c\u627e\u5230\u8be5\u8bc1\u4e66\u7684\u9881\u53d1\u673a\u6784\u662f \u201cGlobalSign Organization Validation CA - SHA256 - G2\u201d\uff0c\u7136\u540e\u5411 CA \u8bf7\u6c42\u8be5\u4e2d\u95f4\u8bc1\u4e66\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u8bf7\u6c42\u5230\u8bc1\u4e66\u540e\u53d1\u73b0 \u201cGlobalSign Organization Validation CA - SHA256 - G2\u201d \u8bc1\u4e66\u662f\u7531 \u201cGlobalSign Root CA\u201d \u7b7e\u53d1\u7684\uff0c\u7531\u4e8e \u201cGlobalSign Root CA\u201d \u6ca1\u6709\u518d\u4e0a\u7ea7\u7b7e\u53d1\u673a\u6784\uff0c\u8bf4\u660e\u5b83\u662f\u6839\u8bc1\u4e66\uff0c\u4e5f\u5c31\u662f\u81ea\u7b7e\u8bc1\u4e66\u3002\u5e94\u7528\u8f6f\u4ef6\u4f1a\u68c0\u67e5\u6b64\u8bc1\u4e66\u6709\u5426\u5df2\u9884\u8f7d\u4e8e\u6839\u8bc1\u4e66\u6e05\u5355\u4e0a\uff0c\u5982\u679c\u6709\uff0c\u5219\u53ef\u4ee5\u5229\u7528\u6839\u8bc1\u4e66\u4e2d\u7684\u516c\u94a5\u53bb\u9a8c\u8bc1 \u201cGlobalSign Organization Validation CA - SHA256 - G2\u201d \u8bc1\u4e66\uff0c\u5982\u679c\u53d1\u73b0\u9a8c\u8bc1\u901a\u8fc7\uff0c\u5c31\u8ba4\u4e3a\u8be5\u4e2d\u95f4\u8bc1\u4e66\u662f\u53ef\u4fe1\u7684\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u201cGlobalSign Organization Validation CA - SHA256 - G2\u201d \u8bc1\u4e66\u88ab\u4fe1\u4efb\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 \u201cGlobalSign Organization Validation CA - SHA256 - G2\u201d \u8bc1\u4e66\u4e2d\u7684\u516c\u94a5\u53bb\u9a8c\u8bc1 baidu.com \u8bc1\u4e66\u7684\u53ef\u4fe1\u6027\uff0c\u5982\u679c\u9a8c\u8bc1\u901a\u8fc7\uff0c\u5c31\u53ef\u4ee5\u4fe1\u4efb baidu.com \u8bc1\u4e66\u3002")),(0,l.kt)("p",null,"\u5728\u8fd9\u56db\u4e2a\u6b65\u9aa4\u4e2d\uff0c\u6700\u5f00\u59cb\u5ba2\u6237\u7aef\u53ea\u4fe1\u4efb\u6839\u8bc1\u4e66 GlobalSign Root CA \u8bc1\u4e66\u7684\uff0c\u7136\u540e \u201cGlobalSign Root CA\u201d \u8bc1\u4e66\u4fe1\u4efb \u201cGlobalSign Organization Validation CA - SHA256 - G2\u201d \u8bc1\u4e66\uff0c\u800c \u201cGlobalSign Organization Validation CA - SHA256 - G2\u201d \u8bc1\u4e66\u53c8\u4fe1\u4efb baidu.com \u8bc1\u4e66\uff0c\u4e8e\u662f\u5ba2\u6237\u7aef\u4e5f\u4fe1\u4efb baidu.com \u8bc1\u4e66\u3002"),(0,l.kt)("p",null,"\u603b\u62ec\u6765\u8bf4\uff0c\u7531\u4e8e\u7528\u6237\u4fe1\u4efb GlobalSign\uff0c\u6240\u4ee5\u7531 GlobalSign \u6240\u62c5\u4fdd\u7684 baidu.com \u53ef\u4ee5\u88ab\u4fe1\u4efb\uff0c\u53e6\u5916\u7531\u4e8e\u7528\u6237\u4fe1\u4efb\u64cd\u4f5c\u7cfb\u7edf\u6216\u6d4f\u89c8\u5668\u7684\u8f6f\u4ef6\u5546\uff0c\u6240\u4ee5\u7531\u8f6f\u4ef6\u5546\u9884\u8f7d\u4e86\u6839\u8bc1\u4e66\u7684 GlobalSign \u90fd\u53ef\u88ab\u4fe1\u4efb\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(47634).Z,width:"707",height:"891"})),(0,l.kt)("p",null,"\u64cd\u4f5c\u7cfb\u7edf\u91cc\u4e00\u822c\u90fd\u4f1a\u5185\u7f6e\u4e00\u4e9b\u6839\u8bc1\u4e66\uff0c\u6bd4\u5982\u6211\u7684 MAC \u7535\u8111\u91cc\u5185\u7f6e\u7684\u6839\u8bc1\u4e66\u6709\u8fd9\u4e48\u591a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(3850).Z,width:"867",height:"534"})),(0,l.kt)("p",null,"\u8fd9\u6837\u7684\u4e00\u5c42\u5c42\u5730\u9a8c\u8bc1\u5c31\u6784\u6210\u4e86\u4e00\u6761\u4fe1\u4efb\u94fe\u8def\uff0c\u6574\u4e2a\u8bc1\u4e66\u4fe1\u4efb\u94fe\u9a8c\u8bc1\u6d41\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(94613).Z,width:"1478",height:"452"})),(0,l.kt)("p",null,"\u6700\u540e\u4e00\u4e2a\u95ee\u9898\uff0c\u4e3a\u4ec0\u4e48\u9700\u8981\u8bc1\u4e66\u94fe\u8fd9\u4e48\u9ebb\u70e6\u7684\u6d41\u7a0b\uff1fRoot CA \u4e3a\u4ec0\u4e48\u4e0d\u76f4\u63a5\u9881\u53d1\u8bc1\u4e66\uff0c\u800c\u662f\u8981\u641e\u90a3\u4e48\u591a\u4e2d\u95f4\u5c42\u7ea7\u5462\uff1f"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8fd9\u662f\u4e3a\u4e86\u786e\u4fdd\u6839\u8bc1\u4e66\u7684\u7edd\u5bf9\u5b89\u5168\u6027\uff0c\u5c06\u6839\u8bc1\u4e66\u9694\u79bb\u5730\u8d8a\u4e25\u683c\u8d8a\u597d\uff0c\u4e0d\u7136\u6839\u8bc1\u4e66\u5982\u679c\u5931\u5b88\u4e86\uff0c\u90a3\u4e48\u6574\u4e2a\u4fe1\u4efb\u94fe\u90fd\u4f1a\u6709\u95ee\u9898\u3002")),(0,l.kt)("h4",{id:"tcp-udp-\u534f\u8bae\u7684\u533a\u522b"},"TCP, UDP \u534f\u8bae\u7684\u533a\u522b"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"TCP\u3001UDP\u534f\u8bae\u7684\u533a\u522b",src:n(62266).Z,width:"1710",height:"432"})),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"TCP\u662f\u53ef\u9760\u4f20\u8f93,UDP\u662f\u4e0d\u53ef\u9760\u4f20\u8f93;"),(0,l.kt)("li",{parentName:"ol"},"TCP\u9762\u5411\u8fde\u63a5,UDP\u65e0\u8fde\u63a5;"),(0,l.kt)("li",{parentName:"ol"},"TCP\u4f20\u8f93\u6570\u636e\u6709\u5e8f,UDP\u4e0d\u4fdd\u8bc1\u6570\u636e\u7684\u6709\u5e8f\u6027;"),(0,l.kt)("li",{parentName:"ol"},"TCP\u4e0d\u4fdd\u5b58\u6570\u636e\u8fb9\u754c,UDP\u4fdd\u7559\u6570\u636e\u8fb9\u754c;"),(0,l.kt)("li",{parentName:"ol"},"TCP\u4f20\u8f93\u901f\u5ea6\u76f8\u5bf9UDP\u8f83\u6162;"),(0,l.kt)("li",{parentName:"ol"},"TCP\u6709\u6d41\u91cf\u63a7\u5236\u548c\u62e5\u585e\u63a7\u5236,UDP\u6ca1\u6709;"),(0,l.kt)("li",{parentName:"ol"},"TCP\u662f\u91cd\u91cf\u7ea7\u534f\u8bae,UDP\u662f\u8f7b\u91cf\u7ea7\u534f\u8bae;"),(0,l.kt)("li",{parentName:"ol"},"TCP\u9996\u90e8\u8f83\u957f20\u5b57\u8282,UDP\u9996\u90e8\u8f83\u77ed8\u5b57\u8282;")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6269\u5c55\uff1a\u5e94\u7528\u573a\u666f")),(0,l.kt)("p",null,"TCP\u5e94\u7528\u573a\u666f\uff1a"),(0,l.kt)("p",null,"\u6548\u7387\u8981\u6c42\u76f8\u5bf9\u4f4e\uff0c\u4f46\u5bf9\u51c6\u786e\u6027\u8981\u6c42\u76f8\u5bf9\u9ad8\u7684\u573a\u666f\u3002\u56e0\u4e3a\u4f20\u8f93\u4e2d\u9700\u8981\u5bf9\u6570\u636e\u786e\u8ba4\u3001\u91cd\u53d1\u3001\u6392\u5e8f\u7b49\u64cd\u4f5c\uff0c\u76f8\u6bd4\u4e4b\u4e0b\u6548\u7387\u6ca1\u6709UDP\u9ad8\u3002\u4e3e\u51e0\u4e2a\u4f8b\u5b50\uff1a\u6587\u4ef6\u4f20\u8f93\uff08\u51c6\u786e\u9ad8\u8981\u6c42\u9ad8\u3001\u4f46\u662f\u901f\u5ea6\u53ef\u4ee5\u76f8\u5bf9\u6162\uff09\u3001\u63a5\u53d7\u90ae\u4ef6\u3001\u8fdc\u7a0b\u767b\u5f55\u3002"),(0,l.kt)("p",null,"UDP\u5e94\u7528\u573a\u666f\uff1a"),(0,l.kt)("p",null,"\u6548\u7387\u8981\u6c42\u76f8\u5bf9\u9ad8\uff0c\u5bf9\u51c6\u786e\u6027\u8981\u6c42\u76f8\u5bf9\u4f4e\u7684\u573a\u666f\u3002\u4e3e\u51e0\u4e2a\u4f8b\u5b50\uff1aQQ\u804a\u5929\u3001\u5728\u7ebf\u89c6\u9891\u3001\u7f51\u7edc\u8bed\u97f3\u7535\u8bdd\uff08\u5373\u65f6\u901a\u8baf\uff0c\u901f\u5ea6\u8981\u6c42\u9ad8\uff0c\u4f46\u662f\u51fa\u73b0\u5076\u5c14\u65ad\u7eed\u4e0d\u662f\u592a\u5927\u95ee\u9898\uff0c\u5e76\u4e14\u6b64\u5904\u5b8c\u5168\u4e0d\u53ef\u4ee5\u4f7f\u7528\u91cd\u53d1\u673a\u5236\uff09\u3001\u5e7f\u64ad\u901a\u4fe1\uff08\u5e7f\u64ad\u3001\u591a\u64ad\uff09"),(0,l.kt)("h4",{id:"http-\u54ea\u4e9b\u5e38\u7528\u7684\u72b6\u6001\u7801"},"HTTP \u54ea\u4e9b\u5e38\u7528\u7684\u72b6\u6001\u7801"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:" \u4e94\u5927\u7c7b HTTP \u72b6\u6001\u7801 ",src:n(93066).Z,width:"1280",height:"642"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"1xx")," \u7c7b\u72b6\u6001\u7801\u5c5e\u4e8e",(0,l.kt)("strong",{parentName:"p"},"\u63d0\u793a\u4fe1\u606f"),"\uff0c\u662f\u534f\u8bae\u5904\u7406\u4e2d\u7684\u4e00\u79cd\u4e2d\u95f4\u72b6\u6001\uff0c\u5b9e\u9645\u7528\u5230\u7684\u6bd4\u8f83\u5c11\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"2xx")," \u7c7b\u72b6\u6001\u7801\u8868\u793a\u670d\u52a1\u5668",(0,l.kt)("strong",{parentName:"p"},"\u6210\u529f"),"\u5904\u7406\u4e86\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\uff0c\u4e5f\u662f\u6211\u4eec\u6700\u613f\u610f\u770b\u5230\u7684\u72b6\u6001\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u300c",(0,l.kt)("strong",{parentName:"li"},"200 OK"),"\u300d\u662f\u6700\u5e38\u89c1\u7684\u6210\u529f\u72b6\u6001\u7801\uff0c\u8868\u793a\u4e00\u5207\u6b63\u5e38\u3002\u5982\u679c\u662f\u975e ",(0,l.kt)("inlineCode",{parentName:"li"},"HEAD")," \u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u7684\u54cd\u5e94\u5934\u90fd\u4f1a\u6709 body \u6570\u636e\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u300c",(0,l.kt)("strong",{parentName:"li"},"204 No Content"),"\u300d\u4e5f\u662f\u5e38\u89c1\u7684\u6210\u529f\u72b6\u6001\u7801\uff0c\u4e0e 200 OK \u57fa\u672c\u76f8\u540c\uff0c\u4f46\u54cd\u5e94\u5934\u6ca1\u6709 body \u6570\u636e\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u300c",(0,l.kt)("strong",{parentName:"li"},"206 Partial Content"),"\u300d\u662f\u5e94\u7528\u4e8e HTTP \u5206\u5757\u4e0b\u8f7d\u6216\u65ad\u70b9\u7eed\u4f20\uff0c\u8868\u793a\u54cd\u5e94\u8fd4\u56de\u7684 body \u6570\u636e\u5e76\u4e0d\u662f\u8d44\u6e90\u7684\u5168\u90e8\uff0c\u800c\u662f\u5176\u4e2d\u7684\u4e00\u90e8\u5206\uff0c\u4e5f\u662f\u670d\u52a1\u5668\u5904\u7406\u6210\u529f\u7684\u72b6\u6001\u3002")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"3xx")," \u7c7b\u72b6\u6001\u7801\u8868\u793a\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u8d44\u6e90\u53d1\u751f\u4e86\u53d8\u52a8\uff0c\u9700\u8981\u5ba2\u6237\u7aef\u7528\u65b0\u7684 URL \u91cd\u65b0\u53d1\u9001\u8bf7\u6c42\u83b7\u53d6\u8d44\u6e90\uff0c\u4e5f\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u91cd\u5b9a\u5411"),"\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u300c",(0,l.kt)("strong",{parentName:"li"},"301 Moved Permanently"),"\u300d\u8868\u793a\u6c38\u4e45\u91cd\u5b9a\u5411\uff0c\u8bf4\u660e\u8bf7\u6c42\u7684\u8d44\u6e90\u5df2\u7ecf\u4e0d\u5b58\u5728\u4e86\uff0c\u9700\u6539\u7528\u65b0\u7684 URL \u518d\u6b21\u8bbf\u95ee\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u300c",(0,l.kt)("strong",{parentName:"li"},"302 Found"),"\u300d\u8868\u793a\u4e34\u65f6\u91cd\u5b9a\u5411\uff0c\u8bf4\u660e\u8bf7\u6c42\u7684\u8d44\u6e90\u8fd8\u5728\uff0c\u4f46\u6682\u65f6\u9700\u8981\u7528\u53e6\u4e00\u4e2a URL \u6765\u8bbf\u95ee\u3002")),(0,l.kt)("p",null,"301 \u548c 302 \u90fd\u4f1a\u5728\u54cd\u5e94\u5934\u91cc\u4f7f\u7528\u5b57\u6bb5 ",(0,l.kt)("inlineCode",{parentName:"p"},"Location"),"\uff0c\u6307\u660e\u540e\u7eed\u8981\u8df3\u8f6c\u7684 URL\uff0c\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u91cd\u5b9a\u5411\u65b0\u7684 URL\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u300c",(0,l.kt)("strong",{parentName:"li"},"304 Not Modified"),"\u300d\u4e0d\u5177\u6709\u8df3\u8f6c\u7684\u542b\u4e49\uff0c\u8868\u793a\u8d44\u6e90\u672a\u4fee\u6539\uff0c\u91cd\u5b9a\u5411\u5df2\u5b58\u5728\u7684\u7f13\u51b2\u6587\u4ef6\uff0c\u4e5f\u79f0\u7f13\u5b58\u91cd\u5b9a\u5411\uff0c\u4e5f\u5c31\u662f\u544a\u8bc9\u5ba2\u6237\u7aef\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528\u7f13\u5b58\u8d44\u6e90\uff0c\u7528\u4e8e\u7f13\u5b58\u63a7\u5236\u3002")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"4xx")," \u7c7b\u72b6\u6001\u7801\u8868\u793a\u5ba2\u6237\u7aef\u53d1\u9001\u7684",(0,l.kt)("strong",{parentName:"p"},"\u62a5\u6587\u6709\u8bef"),"\uff0c\u670d\u52a1\u5668\u65e0\u6cd5\u5904\u7406\uff0c\u4e5f\u5c31\u662f\u9519\u8bef\u7801\u7684\u542b\u4e49\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u300c",(0,l.kt)("strong",{parentName:"li"},"400 Bad Request"),"\u300d\u8868\u793a\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u62a5\u6587\u6709\u9519\u8bef\uff0c\u4f46\u53ea\u662f\u4e2a\u7b3c\u7edf\u7684\u9519\u8bef\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u300c",(0,l.kt)("strong",{parentName:"li"},"403 Forbidden"),"\u300d\u8868\u793a\u670d\u52a1\u5668\u7981\u6b62\u8bbf\u95ee\u8d44\u6e90\uff0c\u5e76\u4e0d\u662f\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u51fa\u9519\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u300c",(0,l.kt)("strong",{parentName:"li"},"404 Not Found"),"\u300d\u8868\u793a\u8bf7\u6c42\u7684\u8d44\u6e90\u5728\u670d\u52a1\u5668\u4e0a\u4e0d\u5b58\u5728\u6216\u672a\u627e\u5230\uff0c\u6240\u4ee5\u65e0\u6cd5\u63d0\u4f9b\u7ed9\u5ba2\u6237\u7aef\u3002")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"5xx")," \u7c7b\u72b6\u6001\u7801\u8868\u793a\u5ba2\u6237\u7aef\u8bf7\u6c42\u62a5\u6587\u6b63\u786e\uff0c\u4f46\u662f",(0,l.kt)("strong",{parentName:"p"},"\u670d\u52a1\u5668\u5904\u7406\u65f6\u5185\u90e8\u53d1\u751f\u4e86\u9519\u8bef"),"\uff0c\u5c5e\u4e8e\u670d\u52a1\u5668\u7aef\u7684\u9519\u8bef\u7801\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u300c",(0,l.kt)("strong",{parentName:"li"},"500 Internal Server Error"),"\u300d\u4e0e 400 \u7c7b\u578b\uff0c\u662f\u4e2a\u7b3c\u7edf\u901a\u7528\u7684\u9519\u8bef\u7801\uff0c\u670d\u52a1\u5668\u53d1\u751f\u4e86\u4ec0\u4e48\u9519\u8bef\uff0c\u6211\u4eec\u5e76\u4e0d\u77e5\u9053\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u300c",(0,l.kt)("strong",{parentName:"li"},"501 Not Implemented"),"\u300d\u8868\u793a\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u529f\u80fd\u8fd8\u4e0d\u652f\u6301\uff0c\u7c7b\u4f3c\u201c\u5373\u5c06\u5f00\u4e1a\uff0c\u656c\u8bf7\u671f\u5f85\u201d\u7684\u610f\u601d\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u300c",(0,l.kt)("strong",{parentName:"li"},"502 Bad Gateway"),"\u300d\u901a\u5e38\u662f\u670d\u52a1\u5668\u4f5c\u4e3a\u7f51\u5173\u6216\u4ee3\u7406\u65f6\u8fd4\u56de\u7684\u9519\u8bef\u7801\uff0c\u8868\u793a\u670d\u52a1\u5668\u81ea\u8eab\u5de5\u4f5c\u6b63\u5e38\uff0c\u8bbf\u95ee\u540e\u7aef\u670d\u52a1\u5668\u53d1\u751f\u4e86\u9519\u8bef\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u300c",(0,l.kt)("strong",{parentName:"li"},"503 Service Unavailable"),"\u300d\u8868\u793a\u670d\u52a1\u5668\u5f53\u524d\u5f88\u5fd9\uff0c\u6682\u65f6\u65e0\u6cd5\u54cd\u5e94\u5ba2\u6237\u7aef\uff0c\u7c7b\u4f3c\u201c\u7f51\u7edc\u670d\u52a1\u6b63\u5fd9\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\u201d\u7684\u610f\u601d\u3002")),(0,l.kt)("h4",{id:"http\u5982\u4f55\u5b9e\u73b0\u957f\u8fde\u63a5"},"HTTP\u5982\u4f55\u5b9e\u73b0\u957f\u8fde\u63a5"),(0,l.kt)("p",null,"\u65e9\u671f HTTP/1.0 \u6027\u80fd\u4e0a\u7684\u4e00\u4e2a\u5f88\u5927\u7684\u95ee\u9898\uff0c\u90a3\u5c31\u662f\u6bcf\u53d1\u8d77\u4e00\u4e2a\u8bf7\u6c42\uff0c\u90fd\u8981\u65b0\u5efa\u4e00\u6b21 TCP \u8fde\u63a5\uff08\u4e09\u6b21\u63e1\u624b\uff09\uff0c\u800c\u4e14\u662f\u4e32\u884c\u8bf7\u6c42\uff0c\u505a\u4e86\u65e0\u8c13\u7684 TCP \u8fde\u63a5\u5efa\u7acb\u548c\u65ad\u5f00\uff0c\u589e\u52a0\u4e86\u901a\u4fe1\u5f00\u9500\u3002"),(0,l.kt)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u4e0a\u8ff0 TCP \u8fde\u63a5\u95ee\u9898\uff0cHTTP/1.1 \u63d0\u51fa\u4e86",(0,l.kt)("strong",{parentName:"p"},"\u957f\u8fde\u63a5"),"\u7684\u901a\u4fe1\u65b9\u5f0f\uff0c\u4e5f\u53eb\u6301\u4e45\u8fde\u63a5\u3002\u8fd9\u79cd\u65b9\u5f0f\u7684\u597d\u5904\u5728\u4e8e\u51cf\u5c11\u4e86 TCP \u8fde\u63a5\u7684\u91cd\u590d\u5efa\u7acb\u548c\u65ad\u5f00\u6240\u9020\u6210\u7684\u989d\u5916\u5f00\u9500\uff0c\u51cf\u8f7b\u4e86\u670d\u52a1\u5668\u7aef\u7684\u8d1f\u8f7d\u3002"),(0,l.kt)("p",null,"\u6301\u4e45\u8fde\u63a5\u7684\u7279\u70b9\u662f\uff0c\u53ea\u8981\u4efb\u610f\u4e00\u7aef\u6ca1\u6709\u660e\u786e\u63d0\u51fa\u65ad\u5f00\u8fde\u63a5\uff0c\u5219\u4fdd\u6301 TCP \u8fde\u63a5\u72b6\u6001\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"\u77ed\u8fde\u63a5\u4e0e\u957f\u8fde\u63a5",src:n(31937).Z,width:"616",height:"472"})),(0,l.kt)("p",null,"\u4f46\u662f",(0,l.kt)("strong",{parentName:"p"},"\u670d\u52a1\u5668\u5fc5\u987b\u6309\u7167\u63a5\u6536\u8bf7\u6c42\u7684\u987a\u5e8f\u53d1\u9001\u5bf9\u8fd9\u4e9b\u7ba1\u9053\u5316\u8bf7\u6c42\u7684\u54cd\u5e94"),"\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u670d\u52a1\u7aef\u5728\u5904\u7406 A \u8bf7\u6c42\u65f6\u8017\u65f6\u6bd4\u8f83\u957f\uff0c\u90a3\u4e48\u540e\u7eed\u7684\u8bf7\u6c42\u7684\u5904\u7406\u90fd\u4f1a\u88ab\u963b\u585e\u4f4f\uff0c\u8fd9\u79f0\u4e3a\u300c\u961f\u5934\u5835\u585e\u300d\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c",(0,l.kt)("strong",{parentName:"p"},"HTTP/1.1 \u7ba1\u9053\u89e3\u51b3\u4e86\u8bf7\u6c42\u7684\u961f\u5934\u963b\u585e\uff0c\u4f46\u662f\u6ca1\u6709\u89e3\u51b3\u54cd\u5e94\u7684\u961f\u5934\u963b\u585e"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("em",{parentName:"strong"},"\u6ce8\u610f\uff1a\u5b9e\u9645\u4e0a HTTP/1.1 \u7ba1\u9053\u5316\u6280\u672f\u4e0d\u662f\u9ed8\u8ba4\u5f00\u542f\uff0c\u800c\u4e14\u6d4f\u89c8\u5668\u57fa\u672c\u90fd\u6ca1\u6709\u652f\u6301\uff0c\u6240\u4ee5\u540e\u9762\u8ba8\u8bbaHTTP/1.1 \u90fd\u662f\u5efa\u7acb\u5728\u6ca1\u6709\u4f7f\u7528\u7ba1\u9053\u5316\u7684\u524d\u63d0\u3002"))),(0,l.kt)("h4",{id:"\u5982\u4f55\u89e3\u51b3\u7c98\u5305"},"\u5982\u4f55\u89e3\u51b3\u7c98\u5305\uff1f"),(0,l.kt)("p",null,"\u7c98\u5305\u7684\u95ee\u9898\u51fa\u73b0\u662f\u56e0\u4e3a\u4e0d\u77e5\u9053\u4e00\u4e2a\u7528\u6237\u6d88\u606f\u7684\u8fb9\u754c\u5728\u54ea\uff0c\u5982\u679c\u77e5\u9053\u4e86\u8fb9\u754c\u5728\u54ea\uff0c\u63a5\u6536\u65b9\u5c31\u53ef\u4ee5\u901a\u8fc7\u8fb9\u754c\u6765\u5212\u5206\u51fa\u6709\u6548\u7684\u7528\u6237\u6d88\u606f\u3002"),(0,l.kt)("p",null,"\u4e00\u822c\u6709\u4e09\u79cd\u65b9\u5f0f\u5206\u5305\u7684\u65b9\u5f0f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u56fa\u5b9a\u957f\u5ea6\u7684\u6d88\u606f\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7279\u6b8a\u5b57\u7b26\u4f5c\u4e3a\u8fb9\u754c\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u81ea\u5b9a\u4e49\u6d88\u606f\u7ed3\u6784\u3002")),(0,l.kt)("h5",{id:"\u56fa\u5b9a\u957f\u5ea6\u7684\u6d88\u606f"},"\u56fa\u5b9a\u957f\u5ea6\u7684\u6d88\u606f"),(0,l.kt)("p",null,"\u8fd9\u79cd\u662f\u6700\u7b80\u5355\u65b9\u6cd5\uff0c\u5373\u6bcf\u4e2a\u7528\u6237\u6d88\u606f\u90fd\u662f\u56fa\u5b9a\u957f\u5ea6\u7684\uff0c\u6bd4\u5982\u89c4\u5b9a\u4e00\u4e2a\u6d88\u606f\u7684\u957f\u5ea6\u662f 64 \u4e2a\u5b57\u8282\uff0c\u5f53\u63a5\u6536\u65b9\u63a5\u6ee1 64 \u4e2a\u5b57\u8282\uff0c\u5c31\u8ba4\u4e3a\u8fd9\u4e2a\u5185\u5bb9\u662f\u4e00\u4e2a\u5b8c\u6574\u4e14\u6709\u6548\u7684\u6d88\u606f\u3002"),(0,l.kt)("p",null,"\u4f46\u662f\u8fd9\u79cd\u65b9\u5f0f\u7075\u6d3b\u6027\u4e0d\u9ad8\uff0c\u5b9e\u9645\u4e2d\u5f88\u5c11\u7528\u3002"),(0,l.kt)("h5",{id:"\u7279\u6b8a\u5b57\u7b26\u4f5c\u4e3a\u8fb9\u754c"},"\u7279\u6b8a\u5b57\u7b26\u4f5c\u4e3a\u8fb9\u754c"),(0,l.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u5728\u4e24\u4e2a\u7528\u6237\u6d88\u606f\u4e4b\u95f4\u63d2\u5165\u4e00\u4e2a\u7279\u6b8a\u7684\u5b57\u7b26\u4e32\uff0c\u8fd9\u6837\u63a5\u6536\u65b9\u5728\u63a5\u6536\u6570\u636e\u65f6\uff0c\u8bfb\u5230\u4e86\u8fd9\u4e2a\u7279\u6b8a\u5b57\u7b26\uff0c\u5c31\u628a\u8ba4\u4e3a\u5df2\u7ecf\u8bfb\u5b8c\u4e00\u4e2a\u5b8c\u6574\u7684\u6d88\u606f\u3002"),(0,l.kt)("p",null,"HTTP \u662f\u4e00\u4e2a\u975e\u5e38\u597d\u7684\u4f8b\u5b50\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"\u56fe\u7247",src:n(96748).Z,width:"942",height:"324"})),(0,l.kt)("p",null,"HTTP \u901a\u8fc7\u8bbe\u7f6e\u56de\u8f66\u7b26\u3001\u6362\u884c\u7b26\u4f5c\u4e3a HTTP \u62a5\u6587\u534f\u8bae\u7684\u8fb9\u754c\u3002"),(0,l.kt)("p",null,"\u6709\u4e00\u70b9\u8981\u6ce8\u610f\uff0c\u8fd9\u4e2a\u4f5c\u4e3a\u8fb9\u754c\u70b9\u7684\u7279\u6b8a\u5b57\u7b26\uff0c\u5982\u679c\u521a\u597d\u6d88\u606f\u5185\u5bb9\u91cc\u6709\u8fd9\u4e2a\u7279\u6b8a\u5b57\u7b26\uff0c\u6211\u4eec\u8981\u5bf9\u8fd9\u4e2a\u5b57\u7b26\u8f6c\u4e49\uff0c\u907f\u514d\u88ab\u63a5\u6536\u65b9\u5f53\u4f5c\u6d88\u606f\u7684\u8fb9\u754c\u70b9\u800c\u89e3\u6790\u5230\u65e0\u6548\u7684\u6570\u636e"),(0,l.kt)("h5",{id:"\u81ea\u5b9a\u4e49\u6d88\u606f\u7ed3\u6784"},"\u81ea\u5b9a\u4e49\u6d88\u606f\u7ed3\u6784"),(0,l.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u81ea\u5b9a\u4e49\u4e00\u4e2a\u6d88\u606f\u7ed3\u6784\uff0c\u7531\u5305\u5934\u548c\u6570\u636e\u7ec4\u6210\uff0c\u5176\u4e2d\u5305\u5934\u5305\u662f\u56fa\u5b9a\u5927\u5c0f\u7684\uff0c\u800c\u4e14\u5305\u5934\u91cc\u6709\u4e00\u4e2a\u5b57\u6bb5\u6765\u8bf4\u660e\u7d27\u968f\u5176\u540e\u7684\u6570\u636e\u6709\u591a\u5927\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982\u8fd9\u4e2a\u6d88\u606f\u7ed3\u6784\u4f53\uff0c\u9996\u5148 4 \u4e2a\u5b57\u8282\u5927\u5c0f\u7684\u53d8\u91cf\u6765\u8868\u793a\u6570\u636e\u957f\u5ea6\uff0c\u771f\u6b63\u7684\u6570\u636e\u5219\u5728\u540e\u9762\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"struct { \n    u_int32_t message_length; \n    char message_data[]; \n} message;\n")),(0,l.kt)("p",null,"\u5f53\u63a5\u6536\u65b9\u63a5\u6536\u5230\u5305\u5934\u7684\u5927\u5c0f\uff08\u6bd4\u5982 4 \u4e2a\u5b57\u8282\uff09\u540e\uff0c\u5c31\u89e3\u6790\u5305\u5934\u7684\u5185\u5bb9\uff0c\u4e8e\u662f\u5c31\u53ef\u4ee5\u77e5\u9053\u6570\u636e\u7684\u957f\u5ea6\uff0c\u7136\u540e\u63a5\u4e0b\u6765\u5c31\u7ee7\u7eed\u8bfb\u53d6\u6570\u636e\uff0c\u76f4\u5230\u8bfb\u6ee1\u6570\u636e\u7684\u957f\u5ea6\uff0c\u5c31\u53ef\u4ee5\u7ec4\u88c5\u6210\u4e00\u4e2a\u5b8c\u6574\u5230\u7528\u6237\u6d88\u606f\u6765\u5904\u7406\u4e86\u3002"),(0,l.kt)("h3",{id:"\u64cd\u4f5c\u7cfb\u7edf"},"\ud83d\udcbb\u64cd\u4f5c\u7cfb\u7edf"),(0,l.kt)("h4",{id:"\u4ec0\u4e48\u662f\u534f\u7a0b"},"\u4ec0\u4e48\u662f\u534f\u7a0b\uff1f"),(0,l.kt)("p",null,"\u534f\u7a0b\u662f\u4e00\u79cd\u7528\u6237\u6001\u7684\u8f7b\u91cf\u7ea7\u7ebf\u7a0b\u3002"),(0,l.kt)("p",null,"\u534f\u7a0b\u4e0d\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7ba1\u7406\uff0c\u800c\u662f\u5b8c\u5168\u7531\u7528\u6237\u7a0b\u5e8f\u6240\u63a7\u5236\uff0c\u8fd9\u6837\u5e26\u6765\u7684\u597d\u5904\u5c31\u662f\u6027\u80fd\u5f97\u5230\u4e86\u5f88\u5927\u7684\u63d0\u5347\uff0c\u4e0d\u4f1a\u50cf\u7ebf\u7a0b\u5207\u6362\u90a3\u6837\u6d88\u8017\u8d44\u6e90\u3002"),(0,l.kt)("p",null,"\u534f\u7a0b\u53ef\u4ee5\u7406\u89e3\u4e3a\u53ef\u4ee5\u6682\u505c\u6267\u884c\u7684\u51fd\u6570\u3002\u5b83\u62e5\u6709\u81ea\u5df1\u7684\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\u3002\u534f\u7a0b\u8c03\u5ea6\u5207\u6362\u65f6\uff0c\u5c06\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\u4fdd\u5b58\u5230\u5176\u4ed6\u5730\u65b9\uff0c\u5728\u5207\u56de\u6765\u7684\u65f6\u5019\uff0c\u6062\u590d\u5148\u524d\u4fdd\u5b58\u7684\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\uff0c\u76f4\u63a5\u64cd\u4f5c\u6808\u5219\u57fa\u672c\u6ca1\u6709\u5185\u6838\u5207\u6362\u7684\u5f00\u9500\uff0c\u53ef\u4ee5\u4e0d\u52a0\u9501\u7684\u8bbf\u95ee\u5168\u5c40\u53d8\u91cf\uff0c\u6240\u4ee5\u4e0a\u4e0b\u6587\u7684\u5207\u6362\u975e\u5e38\u5feb\u3002"),(0,l.kt)("h4",{id:"\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u533a\u522b"},"\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u533a\u522b"),(0,l.kt)("p",null,"\ud83d\udc68\u200d\ud83d\udcbb",(0,l.kt)("strong",{parentName:"p"},"\u9762\u8bd5\u5b98"),": \u597d\u7684\uff01\u6211\u660e\u767d\u4e86\uff01\u90a3\u4f60\u518d\u8bf4\u4e00\u4e0b\uff1a ",(0,l.kt)("strong",{parentName:"p"},"\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u533a\u522b"),"\u3002"),(0,l.kt)("p",null,"\ud83d\ude4b ",(0,l.kt)("strong",{parentName:"p"},"\u6211\uff1a")," \u597d\u7684\uff01 \u4e0b\u56fe\u662f Java \u5185\u5b58\u533a\u57df\uff0c\u6211\u4eec\u4ece JVM \u7684\u89d2\u5ea6\u6765\u8bf4\u4e00\u4e0b\u7ebf\u7a0b\u548c\u8fdb\u7a0b\u4e4b\u95f4\u7684\u5173\u7cfb\u5427\uff01"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220626201137158",src:n(25520).Z,width:"754",height:"651"})),(0,l.kt)("p",null,"\u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff1a\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u53ef\u4ee5\u6709\u591a\u4e2a\u7ebf\u7a0b\uff0c\u591a\u4e2a\u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684",(0,l.kt)("strong",{parentName:"p"},"\u5806"),"\u548c",(0,l.kt)("strong",{parentName:"p"},"\u65b9\u6cd5\u533a (JDK1.8 \u4e4b\u540e\u7684\u5143\u7a7a\u95f4)","*","*\u8d44\u6e90\uff0c\u4f46\u662f\u6bcf\u4e2a\u7ebf\u7a0b\u6709\u81ea\u5df1\u7684","*","*\u7a0b\u5e8f\u8ba1\u6570\u5668"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u865a\u62df\u673a\u6808")," \u548c ",(0,l.kt)("strong",{parentName:"p"},"\u672c\u5730\u65b9\u6cd5\u6808"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u603b\u7ed3\uff1a")," \u7ebf\u7a0b\u662f\u8fdb\u7a0b\u5212\u5206\u6210\u7684\u66f4\u5c0f\u7684\u8fd0\u884c\u5355\u4f4d,\u4e00\u4e2a\u8fdb\u7a0b\u5728\u5176\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u4ea7\u751f\u591a\u4e2a\u7ebf\u7a0b\u3002\u7ebf\u7a0b\u548c\u8fdb\u7a0b\u6700\u5927\u7684\u4e0d\u540c\u5728\u4e8e\u57fa\u672c\u4e0a\u5404\u8fdb\u7a0b\u662f\u72ec\u7acb\u7684\uff0c\u800c\u5404\u7ebf\u7a0b\u5219\u4e0d\u4e00\u5b9a\uff0c\u56e0\u4e3a\u540c\u4e00\u8fdb\u7a0b\u4e2d\u7684\u7ebf\u7a0b\u6781\u6709\u53ef\u80fd\u4f1a\u76f8\u4e92\u5f71\u54cd\u3002\u7ebf\u7a0b\u6267\u884c\u5f00\u9500\u5c0f\uff0c\u4f46\u4e0d\u5229\u4e8e\u8d44\u6e90\u7684\u7ba1\u7406\u548c\u4fdd\u62a4\uff1b\u800c\u8fdb\u7a0b\u6b63\u76f8\u53cd\u3002"),(0,l.kt)("h4",{id:"\u8fdb\u7a0b\u6709\u54ea\u51e0\u79cd\u72b6\u6001"},"\u8fdb\u7a0b\u6709\u54ea\u51e0\u79cd\u72b6\u6001?"),(0,l.kt)("p",null,"\ud83d\udc68\u200d\ud83d\udcbb",(0,l.kt)("strong",{parentName:"p"},"\u9762\u8bd5\u5b98")," \uff1a \u90a3\u4f60\u518d\u8bf4\u8bf4",(0,l.kt)("strong",{parentName:"p"},"\u8fdb\u7a0b\u6709\u54ea\u51e0\u79cd\u72b6\u6001?")),(0,l.kt)("p",null,"\ud83d\ude4b ",(0,l.kt)("strong",{parentName:"p"},"\u6211")," \uff1a\u6211\u4eec\u4e00\u822c\u628a\u8fdb\u7a0b\u5927\u81f4\u5206\u4e3a 5 \u79cd\u72b6\u6001\uff0c\u8fd9\u4e00\u70b9\u548c\u7ebf\u7a0b\u5f88\u50cf\uff01"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u521b\u5efa\u72b6\u6001(new)")," \uff1a\u8fdb\u7a0b\u6b63\u5728\u88ab\u521b\u5efa\uff0c\u5c1a\u672a\u5230\u5c31\u7eea\u72b6\u6001\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5c31\u7eea\u72b6\u6001(ready)")," \uff1a\u8fdb\u7a0b\u5df2\u5904\u4e8e\u51c6\u5907\u8fd0\u884c\u72b6\u6001\uff0c\u5373\u8fdb\u7a0b\u83b7\u5f97\u4e86\u9664\u4e86\u5904\u7406\u5668\u4e4b\u5916\u7684\u4e00\u5207\u6240\u9700\u8d44\u6e90\uff0c\u4e00\u65e6\u5f97\u5230\u5904\u7406\u5668\u8d44\u6e90(\u5904\u7406\u5668\u5206\u914d\u7684\u65f6\u95f4\u7247)\u5373\u53ef\u8fd0\u884c\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u8fd0\u884c\u72b6\u6001(running)")," \uff1a\u8fdb\u7a0b\u6b63\u5728\u5904\u7406\u5668\u4e0a\u4e0a\u8fd0\u884c(\u5355\u6838 CPU \u4e0b\u4efb\u610f\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u8fdb\u7a0b\u5904\u4e8e\u8fd0\u884c\u72b6\u6001)\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u963b\u585e\u72b6\u6001(waiting)")," \uff1a\u53c8\u79f0\u4e3a\u7b49\u5f85\u72b6\u6001\uff0c\u8fdb\u7a0b\u6b63\u5728\u7b49\u5f85\u67d0\u4e00\u4e8b\u4ef6\u800c\u6682\u505c\u8fd0\u884c\u5982\u7b49\u5f85\u67d0\u8d44\u6e90\u4e3a\u53ef\u7528\u6216\u7b49\u5f85 IO \u64cd\u4f5c\u5b8c\u6210\u3002\u5373\u4f7f\u5904\u7406\u5668\u7a7a\u95f2\uff0c\u8be5\u8fdb\u7a0b\u4e5f\u4e0d\u80fd\u8fd0\u884c\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7ed3\u675f\u72b6\u6001(terminated)")," \uff1a\u8fdb\u7a0b\u6b63\u5728\u4ece\u7cfb\u7edf\u4e2d\u6d88\u5931\u3002\u53ef\u80fd\u662f\u8fdb\u7a0b\u6b63\u5e38\u7ed3\u675f\u6216\u5176\u4ed6\u539f\u56e0\u4e2d\u65ad\u9000\u51fa\u8fd0\u884c\u3002")),(0,l.kt)("h4",{id:"\u8fdb\u7a0b\u95f4\u7684\u901a\u4fe1\u65b9\u5f0f"},"\u8fdb\u7a0b\u95f4\u7684\u901a\u4fe1\u65b9\u5f0f"),(0,l.kt)("p",null,"\ud83d\udc68\u200d\ud83d\udcbb",(0,l.kt)("strong",{parentName:"p"},"\u9762\u8bd5\u5b98")," \uff1a",(0,l.kt)("strong",{parentName:"p"},"\u8fdb\u7a0b\u95f4\u7684\u901a\u4fe1\u5e38\u89c1\u7684\u7684\u6709\u54ea\u51e0\u79cd\u65b9\u5f0f\u5462?")),(0,l.kt)("p",null,"\ud83d\ude4b ",(0,l.kt)("strong",{parentName:"p"},"\u6211")," \uff1a\u5927\u6982\u6709 7 \u79cd\u5e38\u89c1\u7684\u8fdb\u7a0b\u95f4\u7684\u901a\u4fe1\u65b9\u5f0f\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e0b\u9762\u8fd9\u90e8\u5206\u603b\u7ed3\u53c2\u8003\u4e86:",(0,l.kt)("a",{parentName:"p",href:"https://www.jianshu.com/p/c1015f5ffa74"},"\u300a\u8fdb\u7a0b\u95f4\u901a\u4fe1 IPC (InterProcess Communication)\u300b"),"\u8fd9\u7bc7\u6587\u7ae0\uff0c\u63a8\u8350\u9605\u8bfb\uff0c\u603b\u7ed3\u7684\u975e\u5e38\u4e0d\u9519\u3002")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u7ba1\u9053/\u533f\u540d\u7ba1\u9053(Pipes)")," \uff1a\u7528\u4e8e\u5177\u6709\u4eb2\u7f18\u5173\u7cfb\u7684\u7236\u5b50\u8fdb\u7a0b\u95f4\u6216\u8005\u5144\u5f1f\u8fdb\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u6709\u540d\u7ba1\u9053(Names Pipes)")," : \u533f\u540d\u7ba1\u9053\u7531\u4e8e\u6ca1\u6709\u540d\u5b57\uff0c\u53ea\u80fd\u7528\u4e8e\u4eb2\u7f18\u5173\u7cfb\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1\u3002\u4e3a\u4e86\u514b\u670d\u8fd9\u4e2a\u7f3a\u70b9\uff0c\u63d0\u51fa\u4e86\u6709\u540d\u7ba1\u9053\u3002\u6709\u540d\u7ba1\u9053\u4e25\u683c\u9075\u5faa",(0,l.kt)("strong",{parentName:"li"},"\u5148\u8fdb\u5148\u51fa(first in first out)"),"\u3002\u6709\u540d\u7ba1\u9053\u4ee5\u78c1\u76d8\u6587\u4ef6\u7684\u65b9\u5f0f\u5b58\u5728\uff0c\u53ef\u4ee5\u5b9e\u73b0\u672c\u673a\u4efb\u610f\u4e24\u4e2a\u8fdb\u7a0b\u901a\u4fe1\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4fe1\u53f7(Signal)")," \uff1a\u4fe1\u53f7\u662f\u4e00\u79cd\u6bd4\u8f83\u590d\u6742\u7684\u901a\u4fe1\u65b9\u5f0f\uff0c\u7528\u4e8e\u901a\u77e5\u63a5\u6536\u8fdb\u7a0b\u67d0\u4e2a\u4e8b\u4ef6\u5df2\u7ecf\u53d1\u751f\uff1b"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u6d88\u606f\u961f\u5217(Message Queuing)"),"  \uff1a\u6d88\u606f\u961f\u5217\u662f\u6d88\u606f\u7684\u94fe\u8868,\u5177\u6709\u7279\u5b9a\u7684\u683c\u5f0f,\u5b58\u653e\u5728\u5185\u5b58\u4e2d\u5e76\u7531\u6d88\u606f\u961f\u5217\u6807\u8bc6\u7b26\u6807\u8bc6\u3002\u7ba1\u9053\u548c\u6d88\u606f\u961f\u5217\u7684\u901a\u4fe1\u6570\u636e\u90fd\u662f\u5148\u8fdb\u5148\u51fa\u7684\u539f\u5219\u3002\u4e0e\u7ba1\u9053\uff08\u65e0\u540d\u7ba1\u9053\uff1a\u53ea\u5b58\u5728\u4e8e\u5185\u5b58\u4e2d\u7684\u6587\u4ef6\uff1b\u547d\u540d\u7ba1\u9053\uff1a\u5b58\u5728\u4e8e\u5b9e\u9645\u7684\u78c1\u76d8\u4ecb\u8d28\u6216\u8005\u6587\u4ef6\u7cfb\u7edf\uff09\u4e0d\u540c\u7684\u662f\u6d88\u606f\u961f\u5217\u5b58\u653e\u5728\u5185\u6838\u4e2d\uff0c\u53ea\u6709\u5728\u5185\u6838\u91cd\u542f(\u5373\uff0c\u64cd\u4f5c\u7cfb\u7edf\u91cd\u542f)\u6216\u8005\u663e\u5f0f\u5730\u5220\u9664\u4e00\u4e2a\u6d88\u606f\u961f\u5217\u65f6\uff0c\u8be5\u6d88\u606f\u961f\u5217\u624d\u4f1a\u88ab\u771f\u6b63\u7684\u5220\u9664\u3002\u6d88\u606f\u961f\u5217\u53ef\u4ee5\u5b9e\u73b0\u6d88\u606f\u7684\u968f\u673a\u67e5\u8be2,\u6d88\u606f\u4e0d\u4e00\u5b9a\u8981\u4ee5\u5148\u8fdb\u5148\u51fa\u7684\u6b21\u5e8f\u8bfb\u53d6,\u4e5f\u53ef\u4ee5\u6309\u6d88\u606f\u7684\u7c7b\u578b\u8bfb\u53d6.\u6bd4 FIFO \u66f4\u6709\u4f18\u52bf\u3002",(0,l.kt)("strong",{parentName:"li"},"\u6d88\u606f\u961f\u5217\u514b\u670d\u4e86\u4fe1\u53f7\u627f\u8f7d\u4fe1\u606f\u91cf\u5c11\uff0c\u7ba1\u9053\u53ea\u80fd\u627f\u8f7d\u65e0\u683c\u5f0f\u5b57 \u8282\u6d41\u4ee5\u53ca\u7f13\u51b2\u533a\u5927\u5c0f\u53d7\u9650\u7b49\u7f3a\u70b9\u3002")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4fe1\u53f7\u91cf(Semaphores)")," \uff1a\u4fe1\u53f7\u91cf\u662f\u4e00\u4e2a\u8ba1\u6570\u5668\uff0c\u7528\u4e8e\u591a\u8fdb\u7a0b\u5bf9\u5171\u4eab\u6570\u636e\u7684\u8bbf\u95ee\uff0c\u4fe1\u53f7\u91cf\u7684\u610f\u56fe\u5728\u4e8e\u8fdb\u7a0b\u95f4\u540c\u6b65\u3002\u8fd9\u79cd\u901a\u4fe1\u65b9\u5f0f\u4e3b\u8981\u7528\u4e8e\u89e3\u51b3\u4e0e\u540c\u6b65\u76f8\u5173\u7684\u95ee\u9898\u5e76\u907f\u514d\u7ade\u4e89\u6761\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5171\u4eab\u5185\u5b58(Shared memory)")," \uff1a\u4f7f\u5f97\u591a\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u540c\u4e00\u5757\u5185\u5b58\u7a7a\u95f4\uff0c\u4e0d\u540c\u8fdb\u7a0b\u53ef\u4ee5\u53ca\u65f6\u770b\u5230\u5bf9\u65b9\u8fdb\u7a0b\u4e2d\u5bf9\u5171\u4eab\u5185\u5b58\u4e2d\u6570\u636e\u7684\u66f4\u65b0\u3002\u8fd9\u79cd\u65b9\u5f0f\u9700\u8981\u4f9d\u9760\u67d0\u79cd\u540c\u6b65\u64cd\u4f5c\uff0c\u5982\u4e92\u65a5\u9501\u548c\u4fe1\u53f7\u91cf\u7b49\u3002\u53ef\u4ee5\u8bf4\u8fd9\u662f\u6700\u6709\u7528\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1\u65b9\u5f0f\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u5957\u63a5\u5b57(Sockets)")," : \u6b64\u65b9\u6cd5\u4e3b\u8981\u7528\u4e8e\u5728\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u901a\u8fc7\u7f51\u7edc\u8fdb\u884c\u901a\u4fe1\u3002\u5957\u63a5\u5b57\u662f\u652f\u6301 TCP/IP \u7684\u7f51\u7edc\u901a\u4fe1\u7684\u57fa\u672c\u64cd\u4f5c\u5355\u5143\uff0c\u53ef\u4ee5\u770b\u505a\u662f\u4e0d\u540c\u4e3b\u673a\u4e4b\u95f4\u7684\u8fdb\u7a0b\u8fdb\u884c\u53cc\u5411\u901a\u4fe1\u7684\u7aef\u70b9\uff0c\u7b80\u5355\u7684\u8bf4\u5c31\u662f\u901a\u4fe1\u7684\u4e24\u65b9\u7684\u4e00\u79cd\u7ea6\u5b9a\uff0c\u7528\u5957\u63a5\u5b57\u4e2d\u7684\u76f8\u5173\u51fd\u6570\u6765\u5b8c\u6210\u901a\u4fe1\u8fc7\u7a0b\u3002")),(0,l.kt)("h4",{id:"\u7ebf\u7a0b\u95f4\u7684\u540c\u6b65\u7684\u65b9\u5f0f"},"\u7ebf\u7a0b\u95f4\u7684\u540c\u6b65\u7684\u65b9\u5f0f"),(0,l.kt)("p",null,"\ud83d\udc68\u200d\ud83d\udcbb",(0,l.kt)("strong",{parentName:"p"},"\u9762\u8bd5\u5b98")," \uff1a",(0,l.kt)("strong",{parentName:"p"},"\u90a3\u7ebf\u7a0b\u95f4\u7684\u540c\u6b65\u7684\u65b9\u5f0f\u6709\u54ea\u4e9b\u5462?")),(0,l.kt)("p",null,"\ud83d\ude4b ",(0,l.kt)("strong",{parentName:"p"},"\u6211")," \uff1a\u7ebf\u7a0b\u540c\u6b65\u662f\u4e24\u4e2a\u6216\u591a\u4e2a\u5171\u4eab\u5173\u952e\u8d44\u6e90\u7684\u7ebf\u7a0b\u7684\u5e76\u53d1\u6267\u884c\u3002\u5e94\u8be5\u540c\u6b65\u7ebf\u7a0b\u4ee5\u907f\u514d\u5173\u952e\u7684\u8d44\u6e90\u4f7f\u7528\u51b2\u7a81\u3002\u64cd\u4f5c\u7cfb\u7edf\u4e00\u822c\u6709\u4e0b\u9762\u4e09\u79cd\u7ebf\u7a0b\u540c\u6b65\u7684\u65b9\u5f0f\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4e92\u65a5\u91cf(Mutex)"),"\uff1a\u91c7\u7528\u4e92\u65a5\u5bf9\u8c61\u673a\u5236\uff0c\u53ea\u6709\u62e5\u6709\u4e92\u65a5\u5bf9\u8c61\u7684\u7ebf\u7a0b\u624d\u6709\u8bbf\u95ee\u516c\u5171\u8d44\u6e90\u7684\u6743\u9650\u3002\u56e0\u4e3a\u4e92\u65a5\u5bf9\u8c61\u53ea\u6709\u4e00\u4e2a\uff0c\u6240\u4ee5\u53ef\u4ee5\u4fdd\u8bc1\u516c\u5171\u8d44\u6e90\u4e0d\u4f1a\u88ab\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8bbf\u95ee\u3002\u6bd4\u5982 Java \u4e2d\u7684 synchronized \u5173\u952e\u8bcd\u548c\u5404\u79cd Lock \u90fd\u662f\u8fd9\u79cd\u673a\u5236\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4fe1\u53f7\u91cf(Semaphore)")," \uff1a\u5b83\u5141\u8bb8\u540c\u4e00\u65f6\u523b\u591a\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u540c\u4e00\u8d44\u6e90\uff0c\u4f46\u662f\u9700\u8981\u63a7\u5236\u540c\u4e00\u65f6\u523b\u8bbf\u95ee\u6b64\u8d44\u6e90\u7684\u6700\u5927\u7ebf\u7a0b\u6570\u91cf\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4e8b\u4ef6(Event)")," :Wait/Notify\uff1a\u901a\u8fc7\u901a\u77e5\u64cd\u4f5c\u7684\u65b9\u5f0f\u6765\u4fdd\u6301\u591a\u7ebf\u7a0b\u540c\u6b65\uff0c\u8fd8\u53ef\u4ee5\u65b9\u4fbf\u7684\u5b9e\u73b0\u591a\u7ebf\u7a0b\u4f18\u5148\u7ea7\u7684\u6bd4\u8f83\u64cd\u4f5c")),(0,l.kt)("h4",{id:"\u8fdb\u7a0b\u7684\u8c03\u5ea6\u7b97\u6cd5"},"\u8fdb\u7a0b\u7684\u8c03\u5ea6\u7b97\u6cd5"),(0,l.kt)("p",null,"\ud83d\udc68\u200d\ud83d\udcbb",(0,l.kt)("strong",{parentName:"p"},"\u9762\u8bd5\u5b98")," \uff1a",(0,l.kt)("strong",{parentName:"p"},"\u4f60\u77e5\u9053\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u8fdb\u7a0b\u7684\u8c03\u5ea6\u7b97\u6cd5\u6709\u54ea\u4e9b\u5417?")),(0,l.kt)("p",null,"\ud83d\ude4b ",(0,l.kt)("strong",{parentName:"p"},"\u6211")," \uff1a\u55ef\u55ef\uff01\u8fd9\u4e2a\u6211\u4eec\u5927\u5b66\u7684\u65f6\u5019\u5b66\u8fc7\uff0c\u662f\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u77e5\u8bc6\u70b9\uff01"),(0,l.kt)("p",null,"\u4e3a\u4e86\u786e\u5b9a\u9996\u5148\u6267\u884c\u54ea\u4e2a\u8fdb\u7a0b\u4ee5\u53ca\u6700\u540e\u6267\u884c\u54ea\u4e2a\u8fdb\u7a0b\u4ee5\u5b9e\u73b0\u6700\u5927 CPU \u5229\u7528\u7387\uff0c\u8ba1\u7b97\u673a\u79d1\u5b66\u5bb6\u5df2\u7ecf\u5b9a\u4e49\u4e86\u4e00\u4e9b\u7b97\u6cd5\uff0c\u5b83\u4eec\u662f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5148\u5230\u5148\u670d\u52a1(FCFS)\u8c03\u5ea6\u7b97\u6cd5")," : \u4ece\u5c31\u7eea\u961f\u5217\u4e2d\u9009\u62e9\u4e00\u4e2a\u6700\u5148\u8fdb\u5165\u8be5\u961f\u5217\u7684\u8fdb\u7a0b\u4e3a\u4e4b\u5206\u914d\u8d44\u6e90\uff0c\u4f7f\u5b83\u7acb\u5373\u6267\u884c\u5e76\u4e00\u76f4\u6267\u884c\u5230\u5b8c\u6210\u6216\u53d1\u751f\u67d0\u4e8b\u4ef6\u800c\u88ab\u963b\u585e\u653e\u5f03\u5360\u7528 CPU \u65f6\u518d\u91cd\u65b0\u8c03\u5ea6\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u77ed\u4f5c\u4e1a\u4f18\u5148(SJF)\u7684\u8c03\u5ea6\u7b97\u6cd5")," : \u4ece\u5c31\u7eea\u961f\u5217\u4e2d\u9009\u51fa\u4e00\u4e2a\u4f30\u8ba1\u8fd0\u884c\u65f6\u95f4\u6700\u77ed\u7684\u8fdb\u7a0b\u4e3a\u4e4b\u5206\u914d\u8d44\u6e90\uff0c\u4f7f\u5b83\u7acb\u5373\u6267\u884c\u5e76\u4e00\u76f4\u6267\u884c\u5230\u5b8c\u6210\u6216\u53d1\u751f\u67d0\u4e8b\u4ef6\u800c\u88ab\u963b\u585e\u653e\u5f03\u5360\u7528 CPU \u65f6\u518d\u91cd\u65b0\u8c03\u5ea6\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u65f6\u95f4\u7247\u8f6e\u8f6c\u8c03\u5ea6\u7b97\u6cd5")," : \u65f6\u95f4\u7247\u8f6e\u8f6c\u8c03\u5ea6\u662f\u4e00\u79cd\u6700\u53e4\u8001\uff0c\u6700\u7b80\u5355\uff0c\u6700\u516c\u5e73\u4e14\u4f7f\u7528\u6700\u5e7f\u7684\u7b97\u6cd5\uff0c\u53c8\u79f0 RR(Round robin)\u8c03\u5ea6\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u88ab\u5206\u914d\u4e00\u4e2a\u65f6\u95f4\u6bb5\uff0c\u79f0\u4f5c\u5b83\u7684\u65f6\u95f4\u7247\uff0c\u5373\u8be5\u8fdb\u7a0b\u5141\u8bb8\u8fd0\u884c\u7684\u65f6\u95f4\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u591a\u7ea7\u53cd\u9988\u961f\u5217\u8c03\u5ea6\u7b97\u6cd5")," \uff1a\u524d\u9762\u4ecb\u7ecd\u7684\u51e0\u79cd\u8fdb\u7a0b\u8c03\u5ea6\u7684\u7b97\u6cd5\u90fd\u6709\u4e00\u5b9a\u7684\u5c40\u9650\u6027\u3002\u5982",(0,l.kt)("strong",{parentName:"li"},"\u77ed\u8fdb\u7a0b\u4f18\u5148\u7684\u8c03\u5ea6\u7b97\u6cd5\uff0c\u4ec5\u7167\u987e\u4e86\u77ed\u8fdb\u7a0b\u800c\u5ffd\u7565\u4e86\u957f\u8fdb\u7a0b")," \u3002\u591a\u7ea7\u53cd\u9988\u961f\u5217\u8c03\u5ea6\u7b97\u6cd5\u65e2\u80fd\u4f7f\u9ad8\u4f18\u5148\u7ea7\u7684\u4f5c\u4e1a\u5f97\u5230\u54cd\u5e94\u53c8\u80fd\u4f7f\u77ed\u4f5c\u4e1a\uff08\u8fdb\u7a0b\uff09\u8fc5\u901f\u5b8c\u6210\u3002\uff0c\u56e0\u800c\u5b83\u662f\u76ee\u524d",(0,l.kt)("strong",{parentName:"li"},"\u88ab\u516c\u8ba4\u7684\u4e00\u79cd\u8f83\u597d\u7684\u8fdb\u7a0b\u8c03\u5ea6\u7b97\u6cd5"),"\uff0cUNIX \u64cd\u4f5c\u7cfb\u7edf\u91c7\u53d6\u7684\u4fbf\u662f\u8fd9\u79cd\u8c03\u5ea6\u7b97\u6cd5\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4f18\u5148\u7ea7\u8c03\u5ea6")," \uff1a \u4e3a\u6bcf\u4e2a\u6d41\u7a0b\u5206\u914d\u4f18\u5148\u7ea7\uff0c\u9996\u5148\u6267\u884c\u5177\u6709\u6700\u9ad8\u4f18\u5148\u7ea7\u7684\u8fdb\u7a0b\uff0c\u4f9d\u6b64\u7c7b\u63a8\u3002\u5177\u6709\u76f8\u540c\u4f18\u5148\u7ea7\u7684\u8fdb\u7a0b\u4ee5 FCFS \u65b9\u5f0f\u6267\u884c\u3002\u53ef\u4ee5\u6839\u636e\u5185\u5b58\u8981\u6c42\uff0c\u65f6\u95f4\u8981\u6c42\u6216\u4efb\u4f55\u5176\u4ed6\u8d44\u6e90\u8981\u6c42\u6765\u786e\u5b9a\u4f18\u5148\u7ea7\u3002")),(0,l.kt)("h4",{id:"\u4ec0\u4e48\u662f\u6b7b\u9501"},"\u4ec0\u4e48\u662f\u6b7b\u9501"),(0,l.kt)("p",null,"\ud83d\udc68\u200d\ud83d\udcbb",(0,l.kt)("strong",{parentName:"p"},"\u9762\u8bd5\u5b98")," \uff1a",(0,l.kt)("strong",{parentName:"p"},"\u4f60\u77e5\u9053\u4ec0\u4e48\u662f\u6b7b\u9501\u5417?")),(0,l.kt)("p",null,"\ud83d\ude4b ",(0,l.kt)("strong",{parentName:"p"},"\u6211")," \uff1a\u6b7b\u9501\u63cf\u8ff0\u7684\u662f\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff1a\u591a\u4e2a\u8fdb\u7a0b/\u7ebf\u7a0b\u540c\u65f6\u88ab\u963b\u585e\uff0c\u5b83\u4eec\u4e2d\u7684\u4e00\u4e2a\u6216\u8005\u5168\u90e8\u90fd\u5728\u7b49\u5f85\u67d0\u4e2a\u8d44\u6e90\u88ab\u91ca\u653e\u3002\u7531\u4e8e\u8fdb\u7a0b/\u7ebf\u7a0b\u88ab\u65e0\u9650\u671f\u5730\u963b\u585e\uff0c\u56e0\u6b64\u7a0b\u5e8f\u4e0d\u53ef\u80fd\u6b63\u5e38\u7ec8\u6b62\u3002"),(0,l.kt)("h4",{id:"\u6b7b\u9501\u7684\u56db\u4e2a\u6761\u4ef6"},"\u6b7b\u9501\u7684\u56db\u4e2a\u6761\u4ef6"),(0,l.kt)("p",null,"\ud83d\udc68\u200d\ud83d\udcbb",(0,l.kt)("strong",{parentName:"p"},"\u9762\u8bd5\u5b98")," \uff1a",(0,l.kt)("strong",{parentName:"p"},"\u4ea7\u751f\u6b7b\u9501\u7684\u56db\u4e2a\u5fc5\u8981\u6761\u4ef6\u662f\u4ec0\u4e48?")),(0,l.kt)("p",null,"\ud83d\ude4b ",(0,l.kt)("strong",{parentName:"p"},"\u6211")," \uff1a\u5982\u679c\u7cfb\u7edf\u4e2d\u4ee5\u4e0b\u56db\u4e2a\u6761\u4ef6\u540c\u65f6\u6210\u7acb\uff0c\u90a3\u4e48\u5c31\u80fd\u5f15\u8d77\u6b7b\u9501\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e92\u65a5"),"\uff1a\u8d44\u6e90\u5fc5\u987b\u5904\u4e8e\u975e\u5171\u4eab\u6a21\u5f0f\uff0c\u5373\u4e00\u6b21\u53ea\u6709\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u4f7f\u7528\u3002\u5982\u679c\u53e6\u4e00\u8fdb\u7a0b\u7533\u8bf7\u8be5\u8d44\u6e90\uff0c\u90a3\u4e48\u5fc5\u987b\u7b49\u5f85\u76f4\u5230\u8be5\u8d44\u6e90\u88ab\u91ca\u653e\u4e3a\u6b62\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5360\u6709\u5e76\u7b49\u5f85"),"\uff1a\u4e00\u4e2a\u8fdb\u7a0b\u81f3\u5c11\u5e94\u8be5\u5360\u6709\u4e00\u4e2a\u8d44\u6e90\uff0c\u5e76\u7b49\u5f85\u53e6\u4e00\u8d44\u6e90\uff0c\u800c\u8be5\u8d44\u6e90\u88ab\u5176\u4ed6\u8fdb\u7a0b\u6240\u5360\u6709\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u975e\u62a2\u5360"),"\uff1a\u8d44\u6e90\u4e0d\u80fd\u88ab\u62a2\u5360\u3002\u53ea\u80fd\u5728\u6301\u6709\u8d44\u6e90\u7684\u8fdb\u7a0b\u5b8c\u6210\u4efb\u52a1\u540e\uff0c\u8be5\u8d44\u6e90\u624d\u4f1a\u88ab\u91ca\u653e\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5faa\u73af\u7b49\u5f85"),"\uff1a\u6709\u4e00\u7ec4\u7b49\u5f85\u8fdb\u7a0b ",(0,l.kt)("inlineCode",{parentName:"li"},"{P0, P1,..., Pn}"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"li"},"P0")," \u7b49\u5f85\u7684\u8d44\u6e90\u88ab ",(0,l.kt)("inlineCode",{parentName:"li"},"P1")," \u5360\u6709\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"P1")," \u7b49\u5f85\u7684\u8d44\u6e90\u88ab ",(0,l.kt)("inlineCode",{parentName:"li"},"P2")," \u5360\u6709\uff0c......\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"Pn-1")," \u7b49\u5f85\u7684\u8d44\u6e90\u88ab ",(0,l.kt)("inlineCode",{parentName:"li"},"Pn")," \u5360\u6709\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"Pn")," \u7b49\u5f85\u7684\u8d44\u6e90\u88ab ",(0,l.kt)("inlineCode",{parentName:"li"},"P0")," \u5360\u6709\u3002")),(0,l.kt)("h4",{id:"\u96f6\u62f7\u8d1d\u6df1\u5165\u6d45\u51fa"},"\u96f6\u62f7\u8d1d\u6df1\u5165\u6d45\u51fa"),(0,l.kt)("h5",{id:"dma"},"DMA"),(0,l.kt)("p",null,"\u5728\u6ca1\u6709 DMA \u6280\u672f\u524d\uff0cI/O \u7684\u8fc7\u7a0b\u662f\u8fd9\u6837\u7684\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"CPU \u53d1\u51fa\u5bf9\u5e94\u7684\u6307\u4ee4\u7ed9\u78c1\u76d8\u63a7\u5236\u5668\uff0c\u7136\u540e\u8fd4\u56de\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u78c1\u76d8\u63a7\u5236\u5668\u6536\u5230\u6307\u4ee4\u540e\uff0c\u4e8e\u662f\u5c31\u5f00\u59cb\u51c6\u5907\u6570\u636e\uff0c\u4f1a\u628a\u6570\u636e\u653e\u5165\u5230\u78c1\u76d8\u63a7\u5236\u5668\u7684\u5185\u90e8\u7f13\u51b2\u533a\u4e2d\uff0c\u7136\u540e\u4ea7\u751f\u4e00\u4e2a",(0,l.kt)("strong",{parentName:"li"},"\u4e2d\u65ad"),"\uff1b"),(0,l.kt)("li",{parentName:"ul"},"CPU \u6536\u5230\u4e2d\u65ad\u4fe1\u53f7\u540e\uff0c\u505c\u4e0b\u624b\u5934\u7684\u5de5\u4f5c\uff0c\u63a5\u7740\u628a\u78c1\u76d8\u63a7\u5236\u5668\u7684\u7f13\u51b2\u533a\u7684\u6570\u636e\u4e00\u6b21\u4e00\u4e2a\u5b57\u8282\u5730\u8bfb\u8fdb\u81ea\u5df1\u7684\u5bc4\u5b58\u5668\uff0c\u7136\u540e\u518d\u628a\u5bc4\u5b58\u5668\u91cc\u7684\u6570\u636e\u5199\u5165\u5230\u5185\u5b58\uff0c\u800c\u5728\u6570\u636e\u4f20\u8f93\u7684\u671f\u95f4 CPU \u662f\u65e0\u6cd5\u6267\u884c\u5176\u4ed6\u4efb\u52a1\u7684\u3002")),(0,l.kt)("p",null,"\u4e3a\u4e86\u65b9\u4fbf\u4f60\u7406\u89e3\uff0c\u6211\u753b\u4e86\u4e00\u526f\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220702132804386",src:n(68884).Z,width:"1337",height:"785"})),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c\u6574\u4e2a\u6570\u636e\u7684\u4f20\u8f93\u8fc7\u7a0b\uff0c\u90fd\u8981\u9700\u8981 CPU \u4eb2\u81ea\u53c2\u4e0e\u642c\u8fd0\u6570\u636e\u7684\u8fc7\u7a0b\uff0c\u800c\u4e14\u8fd9\u4e2a\u8fc7\u7a0b\uff0cCPU \u662f\u4e0d\u80fd\u505a\u5176\u4ed6\u4e8b\u60c5\u7684\u3002"),(0,l.kt)("p",null,"\u7b80\u5355\u7684\u642c\u8fd0\u51e0\u4e2a\u5b57\u7b26\u6570\u636e\u90a3\u6ca1\u95ee\u9898\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u7528\u5343\u5146\u7f51\u5361\u6216\u8005\u786c\u76d8\u4f20\u8f93\u5927\u91cf\u6570\u636e\u7684\u65f6\u5019\uff0c\u90fd\u7528 CPU \u6765\u642c\u8fd0\u7684\u8bdd\uff0c\u80af\u5b9a\u5fd9\u4e0d\u8fc7\u6765\u3002"),(0,l.kt)("p",null,"\u8ba1\u7b97\u673a\u79d1\u5b66\u5bb6\u4eec\u53d1\u73b0\u4e86\u4e8b\u60c5\u7684\u4e25\u91cd\u6027\u540e\uff0c\u4e8e\u662f\u5c31\u53d1\u660e\u4e86 DMA \u6280\u672f\uff0c\u4e5f\u5c31\u662f",(0,l.kt)("strong",{parentName:"p"},"\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee\uff08","*","Direct Memory Access","*","\uff09")," \u6280\u672f\u3002"),(0,l.kt)("p",null,"\u4ec0\u4e48\u662f DMA \u6280\u672f\uff1f\u7b80\u5355\u7406\u89e3\u5c31\u662f\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u5728\u8fdb\u884c I/O \u8bbe\u5907\u548c\u5185\u5b58\u7684\u6570\u636e\u4f20\u8f93\u7684\u65f6\u5019\uff0c\u6570\u636e\u642c\u8fd0\u7684\u5de5\u4f5c\u5168\u90e8\u4ea4\u7ed9 DMA \u63a7\u5236\u5668\uff0c\u800c CPU \u4e0d\u518d\u53c2\u4e0e\u4efb\u4f55\u4e0e\u6570\u636e\u642c\u8fd0\u76f8\u5173\u7684\u4e8b\u60c5\uff0c\u8fd9\u6837 CPU \u5c31\u53ef\u4ee5\u53bb\u5904\u7406\u522b\u7684\u4e8b\u52a1"),"\u3002"),(0,l.kt)("p",null,"\u90a3\u4f7f\u7528 DMA \u63a7\u5236\u5668\u8fdb\u884c\u6570\u636e\u4f20\u8f93\u7684\u8fc7\u7a0b\u7a76\u7adf\u662f\u4ec0\u4e48\u6837\u7684\u5462\uff1f\u4e0b\u9762\u6211\u4eec\u6765\u5177\u4f53\u770b\u770b\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220702132824828",src:n(52847).Z,width:"1832",height:"860"})),(0,l.kt)("p",null,"\u5177\u4f53\u8fc7\u7a0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7528\u6237\u8fdb\u7a0b\u8c03\u7528 read \u65b9\u6cd5\uff0c\u5411\u64cd\u4f5c\u7cfb\u7edf\u53d1\u51fa I/O \u8bf7\u6c42\uff0c\u8bf7\u6c42\u8bfb\u53d6\u6570\u636e\u5230\u81ea\u5df1\u7684\u5185\u5b58\u7f13\u51b2\u533a\u4e2d\uff0c\u8fdb\u7a0b\u8fdb\u5165\u963b\u585e\u72b6\u6001\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u64cd\u4f5c\u7cfb\u7edf\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u8fdb\u4e00\u6b65\u5c06 I/O \u8bf7\u6c42\u53d1\u9001 DMA\uff0c\u7136\u540e\u8ba9 CPU \u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff1b"),(0,l.kt)("li",{parentName:"ul"},"DMA \u8fdb\u4e00\u6b65\u5c06 I/O \u8bf7\u6c42\u53d1\u9001\u7ed9\u78c1\u76d8\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u78c1\u76d8\u6536\u5230 DMA \u7684 I/O \u8bf7\u6c42\uff0c\u628a\u6570\u636e\u4ece\u78c1\u76d8\u8bfb\u53d6\u5230\u78c1\u76d8\u63a7\u5236\u5668\u7684\u7f13\u51b2\u533a\u4e2d\uff0c\u5f53\u78c1\u76d8\u63a7\u5236\u5668\u7684\u7f13\u51b2\u533a\u88ab\u8bfb\u6ee1\u540e\uff0c\u5411 DMA \u53d1\u8d77\u4e2d\u65ad\u4fe1\u53f7\uff0c\u544a\u77e5\u81ea\u5df1\u7f13\u51b2\u533a\u5df2\u6ee1\uff1b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"DMA \u6536\u5230\u78c1\u76d8\u7684\u4fe1\u53f7\uff0c\u5c06\u78c1\u76d8\u63a7\u5236\u5668\u7f13\u51b2\u533a\u4e2d\u7684\u6570\u636e\u62f7\u8d1d\u5230\u5185\u6838\u7f13\u51b2\u533a\u4e2d\uff0c\u6b64\u65f6\u4e0d\u5360\u7528 CPU\uff0cCPU \u53ef\u4ee5\u6267\u884c\u5176\u4ed6\u4efb\u52a1"),"\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5f53 DMA \u8bfb\u53d6\u4e86\u8db3\u591f\u591a\u7684\u6570\u636e\uff0c\u5c31\u4f1a\u53d1\u9001\u4e2d\u65ad\u4fe1\u53f7\u7ed9 CPU\uff1b"),(0,l.kt)("li",{parentName:"ul"},"CPU \u6536\u5230 DMA \u7684\u4fe1\u53f7\uff0c\u77e5\u9053\u6570\u636e\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u4e8e\u662f\u5c06\u6570\u636e\u4ece\u5185\u6838\u62f7\u8d1d\u5230\u7528\u6237\u7a7a\u95f4\uff0c\u7cfb\u7edf\u8c03\u7528\u8fd4\u56de\uff1b")),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c \u6574\u4e2a\u6570\u636e\u4f20\u8f93\u7684\u8fc7\u7a0b\uff0cCPU \u4e0d\u518d\u53c2\u4e0e\u6570\u636e\u642c\u8fd0\u7684\u5de5\u4f5c\uff0c\u800c\u662f\u5168\u7a0b\u7531 DMA \u5b8c\u6210\uff0c\u4f46\u662f CPU \u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u4e5f\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\uff0c\u56e0\u4e3a\u4f20\u8f93\u4ec0\u4e48\u6570\u636e\uff0c\u4ece\u54ea\u91cc\u4f20\u8f93\u5230\u54ea\u91cc\uff0c\u90fd\u9700\u8981 CPU \u6765\u544a\u8bc9 DMA \u63a7\u5236\u5668\u3002"),(0,l.kt)("p",null,"\u65e9\u671f DMA \u53ea\u5b58\u5728\u5728\u4e3b\u677f\u4e0a\uff0c\u5982\u4eca\u7531\u4e8e I/O \u8bbe\u5907\u8d8a\u6765\u8d8a\u591a\uff0c\u6570\u636e\u4f20\u8f93\u7684\u9700\u6c42\u4e5f\u4e0d\u5c3d\u76f8\u540c\uff0c\u6240\u4ee5\u6bcf\u4e2a I/O \u8bbe\u5907\u91cc\u9762\u90fd\u6709\u81ea\u5df1\u7684 DMA \u63a7\u5236\u5668"),(0,l.kt)("h5",{id:"\u5982\u4f55\u5b9e\u73b0\u96f6\u62f7\u8d1d"},"\u5982\u4f55\u5b9e\u73b0\u96f6\u62f7\u8d1d\uff1f"),(0,l.kt)("p",null,"\u96f6\u62f7\u8d1d\u6280\u672f\u5b9e\u73b0\u7684\u65b9\u5f0f\u901a\u5e38\u6709 2 \u79cd\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"mmap + write"),(0,l.kt)("li",{parentName:"ul"},"sendfile")),(0,l.kt)("p",null,"\u4e0b\u9762\u5c31\u8c08\u4e00\u8c08\uff0c\u5b83\u4eec\u662f\u5982\u4f55\u51cf\u5c11\u300c\u4e0a\u4e0b\u6587\u5207\u6362\u300d\u548c\u300c\u6570\u636e\u62f7\u8d1d\u300d\u7684\u6b21\u6570\u3002"),(0,l.kt)("h6",{id:"mmap--write"},"mmap + write"),(0,l.kt)("p",null,"\u5728\u524d\u9762\u6211\u4eec\u77e5\u9053\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"read()")," \u7cfb\u7edf\u8c03\u7528\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u628a\u5185\u6838\u7f13\u51b2\u533a\u7684\u6570\u636e\u62f7\u8d1d\u5230\u7528\u6237\u7684\u7f13\u51b2\u533a\u91cc\uff0c\u4e8e\u662f\u4e3a\u4e86\u51cf\u5c11\u8fd9\u4e00\u6b65\u5f00\u9500\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"mmap()")," \u66ff\u6362 ",(0,l.kt)("inlineCode",{parentName:"p"},"read()")," \u7cfb\u7edf\u8c03\u7528\u51fd\u6570\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"buf = mmap(file, len);\nwrite(sockfd, buf, len);\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"mmap()")," \u7cfb\u7edf\u8c03\u7528\u51fd\u6570\u4f1a\u76f4\u63a5\u628a\u5185\u6838\u7f13\u51b2\u533a\u91cc\u7684\u6570\u636e\u300c",(0,l.kt)("strong",{parentName:"p"},"\u6620\u5c04"),"\u300d\u5230\u7528\u6237\u7a7a\u95f4\uff0c\u8fd9\u6837\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u4e0e\u7528\u6237\u7a7a\u95f4\u5c31\u4e0d\u9700\u8981\u518d\u8fdb\u884c\u4efb\u4f55\u7684\u6570\u636e\u62f7\u8d1d\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220702133239391",src:n(2020).Z,width:"1100",height:"677"})),(0,l.kt)("p",null,"\u5177\u4f53\u8fc7\u7a0b\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5e94\u7528\u8fdb\u7a0b\u8c03\u7528\u4e86 ",(0,l.kt)("inlineCode",{parentName:"li"},"mmap()")," \u540e\uff0cDMA \u4f1a\u628a\u78c1\u76d8\u7684\u6570\u636e\u62f7\u8d1d\u5230\u5185\u6838\u7684\u7f13\u51b2\u533a\u91cc\u3002\u63a5\u7740\uff0c\u5e94\u7528\u8fdb\u7a0b\u8ddf\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u300c\u5171\u4eab\u300d\u8fd9\u4e2a\u7f13\u51b2\u533a\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5e94\u7528\u8fdb\u7a0b\u518d\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"write()"),"\uff0c\u64cd\u4f5c\u7cfb\u7edf\u76f4\u63a5\u5c06\u5185\u6838\u7f13\u51b2\u533a\u7684\u6570\u636e\u62f7\u8d1d\u5230 socket \u7f13\u51b2\u533a\u4e2d\uff0c\u8fd9\u4e00\u5207\u90fd\u53d1\u751f\u5728\u5185\u6838\u6001\uff0c\u7531 CPU \u6765\u642c\u8fd0\u6570\u636e\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u6700\u540e\uff0c\u628a\u5185\u6838\u7684 socket \u7f13\u51b2\u533a\u91cc\u7684\u6570\u636e\uff0c\u62f7\u8d1d\u5230\u7f51\u5361\u7684\u7f13\u51b2\u533a\u91cc\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u7531 DMA \u642c\u8fd0\u7684\u3002")),(0,l.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u5f97\u77e5\uff0c\u901a\u8fc7\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"mmap()")," \u6765\u4ee3\u66ff ",(0,l.kt)("inlineCode",{parentName:"p"},"read()"),"\uff0c \u53ef\u4ee5\u51cf\u5c11\u4e00\u6b21\u6570\u636e\u62f7\u8d1d\u7684\u8fc7\u7a0b\u3002"),(0,l.kt)("p",null,"\u4f46\u8fd9\u8fd8\u4e0d\u662f\u6700\u7406\u60f3\u7684\u96f6\u62f7\u8d1d\uff0c\u56e0\u4e3a\u4ecd\u7136\u9700\u8981\u901a\u8fc7 CPU \u628a\u5185\u6838\u7f13\u51b2\u533a\u7684\u6570\u636e\u62f7\u8d1d\u5230 socket \u7f13\u51b2\u533a\u91cc\uff0c\u800c\u4e14\u4ecd\u7136\u9700\u8981 4 \u6b21\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u56e0\u4e3a\u7cfb\u7edf\u8c03\u7528\u8fd8\u662f 2 \u6b21\u3002"),(0,l.kt)("h6",{id:"sendfile"},"sendfile"),(0,l.kt)("p",null,"\u5728 Linux \u5185\u6838\u7248\u672c 2.1 \u4e2d\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4e13\u95e8\u53d1\u9001\u6587\u4ef6\u7684\u7cfb\u7edf\u8c03\u7528\u51fd\u6570 ",(0,l.kt)("inlineCode",{parentName:"p"},"sendfile()"),"\uff0c\u51fd\u6570\u5f62\u5f0f\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"#include <sys/socket.h>\nssize_t sendfile(int out_fd, int in_fd, off_t *offset, size_t count);\n")),(0,l.kt)("p",null,"\u5b83\u7684\u524d\u4e24\u4e2a\u53c2\u6570\u5206\u522b\u662f\u76ee\u7684\u7aef\u548c\u6e90\u7aef\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u540e\u9762\u4e24\u4e2a\u53c2\u6570\u662f\u6e90\u7aef\u7684\u504f\u79fb\u91cf\u548c\u590d\u5236\u6570\u636e\u7684\u957f\u5ea6\uff0c\u8fd4\u56de\u503c\u662f\u5b9e\u9645\u590d\u5236\u6570\u636e\u7684\u957f\u5ea6\u3002"),(0,l.kt)("p",null,"\u9996\u5148\uff0c\u5b83\u53ef\u4ee5\u66ff\u4ee3\u524d\u9762\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"read()")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"write()")," \u8fd9\u4e24\u4e2a\u7cfb\u7edf\u8c03\u7528\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u51cf\u5c11\u4e00\u6b21\u7cfb\u7edf\u8c03\u7528\uff0c\u4e5f\u5c31\u51cf\u5c11\u4e86 2 \u6b21\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u5f00\u9500\u3002"),(0,l.kt)("p",null,"\u5176\u6b21\uff0c\u8be5\u7cfb\u7edf\u8c03\u7528\uff0c\u53ef\u4ee5\u76f4\u63a5\u628a\u5185\u6838\u7f13\u51b2\u533a\u91cc\u7684\u6570\u636e\u62f7\u8d1d\u5230 socket \u7f13\u51b2\u533a\u91cc\uff0c\u4e0d\u518d\u62f7\u8d1d\u5230\u7528\u6237\u6001\uff0c\u8fd9\u6837\u5c31\u53ea\u6709 2 \u6b21\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u548c 3 \u6b21\u6570\u636e\u62f7\u8d1d\u3002\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220702133308560",src:n(95697).Z,width:"1100",height:"686"})),(0,l.kt)("p",null,"\u4f46\u662f\u8fd9\u8fd8\u4e0d\u662f\u771f\u6b63\u7684\u96f6\u62f7\u8d1d\u6280\u672f\uff0c\u5982\u679c\u7f51\u5361\u652f\u6301 SG-DMA\uff08",(0,l.kt)("em",{parentName:"p"},"The Scatter-Gather Direct Memory Access"),"\uff09\u6280\u672f\uff08\u548c\u666e\u901a\u7684 DMA \u6709\u6240\u4e0d\u540c\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u4e00\u6b65\u51cf\u5c11\u901a\u8fc7 CPU \u628a\u5185\u6838\u7f13\u51b2\u533a\u91cc\u7684\u6570\u636e\u62f7\u8d1d\u5230 socket \u7f13\u51b2\u533a\u7684\u8fc7\u7a0b\u3002"),(0,l.kt)("p",null,"\u4f60\u53ef\u4ee5\u5728\u4f60\u7684 Linux \u7cfb\u7edf\u901a\u8fc7\u4e0b\u9762\u8fd9\u4e2a\u547d\u4ee4\uff0c\u67e5\u770b\u7f51\u5361\u662f\u5426\u652f\u6301 scatter-gather \u7279\u6027\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"$ ethtool -k eth0 | grep scatter-gather\nscatter-gather: on\n")),(0,l.kt)("p",null,"\u4e8e\u662f\uff0c\u4ece Linux \u5185\u6838 ",(0,l.kt)("inlineCode",{parentName:"p"},"2.4")," \u7248\u672c\u5f00\u59cb\u8d77\uff0c\u5bf9\u4e8e\u652f\u6301\u7f51\u5361\u652f\u6301 SG-DMA \u6280\u672f\u7684\u60c5\u51b5\u4e0b\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"sendfile()")," \u7cfb\u7edf\u8c03\u7528\u7684\u8fc7\u7a0b\u53d1\u751f\u4e86\u70b9\u53d8\u5316\uff0c\u5177\u4f53\u8fc7\u7a0b\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u6b65\uff0c\u901a\u8fc7 DMA \u5c06\u78c1\u76d8\u4e0a\u7684\u6570\u636e\u62f7\u8d1d\u5230\u5185\u6838\u7f13\u51b2\u533a\u91cc\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u6b65\uff0c\u7f13\u51b2\u533a\u63cf\u8ff0\u7b26\u548c\u6570\u636e\u957f\u5ea6\u4f20\u5230 socket \u7f13\u51b2\u533a\uff0c\u8fd9\u6837\u7f51\u5361\u7684 SG-DMA \u63a7\u5236\u5668\u5c31\u53ef\u4ee5\u76f4\u63a5\u5c06\u5185\u6838\u7f13\u5b58\u4e2d\u7684\u6570\u636e\u62f7\u8d1d\u5230\u7f51\u5361\u7684\u7f13\u51b2\u533a\u91cc\uff0c\u6b64\u8fc7\u7a0b\u4e0d\u9700\u8981\u5c06\u6570\u636e\u4ece\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7f13\u51b2\u533a\u62f7\u8d1d\u5230 socket \u7f13\u51b2\u533a\u4e2d\uff0c\u8fd9\u6837\u5c31\u51cf\u5c11\u4e86\u4e00\u6b21\u6570\u636e\u62f7\u8d1d\uff1b")),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4e4b\u4e2d\uff0c\u53ea\u8fdb\u884c\u4e86 2 \u6b21\u6570\u636e\u62f7\u8d1d\uff0c\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220702133318801",src:n(49379).Z,width:"1160",height:"686"})),(0,l.kt)("p",null,"\u8fd9\u5c31\u662f\u6240\u8c13\u7684",(0,l.kt)("strong",{parentName:"p"},"\u96f6\u62f7\u8d1d\uff08","*","Zero-copy","*","\uff09\u6280\u672f\uff0c\u56e0\u4e3a\u6211\u4eec\u6ca1\u6709\u5728\u5185\u5b58\u5c42\u9762\u53bb\u62f7\u8d1d\u6570\u636e\uff0c\u4e5f\u5c31\u662f\u8bf4\u5168\u7a0b\u6ca1\u6709\u901a\u8fc7 CPU \u6765\u642c\u8fd0\u6570\u636e\uff0c\u6240\u6709\u7684\u6570\u636e\u90fd\u662f\u901a\u8fc7 DMA \u6765\u8fdb\u884c\u4f20\u8f93\u7684\u3002"),"\u3002"),(0,l.kt)("p",null,"\u96f6\u62f7\u8d1d\u6280\u672f\u7684\u6587\u4ef6\u4f20\u8f93\u65b9\u5f0f\u76f8\u6bd4\u4f20\u7edf\u6587\u4ef6\u4f20\u8f93\u7684\u65b9\u5f0f\uff0c\u51cf\u5c11\u4e86 2 \u6b21\u4e0a\u4e0b\u6587\u5207\u6362\u548c\u6570\u636e\u62f7\u8d1d\u6b21\u6570\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u53ea\u9700\u8981 2 \u6b21\u4e0a\u4e0b\u6587\u5207\u6362\u548c\u6570\u636e\u62f7\u8d1d\u6b21\u6570\uff0c\u5c31\u53ef\u4ee5\u5b8c\u6210\u6587\u4ef6\u7684\u4f20\u8f93\uff0c\u800c\u4e14 2 \u6b21\u7684\u6570\u636e\u62f7\u8d1d\u8fc7\u7a0b\uff0c\u90fd\u4e0d\u9700\u8981\u901a\u8fc7 CPU\uff0c2 \u6b21\u90fd\u662f\u7531 DMA \u6765\u642c\u8fd0\u3002")),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u603b\u4f53\u6765\u770b\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u96f6\u62f7\u8d1d\u6280\u672f\u53ef\u4ee5\u628a\u6587\u4ef6\u4f20\u8f93\u7684\u6027\u80fd\u63d0\u9ad8\u81f3\u5c11\u4e00\u500d\u4ee5\u4e0a")),(0,l.kt)("h5",{id:"\u4f7f\u7528\u96f6\u62f7\u8d1d\u6280\u672f\u7684\u9879\u76ee"},"\u4f7f\u7528\u96f6\u62f7\u8d1d\u6280\u672f\u7684\u9879\u76ee"),(0,l.kt)("p",null,"\u4e8b\u5b9e\u4e0a\uff0cKafka \u8fd9\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u5c31\u5229\u7528\u4e86\u300c\u96f6\u62f7\u8d1d\u300d\u6280\u672f\uff0c\u4ece\u800c\u5927\u5e45\u63d0\u5347\u4e86 I/O \u7684\u541e\u5410\u7387\uff0c\u8fd9\u4e5f\u662f Kafka \u5728\u5904\u7406\u6d77\u91cf\u6570\u636e\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u5feb\u7684\u539f\u56e0\u4e4b\u4e00\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u4f60\u8ffd\u6eaf Kafka \u6587\u4ef6\u4f20\u8f93\u7684\u4ee3\u7801\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u6700\u7ec8\u5b83\u8c03\u7528\u4e86 Java NIO \u5e93\u91cc\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"transferTo")," \u65b9\u6cd5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"@Overridepublic \nlong transferFrom(FileChannel fileChannel, long position, long count) throws IOException { \n    return fileChannel.transferTo(position, count, socketChannel);\n}\n")),(0,l.kt)("p",null,"\u5982\u679c Linux \u7cfb\u7edf\u652f\u6301 ",(0,l.kt)("inlineCode",{parentName:"p"},"sendfile()")," \u7cfb\u7edf\u8c03\u7528\uff0c\u90a3\u4e48 ",(0,l.kt)("inlineCode",{parentName:"p"},"transferTo()")," \u5b9e\u9645\u4e0a\u6700\u540e\u5c31\u4f1a\u4f7f\u7528\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"sendfile()")," \u7cfb\u7edf\u8c03\u7528\u51fd\u6570\u3002"),(0,l.kt)("p",null,"\u66fe\u7ecf\u6709\u5927\u4f6c\u4e13\u95e8\u5199\u8fc7\u7a0b\u5e8f\u6d4b\u8bd5\u8fc7\uff0c\u5728\u540c\u6837\u7684\u786c\u4ef6\u6761\u4ef6\u4e0b\uff0c\u4f20\u7edf\u6587\u4ef6\u4f20\u8f93\u548c\u96f6\u62f7\u62f7\u8d1d\u6587\u4ef6\u4f20\u8f93\u7684\u6027\u80fd\u5dee\u5f02\uff0c\u4f60\u53ef\u4ee5\u770b\u5230\u4e0b\u9762\u8fd9\u5f20\u6d4b\u8bd5\u6570\u636e\u56fe\uff0c\u4f7f\u7528\u4e86\u96f6\u62f7\u8d1d\u80fd\u591f\u7f29\u77ed ",(0,l.kt)("inlineCode",{parentName:"p"},"65%")," \u7684\u65f6\u95f4\uff0c\u5927\u5e45\u5ea6\u63d0\u5347\u4e86\u673a\u5668\u4f20\u8f93\u6570\u636e\u7684\u541e\u5410\u91cf\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220702133411785",src:n(67908).Z,width:"770",height:"443"})),(0,l.kt)("p",null,"\u53e6\u5916\uff0cNginx \u4e5f\u652f\u6301\u96f6\u62f7\u8d1d\u6280\u672f\uff0c\u4e00\u822c\u9ed8\u8ba4\u662f\u5f00\u542f\u96f6\u62f7\u8d1d\u6280\u672f\uff0c\u8fd9\u6837\u6709\u5229\u4e8e\u63d0\u9ad8\u6587\u4ef6\u4f20\u8f93\u7684\u6548\u7387\uff0c\u662f\u5426\u5f00\u542f\u96f6\u62f7\u8d1d\u6280\u672f\u7684\u914d\u7f6e\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"http {\n...\n    sendfile on\n...\n}\n")),(0,l.kt)("p",null,"sendfile \u914d\u7f6e\u7684\u5177\u4f53\u610f\u601d:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8bbe\u7f6e\u4e3a on \u8868\u793a\uff0c\u4f7f\u7528\u96f6\u62f7\u8d1d\u6280\u672f\u6765\u4f20\u8f93\u6587\u4ef6\uff1asendfile \uff0c\u8fd9\u6837\u53ea\u9700\u8981 2 \u6b21\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u548c 2 \u6b21\u6570\u636e\u62f7\u8d1d\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u8bbe\u7f6e\u4e3a off \u8868\u793a\uff0c\u4f7f\u7528\u4f20\u7edf\u7684\u6587\u4ef6\u4f20\u8f93\u6280\u672f\uff1aread + write\uff0c\u8fd9\u65f6\u5c31\u9700\u8981 4 \u6b21\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u548c 4 \u6b21\u6570\u636e\u62f7\u8d1d\u3002")),(0,l.kt)("p",null,"\u5f53\u7136\uff0c\u8981\u4f7f\u7528 sendfile\uff0cLinux \u5185\u6838\u7248\u672c\u5fc5\u987b\u8981 2.1 \u4ee5\u4e0a\u7684\u7248\u672c\u3002"),(0,l.kt)("h4",{id:"\u50f5\u5c38\u8fdb\u7a0b\u548c\u5b64\u513f\u8fdb\u7a0b"},"\u50f5\u5c38\u8fdb\u7a0b\u548c\u5b64\u513f\u8fdb\u7a0b"),(0,l.kt)("h5",{id:"\u50f5\u5c38\u8fdb\u7a0b"},"\u50f5\u5c38\u8fdb\u7a0b"),(0,l.kt)("p",null,"\u4e00\u4e2a\u5b50\u8fdb\u7a0b\u7ed3\u675f\u540e\uff0c\u5b83\u7684\u7236\u8fdb\u7a0b\u5e76\u6ca1\u6709\u7b49\u5f85\u5b83\uff08\u8c03\u7528wait\u6216\u8005waitpid\uff09\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5b50\u8fdb\u7a0b\u5c06\u6210\u4e3a\u4e00\u4e2a\u50f5\u5c38\u8fdb\u7a0b\u3002\u50f5\u5c38\u8fdb\u7a0b\u662f\u4e00\u4e2a\u5df2\u7ecf\u6b7b\u4ea1\u7684\u8fdb\u7a0b\uff0c\u4f46\u662f\u5e76\u6ca1\u6709\u771f\u6b63\u88ab\u9500\u6bc1\u3002\u5b83\u5df2\u7ecf\u653e\u5f03\u4e86\u51e0\u4e4e\u6240\u6709\u5185\u5b58\u7a7a\u95f4\uff0c\u6ca1\u6709\u4efb\u4f55\u53ef\u6267\u884c\u4ee3\u7801\uff0c\u4e5f\u4e0d\u80fd\u88ab\u8c03\u5ea6\uff0c\u4ec5\u4ec5\u5728\u8fdb\u7a0b\u8868\u4e2d\u4fdd\u7559\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u8bb0\u8f7d\u8be5\u8fdb\u7a0b\u7684\u8fdb\u7a0bID\u3001\u7ec8\u6b62\u72b6\u6001\u4ee5\u53ca\u8d44\u6e90\u5229\u7528\u4fe1\u606f(CPU\u65f6\u95f4\uff0c\u5185\u5b58\u4f7f\u7528\u91cf\u7b49\u7b49)\u4f9b\u7236\u8fdb\u7a0b\u6536\u96c6\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u50f5\u5c38\u8fdb\u7a0b\u4e0d\u518d\u5360\u6709\u4efb\u4f55\u5185\u5b58\u7a7a\u95f4\u3002\u8fd9\u4e2a\u50f5\u5c38\u8fdb\u7a0b\u53ef\u80fd\u4f1a\u4e00\u76f4\u7559\u5728\u7cfb\u7edf\u4e2d\u76f4\u5230\u7cfb\u7edf\u91cd\u542f\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u300a\u767e\u5ea6\u767e\u79d1\u300b\u89e3\u91ca\uff1a\u5728\u64cd\u4f5c\u7cfb\u7edf\u9886\u57df\u4e2d\uff0c\u5b64\u513f\u8fdb\u7a0b\u6307\u7684",(0,l.kt)("strong",{parentName:"p"},"\u662f\u5728\u5176\u7236\u8fdb\u7a0b\u6267\u884c\u5b8c\u6210\u6216\u88ab\u7ec8\u6b62\u540e\u4ecd\u7ee7\u7eed\u8fd0\u884c\u7684\u4e00\u7c7b\u8fdb\u7a0b"),"\u3002\u8fd9\u4e9b\u5b64\u513f\u8fdb\u7a0b\u5c06\u88abinit\u8fdb\u7a0b (\u8fdb\u7a0b\u53f7\u4e3a1)\u6240\u6536\u517b\uff0c\u5e76\u7531init\u8fdb\u7a0b\u5bf9\u5b83\u4eec\u5b8c\u6210\u72b6\u6001\u6536\u96c6\u5de5\u4f5c\u3002")),(0,l.kt)("p",null,"\u5371\u5bb3\uff1a\u5360\u7528\u8fdb\u7a0b\u53f7\uff0c\u800c\u7cfb\u7edf\u6240\u80fd\u4f7f\u7528\u7684\u8fdb\u7a0b\u53f7\u662f\u6709\u9650\u7684\uff1b\u5360\u7528\u5185\u5b58\u3002"),(0,l.kt)("p",null,"\u4ee5\u4e0b\u60c5\u51b5\u4e0d\u4f1a\u4ea7\u751f\u50f5\u5c38\u8fdb\u7a0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8be5\u8fdb\u7a0b\u7684\u7236\u8fdb\u7a0b\u5148\u7ed3\u675f\u4e86\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u7ed3\u675f\u7684\u65f6\u5019\uff0c\u7cfb\u7edf\u90fd\u4f1a\u626b\u63cf\u662f\u5426\u5b58\u5728\u5b50\u8fdb\u7a0b\uff0c\u5982\u679c\u6709\u5219\u7528Init\u8fdb\u7a0b\u63a5\u7ba1\uff0c\u6210\u4e3a\u8be5\u8fdb\u7a0b\u7684\u7236\u8fdb\u7a0b\uff0c\u5e76\u4e14\u4f1a\u8c03\u7528wait\u7b49\u5f85\u5176\u7ed3\u675f\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7236\u8fdb\u7a0b\u8c03\u7528wait\u6216\u8005waitpid\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ed3\u675f\uff08\u9700\u8981\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u67e5\u8be2\u5b50\u8fdb\u7a0b\u662f\u5426\u7ed3\u675f\uff09\u3002wait\u7cfb\u7edf\u8c03\u7528\u4f1a\u4f7f\u7236\u8fdb\u7a0b\u6682\u505c\u6267\u884c\uff0c\u76f4\u5230\u5b83\u7684\u4e00\u4e2a\u5b50\u8fdb\u7a0b\u7ed3\u675f\u4e3a\u6b62\u3002waitpid\u5219\u53ef\u4ee5\u52a0\u5165 ",(0,l.kt)("inlineCode",{parentName:"li"},"WNOHANG"),"(wait-no-hang)\u9009\u9879\uff0c\u5982\u679c\u6ca1\u6709\u53d1\u73b0\u7ed3\u675f\u7684\u5b50\u8fdb\u7a0b\uff0c\u5c31\u4f1a\u7acb\u5373\u8fd4\u56de\uff0c\u4e0d\u4f1a\u5c06\u8c03\u7528waitpid\u7684\u8fdb\u7a0b\u963b\u585e\u3002\u540c\u65f6\uff0cwaitpid\u8fd8\u53ef\u4ee5\u9009\u62e9\u662f\u7b49\u5f85\u4efb\u4e00\u5b50\u8fdb\u7a0b\uff08\u540cwait\uff09\uff0c\u8fd8\u662f\u7b49\u5f85\u6307\u5b9apid\u7684\u5b50\u8fdb\u7a0b\uff0c\u8fd8\u662f\u7b49\u5f85\u540c\u4e00\u8fdb\u7a0b\u7ec4\u4e0b\u7684\u4efb\u4e00\u5b50\u8fdb\u7a0b\uff0c\u8fd8\u662f\u7b49\u5f85\u7ec4ID\u7b49\u4e8epid\u7684\u4efb\u4e00\u5b50\u8fdb\u7a0b\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5b50\u8fdb\u7a0b\u7ed3\u675f\u65f6\uff0c\u7cfb\u7edf\u4f1a\u4ea7\u751f ",(0,l.kt)("inlineCode",{parentName:"li"},"SIGCHLD"),"(signal-child)\u4fe1\u53f7\uff0c\u53ef\u4ee5\u6ce8\u518c\u4e00\u4e2a\u4fe1\u53f7\u5904\u7406\u51fd\u6570\uff0c\u5728\u8be5\u51fd\u6570\u4e2d\u8c03\u7528waitpid\uff0c\u7b49\u5f85\u6240\u6709\u7ed3\u675f\u7684\u5b50\u8fdb\u7a0b\uff08\u6ce8\u610f\uff1a\u4e00\u822c\u90fd\u9700\u8981\u5faa\u73af\u8c03\u7528waitpid\uff0c\u56e0\u4e3a\u5728\u4fe1\u53f7\u5904\u7406\u51fd\u6570\u5f00\u59cb\u6267\u884c\u4e4b\u524d\uff0c\u53ef\u80fd\u5df2\u7ecf\u6709\u591a\u4e2a\u5b50\u8fdb\u7a0b\u7ed3\u675f\u4e86\uff0c\u800c\u4fe1\u53f7\u5904\u7406\u51fd\u6570\u53ea\u6267\u884c\u4e00\u6b21\uff0c\u6240\u4ee5\u8981\u5faa\u73af\u8c03\u7528\u5c06\u6240\u6709\u7ed3\u675f\u7684\u5b50\u8fdb\u7a0b\u56de\u6536\uff09\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u4e5f\u53ef\u4ee5\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"signal(SIGCLD, SIG_IGN)"),"(signal-ignore)\u901a\u77e5\u5185\u6838\uff0c\u8868\u793a\u5ffd\u7565 ",(0,l.kt)("inlineCode",{parentName:"li"},"SIGCHLD"),"\u4fe1\u53f7\uff0c\u90a3\u4e48\u5b50\u8fdb\u7a0b\u7ed3\u675f\u540e\uff0c\u5185\u6838\u4f1a\u8fdb\u884c\u56de\u6536\u3002")),(0,l.kt)("h5",{id:"\u5b64\u513f\u8fdb\u7a0b"},"\u5b64\u513f\u8fdb\u7a0b"),(0,l.kt)("p",null,"\u4e00\u4e2a\u7236\u8fdb\u7a0b\u5df2\u7ecf\u7ed3\u675f\u4e86\uff0c\u4f46\u662f\u5b83\u7684\u5b50\u8fdb\u7a0b\u8fd8\u5728\u8fd0\u884c\uff0c\u90a3\u4e48\u8fd9\u4e9b\u5b50\u8fdb\u7a0b\u5c06\u6210\u4e3a\u5b64\u513f\u8fdb\u7a0b\u3002\u5b64\u513f\u8fdb\u7a0b\u4f1a\u88abInit\uff08\u8fdb\u7a0bID\u4e3a1\uff09\u63a5\u7ba1\uff0c\u5f53\u8fd9\u4e9b\u5b64\u513f\u8fdb\u7a0b\u7ed3\u675f\u65f6\u7531Init\u5b8c\u6210\u72b6\u6001\u6536\u96c6\u5de5\u4f5c\u3002"),(0,l.kt)("h3",{id:"\u6570\u636e\u7ed3\u6784"},"\ud83e\udde9\u6570\u636e\u7ed3\u6784"),(0,l.kt)("h4",{id:"\u7ea2\u9ed1\u6811"},"\u7ea2\u9ed1\u6811"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7ea2\u9ed1\u6811\u7279\u70b9")," :"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u6bcf\u4e2a\u8282\u70b9\u975e\u7ea2\u5373\u9ed1\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u6839\u8282\u70b9\u603b\u662f\u9ed1\u8272\u7684\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u6bcf\u4e2a\u53f6\u5b50\u8282\u70b9\u90fd\u662f\u9ed1\u8272\u7684\u7a7a\u8282\u70b9\uff08NIL\u8282\u70b9\uff09\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u8282\u70b9\u662f\u7ea2\u8272\u7684\uff0c\u5219\u5b83\u7684\u5b50\u8282\u70b9\u5fc5\u987b\u662f\u9ed1\u8272\u7684\uff08\u53cd\u4e4b\u4e0d\u4e00\u5b9a\uff09\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u4ece\u6839\u8282\u70b9\u5230\u53f6\u8282\u70b9\u6216\u7a7a\u5b50\u8282\u70b9\u7684\u6bcf\u6761\u8def\u5f84\uff0c\u5fc5\u987b\u5305\u542b\u76f8\u540c\u6570\u76ee\u7684\u9ed1\u8272\u8282\u70b9\uff08\u5373\u76f8\u540c\u7684\u9ed1\u8272\u9ad8\u5ea6\uff09\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7ea2\u9ed1\u6811\u7684\u5e94\u7528")," \uff1aTreeMap\u3001TreeSet\u4ee5\u53caJDK1.8\u7684HashMap\u5e95\u5c42\u90fd\u7528\u5230\u4e86\u7ea2\u9ed1\u6811\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e3a\u4ec0\u4e48\u8981\u7528\u7ea2\u9ed1\u6811\uff1f")," \u7b80\u5355\u6765\u8bf4\u7ea2\u9ed1\u6811\u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u4e8c\u53c9\u67e5\u627e\u6811\u7684\u7f3a\u9677\uff0c\u56e0\u4e3a\u4e8c\u53c9\u67e5\u627e\u6811\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4f1a\u9000\u5316\u6210\u4e00\u4e2a\u7ebf\u6027\u7ed3\u6784\u3002\u8be6\u7ec6\u4e86\u89e3\u53ef\u4ee5\u67e5\u770b ",(0,l.kt)("a",{parentName:"p",href:"https://juejin.im/post/5a27c6946fb9a04509096248#comment"},"\u6f2b\u753b\uff1a\u4ec0\u4e48\u662f\u7ea2\u9ed1\u6811\uff1fopen in new window"),"\uff08\u4e5f\u4ecb\u7ecd\u5230\u4e86\u4e8c\u53c9\u67e5\u627e\u6811\uff0c\u975e\u5e38\u63a8\u8350\uff09"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u76f8\u5173\u9605\u8bfb")," \uff1a",(0,l.kt)("a",{parentName:"p",href:"https://zhuanlan.zhihu.com/p/24367771"},"\u300a\u7ea2\u9ed1\u6811\u6df1\u5165\u5256\u6790\u53caJava\u5b9e\u73b0\u300bopen in new window"),"\uff08\u7f8e\u56e2\u70b9\u8bc4\u6280\u672f\u56e2\u961f\uff09"),(0,l.kt)("h4",{id:"\u5341\u5927\u7ecf\u5178\u6392\u5e8f\u7b97\u6cd5"},"\u5341\u5927\u7ecf\u5178\u6392\u5e8f\u7b97\u6cd5"),(0,l.kt)("h5",{id:"\u7b80\u4ecb-1"},"\u7b80\u4ecb"),(0,l.kt)("p",null,"\u6392\u5e8f\u7b97\u6cd5\u53ef\u4ee5\u5206\u4e3a\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5185\u90e8\u6392\u5e8f")," \uff1a\u6570\u636e\u8bb0\u5f55\u5728\u5185\u5b58\u4e2d\u8fdb\u884c\u6392\u5e8f\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},(0,l.kt)("a",{parentName:"strong",href:"https://zh.wikipedia.org/wiki/%E5%A4%96%E6%8E%92%E5%BA%8F"},"\u5916\u90e8\u6392\u5e8f"))," \uff1a\u56e0\u6392\u5e8f\u7684\u6570\u636e\u5f88\u5927\uff0c\u4e00\u6b21\u4e0d\u80fd\u5bb9\u7eb3\u5168\u90e8\u7684\u6392\u5e8f\u8bb0\u5f55\uff0c\u5728\u6392\u5e8f\u8fc7\u7a0b\u4e2d\u9700\u8981\u8bbf\u95ee\u5916\u5b58\u3002")),(0,l.kt)("p",null,"\u5e38\u89c1\u7684\u5185\u90e8\u6392\u5e8f\u7b97\u6cd5\u6709\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u63d2\u5165\u6392\u5e8f"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u5e0c\u5c14\u6392\u5e8f"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u9009\u62e9\u6392\u5e8f"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u5192\u6ce1\u6392\u5e8f"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u5f52\u5e76\u6392\u5e8f"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u5feb\u901f\u6392\u5e8f"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u5806\u6392\u5e8f"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u57fa\u6570\u6392\u5e8f"),"\u7b49\uff0c\u672c\u6587\u53ea\u8bb2\u89e3\u5185\u90e8\u6392\u5e8f\u7b97\u6cd5\u3002\u7528\u4e00\u5f20\u56fe\u6982\u62ec\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"\u5341\u5927\u6392\u5e8f\u7b97\u6cd5",src:n(59822).Z,width:"1580",height:"755"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u56fe\u7247\u540d\u8bcd\u89e3\u91ca\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"n"),"\uff1a\u6570\u636e\u89c4\u6a21"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"k"),"\uff1a\u201c\u6876\u201d \u7684\u4e2a\u6570"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"In-place"),"\uff1a\u5360\u7528\u5e38\u6570\u5185\u5b58\uff0c\u4e0d\u5360\u7528\u989d\u5916\u5185\u5b58"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Out-place"),"\uff1a\u5360\u7528\u989d\u5916\u5185\u5b58")),(0,l.kt)("h6",{id:"\u672f\u8bed\u8bf4\u660e"},"\u672f\u8bed\u8bf4\u660e"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a33\u5b9a"),"\uff1a\u5982\u679c A \u539f\u672c\u5728 B \u524d\u9762\uff0c\u800c A=B\uff0c\u6392\u5e8f\u4e4b\u540e A \u4ecd\u7136\u5728 B \u7684\u524d\u9762\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e0d\u7a33\u5b9a"),"\uff1a\u5982\u679c A \u539f\u672c\u5728 B \u7684\u524d\u9762\uff0c\u800c A=B\uff0c\u6392\u5e8f\u4e4b\u540e A \u53ef\u80fd\u4f1a\u51fa\u73b0\u5728 B \u7684\u540e\u9762\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5185\u6392\u5e8f"),"\uff1a\u6240\u6709\u6392\u5e8f\u64cd\u4f5c\u90fd\u5728\u5185\u5b58\u4e2d\u5b8c\u6210\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5916\u6392\u5e8f"),"\uff1a\u7531\u4e8e\u6570\u636e\u592a\u5927\uff0c\u56e0\u6b64\u628a\u6570\u636e\u653e\u5728\u78c1\u76d8\u4e2d\uff0c\u800c\u6392\u5e8f\u901a\u8fc7\u78c1\u76d8\u548c\u5185\u5b58\u7684\u6570\u636e\u4f20\u8f93\u624d\u80fd\u8fdb\u884c\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u65f6\u95f4\u590d\u6742\u5ea6"),"\uff1a \u5b9a\u6027\u63cf\u8ff0\u4e00\u4e2a\u7b97\u6cd5\u6267\u884c\u6240\u8017\u8d39\u7684\u65f6\u95f4\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a7a\u95f4\u590d\u6742\u5ea6"),"\uff1a\u5b9a\u6027\u63cf\u8ff0\u4e00\u4e2a\u7b97\u6cd5\u6267\u884c\u6240\u9700\u5185\u5b58\u7684\u5927\u5c0f\u3002")),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u5206\u7c7b"},"\u7b97\u6cd5\u5206\u7c7b"),(0,l.kt)("p",null,"\u5341\u79cd\u5e38\u89c1\u6392\u5e8f\u7b97\u6cd5\u53ef\u4ee5\u5206\u7c7b\u4e24\u5927\u7c7b\u522b\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u6bd4\u8f83\u7c7b\u6392\u5e8f"),"\u548c",(0,l.kt)("strong",{parentName:"p"},"\u975e\u6bd4\u8f83\u7c7b\u6392\u5e8f"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"1658302145982",src:n(78794).Z,width:"1558",height:"1135"})),(0,l.kt)("p",null,"\u5e38\u89c1\u7684",(0,l.kt)("strong",{parentName:"p"},"\u5feb\u901f\u6392\u5e8f"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u5f52\u5e76\u6392\u5e8f"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u5806\u6392\u5e8f"),"\u4ee5\u53ca",(0,l.kt)("strong",{parentName:"p"},"\u5192\u6ce1\u6392\u5e8f"),"\u7b49\u90fd\u5c5e\u4e8e",(0,l.kt)("strong",{parentName:"p"},"\u6bd4\u8f83\u7c7b\u6392\u5e8f\u7b97\u6cd5"),"\u3002\u6bd4\u8f83\u7c7b\u6392\u5e8f\u662f\u901a\u8fc7\u6bd4\u8f83\u6765\u51b3\u5b9a\u5143\u7d20\u95f4\u7684\u76f8\u5bf9\u6b21\u5e8f\uff0c\u7531\u4e8e\u5176\u65f6\u95f4\u590d\u6742\u5ea6\u4e0d\u80fd\u7a81\u7834 ",(0,l.kt)("inlineCode",{parentName:"p"},"O(nlogn)"),"\uff0c\u56e0\u6b64\u4e5f\u79f0\u4e3a\u975e\u7ebf\u6027\u65f6\u95f4\u6bd4\u8f83\u7c7b\u6392\u5e8f\u3002\u5728\u5192\u6ce1\u6392\u5e8f\u4e4b\u7c7b\u7684\u6392\u5e8f\u4e2d\uff0c\u95ee\u9898\u89c4\u6a21\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"n"),"\uff0c\u53c8\u56e0\u4e3a\u9700\u8981\u6bd4\u8f83 ",(0,l.kt)("inlineCode",{parentName:"p"},"n")," \u6b21\uff0c\u6240\u4ee5\u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"O(n\xb2)"),"\u3002\u5728",(0,l.kt)("strong",{parentName:"p"},"\u5f52\u5e76\u6392\u5e8f"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u5feb\u901f\u6392\u5e8f"),"\u4e4b\u7c7b\u7684\u6392\u5e8f\u4e2d\uff0c\u95ee\u9898\u89c4\u6a21\u901a\u8fc7",(0,l.kt)("strong",{parentName:"p"},"\u5206\u6cbb\u6cd5"),"\u6d88\u51cf\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"logn")," \u6b21\uff0c\u6240\u4ee5\u65f6\u95f4\u590d\u6742\u5ea6\u5e73\u5747 ",(0,l.kt)("inlineCode",{parentName:"p"},"O(nlogn)"),"\u3002"),(0,l.kt)("p",null,"\u6bd4\u8f83\u7c7b\u6392\u5e8f\u7684\u4f18\u52bf\u662f\uff0c\u9002\u7528\u4e8e\u5404\u79cd\u89c4\u6a21\u7684\u6570\u636e\uff0c\u4e5f\u4e0d\u5728\u4e4e\u6570\u636e\u7684\u5206\u5e03\uff0c\u90fd\u80fd\u8fdb\u884c\u6392\u5e8f\u3002\u53ef\u4ee5\u8bf4\uff0c\u6bd4\u8f83\u6392\u5e8f\u9002\u7528\u4e8e\u4e00\u5207\u9700\u8981\u6392\u5e8f\u7684\u60c5\u51b5\u3002"),(0,l.kt)("p",null,"\u800c",(0,l.kt)("strong",{parentName:"p"},"\u8ba1\u6570\u6392\u5e8f"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u57fa\u6570\u6392\u5e8f"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u6876\u6392\u5e8f"),"\u5219\u5c5e\u4e8e",(0,l.kt)("strong",{parentName:"p"},"\u975e\u6bd4\u8f83\u7c7b\u6392\u5e8f\u7b97\u6cd5"),"\u3002\u975e\u6bd4\u8f83\u6392\u5e8f\u4e0d\u901a\u8fc7\u6bd4\u8f83\u6765\u51b3\u5b9a\u5143\u7d20\u95f4\u7684\u76f8\u5bf9\u6b21\u5e8f\uff0c\u800c\u662f\u901a\u8fc7\u786e\u5b9a\u6bcf\u4e2a\u5143\u7d20\u4e4b\u524d\uff0c\u5e94\u8be5\u6709\u591a\u5c11\u4e2a\u5143\u7d20\u6765\u6392\u5e8f\u3002\u7531\u4e8e\u5b83\u53ef\u4ee5\u7a81\u7834\u57fa\u4e8e\u6bd4\u8f83\u6392\u5e8f\u7684\u65f6\u95f4\u4e0b\u754c\uff0c\u4ee5\u7ebf\u6027\u65f6\u95f4\u8fd0\u884c\uff0c\u56e0\u6b64\u79f0\u4e3a\u7ebf\u6027\u65f6\u95f4\u975e\u6bd4\u8f83\u7c7b\u6392\u5e8f\u3002 \u975e\u6bd4\u8f83\u6392\u5e8f\u53ea\u8981\u786e\u5b9a\u6bcf\u4e2a\u5143\u7d20\u4e4b\u524d\u7684\u5df2\u6709\u7684\u5143\u7d20\u4e2a\u6570\u5373\u53ef\uff0c\u6240\u6709\u4e00\u6b21\u904d\u5386\u5373\u53ef\u89e3\u51b3\u3002\u7b97\u6cd5\u65f6\u95f4\u590d\u6742\u5ea6 ",(0,l.kt)("inlineCode",{parentName:"p"},"O(n)"),"\u3002"),(0,l.kt)("p",null,"\u975e\u6bd4\u8f83\u6392\u5e8f\u65f6\u95f4\u590d\u6742\u5ea6\u5e95\uff0c\u4f46\u7531\u4e8e\u975e\u6bd4\u8f83\u6392\u5e8f\u9700\u8981\u5360\u7528\u7a7a\u95f4\u6765\u786e\u5b9a\u552f\u4e00\u4f4d\u7f6e\u3002\u6240\u4ee5\u5bf9\u6570\u636e\u89c4\u6a21\u548c\u6570\u636e\u5206\u5e03\u6709\u4e00\u5b9a\u7684\u8981\u6c42\u3002"),(0,l.kt)("h5",{id:"\u5192\u6ce1\u6392\u5e8f-bubble-sort"},"\u5192\u6ce1\u6392\u5e8f (Bubble Sort)"),(0,l.kt)("p",null,"\u5192\u6ce1\u6392\u5e8f\u662f\u4e00\u79cd\u7b80\u5355\u7684\u6392\u5e8f\u7b97\u6cd5\u3002\u5b83\u91cd\u590d\u5730\u904d\u5386\u8981\u6392\u5e8f\u7684\u5e8f\u5217\uff0c\u4f9d\u6b21\u6bd4\u8f83\u4e24\u4e2a\u5143\u7d20\uff0c\u5982\u679c\u5b83\u4eec\u7684\u987a\u5e8f\u9519\u8bef\u5c31\u628a\u5b83\u4eec\u4ea4\u6362\u8fc7\u6765\u3002\u904d\u5386\u5e8f\u5217\u7684\u5de5\u4f5c\u662f\u91cd\u590d\u5730\u8fdb\u884c\u76f4\u5230\u6ca1\u6709\u518d\u9700\u8981\u4ea4\u6362\u4e3a\u6b62\uff0c\u6b64\u65f6\u8bf4\u660e\u8be5\u5e8f\u5217\u5df2\u7ecf\u6392\u5e8f\u5b8c\u6210\u3002\u8fd9\u4e2a\u7b97\u6cd5\u7684\u540d\u5b57\u7531\u6765\u662f\u56e0\u4e3a\u8d8a\u5c0f\u7684\u5143\u7d20\u4f1a\u7ecf\u7531\u4ea4\u6362\u6162\u6162 \u201c\u6d6e\u201d \u5230\u6570\u5217\u7684\u9876\u7aef\u3002"),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u6b65\u9aa4"},"\u7b97\u6cd5\u6b65\u9aa4"),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://guide-blog-./images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/cs-basics/sorting-algorithms/bubble_sort.gif",alt:null})),(0,l.kt)("h6",{id:"\u4ee3\u7801\u5b9e\u73b0"},"\u4ee3\u7801\u5b9e\u73b0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * \u5192\u6ce1\u6392\u5e8f\n * @param arr\n * @return arr\n */\npublic static int[] bubbleSort(int[] arr) {\n    for (int i = 1; i < arr.length; i++) {\n        // Set a flag, if true, that means the loop has not been swapped,\n        // that is, the sequence has been ordered, the sorting has been completed.\n        boolean flag = true;\n        for (int j = 0; j < arr.length - i; j++) {\n            if (arr[j] > arr[j + 1]) {\n                int tmp = arr[j];\n                arr[j] = arr[j + 1];\n                arr[j + 1] = tmp;\n                // Change flag\n                flag = false;\n            }\n        }\n        if (flag) {\n            break;\n        }\n    }\n    return arr;\n}\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6b64\u5904\u5bf9\u4ee3\u7801\u505a\u4e86\u4e00\u4e2a\u5c0f\u4f18\u5316\uff0c\u52a0\u5165\u4e86 ",(0,l.kt)("inlineCode",{parentName:"strong"},"is_sorted")," Flag\uff0c\u76ee\u7684\u662f\u5c06\u7b97\u6cd5\u7684\u6700\u4f73\u65f6\u95f4\u590d\u6742\u5ea6\u4f18\u5316\u4e3a ",(0,l.kt)("inlineCode",{parentName:"strong"},"O(n)"),"\uff0c\u5373\u5f53\u539f\u8f93\u5165\u5e8f\u5217\u5c31\u662f\u6392\u5e8f\u597d\u7684\u60c5\u51b5\u4e0b\uff0c\u8be5\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"strong"},"O(n)"),"\u3002")),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u5206\u6790"},"\u7b97\u6cd5\u5206\u6790"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a33\u5b9a\u6027"),"\uff1a\u7a33\u5b9a"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u65f6\u95f4\u590d\u6742\u5ea6")," \uff1a\u6700\u4f73\uff1aO(n) \uff0c\u6700\u5dee\uff1aO(n2)\uff0c \u5e73\u5747\uff1aO(n2)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a7a\u95f4\u590d\u6742\u5ea6")," \uff1aO(1)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u6392\u5e8f\u65b9\u5f0f")," \uff1aIn-place")),(0,l.kt)("h5",{id:"\u9009\u62e9\u6392\u5e8f-selection-sort"},"\u9009\u62e9\u6392\u5e8f (Selection Sort)"),(0,l.kt)("p",null,"\u9009\u62e9\u6392\u5e8f\u662f\u4e00\u79cd\u7b80\u5355\u76f4\u89c2\u7684\u6392\u5e8f\u7b97\u6cd5\uff0c\u65e0\u8bba\u4ec0\u4e48\u6570\u636e\u8fdb\u53bb\u90fd\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"O(n\xb2)")," \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002\u6240\u4ee5\u7528\u5230\u5b83\u7684\u65f6\u5019\uff0c\u6570\u636e\u89c4\u6a21\u8d8a\u5c0f\u8d8a\u597d\u3002\u552f\u4e00\u7684\u597d\u5904\u53ef\u80fd\u5c31\u662f\u4e0d\u5360\u7528\u989d\u5916\u7684\u5185\u5b58\u7a7a\u95f4\u4e86\u5427\u3002\u5b83\u7684\u5de5\u4f5c\u539f\u7406\uff1a\u9996\u5148\u5728\u672a\u6392\u5e8f\u5e8f\u5217\u4e2d\u627e\u5230\u6700\u5c0f\uff08\u5927\uff09\u5143\u7d20\uff0c\u5b58\u653e\u5230\u6392\u5e8f\u5e8f\u5217\u7684\u8d77\u59cb\u4f4d\u7f6e\uff0c\u7136\u540e\uff0c\u518d\u4ece\u5269\u4f59\u672a\u6392\u5e8f\u5143\u7d20\u4e2d\u7ee7\u7eed\u5bfb\u627e\u6700\u5c0f\uff08\u5927\uff09\u5143\u7d20\uff0c\u7136\u540e\u653e\u5230\u5df2\u6392\u5e8f\u5e8f\u5217\u7684\u672b\u5c3e\u3002\u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u5230\u6240\u6709\u5143\u7d20\u5747\u6392\u5e8f\u5b8c\u6bd5\u3002"),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u6b65\u9aa4-1"},"\u7b97\u6cd5\u6b65\u9aa4"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u9996\u5148\u5728\u672a\u6392\u5e8f\u5e8f\u5217\u4e2d\u627e\u5230\u6700\u5c0f\uff08\u5927\uff09\u5143\u7d20\uff0c\u5b58\u653e\u5230\u6392\u5e8f\u5e8f\u5217\u7684\u8d77\u59cb\u4f4d\u7f6e"),(0,l.kt)("li",{parentName:"ol"},"\u518d\u4ece\u5269\u4f59\u672a\u6392\u5e8f\u5143\u7d20\u4e2d\u7ee7\u7eed\u5bfb\u627e\u6700\u5c0f\uff08\u5927\uff09\u5143\u7d20\uff0c\u7136\u540e\u653e\u5230\u5df2\u6392\u5e8f\u5e8f\u5217\u7684\u672b\u5c3e\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u91cd\u590d\u7b2c 2 \u6b65\uff0c\u76f4\u5230\u6240\u6709\u5143\u7d20\u5747\u6392\u5e8f\u5b8c\u6bd5\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://guide-blog-./images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/cs-basics/sorting-algorithms/selection_sort.gif",alt:null})),(0,l.kt)("h6",{id:"\u4ee3\u7801\u5b9e\u73b0-1"},"\u4ee3\u7801\u5b9e\u73b0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * \u9009\u62e9\u6392\u5e8f\n * @param arr\n * @return arr\n */\npublic static int[] selectionSort(int[] arr) {\n    for (int i = 0; i < arr.length - 1; i++) {\n        int minIndex = i;\n        for (int j = i + 1; j < arr.length; j++) {\n            if (arr[j] < arr[minIndex]) {\n                minIndex = j;\n            }\n        }\n        if (minIndex != i) {\n            int tmp = arr[i];\n            arr[i] = arr[minIndex];\n            arr[minIndex] = tmp;\n        }\n    }\n    return arr;\n}\n")),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u5206\u6790-1"},"\u7b97\u6cd5\u5206\u6790"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a33\u5b9a\u6027"),"\uff1a\u4e0d\u7a33\u5b9a"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u65f6\u95f4\u590d\u6742\u5ea6")," \uff1a\u6700\u4f73\uff1aO(n2) \uff0c\u6700\u5dee\uff1aO(n2)\uff0c \u5e73\u5747\uff1aO(n2)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a7a\u95f4\u590d\u6742\u5ea6")," \uff1aO(1)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u6392\u5e8f\u65b9\u5f0f")," \uff1aIn-place")),(0,l.kt)("h5",{id:"\u63d2\u5165\u6392\u5e8f-insertion-sort"},"\u63d2\u5165\u6392\u5e8f (Insertion Sort)"),(0,l.kt)("p",null,"\u63d2\u5165\u6392\u5e8f\u662f\u4e00\u79cd\u7b80\u5355\u76f4\u89c2\u7684\u6392\u5e8f\u7b97\u6cd5\u3002\u5b83\u7684\u5de5\u4f5c\u539f\u7406\u662f\u901a\u8fc7\u6784\u5efa\u6709\u5e8f\u5e8f\u5217\uff0c\u5bf9\u4e8e\u672a\u6392\u5e8f\u6570\u636e\uff0c\u5728\u5df2\u6392\u5e8f\u5e8f\u5217\u4e2d\u4ece\u540e\u5411\u524d\u626b\u63cf\uff0c\u627e\u5230\u76f8\u5e94\u4f4d\u7f6e\u5e76\u63d2\u5165\u3002\u63d2\u5165\u6392\u5e8f\u5728\u5b9e\u73b0\u4e0a\uff0c\u901a\u5e38\u91c7\u7528 in-place \u6392\u5e8f\uff08\u5373\u53ea\u9700\u7528\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"O(1)")," \u7684\u989d\u5916\u7a7a\u95f4\u7684\u6392\u5e8f\uff09\uff0c\u56e0\u800c\u5728\u4ece\u540e\u5411\u524d\u626b\u63cf\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u53cd\u590d\u628a\u5df2\u6392\u5e8f\u5143\u7d20\u9010\u6b65\u5411\u540e\u632a\u4f4d\uff0c\u4e3a\u6700\u65b0\u5143\u7d20\u63d0\u4f9b\u63d2\u5165\u7a7a\u95f4\u3002"),(0,l.kt)("p",null,"\u63d2\u5165\u6392\u5e8f\u7684\u4ee3\u7801\u5b9e\u73b0\u867d\u7136\u6ca1\u6709\u5192\u6ce1\u6392\u5e8f\u548c\u9009\u62e9\u6392\u5e8f\u90a3\u4e48\u7b80\u5355\u7c97\u66b4\uff0c\u4f46\u5b83\u7684\u539f\u7406\u5e94\u8be5\u662f\u6700\u5bb9\u6613\u7406\u89e3\u7684\u4e86\uff0c\u56e0\u4e3a\u53ea\u8981\u6253\u8fc7\u6251\u514b\u724c\u7684\u4eba\u90fd\u5e94\u8be5\u80fd\u591f\u79d2\u61c2\u3002\u63d2\u5165\u6392\u5e8f\u662f\u4e00\u79cd\u6700\u7b80\u5355\u76f4\u89c2\u7684\u6392\u5e8f\u7b97\u6cd5\uff0c\u5b83\u7684\u5de5\u4f5c\u539f\u7406\u662f\u901a\u8fc7\u6784\u5efa\u6709\u5e8f\u5e8f\u5217\uff0c\u5bf9\u4e8e\u672a\u6392\u5e8f\u6570\u636e\uff0c\u5728\u5df2\u6392\u5e8f\u5e8f\u5217\u4e2d\u4ece\u540e\u5411\u524d\u626b\u63cf\uff0c\u627e\u5230\u76f8\u5e94\u4f4d\u7f6e\u5e76\u63d2\u5165\u3002"),(0,l.kt)("p",null,"\u63d2\u5165\u6392\u5e8f\u548c\u5192\u6ce1\u6392\u5e8f\u4e00\u6837\uff0c\u4e5f\u6709\u4e00\u79cd\u4f18\u5316\u7b97\u6cd5\uff0c\u53eb\u505a\u62c6\u534a\u63d2\u5165\u3002"),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u6b65\u9aa4-2"},"\u7b97\u6cd5\u6b65\u9aa4"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u4ece\u7b2c\u4e00\u4e2a\u5143\u7d20\u5f00\u59cb\uff0c\u8be5\u5143\u7d20\u53ef\u4ee5\u8ba4\u4e3a\u5df2\u7ecf\u88ab\u6392\u5e8f\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u53d6\u51fa\u4e0b\u4e00\u4e2a\u5143\u7d20\uff0c\u5728\u5df2\u7ecf\u6392\u5e8f\u7684\u5143\u7d20\u5e8f\u5217\u4e2d\u4ece\u540e\u5411\u524d\u626b\u63cf\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u8be5\u5143\u7d20\uff08\u5df2\u6392\u5e8f\uff09\u5927\u4e8e\u65b0\u5143\u7d20\uff0c\u5c06\u8be5\u5143\u7d20\u79fb\u5230\u4e0b\u4e00\u4f4d\u7f6e\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u91cd\u590d\u6b65\u9aa4 3\uff0c\u76f4\u5230\u627e\u5230\u5df2\u6392\u5e8f\u7684\u5143\u7d20\u5c0f\u4e8e\u6216\u8005\u7b49\u4e8e\u65b0\u5143\u7d20\u7684\u4f4d\u7f6e\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5c06\u65b0\u5143\u7d20\u63d2\u5165\u5230\u8be5\u4f4d\u7f6e\u540e\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u91cd\u590d\u6b65\u9aa4 2~5\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://guide-blog-./images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/cs-basics/sorting-algorithms/insertion_sort.gif",alt:null})),(0,l.kt)("h6",{id:"\u4ee3\u7801\u5b9e\u73b0-2"},"\u4ee3\u7801\u5b9e\u73b0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * \u63d2\u5165\u6392\u5e8f\n * @param arr\n * @return arr\n */\npublic static int[] insertionSort(int[] arr) {\n    for (int i = 1; i < arr.length; i++) {\n        int preIndex = i - 1;\n        int current = arr[i];\n        while (preIndex >= 0 && current < arr[preIndex]) {\n            arr[preIndex + 1] = arr[preIndex];\n            preIndex -= 1;\n        }\n        arr[preIndex + 1] = current;\n    }\n    return arr;\n}\n")),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u5206\u6790-2"},"\u7b97\u6cd5\u5206\u6790"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a33\u5b9a\u6027"),"\uff1a\u7a33\u5b9a"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u65f6\u95f4\u590d\u6742\u5ea6")," \uff1a\u6700\u4f73\uff1aO(n) \uff0c\u6700\u5dee\uff1aO(n2)\uff0c \u5e73\u5747\uff1aO(n2)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a7a\u95f4\u590d\u6742\u5ea6")," \uff1aO(1)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u6392\u5e8f\u65b9\u5f0f")," \uff1aIn-place")),(0,l.kt)("h5",{id:"\u5e0c\u5c14\u6392\u5e8f-shell-sort"},"\u5e0c\u5c14\u6392\u5e8f (Shell Sort)"),(0,l.kt)("p",null,"\u5e0c\u5c14\u6392\u5e8f\u662f\u5e0c\u5c14 (Donald Shell) \u4e8e 1959 \u5e74\u63d0\u51fa\u7684\u4e00\u79cd\u6392\u5e8f\u7b97\u6cd5\u3002\u5e0c\u5c14\u6392\u5e8f\u4e5f\u662f\u4e00\u79cd\u63d2\u5165\u6392\u5e8f\uff0c\u5b83\u662f\u7b80\u5355\u63d2\u5165\u6392\u5e8f\u7ecf\u8fc7\u6539\u8fdb\u4e4b\u540e\u7684\u4e00\u4e2a\u66f4\u9ad8\u6548\u7684\u7248\u672c\uff0c\u4e5f\u79f0\u4e3a\u9012\u51cf\u589e\u91cf\u6392\u5e8f\u7b97\u6cd5\uff0c\u540c\u65f6\u8be5\u7b97\u6cd5\u662f\u51b2\u7834 ",(0,l.kt)("inlineCode",{parentName:"p"},"O(n\xb2)")," \u7684\u7b2c\u4e00\u6279\u7b97\u6cd5\u4e4b\u4e00\u3002"),(0,l.kt)("p",null,"\u5e0c\u5c14\u6392\u5e8f\u7684\u57fa\u672c\u601d\u60f3\u662f\uff1a\u5148\u5c06\u6574\u4e2a\u5f85\u6392\u5e8f\u7684\u8bb0\u5f55\u5e8f\u5217\u5206\u5272\u6210\u4e3a\u82e5\u5e72\u5b50\u5e8f\u5217\u5206\u522b\u8fdb\u884c\u76f4\u63a5\u63d2\u5165\u6392\u5e8f\uff0c\u5f85\u6574\u4e2a\u5e8f\u5217\u4e2d\u7684\u8bb0\u5f55 \u201c\u57fa\u672c\u6709\u5e8f\u201d \u65f6\uff0c\u518d\u5bf9\u5168\u4f53\u8bb0\u5f55\u8fdb\u884c\u4f9d\u6b21\u76f4\u63a5\u63d2\u5165\u6392\u5e8f\u3002"),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u6b65\u9aa4-3"},"\u7b97\u6cd5\u6b65\u9aa4"),(0,l.kt)("p",null,"\u6211\u4eec\u6765\u770b\u4e0b\u5e0c\u5c14\u6392\u5e8f\u7684\u57fa\u672c\u6b65\u9aa4\uff0c\u5728\u6b64\u6211\u4eec\u9009\u62e9\u589e\u91cf ",(0,l.kt)("inlineCode",{parentName:"p"},"gap=length/2"),"\uff0c\u7f29\u5c0f\u589e\u91cf\u7ee7\u7eed\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"p"},"gap = gap/2")," \u7684\u65b9\u5f0f\uff0c\u8fd9\u79cd\u589e\u91cf\u9009\u62e9\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2a\u5e8f\u5217\u6765\u8868\u793a\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"{n/2, (n/2)/2, ..., 1}"),"\uff0c\u79f0\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u589e\u91cf\u5e8f\u5217"),"\u3002\u5e0c\u5c14\u6392\u5e8f\u7684\u589e\u91cf\u5e8f\u5217\u7684\u9009\u62e9\u4e0e\u8bc1\u660e\u662f\u4e2a\u6570\u5b66\u96be\u9898\uff0c\u6211\u4eec\u9009\u62e9\u7684\u8fd9\u4e2a\u589e\u91cf\u5e8f\u5217\u662f\u6bd4\u8f83\u5e38\u7528\u7684\uff0c\u4e5f\u662f\u5e0c\u5c14\u5efa\u8bae\u7684\u589e\u91cf\uff0c\u79f0\u4e3a\u5e0c\u5c14\u589e\u91cf\uff0c\u4f46\u5176\u5b9e\u8fd9\u4e2a\u589e\u91cf\u5e8f\u5217\u4e0d\u662f\u6700\u4f18\u7684\u3002\u6b64\u5904\u6211\u4eec\u505a\u793a\u4f8b\u4f7f\u7528\u5e0c\u5c14\u589e\u91cf\u3002"),(0,l.kt)("p",null,"\u5148\u5c06\u6574\u4e2a\u5f85\u6392\u5e8f\u7684\u8bb0\u5f55\u5e8f\u5217\u5206\u5272\u6210\u4e3a\u82e5\u5e72\u5b50\u5e8f\u5217\u5206\u522b\u8fdb\u884c\u76f4\u63a5\u63d2\u5165\u6392\u5e8f\uff0c\u5177\u4f53\u7b97\u6cd5\u63cf\u8ff0\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9009\u62e9\u4e00\u4e2a\u589e\u91cf\u5e8f\u5217 ",(0,l.kt)("inlineCode",{parentName:"li"},"{t1, t2, \u2026, tk}"),"\uff0c\u5176\u4e2d ",(0,l.kt)("inlineCode",{parentName:"li"},"(ti>tj, i<j, tk=1)"),"\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u6309\u589e\u91cf\u5e8f\u5217\u4e2a\u6570 k\uff0c\u5bf9\u5e8f\u5217\u8fdb\u884c k \u8d9f\u6392\u5e8f\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u8d9f\u6392\u5e8f\uff0c\u6839\u636e\u5bf9\u5e94\u7684\u589e\u91cf ",(0,l.kt)("inlineCode",{parentName:"li"},"t"),"\uff0c\u5c06\u5f85\u6392\u5e8f\u5217\u5206\u5272\u6210\u82e5\u5e72\u957f\u5ea6\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"m")," \u7684\u5b50\u5e8f\u5217\uff0c\u5206\u522b\u5bf9\u5404\u5b50\u8868\u8fdb\u884c\u76f4\u63a5\u63d2\u5165\u6392\u5e8f\u3002\u4ec5\u589e\u91cf\u56e0\u5b50\u4e3a 1 \u65f6\uff0c\u6574\u4e2a\u5e8f\u5217\u4f5c\u4e3a\u4e00\u4e2a\u8868\u6765\u5904\u7406\uff0c\u8868\u957f\u5ea6\u5373\u4e3a\u6574\u4e2a\u5e8f\u5217\u7684\u957f\u5ea6\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://guide-blog-./images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/cs-basics/sorting-algorithms/shell_sort.png",alt:null})),(0,l.kt)("h6",{id:"\u4ee3\u7801\u5b9e\u73b0-3"},"\u4ee3\u7801\u5b9e\u73b0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * \u5e0c\u5c14\u6392\u5e8f\n *\n * @param arr\n * @return arr\n */\npublic static int[] shellSort(int[] arr) {\n    int n = arr.length;\n    int gap = n / 2;\n    while (gap > 0) {\n        for (int i = gap; i < n; i++) {\n            int current = arr[i];\n            int preIndex = i - gap;\n            // Insertion sort\n            while (preIndex >= 0 && arr[preIndex] > current) {\n                arr[preIndex + gap] = arr[preIndex];\n                preIndex -= gap;\n            }\n            arr[preIndex + gap] = current;\n\n        }\n        gap /= 2;\n    }\n    return arr;\n}\n")),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u5206\u6790-3"},"\u7b97\u6cd5\u5206\u6790"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a33\u5b9a\u6027"),"\uff1a\u7a33\u5b9a"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u65f6\u95f4\u590d\u6742\u5ea6")," \uff1a\u6700\u4f73\uff1aO(nlogn)\uff0c \u6700\u5dee\uff1aO(n2) \u5e73\u5747\uff1aO(nlogn)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a7a\u95f4\u590d\u6742\u5ea6")," \uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"O(n)"))),(0,l.kt)("h5",{id:"\u5f52\u5e76\u6392\u5e8f-merge-sort"},"\u5f52\u5e76\u6392\u5e8f (Merge Sort)"),(0,l.kt)("p",null,"\u5f52\u5e76\u6392\u5e8f\u662f\u5efa\u7acb\u5728\u5f52\u5e76\u64cd\u4f5c\u4e0a\u7684\u4e00\u79cd\u6709\u6548\u7684\u6392\u5e8f\u7b97\u6cd5\u3002\u8be5\u7b97\u6cd5\u662f\u91c7\u7528\u5206\u6cbb\u6cd5 (Divide and Conquer) \u7684\u4e00\u4e2a\u975e\u5e38\u5178\u578b\u7684\u5e94\u7528\u3002\u5f52\u5e76\u6392\u5e8f\u662f\u4e00\u79cd\u7a33\u5b9a\u7684\u6392\u5e8f\u65b9\u6cd5\u3002\u5c06\u5df2\u6709\u5e8f\u7684\u5b50\u5e8f\u5217\u5408\u5e76\uff0c\u5f97\u5230\u5b8c\u5168\u6709\u5e8f\u7684\u5e8f\u5217\uff1b\u5373\u5148\u4f7f\u6bcf\u4e2a\u5b50\u5e8f\u5217\u6709\u5e8f\uff0c\u518d\u4f7f\u5b50\u5e8f\u5217\u6bb5\u95f4\u6709\u5e8f\u3002\u82e5\u5c06\u4e24\u4e2a\u6709\u5e8f\u8868\u5408\u5e76\u6210\u4e00\u4e2a\u6709\u5e8f\u8868\uff0c\u79f0\u4e3a 2 - \u8def\u5f52\u5e76\u3002"),(0,l.kt)("p",null,"\u548c\u9009\u62e9\u6392\u5e8f\u4e00\u6837\uff0c\u5f52\u5e76\u6392\u5e8f\u7684\u6027\u80fd\u4e0d\u53d7\u8f93\u5165\u6570\u636e\u7684\u5f71\u54cd\uff0c\u4f46\u8868\u73b0\u6bd4\u9009\u62e9\u6392\u5e8f\u597d\u7684\u591a\uff0c\u56e0\u4e3a\u59cb\u7ec8\u90fd\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"O(nlogn)")," \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002\u4ee3\u4ef7\u662f\u9700\u8981\u989d\u5916\u7684\u5185\u5b58\u7a7a\u95f4\u3002"),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u6b65\u9aa4-4"},"\u7b97\u6cd5\u6b65\u9aa4"),(0,l.kt)("p",null,"\u5f52\u5e76\u6392\u5e8f\u7b97\u6cd5\u662f\u4e00\u4e2a\u9012\u5f52\u8fc7\u7a0b\uff0c\u8fb9\u754c\u6761\u4ef6\u4e3a\u5f53\u8f93\u5165\u5e8f\u5217\u4ec5\u6709\u4e00\u4e2a\u5143\u7d20\u65f6\uff0c\u76f4\u63a5\u8fd4\u56de\uff0c\u5177\u4f53\u8fc7\u7a0b\u5982\u4e0b\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5982\u679c\u8f93\u5165\u5185\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\uff0c\u5219\u76f4\u63a5\u8fd4\u56de\uff0c\u5426\u5219\u5c06\u957f\u5ea6\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"n")," \u7684\u8f93\u5165\u5e8f\u5217\u5206\u6210\u4e24\u4e2a\u957f\u5ea6\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"n/2")," \u7684\u5b50\u5e8f\u5217\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5206\u522b\u5bf9\u8fd9\u4e24\u4e2a\u5b50\u5e8f\u5217\u8fdb\u884c\u5f52\u5e76\u6392\u5e8f\uff0c\u4f7f\u5b50\u5e8f\u5217\u53d8\u4e3a\u6709\u5e8f\u72b6\u6001\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u8bbe\u5b9a\u4e24\u4e2a\u6307\u9488\uff0c\u5206\u522b\u6307\u5411\u4e24\u4e2a\u5df2\u7ecf\u6392\u5e8f\u5b50\u5e8f\u5217\u7684\u8d77\u59cb\u4f4d\u7f6e\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u6bd4\u8f83\u4e24\u4e2a\u6307\u9488\u6240\u6307\u5411\u7684\u5143\u7d20\uff0c\u9009\u62e9\u76f8\u5bf9\u5c0f\u7684\u5143\u7d20\u653e\u5165\u5230\u5408\u5e76\u7a7a\u95f4\uff08\u7528\u4e8e\u5b58\u653e\u6392\u5e8f\u7ed3\u679c\uff09\uff0c\u5e76\u79fb\u52a8\u6307\u9488\u5230\u4e0b\u4e00\u4f4d\u7f6e\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u91cd\u590d\u6b65\u9aa4 3 ~4 \u76f4\u5230\u67d0\u4e00\u6307\u9488\u8fbe\u5230\u5e8f\u5217\u5c3e\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5c06\u53e6\u4e00\u5e8f\u5217\u5269\u4e0b\u7684\u6240\u6709\u5143\u7d20\u76f4\u63a5\u590d\u5236\u5230\u5408\u5e76\u5e8f\u5217\u5c3e\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://guide-blog-./images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/cs-basics/sorting-algorithms/merge_sort.gif",alt:null})),(0,l.kt)("h6",{id:"\u4ee3\u7801\u5b9e\u73b0-4"},"\u4ee3\u7801\u5b9e\u73b0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * \u5f52\u5e76\u6392\u5e8f\n *\n * @param arr\n * @return arr\n */\npublic static int[] mergeSort(int[] arr) {\n    if (arr.length <= 1) {\n        return arr;\n    }\n    int middle = arr.length / 2;\n    int[] arr_1 = Arrays.copyOfRange(arr, 0, middle);\n    int[] arr_2 = Arrays.copyOfRange(arr, middle, arr.length);\n    return merge(mergeSort(arr_1), mergeSort(arr_2));\n}\n\n/**\n * Merge two sorted arrays\n *\n * @param arr_1\n * @param arr_2\n * @return sorted_arr\n */\npublic static int[] merge(int[] arr_1, int[] arr_2) {\n    int[] sorted_arr = new int[arr_1.length + arr_2.length];\n    int idx = 0, idx_1 = 0, idx_2 = 0;\n    while (idx_1 < arr_1.length && idx_2 < arr_2.length) {\n        if (arr_1[idx_1] < arr_2[idx_2]) {\n            sorted_arr[idx] = arr_1[idx_1];\n            idx_1 += 1;\n        } else {\n            sorted_arr[idx] = arr_2[idx_2];\n            idx_2 += 1;\n        }\n        idx += 1;\n    }\n    if (idx_1 < arr_1.length) {\n        while (idx_1 < arr_1.length) {\n            sorted_arr[idx] = arr_1[idx_1];\n            idx_1 += 1;\n            idx += 1;\n        }\n    } else {\n        while (idx_2 < arr_2.length) {\n            sorted_arr[idx] = arr_2[idx_2];\n            idx_2 += 1;\n            idx += 1;\n        }\n    }\n    return sorted_arr;\n}\n")),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u5206\u6790-4"},"\u7b97\u6cd5\u5206\u6790"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a33\u5b9a\u6027"),"\uff1a\u7a33\u5b9a"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u65f6\u95f4\u590d\u6742\u5ea6")," \uff1a\u6700\u4f73\uff1aO(nlogn)\uff0c \u6700\u5dee\uff1aO(nlogn)\uff0c \u5e73\u5747\uff1aO(nlogn)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a7a\u95f4\u590d\u6742\u5ea6")," \uff1aO(n)")),(0,l.kt)("h5",{id:"\u5feb\u901f\u6392\u5e8f-quick-sort"},"\u5feb\u901f\u6392\u5e8f (Quick Sort)"),(0,l.kt)("p",null,"\u5feb\u901f\u6392\u5e8f\u7528\u5230\u4e86\u5206\u6cbb\u601d\u60f3\uff0c\u540c\u6837\u7684\u8fd8\u6709\u5f52\u5e76\u6392\u5e8f\u3002\u4e4d\u770b\u8d77\u6765\u5feb\u901f\u6392\u5e8f\u548c\u5f52\u5e76\u6392\u5e8f\u975e\u5e38\u76f8\u4f3c\uff0c\u90fd\u662f\u5c06\u95ee\u9898\u53d8\u5c0f\uff0c\u5148\u6392\u5e8f\u5b50\u4e32\uff0c\u6700\u540e\u5408\u5e76\u3002\u4e0d\u540c\u7684\u662f\u5feb\u901f\u6392\u5e8f\u5728\u5212\u5206\u5b50\u95ee\u9898\u7684\u65f6\u5019\u7ecf\u8fc7\u591a\u4e00\u6b65\u5904\u7406\uff0c\u5c06\u5212\u5206\u7684\u4e24\u7ec4\u6570\u636e\u5212\u5206\u4e3a\u4e00\u5927\u4e00\u5c0f\uff0c\u8fd9\u6837\u5728\u6700\u540e\u5408\u5e76\u7684\u65f6\u5019\u5c31\u4e0d\u5fc5\u50cf\u5f52\u5e76\u6392\u5e8f\u90a3\u6837\u518d\u8fdb\u884c\u6bd4\u8f83\u3002\u4f46\u4e5f\u6b63\u56e0\u4e3a\u5982\u6b64\uff0c\u5212\u5206\u7684\u4e0d\u5b9a\u6027\u4f7f\u5f97\u5feb\u901f\u6392\u5e8f\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5e76\u4e0d\u7a33\u5b9a\u3002"),(0,l.kt)("p",null,"\u5feb\u901f\u6392\u5e8f\u7684\u57fa\u672c\u601d\u60f3\uff1a\u901a\u8fc7\u4e00\u8d9f\u6392\u5e8f\u5c06\u5f85\u6392\u5e8f\u5217\u5206\u9694\u6210\u72ec\u7acb\u7684\u4e24\u90e8\u5206\uff0c\u5176\u4e2d\u4e00\u90e8\u5206\u8bb0\u5f55\u7684\u5143\u7d20\u5747\u6bd4\u53e6\u4e00\u90e8\u5206\u7684\u5143\u7d20\u5c0f\uff0c\u5219\u53ef\u5206\u522b\u5bf9\u8fd9\u4e24\u90e8\u5206\u5b50\u5e8f\u5217\u7ee7\u7eed\u8fdb\u884c\u6392\u5e8f\uff0c\u4ee5\u8fbe\u5230\u6574\u4e2a\u5e8f\u5217\u6709\u5e8f\u3002"),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u6b65\u9aa4-5"},"\u7b97\u6cd5\u6b65\u9aa4"),(0,l.kt)("p",null,"\u5feb\u901f\u6392\u5e8f\u4f7f\u7528",(0,l.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/%E5%88%86%E6%B2%BB%E6%B3%95"},"\u5206\u6cbb\u6cd5"),"\uff08Divide and conquer\uff09\u7b56\u7565\u6765\u628a\u4e00\u4e2a\u5e8f\u5217\u5206\u4e3a\u8f83\u5c0f\u548c\u8f83\u5927\u7684 2 \u4e2a\u5b50\u5e8f\u5217\uff0c\u7136\u540e\u9012\u56de\u5730\u6392\u5e8f\u4e24\u4e2a\u5b50\u5e8f\u5217\u3002\u5177\u4f53\u7b97\u6cd5\u63cf\u8ff0\u5982\u4e0b\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u4ece\u5e8f\u5217\u4e2d",(0,l.kt)("strong",{parentName:"li"},"\u968f\u673a"),"\u6311\u51fa\u4e00\u4e2a\u5143\u7d20\uff0c\u505a\u4e3a \u201c\u57fa\u51c6\u201d(",(0,l.kt)("inlineCode",{parentName:"li"},"pivot"),")\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u91cd\u65b0\u6392\u5217\u5e8f\u5217\uff0c\u5c06\u6240\u6709\u6bd4\u57fa\u51c6\u503c\u5c0f\u7684\u5143\u7d20\u6446\u653e\u5728\u57fa\u51c6\u524d\u9762\uff0c\u6240\u6709\u6bd4\u57fa\u51c6\u503c\u5927\u7684\u6446\u5728\u57fa\u51c6\u7684\u540e\u9762\uff08\u76f8\u540c\u7684\u6570\u53ef\u4ee5\u5230\u4efb\u4e00\u8fb9\uff09\u3002\u5728\u8fd9\u4e2a\u64cd\u4f5c\u7ed3\u675f\u4e4b\u540e\uff0c\u8be5\u57fa\u51c6\u5c31\u5904\u4e8e\u6570\u5217\u7684\u4e2d\u95f4\u4f4d\u7f6e\u3002\u8fd9\u4e2a\u79f0\u4e3a\u5206\u533a\uff08partition\uff09\u64cd\u4f5c\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u9012\u5f52\u5730\u628a\u5c0f\u4e8e\u57fa\u51c6\u503c\u5143\u7d20\u7684\u5b50\u5e8f\u5217\u548c\u5927\u4e8e\u57fa\u51c6\u503c\u5143\u7d20\u7684\u5b50\u5e8f\u5217\u8fdb\u884c\u5feb\u901f\u6392\u5e8f\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://guide-blog-./images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/cs-basics/sorting-algorithms/random_quick_sort.gif",alt:null})),(0,l.kt)("h6",{id:"\u4ee3\u7801\u5b9e\u73b0-5"},"\u4ee3\u7801\u5b9e\u73b0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public static int partition(int[] array, int low, int high) {\n    int pivot = array[high];\n    int pointer = low;\n    for (int i = low; i < high; i++) {\n        if (array[i] <= pivot) {\n            int temp = array[i];\n            array[i] = array[pointer];\n            array[pointer] = temp;\n            pointer++;\n        }\n        System.out.println(Arrays.toString(array));\n    }\n    int temp = array[pointer];\n    array[pointer] = array[high];\n    array[high] = temp;\n    return pointer;\n}\npublic static void quickSort(int[] array, int low, int high) {\n    if (low < high) {\n        int position = partition(array, low, high);\n        quickSort(array, low, position - 1);\n        quickSort(array, position + 1, high);\n    }\n}\n")),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u5206\u6790-5"},"\u7b97\u6cd5\u5206\u6790"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a33\u5b9a\u6027")," \uff1a\u4e0d\u7a33\u5b9a"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u65f6\u95f4\u590d\u6742\u5ea6")," \uff1a\u6700\u4f73\uff1aO(nlogn)\uff0c \u6700\u5dee\uff1aO(nlogn)\uff0c\u5e73\u5747\uff1aO(nlogn)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a7a\u95f4\u590d\u6742\u5ea6")," \uff1aO(nlogn)")),(0,l.kt)("h5",{id:"\u5806\u6392\u5e8f-heap-sort"},"\u5806\u6392\u5e8f (Heap Sort)"),(0,l.kt)("p",null,"\u5806\u6392\u5e8f\u662f\u6307\u5229\u7528\u5806\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u6240\u8bbe\u8ba1\u7684\u4e00\u79cd\u6392\u5e8f\u7b97\u6cd5\u3002\u5806\u662f\u4e00\u4e2a\u8fd1\u4f3c\u5b8c\u5168\u4e8c\u53c9\u6811\u7684\u7ed3\u6784\uff0c\u5e76\u540c\u65f6\u6ee1\u8db3",(0,l.kt)("strong",{parentName:"p"},"\u5806\u7684\u6027\u8d28"),"\uff1a\u5373",(0,l.kt)("strong",{parentName:"p"},"\u5b50\u7ed3\u70b9\u7684\u503c\u603b\u662f\u5c0f\u4e8e\uff08\u6216\u8005\u5927\u4e8e\uff09\u5b83\u7684\u7236\u8282\u70b9"),"\u3002"),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u6b65\u9aa4-6"},"\u7b97\u6cd5\u6b65\u9aa4"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5c06\u521d\u59cb\u5f85\u6392\u5e8f\u5217 ",(0,l.kt)("inlineCode",{parentName:"li"},"(R1, R2, \u2026\u2026, Rn)")," \u6784\u5efa\u6210\u5927\u9876\u5806\uff0c\u6b64\u5806\u4e3a\u521d\u59cb\u7684\u65e0\u5e8f\u533a\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5c06\u5806\u9876\u5143\u7d20 ",(0,l.kt)("inlineCode",{parentName:"li"},"R[1]")," \u4e0e\u6700\u540e\u4e00\u4e2a\u5143\u7d20 ",(0,l.kt)("inlineCode",{parentName:"li"},"R[n]")," \u4ea4\u6362\uff0c\u6b64\u65f6\u5f97\u5230\u65b0\u7684\u65e0\u5e8f\u533a ",(0,l.kt)("inlineCode",{parentName:"li"},"(R1, R2, \u2026\u2026, Rn-1)")," \u548c\u65b0\u7684\u6709\u5e8f\u533a (Rn), \u4e14\u6ee1\u8db3 ",(0,l.kt)("inlineCode",{parentName:"li"},"R[1, 2, \u2026\u2026, n-1]<=R[n]"),"\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u7531\u4e8e\u4ea4\u6362\u540e\u65b0\u7684\u5806\u9876 ",(0,l.kt)("inlineCode",{parentName:"li"},"R[1]")," \u53ef\u80fd\u8fdd\u53cd\u5806\u7684\u6027\u8d28\uff0c\u56e0\u6b64\u9700\u8981\u5bf9\u5f53\u524d\u65e0\u5e8f\u533a ",(0,l.kt)("inlineCode",{parentName:"li"},"(R1, R2, \u2026\u2026, Rn-1)")," \u8c03\u6574\u4e3a\u65b0\u5806\uff0c\u7136\u540e\u518d\u6b21\u5c06 R ","[1]"," \u4e0e\u65e0\u5e8f\u533a\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4ea4\u6362\uff0c\u5f97\u5230\u65b0\u7684\u65e0\u5e8f\u533a ",(0,l.kt)("inlineCode",{parentName:"li"},"(R1, R2, \u2026\u2026, Rn-2)")," \u548c\u65b0\u7684\u6709\u5e8f\u533a ",(0,l.kt)("inlineCode",{parentName:"li"},"(Rn-1, Rn)"),"\u3002\u4e0d\u65ad\u91cd\u590d\u6b64\u8fc7\u7a0b\u76f4\u5230\u6709\u5e8f\u533a\u7684\u5143\u7d20\u4e2a\u6570\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"n-1"),"\uff0c\u5219\u6574\u4e2a\u6392\u5e8f\u8fc7\u7a0b\u5b8c\u6210")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://guide-blog-./images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/cs-basics/sorting-algorithms/heap_sort.gif",alt:null})),(0,l.kt)("h6",{id:"\u4ee3\u7801\u5b9e\u73b0-6"},"\u4ee3\u7801\u5b9e\u73b0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// Global variable that records the length of an array;\nstatic int heapLen;\n\n/**\n * Swap the two elements of an array\n * @param arr\n * @param i\n * @param j\n */\nprivate static void swap(int[] arr, int i, int j) {\n    int tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\n/**\n * Build Max Heap\n * @param arr\n */\nprivate static void buildMaxHeap(int[] arr) {\n    for (int i = arr.length / 2 - 1; i >= 0; i--) {\n        heapify(arr, i);\n    }\n}\n\n/**\n * Adjust it to the maximum heap\n * @param arr\n * @param i\n */\nprivate static void heapify(int[] arr, int i) {\n    int left = 2 * i + 1;\n    int right = 2 * i + 2;\n    int largest = i;\n    if (right < heapLen && arr[right] > arr[largest]) {\n        largest = right;\n    }\n    if (left < heapLen && arr[left] > arr[largest]) {\n        largest = left;\n    }\n    if (largest != i) {\n        swap(arr, largest, i);\n        heapify(arr, largest);\n    }\n}\n\n/**\n * Heap Sort\n * @param arr\n * @return\n */\npublic static int[] heapSort(int[] arr) {\n    // index at the end of the heap\n    heapLen = arr.length;\n    // build MaxHeap\n    buildMaxHeap(arr);\n    for (int i = arr.length - 1; i > 0; i--) {\n        // Move the top of the heap to the tail of the heap in turn\n        swap(arr, 0, i);\n        heapLen -= 1;\n        heapify(arr, 0);\n    }\n    return arr;\n}\n")),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u5206\u6790-6"},"\u7b97\u6cd5\u5206\u6790"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a33\u5b9a\u6027")," \uff1a\u4e0d\u7a33\u5b9a"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u65f6\u95f4\u590d\u6742\u5ea6")," \uff1a\u6700\u4f73\uff1aO(nlogn)\uff0c \u6700\u5dee\uff1aO(nlogn)\uff0c \u5e73\u5747\uff1aO(nlogn)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a7a\u95f4\u590d\u6742\u5ea6")," \uff1aO(1)")),(0,l.kt)("h5",{id:"\u8ba1\u6570\u6392\u5e8f-counting-sort"},"\u8ba1\u6570\u6392\u5e8f (Counting Sort)"),(0,l.kt)("p",null,"\u8ba1\u6570\u6392\u5e8f\u7684\u6838\u5fc3\u5728\u4e8e\u5c06\u8f93\u5165\u7684\u6570\u636e\u503c\u8f6c\u5316\u4e3a\u952e\u5b58\u50a8\u5728\u989d\u5916\u5f00\u8f9f\u7684\u6570\u7ec4\u7a7a\u95f4\u4e2d\u3002 \u4f5c\u4e3a\u4e00\u79cd\u7ebf\u6027\u65f6\u95f4\u590d\u6742\u5ea6\u7684\u6392\u5e8f\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u8ba1\u6570\u6392\u5e8f\u8981\u6c42\u8f93\u5165\u7684\u6570\u636e\u5fc5\u987b\u662f\u6709\u786e\u5b9a\u8303\u56f4\u7684\u6574\u6570"),"\u3002"),(0,l.kt)("p",null,"\u8ba1\u6570\u6392\u5e8f (Counting sort) \u662f\u4e00\u79cd\u7a33\u5b9a\u7684\u6392\u5e8f\u7b97\u6cd5\u3002\u8ba1\u6570\u6392\u5e8f\u4f7f\u7528\u4e00\u4e2a\u989d\u5916\u7684\u6570\u7ec4 ",(0,l.kt)("inlineCode",{parentName:"p"},"C"),"\uff0c\u5176\u4e2d\u7b2c ",(0,l.kt)("inlineCode",{parentName:"p"},"i")," \u4e2a\u5143\u7d20\u662f\u5f85\u6392\u5e8f\u6570\u7ec4 ",(0,l.kt)("inlineCode",{parentName:"p"},"A")," \u4e2d\u503c\u7b49\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"i")," \u7684\u5143\u7d20\u7684\u4e2a\u6570\u3002\u7136\u540e\u6839\u636e\u6570\u7ec4 ",(0,l.kt)("inlineCode",{parentName:"p"},"C")," \u6765\u5c06 ",(0,l.kt)("inlineCode",{parentName:"p"},"A")," \u4e2d\u7684\u5143\u7d20\u6392\u5230\u6b63\u786e\u7684\u4f4d\u7f6e\u3002",(0,l.kt)("strong",{parentName:"p"},"\u5b83\u53ea\u80fd\u5bf9\u6574\u6570\u8fdb\u884c\u6392\u5e8f"),"\u3002"),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u6b65\u9aa4-7"},"\u7b97\u6cd5\u6b65\u9aa4"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u627e\u51fa\u6570\u7ec4\u4e2d\u7684\u6700\u5927\u503c ",(0,l.kt)("inlineCode",{parentName:"li"},"max"),"\u3001\u6700\u5c0f\u503c ",(0,l.kt)("inlineCode",{parentName:"li"},"min"),"\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u521b\u5efa\u4e00\u4e2a\u65b0\u6570\u7ec4 ",(0,l.kt)("inlineCode",{parentName:"li"},"C"),"\uff0c\u5176\u957f\u5ea6\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"max-min+1"),"\uff0c\u5176\u5143\u7d20\u9ed8\u8ba4\u503c\u90fd\u4e3a 0\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u904d\u5386\u539f\u6570\u7ec4 ",(0,l.kt)("inlineCode",{parentName:"li"},"A")," \u4e2d\u7684\u5143\u7d20 ",(0,l.kt)("inlineCode",{parentName:"li"},"A[i]"),"\uff0c\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"li"},"A[i]-min")," \u4f5c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"C")," \u6570\u7ec4\u7684\u7d22\u5f15\uff0c\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"li"},"A[i]")," \u7684\u503c\u5728 ",(0,l.kt)("inlineCode",{parentName:"li"},"A")," \u4e2d\u5143\u7d20\u51fa\u73b0\u6b21\u6570\u4f5c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"C[A[i]-min]")," \u7684\u503c\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"li"},"C")," \u6570\u7ec4\u53d8\u5f62\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u65b0\u5143\u7d20\u7684\u503c\u662f\u8be5\u5143\u7d20\u4e0e\u524d\u4e00\u4e2a\u5143\u7d20\u503c\u7684\u548c"),"\uff0c\u5373\u5f53 ",(0,l.kt)("inlineCode",{parentName:"li"},"i>1")," \u65f6 ",(0,l.kt)("inlineCode",{parentName:"li"},"C[i] = C[i] + C[i-1]"),"\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u521b\u5efa\u7ed3\u679c\u6570\u7ec4 ",(0,l.kt)("inlineCode",{parentName:"li"},"R"),"\uff0c\u957f\u5ea6\u548c\u539f\u59cb\u6570\u7ec4\u4e00\u6837\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\u4ece\u540e\u5411\u524d"),"\u904d\u5386\u539f\u59cb\u6570\u7ec4 ",(0,l.kt)("inlineCode",{parentName:"li"},"A")," \u4e2d\u7684\u5143\u7d20 ",(0,l.kt)("inlineCode",{parentName:"li"},"A[i]"),"\uff0c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"A[i]")," \u51cf\u53bb\u6700\u5c0f\u503c ",(0,l.kt)("inlineCode",{parentName:"li"},"min")," \u4f5c\u4e3a\u7d22\u5f15\uff0c\u5728\u8ba1\u6570\u6570\u7ec4 ",(0,l.kt)("inlineCode",{parentName:"li"},"C")," \u4e2d\u627e\u5230\u5bf9\u5e94\u7684\u503c ",(0,l.kt)("inlineCode",{parentName:"li"},"C[A[i]-min]"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"C[A[i]-min]-1")," \u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"A[i]")," \u5728\u7ed3\u679c\u6570\u7ec4 ",(0,l.kt)("inlineCode",{parentName:"li"},"R")," \u4e2d\u7684\u4f4d\u7f6e\uff0c\u505a\u5b8c\u4e0a\u8ff0\u8fd9\u4e9b\u64cd\u4f5c\uff0c\u5c06 ",(0,l.kt)("inlineCode",{parentName:"li"},"count[A[i]-min]")," \u51cf\u5c0f 1\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://guide-blog-./images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/cs-basics/sorting-algorithms/counting_sort.gif",alt:null})),(0,l.kt)("h6",{id:"\u4ee3\u7801\u5b9e\u73b0-7"},"\u4ee3\u7801\u5b9e\u73b0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * Gets the maximum and minimum values in the array\n *\n * @param arr\n * @return\n */\nprivate static int[] getMinAndMax(int[] arr) {\n    int maxValue = arr[0];\n    int minValue = arr[0];\n    for (int i = 0; i < arr.length; i++) {\n        if (arr[i] > maxValue) {\n            maxValue = arr[i];\n        } else if (arr[i] < minValue) {\n            minValue = arr[i];\n        }\n    }\n    return new int[] { minValue, maxValue };\n}\n\n/**\n * Counting Sort\n *\n * @param arr\n * @return\n */\npublic static int[] countingSort(int[] arr) {\n    if (arr.length < 2) {\n        return arr;\n    }\n    int[] extremum = getMinAndMax(arr);\n    int minValue = extremum[0];\n    int maxValue = extremum[1];\n    int[] countArr = new int[maxValue - minValue + 1];\n    int[] result = new int[arr.length];\n\n    for (int i = 0; i < arr.length; i++) {\n        countArr[arr[i] - minValue] += 1;\n    }\n    for (int i = 1; i < countArr.length; i++) {\n        countArr[i] += countArr[i - 1];\n    }\n    for (int i = arr.length - 1; i >= 0; i--) {\n        int idx = countArr[arr[i] - minValue] - 1;\n        result[idx] = arr[i];\n        countArr[arr[i] - minValue] -= 1;\n    }\n    return result;\n}\n")),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u5206\u6790-7"},"\u7b97\u6cd5\u5206\u6790"),(0,l.kt)("p",null,"\u5f53\u8f93\u5165\u7684\u5143\u7d20\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"n")," \u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"0")," \u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"k")," \u4e4b\u95f4\u7684\u6574\u6570\u65f6\uff0c\u5b83\u7684\u8fd0\u884c\u65f6\u95f4\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"O(n+k)"),"\u3002\u8ba1\u6570\u6392\u5e8f\u4e0d\u662f\u6bd4\u8f83\u6392\u5e8f\uff0c\u6392\u5e8f\u7684\u901f\u5ea6\u5feb\u4e8e\u4efb\u4f55\u6bd4\u8f83\u6392\u5e8f\u7b97\u6cd5\u3002\u7531\u4e8e\u7528\u6765\u8ba1\u6570\u7684\u6570\u7ec4 ",(0,l.kt)("inlineCode",{parentName:"p"},"C")," \u7684\u957f\u5ea6\u53d6\u51b3\u4e8e\u5f85\u6392\u5e8f\u6570\u7ec4\u4e2d\u6570\u636e\u7684\u8303\u56f4\uff08\u7b49\u4e8e\u5f85\u6392\u5e8f\u6570\u7ec4\u7684",(0,l.kt)("strong",{parentName:"p"},"\u6700\u5927\u503c\u4e0e\u6700\u5c0f\u503c\u7684\u5dee\u52a0\u4e0a 1"),"\uff09\uff0c\u8fd9\u4f7f\u5f97\u8ba1\u6570\u6392\u5e8f\u5bf9\u4e8e\u6570\u636e\u8303\u56f4\u5f88\u5927\u7684\u6570\u7ec4\uff0c\u9700\u8981\u5927\u91cf\u989d\u5916\u5185\u5b58\u7a7a\u95f4\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a33\u5b9a\u6027")," \uff1a\u7a33\u5b9a"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u65f6\u95f4\u590d\u6742\u5ea6")," \uff1a\u6700\u4f73\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"O(n+k)")," \u6700\u5dee\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"O(n+k)")," \u5e73\u5747\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"O(n+k)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a7a\u95f4\u590d\u6742\u5ea6")," \uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"O(k)"))),(0,l.kt)("h5",{id:"\u6876\u6392\u5e8f-bucket-sort"},"\u6876\u6392\u5e8f (Bucket Sort)"),(0,l.kt)("p",null,"\u6876\u6392\u5e8f\u662f\u8ba1\u6570\u6392\u5e8f\u7684\u5347\u7ea7\u7248\u3002\u5b83\u5229\u7528\u4e86\u51fd\u6570\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u9ad8\u6548\u4e0e\u5426\u7684\u5173\u952e\u5c31\u5728\u4e8e\u8fd9\u4e2a\u6620\u5c04\u51fd\u6570\u7684\u786e\u5b9a\u3002\u4e3a\u4e86\u4f7f\u6876\u6392\u5e8f\u66f4\u52a0\u9ad8\u6548\uff0c\u6211\u4eec\u9700\u8981\u505a\u5230\u8fd9\u4e24\u70b9\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5728\u989d\u5916\u7a7a\u95f4\u5145\u8db3\u7684\u60c5\u51b5\u4e0b\uff0c\u5c3d\u91cf\u589e\u5927\u6876\u7684\u6570\u91cf"),(0,l.kt)("li",{parentName:"ol"},"\u4f7f\u7528\u7684\u6620\u5c04\u51fd\u6570\u80fd\u591f\u5c06\u8f93\u5165\u7684 N \u4e2a\u6570\u636e\u5747\u5300\u7684\u5206\u914d\u5230 K \u4e2a\u6876\u4e2d")),(0,l.kt)("p",null,"\u6876\u6392\u5e8f\u7684\u5de5\u4f5c\u7684\u539f\u7406\uff1a\u5047\u8bbe\u8f93\u5165\u6570\u636e\u670d\u4ece\u5747\u5300\u5206\u5e03\uff0c\u5c06\u6570\u636e\u5206\u5230\u6709\u9650\u6570\u91cf\u7684\u6876\u91cc\uff0c\u6bcf\u4e2a\u6876\u518d\u5206\u522b\u6392\u5e8f\uff08\u6709\u53ef\u80fd\u518d\u4f7f\u7528\u522b\u7684\u6392\u5e8f\u7b97\u6cd5\u6216\u662f\u4ee5\u9012\u5f52\u65b9\u5f0f\u7ee7\u7eed\u4f7f\u7528\u6876\u6392\u5e8f\u8fdb\u884c\u3002"),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u6b65\u9aa4-8"},"\u7b97\u6cd5\u6b65\u9aa4"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u8bbe\u7f6e\u4e00\u4e2a BucketSize\uff0c\u4f5c\u4e3a\u6bcf\u4e2a\u6876\u6240\u80fd\u653e\u7f6e\u591a\u5c11\u4e2a\u4e0d\u540c\u6570\u503c\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u904d\u5386\u8f93\u5165\u6570\u636e\uff0c\u5e76\u4e14\u628a\u6570\u636e\u4f9d\u6b21\u6620\u5c04\u5230\u5bf9\u5e94\u7684\u6876\u91cc\u53bb\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5bf9\u6bcf\u4e2a\u975e\u7a7a\u7684\u6876\u8fdb\u884c\u6392\u5e8f\uff0c\u53ef\u4ee5\u4f7f\u7528\u5176\u5b83\u6392\u5e8f\u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u9012\u5f52\u4f7f\u7528\u6876\u6392\u5e8f\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u4ece\u975e\u7a7a\u6876\u91cc\u628a\u6392\u597d\u5e8f\u7684\u6570\u636e\u62fc\u63a5\u8d77\u6765\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://guide-blog-./images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/cs-basics/sorting-algorithms/bucket_sort.gif",alt:null})),(0,l.kt)("h6",{id:"\u4ee3\u7801\u5b9e\u73b0-8"},"\u4ee3\u7801\u5b9e\u73b0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * Gets the maximum and minimum values in the array\n * @param arr\n * @return\n */\nprivate static int[] getMinAndMax(List<Integer> arr) {\n    int maxValue = arr.get(0);\n    int minValue = arr.get(0);\n    for (int i : arr) {\n        if (i > maxValue) {\n            maxValue = i;\n        } else if (i < minValue) {\n            minValue = i;\n        }\n    }\n    return new int[] { minValue, maxValue };\n}\n\n/**\n * Bucket Sort\n * @param arr\n * @return\n */\npublic static List<Integer> bucketSort(List<Integer> arr, int bucket_size) {\n    if (arr.size() < 2 || bucket_size == 0) {\n        return arr;\n    }\n    int[] extremum = getMinAndMax(arr);\n    int minValue = extremum[0];\n    int maxValue = extremum[1];\n    int bucket_cnt = (maxValue - minValue) / bucket_size + 1;\n    List<List<Integer>> buckets = new ArrayList<>();\n    for (int i = 0; i < bucket_cnt; i++) {\n        buckets.add(new ArrayList<Integer>());\n    }\n    for (int element : arr) {\n        int idx = (element - minValue) / bucket_size;\n        buckets.get(idx).add(element);\n    }\n    for (int i = 0; i < buckets.size(); i++) {\n        if (buckets.get(i).size() > 1) {\n            buckets.set(i, sort(buckets.get(i), bucket_size / 2));\n        }\n    }\n    ArrayList<Integer> result = new ArrayList<>();\n    for (List<Integer> bucket : buckets) {\n        for (int element : bucket) {\n            result.add(element);\n        }\n    }\n    return result;\n}\n")),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u5206\u6790-8"},"\u7b97\u6cd5\u5206\u6790"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a33\u5b9a\u6027")," \uff1a\u7a33\u5b9a"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u65f6\u95f4\u590d\u6742\u5ea6")," \uff1a\u6700\u4f73\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"O(n+k)")," \u6700\u5dee\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"O(n\xb2)")," \u5e73\u5747\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"O(n+k)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a7a\u95f4\u590d\u6742\u5ea6")," \uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"O(k)"))),(0,l.kt)("h5",{id:"\u57fa\u6570\u6392\u5e8f-radix-sort"},"\u57fa\u6570\u6392\u5e8f (Radix Sort)"),(0,l.kt)("p",null,"\u57fa\u6570\u6392\u5e8f\u4e5f\u662f\u975e\u6bd4\u8f83\u7684\u6392\u5e8f\u7b97\u6cd5\uff0c\u5bf9\u5143\u7d20\u4e2d\u7684\u6bcf\u4e00\u4f4d\u6570\u5b57\u8fdb\u884c\u6392\u5e8f\uff0c\u4ece\u6700\u4f4e\u4f4d\u5f00\u59cb\u6392\u5e8f\uff0c\u590d\u6742\u5ea6\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"O(n\xd7k)"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"n")," \u4e3a\u6570\u7ec4\u957f\u5ea6\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"k")," \u4e3a\u6570\u7ec4\u4e2d\u5143\u7d20\u7684\u6700\u5927\u7684\u4f4d\u6570\uff1b"),(0,l.kt)("p",null,"\u57fa\u6570\u6392\u5e8f\u662f\u6309\u7167\u4f4e\u4f4d\u5148\u6392\u5e8f\uff0c\u7136\u540e\u6536\u96c6\uff1b\u518d\u6309\u7167\u9ad8\u4f4d\u6392\u5e8f\uff0c\u7136\u540e\u518d\u6536\u96c6\uff1b\u4f9d\u6b21\u7c7b\u63a8\uff0c\u76f4\u5230\u6700\u9ad8\u4f4d\u3002\u6709\u65f6\u5019\u6709\u4e9b\u5c5e\u6027\u662f\u6709\u4f18\u5148\u7ea7\u987a\u5e8f\u7684\uff0c\u5148\u6309\u4f4e\u4f18\u5148\u7ea7\u6392\u5e8f\uff0c\u518d\u6309\u9ad8\u4f18\u5148\u7ea7\u6392\u5e8f\u3002\u6700\u540e\u7684\u6b21\u5e8f\u5c31\u662f\u9ad8\u4f18\u5148\u7ea7\u9ad8\u7684\u5728\u524d\uff0c\u9ad8\u4f18\u5148\u7ea7\u76f8\u540c\u7684\u4f4e\u4f18\u5148\u7ea7\u9ad8\u7684\u5728\u524d\u3002\u57fa\u6570\u6392\u5e8f\u57fa\u4e8e\u5206\u522b\u6392\u5e8f\uff0c\u5206\u522b\u6536\u96c6\uff0c\u6240\u4ee5\u662f\u7a33\u5b9a\u7684\u3002"),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u6b65\u9aa4-9"},"\u7b97\u6cd5\u6b65\u9aa4"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u53d6\u5f97\u6570\u7ec4\u4e2d\u7684\u6700\u5927\u6570\uff0c\u5e76\u53d6\u5f97\u4f4d\u6570\uff0c\u5373\u4e3a\u8fed\u4ee3\u6b21\u6570 ",(0,l.kt)("inlineCode",{parentName:"li"},"N"),"\uff08\u4f8b\u5982\uff1a\u6570\u7ec4\u4e2d\u6700\u5927\u6570\u503c\u4e3a 1000\uff0c\u5219 ",(0,l.kt)("inlineCode",{parentName:"li"},"N=4"),"\uff09\uff1b"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"A")," \u4e3a\u539f\u59cb\u6570\u7ec4\uff0c\u4ece\u6700\u4f4e\u4f4d\u5f00\u59cb\u53d6\u6bcf\u4e2a\u4f4d\u7ec4\u6210 ",(0,l.kt)("inlineCode",{parentName:"li"},"radix")," \u6570\u7ec4\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"li"},"radix")," \u8fdb\u884c\u8ba1\u6570\u6392\u5e8f\uff08\u5229\u7528\u8ba1\u6570\u6392\u5e8f\u9002\u7528\u4e8e\u5c0f\u8303\u56f4\u6570\u7684\u7279\u70b9\uff09\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5c06 ",(0,l.kt)("inlineCode",{parentName:"li"},"radix")," \u4f9d\u6b21\u8d4b\u503c\u7ed9\u539f\u6570\u7ec4\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u91cd\u590d 2~4 \u6b65\u9aa4 ",(0,l.kt)("inlineCode",{parentName:"li"},"N")," \u6b21")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://guide-blog-./images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/cs-basics/sorting-algorithms/radix_sort.gif",alt:null})),(0,l.kt)("h6",{id:"\u4ee3\u7801\u5b9e\u73b0-9"},"\u4ee3\u7801\u5b9e\u73b0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * Radix Sort\n *\n * @param arr\n * @return\n */\npublic static int[] radixSort(int[] arr) {\n    if (arr.length < 2) {\n        return arr;\n    }\n    int N = 1;\n    int maxValue = arr[0];\n    for (int element : arr) {\n        if (element > maxValue) {\n            maxValue = element;\n        }\n    }\n    while (maxValue / 10 != 0) {\n        maxValue = maxValue / 10;\n        N += 1;\n    }\n    for (int i = 0; i < N; i++) {\n        List<List<Integer>> radix = new ArrayList<>();\n        for (int k = 0; k < 10; k++) {\n            radix.add(new ArrayList<Integer>());\n        }\n        for (int element : arr) {\n            int idx = (element / (int) Math.pow(10, i)) % 10;\n            radix.get(idx).add(element);\n        }\n        int idx = 0;\n        for (List<Integer> l : radix) {\n            for (int n : l) {\n                arr[idx++] = n;\n            }\n        }\n    }\n    return arr;\n}\n")),(0,l.kt)("h6",{id:"\u7b97\u6cd5\u5206\u6790-9"},"\u7b97\u6cd5\u5206\u6790"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a33\u5b9a\u6027")," \uff1a\u7a33\u5b9a"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u65f6\u95f4\u590d\u6742\u5ea6")," \uff1a\u6700\u4f73\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"O(n\xd7k)")," \u6700\u5dee\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"O(n\xd7k)")," \u5e73\u5747\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"O(n\xd7k)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u7a7a\u95f4\u590d\u6742\u5ea6")," \uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"O(n+k)"))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u57fa\u6570\u6392\u5e8f vs \u8ba1\u6570\u6392\u5e8f vs \u6876\u6392\u5e8f")),(0,l.kt)("p",null,"\u8fd9\u4e09\u79cd\u6392\u5e8f\u7b97\u6cd5\u90fd\u5229\u7528\u4e86\u6876\u7684\u6982\u5ff5\uff0c\u4f46\u5bf9\u6876\u7684\u4f7f\u7528\u65b9\u6cd5\u4e0a\u6709\u660e\u663e\u5dee\u5f02\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u57fa\u6570\u6392\u5e8f\uff1a\u6839\u636e\u952e\u503c\u7684\u6bcf\u4f4d\u6570\u5b57\u6765\u5206\u914d\u6876"),(0,l.kt)("li",{parentName:"ul"},"\u8ba1\u6570\u6392\u5e8f\uff1a\u6bcf\u4e2a\u6876\u53ea\u5b58\u50a8\u5355\u4e00\u952e\u503c"),(0,l.kt)("li",{parentName:"ul"},"\u6876\u6392\u5e8f\uff1a\u6bcf\u4e2a\u6876\u5b58\u50a8\u4e00\u5b9a\u8303\u56f4\u7684\u6570\u503c")),(0,l.kt)("h2",{id:"\u8bbe\u8ba1\u6a21\u5f0f"},"\ud83c\udfa8\u8bbe\u8ba1\u6a21\u5f0f"),(0,l.kt)("h2",{id:"\ufe0f\u667a\u529b\u9898"},"\ud83d\ude47\u200d\u2642\ufe0f\u667a\u529b\u9898"),(0,l.kt)("h3",{id:"\u8d5b\u9a6c\u627e\u6700\u5feb\u7684\u9a6c\u5339\u9ad8\u9891\u9898"},"\u8d5b\u9a6c\u627e\u6700\u5feb\u7684\u9a6c\u5339\uff08\u9ad8\u9891\u9898\uff09"),(0,l.kt)("p",null,"\u4e00\u822c\u6709\u8fd9\u4e48\u51e0\u79cd\u95ee\u6cd5\uff1a"),(0,l.kt)("p",null,"25\u5339\u9a6c5\u6761\u8dd1\u9053\u627e\u6700\u5feb\u76843\u5339\u9a6c\uff0c\u9700\u8981\u8dd1\u51e0\u6b21\uff1f\u53c2\u8003\u56de\u7b54\uff1a7"),(0,l.kt)("p",null,"64\u5339\u9a6c8\u6761\u8dd1\u9053\u627e\u6700\u5feb\u76844\u5339\u9a6c\uff0c\u9700\u8981\u8dd1\u51e0\u6b21\uff1f\u53c2\u8003\u56de\u7b54\uff1a11"),(0,l.kt)("p",null,"25\u5339\u9a6c5\u6761\u8dd1\u9053\u627e\u6700\u5feb\u76845\u5339\u9a6c\uff0c\u9700\u8981\u8dd1\u51e0\u6b21\uff1f\u53c2\u8003\u56de\u7b54\uff1a\u6700\u5c118\u6b21\u6700\u591a9\u6b21"),(0,l.kt)("p",null,"\u5efa\u8bae\u753b\u56fe\u8868\u6765\u770b\uff0c\u5c06\u95ee\u9898\u7b80\u5355\u5316\u4e00\u70b9\uff0c\u5c06\u5927\u95ee\u9898\u5316\u6210\u5c0f\u95ee\u9898\u5373\u53ef\uff0c\u540c\u65f6B\u7ad9\u6709\u4e2a\u8bb2\u89e3\u89c6\u9891\u8fd8\u4e0d\u9519\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://www.bilibili.com/video/BV1KJ411g78y"},"https://www.bilibili.com/video/BV1KJ411g78y")),(0,l.kt)("p",null,"\u8be6\u7ec6\u89e3\u6cd5\uff1a"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1\u300125\u5339\u9a6c5\u6761\u8dd1\u9053\u627e\u6700\u5feb\u76843\u5339\u9a6c\uff0c\u9700\u8981\u8dd1\u51e0\u6b21\uff1f")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220626130705310",src:n(77328).Z,width:"500",height:"500"})),(0,l.kt)("p",null,"\u5c0625\u5339\u9a6c\u5206\u6210ABCDE5\u7ec4\uff0c\u5047\u8bbe\u6bcf\u7ec4\u7684\u6392\u540d\u5c31\u662fA1>A2>A3>A4>A5,\u7528\u8fb9\u76f8\u8fde\uff0c\u8fd9\u91cc\u6bd4\u8d5b5\u6b21"),(0,l.kt)("p",null,"\u7b2c6\u6b21\uff0c\u6bcf\u7ec4\u7684\u7b2c\u4e00\u540d\u8fdb\u884c\u6bd4\u8d5b\uff0c\u53ef\u4ee5\u627e\u51fa\u6700\u5feb\u7684\u9a6c\uff0c\u8fd9\u91cc\u5047\u8bbeA1>B1>C1>D1>E1"),(0,l.kt)("p",null,"D1\uff0cE1\u80af\u5b9a\u8fdb\u4e0d\u4e86\u524d3\uff0c\u76f4\u63a5\u6392\u9664\u6389"),(0,l.kt)("p",null,"\u7b2c7\u6b21\uff0cB1 C1 A2 B2 A3\u6bd4\u8d5b\uff0c\u53ef\u4ee5\u627e\u51fa\u7b2c\u4e8c\uff0c\u7b2c\u4e09\u540d"),(0,l.kt)("p",null,"\u6240\u4ee5\u6700\u5c11\u6bd4\u8d5b\u9700\u89817\u6b21"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2\u300164\u5339\u9a6c8\u6761\u8dd1\u9053\u627e\u6700\u5feb\u76844\u5339\u9a6c\uff0c\u9700\u8981\u8dd1\u51e0\u6b21\uff1f")),(0,l.kt)("p",null,"\u7b2c\u4e00\u6b65 \u5168\u90e8\u9a6c\u5206\u4e3a8\u7ec4\uff0c\u6bcf\u7ec48\u5339\uff0c\u6bcf\u7ec4\u5404\u8dd1\u4e00\u6b21\uff0c\u7136\u540e\u6dd8\u6c70\u6389\u6bcf\u7ec4\u7684\u540e\u56db\u540d\uff0c\u5982\u4e0b\u56fe\uff08\u9700\u8981\u6bd4\u8d5b8\u573a\uff09"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220626130716212",src:n(10470).Z,width:"663",height:"445"})),(0,l.kt)("p",null,"\u7b2c\u4e8c\u6b65 \u53d6\u6bcf\u7ec4\u7b2c\u4e00\u540d\u8fdb\u884c\u4e00\u6b21\u6bd4\u8d5b\uff0c\u7136\u540e\u6dd8\u6c70\u6700\u540e\u56db\u540d\u6240\u5728\u7ec4\u7684\u6240\u6709\u9a6c\uff0c\u5982\u4e0b\u56fe\uff08\u9700\u8981\u6bd4\u8d5b1\u573a\uff09"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220626130732424",src:n(71769).Z,width:"657",height:"445"})),(0,l.kt)("p",null,"\u8fd9\u4e2a\u65f6\u5019\u603b\u51a0\u519b\u5df2\u7ecf\u8bde\u751f\uff0c\u5b83\u5c31\u662fA1\uff0c\u84dd\u57df\uff08\u5b83\u4e0d\u9700\u8981\u6bd4\u8d5b\u4e86\uff09\u3002"),(0,l.kt)("p",null,"\u800c\u5176\u4ed6\u53ef\u80fd\u8dd1\u5f97\u6700\u5feb\u7684\u4e09\u5339\u9a6c\u53ea\u53ef\u80fd\u662f\u4e0b\u56fe\u4e2d\u7684\u9ec4\u57df\u4e86\uff08A2,A3,A4,B1,B2,B3,C1,C2,D1\uff0c\u51719\u5339\u9a6c\uff09"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20220626130742122",src:n(22097).Z,width:"658",height:"439"})),(0,l.kt)("p",null,"\u7b2c\u4e09\u6b65 \u53ea\u8981\u4ece\u4e0a\u9762\u76849\u5339\u9a6c\u4e2d\u627e\u51fa\u8dd1\u5f97\u6700\u5feb\u7684\u4e09\u5339\u9a6c\u5c31\u53ef\u4ee5\u4e86\uff0c\u4f46\u662f\u73b0\u5728\u53ea\u89818\u4e2a\u8dd1\u9053\uff0c\u600e\u4e48\u529e\uff1f"),(0,l.kt)("p",null,"\u90a3\u5c31\u968f\u673a\u9009\u51fa8\u5339\u9a6c\u8fdb\u884c\u4e00\u6b21\u6bd4\u8d5b\u5427\uff08\u9700\u8981\u6bd4\u8d5b\u4e00\u573a\uff09"),(0,l.kt)("p",null,"\u7b2c\u56db\u6b65 \u4e0a\u9762\u6bd4\u8d5b\u5b8c\uff0c\u9009\u51fa\u4e86\u524d\u4e09\u540d\uff0c\u4f46\u662f9\u5339\u9a6c\u4e2d\u8fd8\u6709\u4e00\u5339\u9a6c\u6ca1\u8dd1\u5462\uff0c\u5b83\u53ef\u80fd\u662f\u4e00\u4e2a\u6f5c\u529b\u80a1\u554a\uff0c\u90a3\u5c31\u548c\u524d\u4e09\u540d\u6bd4\u4e00\u6bd4\u5427\uff0c\u8fd9\u56db\u5339\u9a6c\u6bd4\u4e00\u573a\uff0c\u9009\u51fa\u524d\u4e09\u540d\u3002\u6700\u540e\u52a0\u4e0a\u603b\u51a0\u519b\uff0c\u8dd1\u5f97\u6700\u5feb\u7684\u56db\u5339\u9a6c\u8bde\u751f\u4e86\uff01\uff01\uff01\uff08\u9700\u8981\u4e00\u573a\u6bd4\u8d5b\uff09"),(0,l.kt)("p",null,"\u6700\u540e\uff0c\u4e00\u5171\u9700\u8981\u6bd4\u8d5b\u7684\u573a\u6b21\uff1a8 + 1 + 1 + 1 = 11 \u573a"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"3\u300125\u5339\u9a6c5\u6761\u8dd1\u9053\u627e\u6700\u5feb\u76845\u5339\u9a6c\uff0c\u9700\u8981\u8dd1\u51e0\u6b21\uff1f")),(0,l.kt)("p",null,"(1) \u9996\u5148\u5c0625\u5339\u9a6c\u5206\u62105\u7ec4\uff0c\u5e76\u5206\u522b\u8fdb\u884c5\u573a\u6bd4\u8d5b\u4e4b\u540e\u5f97\u5230\u7684\u540d\u6b21\u6392\u5217\u5982\u4e0b\uff1a"),(0,l.kt)("p",null,"A\u7ec4\uff1a ","[A1 A2 A3  A4 A5]"),(0,l.kt)("p",null,"B\u7ec4\uff1a ","[B1 B2 B3  B4 B5]"),(0,l.kt)("p",null,"C\u7ec4\uff1a ","[C1 C2 C3 C4 C5]"),(0,l.kt)("p",null,"D\u7ec4\uff1a ","[D1 D2 D3 D4 D5]"),(0,l.kt)("p",null,"E\u7ec4\uff1a ","[E1 E2 E3  E4 E5]"),(0,l.kt)("p",null,"\u5176\u4e2d\uff0c\u6bcf\u4e2a\u5c0f\u7ec4\u6700\u5feb\u7684\u9a6c\u4e3a","[A1\u3001B1\u3001C1\u3001D1\u3001E1]","\u3002"),(0,l.kt)("p",null,"(2) \u5c06","[A1\u3001B1\u3001C1\u3001D1\u3001E1]","\u8fdb\u884c\u7b2c6\u573a\uff0c\u9009\u51fa\u7b2c1\u540d\u7684\u9a6c\uff0c\u4e0d\u59a8\u8bbe A1>B1>C1>D1>E1. \u6b64\u65f6\u7b2c1\u540d\u7684\u9a6c\u4e3aA1\u3002"),(0,l.kt)("p",null,"(3) \u5c06","[A2\u3001B1\u3001C1\u3001D1\u3001E1]","\u8fdb\u884c\u7b2c7\u573a\uff0c\u6b64\u65f6\u9009\u62e9\u51fa\u6765\u7684\u5fc5\u5b9a\u662f\u7b2c2\u540d\u7684\u9a6c\uff0c\u4e0d\u59a8\u5047\u8bbe\u4e3aB1\u3002\u56e0\u4e3a\u8fd95\u5339\u9a6c\u662f\u9664\u53bbA1\u4e4b\u5916\u6bcf\u4e2a\u5c0f\u7ec4\u5f53\u524d\u6700\u5feb\u7684\u9a6c\u3002"),(0,l.kt)("p",null,"(3) \u8fdb\u884c\u7b2c8\u573a\uff0c\u9009\u62e9","[A2\u3001B2\u3001C1\u3001D1\u3001E1]","\u89d2\u9010\u51fa\u7b2c3\u540d\u7684\u9a6c\u3002"),(0,l.kt)("p",null,"(4) \u4f9d\u6b21\u7c7b\u63a8\uff0c\u7b2c9\uff0c10\u573a\u53ef\u4ee5\u5206\u522b\u51b3\u51fa\u7b2c4\uff0c5\u540d\u7684\u5417\u3002"),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c\u4f9d\u7167\u8fd9\u79cd\u7ade\u6807\u8d5b\u6392\u5e8f\u601d\u60f3\uff0c\u9700\u898110\u573a\u6bd4\u8d5b\u662f\u4e00\u5b9a\u53ef\u4ee5\u53d6\u51fa\u524d5\u540d\u7684\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4ed4\u7ec6\u60f3\u4e00\u4e0b\uff0c\u5982\u679c\u9700\u8981\u51cf\u5c11\u6bd4\u8d5b\u573a\u6b21\uff0c\u5c31\u4e00\u5b9a\u9700\u8981\u5728\u67d0\u4e00\u6b21\u6bd4\u8d5b\u4e2d\u540c\u65f6\u51b3\u51fa2\u4e2a\u540d\u6b21\uff0c\u800c\u4e14\u6bcf\u4e00\u573a\u6bd4\u8d5b\u4e4b\u540e\uff0c\u6709\u4e00\u4e9b\u4e0d\u53ef\u80fd\u8fdb\u5165\u524d5\u540d\u7684\u9a6c\u53ef\u4ee5\u63d0\u524d\u51fa\u5c40\u3002")),(0,l.kt)("p",null,"\u5f53\u7136\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u5c31\u5fc5\u987b\u5c0f\u5fc3\u9009\u62e9\u6bcf\u4e00\u573a\u6bd4\u8d5b\u7684\u9a6c\u5339\u3002\u6211\u4eec\u5728\u4e0a\u9762\u7684\u65b9\u6cd5\u57fa\u7840\u4e0a\u8fdb\u4e00\u6b65\u601d\u8003\u8fd9\u4e2a\u95ee\u9898\uff0c\u5e0c\u671b\u80fd\u591f\u5f97\u5230\u89e3\u51b3\u3002"),(0,l.kt)("p",null,"(1) \u9996\u5148\u5229\u75285\u573a\u6bd4\u8d5b\u89d2\u9010\u51fa\u6bcf\u4e2a\u5c0f\u7ec4\u7684\u6392\u540d\u6b21\u5e8f\u662f\u7edd\u5bf9\u5fc5\u8981\u7684\u3002"),(0,l.kt)("p",null,"(2) \u7b2c6\u573a\u6bd4\u8d5b\u9009\u51fa\u7b2c1\u540d\u7684\u9a6c\u4e5f\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002\u5047\u5982\u4ecd\u7136\u662fA1\u9a6c(A1>B1>C1>D1>E1)\u3002\u90a3\u4e48\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u91cd\u8981\u7684\u7ed3\u8bba\uff1a\u6709\u4e00\u4e9b\u9a6c\u5728\u524d6\u573a\u6bd4\u8d5b\u4e4b\u540e\u5c31\u51b3\u5b9a\u51fa\u5c40\u7684\u547d\u8fd0\u4e86(\u4e0b\u9762\u7c89\u8272\u5b57\u4f53\u6807\u5fd7\u51fa\u5c40)\u3002"),(0,l.kt)("p",null,"A\u7ec4\uff1a ","[A1 A2 A3  A4 A5]"),(0,l.kt)("p",null,"B\u7ec4\uff1a ","[B1 B2 B3  B4 B5 ]"),(0,l.kt)("p",null,"C\u7ec4\uff1a ","[C1 C2 C3  C4 C5 ]"),(0,l.kt)("p",null,"D\u7ec4\uff1a ","[D1 D2 D3 D4 D5 ]"),(0,l.kt)("p",null,"E\u7ec4\uff1a ","[E1  E2 E3  E4 E5 ]"),(0,l.kt)("p",null,"(3) \u7b2c7\u573a\u6bd4\u8d5b\u662f\u5173\u952e\uff0c\u80fd\u5426\u540c\u65f6\u51b3\u51fa\u7b2c2\uff0c3\u540d\u7684\u9a6c\u5462\uff1f\u6211\u4eec\u9996\u5148\u505a\u4e0b\u5206\u6790\uff1a"),(0,l.kt)("p",null,"\u5728\u4e0a\u9762\u7684\u65b9\u6cd5\u4e2d\uff0c\u7b2c7\u573a\u6bd4\u8d5b","[A2\u3001B1\u3001C1\u3001D1\u3001E1]","\u662f\u4e3a\u4e86\u51b3\u5b9a\u7b2c2\u540d\u7684\u9a6c\u3002\u4f46\u662f\u5728\u7b2c6\u573a\u6bd4\u8d5b\u4e2d\u6211\u4eec\u5df2\u7ecf\u5f97\u5230(B1>C1>D1>E1)\uff0c\u8bd5\u95ee\uff1f\u6709B1\u5728\u7684\u6bd4\u8d5b\uff0cC1\u3001D1\u3001E1\u8fd8\u6709\u53ef\u80fd\u4e89\u593a\u7b2c2\u540d\u5417\uff1f \u5f53\u7136\u4e0d\u53ef\u80fd\uff0c\u4e5f\u5c31\u662f\u8bf4\u7b2c2\u540d\u53ea\u80fd\u5728A2\u3001B1\u4e2d\u51fa\u73b0\u3002\u5b9e\u9645\u4e0a\u53ea\u9700\u89812\u6761\u8dd1\u9053\u5c31\u53ef\u4ee5\u51b3\u51fa\u7b2c2\u540d\uff0c\u5269\u4e0bC1\u3001D1\u3001E1\u76843\u6761\u8dd1\u9053\u90fd\u53ea\u80fd\u7528\u6765\u51d1\u70ed\u95f9\u7684\u5417\uff1f"),(0,l.kt)("p",null,"\u80fd\u591f\u4f18\u5316\u7684\u5173\u952e\u51fa\u6765\u4e86\uff0c\u6211\u4eec\u662f\u5426\u80fd\u591f\u901a\u8fc7\u5269\u4e0b\u76843\u4e2a\u8dd1\u9053\u6765\u51b3\u51fa\u7b2c3\u540d\u5462\uff1f\u5f53\u7136\u53ef\u4ee5\uff0c\u6211\u4eec\u6765\u8fdb\u4e00\u6b65\u5206\u6790\u7b2c3\u540d\u7684\u60c5\u51b5\uff1f"),(0,l.kt)("p",null,"\u25cf \u5982\u679cA2>B1(\u5373\u7b2c2\u540d\u4e3aA2)\uff0c\u90a3\u4e48\u6839\u636e\u7b2c6\u573a\u6bd4\u8d5b\u4e2d\u7684(B1>C1>D1>E1)\u3002 \u53ef\u4ee5\u65ad\u5b9a\u7b2c3\u540d\u53ea\u80fd\u5728A3\u548cB1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u25cf \u5982\u679cB1>A2(\u5373\u7b2c2\u540d\u4e3aB1)\uff0c\u90a3\u4e48\u53ef\u4ee5\u65ad\u5b9a\u7684\u7b2c3\u540d\u53ea\u80fd\u5728A2, B2,C1 \u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u597d\u4e86\uff0c\u7ed3\u8bba\u4e5f\u51fa\u6765\u4e86\uff0c\u53ea\u8981\u6211\u4eec\u628a","[A2\u3001B1\u3001A3\u3001B2\u3001C1]","\u4f5c\u4e3a\u7b2c7\u573a\u6bd4\u8d5b\u7684\u9a6c\uff0c\u90a3\u4e48\u8fd9\u573a\u6bd4\u8d5b\u7684\u7b2c2\uff0c3\u540d\u4e00\u5b9a\u662f\u6574\u4e2a25\u5339\u9a6c\u4e2d\u7684\u7b2c2\uff0c3\u540d\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u5728\u8fd9\u91cc\u5217\u4e3e\u51fa\u7b2c7\u573a\u76842\uff0c3\u540d\u6b21\u7684\u6240\u6709\u53ef\u80fd\u60c5\u51b5\uff1a"),(0,l.kt)("p",null,"\u2460 \u7b2c2\u540d=A2\uff0c\u7b2c3\u540d=A3"),(0,l.kt)("p",null,"\u2461 \u7b2c2\u540d=A2\uff0c\u7b2c3\u540d=B1"),(0,l.kt)("p",null,"\u2462 \u7b2c2\u540d=B1\uff0c\u7b2c3\u540d=A2"),(0,l.kt)("p",null,"\u2463 \u7b2c2\u540d=B1\uff0c\u7b2c3\u540d=B2"),(0,l.kt)("p",null,"\u2464 \u7b2c2\u540d=B1\uff0c\u7b2c3\u540d=C1"),(0,l.kt)("p",null,"(4) \u7b2c8\u573a\u6bd4\u8d5b\u5f88\u590d\u6742\uff0c\u6211\u4eec\u8981\u6839\u636e\u7b2c7\u573a\u7684\u6240\u6709\u53ef\u80fd\u7684\u6bd4\u8d5b\u60c5\u51b5\u8fdb\u884c\u5206\u6790\u3002"),(0,l.kt)("p",null,"\u2460 \u7b2c2\u540d=A2\uff0c\u7b2c3\u540d=A3\u3002\u90a3\u4e48\u6b64\u79cd\u60c5\u51b5\u4e0b\u7b2c4\u540d\u53ea\u80fd\u5728A4\u548cB1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u25cf \u5982\u679c\u7b2c4\u540d=A4\uff0c\u90a3\u4e48\u7b2c5\u540d\u53ea\u80fd\u5728A5\u3001B1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u25cf \u5982\u679c\u7b2c4\u540d=B1\uff0c\u90a3\u4e48\u7b2c5\u540d\u53ea\u80fd\u5728A4\u3001B2\u3001C1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u4e0d\u7ba1\u7ed3\u679c\u5982\u4f55\uff0c\u6b64\u79cd\u60c5\u51b5\u4e0b\uff0c\u7b2c4\u30015\u540d\u90fd\u53ef\u4ee5\u5728\u7b2c8\u573a\u6bd4\u8d5b\u4e2d\u51b3\u51fa\u3002\u5176\u4e2d\u6bd4\u8d5b\u9a6c\u5339\u4e3a","[A4\u3001A5\u3001B1\u3001B2\u3001C1]"),(0,l.kt)("p",null,"\u2461 \u7b2c2\u540d=A2\uff0c\u7b2c3\u540d=B1\u3002\u90a3\u4e48\u6b64\u79cd\u60c5\u51b5\u4e0b\u7b2c4\u540d\u53ea\u80fd\u5728A3\u3001B2\u3001C1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u25cf \u5982\u679c\u7b2c4\u540d=A3\uff0c\u90a3\u4e48\u7b2c5\u540d\u53ea\u80fd\u5728A4\u3001B2\u3001C1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u25cf \u5982\u679c\u7b2c4\u540d=B2\uff0c\u90a3\u4e48\u7b2c5\u540d\u53ea\u80fd\u5728A3\u3001B3\u3001C1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u25cf \u5982\u679c\u7b2c4\u540d=C1\uff0c\u90a3\u4e48\u7b2c5\u540d\u53ea\u80fd\u5728A3\u3001B2\u3001C2\u3001D1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\uff0c\u7b2c4\u30015\u540d\u9700\u8981\u5728\u9a6c\u5339","[A3\u3001B2\u3001B3\u3001C1\u3001A4\u3001C2\u3001D1]","\u4e03\u5339\u9a6c\u4e2d\u4ea7\u751f\uff0c\u5219\u5fc5\u987b\u6bd4\u8d5b\u4e24\u573a\u624d\u884c\uff0c\u4e5f\u5c31\u662f\u5230\u7b2c9\u573a\u89d2\u9010\u51fa\u5168\u90e8\u7684\u524d5\u540d\u3002"),(0,l.kt)("p",null,"\u2462 \u7b2c2\u540d=B1\uff0c\u7b2c3\u540d=A2\u3002\u90a3\u4e48\u6b64\u79cd\u60c5\u51b5\u4e0b\u7b2c4\u540d\u53ea\u80fd\u5728A3\u3001B2\u3001C1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u60c5\u51b5\u548c\u2461\u4e00\u6837\uff0c\u5fc5\u987b\u89d2\u9010\u7b2c9\u573a"),(0,l.kt)("p",null,"\u2463 \u7b2c2\u540d=B1\uff0c\u7b2c3\u540d=B2\u3002 \u90a3\u4e48\u6b64\u79cd\u60c5\u51b5\u4e0b\u7b2c4\u540d\u53ea\u80fd\u5728A2\u3001B3\u3001C1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u25cf \u5982\u679c\u7b2c4\u540d=A2\uff0c\u90a3\u4e48\u7b2c5\u540d\u53ea\u80fd\u5728A3\u3001B3\u3001C1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u25cf \u5982\u679c\u7b2c4\u540d=B3\uff0c\u90a3\u4e48\u7b2c5\u540d\u53ea\u80fd\u5728A2\u3001B4\u3001C1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u25cf \u5982\u679c\u7b2c4\u540d=C1\uff0c\u90a3\u4e48\u7b2c5\u540d\u53ea\u80fd\u5728A2\u3001B3\u3001C2\u3001D1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\uff0c\u7b2c4\u30015\u540d\u9700\u8981\u5728\u9a6c\u5339","[A2\u3001B3\u3001B4\u3001C1\u3001A3\u3001C2\u3001D1]","\u4e03\u5339\u9a6c\u4e2d\u4ea7 \u751f\uff0c\u5219\u5fc5\u987b\u6bd4\u8d5b\u4e24\u573a\u624d\u884c\uff0c\u4e5f\u5c31\u662f\u5230\u7b2c9\u573a\u89d2\u9010\u51fa\u5168\u90e8\u7684\u524d5\u540d\u3002"),(0,l.kt)("p",null,"\u2464 \u7b2c2\u540d=B1\uff0c\u7b2c3\u540d=C1\u3002\u90a3\u4e48\u6b64\u79cd\u60c5\u51b5\u4e0b\u7b2c4\u540d\u53ea\u80fd\u5728A2\u3001B2\u3001C2\u3001D1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u25cf \u5982\u679c\u7b2c4\u540d=A2\uff0c\u90a3\u4e48\u7b2c5\u540d\u53ea\u80fd\u5728A3\u3001B2\u3001C2\u3001D1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u25cf \u5982\u679c\u7b2c4\u540d=B2\uff0c\u90a3\u4e48\u7b2c5\u540d\u53ea\u80fd\u5728A2\u3001B3\u3001C2\u3001D1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u25cf \u5982\u679c\u7b2c4\u540d=C2\uff0c\u90a3\u4e48\u7b2c5\u540d\u53ea\u80fd\u5728A2\u3001B2\u3001C3\u3001D1\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u25cf \u5982\u679c\u7b2c4\u540d=D1\uff0c\u90a3\u4e48\u7b2c5\u540d\u53ea\u80fd\u5728A2\u3001B2\u3001C2\u3001D2\u3001E2\u4e2d\u4ea7\u751f\u3002"),(0,l.kt)("p",null,"\u90a3\u4e48\uff0c\u7b2c4\u30015\u540d\u9700\u8981\u5728\u9a6c\u5339","[A2\u3001B2\u3001C2\u3001D1\u3001A3\u3001B3\u3001C3\u3001D2\u3001E1]","\u4e5d\u5339\u9a6c\u4e2d \u4ea7 \u751f\uff0c\u56e0\u6b64\u4e5f\u5fc5\u987b\u6bd4\u8d5b\u4e24\u573a\uff0c\u4e5f\u5c31\u662f\u5230\u7b2c9\u957f\u51b3\u51fa\u80dc\u8d1f\u3002"),(0,l.kt)("p",null,"\u603b\u7ed3\uff1a\u6700\u597d\u60c5\u51b5\u53ef\u4ee5\u5728\u7b2c8\u573a\u89d2\u9010\u51fa\u524d5\u540d\uff0c\u6700\u5dee\u4e5f\u53ef\u4ee5\u5728\u7b2c9\u573a\u641e\u5b9a\u3002"))}u.isMDXComponent=!0},55059:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/14-2a7e31a82126831160f412595b3527ef.jpg"},66625:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/15-3d74408b457d02371a5b16be8c6e255c.jpg"},31937:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/16-\u77ed\u8fde\u63a5\u4e0e\u957f\u8fde\u63a5-ac79086a1b40ded97f5188f715036ef9.png"},61479:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/16-0c4c346d023b8ef8ce166ba34e67f8a3.jpg"},891:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1617168-20210727195625561-1153589445-0ce273f938f751b45fecbbd726a4adf8.jpg"},10963:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1617168-20210727195627534-1821849951-15ee2e0be0f97d349653f04ace09f833.png"},78794:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1658302145982-88a1d4abb5ea774ba29cc92d0a3ccf20.png"},77693:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/17-298449984d58221ea8f974740c6286d9.jpg"},88353:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/18-165831079251519-33023d9be9fd06cbde77077edca30394.jpg"},27869:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/18-c7e07c30a7f8294dc095be253ce4135c.jpg"},92807:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/19-165831080294922-7d4a953c4735340b02cc7cd6be9f1521.jpg"},55563:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/19-6533cff99364ce92000937dac37c706e.jpg"},83238:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/20-165831081796525-c46cf9be8ba28889e9efe29fbff4e5ba.jpg"},46580:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/20-684b90f4740810a1a84b0de4f051b494.jpg"},84104:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/20210221222746-ba32c489e50d2eb6844863f0418acd0a.png"},19635:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/20220709213529-cb3087624ed040b06d746c881df7985d.png"},51074:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/21-2e97306a0a0c0c66cac209c5b42565a4.jpg"},15125:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/23-HTTPS\u5de5\u4f5c\u6d41\u7a0b-128147512f61f38093b64e29c2fd5e2a.png"},33685:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/23-3823d1175e3169acf9c3b9416bd37943.jpg"},25194:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/24-c537bdfded5f730432e376b6304d7de1.jpg"},74248:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/25-ab10f81e6f25092c991d2df91534882e.jpg"},93066:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/6-\u4e94\u5927\u7c7bHTTP\u72b6\u6001\u7801-7c2d1764152f4a1962ca80dfef3bcd7f.png"},31628:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/960271cf2b5c8a185eed23e98b72c75538637-51e44679cdeea13cf7c6c72da4e6c906.png"},45392:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/JVM\u7b80\u5316\u7248\u67b6\u6784-6b3d43c51ac6e46be94b18745897ec5a.png"},96748:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/a49a6bb8cd38ae1738d9c00aec68b444-8279e3652253707784e62467822e7055.png"},59518:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/baidu\u8bc1\u4e66-f2c84b49b0d8f9603ca86d342ee2e5b8.png"},36179:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/cluster_slots-e3168aebbb8342029d65c4490e5070c5.png"},81152:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220606105514638-2bdd59a82f58d88378f394ce9cad2883.png"},81154:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220606105701838-3c8e89c32c4c91a2fbd66a509fdbc422.png"},63449:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220606105925337-594618500e30f4c2b9059789edfca85d.png"},39140:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220606221411976-bee3f7e7b99a5c4e5a7cd3d710894095.png"},66080:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220606221435298-5ba5fd476d47e786d1cdf0adbbc2f160.png"},22547:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220606222144072-912b75191c6b944050e9825dae1f55c1.png"},13703:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220607152830775-f9af6ca1f4cdbf575626958483b64bae.png"},14373:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220608223419067-0ea8d37265694018bfe52fb6b2114f8a.png"},23004:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220609151233412-3e1c6f2f2f63e63e023255c08e8aeead.png"},47201:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220609154049166-4ba5529852bc7cf8ed44c97ad7f0567d.png"},60274:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220609215207876-d65310c7d587f2907b6ca24c94dfc67d.png"},43462:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220609215218381-7f74cb7a1969614c73e06a135ecea206.png"},14094:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220609215224938-b325d371c559eee3193eba9b0b847470.png"},46366:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220612165223576-b710ce7bb6c8bb85fc34df3427543e6c.png"},83404:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220613104147805-cec8760acef9879d5d7652d762e98de2.png"},7902:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220613143832546-3c9aaccbc339a2f9f96251af41b70ea3.png"},77840:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220613143851071-aaf02df2ac9bf4d326d0dd671907807b.png"},97978:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220613144017540-a161c285374d52faebca4e7cbc0796c9.png"},70033:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220613210057735-98e8959f91629e847adbcdf83cf04939.png"},71848:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220615203937591-98f0a351876be0a755098d81c64e5766.png"},82538:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220615204150338-6d258877399bf83a72af79d1ede2c4ac.png"},37868:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220615204200618-d98590742a42f38832e0d1cbaf9a7eb1.png"},95642:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220615204212255-474072b09a87b1c25fac090ba21ef211.png"},25963:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220615205139466-f2740af44dad3e35749f20785f4a1525.png"},55961:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220615205148242-dcf9c4a48c52aca6b592871a69c1412a.png"},58135:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220616155615352-70a0ed466467a2a2ac53060070deeb98.png"},57467:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220616155623710-17feccbb3f3d609500d6df964f31b541.png"},31443:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220616161400630-d1aa16921617e96e3432398fa596fa41.png"},93395:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220616161439305-f81e78a0c273abeb50e18d38d364841b.png"},14200:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220616161551183-8fb5d2124ae769daeab75166b75179a9.png"},9860:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220616162330096-fb2f6aa3c98d362b464c0a98f5c4c03d.png"},63622:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220616162504520-e2d7112d4ed5083710e168549fa6989b.png"},27359:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220616162704781-6326400aeb8e7c167fa8754a32183437.png"},50257:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220616203658271-bbd1226916865b6c79e0497c62d1fae0.png"},50987:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220616203727609-af12521d40aa5b8641a383054869a577.png"},16251:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220616204045863-5835a927f834f177d41ded362f0ae063.png"},56411:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617111103393-fee9018fcdf2934ed9a8cd5f0dc68a1f.png"},81294:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617141718194-6b1b501e3e33bb199fd459b494287c11.png"},13036:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617141726678-586e0624e8cacc11ba88383fefa82b60.png"},93220:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617141738525-f0ebda93fcab65d9eb7a3c589bef0287.png"},71119:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617141758284-a294e6d5daf06cfb55065db8a9aa9e4e.png"},74201:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617141814110-cd7906fe93878f00581a09ff99bac651.png"},22903:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617141821818-c2918a3f7dee65794b0ea3264970f1f0.png"},30508:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617141843078-3ba8ee56d5fb5d94ea387ec1d19294be.png"},74434:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617141854709-3dbeb65a5f1ab785dcba17209de4bb83.png"},81905:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617141907476-7fd9bb1b7e966f0ab20f5b70a1d2e1f1.png"},84690:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617144013552-d46dce70dfa342aad33871feed119a2f.png"},31700:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617144020576-ee2b6d7cabca5c1accac8f9a238cadc4.png"},33011:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617154744863-12a7fe1be24f348a65dd24ccccba224f.png"},2593:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617163123694-e556eca580ebe0300475d74e8a4b5f10.png"},44915:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617163230641-c718c729de15ade8d94744cd82fed248.png"},71242:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617163247933-8b0ad42d6247aaf97466cdaeab0dd80e.png"},82015:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617164418584-20ab3d17130c5d7340228d084e495c0d.png"},5734:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617164632798-7ee2d084825b19f5e6418db7fc87f9e6.png"},43483:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617165626034-980e51661a65722c4f7b81d25db698ff.png"},18829:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617165706253-fedc019aa85142c42f9ae32c7510537d.png"},83168:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220617165721328-0096a7357643f66a08456a7414160f0f.png"},77985:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220618172157050-104459e7d35bf27736f54bb11cbd2987.png"},30507:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220618172217768-ef7746d1476276b069180e0e694cbdcc.png"},29237:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220618172249142-812043c296bcde38a3bc1cf8798a16a3.png"},95763:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220618172317736-6dc744bd7ecf74e8c6854d501cba54a8.png"},77819:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220619143704353-33943320acb5bbba06a10e8ca8f739fb.png"},69465:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220620170922943-af5d74254abfcdba3be299112637f807.png"},43290:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220620224445896-19859d5fc5bb57fb7548ff65792c20bd.png"},60027:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220620224454145-21d965e3e4d5a02b3c9672c60fa08675.png"},93169:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220620224500833-3292eb2786e0986576bb96b35605f4c4.png"},14978:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220620224531013-40b7c374283429f8338b198d53cf983e.png"},94701:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622144025833-8809dcb3af1d401846d428eb402a7fc6.png"},43627:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622144903957-d80498caea8c765e7b90c189e640c17a.png"},36312:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622145827589-4aacb74bdce70fd967358e4ae93b368b.png"},62998:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622150047014-358672c99a6ca91e34e5bc2e031bbf2f.png"},89259:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622150158817-32e16a6dbc9e38488b66b617f1780114.png"},74212:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622150303164-c73a3fe15745f937d7fc827b3e2adb10.png"},52655:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622150515511-d1eee7b428228f7fa8aaf3ffc8a82072.png"},82494:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622150617743-10721979d995d505be63cbad5ab864e7.png"},14560:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622150715342-51a9c5ed82e5576468fc0e926ddc62ea.png"},59813:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622152317600-6a92474618d9b9c24c3a4125fab66d32.png"},10174:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622152350238-a4ff60bb694a027764bcb2fd724967be.png"},95395:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622152551749-d02b5ddacf0c37a942e4eb62f7d7fd8b.png"},59187:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622153028675-4985e7462522287ed6257fdd1d0ef458.png"},44421:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622153534786-d54d5505fa7b577c084e3f3fac32fc04.png"},36941:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622160349594-9a64a63e92afa9392891a393565b5482.png"},28947:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622160614260-b829be992af6d692091ed5f576131532.png"},57396:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622160757115-fc86714cba961116ec7ee6bc3ff040a2.png"},45097:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622161106757-87754a41330c94849e9146d07653272a.png"},18459:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622162158478-9ccfa82e5b72759ebe07bd2f5253cd91.png"},16868:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622171739797-00f4cea58592c709ce52ee8c59410f35.png"},84059:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622195056508-d0742a64037d4268983cf49237254ac9.png"},19326:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622195100965-5e11b29798136b333ebc666a187b3acf.png"},6754:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622195120635-31b2df7ec335017dcc37f12db620d7f6.png"},8459:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622195206707-53ca98a285ff6153889aee9b842e7c3e.png"},75653:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622195221158-d958aa7b5103034f20253dbb93cc7f3a.png"},96582:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622201746536-8c9f8339ceeb85c5f3ba89d3f224efb7.png"},72661:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622201820014-bd511f6a4b182da7e929f7653a84aada.png"},89118:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622201936640-da7f1c373ee03dea844a3c4d8ea6ed11.png"},78640:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622201957609-202f4986692ae04b2cf46ac2924bcd11.png"},39775:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622202006170-d6a0174ba1b2e621f9983357473f9643.png"},42422:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622202028028-b01c13762592a265628b9022ed61a368.png"},99740:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622202122102-a985be770d34d35464a47f706ce3ff56.png"},94646:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622202150827-9ee3c09f5de0bbe6fcd527a9ef12d6b9.png"},13696:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622211220694-09a7b561d63ba6af12c425ce5772ee2b.png"},81546:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220622215041962-3d867c6420313efb53c4d027773d2910.png"},90037:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220624105619768-1d02c89e8158141bbb710b1ad24c3c3f.png"},6623:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220624110312966-6e00ec218ca5f4ce5dfb4ba479857d82.png"},67236:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220624112700211-85610582f3bed04626be823647e670b4.png"},16752:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220624113325156-5417c8f4b42dbb5a3898ae74af0a205f.png"},37260:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220624223650067-e72122f1fa80323c2ac2dd112a3bf2e7.png"},82059:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220624224020148-81b6b54af07a2a367de4826c5f7ef4f1.png"},27484:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626111741892-3b87d08d0d049a02b47a572f584953ba.png"},87994:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626113011580-ae4c3e8b5b22aeb219616704300205e9.png"},711:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626113018340-90d1b31d93c1663bfef1a95ae67c7f44.png"},39174:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626113216377-9a1691115c218b2984626204ee2ce21c.png"},69790:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626120658184-fddd47f56d4e177eb5e693f5019dd7a8.png"},53805:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626120704721-ef699a23538695e3b8edded2de1e3aa7.png"},77328:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626130705310-3d25d928c510edfe0abb69ffb3ac9938.png"},10470:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626130716212-7163a4ebd4330a04eb8085328a1f9cd4.png"},71769:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626130732424-806e4e201aff2cb951f23a391a4b3259.png"},22097:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626130742122-56cdc901cb5d3977b658ba9208202500.png"},98659:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626134324559-842af37bf5be0dd5670e88edd41397de.png"},37851:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626135043138-df32cfeab9def767aee43556a47a0c93.png"},13720:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626135050496-3ae605946cc556f91b2bcb9166d58ef4.png"},25520:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626201137158-0bc573726c6791ef6df03c7cbc21ba74.png"},8985:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626202716155-3f2036c709357c5d8df188a0cdfcd1c0.png"},50244:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220626202746011-28ce30c4715c6a461501d145eb2387bd.png"},36659:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220627105538790-9b5f9fd47e3e26244aa347e419f0fa84.png"},42810:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220627130052162-21772e9f55b70a5ad10e93f086e7b311.png"},50746:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220627213051378-3c0e03e0e0bcfed7db7a7a764bab9475.png"},54407:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628113523166-f84be19c9ebab97434047a8265e7ad9a.png"},83903:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628113934143-e0939427b29e21173a68aec1ed2c56a8.png"},34470:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628151926533-138b2673a5969f747539f65b4cd3de59.png"},83636:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628152051756-3bb2080b1ad21863bb1a446e2ee018cd.png"},31650:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628152456384-2589ce3cc2cb43c0b8af6be19d5e27ec.png"},40700:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628152505040-950aba192a1cde60c3433b2cb8cd3a49.png"},94160:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628152953093-179f37b0e433897e8d2756f91360c4ed.png"},48456:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628153004557-9f7867f786ade11cbeb89d97116ca70c.png"},3290:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628153028054-82f9e55098d8b040945ae00de56fa01e.png"},40108:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628153037233-82f9e55098d8b040945ae00de56fa01e.png"},22478:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628153046946-5312c75ab1924c7976dd2caeb404da09.png"},69820:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628153107883-2f58e52cb66cebf3c098999323f74858.png"},43186:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628153114059-2f58e52cb66cebf3c098999323f74858.png"},52898:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628153301516-8e33f3bf5e08dd5b3c84828e63dc7e64.png"},83955:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628153316648-621874e50a97f6451ffca2b051944d9e.png"},12728:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628153332879-eb3d2af4e0561367f3351dce08275a58.png"},79124:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628153345486-4aa05e376edf859b06ab2c5377301d1a.png"},34869:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628160331611-4767488b01aa5441b1dcfefd1fc18010.png"},83052:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628160442776-620ba2ce61f4c47dad07bcdc6714dc60.png"},53939:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628160739969-65e51b5a5dfb2aaabc8cecbef19da691.png"},71345:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628161228908-cbf75d4ef4eb527bc8929a774985b3fd.png"},72261:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628162509521-061486f4c9163559a94c3e735c2defd8.png"},7535:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628164028744-93d070ad4154078df03a151536c7d1ad.png"},55433:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628171430898-bb5bc152063e26724ad762b0de71e8c4.png"},12490:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628171657570-5d57a9d9cc3aad780e7e90f744011e8c.png"},46393:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628172850425-14a6c7c144de759775df21f53844a115.png"},73109:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628203702554-f256c15677e3c74ddccd53b0d2303752.png"},42666:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628221701308-e5074ac0a97f66b96def683a6aa26356.png"},84014:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628221710263-1896b952b9f0a38eea9228159a148905.png"},87537:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628221721484-abd804d3964d3d44cdb40a289dcb0fc6.png"},4326:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628221734114-9c62d34198beb2919e2585a736084b5f.png"},95371:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220628221741472-be74f218247a8159e7121d7d6a5f93ac.png"},78899:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220629095233918-4a3e2138ba96ee40e4eaec5e819ac219.png"},37668:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220629095251304-8068a962c95ae7417108288f081307a3.png"},37005:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220629095353992-19fda9ce605a524d420dc12a968ce444.png"},32025:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220629110459744-1437929088545bb7b7c47489d4a21020.png"},68884:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220702132804386-0bd9b44ea2e3ba2ee9911580799dd138.png"},52847:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220702132824828-fdd1c2ffc987b3900f4682a5f2d4813c.png"},2020:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220702133239391-8a10d0034ee9d269964c103f4d42505a.png"},95697:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220702133308560-5678baca7f8b484b5d7b4d490aa368dc.png"},49379:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220702133318801-3ba91ac3766256c2478f8b290aafe5cc.png"},67908:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220702133411785-0a66cf675ed19f665a9c05160051852d.png"},38391:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706212928940-dfec68e04ab4ae57582c27c35bed7dcf.png"},23760:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706212937926-514e24d2d0f1190eb0c26401dd7d5cd2.png"},48769:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213001613-277d2f19f599d5e4c0a30077cd9e7c44.png"},5375:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213009977-bff2c854cf1a4b51217b544d8b73e94a.png"},62969:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213032809-31883e88b6054583de7060fc480d887b.png"},57366:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213045311-d52cda060c30f006bc368883ed118fd9.png"},82337:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213100010-fb8fecd860f4d66ea5b30b60361cca65.png"},2518:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213128010-6c7918ee81ffe822900412f094d5f344.png"},14082:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213147439-0729eddb775b171b0b9a74d559b55639.png"},87823:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213155597-6b94184d47574e579e6ad268ff313928.png"},30912:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213326407-1c2e27001081338d55b08514a23d65a3.png"},23618:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213333425-6838d4cec8ac8f818df44f05c78e81f5.png"},50122:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213409674-83cd9da7af7ca7ca017aa7e85a12b139.png"},43255:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213418556-5fefc3f4c04a0c6fca0dc2c902b63e0d.png"},38160:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213426711-789313ac7afb4bb4dd1429439537fb77.png"},79084:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213448142-273e5427022959ecbb27fe9ee58e3430.png"},18462:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213523943-2874e54496036cc16c61eb55e70674cf.png"},86871:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213531140-ac3c50f2152f512ecafe8377b8c61940.png"},56279:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213538608-9aea2270ea9e4a8f9383a5229b172ae1.png"},14458:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213548852-804180b3bf208ec92aa6e3cfc49cd92c.png"},556:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213556183-f33eb269b6a426a109eed8b91af0bc36.png"},28096:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213728255-aa8926d8aa73fe076190c966a40f8622.png"},1577:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706213736248-b76f03170ae929baea8b6e1de584f401.png"},55556:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706220605710-b60d74d4d5b47439d7c0f376e036924c.png"},35678:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706222414240-5b0ea0e3fd5a0f21617477a1fb958228.png"},85529:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706222426455-6619768df8ec472d228ad0b6e155e299.png"},13933:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706223058381-a962067208a59b0b34af10d96718d674.png"},14551:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706223114814-7f6d767353a1645ba840b2d2ab441067.png"},17884:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706230119388-986cd1ee7a59beea9ee9c98b854d80fe.png"},98666:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220706231641283-a6d8958f4a1ca3997760cd61bf0086d7.png"},91269:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220709155254210-70d35a0461d0adf55bd0bf46561f97cf.png"},11056:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220709155341400-45f9877aba0d0f80481f0649056d9ba1.png"},2767:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220709164349575-a9c982f4530755ea5d7fb20a7bbd2642.png"},23651:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220709164418917-82f05c75899a5a880dfb7b4506d49471.png"},25389:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220709164452895-78dd9948296d63659b86d7578b4e46bb.png"},55175:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220709164528516-1c8b41f591441c8f01a8cc0663739da2.png"},78765:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220709164742280-39b8f60732e1e47220b10457fcf30046.png"},81203:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220709164811068-706e8d957bdb72d49e51fc0bdbaba63b.png"},494:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220709164830756-96512536a35cb005544b89ca428222ae.png"},17593:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220710203331089-131538b6821971ed0360e7c15d58d531.png"},10278:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220710203524080-6836f663181414ff3a991ff99f90b5fe.png"},96320:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220710203611913-a67ea8ac4d0f05c9a7f38027c79d5d53.png"},55991:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220711133221313-797ee10ef4cfac7f4f8007b4e5163c14.png"},49535:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220711135916289-b58526e0eae22c7483f2169fc5285ac8.png"},26198:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220711140002491-fce46df37eeb850f4cc8f7bebc49ba79.png"},88221:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220711215228405-bd2e351c2cef99d795091a35e0d63aec.png"},60270:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220711215325716-e32e01cdfe836d7bf5b3d3e864b58528.png"},76892:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220711215339796-29057f1e2aec53a232979cc943c2081c.png"},36404:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220711215345905-77c37bd9b35e92fccfa515b2305cec0d.png"},80947:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220711215410118-a077acf04fceef0d45802dd4fd3d9f7a.png"},12698:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220712154456833-41e03a89d3eb8b98ea6885601c7db4c6.png"},58250:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220712154548420-6582b2f65c1064d549808c4ca1eb27de.png"},73584:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220712154624540-5afdb5796ecb41fbeb6ff71dd6eb2314.png"},70142:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220712154658288-6db61cf535c0f30018dbed7f623b729f.png"},32088:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220712154711271-b2a78937e9a981f4120b2af7a82eb278.png"},48924:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220712155601299-cec37dcd550d78816cbc3c013cf608d4.png"},8058:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220712235743200-291995a4f3d7c0731f682cb3dd6f87c0.png"},16646:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220713000139006-09d13e130fb7cbadf230fc8a0181a52e.png"},4879:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714211622755-2003ce5eb5e3353c406edd3b87f8586a.png"},12082:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714211925160-d96ee70385d5519964c4080c37e67a98.png"},41856:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714211943265-d7918da5d53f3a7356ef51dc1b4e4ea4.png"},28976:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714212317883-c064992cdbb66881c69a03b131f8d529.png"},13877:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714212532910-429b31f17901fdaec479c599e087780f.png"},93270:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714213332696-7f2f40b2a88f4cd8ead76de99295c4ef.png"},30468:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714220149168-b4849e0b5910bda7f309843dc4cb2fd1.png"},86190:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714220158025-0a3de9808740d94cb9efbb0133e2b1d4.png"},16586:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714220220342-0180938e8c880c497229bce28e54fe12.png"},77261:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714220259046-10b8c287ed8ed6fef7c175e17a8b607a.png"},78486:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714220315731-f395879e2c393d7a80490487e89d7c44.png"},60594:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714220333043-33cb0fa75a4dad831e01309fe9ad49bf.png"},86581:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714220340040-5694cc572c10d03735139911047e60a4.png"},58535:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714220348740-d1139c3d4533fd1dc94ae2dbebfdd5c8.png"},90656:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWkAAAB5CAIAAAB0uEc2AAATdklEQVR4nO3beVxN6R8H8M+9LZIy7aXSoigiKm2WYmhmxIylmYwsYxnbCD+UrcFYBzEk+zKWKMpWFGUplUhkSevVqsW1t1Dd6t7fH8c0/cKteYb85vf7vl/+qPuc55zvc87j45znXDzPTTEghJC/SBbAbI8+n7oMQsg/iV9gPP9T10AI+Uei7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOwghLCg7CCEsKDsIISwoOz40+ngw96eE708J+RlC5rfa/umNclJ1z5eVY1kZaR5eU7w813xztbysrIWq6Q59ZCPqqqqcv2KxV6eE1Yv8Wr5o1N2/On3XX6nQw6FhgQ8e/akmV2eP3u6ae3Sg3v8P2phDZUUF4SGBFyIOPV204OsDOuOaqdDjrRYMdLrIR/bE+GjPdvWh4YEnDh6sOWPLtvyh/yvFRIR98ui2ceP7GvWxoH7b99KNDU1A5CX82CX/3pBRtqchcv12ht+1CKtbByDI64qKbV9u6m4KB9AQX7ORy2g+fWQj629oXFSxuP+tp0+ydFbOjteVZRv2bAqIjTk8aNCFVVNS6ueNnaO02Yv5FrTU+76rl6cnHRNRk7Oytp+xjwfKxv7+r6pKXc2rFx0JzmpsvJVJ/OuxiYdnQd8NWLkOAASieTALr+oiNC7txOtbHt9NXj42EkzAFRXV3l7TnhYkKunb/gwPzcj7a6uvuFP/1r0nccEbp8vXzz/ddn82OjIspcvetg61IpEzRxI0rX4U8Fvwj4tJTktJRngjZs0Q3p2HAvYGxy0X1xXZ93TccnqTQBCAvcfPbxXXFfXsZPF8nVbvDwnFBcVAFj4y/rjRw6cP3Oia3freT+v6mnXWywWz585MftBBrer4+HxMrJ/Xj4/3xWngg8DCNi3LfpCOAA5ObmFv/ha93QAUFZaunndsovnzzx5XNLF0mqYm8eYiT/xeLwmhynlekmvJ2DftpPBAY32tsp3h4WlFVs9ryrKvWdNLCl6qNCqdYdO5lHhp15XVFha2XovWWNt68htI2X+7Nv+W3hYiEQi+WbEKB6Pt2/HZrG47ofJnlM8vZs8CVkZab4rF91MvPr6VbmJWWdtbd2Z3ku5EyuRSI4HHTi0d5sgM1W/vWEvpwFzFq5QVVPnOpaVlm5c4xNzOfJRYb6apk5vpwF8Hn+9/5t/nK7FRwcd2BUbHaWlo9tvwKApM701NLUAHNzjH3YyiM/n67c3vnguTE6h1aCv3XyW+yq2UeI63r6V6Lti0d3kG4pKSl8OGSGqEbWSb9XkKD44nuemmNkefVrseIvnTQs5vLfhJ1o6elfv5gOIjYmaNNK10faHTlxw7NMfwI3rcaOH9m/Uam3b69jZWAA/e/907NDuhk0/TJ7186rfnj194mDR7u0yLlzLMOpgWlFe7tLb4qmwuFHr0TOxNna9mhzL7VuJY4YNEImqAAweNnLJ6s3qGprSu0wb73bpXCgAxTbKl29k1dSI1i1fePZUEAB5eYXI+Pv97Uzf7mVgZHIpMbPy9aseJqpisZj7ML2wUlZOrn4bF8fOeTmNl2l+Wes/esL00tKXg517CEsKGzZ5jJ+2fN3WJsco5XpJr+fXZfN/3/lbo70dPn3Z3tGJrZ7Cgrz+tu84OQB2HwnrP9BV+vxxc+1971bi233PXL5tbtFNynHFYvHn9uZFBf9xNzfFc4H3ktUAfLymBwfsadikodXucmJGa8U2lZWvv+pjWVyY12iH11NL1DU0r1w+/+OorwFJ/efGpubBZ2NVVNXGuLkkxkc36jVv8Soust85TOW2qsmC5j5ofxB+gfEtvd5xIeI0gA3bDmUUV4dfuddOz1BXvz0AiUTiNX08gInT5l5PLUlMe/TjT94AFs2ZKpFIAPjMmQLgW4+JkVdTb6QLvXxWAxBLxAAuRp49dmi3qprWev/99/LKjp6JVVHTOLhnS2xMlLqGZtCZKwAA3qadR9IKXy9cth5A5NkTAPw3rHwqLLawtDkSGn35huDb0ZP+0ljycx6IRFUyMrIArsZeUlBQaLLLtr3HDIxMAFxKzBzS37pvD8MfZ8wz69INQOilm/qGRtdTS4Z+O4bb2HmAa3TSg827Ar1+XgOgtWKbxLRHUQlppuYWb+859GLSqg07AYye8FNUQlpUQlrcnfzRE6YD2LphlbCk0LyLZURsyv2Cil2HQ/l8mcADO9NT7jZZ8PuuV5P1tFFWBrAz4PSBkEjuhuLrER52Dn2Z69E3MLp2v1i5rSoASxv7K8m5yYLns+b/AmDejPG1tbXS58+Rkxc37XyzEqSqpnXweNTZ6DtzF6006WQm/QxkpacWFeTo6huFXbyVUVy9cXsAAB1dXQDJN68HB+zh8/k7Dpy8X1BxLu5+565WTx+X7NiyHsCebRuLC/PMunTbG3Q2Jb884ORFOXl5AGKxuKZGNHXMMEAyfY5P3J38hHuFzgNccx9krF2+AMD+o+HqGjoARowcfyf7xfn4+zweL/RkENd3wcxJ3FWOuZVz8HgUN3k+iZZ+ZnH7fvy+7Ru8ZoxbMHtSdyvbod+NnjbTG4AgM/3F88cAEmIvJsRdBgCJGEBRQU5xYUEbJeW8HIGCQpsV67fKyckDmDprwa2k672dPgdwNeYCgNkLlg53HwvAxq6Xt89qn3lTE65cdur3hbLSZwDcRo0fMnwkAOeBrmuXz88WZAG4Eh0JYMW6rZbWtgBWrd92PuxERfnLZo4l7EQggIMnog7t2RoVfvLWzWtO/b6Q3kVGVtah7+cFedmBB3c9fVwC4FzocUFmmnJbVdNO5gDUNTRV1TQA/DB51uIVG/h8vr6BUX13FVU1FVW1+nvXhhTbKLXTbw9ATUPT2OQ/HoAvRoYBeCwUzp0+9s1HPACIj73QuVt36QW/73o1Wc+osZN19dpbdu/57ZC+Eomkv8sQX//fuRBhrkdDU0tevhUA3y2/6+q1BzBz3s/X4qKTrl25cvm8lPmj195QQaG1noERAFNzi4DjF7inA7MuXaUPH0CnzhZaOnrFhXnfDLRRU9fubmPn639gmPsYAHHRUQDA4/n5ruDeND1+VAIgOip87sLl1+OiASxYtr5vPxcADr37LVm1OSr8lKaWdlJifF1dbU/7vnMXLueO4rt1v11n7SuXzgOQk5NvpdhaRlZu3Za9AEw6mhsYmeQIMgAU5OU8fVyiodVu6ZrNfD5fT9/AZ+Vv49xcmhzFx9DS2TFjzmI5efnYS+fT799OTkpITkq4m5x4KCSyRlTNbZCRdq9Rl+Lihyoq6gAsbWy54ODsDniztv8wPxdAN0ub+iaDDqYAigvz6z/h8d9xhyUsLuLxePXzVUZW1qqnfVx0ZDPH4rNyY1HRbHtHp67drL4cPNyxd7/m9LK16x0csMff982k2eW/FoBdb6dGm7kOc+e/q2YGNSIRgOfPhM+fCRt+Xlz4sMm+77teTXbU1Nb5wnW4+9dOxQW5tg5O/vuO1q+G/J16OLW1dfU/v3z5DEDpixfcr++cPw0Xofo4uXDB0Ux8Pv/3oPDdW32TrseXFOVHR52JjjojElW7j5kkqqoGIK6ry0i907BLYUEeAOGjIgCWPXrWfz7qhymjfpgCoKggH4CllW19U9vPVNootX36uKSurk5GRgYAn/+O1Z8nTx4BsLXvXT83eljbNX8sH1aLPrM8e/rEoZu+Tjvd0Is30ouqwq/c09DWvRZ7KT8326STObfN9v0nLiVmcX+iEtJCIhK6W9kadzDl8Xg3rsYUFRbU7y0jNeX3HZsAOPRxBrBt869VVZUAKl+/2rV5LYCe9r2l12PWuatEIjlz8ij3a0lxYXxMVPOHY9LRnLvRaKOk/I3bqIa5JoX1HyspPB6/6x8Ty9auiVKb7/WrV9wPVVWV1+KjX1WUd+lmBeC7MT/Wn9hLiVnHzsbN8l4qfVdSrleTZVRWvp7w/aDszNQu3az3Boa9eP5sgvugB1kZAJjrqTd3+ugLEaEZqSnLFngK0u+bmFl8OXgY1/TO+dPM3b7T6ZAjIwb1mj1/WWxy9r28Mr/dQQAO7PXHH7ctGtq65+Lu1x807FLyifNXAVh0swJwqsGCcVlp6Z5tG0qKC20d+wI4fGB70cN8ABKJJOjgrlcVZT16OnDB8T4mpuYAIiNOPXv6ZnXj5LFDf2d0f4vnphiBsLZl/gSGxXAHtbbtNdz9B3OLHgBkZGQTUooEwtpJP3kB4PP5Pe37uo+d3KOnAxeu5+PvC4S17mMnA5CTl3cd6u4+drKj0wBuV9FJD64k57ZVVeda+w0cLCMrB0BdQ+fq3YeRV1NNzCwAyMsrLF6xMSW/3NbBift1+/4T2/ef4HZiYmZRv0MAOroGe4POfrzzoKSsAuDLIW7cRARw7GycQFi7+0iYWZdu8gqKANTUtQ2MTIxNzfcEnuF6Lft1i7GpuYGRCXda9A07GBiZfD3Co363iWmP+Hy+nLy8y+DhVraO3JPA3EUrQyISuKMYm5i5jZrQ/4uvuQLmLFzxd66X9Hq+9ZjI9VVSVjEwMlFV0wKwdI2fQFjLXI9AWMstBDRyOuqG9PmTlPHY1tFZQ6sdAHkFBQMjEwMjk/FT/tWcizVm4gwAfL6My+DhrkPdNbR1AfTp94VAWHu/oELfsAM3xoGuw4Z+O8bQ2BRAh46dBcLa/cHnufIc+n4+ctwUl8HDuWHOX7pWIKwdMGgo12rr4NRO781t0Za9xwTC2i+HuHHXznmAa2aJyMtnNY/HB+AxfppAWDt42EgAAK9Pvy+MOnSsPwmWNvY3M5+02N9lz00xLfrMYtyhk4Kiklhcy939AlBT1169cYemljaAuYuWy8rI7vJfezMx7mZiHAAej+8yeLi2jh6AX371q6utPRG0PyI0mNtbG6W2s+cv45YDwi7cmDn5+5TbSTEXwwFY2/by2xOkpdPu0e2iXEEGAJGoKi9HUCOqSU+9B6Cmprqk+OG4Hz2Xr9u2asmc7MzU7MxUAErKKhXlL4UlhSXNvn9mYN/H+dK50OEjx/ZxHiivoCCqqubeXAqLizLTUrhtuFt6Ho//qOjN+4icB1m5f7wQBVCYnwNAUbFN/Sdq6hrzfFZvXrfsQjj3NMfr7zLkGzcPvfaGOw6cXDx3Wm52Zm52JrexWZduDn0av7dqRPr1kl4P9+QPoKL8Zf0SUl1dHYAeNnZs9XBkZOXmLloRc+FcedlLM4vuk6bN6dzVElLnT2npi7u3Erk3YqKqqoK8bADZgvTmHK67le0xefnampo/zipsHZ1XbdwJoFUrhYPB5xfPm5oYH30x4jTXqqSs8p3HeAB9nAdu3B5wcK//9bjL17klGMB1qPuocVMBbNt7bPni2cGH9yVdjwWgoa27ct3WgYO+kUgkmWn3uPcvGWn3qqsqszLSJBIxAEFmOoCVvjvk5FqdDjnE3SMrKCpVva4AkJOVWVFe9pmKanMG9UG09DtaAGKxODc768WLZxoa2u0NjBp+KQBAdXVVXvaDysrX7XT1NbS0G93ClZWWFhXkvaqs0FDX0jcwavhSEEBFeXmOIMPUrPM7V+/ep6ZGlJ+bU1FeZmzSsSVP/UciElWn3LmlqqZuaGTS8NyKxeLiwgLho2J1DS0dXT0FhdbN3KH068WMrR4HC32RqFrK+0jp84fZq4ryvNxskahaX99QU7vxvc/LF89zcwSKrdvo6Oq9PYVKX77ISE9R+UxNV99Aue1/fImurq4uK+2+irp6O139v1RPeVlZbnZWq1YKHTp2aubD8oflFxj/CbKDEAYSiSQiNMR75nhxnXjBsnWdu/Vw6OX8qYv6/+UXGE/fSSf/DHk5gn9N9eB+XrN0noa27rV7BdK7kI+KsuP/160bCeNHunJPy+80ddYiL5+V/z31uA51/3LwcO7nLl17/P0j1tXWDhlg8yAj9X0bGBqbRl5N/VAPPv9jKDv+f6moqnUy71JdVfnOVllZeUPjDv9V9fTp5+I69LsPeES+jEzHjp1l3vM9Gh54Zl0sP9S3bP730HoHIeQv+wT/n4UQ8r+BsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwoKygxDCgrKDEMKCsoMQwkIWgF9g/KcugxDyD/NvOMm6v8pMvv0AAAAASUVORK5CYII="},66692:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714220520655-9d0a19807bf261134488e5c05a1fb52d.png"},90542:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714220539777-64805c3fe0a67b3f11d940903a89d876.png"},61432:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714220557761-98b62516b548446219b8f0e80dc16389.png"},99725:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714220606567-4675dcad54ac39b90249f17cb92784b2.png"},87630:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714220628098-53da52a5dda96934b1ebf378ff1b2f5a.png"},88018:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714222351206-f112794a4d13bab66494ab4e15c616a9.png"},73968:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714222643304-21d68489b7bb5042251ef93772c8737b.png"},91119:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220714222836699-86ed176a38828ba1321ea58dbf507676.png"},83055:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfcAAAEACAYAAACu4j+GAAAes0lEQVR4nO3deXxTdb7/8XdCC0MBNyqoLFKEOyhDWhEZELEFHBFZLA4gWkEWr8tDfi4DXFlkk7LIpoMIo1bEuQ4j1BGFIoLi9IogCghlEcpSEGQTSrG0haZJvr8/OjkSoIsIJDm8no8Hj0fOlvNJ8invc77npJUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhLjmAXEEKccXFx/Xw+Xy+Hw3GLMSY62AVdThwOx1FjzPdOp/N/N2zYMFuSL9g1/Ur0TxCFef/QO0EU5r1TIsK9mDM2NvZjY0ynYBcCyeFwLMrIyEhU+PyQ0T8hJMz6h94JIWHWO6Ui3CXFxcU95vP53vr973+vYcOGqWHDhqpSpUqwy7qs5Ofna8eOHRo/frwyMzMl6bGNGze+Hey6yoP+Cb5w7R96J/jCtXfK4gx2AaHA5/P1kqRhw4YpLi6OH64gqFKliuLi4jR06FD/rF7BrOfXoH+CL1z7h94JvnDtnbIQ7pIcDsctktSwYcNgl3LZ838GDoejcZBLKTf6J3SEW//QO6Ej3HqnLIS7JP8NLBw1B1/VqlUl/fKZhAP6J3SEW//QO6Ej3HqnLIQ7AAA2Q7gDAGAzhDsAADZDuAMAYDOEOwAANkO4AwBgM4Q7AAA2Q7gDAGAzhDsAADZDuAMAYDOEOwAANkO4AwBgM4Q7AAA2Q7gDAGAzhDsAADZDuAMAYDOEOwAANkO4AwBgM4Q7AAA2Q7gDAGAzhDsAADZDuAMAYDOEOwAANkO4AwBgM4Q7AAA2Q7gDAGAzhLuN7du3T4mJiXK73cEuBWGI/sH5oneCj3C3sZ9//lm7d+8OdhkIU/QPzhe9E3yEe5Bs3rxZsbGxSlucprvvvlt/+tOftGbNGs3951zFx8erXbt2WrFihbX+mjVr9PDDD6tZs2bq1KmTVq9ebS2bP3+e7r77bjVv3lxTp0615iclJUmSbr/9dsXGxlrz3W63Jk+erPj4eLVs2VLDhw9XXl5eQF2L0hYpISEh4PkQOugfnC965/JAuAfZzh07tXDhQrVq1UpDhgzRD3t+0JIlS9SuXTtNmTLFWi8/P18jRozQqlWr1LZtW40bN06StH//fo0bN14TJkxQenq6OnToYG3zj3/8Q1LxD2dGRoY1f9y4cdq6datSU1O15NMlOnbsmKZNmxZQ1zerv9HixYv1xBNPXMyXj9+I/sH5onfsjXAPsgcffFBRUVG67777dPToUfXp00dRUVFq37699uzZI6/XK0lKSEhQTEyMsrKyVLVqVe3du1cej0eRkZFyOp06dPiQoqKidMstt5S6v+PHj2vhwoUaOnSoatSooauuvEq9evXS0mVLA9br3bu3qlSpoqpVq160147fjv7B+aJ37C0i2AVc7q688kpJUlRUlCSpevXqkqRKlSpJkrxerypUqKAZM2ZowYIFuvXWW61lPp9PNWrU0IQJEzRt2jT9/d2/a/jw4YqLiytxf4cOHZLP51O3bt3OWlZUVGQ9rlWr1oV5gbio6B+cL3rH3gj3MLB//3699dZb+uijjxQTE6PVq1crLS3NWn7vvfeqXbt2eu211zRw4EAtX768xOe65pprJEnLli1TzZo1S1zP4XBcuBeAoKJ/cL7onfDFsHwY8Hg8kqSDBw8qNzdXc+fOtZYdOnRIGRkZcjgcqlO3jtxut4wxkqQrrrhCkpSRkaHc3FxJUo0aNdS8eXNNmTJFP/30k7xer3bs2KE1a9Zc4leFS4X+wfmid8IX4R4GbrzxRvXq1UvPP/+8evXqpTvvbGUt83q9Gj16tFq0aKG5/5irCRMmWEe+devW1YMPPqinn35aXbt2tbaZNGmSnE6nEhMT1aJFC40aNcr6oYT90D84X/RO+GL8Q5LL5TKSAu7qRPD4vzqzcePGsOhP+ie0hFP/0DuhJZx6pyycuQMAYDOEOwAANkO4AwBgM4Q7AAA2Q7gDAGAzhDsAADZDuAMAYDOEOwAANkO4AwBgM4Q7AAA2Q7gDAGAzhDsAADZDuAMAYDOEOwAANkO4AwBgM4Q7AAA2Q7gDAGAzhDsAADZDuAMAYDOEOwAANkO4AwBgM4Q7AAA2Q7gDAGAzhDsAADZDuAMAYDOEuySHw3FUkvLz84NdymUvLy9P0i+fSTigf0JHuPUPvRM6wq13ykK4SzLGfC9JO3bsCHYplz3/Z2CM2RLkUsqN/gkd4dY/9E7oCLfeKUuFYBcQCq6//voIY0yXrVu3qkGDBqpWrZoqVqwY7LIuK3l5edqyZYsmTJig7OxsSUo+fPjw+mDXVR70T/CFa//QO8EXrr1TFkewCwgRztjY2I+NMZ2CXQgkh8OxKCMj435JJti1lBP9E0LCrH/onRASZr1TKs7ci5nDhw/Pq1mz5j5JVzocjqqSooJd1OXkP9e51khK3rhx4xCF1w8X/RNkYdw/9E6QhXHv4HLhcrmMy+WiMXFe6B+cL3on9HBDHQAANkO4AwBgM4Q7AAA2Q7gDAGAzhDsAADZDuAMAYDOEOwAANkO4AwBgM4Q7AAA2Q7gDAGAzhDsAADZDuAMAYDOEOwAANkO4AwBgM4Q7AAA2Q7gDAGAzhDsAADZDuAMAYDOEOwAANkO4AwBgM4Q7AAA2Q7gDAGAzhDsAADZDuAMAYDOEOwAANkO4AwBgM4Q7AAA2Q7gDAGAzEcEuABdeXFzc6GDXgNIZY9ZmZGSkBbuOUNSkSZO7K1SocGew60D5+Xy+YJeAMxDuNuJwODzGmAifzzcq2LWgXBzBLiAUOZ3OJT6fj/+bwk9esAvAL/gBshGfz9eBM57Qx8FX6YwxEZLkdDrHBLsWlJ8xZm2wa8AvCHcb2bRp0+eSPg92HSidy+Ui3Mthw4YNXF4CzhM31AEAYDOEOwAANkO4AwBgM4Q7AAA2Q7gDAGAzhDsAADZDuAMAYDOEOwAANkO4AwBgM4Q7AAA2Q7gDAGAzhDsAADbDn5wELiKXy1Xb4XC8ePo8Y8wTkuRwON44Y37yxo0bf7yc6gqVOgC7IdyBi6h79+4Vtm3btt/hcNQsbT1jzOFGjRrVSk1N9V5OdYVKHYDdVAh2AYCdff/996ZWrVo3GWOalbaew+H433//+99pl1tdoVIHYDdccwcuMo/H869yrFaedS6oUKkrVOoA7IRwBy6yihUr/p8x5lgpq2Rfc801/3fJCvqPUKkrVOoA7IRwBy6ydevWFTmdzo9LWu5wOD5OT0/3XMqapNCpK1TqAOyEcAcugYiIiBKHlSMjI4M25BwqdYVKHYBdEO7AJfDzzz9/7nA4cs+c73A4co8fP748GDVJoVNXqNQB2AXhDlwCO3fuLDTGnOtu70U7d+4svOQF/Ueo1BUqdQB2QbgDl4jD4TjX8HLQh5xDpa5QqQOwA8IduEQiIiI+dTgcBf5ph8NREBERsTSYNUmhU1eo1AHYAeEOXCLr1q0rkLTEP+10Oj/5z7ygCpW6QqUOwA4Id+ASMsZYw8xerzdkhpxDpa5QqQMId4Q7cAlVrlx5sf9xtWrVFpe27qUUKnWFSh0AAPwqsbGxi2JjYxcGu44zhUpdoVIHEM4igl0AcLn5z13hJth1nClU6gqVOoBwFtZ/8tXlcn0jqXmw6wAA4HTGmPRNmza1Cdb+w/2aO8EOAAg5DocjIZj7t8WwfEZGRrBLAABAkhQbGxvsEsL+zB0AAJyBcAcAwGYIdwAAbIZwBwDAZgh3AABshnAHAMBmCHcAAGyGcAcAwGYIdwAAbIZwBwDAZgh3AABshnAHAMBmCHcAF9ypU6eCXYKOHDkSMJ2dnS2fzydJys/PP+c2GzduPGteYWGhcnNzL3yBwEVEuAOXkNvt1rJly2SMkSTNT52vvLy8cm9/7Nix8/qLUx6PR2+//ba8Xq927dr1q7c/008//aQDBw5Iklq3bi1JysrKUnZ2tgoKCtS6dWu53e5zbrty5crz2t+9996rgoICa94PP/ygfv36nXP9jIwMPfHEE9a0MUb9+vVTenq6NmzYoL59+8rj8Zy13WOPPXbWvJSUFL300ktl1ujz+X71QcCOHTu0Z8+ecq27YcMG7d2796x+mTx58q/aJy4PtviTr7C/zZs3KykpSV9//bWioqKCXc55Gz9+vAoLC3XPPfdIkoqKirRixQp16NDhou97+vTp6tGjh5KTk1WnTh0NHz5clSpVspa3bNmyzOeoW7eu5s2bp6+++kpLly7VG2+8Iak4PJOTkzVgwAB5PB7Vq1dPFStWPOdzDBkyRCtWrFDXrl3l8/nkdJ59jpGTk6P09HRretGiRWratGnAZ5+enl7igc68efPUp8+j1vSqVatUvXp1tW3bVpLkcrm0adMm3XrrrWW+5qSkJPXq1UvZ2dmqXr26NX/79u1as3aN9u3dp507d2rHjh3q0KGDhgwZUuZz+r399ttqfVdr1atXr8x1ly1bpj/+8Y969tlnNW/ePOv9Xbx4sQYPHixJWr16taKiouRyucpdA+yJcAcuAZ/PpylTpigtLU0NGjRQz549JUk7d+5UgwYN9O677wasP2vWLF199dUXbP8RERGqUKGCJOmNN97Q5MmTdeTIEdWuXdta5+uvvy738yUmJuqLL77QoUOHJElbt25V/fr11bRpU02bNk1xcXHlep53//6urrryqrPmJyQkSCp+39q2bau8vDxFRkZa89PT07V48WLt2bNH77//vrXdvHnzVKFCBW3evFljxozRiBEjNGjQIL311lvavXu3OnbseNbrHTNmjJo1a1ZiDZLk9Xr15z//WZJUqVIlLV26VB6PR0XuIsXFxenDDz/UV199pYoVK8rr9app06a64oorrO1zc3P13Xff6ZMln2jSy5MkFR/Yud1urVy5UhMnTCzxPVqxYoWMMfrqq6/0l7/8RZ999plSUlIUHV1dqakfKDc3V927d9f+/ftVrVo1vfnmm2W/8bA9wh24yAoKCjR8+HCdPHlSDocj4Gz5zGlJ6tjxPivYY2NjA0LCZ4qvGfuHwqXi4ImOjtbChQtLPPs2xsgYY40YSFJaWpoG/L8BSno46Ve/Jn/QPfXUU8rPz9fw4cMlFQfmokWLVLFiRa1atUp5eXlyu90aMuQFzZnzrnJycpSXl6eEhARdffXV6te3n3XQUVLdOTk5WrNmjfVaW7RoofXr16tKlSr69ttvrXXj4+MVERGhmTNn6r8f/299++23OnLkiNasWaP169crIyPDWrd58+YB2/pDv7CwUB07dtTYsWOVk5MTsM3p20rSLbfcoltuuUWSNHLkyLNGKlasWGE99o8wdO7UWZ07dZYkjRgxQrVq1dKTTz5Z6nstSevXr1dhYaEiIiL03HPPyev1qmbNmurR40ElJCTojTfe0OOPP66nn35aN954Y5nPB/sj3HFBnDk8Wrt2bS1evFhS8RlKSkqK0tLSdPjwYUVHR6tbt27q16+fNSRbnnVO9/rrr2vBggWaM2eOateuLbfbrb/+9a9KS0uT2+1W27ZtNXToUFWtWlWSSl3uH/KfNWuWpk6dqn379qlFixZ6aexL1lllebZPHpesqVOmqnPnzho4cKBV6+9+9zvddNNN6t+/vxITEwPO0tu3b3/WWfuZli5dag1HHzt2TG3atAkIju3bt2vQoEGSSj77PnbsmB544IGAoe7fYsGCBdq7d6+Sk5P1448/6r777lNSUpI++vgjHTt2TMuXL1d0dLRSUlKUl5en++9P1P33J0oqPjBJT09X165dNfud2dZ7PHHiRGtIe9SoUQH78wen1+uVVDwU3b9//4B1ioqK5HQ6tWzZMmVlZengwYN6+eWXNXLkyHP20On8vdq8eXPrcVmGDRumzZs3y+12q6ioSF26dLHem7Js3rxZ+/fvV58+fQJGCPxOnjypU6dOacGCBapfv77mzp2rI0eOqH379pKKe6Jnz57yer3Kzc1Vt27dlJ+fr5kzZ2rmzJlKTU0t12uAfRHuuCD8ZzhHjhxRz549A/5zHj9+vDZv3qxXX31VMTEx2rp1qwYPHiyPx2OdtZRnHb/UD1KVmpqq2bNnW8PK48aN0759+5SamqqKlSpq6JChmjZtmkaOHFmu5ZK0cOFCpaSkyOPx6Nlnn9WUyVOUnJxc7u2/Wf2NFi9ebN0s5+d0OjVgwABJxSH76KO/XAs+c1oqPnPv0ePB8/gUSla1alWdOHFCxhg5HI6AZevWrdNTTz1lTRcWFgaMJpw5LUm9e/fW+vXrNXr0aD388MNq2LChnnzyScXFxalFixbatWuXoqOjtWvXLt3R6o5y1fjpp59a4T5mzJhS1x02bJheeeUVeb1excfHSyoO/t9V/p2WL1+utWvXavny5brhhhuUmJio2bNnBwzJ+8/QJWnGjBmKiYmxlu3cuVNXXXX2pYIzjR8/XpL0t7/9TbNnz9bChQutOkpTUFCgUaNG6c0331T16tUDDriKioo0P3W+Uuenql+/vqpXr56+//57HTt2TNdee62WLl2qdu3aSZLef/997d69WwMHDtSAAQOs+wmAsOdyuYzL5TIIDUVFRaZPnz5m7Nix1ryc4zkmLi7OZGRkBKy7cNFC07Zt23Kvs2nTJuNyuUza4jTTunVrs2XLll/2kVO8/fbt2615K1euNHe0uqNcy/3PvWfPHmv5smXLTMuWLX/V9pmZmWW+R/fcc0+p02dyuVwmPz/fms7Ozj6r5zMzM03nzp2t6RYtWpgWLVoYl8tlPW7btq256667THZ2dqn783q9xuVymZ9//tkYU/zZnLk/n89nPv/8c+P1es3kyZPN559/bowxJjc31xhjzLz588zkyZONx+Mxbdq0Mfv37zfGFPfH1q1bTbNmzUzv3r1N8+bNTadOnUznzp1N586dza233mo97ty5s1m/fr3xeDzG5XKZ+Ph465+/nqysLHP33Xebw4cPG2OMadq0qcnPzzeFhYWmR48e1nxjjLn99tsDXsPp0/n5+eZf//qXGTZsmHG5XKZ///4mMzPzrP36/52+bU5OjmnXrp257bbbzPDhw01BQYFV85mfo8fjMV6v17zwwgsmLi7unO9/p06dTEpKiikoKLDmzU+db1atWmX1iv9n4rPPPjOtW7c2bdq0MUlJSdY/BJ8/m4KZj5y544KZOnWqDh48qBkzZljzDh08JJ/PF3BmJEl169TV0aNH5fP5yrWO37Sp09ShQwfrWqckHTpUvH23bt3OqqmoqKjM5X7XXnttwOP8/Pzi+sq5fa1atc75vpwuOzvbuplOkq6++uqAab/p06erRo0akmQNxUqlX3P38w/Nx8bGavny5daQ/iOPPKK9e/fqmmuuKbG+EydOyOl0qnLlyiWu43A4NGPGDE2fPl179uzRypUrrc/8nTnvqE1CG/Xo0UN169ZR7dq1dcMNN8jj8ahr1666+eabFRERoXHjxql///766KOPrGvuCQkJ1tnv6a9NknV2679ZTZJiYmLUs2dPTZo0SZMmTZLH41FkZKReffVVVa9eXUuWLNFPP/1k3UleklOnTumTTz7RXfF3WTerHT16VNHR0Vq+fPlZ6z/zzDPW46lTp6pLly5677339Icmf9DAgQM1ffr0Evf1wQepqlGjhiIjI+Xz+axRB7/c3FzNmTNHc+bMseYtWLAg4POVioflZ8yYocjIyIAa/ZcGAMIdF8QnSz7R3LlzNWvWLFWpUsWa7w/MvXv3qnHjxtb8H/f/qOuvv15Op7Nc6/hNnjxZAwYM0H/9V0P9+c/FYesPq2XLlqlmzZpn1VbWcr/8/HwrCPfu/UHXXXednE5nubc/c7j7XN555x01adLEmu7YsWOp13jj4uL05ptvWsPi57rmvm/fPr3++utl7rtRo0bavGVzqXeyZ2Zmqnbt2oqMjCxxnQMHDujdd9/VQw89pEWLFqlu3bratm2bRowYoSuqXSGn06n4+HiNGzfeCv2IiAgtWrRIUvGBSa1ateR2u1WhQgV1795dkqy7viWpTp06mjZtWpmvqVevXjp69Kj1XJGRkfJ4PKpRo4Y8Hk/AvSClDcunpKQUP36tuN6srCzVrVv3nPv0h3fa4jStW7dOH3zwgd577z31fLCn6sfUL7UP/vSnexQVFaX3339fTqcz4HOUpKZNm54171zi4+PVpEmTct2Mh8sT4Y7fbMeOHRozeoy6du2qO+4IvL5avXp13XvvvRo7dqySk5MVExOjbdu2aebrM9WvX99yr+PXqFEjTZ06Vc8884yioqqoQ4cOqlGjhpo3b64pU6Zo8ODBql69urKysnT8+HHdfvvtZS73mzFjhv7nf/5H2dnZeuutFCUmFt8AVt7tSzNo0CD98MMP1nRhYaE1fccdd5x11u+/Iaqsm+2k4iCcOLHkr1L5NWvWTB9++KEeSXpEUvEZfpUqVazvRBtjNGfOHLVp06bU50lMTFRKSopcLpdGjhypBx7oqtmz39GYMWPkdDrl8/msX7RS0i+yOXz4sDUyceTIkYDrzsd/Pq6+ffqec7szVaxYUTfccINycnKsA6ChQ4eec93TD6LKunFu7dq1uu2220rd98aMjZowYULAd++bN29e6jX3C/n1Rv9BxCOPPGLN8381ESDc8ZsNHDjQurP39DuF/TfZjRkzRq+//rqefPJJ5eTkqG7duurfv78eeOABa93yrOPXsmVLjR4zWiNGjFBUVJTi4+M1adIkTZw4UYmJiSoqKlLDhg313HPPWduUtVwqHsbu0qWLThWeUudOnQN+W1l5ti/NlClTJBV/b3v58uWaM2eOxk8Yr9emv6bExETl5OSoX79+pY4MlMeJEyd08OBB7d+/X5L08ssv68CBA8rKytI///lPvfTSS9qyZYsaN26sTz/9VPXr15fL5VJBQYEmTpyoH3/8MeBAoYKzeMj85MmTqly5snbt2qXIipFq0qSJGjVqpOnTp2vixJdVuXJlZW7PVOPGjZWcnKycnBxNnz5dQ4YMUe6JXHVN7BpQZ0ZGhho2bFju11XWL9jZsWOHNXSdlZWlrdu26vst32vTpk1KSir7q35ut1unTp2S0+lUYWGhFi5cqFmzZpW6zZAhQ0q9C/9cd8H/Vvn5+Tpx4oR69+6tF154QZL03nvvWcsZlodf2eOIIcx/w8K5vosKlNfF/u13Pp9PmZmZ+vLLL/XFF1+oZcuW6tu3r6688kprWD4zM1MzZsxQRESE2rRJUOvWd53zLM8/LF9Szw8ePFjffvutbrrpJtWvX1/1Yuqp3o31dOONN6pOnTp6++239eGHH+rFF1/UqFGjNHHiREVHR+vxxx9XTEyMxo0bd9Y1+UGDBmnt2rWqVKmS3G63Hn30Ue3Zs0dr1qxRmzZt1L9/f+Xk5GjlqpVa8eUKVa5c2Tqj/eabbzRo0CANHjxIrVrdqaKiIiUlJcnlcikhIV7335+opk2b6qabbrL25/V6ZYzRggULrGvs/td7+vTq1av14osvqlq1ajpw4ICeeuop9enTR88884yuvfZaNW7cWDfffLMaNGigVq1a6brrrjvne/bYY/01c+YsHTlyRF26dFGrVq305ZdflutXzvqd/r35M2uWig8cv/vuO+v+gtPXd7vdKiwslNfnVft72uubb7455z7at2+v+fPn65VXXtGAAQMUHR2tLl26BPwehO3btwd8fx/B4b8ctHHjxrDO2KDhbnlcCP673U+/K/1CKigoMKNHjzYff/yRycvLC1jWt2/fgOnt27ebV1991ezcufOcz5WXl2fGjx9f4r6KiopKrcXr9ZpXXnnFNGvWzHTv3t1af8OGDeV5KZYvv/zSnDx58qz53333nfH5fAHzDh8+bAoLC81DDz1kWrdubWbNmmVee+01c/z4cWOMMfHx8QHr5xzPMYmJidb0pk2bApbv27fPGGOM2+02u3fvNtu2bTOHDh0qtd7nn3++/C/OmIC71cvj9DvovV5vwDdGjDFm7Nixxuv1WtN33nmn9fjgwYMmISHBxMfHm2nTppW4j48//uiseZ9++mnAtP+bCwiuULhbPqyPKjhzx4Vgl99b/2sUFRUpIiKiXDcBXgzmHN+3D2cl/Y58XJ5C4cyda+647P3hD3+47A4QS7sb/lKwU7BLItgRcuhIAABshnAHAMBmCHcAAGyGcAcAwGYIdwAAbIZwBwDAZgh3AABshnAHAMBmCHcAAGyGcAcAwGYIdwAAbIZwBwDAZmzxh2P8f4EHAACE+Zm7MSY92DUAAHAm8gkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAX2f8HOvhvZTUv4fsAAAAASUVORK5CYII="},28086:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcUAAAFMCAYAAAC6fqeUAAAWkUlEQVR4nO3df2zUdYL/8dd7GGpsi27KpWyCSghLMBA+n5kOVL3vuXChRuNxWZZiyMnVsPc10Y3Z3BKTjYC6JvuFbhCJOUkkwTV7a+Ry9jgUynr6PfOFGHKQ0p3O6BJIWWVlCeiBgW6r2c58Pu/vH7w7rp4g/TXvGeb5SAjt5/PpzGs6fffV9+fzmc9IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwIQwvgMAuP4tXLjw/xljlvrOUS7W2gPvvffeX/vOgdFL+A4A4PpXS4Uo1d7jvZ4kfQcAUDvy+fx1v3cqCALrOwPGjpkiAAAOpQgAgEMpAgDgUIoAADiUIgAADqUIAIBDKQIA4FCKAAA4lCIAAA6lCACAQykCAOBw7VMAGKMgCG4xxjz558usvXzp0zAMd3xl+f/J5/N/KGM8jAGlCABjNG/evLPHjx9fYYyZ8dV11tpH/uzjj2+//fbH8vl8eQNi1Nh9CgBj1NXVFSWTyT3ftJ0x5t+7urqicmTC+FCKADAOxWJx9zVsdi3boAJQigAwDnV1dQettZ9eZZMLTU1NB8sWCONCKQLAOPT29hYSicQbV1pvjHnjwIEDxXJmwthRigAwTslk8oq7R6dOncqu0ypCKQLAOF26dOk/jTEDX11ujBm4ePHiOz4yYWwoRQAYp5MnT/7JWtv9Nav2nTx58k9lD4QxoxQBYAIYY75uNym7TqsMpQgAEyCZTP6HMeazkc+NMZ8lk8m3fGbC6FGKADABent7P5P05sjniUTi124ZqgilCAATxFpb2l0aRRG7TqsQpQgAE+TGG2/cP/LxtGnT9l9tW1QmShEAJsiRI0cGjDHdxph9hw4d+qPvPBg93iUDACaQOwvV+s6BsbkeSjGRSqX+IY7jDmPMfGvtX/gOVEuMMeettccSicQrfX19L0uKfWdCVav68RzHl4dAEAS/9Bxl1BjPkvEdYJwSYRi+Ya1d7jsIJGPMvlwut0I1OJBwdUEQWEnK5/NX+53DeK4gtTqeq7oUU6nUw3Ec75w3b542bNiguXPnqqGhwXesmjI0NKT+/n5t3rxZJ06ckKSH8/n8L3znQmW5llJkPPvHeK7yE23iOO6QpA0bNiiVSjGAPGhoaFAqldL69etHFnX4zIPqxXj2j/Fc5aVojJkvSXPnzvUdpeaNPAfGmAWeo6BKMZ4rRy2P56ouxZGD8PxF6V9jY6OkL54TYLQYz5WjlsdzVZciAAATiVIEAMChFAEAcChFAAAcShEVI51Oz/KdAUBtux4u84Yq1tLS8p1CodBujFkZRVGrqvyCEgCqG6WIskun0/MlrYqiqL1YLAbG0IMAKgOliHIwmUwmXSgU2iWtjKLodt+BAODrUIqYLImWlpbWYrG4KpFIrCwUCrN9BwKAb0IpYsKl0+l/iuN4ZbFYnCl98VY612LkwtG1whjzuTHmL/v6+vp8ZwHA2aeYBFEUWWNMTZXbWFlrb7TWPuo7B4DLmCliwuXz+X+UtC6TySyOomiVpPY4jq9p9+k3vN/edSUMwx3W2kckMUsEKgSliMkS9/b2HpF0RNJPFi1alBoeHm6X1C6JE20AVCRKEeVgjx49mpWUlfSke0lGexzH7dba0HM2ACihFFF22Wz2mKRjkn6WyWTmRFHUHsdxu6RWz9EA1DhKEV719vb+TtIWSVu4zBsA3zj7FBUjm83+3ncGALWNUgQAwKEUAQBwKEUAABxKEQAAh1IEAMChFAEAcChFAAAcShHAhAiC4JYHHnhgiu8cwHhQigAmhDHmyePHj59Jp9MvLly4sG3p0qVcMQtVh1KsQKdPn9aKFSs0PDzsOwowKsaYGVEUPWqM+b8XLlz4OAzDlzOZzN/4zuUT47m6UIoV6NKlS/rwww99xwDGxRjTZK39QaFQ6B5ZFobhykwmU+8zV7kxnqsLpThK77//vsIwVPf+brW1temee+5RT0+Pdv3LLi1ZskTLli3Tu+++W9q+p6dHDz74oBYtWqTly5fr8OHDpXWvvfavamtrU2trq5577rnS8jVr1kiSFi9erDD84p2VhoeH9eyzz2rJkiW66667tHHjRg0ODn4p177ufVq6dOmXbg+oFNba3cVi8b/DMPy3IAj+7o477rjJZx7GM76Kff5jdLL/pPbu3astW7boiSeeUFtbm9588009//zz2rp1q+6++25J0tDQkJ566inNmTNH27dv16ZNm7Rv3z6dOXNGmzZt1ksvvaQFCxbo1KlTpdt+9dVXtWbNGvX09Kiurq60fNOmTTp9+rS6urpUd0Od1j+xXtu2bdPTTz9d2ubI4SPav3+/rLXl+2Z8RRAE/u68iow8R9baF4MgeNFznHG71p85a229Lr/ZdPvnn3+uMAy7jTG74zie1HxXw3i+sjAMd1hrHynnfVprP00mk8uz2ex/lfN+JWaKY7Z69WrV19fr/vvv1/nz57V27VrV19fr3nvv1alTpxRFkSRp6dKlmj17tj744AM1Njbqo48+UrFY1NSpU5VIJHTu43Oqr6/X/Pnzr3p/Fy9e1N69e7V+/Xo1NzfrWzd/Sx0dHXrr7be+tN1DDz2khoYGNTY2TtpjByaYdf+8YTxXFmNMk6RHfdw3M8UxuvnmmyVJ9fWXD49Mnz5dknTDDTdIkqIo0pQpU7R9+3bt2bNH6XS6tC6OYzU3N6uzs1Pbtm3Tr/75V9q4caNSqdQV7+/cuXOK41irVq36H+sKhULp45kzZ07MAxyHfD5vfGeoBiN/gRtjfpjL5Xb4zjNe1zqjMMZ8lkgkfh1F0e5p06btP3To0B8lKQiCX05+yq/HeL6yXC73qMpYUCM/R3Ecl32WKFGKk+rMmTPauXOnXn/9dc2ePVuHDx9Wd3fpnAPdd999WrZsmV544QU9/vjjeuedd654W01NTZKkt99+WzNmzLjidsbQR6hcxpiVyWTyrd7e3s98ZxktxnNtYPfpJCoWi5Kks2fPamBgQLt27SqtO3funHK5nIwxuvW2WzU8PFw6bnDTTZfPPcjlchoYGJAkNTc3q7W1VVu3btUnn3yiKIrU39+vnp6eMj8q4JpdMMa8XFdXV3pJRi6X21ONhSgxnmsFpTiJZs2apY6ODq1bt04dHR36q7/6X6V1URTpmWee0Z133qldr+5SZ2dn6a/C2267TatXr9Zjjz2m73//+6Wv2bJlixKJhFasWKE777xTP/3pT70egAe+ylr7saQXJbU1NTV9O5fL/e+jR4/+2neuicB4rg1VPTcfOcsxl8v5jgKpdLo5xxSvzfV2TDEIglvmzZt3tqurK/qadVa6+s8G47my+BrPvscFxxQBTIh8Pv+HfD7vOwYwLuw+BQDAoRQBAHAoRQAAHEoRAACHUkTFSKfTs3xnAFDbOPsUXrW0tHynUCi0G2NWRlHUqip/mRCA6kYpouzS6fR8SauiKGovFosBl7ICUCkoRZSDyWQy6UKh0C5pZRRFt/sOBABfh1LEZEm0tLS0FovFVYlEYmWhUJjtOxAAfBNKERMunU7/UxzHK4vF4kzp8lvrXKuxvEGxMeZzY8xf9vX19Y32awHgz3H2KSZcFEXWGFO2Kxtba2+01np5Q1IA1xdmiphw+Xz+HyWty2Qyi6MoWiWpPY7ja9p9OtqLD//ZG9sySwQwbpQiJkvc29t7RNIRST9ZtGhRanh4uF1SuyROtAFQkShFlIM9evRoVlJW0pPuJRntcRy3W2tDz9kAoIRSRNlls9ljko5J+lkmk5kTRVF7HMftklo9RwNQ4yhFeNXb2/s7SVskbeEybwB84+xTVIxsNvt73xkA1DZKEQAAh1IEAMChFAEAcChFAAAcShEAAIdSBADAoRQBAHCquhSNMeclaWhoyHeUmjc4OCjpi+cEGC3Gc+Wo5fFc1aVorT0mSf39/b6j1LyR58Ba+1vPUVClGM+Vo5bHc1WXYiKReEWSNm/erGw2W/rrBuUzODiobDarzs7OkUWv+MyD6sV49o/xXOXXPu3r63s5DMPvnThxYvnatWt9x6l5xph9uVzuZd85UJ0Yz5WlVsdzVc8UJcW5XO57kh6WdLAW93/75r7nByU9nMvlVkiyniOhejGePWM8V/lM0Ynz+fwvJP3Cd5CxCoLASqN/13ngOlT14zkMwx3W2keMMT/M5XI7fOfB6FT7TBEAgAlDKQIA4FCKAAA4lCIAAA6lCACAQykCAOBQigAAOJQiAAAOpQgAgEMpAgDgUIoAADiUIgAADqUIAIBDKQIA4FCKAAA4lCIAAA6lCACAQykCAOBQigAAOJQiAAAOpQgAgEMpAgDgUIoAADiUIgAADqUIAIBDKQIA4FCKAAA4Sd8BgIlgrX0xCIIXfecYDWvtyP9Vl32sgiCwvjNMtpHnFdWJmSKqmjGmVxK/hVBRrLWfJhKJnO8cGD1miqhqfX19OyXt9J1jLMIw3GGtfcQY88NcLrfDd57JNDJDzOfzxncW4GqYKQIA4FCKAAA4lCIAAA6lCACAQykCAOBQigAAOJQiAAAOpQgAgEMpAgDgUIoAADiUIgAADqUIAIBDKQIA4FCKAAA4lCIAAA6lCACAQykCAOBQigAAOJQiAABO0ncAYIwSqVTqH+I47jDGzLfW/oXvQKNlrR35/8UgCF70HGdUjDHnrbXHEonEK319fS9Lin1nAiYCM0VUo0QYhm/EcbxT0nersRCrnfuefzeO451hGL4ufpfgOsFMEVXHzRCXz5s3Txs2bNDcuXPV0NDgO1ZNGRoaUn9/vzZv3qwTJ078bRAEP8jn87/wnQsYL/66Q9WJ47hDkjZs2KBUKkUhetDQ0KBUKqX169ePLOrwmQeYKJQiqo4xZr4kzZ0713eUmjfyHBhjFniOAkwIShFVZ+QYIjNE/xobGyV98ZwA1Y5SBADAoRQBAHAoRQAAHEoRAACHUgQAwKEUAQBwKEUAABxKEQAAh1IEAMChFAEAcChFAAAcShEAAIdSBADAoRQBAHAoRQAAHEoRAACHUgQAwKEUAQBwKEUAABxKEQAAh1IEAMChFAEAcChFAAAcShEAAIdSRNkFQXDLAw88MMV3DlSOdDo9y3cGQJKSvgOg9hhjnjx+/PiKdDq9p1gs7p4+ffqBAwcOFH3nQnm1tLR8p1AotBtjVkZR1CrJ+M4EUIrwwhgzI4qiR40xj164cOHTMAzfSCaTuy9duvSfJ0+e/JPvfD6cPn1aP/rRj/Taa6+prq7Od5xJkU6n50taFUVRe7FYDIyhB1FZKEV4Z4xpstb+oFAo/KChoWEgCIJuY8zuZDL5H729vZ/5zlculy5d0ocffug7xkQzmUwmXSgUJElRFP3Wcx7gqjimiIpirb1J0oPW2t3FYvG/wzD8tyAI/u6OO+64yWeu999/X2EYqnt/t9ra2nTPPfeop6dHu/5ll5YsWaJly5bp3XffLW3f09OjBx98UIsWLdLy5ct1+PDh0rrXXvtXtbW1qbW1Vc8991xp+Zo1ayRJixcvVhiGpeXDw8N69tlntWTJEt11113auHGjBgcHv5RrX/c+LV269Eu351GipaXlziAItqZSqd8VCoVe34GAa8VMsYIEQWB9ZygHa6/tYVpr6yW1S2r//PPPFYZhtzFmdxzHk5rvak72n9TevXu1ZcsWPfHEE2pra9Obb76p559/Xlu3btXdd98tSRoaGtJTTz2lOXPmaPv27dq0aZP27dunM2fOaNOmzXrppZe0YMECnTp1qnTbr776qtasWaOenp4v7T7dtGmTTp8+ra6uLtXdUKf1T6zXtm3b9PTTT5e2OXL4iPbv33/N39vJsHDhwu8mk8lVcRyvLBaLMyVpNM9Vrfz84+p8/gxLzBQrgrX2gO8MVcK6f96sXr1a9fX1uv/++3X+/HmtXbtW9fX1uvfee3Xq1ClFUSRJWrp0qWbPnq0PPvhAjY2N+uijj1QsFjV16lQlEgmd+/ic6uvrNX/+/Kve38WLF7V3716tX79ezc3N+tbN31JHR4feevutL2330EMPqaGhQY2NjZP22L/J1KlTbRRF1hhDuWFcrLWfJhKJnI/7ZqZYAd57772/9p2hnMIw3GGtfeSbtjPGfJZIJH4dRdHuadOm7T906NAfJSkIgl9Ofsqvd/PNN0uS6uvrJUnTp0+XJN1www2SpCiKNGXKFG3fvl179uxROp0urYvjWM3Nzers7NS2bdv0q3/+lTZu3KhUKnXF+zt37pziONaqVav+x7qR43SSNHPmzIl5gOPwm9/85l1J70pal8lkFkdRtEpSexzHs6/l6/P5PGfdwDtKERXFGDMgaZ+k3clk8q1qPNHmzJkz2rlzp15//XXNnj1bhw8fVnd3d2n9fffdp2XLlumFF17Q448/rnfeeeeKt9XU1CRJevvttzVjxowrbldhZ3HGvb29RyQdkfSTRYsWpYaHh3/jOxRwLdh9ikpwwRjzcl1d3d8MDQ0153K5v8/lcnuqsRAlqVi8/JLLs2fPamBgQLt27SqtO3funHK5nIwxuvW2WzU8PFw6hnLTTZfPJcrlchoYGJAkNTc3q7W1VVu3btUnn3yiKIrU39+vnp6eMj+qMbNHjx7NjnwyZcqUBVOmTHnaGONl1xjwTZgpwgtr7cfGmH+XtLupqeng9fTi/VmzZqmjo0Pr1q3Tt7/9ba1Z86AOHjwo6fLu1WeeeUanT5/Wrbfeqs7OztIs77bbbtPq1av12GOPadq0aaUZ5JYtW/Tzn/9cK1asUKFQ0Ny5c/XjH//Y2+Mbj2w2e0zSMUk/y2Qyc6Ioao/juF1Sq+dogCSuIAEPgiC4Zd68eWe7urqiMX69lS7PqODfyMtHrnZMcOQ5u9I26XR6Vjab/f2kBARGgZkiyi6fz/8hn8/7joEKQiGiUnBMEQAAh1IEAMChFAEAcChFAAAcShEAAIdSBADAoRQBAHAoRQAAHEoRAACHUgQAwKEUAQBwKEUAABxKEQAAh1IEAMChFAEAcChFAAAcShEAAIdSBADAoRQBAHAoRQAAHEoRAACHUgQAwKEUAQBwKEUAABxKEVXHGHNekoaGhnxHqXmDg4OSvnhOgGpHKaLqWGuPSVJ/f7/vKDVv5Dmw1v7WcxRgQlCKqDqJROIVSdq8ebOy2WxptoLyGRwcVDabVWdn58iiV3zmASaK8R0AGINEGIZvWGuX+w4CyRizL5fLfU+SvdI2QRBYScrn8/zOQUVjpohqFLtfwg9LOsjxrPJz3/ODkh7O5XIrdJVCBADgGwVBYEdmUNe7WnqsqG7MFAEAcChFAAAcShEAAIdSBADAoRQBAHAoRQAAHEoRAACHUgQAwKEUAQBwKEUAABxKEQAAh1IEAMChFAEAcChFAAAcShEAAIdSBADAoRQBAHAoRQAAHEoRAACHUgQAwKEUAQBwKEUAABxKEQAAh1IEAMChFAEAcChFAAAcShEAACfpOwBQ64IgsL4zALiMmSLgibX2gO8M5VRrjxcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABARfn/RWMam6gXmjYAAAAASUVORK5CYII="},39870:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcgAAAE8CAYAAABEoiHlAAAf30lEQVR4nO3deXRU9f3/8dedZAwmrIKEIFCkRRRhJhAWkQoU8CsiIG61AlGURY9LZJNFfriggbIICvi1gitLWvRUlEUFlYp+UdaEmZQgoGgRyARj2ANZZu7vD0sa7A1bZjJ3kufjHM8xs3w+72Te3NdnPrmZKwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAWBjhLqCy6ty5c43jx4/vNE0zIZjjGoaRXb169Rbr168/FsxxAYQPxwt7coS7gMoqPz+/RbCbXZJM00w4depUu2CPCyB8OF7YU3S4C6jsWrdurcWLFwdlrEGDBikzM1OBQIDVIFAJcbywFwISCDO21wB7YosVCDO21wB74h0kYBNsrwH2wjtIAAAsEJAAAFggIAEAsEBAAgBggYAEAMACAQkAgAUCEgAACwQkAAAWCEgAACwQkAAAWCAgAQCwQEACAGCBgAQAwAIBCQCABQISAAALBCQAABYISAAALBCQAABYICABALBAQAIAYIGABADAAgEJAIAFAhIAAAsEJAAAFghIAAAsEJAAAFggIAEAsEBAAgBggYAEAMACAQkAgAUCEgAACwQkAAAWCEgAACwQkAAAWCAgAQCwQEACAGCBgAQAwAIBCQCABQISAAALBCQAABYISAAALBCQAABYICABALBAQAIAYIGABADAAgEJAIAFAhIAAAsEJAAAFghIAAAsEJAAAFggIAEAsEBAAgBggYAEAMACAQkAgIXocBdgJ61bt/6HYRjdgjGW3+8PxjBljb3Z5XIFa7hNXq+3Y7AGA6oKjheVH+8gSzEMwxnsMVu1amXLsUppGYpBgcqO40XlxzvIM91uGMZnpmm2uuqqqzR//nzVqVMn3DWVGD9+vMaPH1+uMQ4dOqThw4dr165dMgzjn6Zp9ghSeUBVw/GikjPCXYDduFyu+nZu+vKwanav13sw3HVFomBur5UaU4sXLw7KWIMGDVJmZmZQxiqlSm2vnQ+OF5UbW6y/4vV6D5qm2cMwjH/u2rVLw4cP16FDh8JdVrnR7MHF9hokjheVHe8gy1CZVoY0e/BVpv4oC31z/ipTP/C6/wcBeRaVoelp9tCpDP1RFvrmwlWGfuB1PxMBeQ6R3PQ0e+hFcn+Uhb65eJHcD7zu/42APA+R2PQ0e8WJxP4oC31TfpHYD7zu1gjI8xRJTU+zV7xI6o+y0DfBE0n9wOteNgLyAkRC09Ps4RMJ/VEW+ib4IqEfeN3PjoC8QHZuepo9/OzcH2Whb0LHzv3A635uBORFsGPT0+z2Ycf+KAt9E3p27Ade9/NDQF4kOzU9zW4/duqPstA3FcdO/cDrfv4IyHKwQ9PT7PZlh/4oC31T8ezQD7zuF4aALKdwNj3Nbn92OCj+Gn0TPhwvIgsBGQThaHqaPXLYKSTpm/DjeBE5CMggqcimp9kjjx1Ckr6xD44XkYGADKKKaHqaPXKxvYbSOF7YHwEZZKFsepo98rG9htI4XtgbARkCoWh6mr3yYHsNpXG8sC8CMkSC2fQ0e+XD9hpK43hhTwRkCAWj6Wn2yovtNZTG8cJ+CMgQK0/T0+yVH9trKI3jhb0QkBXgYpqeZq862F5DaRwv7IOArCAX0vQ0e9XD9hpK43hhDwRkBTqfpqfZqy6211Aax4vwIyAr2NmanmYH22sojeNFeBGQYWDV9JJodkhiew1n4ngRPgRkmJRu+nr16kmScnNzaXZIYnsNZ+J4ER4EZBiVbnpJNDvOwPYaSuN4UfEIyDBzuVz1Jb1nGEasaZq9aHaUxvYaSuN4UbEISMDm2F4DwoOABCIA22tAxSMggQjB9hoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQYYxwFxAEjsTExAcCgUCyYRgtTdOsF+6CqhLDMHJN08xyOByLtm3b9oakQLhrOgt6JYwirFeAiA9Ih9vt/sA0zT7hLgSSYRgrPB5Pf9nzwEev2IiNe4VFVBjZbREV0QGZmJg4NBAILGjRooWefPJJNW/eXHFxceEuq0o5ceKEdu/erSlTpmjnzp2SNNTr9b4e7rp+jV4JvwjoFRZRNmKHRVREB6TL5Vonqcvbb7+txMTEcJdTpWVkZGjw4MGStM7r9XYLdz2/Rq/Yh117hUVU+NltEeUI18TBYBhGS0lq3rx5uEup8k6/BoZhXBvmUizRK/Zh114JBALJkvTkk08qMTGRcAyDuLg4JSYmasKECadvSg5nPREdkKd/P0Ajh1/16tUl/ec1sRt6xT7s2issouzDLouoiA5IAAgWFlH2YZdFFAEJAIAFAhIAAAsEJAAAFghIAAAsEJAAAFggIAEAsEBAAgBggYAEAMACAQkAgAUCEgAACwQkAAAWCEgAACwQkAAAWCAgAQCwQEACAGCBgAQAwAIBCQCABQISAAALBCQAABYISAAALBCQAABYICABALBAQAIAYIGABADAAgEJAIAFAtKGfvzxR/Xv31+FhYXhLgU2R68AoUNA2tCRI0f0/fffh7sMRAB6BefCIuriEZAX6J///KfcbrdWrlqpnj176sYbb9TmzZuV9tc0de3aVT169NCXX35Z8vjNmzdrwIABateunfr06aMNGzaU3PfOO0vVs2dPdejQQS+88ELJ7QMHDpQktW/fXm63u+T2wsJCzZgxQ127dlWnTp00ceJEHT9+/Iy6VqxcoW7dup0xHsKDXoEdsIi6eATkRfp297davny5OnfurPHjx+tfP/xLH330kXr06KGZM2eWPO7EiROaNGmSvvrqK3Xv3l2pqamSpP379ys1dYqmTp2qzz//XDfffHPJc5YsWSLplwOmx+MpuT01NVU7duzQu+++q48+/kh5eXmaNWvWGXVt3LBRq1at0oMPPhjKbx8XgF5BWVhE2RsBeZHuvvtuxcbGqnfv3srNzdXgwYMVGxurm266ST/88IP8fr8kqVu3brryyiu1Z88eVa9eXXv37lVxcbGcTqccDod8OT7FxsaqZcuWZ53v8OHDWr58uSZMmKD69eurdq3aSk5O1uo1q8943L333qu4uDhVr149ZN87Lgy9gnNhEWVP0eEuIFLVqlVLkhQbGytJqlu3riQpJiZGkuT3+xUVFaV58+Zp2bJlatOmTcl9gUBA9evX19SpUzVr1iwtfHuhJk6cqMTExDLn8/l8CgQCuvPOO//rvqKiopL/v+KKK4LzDSJo6BWcS+lF1LJly85YRC1durSkR7p166ZTp06ddRHVvn37815EvfPOO6pfv74kKTk5WU+MfUJPPfVUyeNOL6KqKgIyhPbv368FCxbo/fff15VXXqkNGzZo5cqVJff36tVLPXr00Ny5czV69Gh99tlnZY512WWXSZLWrFmj+Pj4Mh9nGEbwvgFUGHqlamMRZU9ssYZQcXGxJCk7O1tHjx5VWlpayX0+n08ej0eGYahxk8YqLCyUaZqSpJo1a0qSPB6Pjh49KkmqX7++OnTooJkzZ+rgwYPy+/3avXu3Nm/eXMHfFUKBXsG5nF5Evfbaa5o5c6b69u17xv29evXSqlWr1KlTJ40ePfqsY5VeRHk8njP+czqdJY+r6osoAjKEfvOb3yg5OVkjR45UcnKyfv/7ziX3+f1+PfPMM7ruuuuUtiRNU6dOLWnGJk2a6O6779Yjjzyi2267reQ506dPl8PhUP/+/XXdddfp6aefLjlQIrLRKzgXFlG4IC6Xy3S5XCbs4fTrEe6+sEKv2IsdeyUcPZKZmWm6XC7zxIkTZ3xdUFBg+fWMGTPMDh06mP369TOXLv1byX379u0z+/fvbyYlJZn9+/c3v/zyyzPmSU1NNdu3b29279695La8vDxz7NixZqdOncx27dqZ99xzj7lx40bLusLBDj0S0e+fT//wSp+ZhfA5fQq51+u1XV/RK/Zix16hR+zFDj3CFitQhRQWFvKJKsB5IiCBKuLEiRMaNGiQ2rdvr3Xr1oW7HMD2CEigCvD7/ZowYYJ27twpSUpJSdE7774T5qoAeyMggSrgxRdf1Lp161S7dm3deuutkqTU51M1bdq0krMjAZyJgARCIBAI6Pnnn5fb7da+ffvCWst7y97TwoUL5XQ69dJLL2ny5MmaNm2aYmJilJaWppSUFB07diysNQJ2REACITB//ny9++67kqTbb79dXq83LHVs2bJFqc//8nmdz05+tuTTVXr16qXXX39d9erV0/r163XvvfeGPcgBuyEggSBbvXq1XnnllZKvCwoKNGTIEH340YcVWsfevXs1atQoFRcXa9iwYbql9y1n3N+6dWstWbJELVq00J49ezRw4EClp6dXaI2AnRGQQBBlZmZq0qRJkqSJ/2+i0tPTlZycrMLCQk0YP0Evv/yyAoFAyOs4evSoUlJSdOTIEd144416+OGHLR/XoEEDvfXWW+revbsOHz6sYcOGafnyD0JeHxAJCEggSHw+n0aMGKGCggINGDBAf7zrj4qKitKYMWP09NNPKyoqSvPnz9e4ceN08uTJkNVRXFyssWPH6vvvv9e1116ryZMny+Eo+596bGysXnjhBd1///0qLi7WpElP6cUXX6yQIAfsjIAEgiA/P18pKSnKzc1V586dNWbMmDPuv/322/WXv/xFtWrV0po1azRkyBAdPHgw6HWYpqnp06fr66+/1uWXX64XX3yx5AoRZ+NwODRixAg999xkRUdH680339To0aOVn58f9BqBSEFAAuUUCAQ0ceJE7dy5U82aNdO0adMUFRX1X4/r0KGDFi9erKZNm2r79u0aOHCgsrKyglrL0neWaunSpYqJidGcOXNKrvV3vvr1u1Xz589X7dq1tXbtWg0ePFg+ny+oNQKRgoAEymnu3Llau3atateurblz56pGjRplPrZJkyZauHChOnbsqIMHD2rw4MFnvbbjhfjqq680fdp0Sb9cLf5cF80tS1JSkhYvXqxmzZpp586dGjhwYNjOwgXCiYAEymH58g/0xhtvKDo6WrNnz1ajRo3O+ZxatWrp5Zdf1l133aWCggKNGjVKr7/+erkuR7Vnzx6NGTNGfr9fjz76qG688caLHkuSGjdurLffflvXX3+9cnNzlZycrC1btpRrTCDSEJDARUpPT9ezz06WJD399FNq27bteT/X6XRq4sSJGjd+nBwOh+bMmaNJkyZd1AeJHzp0SCkpKTpx4oT69OmjoUOHXvAYVmrWrKlRo0aVfH3gwP6gjAtECgISuAj79u3TyJEjVVxcrPvvv1/9+t16wWMYhqEB9wzQvHnzFBcXpxUrVmjYsGHKy8s77zEKCws1evRo/fjjj3K73XrqqaeCdhX4w4cPlwRk79691adP33M8A6hcCEjgAh07dkwpKSk6fPiwunfvrpSUlHKN17lzZy1atEiNGjXStm3bNGDAAH377bfnfJ5pmkpNTdXWrVuVkJCg2bNnKyYmply1nHY6ePfu3Su3261nnnnmrH8qAlRGdDxwAfx+v8aNG6fvvvtOLVq0UGpqalCC47e//a0WL16stm3bKjs7W8nJyfriiy/O+pyFCxfq/fffV2xsrObMmaO6deuWuw7pl+CdMmWKtmzZogYNGgQ1eIFIQkACF+CFF17Q+vXrVa9ePc2ZM+e8/sbwfNWpU0evvvqq+vXrp/z8fD3++ONatHiR5ck7n3/+uWbNmiWHw6E///nPuuqqq4JWx6LFi7Rs2TJdeumlmjt3btCCF4g0BCRwno4ePaolS5ZIkjp16qT4+Pigz3HJJZdo8uTJGjFihAKBgGbOmKnnnntORUVFJY/ZtWuXxo8fL0kaOWqkunbtGrT5161bp9mzZktS0IMXiDQEJHCeatasWfL7xhUrVoTsWoqGYej+++/X7NmzVa1aNf3973/Xww8/rMNHDis3N1ePPfaYTp48qTvuuEPJg5KDNu+uXbs0btw4BQIBjRo1St26dQva2EAkIiCBCzBkyBBNnz5dMTEx+utf/6qUlBQdPXo0JHN1795dCxcuVHx8vDZt2qS77rxLffv2lc/nU/v27TV+/PignbH6888/KyUlRSdPntRtt92me++9NyjjApGMgAQu0E033aQ33nij5FqK9913n3788ceQzNWiRQulpaWpdevWOnjwoPLz89WkSRPNfGGmLrnkkqDMUVBQoJEjRyo7O1tJSUl68skngxa8QCQjIIGL0KpVK6Wlpenqq6/Wnj17NGjQoJBdS7FevXp67bXX1KdPH8XHx2vOnDmqXat2UMY2TVPPPvusPB6PGjdurFmzZgUteIFIR0ACFyk+Pl5vvvmmevToEfJrKVarVk2pqalas2aNrrzyyqCN+9prr2nVqlWKi4v7JXhrByd4gcogogPSMIxcSTpx4kS4S6nyjh8/Luk/r4ndhKpXYmNjNXPmTA0ZMiTirqX4ySefaN68eYqKitLMmTPVrFmzCpnX7r0CnBbRAWmaZpYk7d69O9ylVHmnXwPTNLeHuRRLoewVh8OhlJQUPf/8c3I6nRFxLcWsrCxNnDhRkjR23Fhdf/31FTa3XXuFBbd92GURFdEB6XA4FknSlClTlJGRUfJDRcU5fvy4MjIyNHXq1NM3LQpnPWWpiF7p27dfRFxL8eDBg3rsscdUUFCgP/3pT7r7j3dXyLx27xUW3PZhl0VUpJ+q5nC73R+Yptkn3IVAMgxjhcfjuVXSxV+3KXTC0iv16tXT7Nmz5XK5KnLaMuXn5+uBBx7Qjh07wlqHHXslMTFxaCAQWNCiRQtNmDBBzZs3V/Xq1cNdVpVy/Phx7d69W1OnTtXOnTslaajX6309XPVEekBKksPlct0vKdkwjGtN06wX7oKqEsMwcv+9ylvk9XrflGTnX76FpVdOfzrOzTffXBHTlSkQCGjs2LH65JNPwjJ/BPQKC24bscMiqjIEJGBL3bp1iz506NCLpmk+IkkPPvigHnroobBdFWPevHlasGCBJB0yDOM6j8ezKyyF2BsL7jCKgEUUgGBKTEx8xO12F7tcLnPs2LFmfn6+WdFWrFxhulwu0+12F7lcru7h/pkAACBJateu3Y1ut/uwy+UyBwwYYB48eLDCwjEjI8NMSko6HZDDw/2zACIFW6xABUlKSrq6qKhopaTfnv5EnKuvvjqkcx44cKD07z5f9Hq9I0M6IVCJRPSfeQCRZOvWrd9Uq1ato6R1OTk5uu+++/TZZ5+FdM5ffUbsSfFvHjhvUeEuAKhK9u/ff7Ju3bppTqezYVFRUdvVq1crrnqc3G53SOZr1KiR6l3+y4eqm6Z5Q8OGDa+94oorVmVnZxed+9lA1cYWKxAehsvl+lZSs1q1aumLL74I6WQbN27UqNGjdPzYcUnaEhUVdWtGRsaBkE4KRDi2W4AwaNeuXU/DMH4jSRMmTAj5fB07dtSSxUvUpEkTSWoXCAQ2JyUltQ35xEAEY4sVqGBJSUlXFxcXrzFN89KHHnpI99xzT4XMW7t2bfW+pbeytmdp//79NUzTvLdBgwY7cnJywvuxOoBNEZBABerQoUPdwsLCf0hK6NWrl8aNG1ehFyeuVq2abr75Zv3888/KyspySro7ISGhyOfz/V+FFQFECAISqCAtW7a8JBAIrJTUplWrVmG7OHFUVJS6dOmi6jWqa8OGDQoEAj0aNGjQrEaNGh/m5eX5K7wgwKYISKBiGI0aNXrVNM3b4uPjtWDBAtWqVSt8xRiG3C63WrZsqXXr1qmoqMh9ySWXdI+Pj1+Zk5PD9Z4AcZIOUCHatGkzyu/3D6lWrZrmzJmjyy+/PNwlSZK6dOmihQsXKiEhQaZpXm8YxsZ27dq1CnddgB3wDhIIMZfL1dc0zTckGdOnT1eHDh3CXdIZ6tatq969e8vj8cjn89X2+/3JjRs39hw4cIALI6JKIyCBEGrbtq0rEAh8KCnm8ccf1x133BHukixdeuml6t27t3w+n3bt2hXj9/vvadCgwbGcnJyN4a4NCBcCEgiRjh07xv/7jNXL+/Xrp1GjRlXoGasXKjo6Wn/4wx/kdDq1adMmQ9JN8fHxDRs1avRxdnY2lx1ClUNAAiHQrVu3aseOHftIUqu2bdtqxowZio6ODsrYx44d09dff62GDRsqKiq4/4QNw1Dbtm3VvHlzrVu3Tn6/P8k0zd83a9Zsxb59+04GdTLA5uy7nAUil+FyuRZLGnDFFVdoyZIlqlOnTlAGLiws1EMPPaStW7dKktavX6/q1asHZexfy8rKUkpKin766ScZhrHb6XT23bJly86QTAbYEGexAkHWunXriZIGxMXFae7cuUELR9M09fzzz5eEoyTdd9992r9/f1DG/7WWLVsqLS1N1157rUzTbF5UVLShdevWPUMyGWBDbLECQZSYmHiXpFccDodmz56txMTEoI391ltv6e2335ZhGCck3WUYRuu8vLz6H374odxutxISEoI212lxcXHq3bu39u7dq++++66aw+EY2KBBg4M5OTlbgj4ZYDMEJBAkbdq0aWea5nJJzifGPqE+t/QJ2thr167Vs88+K0mmpDu9Xu+Kpk2bLvH7/a6TJ09etWrVKiU0TFCLq1oEbc7TnE6nevbsKdM0tXXrVoekPgkJCYV8PB0qOwISCAK3232FaZr/ME2zzl133aVHHn4kaGesfvPNN3r00UdVXFwsh8Mx1uPxvCVJ+/fvL+jSpcvSvLy8Gn6/v9PatWtVVFSk9u3bB/1sWcMw1LJlS73xxhunb9qRk5PzUVAnAWyGgATKyeVyxUlaI+mqjh07asqUKUE7uzQ3N1dDhw7VkSNHZBjGmx6PZ3zp+7OyssycnJzVCQkJByTdnJ6e7vjuu+90ww03yOl0BqUGSfL7/XriiSf0r3/9S4ZhZEVHRw/Mzs4uCNoEgA1xkg5QPg7DMBZKatu0aVPNmDEjaMF06tQpjRgxQjk5OZL0RVFR0UP6ZYv1v2zbtm1BdHT0/0g69Omnn+qBBx44/bygmD17tr744gsZhpFrmmafrVu3Hgna4IBNEZBAObhcrudM07y9Zs2amjNnTtA+gDwQCOiZZ55RZmamJO1xOp13ZGVlFZ7tOVu3bv2Hw+Ho6HA4du3YsUMDBgzQ9u3by13Le++9p0WLFklSYXR09G1er/f7cg8KAKi8EhMTB7pcLrNNmzbmxo0bzWB65ZVXTJfLZbrd7sNt27a95kLqat26dR2Xy/Wpy+Uy27dvb65evfqi69i4caPZpk0b0+VymS6X695Q/SwBO+IdJHCRAoHAWOmX388F8885Pv74Y73yyisyDMMfHR39x/T09B0X8vzMzMxDTqfz5qioqL8UFBToiSee0KuvvirTtNydLdPevXs1ZswY+f1+mab5Z6/Xu/CCBgAiHCfpABepUaNGPwYCgTslRaWnp6tLly669NJLyzVmZmamRo4cKb/fL4fDkZKRkfG3ixknOzs74PP5PmzYsGGeaZo3bd682di7d69uuOGG8/rIuyNHjmj48OHKycmRYRjve73eB1XG7z+ByoqABC5Sdnb27oYNG64wTfOW7OzsWp9++qmuu+46XXbZZRc1ns/n0/Dhw3Xs2DFJ+l+Px/NMeWv0+Xwb69evv9kwjH67d++O2bRpk7p06aLY2Ngyn1NUVKQRI0Zo+/btcjgc24qKivr+9NNPnLGKKoctVqAcMjIyPDExMR0kbdi3b5+Sk5O1fv36Cx4nPz9fKSkpys3NlWman1x22WWPB6vGzMzMjwzD6ORwOL73eDwaOHCgdu3aZflY0zQ1bdo0bdy4UZJ8gUCgb1ZW1vFg1QJEEt5BAuV04MCB49dcc82SwsLC3xYUFLT++OOPVaNmDbVq1eq8/mA/EAho3Lhx2rJliyR9ExUV1WvDhg35wawxJyfnp4SEhDRJnY4dO9Zk5cqV+t3vfqemTZue8bi0v6ZpwfwFknTK4XD8j8fj+SaYdQCRhIAEguCHH34o9vl87zVs2NDv9/v/sP7/1isvL0+dOnU654cGvPTSS1q2bJlM08xzOp3dMzIyDoSiRp/Pl1+jRo00p9PZuLi4OPHjjz9WbGys3G63DMPQl19+qUmTJsk0TRmGMdDj8XwSijqASEFAAkHk8/m+aNCgwQ5Jfbdv3x7t8XjUtWtXxcTEWD5++fIPNGvWbBmGURwVFXVLRkZGRijry8vL8+fk5HyQkJCQb5pmz6+//trIyclR/fr1lZKSosLCQkl6xuv1/m8o6wAiAdeDBEIgMTGxvWmaH5immdC0aVPNnTtXTZo0OeMx6enpGjZsmIqLiyVpqNfrfb0ia0xKSupfXFy8xDTNkjN2DMP4m8fjGSDOWAU4SQcIhW3btm02TbODYRgZP/zwgwYNGqRNmzaV3L9v3z6NHDnydDi+UNHhKElbt2593zCMzoZh7JckwzA2xsbGPiDCEZDEFisQMjk5OUfj4+MXG4ZxzalTp6758MMPdfnll6tRo0Z68MEHlZ2dLcMwVrZo0WJoVlZWWELJ5/P5mjRpkibp50AgMJbPWAX+gy1WIPQcLpfreUkTfnW7t0aNGr9fv379sXAUBeDsCEiggvz7s0zf/veXP0dFRSVlZGT8K5w1ASgbW6xABcnJyfE0btz400AgUMfpdA5LT0/nbwwBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAV9/8BbvnqgeQD8zMAAAAASUVORK5CYII="},78417:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715143520445-80aa7ada5de3eaabac4b13f106cedde3.png"},46881:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtEAAADfCAYAAAAwXI9eAAAgAElEQVR4nO3df3DU9b3v8dd3CXQUVGx0FXuPbTlVcsnNN4EkqGNoEKhadSo9Siz10OlxDtMawBnBipXWem2RoQWsBPDMoHLtGWUapVbrjyuDYyJp0ZKAic0h/jj0qEeB2BTohdOaH/u5f3A2Qghkv7vfzffz2X0+ZpxRk/3uO+/P5737yu43+5UAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJbxoi4gBLGysrJbEonEXM/zJhpjzom6ICAIz/P+ZIz5t1gs9q9vvPHGo5ISUdcUAuYSTmMuAfvYNpeuh+hYaWnpM8aY66IuBAiD53m/aW1tnSW3n7CZS+QU5hKwjw1z6XSILisr++dEIrFhwoQJuvvuu3XRRRdp9OjRUZcFBHLkyBG98847uv/++/XWW29J0j+3tbU9EnVd6WIukQuYS8A+ts1lLKo7DkMikZgrSXfffbfKysp4QICTRo8erbKyMn3/+99P/q+5UdaTKeYSuYC5BOxj21w6HaI9z5soSRdddFHUpQAZS+5jz/OKIy4lI8wlcglzCdjHlrl0OkQn/yiC36iRC8aMGSPp033tKuYSuYS5BOxjy1w6HaIBAACAKBCiAQAAgIAI0QAAAEBAhGgAAAAgoIKoC8DxjDFqbm7Wtm3b1NzcrH379unQoUM666yzdP7556uiokJTp05VRUWFPM/pj/mOBP1FGNhH2UV/EQT7Jbvo78k5/dP6vm8kqbW1NepSQrFt2zatW7dOu3fvHvJ7i4uLdeutt2rq1KnDUFlucKG/paWlkqS2tjZnZzPX5nIgF/aRy2zsL3NpLxv3Sy6xub82zKWzDwhS7jwodHd3a/Xq1dq0aZMkqaioSNded60qyit0wQUXaMyYMTp8+LA++ugjNbc06/nnnldHR4ckac6cOVq0aJFGjRoV5Y9gNZf6a8ODQqZyZS4Hcmkfucjm/jKX9rF5v+QCF/qbC3MZKd/3je/7xmU9PT2mtrbW+L5vpk+fbhoaGkwikTjlbRKJhGloaDDTp083vu+b2tpa09PTM0wVu8W1/ib3dNSzlYlcmMuBXNtHrrG9v8ylXWzfL65zpb82zKXT6T2M36xNxOf6LFu2TPX19SoqKtL69etVWFiY8m27urpUW1urjo4O1dTUaOnSpaHXN5ioexaEa/3Nhd+ss/GKV9R7zrV9JEXfsyBs7y9zebyo95bt+2UwUfcsCFf6a8NcOvuAIGX+oBD1uT4tLS265ZZbFI/H9fjjjysejwc+Rmdnp26++WZ1dnZq48aNmjx5cmj1DSbqngXhYn9teFDIVNghOuo95+I+irpnQbjQX+byU1HvLRf2y0BR9ywIl/qbC3MZqXTfnvrkk0/M8uXL+98KqKmpMY/94jHT3t5uDhw4YHp6esyBAwdMe3u7eewXj5mampr+712+fLn55JNPMn4bIpFImDlz5hjf982LL76Y0bFeeOEF4/u+mTNnzpBvuaTLhp4F4Vp/k2x4eypTYb1tbMOec20f2dCzIFzpL3Npx95yZb8k2dCzIFzrby7MZaTSeVCw5Vyf3bt3G9/3zaxZs0xfX19Gx+rr6zOzZs0yvu+bjo6OjI41GFt6FoRL/T1WLjwohBGibdlzLu0jW3oWhCv9zfe5tGVvubJfjLGnZ0G41F9j7JjLvLvYyooVK9TU1KSioiLV19erurp6yPOPPM9TdXV1/zlCTU1NWrFiRUZ1NDQ0SJJmzpypWCyzZYjFYpoxY4Yk6ZVXXsnoWIOxpWdBuNRfnMiWPefSPrKlZ0G41N98Zsvecmm/2NKzIFzqry3yKkS3tLSovr5e8XhcdXV1gU6Wl6TCwkLV1dUpHo+rvr5eO3fuTLuW5uZmSdJll12W9jGOlTxOS0tLKMdLsqlnQbjSX5zIpj3nyj6yqWdBuNLffGbT3nJlv9jUsyBc6a9N8iZEG2O0atUqSdLixYvTOllekuLxuBYtWiRJWrlypYxJ752Ezs5OSdK4cePSuv1AyeMkjxsG23oWhAv9xYls23Mu7CPbehaEC/3NZ7btLRf2i209C8KF/tomb0L0W2+9pfb2do0fP15XXnllRse66qqrNH78eLW3t+vtt99O6xgff/yxJGns2LEZ1ZJ09tlnSwp3s9rWsyBc6C9OZNuec2Ef2dazIFzobz6zbW+5sF9s61kQLvTXNnkTojnXJzh6huHGnguOniFb2FvB0bP8kjch2rZzfc4991xJ0sGDB0Op58CBA5KU9ltHg7GtZ0G40F+cyLY958I+sq1nQbjQ33xm295yYb/Y1rMgXOivbfImRNt2rk9yU+3duzeUepLHCXOz2tazIFzoL05k255zYR/Z1rMgXOhvPrNtb7mwX2zrWRAu9Nc2eROibTvXp6KiQpK0ffv2UOpJHqe8vDyU40n29SwIF/qLE9m251zYR7b1LAgX+pvPbNtbLuwX23oWhAv9tU3ehGjbTJs2TZK0detWJRKJjI6VSCT08ssvS5KuuOKKjGvLBfQXYWAfZRf9RRDsl+yiv8HlTYi27VyfCRMmqLi4WHv27NGWLVsyquWll17Snj17VFxcrIsvvjijYx3Ltp4F4UJ/cSLb9pwL+8i2ngXhQn/zmW17y4X9YlvPgnChv7bJmxBt27k+nudp8eLFkqRVq1al/VZNZ2enVq9eLUm64447hrwiUhC29SwIF/qLE9m251zYR7b1LAgX+pvPbNtbLuwX23oWhAv9tU3ehGgbz/UpLy9XTU2NOjs7tXDhQnV1dQW6fVdXlxYuXKjOzk7V1NRo8uTJadcyGBt7FoTt/cWJbNxztu8jG3sWhO39zWc27i3b94uNPQvC9v7aJm9CtK3n+ixZskRVVVXq6OhQTU2NGhsbh7wykTFGjY2NqqmpUUdHh6qqqrRkyZKM6hiMrT0Lwub+4kS27jmb95GtPQvC5v7mM1v3ls37xdaeBWFzf21TEHUBwyV5rk97e7u2bNmiq6++Ou1jhXmuT0FBgR544AGtXr1amzZt0m233aaioiJdc801qqys1Lhx4zRmzBgdPnxYe/fu1Y4dO/TCCy+oo6NDkjRnzhwtWrRIBQXhL6WtPQvC5v7iRLbuOZv3ka09C8Lm/uYzW/eWzfvF1p4FYXN/beP0iSq+7xtJam1tTen7W1padMsttygej+vxxx9P6xyjzs5O3Xzzzers7NTGjRtDfauiqalJ69evV3t7+5DfW1xcrNraWlVVVYV2/4OxvWdB2NjfgUpLSyVJbW1tzs5m0LkcyPY9Z+M+sr1nQdjY33yeS9v3lo37xfaeBWFjf5NsmEtnHxCk9B4Uli1bpvr6ehUVFWn9+vUqLCxM+bZdXV2qra3tf4tj6dKlwYsegjFGzc3Nampq0o4dO7R//34dOnRIZ511ls477zxVVlaqqqpKFRUVw3ayvu09C8LG/h7LhgeFTGUaoiX795yN+8j2ngVhW3/zfS5t31u27RfJ/p4FYWN/pdyYy0j5vm983zdB9PT0mNraWuP7vpk+fbppaGgwiUTilLdJJBKmoaHBTJ8+3fi+b2pra01PT0+g+3UZPRs+yT0d9WxlIp25HIg9Fxw9y558n0v2VnD0LPtsmEun03u6v1l3d3f3n+sjKa1zfUaNGhXyT2M3ejY8cuE36zBeiZbYc+mgZ9nBXLK30kHPssuGuXT2AUHK/EHB5nN9bEXPssuGB4VMhRWik9hzwdGzcDGXn2JvBUfPssOGuXT2AUEK50HBWHquj83oWfbY8KCQqbBDtMSeSwc9Cw9zeTz2VnD0LHw2zKXTK5WNJ2sgSjY8KGSKuUSuYS4B+9gwl3lzsRUAAAAgLIRoAAAAICBCNAAAABAQIRoAAAAIiBAN5JhJkyZ9PuoaAITL9/3/MXv27BFR1wHgU4RopOWDDz7QrFmz1N3dHXUpkDR58uQvlZSULPF9//W+vr7/iLoeRIO5zF2e5/2go6Pjw0mTJj1UUlIyc9q0aQVR14TUMJe5iyFEWg4dOqQ//vGPUZeR1yZNmjRR0o19fX039Pb2+ny2KJjL3OZ53nl9fX3f9Tzvu11dXX8uLS19pqCgYPOhQ4e2vvvuu59EXR8Gx1zmLl6JzkF/+MMfVFpaqueef04zZ87UV77yFe3YsUNPbHpC1dXVmjFjhrZt29b//Tt27NA3v/lNVVRU6LrrrtNrr73W/7X6+l9q5syZmjJlilatWtX//2+++WZJUmVlZf9nNUpHL3P6s5/9TNXV1brsssu0dOlSHT58+Li6fvPcbzRt2rTjjoeUeOXl5ZN931/m+/7uvr6+9r6+vv8tyY+6MAyNuUSYPM/7rDHmn3p6ep4bPXp0p+/7j5eWlv5DeXn56VHX5hLmEpkgROewd995V88++6wuv/xy3XXXXXrvP97Tiy++qBkzZmjlypX933fkyBH98Ic/1O9+9ztNnz5dy5YtkyR9+OGHWrbsfi1fvlwNDQ366le/2n+bxx9/XNLRB5RjP7x/2bJl2r17t5588km9+H9f1J///GetXr36uLpef+11Pf/88/rOd76TzR8/V8QmT558qe/7K8vKyv69p6enRdLdkoqiLgzpYS4RNmPMmZK+aYzZ3Nvb+3FpaelTvu/PueSSS86MujZXMJdIR96fzpG8FOe2bdvU3Nysffv29V+K8/zzz1dFRYWmTp3q5KU4b7rpJp1++um65ppr9PTTT+vb3/62Tj/9dF111VX65S9/qb6+Po0YMULTpk3T3/72N+3Zs0djxozR+++/r97eXo0cOVKxWEz79u9TZWWlJk6ceMr7O3jwoJ599lnV19crHo9LkubOnavv3fk93XPPPf3f961vfUujR4/O6s+eKlvXv6Sk5MsFBQU3JhKJf+jt7f2cJCUSiZRvn7w6Wa6wdZ3SwVwGZ8v6RzlXxqR218aY0yXdIOmGv/71ryotLX3O87zNQR4/UqnFhvUIE3OZulxc/3TldYjetm2b1q1bp927d5/wta6uLnV1dam9vV2PPfaYiouLdeutt2rq1KkRVJqes846S5J0+ulH390rLCyUJH3mM5+RpP4HhbVr1+rpp5/WpEmT+r+WSCQUj8e1fPlyrV69Wr947BdaunSpysrKTnp/+/btUyKR0I033njC13p6evr//XOf+1w4P2CGbF7/kSNHmt7eXhOLxUyqT565yuZ1SgdzGUyurX8EzH//E4pcXQ/mMjW5uv7pyssQ3d3drdWrV2vTpk2SpKKiIl173bWqKK/QBRdcoDFjxujw4cP66KOP1NzSrOefe17t7e1asGCB5syZo0WLFmnUqFER/xTh+PDDD7Vhwwb9+te/1he/+EW99tpreu655/q/fvXVV2vGjBmqq6vT4sWL9fLLL5/0WJ/97GclSVu2bNF555130u+L+jdTF9Z/586d2yRtk3R7eXl5ZV9f342SbkgkEl9M5fZtbW2RNTmsV+tcWKdsyce5HMjG9Y9yrkpLS//FGDPke/qe5/1XLBZ7oa+vb/MZZ5zx/G9/+9v/J0m+7/+fTO7fxvUYbvk8l6z/4PIuRPf29ur2229XU1OTzjnnHN1zzz368pe/fMJGHTt2rMaOHauJEydq7j/O1auvvqr77rtPmzZt0gcffKAHH3xQBQXut6+3t1eStHfvXhUWFuqJJ57o/9q+ffu0f/9+FRcX6+8u/Dt1d3fLGCPP83TmmUdPtWttbdWECRN05plnKh6Pa8qUKVq5cqW+973vqbCwUHv27NHBgwdVWVkZyc83kIPrn2hpaXld0uuS7qyoqCjr7u6+QUffrs3Z86IdXKdQ5dtcDpTv6x+U53l/kfQbSZsLCgpeamlp+a8wj896HJWvc8n6n1ze/WHhihUr1NTUpKKiItXX16u6unrI3/Q8z1N1dbXq6+tVVFSkpqYmrVixYpgqzq7Pf/7zmjt3rm6//XbNnTtXVVWX93+tr69P9957ry699FI98fgTWr58eX+vLrzwQt10002aP3++vv71r/ff5qc//alisZhmzZqlSy+9VD/60Y9SPpdvODi+/qa5uXlXW1vbD9ra2v7niBEjikeMGHGP53mtQ9/ULY6vU8bybS4Hyvf1T1GX53mPjho16tojR47EW1tb/7G1tfXpsAO0xHok5etcsv45yvd94/u+SVVzc7Pxfd/MnDnT7N+/P+XbHWv//v1m5syZxvd909LSktYxEA0X1j+5p4POQnl5+d+XlZXd6fv+61H/UWHQuRzIhXVC9ti4/unOZZhKS0v/paSkZJ/v++t9358R9GIr6c6ljeuB4WPz+tswl3nzSrQxpv9zFhcvXtz/17BBxeNxLVq0SJK0cuVKK39rxIlyff1bWlr+/Y033vhpW1vbJSNGjPhC1PWkK9fXCafG+p+cMeYnRUVFn2tra6tta2t7uaGhoXcY7pP1yGOs/9DyJkS/9dZbam9v1/jx43XllVdmdKyrrrpK48ePV3t7u95+++2QKkQ25dP679q1672oa0hXPq0TTsT6n1xbW9t/Pvnkk33DeZ+sR35j/YeWNyG6oaFBkjRz5kzFYpn92LFYTDNmzJAkvfLKKxnXhuxj/d3AOuU31t8urEd+Y/2Hljchurm5WZJ02WWXhXK85HFaWlpCOR6yi/V3A+uU31h/u7Ae+Y31H1rehOjOzk5J0rhx40I5XvI4yePCbqy/G1in/Mb624X1yG+s/9DyJkR//PHHko5+jmEYzj77bEm5tRlyGevvBtYpv7H+dmE98hvrP7Tc+tTrHGAcuCa9CzUC2eTCDLhQIxAGF/a6CzUiuLwJ0eeee67ee+89HTx4UKeddlrGxztw4IAkpf2RL4Nx4Zr0LtQ4GBfWH26skwsz4EKNg3Fh/fOJC+vhwl53ocbBuLD+UcubEB2Px/Xee+9p7969oZzfs3fv3v7jZsqFa9K7UOOp2Lz++JTN6+TCDLhQ46nYvP75yOb1cGGvu1Djqdi8/ghBkCswPfTQQ8b3fbN27dpQrpRTV1dnfN83Dz30UEbH6enpMbW1tcb3fTN9+nTT0NBgEonEKW+TSCRMQ0ODmT59uvF939TW1pqenp6M6nC9xqHYuv4D2XAFpkxlcsVCW9fJhRlwocah2Lr++TqXtq6HC3vdhRqHYuv6J9kwl3nzh4XTpk2TJG3dulWJRCKjYyUSCb388suSpCuuuCKjY7lwTXoXahyKreuP49m6TmHOwPbt2wd9WzdTmdR477336sILL2ROcRxb18OF5yQXahyKretvk7wJ0RMmTFBxcbH27NmjLVu2ZHSsl156SXv27FFxcbEuvvjitI/T0tKi+vp6xeNx1dXVqbCwMNDtCwsLVVdXp3g8rvr6eu3cuTPtWlyuMRU2rj9OZOM6hT0D3/3ud/WNb3xDjY2NadcUZo2NjY1asGCB3n//fZ155pnMKfrZuB4uPCe5UGMqbFx/2+RNiPY8T4sXL5YkrVq1Ku2PWOns7NTq1aslSXfccUfaf0VrHLgmvQs1psq29cfgbFunMGegqqrquP+3ePHiUIJ0JjU2Njb291uS/vKXv0hiTnGUbevhwnOSCzWmyrb1t1HehGhJKi8vV01NjTo7O7Vw4UJ1dXUFun1XV5cWLlyozs5O1dTUaPLkyWnX4sI16V2oMQib1h8nZ9M6hTUDmzc/pV/96leSpHvu+aHmzZunnp6eUIJ0ujUmA3RPT4/mzZunH/zwB/1fY06RZNN6uPCc5EKNQdi0/jbKqxAtSUuWLFFVVZU6OjpUU1OjxsbGIX/DM8aosbFRNTU16ujoUFVVlZYsWZJRHS5ck96FGoOyZf1xarasUxgzsHnzU7rvvh9LOhqgb7jhRs2fPz+0IJ1OjQMD9Pz58zX7xtnHBel169alXVOmbFl/HGXLerjwnORCjUHZsv42ypuPuEsqKCjQAw880P+xM7fddpuKiop0zTXXqLKyUuPGjev/2Jm9e/dqx44deuGFF9TR0SFJ/R87U1CQWeuycU36DRs2hHpNehdqDMqW9cep2bJOmc7AYAFaOvo26fz58yVJGzZs0OLFi7Vq1SpVV1dnvcbBAnTy7dXZN86WJP3kxz9RY2OjNm9+qr/m4WTL+uMoW9bDheckF2oMypb1t1Hu/UQpGDVqlO666y5VVVVp/fr1am9v71/skykuLlZtbe0J5zWmy4Vr0rtQYzpsWH8MzYZ1ymQGThagk8IK0kFqPFWATjo2SCfrjyJI27D++JQN6+HCc5ILNabDhvW3UV6G6KSqqipdfvnlam5uVlNTk3bs2KH9+/f3X4rzvPPOU2VlpaqqqkK/FKcL16R3ocZMRLn+SJ2LczpUgE4KI0inWmMqATrJliAtMae2cXEeT4bnzeCYx+PldYiWjj6JVVZWqrKyMupSEAHW3w0urVOqATopzFM7TiZIgE6yKUi7tP75gPXIb6z/p/LuDwttce6550qSDh48GMrxsnFNehdqBLIp6AwEDdBJySCdzh8bDlVjOgE6afaNs7X0B0slSffd92Nt3vxUSrcDssGF5yQXakR4CNERSQ5E8lrymcrGNeldqBHIpiAzkG6ATko3SJ+qxkwCdFLN7BqCNKzgwnOSCzUiPIToiFRUVEiStm/fHsrxkscpLy8P5XiSGzUC2ZTqDGQaoJPSCdInqzGMAJ1EkIYNXHhOcqFGhIcQHREXrknvQo1ANqUyA2EF6KSgQXqwGsMM0Ek1s2u0dOndkgjSiIYLz0ku1IjwEKIj4sI16V2oEcimoWZg+/btoQbopCBBemCN2QjQSTU1Nx0XpHft2hXKcYFUuPCc5EKNCA8hOiIuXJPehRqBbBpqBgoLC/v/fe/efUNexSvofacSpI+t8f77789agJaOXoXso48+PdczFy+eAHu58JzkQo0IDyE6Qi5ck96FGoFsOtUMXHzxxVqzZo1GjhypDRs2aN26dZEE6fLycl1++eU6dOhQVgP0gw8+qI0bN2rkyJFas2aNSkpKQjs+kAoXnpNcqBHhIERHzIVr0rtQI5BNp5qB6upqrVq1KtIg3djYqN///veSNCwBOuzPsQaCcOE5yYUakTmn3x/wfd9IUmtra9SlZKS7u7v/mvSS0rom/ahRo/K+xlxQWloqSWpra3N2NnNlLgcaagZ27dqlO++8M6uvBK9bt04bNmw4Lshm8xzo5P3me4BmLu3jwnOSCzW6zIa5dPYBQcq9B4Wmpqb+a9IPJapr0rtQo8tseFDIVK7N5UCpzsBwBOnrr79ezzzzTFYD9Jo1a/Too4/mbYCWmEubufCc5EKNLrJhLp19QJBy80HBGGP9NeldqNFVNjwoZCoX53KgU83Aaaedpo8++kh9fX1ZD9JJBOjsYi7t5sJzkgs1usaGueRPqy3jwjXpXagRyKahZiB5ikUy6IYZcJPnSEvShg0bCNDIey48J7lQI4LjDwsBIGTD8ceGCxYsUGNjoxYsWECABoAIEKIBIAuyHaQlaezYsaEejwANAKkjRANAlgxHkA6LMUZ1dXUEaABIESEaALLIhSCdDNCPPPIIARoAUkSIBoAsszlIE6ABID2EaAAYBjYGaQI0AKSPEA0Aw8SmIE2ABoDMOB2iPc/7kyQdOXIk6lKAjB0+fFjSp/vaVczlqdkQpI0xWrt2LQE6BcwlYB9b5tLpEG2M+TdJeuedd6IuBchYch8bY4a+NqzFmMuhRRmkkwH64YcfJkCngLkE7GPLXI6I8s4zNW7cuAJjzNd2796tL33pSzrjjDM0atSoqMsCAjl8+LDa29u1fPlydXV1SdJP9u/fvyvqutLFXKbmC1/4giZMmKCtW7dqx44d6uvrU2VlZVYv+UuATh1zCdjHtrl0/QLtsdLS0meMMddFXQgQBs/zftPa2nq9JDs+uiE9zGWa5s2bpwULFmTt+GvXru2/FDlSx1wC9rFhLl0P0ZIU833/nyTN9Tyv2BhzTtQFAUF4nven/35L6l/b2to2SkpEXVMImMs0NTY2hn4lQkk6cOCApk2bFvpxcxVzCdgnR+cSAJCOkpKS60tLS7t93zd1dXUmm+rq6ozv+6a0tLS7pKTk+qh/dgBwmdPnRAOAy0pKSq6PxWJPGmNGzps3T/Pnz8/qOdGVlZXq7e3Vzp07R8RisRvi8XhbZ2fnW1m7QwDIYYRoAIjAcAdoSfI8T1OmTCFIA0AICNEAMMyiCNBJBGkACAchGgCGUZQBOikZpHt6egjSAJAmQjQADBMbAnQSQRoAMkOIBoBhYFOATiJIA0D6CNEAkGU2BugkgjQApIcQDQBZZHOATiJIA0BwhGgAyBIXAnRSMkh3d3dr165dBGkAGAIhGgCyYDgC9IEDB3TaaaeFdjzP83TJJZcQpAEAADD8Bl7KO5FIhHr57kQi0X8J76997WtZOf7Pf/5zLhEOAKfAK9EAEKJsvwJtjNHatWv18MMPS5IOHjyovr4+VVZWhnY/vCINAEMjRANASIYzQHue1+N53mOe5/2vlpaWEQRpABhehGgACMFwB+hEIjG7ra3tp/F4vC0Wi92QzSD9ySefEKQBYABCNABkaDgCdF1dnR555JH+AP3mm28+I0mdnZ1vHRuke3t7NWXKFII0AGQZIRoAMhBlgE46Nkjv3LmTIA0Aw4AQDQBpqqiomJRIJF6RNCKqAJ003EHa87xvXHDBBVv27dv3n6HcAQA4JhZ1AQDgqu7u7vOS/z5u3PmRBeikN99885lEIjHb87yehx9+WGvXrpUxJrSaPM/TBReM6//v3t7ekaEdHAAcw+ipPf0AAAJ1SURBVCvRAJCm/fv3vztu3LiPjTHXNja+qnj8XE2cODHj46YToJOy+Yp0ff0vtWzZ/ZKkWCw2v62t7amMDwoAjiJEA0AG9u3bt+PYIH3OueeoeGJx2sczxmjNmjV69NFHAwfopIFBuqenJ+MgPTBAv/HGG+vTPhgA5ABCNABk6Ngg/eqr6QfpMAJ0UphBmgANACciRANACDIN0mEG6KQwgjQBGgAGR4gGgJCkG6SzEaCTMgnSBGgAODlCNACEKGiQzmaATkonSBOgAeDUCNEAELJUg7QxRg8++KA2btyYtQCdNDBId3d365JLLhk0SBOgAWBohGgAyIKBQbrwnEIVF38apIczQCcdG6R37do1aJAmQANAagjRAJAlxwbpba9u6w/SUQTopFMFaQI0AKSOEA0AWXRCkC78rLZu3RpJgE4aLEi///57BGgACCC8a9QCAE6qrKysNpFIrEv+d1QB+lglJSXXx2KxJ40x/ZfvJkADQGp4JRoAhsGxr0hLkjHmhigDtPTpK9Ke531DIkADAADAUqWlpVeVlZWVRV3HsSZNmnRZSUnJl6OuAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjA/wdaTbFtvXAf2QAAAABJRU5ErkJggg=="},60559:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715150511611-a79d4701a0c7d587dcbbc79defcef4b8.png"},45865:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715150536830-b202bdb1c6b9b97dcaa5dadedb7c6703.png"},39630:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715150547405-15c51e4a7331169f837fc10ccfe0f20b.png"},34302:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715150600549-dfc71a5054a713feb23e0aa34b731db4.png"},48096:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715150622214-d0ee63314c2a6bc64a6b8e455b29be45.png"},8686:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715150657023-9357349f597663c6da551a4f5ece6aba.png"},84565:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715150710832-8423b77f60a02b08687d6f60a46530bd.png"},79427:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715150812789-9e113a929c77c7dda85be1f34f97ae20.png"},70640:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715152802050-9860c5393b381ddc16725aab4447e9b1.png"},46794:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715152925965-cfd5d9d272ec81b3258670b0d4eb78e2.png"},46470:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715152956657-beec5ef50a5bfc1e62bceed2172830ea.png"},78853:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715153053443-b9403e1d3e8067c202b30bfcf24861a6.png"},21102:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715153124553-0d6827c6a2647cb1a7414b7032e6c6f9.png"},80426:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715160726101-69cb7357214e624816cc8c0169aae82f.png"},66179:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715161214356-0a3de9808740d94cb9efbb0133e2b1d4.png"},77287:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715161234139-98b62516b548446219b8f0e80dc16389.png"},38593:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220715161306957-a3eef40721cdb8606d23d03fb56318b1.png"},45808:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220716153002622-169a5346b40463176e7a4dde30b4f36e.png"},44595:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220717161851452-b623270de310cbd32d58a88c9cde8924.png"},33386:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220717162534775-ce28b5ebe6d935b7001401e35fa41517.png"},53072:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220717163910297-f25019f7d7570f3678cbd9e629e02fe1.png"},63336:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220717163933495-791c473be10f64607430ad90a068a65e.png"},63302:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220717165055763-10c355d241d95de3ff30316e3ecc1da4.png"},12846:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220717165140152-061500b1438988776b4be3b5465115e0.png"},77371:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220717165148621-0c070b07f89e51e2a75cdc66711ab8b9.png"},53308:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718133551150-6f11d13e35e3ae513c95dcd7faf30fb5.png"},92076:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718133843334-87b698d0a4af42452d28f0ed64a26390.png"},66912:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718134133927-5c1f985b4586d7ed303871e922ca636a.png"},13950:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718134312198-87b698d0a4af42452d28f0ed64a26390.png"},52334:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718150512474-b9dac2c87b18120287cc94121d8f58df.png"},81521:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718150623675-9ec682448ba30435e9dd99650d953f6c.png"},68718:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718151134708-9b242770349fc53279c1df2c0bbdd786.png"},7804:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718151150466-8f5d0972e1d849fb4d9ebb04d645eb6a.png"},17635:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718151430741-b71a15cd85046c17a4e4fcf61bbb7467.png"},55182:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718151452778-d7fd5ed5a23730f31e116baa1d415d76.png"},32730:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718151501747-1d6d65977b41a833c092f3a61b6dee37.png"},42862:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718151518568-1fa7360ddb9119988f0ed32d5267b71b.png"},85159:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718151526400-1f5372fcc3ae7421210fe7c421358bac.png"},55183:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718151534470-a349769bb3267cb4f02d72ae0eadf25c.png"},34209:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718151542331-e94311f4ae6bef80515481c77025951a.png"},19833:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718151640795-ad1316f80f3364198d126205a544e39c.png"},61625:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718151649816-cb0f5baff95248d0ad987c3141eab651.png"},19988:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718151659105-6aea84ba6e436593f43af63947b2d7b8.png"},24435:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718151712840-cf52c5b07c18fc14bea4a5830d87b42b.png"},78232:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220718201745624-746ed14cb74d5bc2a1719871e743421a.png"},42807:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220719142312335-e4b8956adb1e72e073bb0bc3801d779d.png"},28041:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220719142348103-b641e52c9b9137d01bbb2b0dd069f3b0.png"},43326:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220719154816995-eb013d1a3dacfbebf65681100a776621.png"},95630:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220719154834850-1520b81308c5f11bfeadf8bc27c5ea09.png"},61722:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220719154855457-2de345ac8fbf385d258578a5af4c9d11.png"},37394:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220719155205627-dcf0bf937b8c9b7172e40524acf812eb.png"},47026:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220719155237924-c2feec7d161564fb2b86b787e7979e53.png"},14608:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220720155246253-d12ac374c0df032e9d6d6d235055130b.png"},48820:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723002924420-6f96b59f4287e06489b422bfde11571a.png"},61632:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723003010392-67bde3714cbf2c87fd11db4dbdadff44.png"},85157:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723003018675-a294d1351bd81d4d7d973f151553d1f2.png"},15194:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723003032359-df02f7d1f7fc9711f72e1ff9f0239945.png"},36802:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723003049255-6580fedf52e4a11056927f30d3f88bac.png"},88750:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723003057769-ab836bcfef7f410c9e6fa0d899ed1470.png"},4834:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723003128864-4a0522124053c069d3947679028b6353.png"},11073:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723003137612-564677d5a30a6da012e48c3d9139e114.png"},67713:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723003147365-72881145863e6a40366a65bb341ec772.png"},70599:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723003222393-e787edb4a71e155ebc55eed376f8c145.png"},4892:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723003232098-3584d8733bb8a5ba243409435381a6f4.png"},42113:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723003242424-0ed2befbf94a45ae9f2dc0bf22908855.png"},85746:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723003250555-c6c2e209e2ac63f8d3ebba8916b52421.png"},92315:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723173000230-94966915fd7c86f38808f4f9cb65dba8.png"},73524:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723173831486-41cb05de13d44c4827b80d6fd9238014.png"},47584:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723173839688-c453a896617b2a42a60634ead08e8949.png"},88328:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723173943684-dce9891d77f856df2b0e35e49f95fc89.png"},6909:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723173952132-13aba27da4d1f5929dcf6e69f7600eb3.png"},95897:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723174020945-0c5d98bc8e499fe0a94f8a52082ba087.png"},94854:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723174028527-00f4342e863bf767c4c9fe03c5d373cd.png"},88470:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723174041110-0785038ddccdb2efc7d612707f14f81d.png"},37602:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723174047943-ea93ede26e86c6833e5b1a9488db7304.png"},70065:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723235648648-885939f8b4890096be193aba814a1ff7.png"},98283:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723235657177-5d137d96f4ef907ffad7b6a370b5d0ed.png"},77522:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723235737977-f376aa2be7360016531d65d4b53df6a7.png"},93732:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723235747598-180902b9af8d902cd0a8e6c7d232050f.png"},95045:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723235849004-3e214c27e256aefe159251f6c125afc2.png"},48834:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220723235856647-2b29e32fcdcd29462ff627a33fa85520.png"},76975:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725121250347-da462d33740e9ac52ee502024d1169de.png"},93334:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725121905030-44f8b7da1652fd1faf4e3e7597299264.png"},64114:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725143217373-6115946148da80be5ee73a14f585baaf.png"},22867:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725143235602-d36366a056be4cef835c26f8ea2cf829.png"},85038:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725144553583-8215eeec848433e4e0228e50e5f65728.png"},72242:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725144601249-6dd3f8a479ac0a464f4f4c2d0b3d44e8.png"},91955:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725144641131-bce67bbecbc8f4ac5242a833d71e2b24.png"},76478:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725144655251-81015cf19306ba87a316895380b8eaa4.png"},90614:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725144703356-f028a44173eb25c55fa496479a15c6f8.png"},48323:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725144724148-9c115ba311b18d9fde76fa510c24f085.png"},3622:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725145418194-a19a9bf5b868872f3fc1c90167eb358e.png"},9047:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725145659669-286496f9b2967ec5c1095785e1351489.png"},66505:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725145800448-eff0aa6e488168148117270110972829.png"},81679:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725150136872-9fd04fb05fe6b60ae936906c9d3a285c.png"},43662:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725150153331-6edfbf094346963e18a75082779a3d7b.png"},17113:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725150246041-18fb44290891fedb9f7072b1f10c95d0.png"},7946:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725150306807-11ff68f58563cbf460c75c16cc121306.png"},45552:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725150519009-13a4a474727ea9afc22d05af1213d957.png"},65472:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725150553230-e7d9ac41e2a1c810956f4afa7ace48b5.png"},36178:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725152308276-10c355d241d95de3ff30316e3ecc1da4.png"},1015:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725152351105-771aa20546713235a146469c96f2c50d.png"},82247:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725152423113-c9a164e73e25089cd1931adcf6b115c8.png"},49496:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725152443546-9fa84d79ff081e1ba25f482a3ccc5017.png"},98109:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725152513494-29fc72db4c498a4e5f6e7991b96942a6.png"},92879:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725152523692-ce039dfccffb5fa8914444360184245e.png"},61003:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725152532905-c45261862bdebac9054f958c217c96af.png"},39247:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725152542296-19c5d2f900111f9d9fcf97c39fc3b387.png"},78531:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725154831233-e1082ae9965f944461af526e0a127687.png"},47908:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725154850768-3601422a372a22bb54be6662c2299f53.png"},19750:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725154905321-2473aab49568f4910628c8a5098eb44f.png"},19241:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725154920071-e9ba61f7dc28e9f3c8b7b336786503d4.png"},82634:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725154933777-5f9a090eaef8e2d58afdf6d10b82fe6c.png"},36979:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20220725154939637-91da70d339019ca677f0300587e844c2.png"},34760:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/kafka-after-8ee6adbf9e7c794ce6013328cdc5b02c.png"},83986:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAsgAAAFLCAQAAABhbrIWAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAABeMSURBVHja7d1/cNT1ncfxt2B+7IYESAENJIEGaJb8/n42AhZUAqGQWplL649Yx1FbnJZrazu1tVeq1nJU21rFtlfUa++Y8apOiy0WRts7p4fTUitTjdafRYoiekKsP4qIQkJ43R/fzWaz2YRfG/bX87HjhOwuu+H9+ewzXzfLYgYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQCp5W52y4+RtZjUBZLRsybGTE6sJIOODnA0IMgCCTJABgCATZAAEmSADAEEmyAAIMkEGAIJMkAEQZIIMAASZIAMgyAQZAAgyQQZAkAkyABBkggwABBkACDJBBgCCDAAEmSADAEEGAIJMkAGAIAMAQSbIAECQCTIAgkyQAYAgE2QABJkgAwBBJsgACDJBBgCCTJABEOSj8Z4kqUP/GOLyx/R6wvN7dTZBBoDkBXm3WtUryemNIa5xs65PeP6h6H2/oOvVS5ABEOQT82/610gSY4P8jFqHOEnSssjJaZmWaYXa9CuOkAEQ5BML8l6drWY1q1ku8rFZzfqfyKW7tELvRo6Gr9YLCY+Qn1K7HuYpCwA40SDfqK9Hk5joKYsf6Q5J0hp9Q4clSY9Gj4/9I+TZOifyGUEGQJCP2xadoz1DBPmglmqplmiplmqpnBZrqZbqszHXeFRX6pbIETRHyAAI8gkF+W/aHJPE+CC7YV6X8WtdLKcFale72nUBQQaAE33K4h/R541jn0OWpP2Rj/Ge0fVqlVN3zHnNBBkAkvcXQ+KPkHdrQcLr/Umf18tx90qQAWAEg7xFFw977Y6YE0EGgBEM8jX64bDX5ggZAJIY5J9o3hCnP2rBkH9zzw9oe8yJIAPAiL250Pt6atjL/xj3vDJBBkCQebc3ACDIBBkACDIAEGSCDAAEGQAIMkEGAIIMAASZIAMAQQYAgkyQAYAgE2QABJkgAwBBJsgACDJBBgCCTJABEGSCDAAEmSADIMgEGQAIMkEGQJAJMgAQZIIMgCATZAAgyAQZAAgyABBkggwABBkACDJBBoCjCXK2nFhNABnN25wtOfa2spoAckrzAif38LEfhSf7mgBAkAkyABBkAABBBgCCDAAgyABAkAEABBkACDJBBgCCDAAEmSADAEEGAIJMkAGAIAMAQSbIAECQAYAgE2QAIMgAQJAJMgAQZAAgyAQZAAgyABBkggwABBkAQJABgCADwNELlNdut1FHvNZcJys8hpsdVTy/Yo3lEWT2RJ+KWxte93pCjwfm8qhDTimYWfvCMeXTju/BN/T91O+uf+0YE06Qs3xPjD3fxtu4qT+tf81O4TGKXDrqnZvsGCa+xaHvJ+iS/zUQ5MzeE74xLV63jeYxihzi5J/MzCy/bHXdTq+7btfp19to/wFT0lbznHdgxoM2IfIAGmNmo07/Wu0Or7v+lWA45qZKq37Z9F7dzrJr/YdZ0aJZT3jdtS+VLIm/n4GXjEQACHKm7wk7JVA5/f7y23iEImePkCvXzXq6qNHyAmfW7Zq8yr+sar2dFpgS6px2T/+Dr2JN7Y7ieZaXX1M4tf+WqjbO3GxlVvahP/i3OK492GyFFWvqXoy/n4GXEGT2RPwlRa1OTjM2pduuAE7eg2+CO1w8L3Jgc0VDl39ZfsjMrPSipn3RB984r2dMy6AbmuQUbDYzK1kSvcVgMDz5BifLGxTdmEsIMnti8J6wUfk11Vun3c0jFDka5GDYycb55xbPd7JR0f8dteKznGy0/3nQ9V+vXzDsZGNjb3HyTQ1d0++vutf/LPbBN/ASgsyeGLwnzMxKPup1H/kVHEB2HiGXOQXm+Od+4LL6V/zLAlPMzCYsr3+172goUO4UPCP+dgpmOOXXmJmNPd/JCgum+5/3HRv130/8JQSZPTF4T5iZlbQ17ecRipxSUO1UtMhKzcyq7gs9WdRgpwbm1O2ceJX/gJl6l5UUVNfuKFvd/3xh1cZQZ1GjnVrUVFjVf0s1z1ZttNLCD1ZvdbLC/JBTSZuNn/6A/xDrv5/4Swgye2LgJfk14z9pgUBl9SOV63iEIsdU3tn4fkOX//+Y5bfV7/Z6ardNWtEXykkrGroa91astfyYn6gXV6xteN07EHrSP/7x5deG/ux1hx4r/bT/cCv/QdN7tdsnXtUX2/77GXhJ38/a0ytSuf0XQ1K7Jwqnhjq97sa3Ku+0Ih6fQOz/uo7JzT87f1OPPQHw4CPI7AkAPPgIMnsCAEEGABBkACDIAACCDAAEmSADAEEGAIJMkAGAIANIKa/V3cApCaeHCTKAE+R6Yt+sh9MJnR4aySC7nZxG8PT7hknUAKkPspw4vk3GKXxdODRiQX6Bb3cjffIupQZIiyAzhXSffTivaRqnkTu5l52aF7AjQZCZPVK/Eg8TZBAFZs/sCTJAFJg9CDKIApg9QQaIArMHQQZRyGmB8trtNupIsz/Wf0m7YGbVfY1veQdm/C72X20GQQZBzjkFM2tfOJZ8Hnn2iYM89P1M+srEz9l4O23Gg9WPsB4EGQQ5l496j/F49niDPMz9jPY/FLW6w32/BkEGQc7RqUUnl1+2um6n11236/TrbbQf0ZK2mue8AzMetAkx/8znqNO/VrvD665/JRiOmX1p1S+b3qvbWXatn96iRbOe8LprXypZEn8/Ay/pM/6S+j2sB0EGQeYI2czMKtfNerqo0fICZ9btmrzKv6xqvZ0WmBLqnHZPf5Ar1tTuKJ5nefk1hVP7Z1+1ceZmK7OyD/3Bv8Vx7cFmK6xYU/di/P0MvCQiL/TY5G+xHgQZBJkgm5lNcIeL5/nnll7R0OVflh8yMyu9qGlfNMjjvJ4xLYmOs4PNZmYlS6K3GAyGJ9/gZHmDnrKIuSTyzeAn1VutgPUgyCDIBNnMgmEnG+efWzzfyUZFn6Kw4rOcbLT/edD1X29gkG1s7C1Ovqmha/r9Vff6n8UGeeAlZmZTbqndZrxHGUEGQSbIkSyWOQXm+Od+4LL6V/zLAlPMzCYsr3+17wg5UO4UPCNRkPNrzMzGnu9khQXT/c/7jpf77yf+ErMpN9Y8b2WsBUEGQc5xBdVORYus1Mys6r7Qk0UNdmpgTt3OiVf5EZ16l5UUVNfuKFvd/xxy1cZQZ1GjnVrU1PfKYSenmmerNlpp4QertzpZYX7IqaTNxk9/wM9u//3EXzL5hppn7TRWgiCDIMMq72x8v6HLzMyC5bfV7/Z6ardNWtF39DxpRUNX496KtZYf8yqL4oq1Da97B0JP+sfE/uzza0N/9rpDj5V+2g9t+Q+a3qvdPvGqvuPg/vsZeEnsO/me+AvwCDJBBkHO3qczxjB7ggwQZIIMggyCDIJMkAGCzOxBkEEUwOwJMkAUmD0IMogCmD1BBogCswdBBlEAsyfIAFFg9iDIIApg9gQZIArMHgQZRAHMniADRIHZZ41Aee12GzWSt3f091Bxa8PrXk/o8cBcggyigCyZfcHM2hdO7tt8Dr7H4/kaxp5v423c1J/Wv2anEOQck05HBjaqeH7Fmv5/fS27g5xOky+YWXVf41vegRm/63sj+myYfdy/7peSezz+r2FMi9dtowlyFsjUI4P63fWvDb19G8rdHZGTnPp+3VDO5E988pO+MvFzNt5Om/Fg9SOZOvvE3zyi30Dyy1bX7fS663adfr2N9kNZ0lbznHdgxoM2Ieb97kad/rXaHV53/SvBcGxUY69rVrRo1hNed+1LJUv8S0uvaHij/LbYe+y7vcHnJPpKxi6e9YR3cNbT0fs8JVA5/f7y2xL8oU5xF3odXofX4Z5zCq/yf+3VUD2ODJJ+ZBB0w/2uC0Z7e2L/zQknJ2/PBaOZfBKOySJTLGp1hxMdlWXC7IefTeW6WU8XNVpe4My6XZNX+ZdVrbfTAlNCndPu6c9lxZraHcXzLC+/pnBq7O3EXtdsXHuw2Qor1tS96F867W4rsbGx99h3e4PPGeIrKbPx0x8IdUZWQU4zNiVeRfdw/Eo4eedQPY4MRuDIYPiYhG8ftBHXMvkkHZOZmdn4S+r3ZOrshw3yBHe4eJ5/bukVDV3+ZfkhM7PSi5r2RWc1zusZ05LodmKv6x89BMOTb3CyvMBcp6AXf49DBjnhV1Iww8ysZGn02+Go/JrqrdPuTrjHPj84yOn+rZEj5Iw8MjhSkL3WQVFYxOSTM3kzM8sLPTb5W5k6++FWIxh2snH+ucXznWxU/1vyF5/lZKP9z4Ou/3pxtxNzXbPJNzV0Tb+/6l4nKwzMdbKSow3ycF/JwN1f8lGvO9FPABqnDAryHTSPI4MROTI4whFynvfmgI34xoJTmXySjsnMrPIn1VutIFNnP+xqlDkF5vjnfuCy+lf8ywJTzMwmLK9/tW9WgXKn4BmJbif2ugXTnfJrzEqWRIM85qhXI+FXkjDIbU37h/j/sEcGBrl5Mc3jyGBEjgyO9Pyn+88BW/E/mHzyjsmm3FK7zSZl7uwHK6h2KlpkpWZmVfeFnixqsFMDc+p2TrzK/5NPvctKCqprd5St7p9e1cZQZ1GjnVrU1P96k/jr5oecStps/PQH4oPcf4995w4+J9FXErsa+TXjP2mBQGX1I5XrhvjmePWAlXgrnEfzODIYkSODIwU5fO6AI4OPMvlkTX7KjTXPW9lwf7Z0n30ilXc2vt/Q5f//Rflt9bu9ntptk1b0/cknrWjoatxbsdbyY2ZSXLG24XXvQOjJ/JrY1Yi9rln5D5req90+8ar41ei/x/5zB52T4CuJXY3CqaFOr7vxrco7rSjxn6rhgwOCvI7icWQwAkcGRxPkGQVub3Qj7p1RwOSTM/nJN9Q8a6cN/2dL99kfx7fOMcm/7snhHo8J8scoHkcGI3Bk0P/6gOH+8oF3d/Q6P2PyIzL5wkydfQ4FeWV0Jd7J9G+NPJ2RwRvRzH08uhXbmTyzz83VaK7uW4nwPTSNjZhC4aDb7+Tk9oeDTJ7Z56rwM5EXH36CWRDk1B6n3efkFF7P5Jl97vK+5eTkHWgoYhZI7Va82MnJ62ASzD53uQYnp/AWJoEUm1Pi5DSvmEkw+xx2ipNTeBWDQOqPDja5jUyB2ee28HfcwTklzAGpj8Ll4cuYArPPbV6z28QUMPwm2Tr4nagy+eRtZvbMnpWgbJl6/KRsOzF7Zs9KULYM3orZI/OCzOxZCVYCbEVmTwZYCbAV2YrMnpVgJcBWZPbMnpUAW5GtyOxZCVYCbEVmz+xZCbAV2YrMnpVgJcBWZPbMnpUAW5GtyOx5FLASYCsSZGbPShBkgtynha3I7AlyGqwFQSbI0Y3Yq7nRk++QZqtDHZorabE61KEOnRm57hP6vnoIcgpm/7K+qgWaq8/oVTIwAkE+lrW4RYt0hj6pp1gJJDsKhyK3dyh6u4d0riRpaeQ/SZFzFusjcjpIkFMw+7v0c+3Vm/qCLicDIxDkY1mLh7RX72iVPqLDBJkgJ2MrflfL5LRMyxJuxKGODJ7XUwQ5RbPvjVzjUYWjvybIqVkL3581m5VAsrbi9rgN2L8Re/UZSdK1+pWu1Z/0Zb2sayKXEeTUzd73oFo5Qk7iEfLxrcVh7daXdTMrgWRtxdvldI/eSbAR26OnM9Wudp2lc9SuKwlyimcvST26RLeTgSQG+XjW4lE5OX0xaY8EgpzzQe7WFVqg/9I/6Q2dEbcRJeltrVe7HtOntF7vxpxPkFM3e0lapUvJQBKDfLxr0asdulQrWQkkZyveq9vVIullvRn3Q43n9S/6hBbre+qSdED36gp16PP6hg4S5JTOXrpV7XqTF1slMcjHvxbSFp5DRrK24o36R2QDbtVlMRvxYb2oh/RhXaQOdUj6Z3WoQ+2arWc4Qk7x7H+kj+vvvPo1qUE+3rXwg/xhVgLJ2YqHoi/3+bZ+GLMRV+p30Rf5xL7cZylPWaR49nfo/CQeHRPk41+LHfqNDmi3Ltc3WQkk97WwO/Rh7Yw8KxbWPl2kvw4Thdh/lJEgp272Bwlykl+HfCxr8Zou1mwt0Gq9R5CRzCi8o4/p1ujnX1BYl6tXirz+crakpZHXX87WyMjdIDP79AlyqteCIBNkSb+V9HDCH0u8Ikn6v8h//ecQZGaffUFO/VoQZIKcJni3N2bPShBkgsxWZPYEmZUAW5EgM3tWgiATZLYisyfIrARO/lbs1QYt18IBL5Y6uaeFWq4NR/ybTNkX5EyZfPYHmZVA2mzFL6ZwG8aevnSE7ZhtQc6cyWd7kFkJpE2QN8jpQnUOemuak+lddepCOW3IqSBnzuSzPcisBNImyMvl1JkGz409Lhfz1pG5EOTMmXy2B5mVQNoEeaFcSo8M+uyT08KcCnLmTD7bg8xKIG2CnD4/gz7SV5JtQc6cyWd7kFkJEGSCTAZYCYJMkAkyGSDIrAQIMkEmA6wEQSbIBJkMEGRWAgSZIJMBVoKVwIkH+Sk57T/KrXQs1yXImTX5XA4yKwGCTJDJACtBkAkyQSYDBJmVQNoGeYs+obn6gt6OfP5rtehmSd36sc7VbLXp39Ubsxl/pMXaJemgvqsFmqeva1/c7yTImTb5XA8yK4G0CfI1elNdulgrI5+v1LvaJ+mbukDb1KO/qE1ro5vx52rR3yRJ1+kK7dHb+qxuiPudBDnTJp/rQWYlkDZBfkmS9FvNj3z+V0nS2wrryci1fq3WyGWbdI6ekSS9pbC2SZK26KwBv5MgZ97kcz3IrATS7DnkTjn16qnom7A8J6d3Itd6InpZq74dOe+5Ae/y2h3zOwly5k2e55BZCaRJkLskSRvUNmBz/l1OT0eutSl62WOar19IkvbIafcx/riDIKfr5HM9yKwE0ibI1+ld7dR5uj1uS31VHXpBh/S0ztW90cv+qDl6QJK0XFdrjw5pm7YS5AyffK4HmZVA2gT5F1qks/Qd9cRtqfd1sxbrDLVr/YDv/5s0W5slvamvar7m6GI9SpAzfPK5HmRWAmkR5JOLIKfr5Pmr06wECDJBJgOsBEEmyASZDBBkVgIEmSCTAVaCIBNkgkwGCDIrgYwK8hbtlST1atWAj332E+QRykAqJ0+QWQmkZZDX6WK9I+lQ5Hf1fXxUN+kqfUyXSgrr3MjpDIKcFZMnyKwE0vQpi6u1US1qkVNL9GOvtut/dbYOSpLmRa87lyBnxeQJMiuBNA3y4QFHBYdifndL5CNBHpkMpG7yBJmVQFr/UK8nbjN+T8vk1K52nrIY4R8lpWLyBJmVQBoG+ac6O/Id/6Ca444OtkR/9d/R6/+GIGfF5AkyK4E0PUKeqz1qVaucWmM+SterWTfqDS3TMi2Ti3z8DUHOgskTZFYCaRtkSfq9LhtwdPCmLlGLHtKKyPNrTod42VvWTJ4gsxJI6yCv1LoBm/Em/Uwtknp1zYCjA4KcDZMnyKwE0jjID+m8yL990LcZf6z90Z8wc4Q8chlIzeQJMiuBNAzyPq1Us36h5Xoxck7fZjwc85Ifgpz8DKR28gSZlUAaBvkefUU7tFJL9BG16Ty16zy1aZE+pd7IZvyL2tWu9sjLf/yXABHkTJ88QWYlkIZBPqje6K8P6X3t0z69q/3qliRdpxNDkNN18gSZlUCaPoc8cghyuk6eILMSIMgEmQywEgSZIBNkMkCQWQkQZIJMBlgJgpy7QV4oF3k9ZWrtk9PCnApy5kw+24PMSiBtgrxcTp1psBkfl9OVORXkzJl8tgeZlUDaBHmDnC7U49qX0iODx3WhnDbkVJAzZ/LZHmRWAmkT5F59US4tTl+KvClLrgQ5cyaf7UFmJZA2QZZ6tUFXamEKt+FCXakNMS+4z40gZ87ksz3IrATSKMiZIvuCzOxZiVxaCYLMVmT2BJmVAFuRIDN7VoKVAFuR2ZMBVgLpuRWz68TsmT0rQdkylLc5uzait5XZM3tWgrIBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaeH/AVdu4BrZYLGtAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTEyLTI1VDE1OjM4OjU3KzAwOjAw+95N0wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMi0yNVQxNTozODo1NyswMDowMIqD9W8AAAAASUVORK5CYII="},96893:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/mq-7-4ce12aa86bd9891150f41bf94e86ef46.png"},93071:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/mq-8-70d71f71128bfa236d01c35b82b86ba9.png"},59822:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/sort1-adc19d2483dbb4b89a2e4887ed0ed1f3.png"},62266:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/tcp-vs-udp-5cf9bdfec35e7274709b1aeeae8be63c.jpg"},97157:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/url\u8f93\u5165\u5230\u5c55\u793a\u51fa\u6765\u7684\u8fc7\u7a0b-2d63f72991b12b835c4ae1d42d08b523.jpg"},17834:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/v2-0b5257fd270ef7e6e619e2eec293ec37_r-d5500eb363bbd176a8c763ee4952b56f.jpg"},62413:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/v2-404a11c565a99a9382aa3ed1d8e05e9a_r-361e8715654ce37a1aaf4f451b9e2d0c.jpg"},37874:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/v2-c698e64414f7cb1428e3025e133d9592_r-391197795e81926cf29cfdd46ef4575f.jpg"},37274:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/v2-f470fb471caacb70acf65bc2a597b0c5_r-9a0c7e8ae95101c1d3c80f3827f12cec.jpg"},66517:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAACaCAMAAABmF9zUAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAJPUExURf////r6+vX19fj4+Pz8/Pb29vn5+f7+/v39/ff39/v7+6qqqn19fT09PampqT8/P4GBgevr6/Pz8/T09Ozs7PDw8O7u7vLy8vHx8TQ0NEhISOrq6u/v7+3t7ejo6Ofn5zw8PJSUlHBwcMPDwzIyMoaGhs3NzZCQkEVFRcjIyF1dXUtLS0ZGRk5OTpiYmNTU1Onp6X5+foCAgH9/fz4+PqioqG9vb6ampqenp+bm5uXl5Xp6end3d4eHh6CgoKKioqWlpWpqapGRkXV1deLi4nh4eHl5eW5ubpmZmcnJydjY2Ht7e8LCwtXV1Z2dnZOTk97e3qOjo5aWltnZ2Y2NjY+Pj8bGxqSkpJ6ensTExKurq+Dg4Lu7uzk5OTMzM8rKynNzc5KSkoiIiM/Pz5+fn9vb23Z2dpWVldDQ0N3d3dPT0+Pj4zo6OmhoaNfX1zY2NrGxsZeXl4SEhIODg2dnZ3x8fNzc3JycnLW1tby8vHFxcWZmZqysrLm5ueTk5Jqampubm7KysszMzMfHx62trYWFhcDAwE1NTb6+vuHh4dra2r+/v7Ozs8HBwaGhobS0tM7OztbW1ra2tomJib29vbq6ujc3N9HR0TU1NWtrazg4OLe3t66uroKCgouLi3R0dNLS0js7O8XFxWNjY7i4uGlpaYyMjGxsbK+vr8vLy1tbW21tbY6Ojt/f31BQUIqKikpKSkBAQE9PT1dXV1RUVENDQ1VVVV5eXlZWVrCwsGBgYFJSUkxMTHJycklJSWVlZWFhYWRkZFFRUVpaWl9fX8s8dNsAABPlSURBVHja7J35d9TGHcClGY1Gkg1Y0l7JHi53SdNmbcDGBht8cdiAIRBzhDhQEniBEtIAAUIgHEmakIMjx2ubpikJbZpAX9ukfa+vr9dr+4d1bUzRd7x819plyDr5zi/4y+iz0hwfpBFfzxrS5Ua02K6MhpbrgDDBo9XStTHYEwD2fHC0A2Fpcww2VdgEMFdgeNlm1oSwh8EmhG0fwkKB0S7gvofBav8pvZuw4FhYGMzBmaVIOChsQhieWeQhLDC4NIUAzFIKDEI5qQsgnMMGUoUFhMMkNoUcpRUKnM6AHjEnYBKEBCFBSBAShAQhQUgQEoQEIUFIEBKEBCFBSBAShASZHoLISCkNcKSMCxINS4JEwrHWIfDYBUZDP3r0uCAA5hhsqrAJYK7A4LLlmCAA9jDYhPCYIFFYKLDaBQAeEwSB1f4rzbRobUkQMBaWAsMLcQEsKsBY/40LEoUFCrsQHhMEDCSEQRdMmkIlQZCBVGEB4ZIgd59C0sHhkiBgFtyCDZMJM1pcBkLObBD6sJq5ceCswGAhMNhVYR4DFkVwKhuHlVaILArjXcCyvHo4jAULBfZtCNsxOj9I2Eh3Vuj8II+NhRkqrYBwOhYcQjiTigXDLkjmvDKwwYJQREsYsGjIYBgWM7AWhZUwKKZrgAs4jH5WuhAgMKsJxluRLoZId1aAMzXALJmNAbNAhVkcOISwXwOcqwAzFE4IOLBx4FS+HFx63ODIU5Is3R9B6INqR7k/8gowOJUj4sBm1oawKZFHhNL9ETQqa8aAbQhzHxxtCU9iT0muAnvVw24iDswhXHrEQmC1C1wIs7yDjIUCq1MoTNUC5yQKK62AcJDEZoEKMzij0mXhSutsWqSXFukeLdLpLRYJQm+xSBAShAQhQUgQEoQEIUFIEBKEBCFBSBAShAQhQUgQEoQEIUFIEBKEBCFBSBAShAQhQUiQKczxCoLwmgQxp4kgNaSa2L5VvSA8niC8bgSR01GQQBFk4syecK1o4QKEpjBB6INqT3AMtoUHwqyLwi4GcxW2wdFuBZjHgDmEXQVmCsxx2IZnBt1pCRQWvomMhQq7EGaJWDDsgjABPstkCgy7QJlCYR6D1f5T4CCFDaQKMwinczisXAjsgkyyHGxMThQXWIowTHcXMJ9Y/SymfDRMd68EwwsJYdK5COLAQSGsHk7jcIC2WUl3V9uMw5kilq4t8Iz/TBaH0S5IxoKVC0n6onpYzViHYxETDuPAk9Ldx//QewdhtdxB2DfwDmKq/3yiXRD3DmLFuYPYGFzTHSSYpneQsjCtQWgN8s1dg7j3YA1Cb7HoLRa9xaLXvCQICUKCkCAkCAlCgpAgJAgJQoKQICQICUKCkCAkCAlCgpAgJAgJQoKQICQICUKCkCAkCAkydUHQvXlduMNrguN7y+J789rYxr7w6w9KMNhY1fRj7c0Lt5o1lb15XU/iX38g4dcfYDvk8nu5N6/Su8r2unAsJL4xsqgAmyiM7s2rwpO//mDqe/OqrVD35nWx7XXVbzCoZW9emU4a5fbmdUPmRgsLQShCAWqLaVAdCw6LQQyYKXAhgB+twAyFi2H1cKDCIkYrgiKrHk5n48AhhDNZUQPsQziIAydxOMDhBDaFVFgJc3kcFjHgiVlg2EzY0SIYCDnj0dDNhqAah10VZtXDoqjALoSFAsPaoqgeZhDmoRujFSzrwu6MA4dZjoxFBTjwcRjtgnQCwiEKMxW2q4czeWwW2ErnhwqcwmGOwclUuVlAu7vT7u60Bim7Bvla092l4zgW4060uAKENvNAWARHW8yGsAthYUVDXrQxWCgwA7ALYY+ZGMwVOGti8KQuALDwvephpsIe2gUKnAChWQkGYZiPBcP+C/IOBofKQEI4nYpGchq/xfJXvdrU2rK4KVpaWkC4uLEVhKtBdSW4ZQxesWbfbXhxbPhOrQI3QrhxTtsQBrdisHIhKrz8TtgyVLrsVgxuuTs83uYK8PhBu9uW32pUHLhV6T8FVhrV2rh8zt8X3x0eakJhZSwgfCwKD1+exoJseeiDGbMqlCVoOJVyeN4H1cNTvZAZo6PXELamVtw5+trhwz9fUtNlTwn56bwnqoCXxDvztdHRGdXCFWoj1U/8ebM1fQV55Ms/HG/QXXb+dfSQ9pM0bJ816/cv6T7JS10z5n26VHtbtv1ldOAV7W35zR9n6B/8hp/96AfTWZDvP1QwtJemBxbqP4n/4D/W6T/LjofndTnaz8LmPNCgvy0LvvfdZv1n2f8dEqROBHlwkf6zzH143nwSJE6ZTYKQICQICUKCkCAkCAlCgpAgJAgJMi0FsUkQEoQEQVJNkIz18RSeatPdDSVj/U66OwlCgtwfQbB0dzVXPmOAX3qYSHcP0ukgWpQwgGGmkMOOrgQnJ34Sn/+EBCFBNAuyJ0Snozpb84lyRxvJTCYJChrmmvOwNg6c+j8crPsbCUKCaBakN11hdsLYz5Y7uvQMBXNCOczM9ATMCfVB+uQkGCZXmhA2/dtHGwfoEYsE0S3Ijz2YomwJE6YCw8mbTpZLCP+avv6A1iAkSL0t0uvq6w9IEBKk3t9i0f+DkCAkCAlCgpAgJAgJQoKQICQICUKCkCAkCAlCgpAgJAgJQoKQICQICUKCkCAkyLdZEPp9EBKEBLmrIJ5wvWhxBQhtZoLQZ6A6Fsyzt6vlr0gQEkS3II+aAsw/k9kwhJM3kwMhvwUbLAhYtIRoGBQzMA5jwemJn/gC+n0QEkS3IMMCzj91tiphPlFu8hqOkrFuu8r+v5a8e7q749pIurs0IRxJd6dHLBLkfjxiwXR35kk03V0qk3ci3Z0W6SQIrUFqeovlWLf+TlrmbUFk6a/GviDLnviZBCFBvr2CLHjsjfFAzF5ZcAPXcJi5aVlpJbFpW25syne+fFCmmzs6mgtJjYKYhY6ko1sQGXQUhNQtiON3JDztgvDm5rTULYhMdhS5dkGsYkfKqmNB1vddvCXI8ZnF5q1XDXHp7QPDVxoGR1bZpVPKq+2Fwd7/trWt+Won0yYIm3m0Z+gF3YL0zz/067WhZkGs9Wt62tY7mgXJbDza81GHZkHkYOOhnnauWRD7ak/Px3tl/Qoyd8XTt8+ROzh0wjCK5y/v//yKt6f1nVVvpTqXPnN99vYLhvRe3gnn1j0URL62u59vXxjoFSQcnu2eWXxdsyBb+kacXa2P6xXEem65H/Qe53oFyXdtMwePjWgWZMGLG7xX5mfrWZBPzj6/OWXwt9478O6Xp54aXPvDff9pOnvyyFPdN7aeOXc6u3LDNs2ChF2/tYwrpzZIrYI8OzBoeO2Naa2CWO3DgZFdcc7RKki+8XVprDv6hl5BFrX0G3z/Vq5VEPvRbm70f7ZD1q0gO756deT13Rvt8NjNTadPLXwkdXln66zP3t76Yi48vjc5/199I8HNL0qPWP9u1yZIc98FaXT27NIqiFy/L2HI03P6tQrCHtvsGezIWlurIJvWPCuNi/98Uqsg1nMfBYa1bMjXKkiu6YRjpPoarLoVZO6pT6Sxd+CZsLW3eHD5JYO9t/HNd2ee7b1x8eD+QZlZsIMH3ScKzWduNmgTpPPjJ6WRaTmtV5A3B1KGcf7Y77QKEm5ttwxr7VlXqyBPt22RRnHggl5BfvF8acRPHiloFSTV+qE0+C9n1rEgY2uQMzculAQpPL76nNw0t3jyav58Z/eldfuLRuqd7l0vbDtfOnj7Tr2CpFZfvw+CLBq4D4KYs9dy/YJ07h7RL4j8sKmoXxA2f2mdC9LZs2NCEKO/e9+funrfd9d1bWwwjfe/6Fq5YbhveE/vp8u0CZJdMVf+r73zfZKiOON4d8/0zPTkpNyZ/XXs7uEppHyj2QPuJ3CcAQMYQDxyCUYo5CDmUERQQykxMZVSSo2apNSgVmKlkvLnC5NUpZJK5VX+s+xyXJynd+/Zm900x1nffgH7MPOZ3unpD9Mz80yv2DJx2K0g39/XFOGLT0w7FcScmZVCL85Kp4K8fvcfQ3H+gyWngkQvbC+J6Bt/KDsVpPLspUiUdl2Kbl9BHjgrxOdjj6mbgjQW/vPZyT2Xg/pPnl4S4cyTKqwcHD158me7x50JorediMX13flu/eS+SD9+92khJ79tnAoSTT3XENN3vhU6FaS+65VQPPrdmlNBxOnHLwp1/2zsVBA5v6DElV3X1+suVu9093v+/cmxpd1zMh1aGKm9MzoTvPTxoaX5/aIx9Offiqh0fNvV96a+2Vr53CvalSDhWz89/NBHb0q3gqiHxy7+aftDwqkg4o2JqfNvH6wKp4L4bz5w+lvPXfPdClJ+9S8/em/bfuFUEHH26ReuzM9px4KsMrOir+25eX17et3w+uXfP/jp25VQzb40YpbGPmlUDu+b+OypmTOXJxev6E0Lj205uePgPYevPfjqRZ+dm9f0Pzdv/O7jE//K+UQq/4PCxssT3zni+kl6+OTQgfl8o5I+HhR6l65efTHn8/r8T9KnFw5sPyYcCxId2n1gbyLyCnLZmljaV9zcvP4qc/PqNDU6U1SqSZi0/jA3SvuDalZan469fOcvXv/V0Y/OFYuzY8dbS86PLi7u2bNn8Z3XFLOttJnc/CR/g3R314L0U75euVijhvY/nSga0sX1RjcROl+YUr1fmJp5d1r44flfGt8kh2Za/7CSreh7eGEKgtwugsxLNcgLU8vwoLO7Sw5GNi8EWUdB7rc6b75rkBizu0OQr7sgmNUEgkAQCAJBIAgEgSAQBIJAEAgCQSAIBIEgEASCQBAIAkEgCASBIBAEgkAQCAJBIAgEcSFI+FVp9/Fs2BYkG7YEyYRtQbKrW3BbkGxYCFY+QhAIcmsEyfS/SMfZsC1ItrQEyXZeuQwLkyovW1RKQp0aEtaSbGhUHlg1VxbHZ5HuDkFcCzLq0f5nUk3ChHReU29067zCUzqg/+7RjdI6qCAdMKkyMFQfXVvZtr+EMwgEcS3Ijz3a/yxfPOqLVyoH9D//G3+1h1ghM0ryjZ898dAhVtgaYoVrHmKFGGJBkFs9xMr2x9YQi4a9hlg3LyNwkQ5BcJGOu1gQBIJAEAgCQSAIBIEgEASCQBAIAkEgCASBIBAEgkAQCAJBIAgEgSAQBIJAkHyzu7sQ5Iun4sBx8XcMf891HYGc3rz50ch1LdG1e7c+a5zvTOnA8FTofF8O/fXe/dL5cTkzqCDrOrPikS//tm9syHHZcd/Wv7uuY2jsiVOnPt7hfFeeP7X1S+f7MrRr89Z/ut+XDy586P7gj/3jwsEOQWJOkFV+/kAlicqWlA2TZpXGaS64cvOTd+T5nXfd4bx8OPw795Xc8cz7F9xXcler3IJanhk+5bySnReG31/7vuzse1/um1S0/9m91QrLjW6dV9RLpXK21O2wng0bW4pkcZ9w/eev/XBTvjK+d2pT3rL36N4VeHxT32WKh8dPnJjrG+5R8yNfwVNzueH8FY6fO7pczeQj/X/rnvDc0XOrN8rkDwaoeS4L//pIifa/uh3S3lprduu8wtfGzxZPk1DqmIQFulh7HBwoAge1/1UVtU5uoaRDwjimgztJwzI9P+aE/f7huAdMf8QpprAsRxws6S/c0C8SBnWyrUhy2+qAS3lgSWGvOgBs6FglCigc2DBZauiP1Ee0OUO6LRFYg6YKXZl23lhJGtLOWy1FpLcuw4P+/EGf1yA39t1IujseB0se9iyYfm1ZkxSOOVhSOCjE3EiWb4Kg4HOw3fhW6xZ9eix8DqZ7EepixMKShRsU1hzcfqUoG6oy7UL0QIYdTUDhOncgQ/4yIi1x8Eb6+YPlbhpsEEFk/4J4vF28ICafIOa2ESS6TQTZuM9BIAgEgSAQBIJAEAgCQSAIBIEgEASCQBAIAkEgCASBIBAEgkAQCAJBIAgEgSDrLMj6pZpsFEEGSjWBIBtEkFXS3WM+WTGgCV5WsmJsJSuatSYr5oc9Gw4oTPfCSlPzal4O2KOwsWBFYd0DJmtLG/Y4WBVo49Nj4Xe0H4WLFNYWHHBwWoyZmns0QdqImS7UA07K3IG04FhRuFLvH46rXeFb+z7IIPBIhYXZbVUGgasjSY63Cmy4mQdOWDjNBZea6QBwbQC4XhgALhfUAHCROxY9Gr/RFW6dAL0oW1pnkGwodUzCgs6GvrHhiINrhsB2zYaDg5pH4YCsbSgc0L3wagELs01gKBxrmQcukLVjJfkmILC2YC35JiCwKsYUjhnYt+EG1wtsWFM45WEVME3QPoOwNXPt1z6DUNinNVNYWXCpWxfCRTou0nEN0vUiHenuEASC4DYvBIEgEASCQBAIAkEgCASBIBAEgkAQCAJBIAgEgSAQBIJAEAgCQSAIBIEgEKSrIEh3R7o7BFk13d1Otgto1l9M873iAl1sAibfMLSSxWSBzTfk4c5kxZDAHoWNBVsJcjJcPd8w7Mh0lGuHO9IkCxYch2tuv8iw+YYR236RHgS2khU7YMlliqZln+lCEZ/smZYjLt/Qgq1kz6TOdSHfzpqkcKUUdoGFTpXJFpWSUKeaLG1W6NJ8cJIDVhROR3hYsXAz7R9ORlg45WG7Zp0DrjTJYp3kgau1PHBKG79a0Aysebg0EFw0HJwoLqw3uBbpsa3usJBKy2wxioSeCkhYS8libXLApkYWB4rCWrNwU/cP66ahsMfBhsKqB8w2gaqxsLUXhn6RtODlgDWtObHhgIVpzUkxYJrThq0uVOHhlIcbkoU9Dq6WOdhqvyClcKkrjNndMbt7H9cgMX8NgtndcRcLd7FwmxeCQBAIAkEgCASBIBAEgkAQCAJB/t+C/Bc97j3hy9iiBAAAAABJRU5ErkJggg=="},35806:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/\u5e03\u9686\u8fc7\u6ee4\u5668-hash\u8fd0\u7b97-0e2ea4954c4d50eb21ac48b4ce0b30a9.png"},84665:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/\u6570\u636e\u5305.drawio-667f43fc0d6ca99a44aa06989d174cb5.png"},47634:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/\u7528\u6237\u4fe1\u4efb-35b0bd82c6d547e1866255da18e36b62.png"},3850:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/\u7cfb\u7edf\u6839\u8bc1\u4e66-6df8db67dd4c478b8711ad10a763ff9e.png"},28632:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/\u8bc1\u4e66\u7684\u6821\u9a8c-f765dac1e396ea84967176e1fb2cd774.png"},94613:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/\u8bc1\u4e66\u94fe-346f1fe213e95891773500f9ea671cd1.png"}}]);