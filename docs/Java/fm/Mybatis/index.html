<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Java/fm/Mybatis">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Mybatis | Computer Science Learn Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zhiyu1998.github.io/Computer-Science-Learn-Notes/docs/Java/fm/Mybatis"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Mybatis | Computer Science Learn Notes"><meta data-rh="true" name="description" content="MyBatis ALL IN ONE"><meta data-rh="true" property="og:description" content="MyBatis ALL IN ONE"><link data-rh="true" rel="icon" href="/Computer-Science-Learn-Notes/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zhiyu1998.github.io/Computer-Science-Learn-Notes/docs/Java/fm/Mybatis"><link data-rh="true" rel="alternate" href="https://zhiyu1998.github.io/Computer-Science-Learn-Notes/docs/Java/fm/Mybatis" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://zhiyu1998.github.io/Computer-Science-Learn-Notes/docs/Java/fm/Mybatis" hreflang="x-default"><link rel="stylesheet" href="/Computer-Science-Learn-Notes/assets/css/styles.d8d55e2e.css">
<link rel="preload" href="/Computer-Science-Learn-Notes/assets/js/runtime~main.dda37f8d.js" as="script">
<link rel="preload" href="/Computer-Science-Learn-Notes/assets/js/main.6afc19a6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a href="#" class="skipToContent_fXgn">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Computer-Science-Learn-Notes/"><div class="navbar__logo"><img src="/Computer-Science-Learn-Notes/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/Computer-Science-Learn-Notes/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Computer Science Learn Notes</b></a><a class="navbar__item navbar__link" href="/Computer-Science-Learn-Notes/docs/intro">主页</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/zhiyu1998/Computer-Science-Learn-Notes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/Computer-Science-Learn-Notes/docs/golang/learnInProblem">目录</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Computer-Science-Learn-Notes/docs/golang/learnInProblem">Go语言</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Computer-Science-Learn-Notes/docs/frontend/react/">前端</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Computer-Science-Learn-Notes/docs/fundamental/datastruct">基础知识</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/basic/">Java基础</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/basic/">基础知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/concurrent/">并发编程</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/jvm/part1/简介">虚拟机</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/fm/Spring">Spring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/fm/SpringMVC">SpringMVC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/fm/Mybatis">Mybatis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/fm/SpringBoot">SpringBoot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/fm/SpringDataJpa">SpringDataJpa</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/fm/SpringSecurity">SpringSecurity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/fm/SpringCloud">SpringCloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/kotlin/">Kotlin with Spring</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/eightpart/giant">Java面试</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Computer-Science-Learn-Notes/docs/others/personal_tech">其他分享</a></div></li></ul></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/Computer-Science-Learn-Notes/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">目录</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Java基础</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Mybatis</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Mybatis</h1></header><p>MyBatis ALL IN ONE</p><ul><li><a href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA">环境搭建</a><ul><li><a href="#mybatis%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">Mybatis配置文件</a></li></ul></li><li><a href="#mybatis%E5%9F%BA%E7%A1%80%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5">mybatis基础增删改查</a></li><li><a href="#%E4%BD%BF%E7%94%A8%E5%A4%96%E9%83%A8properties%E5%BC%95%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5">使用外部properties引用数据库连接</a></li><li><a href="#%E4%BD%BF%E7%94%A8setttings%E4%BF%AE%E6%94%B9%E8%A1%8C%E4%B8%BA">使用setttings修改行为</a></li><li><a href="#typealiases%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D%E5%92%8Ctypehandlers%E7%B1%BB%E5%9E%8B%E5%A4%84%E7%90%86%E5%99%A8">typeAliases（类型别名）和typeHandlers（类型处理器）</a><ul><li><a href="#%E7%B1%BB%E5%9E%8B%E5%A4%84%E7%90%86%E5%99%A8">类型处理器</a></li></ul></li><li><a href="#%E4%BA%86%E8%A7%A3plugins%E6%8F%92%E4%BB%B6">【了解】plugins（插件）</a></li><li><a href="#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AEenvironments">环境配置（environments）</a><ul><li><a href="#%E7%8E%AF%E5%A2%83">环境</a></li></ul></li><li><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%82%E5%95%86%E6%A0%87%E8%AF%86databaseidprovider">数据库厂商标识（databaseIdProvider）</a></li><li><a href="#%E6%98%A0%E5%B0%84%E5%99%A8mappers">映射器（mappers）</a><ul><li><a href="#mappers">mappers</a></li></ul></li><li><a href="#sql%E6%98%A0%E5%B0%84-%E8%8E%B7%E5%8F%96%E8%87%AA%E5%A2%9Eid">SQL映射 获取自增ID</a><ul><li><a href="#%E5%9C%A8sql%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E5%86%85%E7%9A%84-mapper-%E6%A0%87%E7%AD%BE%E4%B8%8B%E5%8F%AF%E4%BB%A5%E5%86%99%E7%9A%84%E4%B8%BB%E8%A6%81%E6%A0%87%E7%AD%BE%E6%9C%89">在SQL映射文件内的 mapper 标签下可以写的主要标签有</a></li><li><a href="#%E7%AE%80%E8%BF%B0delete-update-insert-select-%E7%9A%84%E5%B1%9E%E6%80%A7">简述：delete update insert select 的属性</a></li><li><a href="#%E8%8E%B7%E5%8F%96%E4%B8%BB%E9%94%AE%E8%87%AA%E5%A2%9E%E5%B1%9E%E6%80%A7">获取主键自增属性</a></li><li><a href="#%E8%8E%B7%E5%8F%96%E9%9D%9E%E4%B8%BB%E9%94%AE%E8%87%AA%E5%A2%9E%E5%B1%9E%E6%80%A7">获取非主键自增属性</a></li></ul></li><li><a href="#sql%E6%98%A0%E5%B0%84-%E4%BC%A0%E5%85%A5%E5%A4%9A%E4%B8%AA%E5%8F%82%E6%95%B0">SQL映射 传入多个参数</a><ul><li><a href="#%E4%BC%A0%E5%85%A5map">传入Map</a></li><li><a href="#%E5%8F%96%E5%80%BC%E5%B1%9E%E6%80%A7">#{}取值属性</a></li><li><a href="#%E4%B8%A4%E7%A7%8D%E5%8F%96%E5%80%BC%E6%96%B9%E5%BC%8F-">两种取值方式：${} #{}</a></li></ul></li><li><a href="#sql%E6%98%A0%E5%B0%84-%E6%9F%A5%E8%AF%A2%E9%9B%86%E5%90%88">SQL映射 查询集合</a><ul><li><a href="#%E5%B0%81%E8%A3%85%E6%88%90list">封装成LIST</a></li><li><a href="#%E5%B0%81%E8%A3%85%E6%88%90map">封装成MAP</a></li></ul></li><li><a href="#sql%E6%98%A0%E5%B0%84-%E8%87%AA%E5%AE%9A%E4%B9%89resulttype">SQL映射 自定义resultType</a></li><li><a href="#sql%E6%98%A0%E5%B0%84-%E7%BA%A7%E8%81%94%E5%B1%9E%E6%80%A7%E6%9F%A5%E8%AF%A2">SQL映射 级联属性查询</a><ul><li><a href="#%E5%BA%8F%E8%A8%80-%E4%B8%80%E5%AF%B9%E4%B8%80%E5%85%B3%E8%81%94">序言: 一对一关联</a></li></ul></li><li><a href="#sql%E6%98%A0%E5%B0%84-%E7%BA%A7%E8%81%94-%E4%B8%80%E5%AF%B9%E5%A4%9A-%E5%A4%9A%E5%AF%B9%E5%A4%9A">SQL映射 级联 一对多 多对多</a><ul><li><a href="#%E4%B8%80%E5%AF%B9%E5%A4%9A">一对多</a></li></ul></li><li><a href="#sql%E6%98%A0%E5%B0%84-%E5%88%86%E6%AD%A5%E6%9F%A5%E8%AF%A2">SQL映射 分步查询</a><ul><li><a href="#association%E5%88%86%E6%AD%A5%E6%9F%A5%E8%AF%A2">association分步查询</a></li><li><a href="#collection%E5%88%86%E5%B8%83%E6%9F%A5%E8%AF%A2">Collection分布查询</a></li></ul></li><li><a href="#sql%E6%98%A0%E5%B0%84-%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD-%E6%8C%89%E9%9C%80%E5%8A%A0%E8%BD%BD">SQL映射 延迟加载 按需加载</a></li><li><a href="#%E5%8A%A8%E6%80%81sql-if">动态SQL IF</a><ul><li><a href="#%E5%AE%9E%E6%88%98%E5%8A%A8%E6%80%81sql-if">实战动态SQL IF</a></li></ul></li><li><a href="#%E5%8A%A8%E6%80%81sql-where-trim">动态SQL WHERE TRIM</a><ul><li><a href="#where-%E5%85%83%E7%B4%A0"><strong>where 元素</strong></a></li><li><a href="#trim-%E6%A0%87%E7%AD%BE">trim 标签</a></li></ul></li><li><a href="#%E5%8A%A8%E6%80%81sql-foreach">动态SQL FOREACH</a></li><li><a href="#%E5%8A%A8%E6%80%81sql-choosewhenotherwise">动态SQL CHOOSE、WHEN、OTHERWISE</a></li><li><a href="#%E5%8A%A8%E6%80%81sql-set">动态SQL SET</a><ul><li><a href="#%E5%8A%A8%E6%80%81%E6%9B%B4%E6%96%B0">动态更新</a></li></ul></li><li><a href="#ognl%E8%A1%A8%E8%BE%BE%E5%BC%8F">OGNL表达式</a><ul><li><a href="#%E4%BC%AA%E5%B1%9E">伪属</a></li></ul></li><li><a href="#%E5%8A%A8%E6%80%81sql-bind--include">动态SQL BIND  INCLUDE</a><ul><li><a href="#bind">bind</a></li><li><a href="#include">include</a></li></ul></li><li><a href="#%E4%B8%80%E7%BA%A7%E7%BC%93%E5%AD%98">一级缓存</a><ul><li><a href="#%E4%B8%80%E7%BA%A7%E7%BC%93%E5%AD%98%E7%9A%84%E5%A4%B1%E6%95%88%E6%83%85%E5%86%B5">一级缓存的失效情况</a></li></ul></li><li><a href="#%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98">二级缓存</a></li><li><a href="#%E7%BC%93%E5%AD%98%E7%9A%84%E6%9F%A5%E8%AF%A2%E9%A1%BA%E5%BA%8F%E5%92%8C%E5%8E%9F%E7%90%86">缓存的查询顺序和原理</a><ul><li><a href="#%E7%BC%93%E5%AD%98%E6%9F%A5%E8%AF%A2%E9%A1%BA%E5%BA%8F">缓存查询顺序</a></li><li><a href="#%E7%BC%93%E5%AD%98%E5%8E%9F%E7%90%86%E5%9B%BE">缓存原理图</a></li></ul></li><li><a href="#%E7%BC%93%E5%AD%98%E7%9A%84%E5%B1%9E%E6%80%A7">缓存的属性</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="环境搭建">环境搭建<a class="hash-link" href="#环境搭建" title="标题的直接链接">​</a></h2><p>导入Maven</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependencies</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">mysql</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">mysql-connector-java</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">5.1.43</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.mybatis</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">mybatis</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">3.5.5</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">log4j</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">log4j</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.2.17</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependencies</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>创建实体类</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Employee {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">​</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String empName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String email;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String gender;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>创建一个DAO接口</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public interface EmployeeDao {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">​</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Employee getEmpById(Integer id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mybatis配置文件">Mybatis配置文件<a class="hash-link" href="#mybatis配置文件" title="标题的直接链接">​</a></h3><p>全局配置文件：</p><p><a href="http://mybatis.org/dtd/mybatis-3-config.dtd" target="_blank" rel="noopener noreferrer">http://mybatis.org/dtd/mybatis-3-config.dtd</a>  dtd是一个约束文件</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">configuration</span><span class="token doctype" style="color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token doctype" style="color:#999988;font-style:italic">        </span><span class="token doctype name" style="color:#999988;font-style:italic">PUBLIC</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype string" style="color:#e3116c;font-style:italic">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span><span class="token doctype" style="color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token doctype" style="color:#999988;font-style:italic">        </span><span class="token doctype string" style="color:#e3116c;font-style:italic">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">environments</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">default</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">development</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">environment</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">development</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">transactionManager</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">JDBC</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--            配置连接池  --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dataSource</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">POOLED</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">driver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">com.mysql.jdbc.Driver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">url</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">jdbc:mysql://localhost:3306/mybatis_test</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">username</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">root</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">password</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">root</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dataSource</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">environment</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">environments</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>SQL映射文件</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">mapper</span><span class="token doctype" style="color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token doctype" style="color:#999988;font-style:italic">        </span><span class="token doctype name" style="color:#999988;font-style:italic">PUBLIC</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype string" style="color:#e3116c;font-style:italic">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><span class="token doctype" style="color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token doctype" style="color:#999988;font-style:italic">        </span><span class="token doctype string" style="color:#e3116c;font-style:italic">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    namespace: 名称空间  写接口的全类名，相当于告诉mybatis这个配置文件实现哪个接口</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mapper</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">namespace</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.dao.EmployeeDao</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    select 用来定义个查询操作</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            id 方法名 相当于配置是对于某个方法的实现</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            resultType 指定方法运行后的返回值类型(查询操作必须指定的)</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            #{属性名} 取出传递过来的某个参数的值</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getEmpById</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Employee</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        select * from t_employee where id = #{id}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">mapper</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在全局文件中配置SQL映射文件</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">configuration</span><span class="token doctype" style="color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token doctype" style="color:#999988;font-style:italic">        </span><span class="token doctype name" style="color:#999988;font-style:italic">PUBLIC</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype string" style="color:#e3116c;font-style:italic">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span><span class="token doctype" style="color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token doctype" style="color:#999988;font-style:italic">        </span><span class="token doctype string" style="color:#e3116c;font-style:italic">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mappers</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mapper</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resource</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">EmployeeMapper.xml</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">mappers</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>使用纯JAVA测试结果：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void test() throws IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String resource = &quot;mybatis-config&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    InputStream inputStream = Resources.getResourceAsStream(resource);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 获取和数据库的一次会话：getConnection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SqlSession session = sqlSessionFactory.openSession();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 使用SqlSession操作数据库，获取dao接口的实现</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EmployeeDao mapper = session.getMapper(EmployeeDao.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 调用之前的方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Employee emp = mapper.getEmpById(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(emp);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>优化写法：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void test() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    InputStream inputStream = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SqlSession session = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String resource = &quot;mybatis-config&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        inputStream = Resources.getResourceAsStream(resource);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        session = sqlSessionFactory.openSession();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        EmployeeDao mapper = session.getMapper(EmployeeDao.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Employee emp = mapper.getEmpById(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(emp);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } catch (Exception e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }finally {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            inputStream.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (IOException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        session.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mybatis基础增删改查">mybatis基础增删改查<a class="hash-link" href="#mybatis基础增删改查" title="标题的直接链接">​</a></h2><p>mybatis的CRUD一般不需要resultType，它自己会自动封装结果</p><p>在原来的测试基础上，如果插入要加入SqlSession的commit()，如果要选择自动commit可以把opensession的参数传入true</p><p><img loading="lazy" alt="347d7348-131c-4cdf-88b2-c168755d3a5c" src="/Computer-Science-Learn-Notes/assets/images/347d7348-131c-4cdf-88b2-c168755d3a5c-6c8251903e11af8763aa4a63b4fb87c3.png" width="934" height="440" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用外部properties引用数据库连接">使用外部properties引用数据库连接<a class="hash-link" href="#使用外部properties引用数据库连接" title="标题的直接链接">​</a></h2><p>创建一个properties</p><p><img loading="lazy" alt="a816b909-abe7-4b77-b8d3-790ccf309654" src="/Computer-Science-Learn-Notes/assets/images/a816b909-abe7-4b77-b8d3-790ccf309654-e177c265dbac39f58fa7d428f54f679d.png" width="989" height="146" class="img_ev3q"></p><p>在主配置文件下加入properties属性，属性名可以使用${}引用</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--  resource 类路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="display:inline-block;color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">​    url 引用类路径下或者网络路径下</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="display:inline-block;color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">properties</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resource</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">dbconfig.properties</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">properties</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dataSource</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">POOLED</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">​     </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">driver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">${driver}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">​     </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">url</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">${url}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">​     </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">username</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">${username}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">​     </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">password</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">${password}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dataSource</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用setttings修改行为">使用setttings修改行为<a class="hash-link" href="#使用setttings修改行为" title="标题的直接链接">​</a></h2><p>这是 MyBatis 中极为重要的调整设置，它们会改变 MyBatis 的运行时行为。  </p><table><thead><tr><th>设置名</th><th>描述</th><th>有效值</th><th>默认值</th></tr></thead><tbody><tr><td>cacheEnabled</td><td>全局性地开启或关闭所有映射器配置文件中已配置的任何缓存。</td><td>true</td><td>false</td></tr><tr><td>lazyLoadingEnabled</td><td>延迟加载的全局开关。当开启时，所有关联对象都会延迟加载。 特定关联关系中可通过设置 fetchType 属性来覆盖该项的开关状态。</td><td>true</td><td>false</td></tr><tr><td>aggressiveLazyLoading</td><td>开启时，任一方法的调用都会加载该对象的所有延迟加载属性。 否则，每个延迟加载属性会按需加载（参考 lazyLoadTriggerMethods)。</td><td>true</td><td>false</td></tr><tr><td>multipleResultSetsEnabled</td><td>是否允许单个语句返回多结果集（需要数据库驱动支持）。</td><td>true</td><td>false</td></tr><tr><td>useColumnLabel</td><td>使用列标签代替列名。实际表现依赖于数据库驱动，具体可参考数据库驱动的相关文档，或通过对比测试来观察。</td><td>true</td><td>false</td></tr><tr><td>useGeneratedKeys</td><td>允许 JDBC 支持自动生成主键，需要数据库驱动支持。如果设置为 true，将强制使用自动生成主键。尽管一些数据库驱动不支持此特性，但仍可正常工作（如 Derby）。</td><td>true</td><td>false</td></tr><tr><td>autoMappingBehavior</td><td>指定 MyBatis 应如何自动映射列到字段或属性。 NONE 表示关闭自动映射；PARTIAL 只会自动映射没有定义嵌套结果映射的字段。 FULL 会自动映射任何复杂的结果集（无论是否嵌套）。</td><td>NONE, PARTIAL, FULL</td><td>PARTIAL</td></tr><tr><td>autoMappingUnknownColumnBehavior</td><td>指定发现自动映射目标未知列（或未知属性类型）的行为。NONE: 不做任何反应WARNING: 输出警告日志（&#x27;org.apache.ibatis.session.AutoMappingUnknownColumnBehavior&#x27; 的日志等级必须设置为 WARN）FAILING: 映射失败 (抛出 SqlSessionException)</td><td>NONE, WARNING, FAILING</td><td>NONE</td></tr><tr><td>defaultExecutorType</td><td>配置默认的执行器。SIMPLE 就是普通的执行器；REUSE 执行器会重用预处理语句（PreparedStatement）； BATCH 执行器不仅重用语句还会执行批量更新。</td><td>SIMPLE REUSE BATCH</td><td>SIMPLE</td></tr><tr><td>defaultStatementTimeout</td><td>设置超时时间，它决定数据库驱动等待数据库响应的秒数。</td><td>任意正整数</td><td>未设置 (null)</td></tr><tr><td>defaultFetchSize</td><td>为驱动的结果集获取数量（fetchSize）设置一个建议值。此参数只可以在查询设置中被覆盖。</td><td>任意正整数</td><td>未设置 (null)</td></tr><tr><td>defaultResultSetType</td><td>指定语句默认的滚动策略。（新增于 3.5.2）</td><td>FORWARD_ONLY</td><td>SCROLL_SENSITIVE</td></tr><tr><td>safeRowBoundsEnabled</td><td>是否允许在嵌套语句中使用分页（RowBounds）。如果允许使用则设置为 false。</td><td>true</td><td>false</td></tr><tr><td>safeResultHandlerEnabled</td><td>是否允许在嵌套语句中使用结果处理器（ResultHandler）。如果允许使用则设置为 false。</td><td>true</td><td>false</td></tr><tr><td>mapUnderscoreToCamelCase</td><td>是否开启驼峰命名自动映射，即从经典数据库列名 A_COLUMN 映射到经典 Java 属性名 aColumn。</td><td>true</td><td>false</td></tr><tr><td>localCacheScope</td><td>MyBatis 利用本地缓存机制（Local Cache）防止循环引用和加速重复的嵌套查询。 默认值为 SESSION，会缓存一个会话中执行的所有查询。 若设置值为 STATEMENT，本地缓存将仅用于执行语句，对相同 SqlSession 的不同查询将不会进行缓存。</td><td>SESSION</td><td>STATEMENT</td></tr><tr><td>jdbcTypeForNull</td><td>当没有为参数指定特定的 JDBC 类型时，空值的默认 JDBC 类型。 某些数据库驱动需要指定列的 JDBC 类型，多数情况直接用一般类型即可，比如 NULL、VARCHAR 或 OTHER。</td><td>JdbcType 常量，常用值：NULL、VARCHAR 或 OTHER。</td><td>OTHER</td></tr><tr><td>lazyLoadTriggerMethods</td><td>指定对象的哪些方法触发一次延迟加载。</td><td>用逗号分隔的方法列表。</td><td>equals,clone,hashCode,toString</td></tr><tr><td>defaultScriptingLanguage</td><td>指定动态 SQL 生成使用的默认脚本语言。</td><td>一个类型别名或全限定类名。</td><td>org.apache.ibatis.scripting.xmltags.XMLLanguageDriver</td></tr><tr><td>defaultEnumTypeHandler</td><td>指定 Enum 使用的默认 TypeHandler 。（新增于 3.4.5）</td><td>一个类型别名或全限定类名。</td><td>org.apache.ibatis.type.EnumTypeHandler</td></tr><tr><td>callSettersOnNulls</td><td>指定当结果集中值为 null 的时候是否调用映射对象的 setter（map 对象时为 put）方法，这在依赖于 Map.keySet() 或 null 值进行初始化时比较有用。注意基本类型（int、boolean 等）是不能设置成 null 的。</td><td>true</td><td>false</td></tr><tr><td>returnInstanceForEmptyRow</td><td>当返回行的所有列都是空时，MyBatis默认返回 null。 当开启这个设置时，MyBatis会返回一个空实例。 请注意，它也适用于嵌套的结果集（如集合或关联）。（新增于 3.4.2）</td><td>true</td><td>false</td></tr><tr><td>logPrefix</td><td>指定 MyBatis 增加到日志名称的前缀。</td><td>任何字符串</td><td>未设置</td></tr><tr><td>logImpl</td><td>指定 MyBatis 所用日志的具体实现，未指定时将自动查找。</td><td>SLF4J</td><td>LOG4J</td></tr><tr><td>proxyFactory</td><td>指定 Mybatis 创建可延迟加载对象所用到的代理工具。</td><td>CGLIB</td><td>JAVASSIST</td></tr><tr><td>vfsImpl</td><td>指定 VFS 的实现</td><td>自定义 VFS 的实现的类全限定名，以逗号分隔。</td><td>未设置</td></tr><tr><td>useActualParamName</td><td>允许使用方法签名中的名称作为语句参数名称。 为了使用该特性，你的项目必须采用 Java 8 编译，并且加上 -parameters 选项。（新增于 3.4.1）</td><td>true</td><td>false</td></tr><tr><td>configurationFactory</td><td>指定一个提供 Configuration 实例的类。 这个被返回的 Configuration 实例用来加载被反序列化对象的延迟加载属性值。 这个类必须包含一个签名为static Configuration getConfiguration() 的方法。（新增于 3.2.3）</td><td>一个类型别名或完全限定类名。</td><td>未设置</td></tr><tr><td>shrinkWhitespacesInSql</td><td>Removes extra whitespace characters from the SQL. Note that this also affects literal strings in SQL. (Since 3.5.5)</td><td>true</td><td>false</td></tr></tbody></table><p><strong>自动驼峰命名</strong>（<strong>mapUnderscoreToCamelCase</strong>）演示</p><p>在数据库中添加字段：login_account</p><p>在Java实体类中添加字段：loginAccount</p><p>mybatis配置：mapUnderscoreToCamelCase</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">settings</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">​     </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">setting</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">logImpl</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">LOG4J</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">​     </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">setting</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">mapUnderscoreToCamelCase</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">settings</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-13 11:02:02,098 ==&gt; Preparing: select * from t_employee where id = ? (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-13 11:02:02,127 ==&gt; Parameters: 1(Integer) (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-13 11:02:02,143 &lt;==   Total: 1 (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Employee{id=1, empName=&#x27;netty&#x27;, email=&#x27;netty@qq.com&#x27;, gender=1, loginAccount=&#x27;netty&#x27;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="typealiases类型别名和typehandlers类型处理器">typeAliases（类型别名）和typeHandlers（类型处理器）<a class="hash-link" href="#typealiases类型别名和typehandlers类型处理器" title="标题的直接链接">​</a></h2><p>起别名的三种方式：</p><p>默认方式起别名：别名就是全类名的最后一个类名：Employee</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    为常用全类名起别名--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">typeAliases</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">typeAlias</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Employee</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">typeAliases</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getEmpById</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Employee</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_employee where id = #{id}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>别名为emp</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    为常用全类名起别名--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">typeAliases</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">typeAlias</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Employee</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">alias</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">emp</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">typeAliases</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getEmpById</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">emp</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_employee where id = #{id}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>批量起别名：</p><p>使用注解起别名：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Alias(&quot;emp&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Employee {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="类型处理器">类型处理器<a class="hash-link" href="#类型处理器" title="标题的直接链接">​</a></h3><hr><p>MyBatis 在设置预处理语句（PreparedStatement）中的参数或从结果集中取出一个值时， 都会用类型处理器将获取到的值以合适的方式转换成 Java 类型。下表描述了一些默认的类型处理器。</p><p>提示 从 3.4.5 开始，MyBatis 默认支持 JSR-310（日期和时间 API） 。</p><table><thead><tr><th>类型处理器</th><th>Java 类型</th><th>JDBC 类型</th></tr></thead><tbody><tr><td>BooleanTypeHandler</td><td>java.lang.Boolean, boolean</td><td>数据库兼容的 BOOLEAN</td></tr><tr><td>ByteTypeHandler</td><td>java.lang.Byte, byte</td><td>数据库兼容的 NUMERIC 或 BYTE</td></tr><tr><td>ShortTypeHandler</td><td>java.lang.Short, short</td><td>数据库兼容的 NUMERIC 或 SMALLINT</td></tr><tr><td>IntegerTypeHandler</td><td>java.lang.Integer, int</td><td>数据库兼容的 NUMERIC 或 INTEGER</td></tr><tr><td>LongTypeHandler</td><td>java.lang.Long, long</td><td>数据库兼容的 NUMERIC 或 BIGINT</td></tr><tr><td>FloatTypeHandler</td><td>java.lang.Float, float</td><td>数据库兼容的 NUMERIC 或 FLOAT</td></tr><tr><td>DoubleTypeHandler</td><td>java.lang.Double, double</td><td>数据库兼容的 NUMERIC 或 DOUBLE</td></tr><tr><td>BigDecimalTypeHandler</td><td>java.math.BigDecimal</td><td>数据库兼容的 NUMERIC 或 DECIMAL</td></tr><tr><td>StringTypeHandler</td><td>java.lang.String</td><td>CHAR, VARCHAR</td></tr><tr><td>ClobReaderTypeHandler</td><td>java.io.Reader</td><td>-</td></tr><tr><td>ClobTypeHandler</td><td>java.lang.String</td><td>CLOB, LONGVARCHAR</td></tr><tr><td>NStringTypeHandler</td><td>java.lang.String</td><td>NVARCHAR, NCHAR</td></tr><tr><td>NClobTypeHandler</td><td>java.lang.String</td><td>NCLOB</td></tr><tr><td>BlobInputStreamTypeHandler</td><td>java.io.InputStream</td><td>-</td></tr><tr><td>ByteArrayTypeHandler</td><td>byte<!-- -->[<!-- -->]</td><td>数据库兼容的字节流类型</td></tr><tr><td>BlobTypeHandler</td><td>byte<!-- -->[<!-- -->]</td><td>BLOB, LONGVARBINARY</td></tr><tr><td>DateTypeHandler</td><td>java.util.Date</td><td>TIMESTAMP</td></tr><tr><td>DateOnlyTypeHandler</td><td>java.util.Date</td><td>DATE</td></tr><tr><td>TimeOnlyTypeHandler</td><td>java.util.Date</td><td>TIME</td></tr><tr><td>SqlTimestampTypeHandler</td><td>java.sql.Timestamp</td><td>TIMESTAMP</td></tr><tr><td>SqlDateTypeHandler</td><td>java.sql.Date</td><td>DATE</td></tr><tr><td>SqlTimeTypeHandler</td><td>java.sql.Time</td><td>TIME</td></tr><tr><td>ObjectTypeHandler</td><td>Any</td><td>OTHER 或未指定类型</td></tr><tr><td>EnumTypeHandler</td><td>Enumeration Type</td><td>VARCHAR 或任何兼容的字符串类型，用来存储枚举的名称（而不是索引序数值）</td></tr><tr><td>EnumOrdinalTypeHandler</td><td>Enumeration Type</td><td>任何兼容的 NUMERIC 或 DOUBLE 类型，用来存储枚举的序数值（而不是名称）。</td></tr><tr><td>SqlxmlTypeHandler</td><td>java.lang.String</td><td>SQLXML</td></tr><tr><td>InstantTypeHandler</td><td>java.time.Instant</td><td>TIMESTAMP</td></tr><tr><td>LocalDateTimeTypeHandler</td><td>java.time.LocalDateTime</td><td>TIMESTAMP</td></tr><tr><td>LocalDateTypeHandler</td><td>java.time.LocalDate</td><td>DATE</td></tr><tr><td>LocalTimeTypeHandler</td><td>java.time.LocalTime</td><td>TIME</td></tr><tr><td>OffsetDateTimeTypeHandler</td><td>java.time.OffsetDateTime</td><td>TIMESTAMP</td></tr><tr><td>OffsetTimeTypeHandler</td><td>java.time.OffsetTime</td><td>TIME</td></tr><tr><td>ZonedDateTimeTypeHandler</td><td>java.time.ZonedDateTime</td><td>TIMESTAMP</td></tr><tr><td>YearTypeHandler</td><td>java.time.Year</td><td>INTEGER</td></tr><tr><td>MonthTypeHandler</td><td>java.time.Month</td><td>INTEGER</td></tr><tr><td>YearMonthTypeHandler</td><td>java.time.YearMonth</td><td>VARCHAR 或 LONGVARCHAR</td></tr><tr><td>JapaneseDateTypeHandler</td><td>java.time.chrono.JapaneseDate</td><td>DATE</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="了解plugins插件">【了解】plugins（插件）<a class="hash-link" href="#了解plugins插件" title="标题的直接链接">​</a></h2><p>MyBatis的四大对象：</p><ul><li><p>Executor (update, query, flushStatements, commit, rollback, getTransaction, close, isClosed)</p></li><li><p>ParameterHandler (getParameterObject, setParameters)</p></li><li><p>ResultSetHandler (handleResultSets, handleOutputParameters)</p></li><li><p>StatementHandler (prepare, parameterize, batch, update, query)</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="环境配置environments">环境配置（environments）<a class="hash-link" href="#环境配置environments" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="环境">环境<a class="hash-link" href="#环境" title="标题的直接链接">​</a></h3><p>  每一个环境都需要一个事务管理器（transactionManager）和数据源（dataSource）</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    default 默认使用哪个环境--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">environments</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">default</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">development</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--        id 是当前环境的唯一标识--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">environment</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">development</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--            事务控制和连接池使用的是其他（如spring），这个配置可以暂时使用这个--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">transactionManager</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">JDBC</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--            配置连接池  --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dataSource</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">POOLED</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">driver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">${driver}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">url</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">${url}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">username</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">${username}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">password</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">${password}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dataSource</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">environment</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">environments</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据库厂商标识databaseidprovider">数据库厂商标识（databaseIdProvider）<a class="hash-link" href="#数据库厂商标识databaseidprovider" title="标题的直接链接">​</a></h2><p>Mybatis配置的先后顺序：</p><p>properties?, settings?, typeAliases?, typeHandlers?, objectFactory?, objectWrapperFactory?, reflectorFactory?, plugins?, environments?, databaseIdProvider?, mappers?</p><ol><li>首先在主配置文件下配置厂商名字：在environments标签下面（非内部）</li></ol><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--  mybatis用来考虑数据的移植性  --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">databaseIdProvider</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">DB_VENDOR</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--        name 数据库厂商标识 value 给这个标识起一个名字</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            MySQL、Oracle、SQL Server</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">MySQL</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">mysql</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Oracle</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">oracle</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">SQL Server</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">sqlserver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">databaseIdProvider</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>在SQL映射文件中就可以这样执行</li></ol><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getEmpById</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Employee</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">databaseId</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">mysql</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_employee where id = #{id}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getEmpById</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Employee</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">databaseId</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">oracle</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_employee where id = #{id}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="映射器mappers">映射器（mappers）<a class="hash-link" href="#映射器mappers" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mappers">mappers<a class="hash-link" href="#mappers" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!--    写好的SQL映射文件需要使用mappers映射进来--&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;mappers&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!--                &lt;mapper resource=&quot;EmployeeDao.xml&quot;/&gt;--&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!--</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            mapper属性：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            class 直接引用接口的【全类名】，但是需要把这个SQL映射文件(.xml)放到通DAO(interface)接口一个文件夹下</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                另一种用法：Dao接口直接使用注解的模式@Select @Insert @Update @Delete【不推荐,推荐配合XML使用】</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    重要的DAO写XML，不重要的直接写注解（混合开发）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            【常用】resource 在类路径下找SQL映射文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            url 可以从磁盘/网络路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!--                &lt;mapper class=&quot;cn.zhiyucs.dao.EmployeeDao&quot;&gt;&lt;/mapper&gt;--&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!--        批量注册</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        dao所在的包名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!--                &lt;mapper resource=&quot;EmployeeDao.xml&quot;/&gt;--&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;package name=&quot;cn.zhiyucs.dao&quot;&gt;&lt;/package&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/mappers&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>注意：SQL映射文件名最好和Dao的接口<strong>名字一致</strong>，这样在使用class属性和package标签的时候就不会发生错误。</p><p><img loading="lazy" alt="bddb3003-8732-43ab-afda-f5bc7f91a340" src="data:image/png;base64,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" width="281" height="184" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sql映射-获取自增id">SQL映射 获取自增ID<a class="hash-link" href="#sql映射-获取自增id" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="在sql映射文件内的-mapper-标签下可以写的主要标签有">在SQL映射文件内的 mapper 标签下可以写的主要标签有<a class="hash-link" href="#在sql映射文件内的-mapper-标签下可以写的主要标签有" title="标题的直接链接">​</a></h3><ul><li><code>&lt;cache/&gt;</code>: 缓存有关</li><li><code>&lt;cache-ref namespace=&quot;&quot;/&gt;</code> 缓存有关</li><li>delete update insert select</li><li><code>&lt;parameterMap id=&quot;&quot; type=&quot;&quot;&gt;&lt;/parameterMap&gt;</code> 废弃. 原本是做复杂参数映射</li><li><code>&lt;resultMap id=&quot;&quot;&gt;type=&quot;&quot;&lt;/resultMap&gt;</code> 结果映射，自定义结果集</li><li><code>&lt;sql id=&quot;&quot;/&gt;</code> 抽取可重用的sql</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="简述delete-update-insert-select-的属性">简述：delete update insert select 的属性<a class="hash-link" href="#简述delete-update-insert-select-的属性" title="标题的直接链接">​</a></h3><ul><li>id 唯一标识符</li><li>useGeneratedKeys 原生JDBC获取自增主键</li><li>keyProperty 配合useGeneratedKeys 实现获取插入数据后的自增id,让mybatis自动将自增id赋值给对象</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="获取主键自增属性">获取主键自增属性<a class="hash-link" href="#获取主键自增属性" title="标题的直接链接">​</a></h3><p>获取自增ID：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">insert</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">insertEmployee</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">useGeneratedKeys</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">keyProperty</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    insert into t_employee(empname,gender,email) values(#{empName},#{gender},#{email})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">insert</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 00:22:24,082 ==&gt;  Preparing: insert into t_employee(empname,gender,email) values(?,?,?)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 00:22:24,111 ==&gt; Parameters: tomcat5(String), 1(Integer), tomcat5@qq.com(String)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 00:22:24,122 &lt;==    Updates: 1  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">自增ID：8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="获取非主键自增属性">获取非主键自增属性<a class="hash-link" href="#获取非主键自增属性" title="标题的直接链接">​</a></h3><p>获取最大的ID自增1，加入到实体类的属性里面</p><p><code>&lt;selectKey&gt;</code> 查询主键</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">insert</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">insertEmployee2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- 查询主键</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        order=&quot;BEFORE&quot; 在核心SQL语句之前运行一个SQL查到ID，将查到的ID赋值给实体类的属性</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">selectKey</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">order</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">BEFORE</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">integer</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">keyProperty</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        select max(id)+1 from t_employee;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">selectKey</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    insert into t_employee(id,empname,gender,email) values(#{id},#{empName},#{gender},#{email})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">insert</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 00:33:11,370 ==&gt;  Preparing: select max(id)+1 from t_employee;  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 00:33:11,393 ==&gt; Parameters:   (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 00:33:11,407 &lt;==      Total: 1  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 00:33:11,407 ==&gt;  Preparing: insert into t_employee(id,empname,gender,email) values(?,?,?,?)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 00:33:11,409 ==&gt; Parameters: 10(Integer), tomcat6(String), 0(Integer), tomcat6@qq.com(String)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 00:33:11,410 &lt;==    Updates: 1  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10 //代码： Employee emp = new Employee(null, &quot;tomcat6&quot;, &quot;tomcat6@qq.com&quot;, 0); System.out.println(em</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sql映射-传入多个参数">SQL映射 传入多个参数<a class="hash-link" href="#sql映射-传入多个参数" title="标题的直接链接">​</a></h2><p><strong>传入单个参数</strong>：</p><p>​      基本类型：</p><p>​        <strong>取值：#{随便写}</strong></p><p>​      传入POJO</p><p><strong>传入多个参数</strong>：</p><p>​      <strong>取值：#{param1} #{param2}</strong></p><p>​        原因：只要传入多个参数，mybatis会自动将这些参数封装在一个map，</p><p>​        封装时使用的key就是参数的索引和参数的第几个表示</p><p>​       <code> Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();</code></p><p>​        <!-- -->#<!-- -->{key}就是从这个map的取值</p><p>​      <strong>【推荐】使用指定方式封装：@Param(&quot;id&quot;) Integer id, @Param(&quot;empName&quot;) String empName</strong></p><p>​      为参数指定key(命名参数)</p><p>​      <strong>传入POJO</strong>：#{pojo属性名}</p><p>示例：</p><p>接口1写法：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public Employee getEmpByIdAndName(@Param(&quot;id&quot;) Integer id, @Param(&quot;empName&quot;) String empName);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getEmpByIdAndName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Employee</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        select * from t_employee where id=#{id} and empname=#{empName};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>接口2写法：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public Employee getEmpByIdAndName(Integer id, String empName);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getEmpByIdAndName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Employee</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        select * from t_employee where id=#{param1} and empname=#{param2};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="传入map">传入Map<a class="hash-link" href="#传入map" title="标题的直接链接">​</a></h3><p>映射配置</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getEmpByMap</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Employee</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        select * from t_employee where id=#{id} and empname=#{empName};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>接口：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public Employee getEmpByMap(Map&lt;String, Object&gt; map);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 测试查询</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void testRetrieveMap() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;id&quot;, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;empName&quot;, &quot;netty&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Employee emp = mapper.getEmpByMap(map);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(emp);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 00:56:23,844 ==&gt;  Preparing: select * from t_employee where id=? and empname=?;  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 00:56:23,872 ==&gt; Parameters: 1(Integer), netty(String)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 00:56:23,886 &lt;==      Total: 1  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Employee{id=1, empName=&#x27;netty&#x27;, email=&#x27;netty@qq.com&#x27;, gender=1, loginAccount=&#x27;null&#x27;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="取值属性">#{}取值属性<a class="hash-link" href="#取值属性" title="标题的直接链接">​</a></h3><p>取值规则：</p><p>​      <!-- -->#<!-- -->{key/属性名}</p><p>​        如：id = #{id,jdbcType=INTEGER}</p><p>​          jdbcType 最可能被指定的属性(case: oracle不知道Java传入NULL是什么)</p><p>​          <!-- -->*<!-- --> numericScale</p><p>​          <!-- -->*<!-- --> resultMap</p><p>​          <!-- -->*<!-- --> typeHandler</p><p>​          <!-- -->*<!-- --> jdbcTypeName</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getEmpById</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Employee</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_employee where id = #{id, jdbcType=INTEGER}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="两种取值方式-">两种取值方式：${} #{}<a class="hash-link" href="#两种取值方式-" title="标题的直接链接">​</a></h3><ul><li>#<!-- -->{} 参数是预编译的方式，参数的方式使用 ? 代替, 参数后来都是预编译设置进去</li><li>${} 不是参数预编译, 而是直接和sql进行拼串【不安全】, 但可以动态取表名</li><li>在不支持预编译的位置进行取值就可以使用${}</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sql映射-查询集合">SQL映射 查询集合<a class="hash-link" href="#sql映射-查询集合" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="封装成list">封装成LIST<a class="hash-link" href="#封装成list" title="标题的直接链接">​</a></h3><p>​    SQL配置：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--  resultType如果返回的集合，写的是集合里面元素的类型  --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getAllEmps</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Employee</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_employee;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>接口：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public List&lt;Employee&gt; getAllEmps();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 01:12:58,909 ==&gt;  Preparing: select * from t_employee;  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 01:12:58,936 ==&gt; Parameters:   (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 01:12:58,951 &lt;==      Total: 7  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Employee{id=1, empName=&#x27;netty&#x27;, email=&#x27;netty@qq.com&#x27;, gender=1, loginAccount=&#x27;null&#x27;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Employee{id=3, empName=&#x27;tomcat&#x27;, email=&#x27;tomcat@qq.com&#x27;, gender=0, loginAccount=&#x27;null&#x27;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Employee{id=5, empName=&#x27;tomcat2&#x27;, email=&#x27;tomcat2@qq.com&#x27;, gender=0, loginAccount=&#x27;null&#x27;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Employee{id=7, empName=&#x27;tomcat3&#x27;, email=&#x27;tomcat3@qq.com&#x27;, gender=0, loginAccount=&#x27;null&#x27;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Employee{id=8, empName=&#x27;tomcat5&#x27;, email=&#x27;tomcat5@qq.com&#x27;, gender=1, loginAccount=&#x27;null&#x27;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Employee{id=9, empName=&#x27;tomcat6&#x27;, email=&#x27;tomcat6@qq.com&#x27;, gender=0, loginAccount=&#x27;null&#x27;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Employee{id=10, empName=&#x27;tomcat7&#x27;, email=&#x27;tomcat6@qq.com&#x27;, gender=0, loginAccount=&#x27;null&#x27;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="封装成map">封装成MAP<a class="hash-link" href="#封装成map" title="标题的直接链接">​</a></h3><p>查询单个记录：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getEmpByIdRetMap</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">map</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_employee where id = #{id}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public Map&lt;String, Object&gt; getEmpByIdRetMap(Integer id);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 01:18:09,253 ==&gt;  Preparing: select * from t_employee where id = ?  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 01:18:09,287 ==&gt; Parameters: 1(Integer)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 01:18:09,307 &lt;==      Total: 1  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{empname=netty, gender=1, id=1, login_account=netty, email=netty@qq.com}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>查询多条记录：关键注解 -- <strong>@MapKey</strong></p><p>注意：查询多个的时候resultType写的是实体类的类型</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getAllEmpsRetMap</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Employee</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_employee;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//    @MapKey把查出的key为id作为Map的key封装进去</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@MapKey(&quot;id&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public Map&lt;Integer, Employee&gt; getAllEmpsRetMap();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void testRetrieveRetAllMap() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;Integer, Employee&gt; map = mapper.getAllEmpsRetMap();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //        System.out.println(map);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(map.get(1));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 01:27:03,139 ==&gt;  Preparing: select * from t_employee;  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 01:27:03,165 ==&gt; Parameters:   (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 01:27:03,182 &lt;==      Total: 7  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Employee{id=1, empName=&#x27;netty&#x27;, email=&#x27;netty@qq.com&#x27;, gender=1, loginAccount=&#x27;null&#x27;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sql映射-自定义resulttype">SQL映射 自定义resultType<a class="hash-link" href="#sql映射-自定义resulttype" title="标题的直接链接">​</a></h2><p>应用场景：当数据库中的列名和实体类中的属性名不一致时</p><p>实体类的属性值：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Cat {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer gender;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>数据库中的属性名：</p><p><img loading="lazy" alt="51b28d1e-dc26-41a1-ad42-818e26e30bd2" src="data:image/png;base64,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" width="286" height="97" class="img_ev3q"></p><p>在SQL映射中自定义规则：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    自定义结果集：</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            type 指定实体类的封装规则：全类名</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            id 唯一标识</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">resultMap</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cat</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Cat</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        column 指定在数据库里这个属性对应的列</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        property 指定实体类封装这个ID的属性</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">age</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cAge</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">name</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">gender</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cGender</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">resultMap</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>使用自定义规则：<strong>关键属性 -- resultMap</strong></p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getCatById</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultMap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cat</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_cat where id = #{id};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 01:47:29,015 ==&gt;  Preparing: select * from t_cat where id = ?;  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 01:47:29,043 ==&gt; Parameters: 1(Integer)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 01:47:29,057 &lt;==      Total: 1  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cat{id=1, name=&#x27;加菲猫&#x27;, gender=0, age=12}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sql映射-级联属性查询">SQL映射 级联属性查询<a class="hash-link" href="#sql映射-级联属性查询" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="序言-一对一关联">序言: 一对一关联<a class="hash-link" href="#序言-一对一关联" title="标题的直接链接">​</a></h3><p>key实体类：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Key {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String keyName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Lock lock;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Lock实体类：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Lock {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String lockName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>两个类的数据库属性：</p><p><img loading="lazy" alt="f161d369-3eea-48af-bf04-11d9fe4d0c2e" src="data:image/png;base64,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" width="218" height="68" class="img_ev3q"></p><p>同时映射了外键lockid</p><p><img loading="lazy" alt="13e6e1c7-f56c-449e-a97d-fe46e6acfd17" src="data:image/png;base64,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" width="670" height="73" class="img_ev3q"></p><p><img loading="lazy" alt="568320a5-c6af-408f-83f4-d975a17b0799" src="data:image/png;base64,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" width="171" height="82" class="img_ev3q"></p><p>在SQL映射文件配置</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">mapper</span><span class="token doctype" style="color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token doctype" style="color:#999988;font-style:italic">        </span><span class="token doctype name" style="color:#999988;font-style:italic">PUBLIC</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype string" style="color:#e3116c;font-style:italic">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><span class="token doctype" style="color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token doctype" style="color:#999988;font-style:italic">        </span><span class="token doctype string" style="color:#e3116c;font-style:italic">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mapper</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">namespace</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.dao.KeyDao</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">resultMap</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">key</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Key</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">kid</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">keyName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">keyname</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lock.id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">kid</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lock.lockName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lockname</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">resultMap</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getKeyById</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultMap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">key</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SELECT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            k.id kid,k.keyname,k.lockid,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            l.id lid,l.lockName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        FROM t_key k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        LEFT JOIN t_lock l ON k.lockid = l.id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        WHERE k.id = #{id}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">mapper</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>使用<strong>association</strong>方式配置</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">resultMap</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">key</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Key</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">kid</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">keyName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">keyname</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--        自定义对象的封装规则 表示联合了一个对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                    property：指定哪一个属性</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                    javaType： 指定对象类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">association</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lock</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">javaType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Lock</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lid</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lockName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lockName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">association</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">resultMap</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 11:47:05,874 ==&gt;  Preparing: SELECT k.id kid,k.keyname,k.lockid, l.id lid,l.lockName FROM t_key k LEFT JOIN t_lock l ON k.lockid = l.id WHERE k.id = ?  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 11:47:05,899 ==&gt; Parameters: 1(Integer)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 11:47:05,913 &lt;==      Total: 1  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Key{id=1, keyName=&#x27;1号钥匙&#x27;, lock=Lock{id=1, lockName=&#x27;1号锁&#x27;}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sql映射-级联-一对多-多对多">SQL映射 级联 一对多 多对多<a class="hash-link" href="#sql映射-级联-一对多-多对多" title="标题的直接链接">​</a></h2><p>一对多，外键放在多的一端</p><p>多对多，新建中间表存储对应关系</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="一对多">一对多<a class="hash-link" href="#一对多" title="标题的直接链接">​</a></h3><p>实体类对Lock进行修改：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Lock {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String lockName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;Key&gt; keys;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>接口：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public List&lt;Lock&gt; getLockById(Integer id);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置SQL映射：注意是<strong>ofType</strong></p><p><strong>如果是封装一个集合使用的是collection</strong></p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">mapper</span><span class="token doctype" style="color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token doctype" style="color:#999988;font-style:italic">        </span><span class="token doctype name" style="color:#999988;font-style:italic">PUBLIC</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype string" style="color:#e3116c;font-style:italic">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><span class="token doctype" style="color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token doctype" style="color:#999988;font-style:italic">        </span><span class="token doctype string" style="color:#e3116c;font-style:italic">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mapper</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">namespace</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.dao.LockDao</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">resultMap</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lock</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Lock</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">kid</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lockName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lockname</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    定义集合元素的封装</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                       property 指定哪个属性时集合属性</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                       ofType 指定集合中元素的类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">collection</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">keys</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ofType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Key</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">kid</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">keyname</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">keyName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">collection</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">resultMap</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getLockById</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultMap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lock</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SELECT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            k.id kid,k.keyname,k.lockid,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            l.id lid,l.lockName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        FROM t_lock l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        LEFT JOIN t_key k ON l.id = k.lockid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        WHERE l.id = #{id}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">mapper</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 12:36:13,200 ==&gt;  Preparing: SELECT k.id kid,k.keyname,k.lockid, l.id lid,l.lockName FROM t_lock l LEFT JOIN t_key k ON l.id = k.lockid WHERE l.id = ?  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 12:36:13,226 ==&gt; Parameters: 3(Integer)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 12:36:13,241 &lt;==      Total: 3  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Lock{id=3, lockName=&#x27;303锁&#x27;}, Lock{id=4, lockName=&#x27;303锁&#x27;}, Lock{id=5, lockName=&#x27;303锁&#x27;}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sql映射-分步查询">SQL映射 分步查询<a class="hash-link" href="#sql映射-分步查询" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="association分步查询">association分步查询<a class="hash-link" href="#association分步查询" title="标题的直接链接">​</a></h3><hr><p>分步思路：先查询key的lockid传到lock，查询到这个数据返回封装到key的lock属性里</p><p>​    分别增加一个测试接口：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public Key getKeyByIdSimple(Integer id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public Lock getLcokSimple(Integer id);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>LOCK类的SQL映射：Lock等待一个KEY传送过来的ID进行查询</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getLcokSimple</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Lock</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        select * from t_lock where id = #{id};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>KEY类的SQL映射：</p><p>关键：select column属性</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        select: 指定查询SQL的唯一标识，mybatis自动调用指定的SQL将查出的lock封装进来</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        column: 指定哪一列的数据传送数据到这个SQL</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">resultMap</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">key2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Key</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">keyName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">keyname</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">association</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lock</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">                 </span><span class="token tag attr-name" style="color:#00a4db">javaType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Lock</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">                 </span><span class="token tag attr-name" style="color:#00a4db">select</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.dao.LockDao.getLcokSimple</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">                 </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lockid</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">association</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">resultMap</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getKeyByIdSimple</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultMap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">key2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_key where id = #{id};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：</p><p>从测试结果可以看出先查询钥匙Preparing: select * from t_key where id = ?</p><p>再把查出的锁lockid传入到getLcokSimple：Preparing: select * from t_lock where id = ?</p><p>封装到这个Key实体类</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 12:51:15,968 ==&gt;  Preparing: select * from t_key where id = ?;  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 12:51:15,991 ==&gt; Parameters: 1(Integer)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 12:51:16,004 ====&gt;  Preparing: select * from t_lock where id = ?;  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 12:51:16,004 ====&gt; Parameters: 1(Integer)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 12:51:16,007 &lt;====      Total: 1  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 12:51:16,007 &lt;==      Total: 1  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Key{id=1, keyName=&#x27;1号钥匙&#x27;, lock=Lock{id=1, lockName=&#x27;1号锁&#x27;}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="collection分布查询">Collection分布查询<a class="hash-link" href="#collection分布查询" title="标题的直接链接">​</a></h3><hr><p>分步思路：先查询到LOCKid，传入到KEY的lockid，查询到多个数据封装到Lock的keys里面</p><p>接口:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public Lock getLockByIdByStep(Integer id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public List&lt;Key&gt; getKeysByLockId(Integer id);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>KEY的SQL映射：等待一个id传入查询lockid</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getKeysByLockId</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Key</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        select * from t_key where lockid = #{id};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>LOCK的SQL映射：分布查询集合<code>&lt;collection&gt;</code>：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">resultMap</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lockstep</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Lock</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lockName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lockname</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">collection</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">keys</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ofType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Key</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">                </span><span class="token tag attr-name" style="color:#00a4db">select</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.dao.KeyDao.getKeysByLockId</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">                </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">collection</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">resultMap</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getLockByIdByStep</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultMap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lockstep</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_lock where id = #{id};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 13:19:17,367 ==&gt;  Preparing: select * from t_lock where id = ?;  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 13:19:17,417 ==&gt; Parameters: 3(Integer)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 13:19:17,475 &lt;==      Total: 1  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 13:19:17,476 ==&gt;  Preparing: select * from t_key where lockid = ?;  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 13:19:17,476 ==&gt; Parameters: 3(Integer)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 13:19:17,478 &lt;==      Total: 3  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">303钥匙1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">303钥匙2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">303钥匙3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sql映射-延迟加载-按需加载">SQL映射 延迟加载 按需加载<a class="hash-link" href="#sql映射-延迟加载-按需加载" title="标题的直接链接">​</a></h2><p>全局开启按需加载和延时加载</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">settings</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--        延迟加载--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">setting</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lazyLoadingEnabled</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--        属性按需加载--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">setting</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">aggressiveLazyLoading</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">settings</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>局部开启：fetchType</p><p><img loading="lazy" alt="c27b8eb0-8eef-4365-a59d-45217c07602e" src="/Computer-Science-Learn-Notes/assets/images/c27b8eb0-8eef-4365-a59d-45217c07602e-685220052105563162eb7247677132de.png" width="828" height="286" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="动态sql-if">动态SQL IF<a class="hash-link" href="#动态sql-if" title="标题的直接链接">​</a></h2><p>数据库数据的列：</p><p><img loading="lazy" alt="998e86f8-661b-4f9f-b1b7-25159c1569fa" src="data:image/png;base64,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" width="454" height="95" class="img_ev3q"></p><p>实体类的定义：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Teacher {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String course;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String address;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Date birthday;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>接口定义：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public List&lt;Teacher&gt; getTeacherByCondition(Teacher teacher);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置SQL映射：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">mapper</span><span class="token doctype" style="color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token doctype" style="color:#999988;font-style:italic">        </span><span class="token doctype name" style="color:#999988;font-style:italic">PUBLIC</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype string" style="color:#e3116c;font-style:italic">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><span class="token doctype" style="color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token doctype" style="color:#999988;font-style:italic">        </span><span class="token doctype string" style="color:#e3116c;font-style:italic">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mapper</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">namespace</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.dao.TeacherDao</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">resultMap</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">teacher</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.domain.Teacher</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">teacher_name</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">name</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">class_name</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">course</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">address</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">address</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">result</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">column</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">birthday</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">property</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">birthday</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">resultMap</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getTeacherById</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultMap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">teacher</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        select * from t_teacher where id = #{id}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="实战动态sql-if">实战动态SQL IF<a class="hash-link" href="#实战动态sql-if" title="标题的直接链接">​</a></h3><hr><p>查询的条件是： </p><ul><li>ID 大于条件ID</li><li>名字模糊搜索</li><li>生日小于条件生日日期</li></ul><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getTeacherByCondition</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultMap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">teacher</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_teacher where</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--        test 编写判断条件</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                id!=null取出传入的实体类属性的id的值，判断是否为空</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                OGNL表达式</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                &amp;&amp; -&gt; and</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                &lt; -&gt; &amp;lt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id != null</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        id &gt; #{id} and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">name != null and name != </span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        teacher_name like #{name} and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">birthday != null</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        birthday </span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain"> #{birthday}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>注意：</strong>这个test里的属性是Java中的属性而不是数据库中的</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="动态sql-where-trim">动态SQL WHERE TRIM<a class="hash-link" href="#动态sql-where-trim" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="where-元素"><strong>where 元素</strong><a class="hash-link" href="#where-元素" title="标题的直接链接">​</a></h3><p>只会在子元素返回任何内容的情况下才插入 “WHERE” 子句。而且，若子句的开头为 “AND” 或 “OR”，where 元素也会将它们去除。</p><p>完整语句：<code>select * from t_teacher WHERE id &gt; ? and birthday &lt; ?</code></p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getTeacherByCondition</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultMap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">teacher</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_teacher</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">where</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id != null</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            id &gt; #{id}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">name != null and name != </span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            and teacher_name like #{name}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">birthday != null</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            and birthday </span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain"> #{birthday}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">where</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="trim-标签">trim 标签<a class="hash-link" href="#trim-标签" title="标题的直接链接">​</a></h3><p>合成的SQL语句是：<code>select * from t_teacher where id &gt; ? and birthday &lt; ?</code></p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getTeacherByCondition</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultMap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">teacher</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_teacher</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--trim标签属性</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        prefix 为SQL添加一个前缀</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        prefixOverrides 去除字符串多余的字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        suffix 为整体添加后缀</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        suffixOverrides 后面多了可以去掉</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">trim</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">prefix</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">where</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">suffixOverrides</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">and</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id != null</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            id &gt; #{id} and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">name != null and name != </span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            teacher_name like #{name} and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">birthday != null</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            birthday </span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain"> #{birthday}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">trim</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="动态sql-foreach">动态SQL FOREACH<a class="hash-link" href="#动态sql-foreach" title="标题的直接链接">​</a></h2><p>动态 SQL 的另一个常见使用场景是对<strong>集合进行遍历</strong>（尤其是在构建 <strong>IN 条件语句</strong>的时候）</p><p><strong>提示：</strong>你可以将任何可迭代对象（如 List、Set 等）、Map 对象或者数组对象作为集合参数传递给 <em>foreach</em>。当使用可迭代对象或者数组时，index 是当前迭代的序号，item 的值是本次迭代获取到的元素。当使用 Map 对象（或者 Map.Entry 对象的集合）时，index 是键，item 是值。</p><p>​    接口设计：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public List&lt;Teacher&gt; getTeacherByIdIn(@Param(&quot;ids&quot;) List&lt;Integer&gt; ids);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getTeacherByIdIn</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultMap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">teacher</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    select * from t_teacher where id IN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        collection 指定要遍历的集合的key</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        index</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            如果是list index指定的遍历保存了当前索引</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            如果是map index指定的遍历保存了当前遍历的元素的key</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        close 以什么结束</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        item 每个遍历到的元素,起一个变量名</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        open 以什么开始</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        separator 每次遍历元素的分隔符</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">foreach</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">             </span><span class="token tag attr-name" style="color:#00a4db">collection</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">ids</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">             </span><span class="token tag attr-name" style="color:#00a4db">item</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id_item</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">             </span><span class="token tag attr-name" style="color:#00a4db">separator</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">,</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">             </span><span class="token tag attr-name" style="color:#00a4db">open</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">(</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">             </span><span class="token tag attr-name" style="color:#00a4db">close</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">)</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        #{id_item}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">foreach</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>传入方式及结果：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;Teacher&gt; teacher = mapper.getTeacherByIdIn(Arrays.asList(1,2,3,4,5));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 18:28:27,017 ==&gt;  Preparing: select * from t_teacher where id IN ( ? , ? , ? , ? , ? )  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 18:28:27,040 ==&gt; Parameters: 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 18:28:27,057 &lt;==      Total: 3  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Teacher{id=1, name=&#x27;admin&#x27;, course=&#x27;语文&#x27;, address=&#x27;保安区&#x27;, birthday=Wed Jul 01 00:00:00 CST 2020}, Teacher{id=2, name=&#x27;tomcat&#x27;, course=&#x27;数学&#x27;, address=&#x27;福田区&#x27;, birthday=Fri Jul 10 00:00:00 CST 2020}, Teacher{id=3, name=&#x27;jerry&#x27;, course=&#x27;英语&#x27;, address=&#x27;罗湖区&#x27;, birthday=Sun Jul 05 00:00:00 CST 2020}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="动态sql-choosewhenotherwise">动态SQL CHOOSE、WHEN、OTHERWISE<a class="hash-link" href="#动态sql-choosewhenotherwise" title="标题的直接链接">​</a></h2><p>MyBatis 提供了 choose 元素，它有点像 Java 中的 switch 语句</p><p>SQL映射配置：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getTeacherByConditionChoose</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultMap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">teacher</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        select * from t_teacher</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">where</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">choose</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">when</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id != null</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    id = #{id}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">when</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">when</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">name != null and name != </span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    teacher_name = #{name}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">when</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">when</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">birthday != null</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    birthday = #{birthday}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">when</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">otherwise</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    1=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">otherwise</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">choose</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">where</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>条件一及结果：当id不等于空的时候就成立 -&gt; 只查询id = 传入id(1)的值</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void test4() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Teacher testTeach = new Teacher();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    testTeach.setId(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    testTeach.setBirthday(new Date());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    List&lt;Teacher&gt; teacher = mapper.getTeacherByConditionChoose(testTeach);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(teacher);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 18:37:42,865 ==&gt;  Preparing: select * from t_teacher WHERE id = ?  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 18:37:42,891 ==&gt; Parameters: 1(Integer)  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 18:37:42,904 &lt;==      Total: 1  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Teacher{id=1, name=&#x27;admin&#x27;, course=&#x27;语文&#x27;, address=&#x27;保安区&#x27;, birthday=Wed Jul 01 00:00:00 CST 2020}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>条件二及结果：相当于测试otherwise（1=1）</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void test4() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Teacher testTeach = new Teacher();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    List&lt;Teacher&gt; teacher = mapper.getTeacherByConditionChoose(testTeach);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(teacher);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 18:36:46,957 ==&gt;  Preparing: select * from t_teacher WHERE 1=1  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 18:36:46,979 ==&gt; Parameters:   (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG 07-15 18:36:46,992 &lt;==      Total: 3  (BaseJdbcLogger.java:137) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Teacher{id=1, name=&#x27;admin&#x27;, course=&#x27;语文&#x27;, address=&#x27;保安区&#x27;, birthday=Wed Jul 01 00:00:00 CST 2020}, Teacher{id=2, name=&#x27;tomcat&#x27;, course=&#x27;数学&#x27;, address=&#x27;福田区&#x27;, birthday=Fri Jul 10 00:00:00 CST 2020}, Teacher{id=3, name=&#x27;jerry&#x27;, course=&#x27;英语&#x27;, address=&#x27;罗湖区&#x27;, birthday=Sun Jul 05 00:00:00 CST 2020}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="动态sql-set">动态SQL SET<a class="hash-link" href="#动态sql-set" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="动态更新">动态更新<a class="hash-link" href="#动态更新" title="标题的直接链接">​</a></h3><p>这个更新只会更新某一个字段，其他仍然保留！</p><p>如果不加set在SQL语句中：update xxx set xxx, 就会多出一个逗号</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">updateTeacher</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultMap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">teacher</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">set</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">name != null and name != </span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            teacher_name=#{name}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">course != null and course != </span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            class_name=#{course}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">address != null and address != </span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            address=#{address}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">birthday != null</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            birthday=#{birthday}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">set</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">where</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        id = #{id}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">where</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ognl表达式">OGNL表达式<a class="hash-link" href="#ognl表达式" title="标题的直接链接">​</a></h2><p><strong>OGNL（ Object Graph Navigation Language ）</strong>对象图导航语言，这是一种强大的</p><p>表达式语言，通过它可以非常方便的来操作对象属性。 类似于我们的EL，SpEL等</p><p>访问对象属性：    person.name</p><p>调用方法：        person.getName()</p><p>调用静态属性/方法：  @java.lang.Math@PI  </p><p>​                   @java.util.UUID@randomUUID()</p><p>调用构造方法：    new com.atguigu.bean.Person(‘admin’).name</p><p>运算符：   <code> +,-*,/,%</code></p><p>逻辑运算符：    <code>in,not in,&gt;,&gt;=,&lt;,&lt;=,==,!=</code></p><p>​    注意：<code>xml中特殊符号如”,&gt;,&lt;等这些都需要使用转义字符</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="伪属">伪属<a class="hash-link" href="#伪属" title="标题的直接链接">​</a></h3><hr><table><thead><tr><th>类型</th><th>伪属性</th><th>伪属性对应的 Java 方法</th></tr></thead><tbody><tr><td>List、Set、Map</td><td>size、isEmpty</td><td>List/Set/Map.size(),List/Set/Map.isEmpty()</td></tr><tr><td>List、Set</td><td>iterator</td><td>List.iterator()、Set.iterator()</td></tr><tr><td>Map</td><td>keys、values</td><td>Map.keySet()、Map.values()</td></tr><tr><td>Iterator</td><td>next、hasNext</td><td>Iterator.next()、Iterator.hasNext()</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="动态sql-bind--include">动态SQL BIND  INCLUDE<a class="hash-link" href="#动态sql-bind--include" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bind">bind<a class="hash-link" href="#bind" title="标题的直接链接">​</a></h3><p><code>bind</code> 元素允许你在 OGNL 表达式以外创建一个变量，并将其绑定到当前的上下文。</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">trim</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">prefix</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">where</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">suffixOverrides</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">and</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bind</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">_name</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">%</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c"> + name + </span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">%</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">id != null</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        id &gt; #{id} and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">name != null and name != </span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        teacher_name like #{_name} and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">if</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">test</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">birthday != null</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        birthday </span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain"> #{birthday}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">if</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">trim</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="include">include<a class="hash-link" href="#include" title="标题的直接链接">​</a></h3><p>提取重复的SQL语句</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">sql</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">selectSql</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> select * from t_teacher</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">sql</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">getTeacherById</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">resultMap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">teacher</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">include</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">refid</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">selectSql</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">include</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> where</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id = #{id}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="一级缓存">一级缓存<a class="hash-link" href="#一级缓存" title="标题的直接链接">​</a></h2><p>一级缓存的演示：</p><p>一级缓存默认是存在的，只要之前查过的数据，mybatis会保存在一个缓存中（Map），下次获取直接从缓存中拿</p><p><img loading="lazy" alt="3744fb32-713a-4d73-af86-eff6a47c8266" src="/Computer-Science-Learn-Notes/assets/images/3744fb32-713a-4d73-af86-eff6a47c8266-6ec2bc42c3411ad2615f6e9f9af1f168.png" width="799" height="369" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="一级缓存的失效情况">一级缓存的失效情况<a class="hash-link" href="#一级缓存的失效情况" title="标题的直接链接">​</a></h3><hr><p>一级缓存是SqlSession的缓存</p><ol><li><p>不同的SqlSession，使用不同的一级缓存</p><p>只有在同一个SqlSession期间查询的数据会保存到这个SqlSession缓存中。</p></li></ol><p><img loading="lazy" alt="82f5f462-37ab-48fe-a5c6-f1bcf8547f9b" src="/Computer-Science-Learn-Notes/assets/images/82f5f462-37ab-48fe-a5c6-f1bcf8547f9b-65c931a6f40b71f24f8272ef8a872922.png" width="868" height="891" class="img_ev3q"></p><ol start="2"><li>同一个方法不同的参数</li></ol><p><img loading="lazy" alt="bd07806c-61c4-424c-99db-0aa5f3d28166" src="/Computer-Science-Learn-Notes/assets/images/bd07806c-61c4-424c-99db-0aa5f3d28166-5ac9702260bbdf1b2ca56813327490db.png" width="883" height="519" class="img_ev3q"></p><ol start="3"><li>只要在SqlSession期间执行了一次CRUD，就会清空一级缓存</li></ol><p><img loading="lazy" alt="a9eab4da-e579-415b-aff6-19c3a9c89314" src="/Computer-Science-Learn-Notes/assets/images/a9eab4da-e579-415b-aff6-19c3a9c89314-1550e20c788efa21b0049d432895b24b.png" width="937" height="386" class="img_ev3q"></p><ol start="4"><li>手动清空缓存：使用SqlSession.clearCache();</li></ol><p><img loading="lazy" alt="6a8cc7cf-39f4-4189-b28d-3f17b968ab13" src="/Computer-Science-Learn-Notes/assets/images/6a8cc7cf-39f4-4189-b28d-3f17b968ab13-9e02baed457007048ff935621363457d.png" width="953" height="613" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="二级缓存">二级缓存<a class="hash-link" href="#二级缓存" title="标题的直接链接">​</a></h2><p>二级缓存：namespace级别的缓存</p><p>一级缓存在SqlSession关闭/提交以后，一级缓存的数据会放在二级缓存中；mybatis默认没有开启</p><ol><li>全局配置：开启全局缓存</li></ol><p><img loading="lazy" alt="24f72b72-160b-471f-89b1-367fad2b21df" src="/Computer-Science-Learn-Notes/assets/images/24f72b72-160b-471f-89b1-367fad2b21df-9b780fdbd0f9a1ab37d88dfabb619aed.png" width="577" height="267" class="img_ev3q"></p><ol start="2"><li>哪一个SQL映射要用到二级缓存加入<code>&lt;cache&gt;</code> 即可</li></ol><p><img loading="lazy" alt="55f6f3aa-4ec9-4584-96d8-8128db5bd541" src="/Computer-Science-Learn-Notes/assets/images/55f6f3aa-4ec9-4584-96d8-8128db5bd541-b2d780a18f9d1141b7f8cb113e8808ab.png" width="600" height="207" class="img_ev3q"></p><p>实体类需要序列号：</p><p><img loading="lazy" alt="a29cc3bf-65db-4ec3-91c2-8c890eaaadfe" src="/Computer-Science-Learn-Notes/assets/images/a29cc3bf-65db-4ec3-91c2-8c890eaaadfe-b62183ee44449b146540bb475ef19c3b.png" width="460" height="146" class="img_ev3q"></p><p>测试结果：</p><p><img loading="lazy" alt="7b49ac50-2710-47c9-a64b-87ec97593dce" src="/Computer-Science-Learn-Notes/assets/images/7b49ac50-2710-47c9-a64b-87ec97593dce-dd9f919ffb8a1119a16e710ffe19841a.png" width="887" height="472" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="缓存的查询顺序和原理">缓存的查询顺序和原理<a class="hash-link" href="#缓存的查询顺序和原理" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="缓存查询顺序">缓存查询顺序<a class="hash-link" href="#缓存查询顺序" title="标题的直接链接">​</a></h3><ol><li>不会出现一级缓存和二级缓存中有同一个数据</li></ol><ul><li>二级缓存中：一级缓存关闭了就有了</li><li>一级缓存中：二级缓存中没有此数据，就会看一级缓存，一级缓存没有就去查数据库，数据库查到放到一级缓存</li></ul><ol start="2"><li>任何时候都是先看二级缓存，再看一级缓存，再去查数据库</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="缓存原理图">缓存原理图<a class="hash-link" href="#缓存原理图" title="标题的直接链接">​</a></h3><p>一级缓存只能使用自己的</p><p>二级缓存只要一级缓存关闭就能使用</p><p><img loading="lazy" alt="dc0a195a-51c1-4df7-870d-097c35f1189b" src="/Computer-Science-Learn-Notes/assets/images/dc0a195a-51c1-4df7-870d-097c35f1189b-8464b879d542179aab2ef0a9c74605e5.jpg" width="1057" height="615" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="缓存的属性">缓存的属性<a class="hash-link" href="#缓存的属性" title="标题的直接链接">​</a></h2><p>局部使用二级缓存的属性<strong>useCache</strong><img loading="lazy" alt="f5de420f-5c18-4cb4-b049-ea9c4083ad27" src="/Computer-Science-Learn-Notes/assets/images/f5de420f-5c18-4cb4-b049-ea9c4083ad27-9707cbd0b6d2a125dfd371d90067f9c1.png" width="572" height="99" class="img_ev3q"></p><p>增删改的<strong>flushCache</strong> 默认是true，会清空一级缓存和二级缓存</p><p>查询默认是false<img loading="lazy" alt="8d60fb00-9212-4f2c-89a8-8ac092b4ca56" src="/Computer-Science-Learn-Notes/assets/images/8d60fb00-9212-4f2c-89a8-8ac092b4ca56-123610f49d83d1504afcb55613d12b7f.png" width="672" height="94" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/zhiyu1998/Computer-Science-Learn-Notes/edit/master/docs/Java/fm/Mybatis.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/Computer-Science-Learn-Notes/docs/Java/fm/SpringMVC"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">SpringMVC</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Computer-Science-Learn-Notes/docs/Java/fm/SpringBoot"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">SpringBoot</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#环境搭建" class="table-of-contents__link toc-highlight">环境搭建</a><ul><li><a href="#mybatis配置文件" class="table-of-contents__link toc-highlight">Mybatis配置文件</a></li></ul></li><li><a href="#mybatis基础增删改查" class="table-of-contents__link toc-highlight">mybatis基础增删改查</a></li><li><a href="#使用外部properties引用数据库连接" class="table-of-contents__link toc-highlight">使用外部properties引用数据库连接</a></li><li><a href="#使用setttings修改行为" class="table-of-contents__link toc-highlight">使用setttings修改行为</a></li><li><a href="#typealiases类型别名和typehandlers类型处理器" class="table-of-contents__link toc-highlight">typeAliases（类型别名）和typeHandlers（类型处理器）</a><ul><li><a href="#类型处理器" class="table-of-contents__link toc-highlight">类型处理器</a></li></ul></li><li><a href="#了解plugins插件" class="table-of-contents__link toc-highlight">【了解】plugins（插件）</a></li><li><a href="#环境配置environments" class="table-of-contents__link toc-highlight">环境配置（environments）</a><ul><li><a href="#环境" class="table-of-contents__link toc-highlight">环境</a></li></ul></li><li><a href="#数据库厂商标识databaseidprovider" class="table-of-contents__link toc-highlight">数据库厂商标识（databaseIdProvider）</a></li><li><a href="#映射器mappers" class="table-of-contents__link toc-highlight">映射器（mappers）</a><ul><li><a href="#mappers" class="table-of-contents__link toc-highlight">mappers</a></li></ul></li><li><a href="#sql映射-获取自增id" class="table-of-contents__link toc-highlight">SQL映射 获取自增ID</a><ul><li><a href="#在sql映射文件内的-mapper-标签下可以写的主要标签有" class="table-of-contents__link toc-highlight">在SQL映射文件内的 mapper 标签下可以写的主要标签有</a></li><li><a href="#简述delete-update-insert-select-的属性" class="table-of-contents__link toc-highlight">简述：delete update insert select 的属性</a></li><li><a href="#获取主键自增属性" class="table-of-contents__link toc-highlight">获取主键自增属性</a></li><li><a href="#获取非主键自增属性" class="table-of-contents__link toc-highlight">获取非主键自增属性</a></li></ul></li><li><a href="#sql映射-传入多个参数" class="table-of-contents__link toc-highlight">SQL映射 传入多个参数</a><ul><li><a href="#传入map" class="table-of-contents__link toc-highlight">传入Map</a></li><li><a href="#取值属性" class="table-of-contents__link toc-highlight">#{}取值属性</a></li><li><a href="#两种取值方式-" class="table-of-contents__link toc-highlight">两种取值方式：${} #{}</a></li></ul></li><li><a href="#sql映射-查询集合" class="table-of-contents__link toc-highlight">SQL映射 查询集合</a><ul><li><a href="#封装成list" class="table-of-contents__link toc-highlight">封装成LIST</a></li><li><a href="#封装成map" class="table-of-contents__link toc-highlight">封装成MAP</a></li></ul></li><li><a href="#sql映射-自定义resulttype" class="table-of-contents__link toc-highlight">SQL映射 自定义resultType</a></li><li><a href="#sql映射-级联属性查询" class="table-of-contents__link toc-highlight">SQL映射 级联属性查询</a><ul><li><a href="#序言-一对一关联" class="table-of-contents__link toc-highlight">序言: 一对一关联</a></li></ul></li><li><a href="#sql映射-级联-一对多-多对多" class="table-of-contents__link toc-highlight">SQL映射 级联 一对多 多对多</a><ul><li><a href="#一对多" class="table-of-contents__link toc-highlight">一对多</a></li></ul></li><li><a href="#sql映射-分步查询" class="table-of-contents__link toc-highlight">SQL映射 分步查询</a><ul><li><a href="#association分步查询" class="table-of-contents__link toc-highlight">association分步查询</a></li><li><a href="#collection分布查询" class="table-of-contents__link toc-highlight">Collection分布查询</a></li></ul></li><li><a href="#sql映射-延迟加载-按需加载" class="table-of-contents__link toc-highlight">SQL映射 延迟加载 按需加载</a></li><li><a href="#动态sql-if" class="table-of-contents__link toc-highlight">动态SQL IF</a><ul><li><a href="#实战动态sql-if" class="table-of-contents__link toc-highlight">实战动态SQL IF</a></li></ul></li><li><a href="#动态sql-where-trim" class="table-of-contents__link toc-highlight">动态SQL WHERE TRIM</a><ul><li><a href="#where-元素" class="table-of-contents__link toc-highlight"><strong>where 元素</strong></a></li><li><a href="#trim-标签" class="table-of-contents__link toc-highlight">trim 标签</a></li></ul></li><li><a href="#动态sql-foreach" class="table-of-contents__link toc-highlight">动态SQL FOREACH</a></li><li><a href="#动态sql-choosewhenotherwise" class="table-of-contents__link toc-highlight">动态SQL CHOOSE、WHEN、OTHERWISE</a></li><li><a href="#动态sql-set" class="table-of-contents__link toc-highlight">动态SQL SET</a><ul><li><a href="#动态更新" class="table-of-contents__link toc-highlight">动态更新</a></li></ul></li><li><a href="#ognl表达式" class="table-of-contents__link toc-highlight">OGNL表达式</a><ul><li><a href="#伪属" class="table-of-contents__link toc-highlight">伪属</a></li></ul></li><li><a href="#动态sql-bind--include" class="table-of-contents__link toc-highlight">动态SQL BIND  INCLUDE</a><ul><li><a href="#bind" class="table-of-contents__link toc-highlight">bind</a></li><li><a href="#include" class="table-of-contents__link toc-highlight">include</a></li></ul></li><li><a href="#一级缓存" class="table-of-contents__link toc-highlight">一级缓存</a><ul><li><a href="#一级缓存的失效情况" class="table-of-contents__link toc-highlight">一级缓存的失效情况</a></li></ul></li><li><a href="#二级缓存" class="table-of-contents__link toc-highlight">二级缓存</a></li><li><a href="#缓存的查询顺序和原理" class="table-of-contents__link toc-highlight">缓存的查询顺序和原理</a><ul><li><a href="#缓存查询顺序" class="table-of-contents__link toc-highlight">缓存查询顺序</a></li><li><a href="#缓存原理图" class="table-of-contents__link toc-highlight">缓存原理图</a></li></ul></li><li><a href="#缓存的属性" class="table-of-contents__link toc-highlight">缓存的属性</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Computer-Science-Learn-Notes/docs/intro">主页</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="#" class="footer__link-item">莫得</a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/zhiyu1998" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Computer Science Learn Notes, Inc. Built with Zhiyu1998.</div></div></div></footer></div>
<script src="/Computer-Science-Learn-Notes/assets/js/runtime~main.dda37f8d.js"></script>
<script src="/Computer-Science-Learn-Notes/assets/js/main.6afc19a6.js"></script>
</body>
</html>