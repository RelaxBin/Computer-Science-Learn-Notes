<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Java/fm/SpringMVC">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">SpringMVC | Computer Science Learn Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zhiyu1998.github.io/Computer-Science-Learn-Notes/docs/Java/fm/SpringMVC"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SpringMVC | Computer Science Learn Notes"><meta data-rh="true" name="description" content="- SpringMVC ALL IN ONE"><meta data-rh="true" property="og:description" content="- SpringMVC ALL IN ONE"><link data-rh="true" rel="icon" href="/Computer-Science-Learn-Notes/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zhiyu1998.github.io/Computer-Science-Learn-Notes/docs/Java/fm/SpringMVC"><link data-rh="true" rel="alternate" href="https://zhiyu1998.github.io/Computer-Science-Learn-Notes/docs/Java/fm/SpringMVC" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://zhiyu1998.github.io/Computer-Science-Learn-Notes/docs/Java/fm/SpringMVC" hreflang="x-default"><link rel="stylesheet" href="/Computer-Science-Learn-Notes/assets/css/styles.afdb522f.css">
<link rel="preload" href="/Computer-Science-Learn-Notes/assets/js/runtime~main.bfd55fab.js" as="script">
<link rel="preload" href="/Computer-Science-Learn-Notes/assets/js/main.51771eef.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a href="#" class="skipToContent_fXgn">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Computer-Science-Learn-Notes/"><div class="navbar__logo"><img src="/Computer-Science-Learn-Notes/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/Computer-Science-Learn-Notes/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Computer Science Learn Notes</b></a><a class="navbar__item navbar__link" href="/Computer-Science-Learn-Notes/docs/intro">主页</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/zhiyu1998/Computer-Science-Learn-Notes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/Computer-Science-Learn-Notes/docs/golang/learnInProblem">目录</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Computer-Science-Learn-Notes/docs/golang/learnInProblem">Go语言</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Computer-Science-Learn-Notes/docs/frontend/react/">前端</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Computer-Science-Learn-Notes/docs/fundamental/datastruct">基础知识</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/basic/">Java基础</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/basic/">基础知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/concurrent/">并发编程</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/jvm/part1/简介">虚拟机</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/fm/Spring">Spring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/fm/SpringMVC">SpringMVC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/fm/Mybatis">Mybatis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/fm/SpringBoot">SpringBoot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/fm/SpringDataJpa">SpringDataJpa</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/fm/SpringSecurity">SpringSecurity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/fm/SpringCloud">SpringCloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/docker/main">Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/integration/main">SpringBoot整合其他框架</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/kotlin/">Kotlin with Spring</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Computer-Science-Learn-Notes/docs/Java/eightpart/giant">Java面试</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Computer-Science-Learn-Notes/docs/others/personal_tech">其他分享</a></div></li></ul></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/Computer-Science-Learn-Notes/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">目录</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Java基础</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">SpringMVC</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>SpringMVC ALL IN ONE</h1><ul><li><a href="#springmvc-all-in-one">SpringMVC ALL IN ONE</a><ul><li><a href="#springmvc%E7%9A%84%E9%85%8D%E7%BD%AE">SpringMVC的配置</a><ul><li><a href="#%E7%BB%86%E8%8A%82%E8%A1%A5%E5%85%85"><strong>细节补充：</strong></a></li></ul></li><li><a href="#requestmapping%E7%9A%84%E5%85%B6%E4%BB%96%E5%B1%9E%E6%80%A7">@RequestMapping的其他属性</a><ul><li><a href="#method">method</a></li><li><a href="#params">params</a></li><li><a href="#headers">headers</a></li><li><a href="#consume">consume</a></li><li><a href="#produces">produces</a></li></ul></li><li><a href="#ant%E9%A3%8E%E6%A0%BC%E7%9A%84url%E5%92%8Cpathvariable">ant风格的url和@PathVariable</a><ul><li><a href="#requestmapping%E7%9A%84ant%E9%A3%8E%E6%A0%BCurl">@RequestMapping的ant风格url</a></li><li><a href="#pathvariable">@PathVariable</a></li></ul></li><li><a href="#%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E4%BF%A1%E6%81%AF">获取请求信息</a><ul><li><a href="#requestmapping-%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0-pathxxx-xxx">@RequestMapping 获取参数 path?xxx= xxx</a></li><li><a href="#requestheader-%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%A4%B4">@RequestHeader 获取请求头</a></li><li><a href="#cookievalue-%E8%8E%B7%E5%8F%96cookie%E7%9A%84%E5%80%BC">@CookieValue 获取Cookie的值</a></li></ul></li><li><a href="#%E4%BD%BF%E7%94%A8-pojo-%E5%AF%B9%E8%B1%A1%E7%BB%91%E5%AE%9A%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E5%80%BC">使用 POJO 对象绑定请求参数值</a></li><li><a href="#%E4%BD%BF%E7%94%A8tomcat%E5%8E%9F%E7%94%9Fapi">使用tomcat原生API</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA-model%E5%92%8Cmodelmap">数据输出 Model和ModelMap</a><ul><li><a href="#%E4%BD%BF%E7%94%A8model">使用Model</a></li><li><a href="#%E4%BD%BF%E7%94%A8modelmap">使用ModelMap</a></li></ul></li><li><a href="#%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA-modelandview%E4%BD%BF%E7%94%A8">数据输出 ModelAndView使用</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA-sessionattributes">数据输出 @SessionAttributes</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA-modelattribute">数据输出 @ModelAttribute</a></li><li><a href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-dispatcherservlet">源码分析 DispatcherServlet</a><ul><li><a href="#%E6%A6%82%E8%A7%88">概览</a></li><li><a href="#%E6%95%B4%E4%BD%93">整体</a></li><li><a href="#dodispatch%E7%9A%84%E8%AF%A6%E7%BB%86%E7%BB%86%E8%8A%82">doDispatch的详细细节</a></li><li><a href="#gethandler%E7%9A%84%E8%AF%A6%E7%BB%86">getHandler的详细</a></li><li><a href="#gethandleradapter">getHandlerAdapter</a></li></ul></li><li><a href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-springmvc%E7%9A%84%E4%B9%9D%E5%A4%A7%E7%BB%84%E4%BB%B6">源码分析 SpringMVC的九大组件</a><ul><li><a href="#%E5%88%9D%E5%A7%8B%E5%8C%96">初始化</a></li></ul></li><li><a href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-modelattribute">源码分析 @ModelAttribute</a></li><li><a href="#%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90-%E8%BD%AC%E5%8F%91%E5%92%8C%E9%87%8D%E5%AE%9A%E5%90%91">视图解析 转发和重定向</a></li><li><a href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90">源码分析 视图解析</a></li><li><a href="#%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90-jstl-%E5%9B%BD%E9%99%85%E5%8C%96">视图解析 JSTL 国际化</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A-mvcannotation-driver">数据绑定 mvc:annotation-driver</a><ul><li><a href="#%E5%BA%8F%E8%A8%80jsp%E4%B8%A4%E7%A7%8D%E8%8E%B7%E5%8F%96%E9%A1%B9%E7%9B%AE%E8%B7%AF%E5%BE%84%E7%9A%84%E6%96%B9%E5%BC%8F">序言：JSP两种获取项目路径的方式</a></li><li><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E7%B1%BB%E5%9E%8B%E5%92%8C%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9A%84%E6%8B%A6%E6%88%AA">自定义数据绑定类型和静态资源的拦截</a></li><li><a href="#%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E5%8C%96">日期格式化</a></li></ul></li><li><a href="#%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C-%E6%A0%A1%E9%AA%8C%E6%B3%A8%E8%A7%A3%E5%8E%BB%E9%94%99%E8%AF%AF%E9%A1%B5%E9%9D%A2">数据校验 校验注解&amp;去错误页面</a><ul><li><a href="#%E6%8F%90%E7%A4%BAidea%E4%BD%BF%E7%94%A8-alt--shift--insert-%E8%BF%9B%E5%85%A5%E5%A4%9A%E8%A1%8C%E7%BC%96%E8%BE%91%E6%A8%A1%E5%BC%8F">提示：IDEA使用 alt + shift + insert 进入多行编辑模式</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C">数据校验</a></li><li><a href="#%E5%9B%BD%E9%99%85%E5%8C%96%E5%AE%9A%E5%88%B6%E9%94%99%E8%AF%AF%E6%B6%88%E6%81%AF">国际化定制错误消息</a></li></ul></li><li><a href="#springmvc%E5%AF%B9ajax%E7%9A%84%E6%94%AF%E6%8C%81">SpringMVC对AJAX的支持</a></li><li><a href="#%E8%AF%B7%E6%B1%82%E4%BD%93-responsebody">请求体 @ResponseBody</a></li><li><a href="#%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%A4%B4-httpentity">获取请求头 @HttpEntity</a></li><li><a href="#responseentity-%E8%BF%94%E5%9B%9E%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE">@ResponseEntity 返回响应式数据</a></li><li><a href="#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E5%8F%8A%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0">文件下载及文件上传</a><ul><li><a href="#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD">文件下载</a></li><li><a href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0">文件上传</a><ul><li><a href="#httpmessageconverter">HttpMessageConverter</a></li></ul></li><li><a href="#%E5%A4%9A%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0">多文件上传</a></li></ul></li><li><a href="#%E6%8B%A6%E6%88%AA%E5%99%A8%E5%8F%8A%E5%A4%9A%E6%8B%A6%E6%88%AA%E5%99%A8">拦截器及多拦截器</a><ul><li><a href="#%E5%A4%9A%E6%8B%A6%E6%88%AA%E5%99%A8">多拦截器</a></li><li><a href="#%E5%B0%8F%E7%BB%93">小结</a></li></ul></li><li><a href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E6%8B%A6%E6%88%AA%E5%99%A8">源码分析 拦截器</a><ul><li><a href="#%E5%85%B7%E4%BD%93%E8%B0%83%E8%AF%95">具体调试</a></li></ul></li><li><a href="#%E5%9B%BD%E9%99%85%E5%8C%96">国际化</a><ul><li><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BD%E9%99%85%E5%8C%96%E6%96%87%E4%BB%B6">自定义国际化文件</a></li><li><a href="#%E4%BD%BF%E7%94%A8sessionlocaleresolver%E8%BF%9B%E8%A1%8C%E5%9B%BD%E9%99%85%E5%8C%96">使用SessionLocaleResolver进行国际化</a></li><li><a href="#%E6%8B%A6%E6%88%AA%E5%99%A8%E9%85%8D%E5%90%88%E5%9B%BD%E9%99%85%E5%8C%96">拦截器配合国际化</a></li></ul></li><li><a href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86-exceptionhandler">异常处理 @ExceptionHandler</a><ul><li><a href="#%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8%E7%9A%84%E4%B8%80%E8%88%AC%E6%AD%A5%E9%AA%A4">处理异常的一般步骤</a></li></ul></li><li><a href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86-responsestatus">异常处理 @ResponseStatus</a><ul><li><a href="#responsestatus%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">@ResponseStatus的基本使用</a><ul><li><a href="#%E9%94%99%E8%AF%AF%E7%9A%84%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F">错误的请求方式</a></li></ul></li></ul></li><li><a href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86">源码分析 异常处理</a><ul><li><a href="#handlerexceptionresolver%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB">HandlerExceptionResolver的实现类</a></li></ul></li><li><a href="#%E5%B0%8F%E7%BB%93springmvc%E7%9A%84%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B">【小结】SpringMVC的运行流程</a><ul><li><a href="#1-%E6%89%80%E6%9C%89%E8%AF%B7%E6%B1%82%E5%89%8D%E7%AB%AF%E6%8E%A7%E5%88%B6%E5%99%A8dispatcherservlet%E8%B0%83%E7%94%A8dodispatch%E8%BF%9B%E8%A1%8C%E5%A4%84%E7%90%86">1. 所有请求，前端控制器（DispatcherServlet）调用doDispatch进行处理</a></li><li><a href="#2-%E6%A0%B9%E6%8D%AEhandlermapping%E7%9A%84%E8%AF%B7%E6%B1%82%E5%BA%94%E8%89%B2%E5%8F%B7%E4%BF%A1%E6%81%AF%E6%89%BE%E5%88%B0%E5%A4%84%E7%90%86%E5%BD%93%E5%89%8D%E7%9A%84%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86%E6%89%A7%E8%A1%8C%E9%93%BE">2. 根据HandlerMapping的请求应色号信息找到，处理当前的请求，处理执行链</a></li><li><a href="#3-%E6%A0%B9%E6%8D%AE%E5%BD%93%E5%89%8D%E5%A4%84%E7%90%86%E5%99%A8%E6%89%BE%E5%88%B0%E5%AE%83%E7%9A%84%E9%80%82%E9%85%8D%E5%99%A8">3. 根据当前处理器找到它的适配器</a></li><li><a href="#4-%E6%8B%A6%E6%88%AA%E5%99%A8%E7%9A%84prehandler%E5%85%88%E6%89%A7%E8%A1%8C">4. 拦截器的preHandler先执行</a></li><li><a href="#5-%E9%80%82%E9%85%8D%E5%99%A8%E6%89%A7%E8%A1%8C%E7%9B%AE%E6%A0%87%E6%96%B9%E6%B3%95%E8%BF%94%E5%9B%9Emodelandview">5. 适配器执行目标方法，返回ModelAndView</a></li><li><a href="#6-%E6%8B%A6%E6%88%AA%E5%99%A8%E7%9A%84posthandler%E6%89%A7%E8%A1%8C">6. 拦截器的postHandler执行</a></li><li><a href="#7-%E6%B8%B2%E6%9F%93%E9%A1%B5%E9%9D%A2%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%9C">7. 渲染页面，处理结果</a></li></ul></li><li><a href="#springmvc%E5%92%8Cspring%E7%9A%84%E6%95%B4%E5%90%88%E5%88%86%E5%B7%A5%E6%98%8E%E7%A1%AE">SpringMVC和Spring的整合（分工明确）</a><ul><li><a href="#%E5%90%88%E5%B9%B6">合并</a></li><li><a href="#%E5%88%86%E5%AE%B9%E5%99%A8">分容器</a></li></ul></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="springmvc的配置">SpringMVC的配置<a class="hash-link" href="#springmvc的配置" title="标题的直接链接">​</a></h2><p>新增的Maven包</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.springframework</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">spring-web</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${spring-version}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.springframework</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">spring-webmvc</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${spring-version}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>​    在web.xml配置DispatcherServlet：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--  SpringMVC思想是一个前端控制器拦截所有请求，并只能派发：这个前端控制器是一个Servlet</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      可以在web.xml配置拦截</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">springDispatcherServlet</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.springframework.web.servlet.DispatcherServlet</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--      contextConfigLocation指定SpringMVC的配置文件--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">contextConfigLocation</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">classpath:springmvc.xml</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    Servlet启动加载，servlet第一次访问创建对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        load-on-startup 服务器启动的时候创建对象，值越小，越先创建对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">load-on-startup</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">load-on-startup</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet-mapping</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servlet-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">springDispatcherServlet</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--      /* 和 /都是拦截所有请求</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">          /* 的范围更大,还会拦截.jsp请求</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">url-pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">/</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">url-pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servlet-mapping</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置IOC：注 -- 视图解析器是用来方便跳转页面用的</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">beans</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">xmlns</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://www.springframework.org/schema/beans</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">       </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xmlns:</span><span class="token tag attr-name" style="color:#00a4db">xsi</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://www.w3.org/2001/XMLSchema-instance</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">       </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xmlns:</span><span class="token tag attr-name" style="color:#00a4db">context</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://www.springframework.org/schema/context</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">       </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xsi:</span><span class="token tag attr-name" style="color:#00a4db">schemaLocation</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">context:</span><span class="token tag" style="color:#00009f">component-scan</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">base-package</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.controller</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    视图解析器--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">org.springframework.web.servlet.view.InternalResourceViewResolver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">prefix</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/WEB-INF/pages/</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">suffix</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">.jsp</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">beans</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>编写Controller</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyFirstController {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(&quot;/hello&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String index() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;success&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>不指定配置文件的用法：</p><p>如果<strong>不用 <code> &lt;init-param&gt; &lt;/init-param&gt;</code></strong> 指定配置文件，它会在WEB-INF下找到<strong><code>&lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;</code></strong>的springmvc-servlet：</p><p><img loading="lazy" alt="d02c1842-8ae0-48fa-969d-046b41e75649" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAREAAAB2CAYAAADvEqfYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA54SURBVHhe7Z19c9zUFYf7XZIADUynUNqCB78tmLzxktixnUDTSXh3nRRCeGtLbDM0QKDECdkpgenAtDN2YFIGBmboYPpB+LPf5FbnXh3p6O7RrrTSSlr598czu7pX90jW7Hlyr3Z18rMHpmcNAAAMS20Seff6pwnWL2+aJ04/o+47Siamls3a9o65vjqj9gMA+pNbIh9euWK++uqrVKhfG+fjS4Q5/cJZdf9RAYkAUIzcEnn82IK5deuWKhBqp35tnI8mkCxosYoAiQBQjKGWM2sbb6kSoXZtfw1fDhsfXDPr73/U0+6jxSoCJAJAMYaSyMOHDpubN79ICIS2qV3bX4OlcOnqDXP8d6fN5LkNM/XHdbMYvL907UZCHBI/zkp3x2ytL9v3E1NnzfWdWAgTq12zs71hFqZmor4ff/zREo9hiST7pVQmFjfMltI3aGyW2ACMO0PfWD1/4ZWERGhb2y8NlsKz514201f/bWa+/59levOWee7c+YQ4JH6chfVts9N191FIGlvb25EgWDBOINtmbdFPbpKLe7+z0zUrgWw4Dm/b/q4Tkdo3aGyfftoGYNwZWiLTnYfM559/bgVCr7St7ZcGS2EpmHnMfPNTLJGvf7JtUhwSP46bJbikXOmSKAJh2NkHJbATByUuzwIkTjAu0RMzD6WNZMXjfEmkjc0aG4BxZmiJEE8/+5yVCL1q/f1gKdCsg2YfkUSu5JuJuKRU5LEayIWXMvSvf/heH99HBOFSJlr+CGkNHDugn9sAGGcKSWRypmP+8uZF+6r194OlQPc/6D4I3Q+x90ROncl1T4SgWQItY3hZw9vxfQ93T0Im7ko3KQIey+Oj2YYnoETfoLED+rkNgHGmkESK4Mth44PrAcN9O8OzBZaE247vgch9eEkS7cszg0Aq/nJF9nPfVrBfz0xkwNi0fgDaQGMkkhUtVl1EkkhZmgzqB6AN1CaRNgCJAACJFAISAQASAQAUBBIBABQCEgEAFAISAQAUAhIBABQCEgEAFAISAQAUYuwl4v+ita5arQDsVmqTSNNqtVLtEfmgHGEflvOe/uW2+ckl+0MyfibGfy6G4iX6Up4iliQLLLkfqu14zwDZPvFQIO+X91gAlEVtEmlarVb/ad20JI4LHfX/NaoUAm/7kvLRJEIP7/lS0CSCX8WCuqh1OTOKWq1Z8eP4T/668gHdIInjBHUJ6/bJKxE7gxlGIqvuVcaCRECTqFUiZdZqzYsfx09Gm6hB0svkH1SQSKILoX+ip43pKXUAiYAGUfuN1bJqteZFiyWFQQkdJTAnbCgW6ufkTdyLEDMNGp/o85YkGv3EY8+NBaZIRB5LzloAGDW1S6SsWq150WLFwqDElMsW9z7P7ELuS9jEj2YxrtKalYtYQvWLz9skKsxEQJOoXSJEGbVa86LF4vsgK2L2Qe2U3O7ehLxnklMiXsV5jUGSipY14mYrJALqphESKaNWa160WIQVBpVA9GcRQZsrBD2kRMRMRO4nGSQRgpY1cnkEiYC6aYREiqAJIgtaLIKSnZI0MQMIlx/yngcnL9+H0JYmyb7+AiGySITbIRHQFCARAEAhxl4iAIB6gUQAAIWARAAAhYBEAACFgEQAAIWARAAAhYBEAACFgEQAAIWARAAAhYBEQvxftKJWKwDZGHuJXNncNI8dm1f78uBLhMlbqxWA3cbYS4RKCFBN1vWNt8zcwewV0Xw0gWRBiwXAbqIVEmGotOL5ly/kLmxEaILIghYLgN1EqyTCUIW0p599Xt0/DU0QWfDjxI/mx9XLiERpgbC4kNrnVz1bjwsQ+f2ErFnCtUbc2MGlBwAog1ZKhKFCR9oYDU0QWfDjRPU+RBInSyMG/V0hhUSfEwRLpbd2CPXr1dWcmCAOUD2YiYRogsiCH0cmdr82bdZghSJmHXasaOOCST40G4kKJw0owQhA2eCeSIgmiCz4cQZJhJcyUQUzMYPIIhG/34ePBZmAqmiFRJr07UyUxKKUYtp/99DTl2k5kxTUSjccG8hozRsn9wNgVIy9REb9O5FB+HGiBA6Sm5cbLAnZHy1FqCi07Bc3XdUbq6KfSAolbpcSA2CUjL1EykITRBb8OGXPArIsYQCoE0ikZIpIxI2Vsxa3fJFf4wLQNCCRkik6E/GXKxAIaDqQCACgEJAIAKAQkAgAoBBjLxGzfjsArUT7vDcRSASAhqJ93ptIaySi9QEwjkAiFTPKC35m5Zx9zfIjMwDKAhKpmFFdcBIIy8IXCLePGvebETxI5+N+hBf/KK8uRnUekEjFjOKCs0BYFlIesn3UQCI6kEizgEQ8pEBYFnJbtoN6yJq8ZT/H5AOJOCCRDEAizQISaRaQiIcmDA1tLKNWLYs+0PTB632U3++nJ3fnj9NyhsdTuysNwGPlczWuXy8hEI1djZ/LoePSE8IyFp+DjGvrnXj1TOQY3s9HuwbUnhbD//t/2LpsLqecy/zkarBP/5h+m/8ktKzjQttURoHKJ2S9VvFx4xhlAYlUTNMk4u5j9H6wOEkSCUWP+Yfbar+IxUnBdULk/RLu84XkJ3+0HSZEMlZ4HFF6IE7sOEY/cTDp14BiuHN22zJ+yvVJPRd5XfrH5OviQ+KwwkkcJ8e1Eufhxy4CJFIxTbvg0YdQfLBde+8HetAHvvcD6ydLKBGRBNHYnsSQY9O3E+9T5MLHiMe6f7H5b+a2nmsQJqSPmzlo1yflXGx7fF55Ykq085THHLQtz4NjlgEkUjFlXfD/PnFnLj6ev9scODJjHv59R43HH+A4sbQkidvU/hokQtv8LzRN+XnmkSaRfvRcgz4xtL+fUM9FJO8wMeN+igOJFAUSCZGC+G75TvPq9G2Jts8WfmleP/Jb89SBCXOwM23mTnbM8csdc/TPSYlQ4mu1TqOEEmUL5bpc+8Bnlojti8dGxxpSIva4211zPYwf7yOPcdashUntk34NkjGIqEas8vfb8annIq9LtpjuesZxpKCGuVbyPKivLCCRiilbIp88eoc5c98+0z3yc7u9c/Iu89zBCfPwqY557LWOmX+rYxb/1jHLH3XM0lUnEj8WfTh5Wh2tpfkDPaD2qkyGrBKJ9xXLCu3GaobEiGMnhWfbE8fonzzaNSBkDCJKcOXvl+2JGF7ypsUkSBD2HIJr4W5Uu7+Tzi++PvEx8lwr/zzKAhKpmLIlsnjPHvPl/P5o+4Oj95ojZ500fI4FQlm6oi9nfNKSZFQMs/wAzQASqZiyJUIzkdPBTOT64Tvs9h8O3R/NPJilax1z5MVZs/hhMBN5r36JuNhyVkP/Qmb7JgU0D0ikYsqWCCHvibxy+D4z/3Yoj82OefyNjjlwZtbKg9oOrzZjJuJP6SGQ8QUSqZhRSETy9fIvzMLjk2buxKyZe7JjHn01kEcwE1l4JxDICx0zOaPHA2BYIJGKGbcLDsAgIJGKgURA24BEKgYSAW0DEqkYSAS0DUikYviCA9A2tM97E4FEAGgo2ue9iYy9REZFXTVWK/9l64h+ug12D5CIQp01ViERMG5AIh5111iFRMC4AYlkABIBIB1IxEMThoY2luAaFfSeH4RjIfQWCup91iWWSLJfk4qsR0Lb9vF2+Th7jXVCwe4BEvHQhKGhjSVsYoe1Lyhpt7bjilwsmCjJvfodNtHD9z21RlMSPYqpCCraDuURnZd9WM/Fg0RAUSCRkpEJutIlUQRJapOZ5BAWsxEzAokTTO9ypt8SJxJGxkI6/jYkAooCiYRoT/Ay/zlxlzk594BZPvWUeefaJ+bv/7oVvN6w29Qu47iEpwQNklPKg5YWYmaQVjAIEgHjBiQSIqXx7fJ+I2usvvnob6wwPr35jYUF8srFt+2rH4uWNLSM4eUDbyfvQySl4NcF5bE8npczbqYTC4GXM3YflhQkAioEEglhYXzyiKtsduOIq2xGPPbglBUHCeTS5sfmoUOP2DFTsw+ai+9t9sTiAkEsCT/x5T68lIn25VlHWi1WEcveSI3EEcsHEgFVAomEsDCO37PHfHEsrrFKzMzMmovvfmhnHi+9sWZWL/zJLJx40o6jdj8WALsJSCSEhZE2E1kLZhzTnblAGlfsjOS19b+aqc5DZv1y70wEgN0EJBLCwiDS7om8unbJHF08Ybr//NKK5Oo/ttR7IgDsJiCRECkRH/ntzNrlq+ajz27ab2lo2/92BoDdBiQCACgEJAIAKAQkAgAoBCQCACgEJAIAKEQrJUKFheg1z9O3AIDhaJ1Ehq2Nqv00PSv9HqjLS5HzAKAOWiWRIrVRIREAhqM1EqmzNmqZEgFg3Gj1jVVIBIDR0xqJaMLQ0MYSbhnBNT3CR+XXe2uS2n1tf/wYv31cX0jE7+exsi4IbXNNVI5rx4rz4DHRMaLz4yJFyeNoRYsAGDWQSEivROIEl/cpuC9ZUEjW9aD++J6GX5VMq4nKcez+8jw8oUT7cO0Q0WfjKfsCMGpavZzJQ69EfBGEElGSX7bRe54ZSPyqZrKcoUSVmbevL6a0NgCqYOwloj11mxUZp0yJaDOMaN8cEonaoplHeA6QCGgQrZLI0bv32Ne35243S/fsibbplXji3r3m6qG42JCMk1kioQQ4WaMEZ4l4/QTXT3XvlZqo9thhfHkewfs17zgUNzpmSh1WbgOgClopERLIl/NxiUNuv3V8vznxq71Ru4yTVSJ2WyxZ7OxgPTn7cLF6b3im1kRNkQiPiY7F92hYKCl1WAGoklZK5P0Dt5tTv95rzk/uM98tu/Z3g9nJ69P7zPP374v21+LVjS8RDTkr0foBqJJWSIQKK3+z6IossyB+OLnfvPjAbVYoLBF6/+1SPEPR4tWNXOZo/QQkAprE2Evk+xN3mpWJfWYxEAjdCyE5vBTMQOaD7Wfu22uXNTxD8dHi1QUvkbIsSyAR0CRatZzJixYPAJCPsZcIAKBeIBEAQCEgEQBAAWbN/wFWvz06/QGwQQAAAABJRU5ErkJggg==" width="273" height="118" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="细节补充"><strong>细节补充：</strong><a class="hash-link" href="#细节补充" title="标题的直接链接">​</a></h3><p>如果前端的请求不同：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">hello</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">进入Hello页面</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>地址是：http://localhost:8080/SpringMVC_01_war_exploded/hello</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/hello</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">进入Hello页面</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>地址是：http://localhost:8080/hello</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="requestmapping的其他属性">@RequestMapping的其他属性<a class="hash-link" href="#requestmapping的其他属性" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="method">method<a class="hash-link" href="#method" title="标题的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//    默认是全接收</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ResponseBody</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String index() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;index&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="params">params<a class="hash-link" href="#params" title="标题的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//    发送请求携带的username必须是123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    请求规则必须满足以上规则,必须有pwd,不能有age</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ResponseBody</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(value = &quot;/index&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            method = RequestMethod.GET,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            params = {&quot;username==123&quot;, &quot;pwd&quot;, &quot;!age&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String index() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;index&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="headers">headers<a class="hash-link" href="#headers" title="标题的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//    规定请求头</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ResponseBody</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(value = &quot;/index&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            method = RequestMethod.GET,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            params = {&quot;username==123&quot;, &quot;pwd&quot;, &quot;!age&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            headers = {&quot;&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String index() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;index&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="consume">consume<a class="hash-link" href="#consume" title="标题的直接链接">​</a></h3><p>规定请求头中的content-type</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="produces">produces<a class="hash-link" href="#produces" title="标题的直接链接">​</a></h3><p>给响应头加上content-type：text/html;charset=utf-8</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ant风格的url和pathvariable">ant风格的url和@PathVariable<a class="hash-link" href="#ant风格的url和pathvariable" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="requestmapping的ant风格url">@RequestMapping的ant风格url<a class="hash-link" href="#requestmapping的ant风格url" title="标题的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//    URL地址可以写模糊匹配</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    ?: 能代替任意一个字符</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    *: 能代替任意多个字符,和一层路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    **: 能代替多层路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ResponseBody</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(&quot;/antTest0?&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public  String antTest01() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;模糊匹配antTest&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } // 匹配 http://localhost:8080/SpringMVC_01_war_exploded/antTest03</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ResponseBody</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(&quot;/antTest0*&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public  String antTest02() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;*的测试&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;模糊匹配antTest&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } // http://localhost:8080/SpringMVC_01_war_exploded/antTest0321312</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ResponseBody</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(&quot;/a*/antTest0*&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public  String antTest03() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;*的路径测试&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;模糊匹配antTest&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } // http://localhost:8080/SpringMVC_01_war_exploded/adas/antTest0321312</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ResponseBody</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(&quot;/a/**/antTest0*&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public  String antTest04() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;**的测试&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;模糊匹配antTest&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } //http://localhost:8080/SpringMVC_01_war_exploded/a/das/antTest0321312</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pathvariable">@PathVariable<a class="hash-link" href="#pathvariable" title="标题的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 占位符只能占一层路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ResponseBody</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(value = &quot;/login/{username}&quot;, method = RequestMethod.GET)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String login(@PathVariable(&quot;username&quot;) String username) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(username); // zhiyu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;login successful!&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} //http://localhost:8080/SpringMVC_01_war_exploded/login/zhiyu</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>REST的解释：</p><ul><li>Re（Resource）资源</li><li>Re（Representation） 表现层</li><li>ST（State Transfer）状态转化</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="获取请求信息">获取请求信息<a class="hash-link" href="#获取请求信息" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="requestmapping-获取参数-pathxxx-xxx">@RequestMapping 获取参数 path?xxx= xxx<a class="hash-link" href="#requestmapping-获取参数-pathxxx-xxx" title="标题的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// @RequestParam参数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // required 这个参数是否必须</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // defaultValue 默认值:没带参数是null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ResponseBody</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(value = &quot;/login&quot;, method = RequestMethod.GET)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String login(@RequestParam(value = &quot;username&quot;, required = false, defaultValue = &quot;JOJO&quot;) String username) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(username);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;login successful!&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// http://localhost:8080/SpringMVC_01_war_exploded/login?username=zhiyu -- zhiyu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// http://localhost:8080/SpringMVC_01_war_exploded/login -- JOJO</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="requestheader-获取请求头">@RequestHeader 获取请求头<a class="hash-link" href="#requestheader-获取请求头" title="标题的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//    相当于@RequestHeader(&quot;User-Agent&quot;) == userAgent = request.getHeader(&quot;User-Agent&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    如果请求头没有这个参数会报错, 参数一样:value required defaultValue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ResponseBody</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(&quot;/head&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getHeaderFunc(@RequestHeader(&quot;User-Agent&quot;) String userAgent) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;请求头中的信息&quot; + userAgent);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;header!!&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cookievalue-获取cookie的值">@CookieValue 获取Cookie的值<a class="hash-link" href="#cookievalue-获取cookie的值" title="标题的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    // 以前获取cookie : Cookie[] cookies = request.getCookies();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ResponseBody</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(&quot;/cookie&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getCookies(@CookieValue(&quot;JSESSIONID&quot;) String jid) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(jid);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;cookie!!&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用-pojo-对象绑定请求参数值">使用 POJO 对象绑定请求参数值<a class="hash-link" href="#使用-pojo-对象绑定请求参数值" title="标题的直接链接">​</a></h2><p>前端：</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">form</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">method</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">post</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">action</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">hello</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">label</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">书名</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">label</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">bookName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">label</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">作者</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">label</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">author</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">label</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">价格</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">label</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">price</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">submit</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">提交</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">form</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>实体类：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Book {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String bookName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String author;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer price;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>控制层：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.POST)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String hello(Book book) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(book);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;success&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>解决中文乱码的方案：</p><p>在web.xml配置：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">characterEncodingFilter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.springframework.web.filter.CharacterEncodingFilter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-class</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">encoding</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">utf-8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--      解决响应乱码:response.setCharacter()--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">foreceEncoding</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">true</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param-value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">init-param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-mapping</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">characterEncodingFilter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">url-pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">/*</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">url-pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">filter-mapping</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>注意：</strong>这个字符过滤器的配置必须在之前：</p><p><img loading="lazy" alt="60a719d2-b67c-473a-9250-cdd72fe9ed7f" src="/Computer-Science-Learn-Notes/assets/images/60a719d2-b67c-473a-9250-cdd72fe9ed7f-1f31d47ddb495b2d909cc4cfdfe38d4e.png" width="790" height="579" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用tomcat原生api">使用tomcat原生API<a class="hash-link" href="#使用tomcat原生api" title="标题的直接链接">​</a></h2><p>在Maven中加入依赖：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">javax.servlet</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">servlet-api</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.5</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>控制层：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    // 原生API</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(&quot;/origin&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String originalAPI(HttpSession session,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              HttpServletRequest req,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              HttpServletResponse res) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        req.setAttribute(&quot;req&quot;, &quot;请求测试&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        session.setAttribute(&quot;session&quot;, &quot;session测试&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;origin&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>JSP通过EL表达式可以取到数据：</p><p>注意：isELIgnored=&quot;false&quot;</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; isELIgnored=&quot;false&quot; %&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Origin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ${ requestScope.req }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ${ sessionScope.session }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据输出-model和modelmap">数据输出 Model和ModelMap<a class="hash-link" href="#数据输出-model和modelmap" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用model">使用Model<a class="hash-link" href="#使用model" title="标题的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(&quot;/handler01&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String handler01(Model model) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(&quot;handler01&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    model.addAttribute(&quot;msg&quot;, &quot;你好&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;modelTest&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用modelmap">使用ModelMap<a class="hash-link" href="#使用modelmap" title="标题的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(&quot;/handler01&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String handler01(ModelMap model) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(&quot;handler01&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    model.addAttribute(&quot;msg&quot;, &quot;你好&quot;);  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;modelTest&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Map、Model、ModelMap最终都是绑定在类<strong>BindingAwareModelMap</strong>工作</p><p>BindingAwareModelMap保存的数据都会放在<strong>请求域</strong>中</p><p><img loading="lazy" alt="dcaf2c6b-62e3-4ad3-aea9-023b5fa4e2f9" src="data:image/png;base64,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" width="272" height="282" class="img_ev3q"></p><p><img loading="lazy" alt="c7d7120d-838d-407a-bbdd-b8bd10f973e1" src="/Computer-Science-Learn-Notes/assets/images/c7d7120d-838d-407a-bbdd-b8bd10f973e1-a733592e3c57795bfc64f90182fd7438.png" width="614" height="774" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据输出-modelandview使用">数据输出 ModelAndView使用<a class="hash-link" href="#数据输出-modelandview使用" title="标题的直接链接">​</a></h2><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 既包含视图信息（页面地址）也包括模型数据（给页面的数据）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 而且数据放在请求域中</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(&quot;/handler03&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ModelAndView hadnler03() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//        ModelAndView的构造器参数是视图名，视图解析器会帮助拼串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ModelAndView mv = new ModelAndView(&quot;modelTest&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 或者 mv.setViewName(&quot;modelTest&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mv.addObject(&quot;msg&quot;, &quot;你好会啊&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return mv;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据输出-sessionattributes">数据输出 @SessionAttributes<a class="hash-link" href="#数据输出-sessionattributes" title="标题的直接链接">​</a></h2><p>@SessionAttributes 有三个属性：</p><p>names：声明需要存储到session中数据的名称</p><p>types：声明存储到session中参数类型，将模型中对应类型的参数存储到session中</p><p>value：其实和names是一样的。names 和 value 同时使用会报错</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 使用注解：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 只能放在类上</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 给BindingAwareModelMap中保存数据，同时给session中放一份</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@SessionAttributes(names = {&quot;msg&quot;})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class IndexController {</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>注意：</strong>@SessionAttributes的参数 -- names必须包含要传入session的key，如果没有sesssion域中就没有这个数据</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据输出-modelattribute">数据输出 @ModelAttribute<a class="hash-link" href="#数据输出-modelattribute" title="标题的直接链接">​</a></h2><p>被@ModelAttribute注释的方法会在此controller每个方法执行前被执行，因此对于一个controller映射多个URL的用法来说，要谨慎使用</p><p>应用场景：</p><ul><li>方法上</li><li>方法的参数上</li></ul><p>Controller</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ModelAttributeTestController {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ModelAttribute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void modelTest(@RequestParam String a, Model model) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model.addAttribute(&quot;a&quot;, a);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(a);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(&quot;/He&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String  test() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;modelTest&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>JSP：</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${requestScope.a}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>结果：</p><p><img loading="lazy" alt="bedf1aaf-1c86-4752-89e6-f34aa9e676a7" src="/Computer-Science-Learn-Notes/assets/images/bedf1aaf-1c86-4752-89e6-f34aa9e676a7-10166bdcf332d1072f8496c83662695c.png" width="824" height="404" class="img_ev3q"></p><p>示例及大致流程：</p><p><img loading="lazy" alt="58e5812e-ea1a-4f60-ac50-c32ded039116" src="/Computer-Science-Learn-Notes/assets/images/58e5812e-ea1a-4f60-ac50-c32ded039116-202c14ebccc7e3a2abe13ecb5f83e930.jpg" width="745" height="243" class="img_ev3q"></p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Hello2ModelController {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ModelAttribute(&quot;book&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public User populateModel() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Book book=new Book();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       book.setName(&quot;西游记&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       return book;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(value = &quot;/index&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String index(@ModelAttribute(&quot;book&quot;) Book book) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       System.out.println(book);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       return &quot;index&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="源码分析-dispatcherservlet">源码分析 DispatcherServlet<a class="hash-link" href="#源码分析-dispatcherservlet" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="概览">概览<a class="hash-link" href="#概览" title="标题的直接链接">​</a></h3><hr><ol><li><p>所有请求过来DispatcherServlet收到请求</p></li><li><p>调用doDispatch方法进行处理</p></li><li><ol><li><p>getHandler() 根据当前请求地址找到能处理这个请求的目标处理器</p></li><li><ol><li>根据当前请求在HandlerMapping中找到这个请求的映射信息，获取到目标处理器类</li></ol></li><li><p>getHandlerAdapter() 根据当前处理器能获取到能执行这个处理器方法的适配器</p></li><li><ol><li>根据处理器类，找到当前类的HandlerAdapter 适配器</li></ol></li><li><p>使用获取到的（RequestMappingHandlerAdapter）执行目标方法</p></li><li><p>目标方法执行会返回ModelAndView对象</p></li><li><p>根据ModelAndView的信息转发到具体页面，并可以在请求域中获取</p></li></ol></li><li><p>getHandlerAdapter</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="整体">整体<a class="hash-link" href="#整体" title="标题的直接链接">​</a></h3><hr><p>整个DispatcherServlet的继承关系</p><p><img loading="lazy" alt="c5dcc2fc-399c-498d-a90a-3b2410e77ad0" src="/Computer-Science-Learn-Notes/assets/images/c5dcc2fc-399c-498d-a90a-3b2410e77ad0-0faf9bb212504f0795387899ba8ca728.png" width="1078" height="604" class="img_ev3q"></p><p>FrameworkServlet有两个核心方法：</p><p><img loading="lazy" alt="d8cbf0f3-1499-4346-9bc4-785715c6c9bf" src="/Computer-Science-Learn-Notes/assets/images/d8cbf0f3-1499-4346-9bc4-785715c6c9bf-40419bfd1942a364705ace201f577b7b.png" width="712" height="511" class="img_ev3q"></p><p>核心使用了同一个函数：<strong>processRequest(request, response);</strong></p><p>在processRequest方法中有一个核心函数：<strong>doService(request, response);</strong></p><p>它是一个抽象函数：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">protected abstract void doService(HttpServletRequest request, HttpServletResponse response)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="2cc5c063-a656-43b5-9010-c6169a701315" src="data:image/png;base64,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" width="485" height="191" class="img_ev3q"></p><p>然后可以根据继承关系找到DispatcherServlet的doService：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">protected void doService(HttpServletRequest request, HttpServletResponse response) throws Exception </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这个方法有一个核心函数：<strong>doDispatch</strong>，这个函数也在这个类中：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>整理路线：</p><p><img loading="lazy" alt="62719fbd-be8a-4cd9-b2e0-214e5ea6713a" src="/Computer-Science-Learn-Notes/assets/images/62719fbd-be8a-4cd9-b2e0-214e5ea6713a-c361c1e17e3bf6fe38618503a0b01c79.jpg" width="1106" height="582" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dodispatch的详细细节">doDispatch的详细细节<a class="hash-link" href="#dodispatch的详细细节" title="标题的直接链接">​</a></h3><p>DispathcerServlet类中的doDispatch函数：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Process the actual dispatching to the handler.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * &lt;p&gt;The handler will be obtained by applying the servlet&#x27;s HandlerMappings in order.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * The HandlerAdapter will be obtained by querying the servlet&#x27;s installed HandlerAdapters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * to find the first that supports the handler class.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * &lt;p&gt;All HTTP methods are handled by this method. It&#x27;s up to HandlerAdapters or handlers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * themselves to decide which methods are acceptable.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @param request current HTTP request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @param response current HTTP response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @throws Exception in case of any kind of processing failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception {</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>两个核心函数：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Actually invoke the handler. 处理器的方法被调用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 真正去执行方法的处理器 ha在下下面的笔记</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mv = ha.handle(processedRequest, response, mappedHandler.getHandler());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 转发到目标页面</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>检查是否是文件上传请求：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">processedRequest = checkMultipart(request);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Determine handler for the current request.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 根据当前请求决定（哪个类来处理）处理器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mappedHandler = getHandler(processedRequest);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果没有找到处理器能处理这个请求就404抛异常：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (mappedHandler == null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    noHandlerFound(processedRequest, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Determine handler adapter for the current request.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 拿到能执行这个类方法的适配器（反射工具），如注解适配器：AnnotationMethodHandlerAdapter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HandlerAdapter ha = getHandlerAdapter(mappedHandler.getHandler());</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>适配器来执行目标方法，执行完后返回的返回值作为视图名，保存在<strong>ModelAndView</strong></p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mv = ha.handle(processedRequest, response, mappedHandler.getHandler());</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果这个modelandview没有名字就使用默认的名字（请求的地址名）：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">applyDefaultViewName(processedRequest, mv);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>根据方法执行完成后封装的ModelAndView转发到对应页面，而且ModelAndView数据可以从请求域获取</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">processedRequest 包装后的请求</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response 响应</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mappedHandler 目标处理器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mv modelandview，要转到的地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gethandler的详细">getHandler的详细<a class="hash-link" href="#gethandler的详细" title="标题的直接链接">​</a></h3><p>原函数：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Nullable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">protected HandlerExecutionChain getHandler(HttpServletRequest request) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (this.handlerMappings != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (HandlerMapping mapping : this.handlerMappings) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            HandlerExecutionChain handler = mapping.getHandler(request);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (handler != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return handler;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>handlerMappings</strong>：处理器映射器，保存了每个处理器能处理的映射（比如创建了一个类HelloController）</p><p><strong>handlerMap</strong>：IOC容器启动Controller对象的时候扫描每个处理器能处理什么请求，保存在handlerMappings的handlerMap属性（<strong>spring5封装到了mappingRegistry -- mappingLookup</strong>）</p><p><img loading="lazy" alt="f336e49d-82de-40ff-b436-9c99be23911e" src="/Computer-Science-Learn-Notes/assets/images/f336e49d-82de-40ff-b436-9c99be23911e-d68a9d7831d6257dc10fafee06e0304f.png" width="1124" height="651" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gethandleradapter">getHandlerAdapter<a class="hash-link" href="#gethandleradapter" title="标题的直接链接">​</a></h3><hr><p>这是通过调用IndexController里的“/success”得到的：</p><p><img loading="lazy" alt="2d3fe640-021a-433f-bfae-e87d80be5282" src="/Computer-Science-Learn-Notes/assets/images/2d3fe640-021a-433f-bfae-e87d80be5282-dd6ba2116084233761ef87e1b88434dc.png" width="1115" height="207" class="img_ev3q"></p><p>可知返回的resultHandler就是这个</p><p>为了找到目标处理器的适配器，要去拿适配器才能执行方法：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">protected HandlerAdapter getHandlerAdapter(Object handler) throws ServletException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (this.handlerAdapters != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (HandlerAdapter adapter : this.handlerAdapters) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (adapter.supports(handler)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return adapter;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throw new ServletException(&quot;No adapter for handler [&quot; + handler +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               &quot;]: The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>调试时只有RequestMappingHandlerAdapter：</p><p><img loading="lazy" alt="3139a90f-126a-4f1f-8f9e-be791104d915" src="/Computer-Science-Learn-Notes/assets/images/3139a90f-126a-4f1f-8f9e-be791104d915-efe2b9e132cae0710db158c3758c78fb.png" width="941" height="528" class="img_ev3q"></p><p>判断该适配器是否有方法：</p><p><img loading="lazy" alt="e161f130-f694-493d-b88c-d5edd5c60d74" src="/Computer-Science-Learn-Notes/assets/images/e161f130-f694-493d-b88c-d5edd5c60d74-6a1d020df4182f9cbdcacbde287d5ecc.png" width="808" height="94" class="img_ev3q"></p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Process last-modified header, if supported by the handler.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String method = request.getMethod();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>最终这个method 只要处理器有标了注解@RequestMapping的方法就能使用</p><p>HandlerMapping的实现类：</p><p><img loading="lazy" alt="5c5d0e95-e1e9-4aec-951e-8ee90a9b9ab1" src="/Computer-Science-Learn-Notes/assets/images/5c5d0e95-e1e9-4aec-951e-8ee90a9b9ab1-2f9099e798ee10c907f7f69d54372503.png" width="538" height="267" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="源码分析-springmvc的九大组件">源码分析 SpringMVC的九大组件<a class="hash-link" href="#源码分析-springmvc的九大组件" title="标题的直接链接">​</a></h2><p>以下组件都来自类：<strong>DispatcherServlet</strong></p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    /** 文件上传解析器 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Nullable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private MultipartResolver multipartResolver;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /** 国际化解析器 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Nullable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private LocaleResolver localeResolver;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /** 主题解析器 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Nullable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private ThemeResolver themeResolver;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /** Handler映射信息 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Nullable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;HandlerMapping&gt; handlerMappings;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**Handler适配器 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Nullable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;HandlerAdapter&gt; handlerAdapters;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /** 异常解析起 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Nullable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;HandlerExceptionResolver&gt; handlerExceptionResolvers;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /** 视图名转换 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Nullable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private RequestToViewNameTranslator viewNameTranslator;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /** SpringMVC允许重定向携带数据 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Nullable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private FlashMapManager flashMapManager;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /** 视图解析器 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Nullable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;ViewResolver&gt; viewResolvers;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>将组件设计成接口的好处：接口就是规范，提供扩展性</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="初始化">初始化<a class="hash-link" href="#初始化" title="标题的直接链接">​</a></h3><p>初始化函数：去容器找这个组件，如果没有找到就用默认配置</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">protected void onRefresh(ApplicationContext context) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    initStrategies(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">protected void initStrategies(ApplicationContext context) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initMultipartResolver(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initLocaleResolver(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initThemeResolver(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initHandlerMappings(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initHandlerAdapters(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initHandlerExceptionResolvers(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initRequestToViewNameTranslator(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initViewResolvers(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initFlashMapManager(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="4d99f2f0-fa40-407e-a576-b964fbd6f2ec" src="/Computer-Science-Learn-Notes/assets/images/4d99f2f0-fa40-407e-a576-b964fbd6f2ec-ccabdd5123e2f43de3d50b4c09c024ae.png" width="372" height="360" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="源码分析-modelattribute">源码分析 @ModelAttribute<a class="hash-link" href="#源码分析-modelattribute" title="标题的直接链接">​</a></h2><ol><li><p>有注解：保存注解信息了，最终得到这个注解应该对应的值</p></li><li><p>没注解：</p></li><li><ol><li><p>看是否是原生API</p></li><li><p>看是否Model或者Map、XXX</p></li><li><p>都不是，看是否是简单类型，paramName</p></li><li><p>给attrName赋值（参数标了@ModelAttribute(&quot;&quot;)就是指定的，没标就是&quot;&quot;）</p></li><li><ol><li><p>确定自定义参数</p></li><li><ol><li>attrName使用参数类型的首字母小写，或者之前@ModelAttribute(&quot;&quot;)的值</li><li>先看隐含模型中每个attrName作为key对应的值，如果有就从隐含模型中获取并赋值</li><li>看是否是@SessionAttributes(value=&quot;haha&quot;)；标注的属性，如果是从session，如果不是就抛出异常</li><li>如果不是@SessionAttributes标注的属性，就利用反射创建一个对象</li></ol></li></ol></li><li><p>拿到之前创建好的对象，使用数据绑定器（WebDataBinder）将请求中每一个数据绑定到这个对象中</p></li></ol></li><li></li><li></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="视图解析-转发和重定向">视图解析 转发和重定向<a class="hash-link" href="#视图解析-转发和重定向" title="标题的直接链接">​</a></h2><p><strong>forward</strong>：前缀的转发，不会有配置的视图解析器拼串</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(&quot;/success&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String success() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;forward:/success.jsp&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>重定向redirect</strong>：使用redirect<strong>不会携带数据</strong></p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(&quot;/success&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String success() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;forward:/success.jsp&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="源码分析-视图解析">源码分析 视图解析<a class="hash-link" href="#源码分析-视图解析" title="标题的直接链接">​</a></h2><p><strong>【源码调试提示】</strong>IDEA中可以使用<strong>Ctrl+Alt+方向键左/右</strong>控制上一次/下一次代码<strong>跳转的位置</strong></p><p>调试doDispatcher的</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mv = ha.handle(processedRequest, response, mappedHandler.getHandler());</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>会进入到：RequestMappingHandlerAdapter类中的<strong>handleInternal</strong></p><p>然后封装成：ModelAndView</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ModelAndView mav;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mav = invokeHandlerMethod(request, response, handlerMethod);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>​    任何方法的返回值，最终都会被包装成ModelAndView对象</p><p>视图渲染函数：（页面就是渲染数据模型）</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在processDispatchResult中调用render(mv, request, response);渲染函数</p><p>在render中：view</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">View view;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String viewName = mv.getViewName();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (viewName != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // We need to resolve the view name.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            view = resolveViewName(viewName, mv.getModelInternal(), locale, request);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>resolveViewName实现的是ViewResolver的接口：得到View对象</p><p><img loading="lazy" alt="470324c1-604a-451e-90d8-a3a85e3cb924" src="/Computer-Science-Learn-Notes/assets/images/470324c1-604a-451e-90d8-a3a85e3cb924-ae33103adf27e0e537c440bdf83f737e.png" width="674" height="454" class="img_ev3q"></p><p>视图解析名字：ViewResolver属于SpringMVC九大组件</p><p>ViewResolver根据方法的返回值，得到一个view对象</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">for (ViewResolver viewResolver : this.viewResolvers) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    View view = viewResolver.resolveViewName(viewName, locale);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (view != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return view;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>通过调试在resolveViewName里：</p><p>如果没有缓冲区，就创建一个view</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (!isCache()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return createView(viewName, locale);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>源码：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">protected View createView(String viewName, Locale locale) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // If this resolver is not supposed to handle the given view,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // return null to pass on to the next resolver in the chain.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!canHandle(viewName, locale)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Check for special &quot;redirect:&quot; prefix.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (viewName.startsWith(REDIRECT_URL_PREFIX)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String redirectUrl = viewName.substring(REDIRECT_URL_PREFIX.length());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RedirectView view = new RedirectView(redirectUrl,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                             isRedirectContextRelative(), isRedirectHttp10Compatible());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String[] hosts = getRedirectHosts();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (hosts != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            view.setHosts(hosts);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return applyLifecycleMethods(REDIRECT_URL_PREFIX, view);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Check for special &quot;forward:&quot; prefix.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (viewName.startsWith(FORWARD_URL_PREFIX)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String forwardUrl = viewName.substring(FORWARD_URL_PREFIX.length());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        InternalResourceView view = new InternalResourceView(forwardUrl);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return applyLifecycleMethods(FORWARD_URL_PREFIX, view);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Else fall back to superclass implementation: calling loadView.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return super.createView(viewName, locale);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>分析：</strong></p><p>如果是以redirect为前缀，下面的forward同理</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Check for special &quot;redirect:&quot; prefix.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (viewName.startsWith(REDIRECT_URL_PREFIX)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RedirectView view = new RedirectView(redirectUrl,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果没有前缀就调用父类默认创建对象</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">return super.createView(viewName, locale);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li><p>视图解析器得到view对象的流程：所有配置的视图解析器来长沙根据视图名（返回值）得到View（视图）对象，如果能得到就返回，得不到就换下一个视图解析器</p></li><li><p>调用view对象的render</p></li></ol><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void render(@Nullable Map&lt;String, ?&gt; model, HttpServletRequest request,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   HttpServletResponse response) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (logger.isDebugEnabled()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        logger.debug(&quot;View &quot; + formatViewName() +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     &quot;, model &quot; + (model != null ? model : Collections.emptyMap()) +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     (this.staticAttributes.isEmpty() ? &quot;&quot; : &quot;, static attributes &quot; + this.staticAttributes));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;String, Object&gt; mergedModel = createMergedOutputModel(model, request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    prepareResponse(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 渲染要给页面输出的所有数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    renderMergedOutputModel(mergedModel, getRequestToExpose(request), response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>InternalResourceView中的renderMergedOutputModel（传递数据的方法）</p><p>将模型中的数据取出来放到请求域request中</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">protected void renderMergedOutputModel(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;String, Object&gt; model, HttpServletRequest request, HttpServletResponse response) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Expose the model object as request attributes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 将模型的数据放在请求域中</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exposeModelAsRequestAttributes(model, request);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Expose helpers as request attributes, if any.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exposeHelpers(request);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Determine the path for the request dispatcher.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String dispatcherPath = prepareForRendering(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Obtain a RequestDispatcher for the target resource (typically a JSP).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RequestDispatcher rd = getRequestDispatcher(request, dispatcherPath);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (rd == null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw new ServletException(&quot;Could not get RequestDispatcher for [&quot; + getUrl() +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                   &quot;]: Check that the corresponding file exists within your web application archive!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // If already included or response already committed, perform include, else forward.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (useInclude(request, response)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.setContentType(getContentType());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (logger.isDebugEnabled()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            logger.debug(&quot;Including [&quot; + getUrl() + &quot;]&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rd.include(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Note: The forwarded resource is supposed to determine the content type itself.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (logger.isDebugEnabled()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            logger.debug(&quot;Forwarding to [&quot; + getUrl() + &quot;]&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rd.forward(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>总结：</strong></p><p>视图解析器只是为了得到视图对象，视图对象才能真正的转发（将模型数据放在请求域中）或者重定向到页面，视图对象才能真正的渲染视图</p><p><img loading="lazy" alt="84be0a06-b3b9-4f4c-9a18-d8b07a1cd1fd" src="/Computer-Science-Learn-Notes/assets/images/84be0a06-b3b9-4f4c-9a18-d8b07a1cd1fd-421ea254faa6c62a1c7e7b96f2810fdf.jpg" width="796" height="470" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="视图解析-jstl-国际化">视图解析 JSTL 国际化<a class="hash-link" href="#视图解析-jstl-国际化" title="标题的直接链接">​</a></h2><p>导入Maven -- taglib</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.taglibs</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">taglibs-standard-impl</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.2.1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.taglibs</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">taglibs-standard-spec</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.2.1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>写入国际化的配置：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    国际化资源文件配置--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">org.springframework.context.support.ResourceBundleMessageSource</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">messageSource</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--        制定基础名--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">basename</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.conf.i18n</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>创建国际化的配置文件</p><p><img loading="lazy" alt="527be244-1b29-431e-b444-27acbd4662aa" src="data:image/png;base64,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" width="260" height="93" class="img_ev3q"></p><p><img loading="lazy" alt="4b8d1354-0a77-4cfe-b783-74e2100c9557" src="/Computer-Science-Learn-Notes/assets/images/4b8d1354-0a77-4cfe-b783-74e2100c9557-8b844a9f5eacefce544cded8c3b932ac.png" width="578" height="197" class="img_ev3q"></p><p>使用JSP的jstl的fmt编写国际化：</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">登录</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">fmt:</span><span class="token tag" style="color:#00009f">message</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">key</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">welcomeinfo</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">form</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">action</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">fmt:</span><span class="token tag" style="color:#00009f">message</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">key</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">loginBtn</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"> ：</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">fmt:</span><span class="token tag" style="color:#00009f">message</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">key</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">password</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"> ：</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">form</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">fmt:</span><span class="token tag" style="color:#00009f">message</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">key</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">loginBtn</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据绑定-mvcannotation-driver">数据绑定 mvc:annotation-driver<a class="hash-link" href="#数据绑定-mvcannotation-driver" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="序言jsp两种获取项目路径的方式">序言：JSP两种获取项目路径的方式<a class="hash-link" href="#序言jsp两种获取项目路径的方式" title="标题的直接链接">​</a></h3><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">c:</span><span class="token tag" style="color:#00009f">set</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">var</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">ctx</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">${pageContext.request.contextPath}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;%=request.getContextPath()%&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">${pageContext.request.contextPath }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String contextPath = request.getServletPath();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String contextPath = request.getRequestURI();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    %&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="自定义数据绑定类型和静态资源的拦截">自定义数据绑定类型和静态资源的拦截<a class="hash-link" href="#自定义数据绑定类型和静态资源的拦截" title="标题的直接链接">​</a></h3><p>自定义一个转换类：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">mvc:</span><span class="token tag" style="color:#00009f">annotation-driven</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">conversion-service</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">conversionService</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">org.springframework.context.support.ConversionServiceFactoryBean</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">conversionService</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">converters</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">set</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">自定义的转换类</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">set</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>静态资源拦截：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    静态资源可以访问，动态资源的请求不能</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            静态资源能访问的原因：所有请求都映射给tomcat</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">mvc:</span><span class="token tag" style="color:#00009f">default-servlet-handler</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--使用自己定义的转换组件--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">mvc:</span><span class="token tag" style="color:#00009f">annotation-driven</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="日期格式化">日期格式化<a class="hash-link" href="#日期格式化" title="标题的直接链接">​</a></h3><p>在 Date 类型的属性上加入 @DateTimeFormat 注解</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Person {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @DateTimeFormat(pattern=&quot;yyyy-MM-dd&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Date birthday;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>加入 joda 相关的包</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">joda-time</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">joda-time</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.9.9</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在 SpringMVC 配置文件中加入 &lt;mvc:annotation-driven /&gt;</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">mvc:</span><span class="token tag" style="color:#00009f">annotation-driven</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>注册一个自定义既具有转换器也有格式化功能：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">mvc:</span><span class="token tag" style="color:#00009f">annotation-driven</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">conversion-service</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">formattingConversionService</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">org.springframework.format.support.FormattingConversionServiceFactoryBean</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">formattingConversionService</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据校验-校验注解去错误页面">数据校验 校验注解&amp;去错误页面<a class="hash-link" href="#数据校验-校验注解去错误页面" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="提示idea使用-alt--shift--insert-进入多行编辑模式">提示：IDEA使用 alt + shift + insert 进入多行编辑模式<a class="hash-link" href="#提示idea使用-alt--shift--insert-进入多行编辑模式" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="数据校验">数据校验<a class="hash-link" href="#数据校验" title="标题的直接链接">​</a></h3><hr><p>\1. 导包</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;version&gt;5.4.1.Final&lt;/version&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;groupId&gt;javax.validation&lt;/groupId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;version&gt;2.0.1.Final&lt;/version&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;version&gt;3.4.1.Final&lt;/version&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/dependency&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>\2. 给实体类加上需要的校验注解</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@NotEmpty</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private Integer id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Length(min = 6, max = 18)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    @Past是一个过去的时间</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Past</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@DateTimeFormat(pattern=&quot;yyyy-MM-dd&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private Date birthday;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private String gender;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Email</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private String email;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>\3. 告诉SpringMVC这个实体类需要校验 <strong>@Valid</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(value = &quot;/birth&quot;, method = RequestMethod.POST)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String birth(@Valid Person person, Model model) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>\4. 获取校验结果：BindingResult，紧跟@Valid后面</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(value = &quot;/birth&quot;, method = RequestMethod.POST)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String birth(@Valid Person person, BindingResult result, Model model) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(person);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //        获取是否有校验错误</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean errors = result.hasErrors();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!errors)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model.addAttribute(&quot;person&quot;, person);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;success&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>携带错误消息到页面：BindingResult的<strong>getFieldErrors</strong>方法</p><p>获取错误消息：<strong>getDefaultMessage</strong></p><p>获取错误字段：<strong>getField</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(value = &quot;/birth&quot;, method = RequestMethod.POST)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String birth(@Valid Person person, BindingResult result, Model model) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(person);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //        获取是否有校验错误</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean errors = result.hasErrors();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!errors) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model.addAttribute(&quot;person&quot;, person);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 获取错误</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;FieldError&gt; fErrors = result.getFieldErrors();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (FieldError fError : fErrors) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            map.put(fError.getField(), fError.getDefaultMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 渲染到视图</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model.addAttribute(&quot;errorInfo&quot;, map);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;forward:/index.jsp&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;success&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="国际化定制错误消息">国际化定制错误消息<a class="hash-link" href="#国际化定制错误消息" title="标题的直接链接">​</a></h3><hr><p>Email.类名.email  校验规则.隐含模型中这个对象的key.对象的属性</p><p>Email.email      校验规则.属性名</p><p>Email.java.lang.String  校验规则.属性类型</p><p>Email</p><ul><li>如果是隐含模型中Person对象的email属性字段发生了@Email校验错误，就会生出Email.Person.email</li><li>Email.email：所有的email属性只要发生了@Email错误</li><li>Email.java.lang.String：只要是String类型发生了@Email错误</li><li>Email：只要发生了@Email校验错误</li></ul><p>新建国际化文件：</p><p><img loading="lazy" alt="758ff831-10ad-4957-82bb-ff5e366b12a0" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYMAAAAsCAYAAACHWdSdAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAVBSURBVHhe7dq9bhtHEMBxP0tadiyN2E4QBUigJo7iGEiqCHAAwcorSO7yAGKT9FKbKkWotwrSX252ucfZ5ezxPkke71/8YHF3b+9ud+aGJ/nF52++LAAA80YxAABQDAAAFAMAQIliAACgGAAAKAYAgBLFAABAMQAAlMVguVwWAIB5480AAGbq4mKLYgAAM0UxAABQDAAAFAMAQIliAACgGAAARigGv9z85v79/eHPHelY4FwQ95i6QYuBJEQI/jQhQjsgXr77VDyun4q7d1+Y/VMy17h/+fq2eDiTPTykU439wYpBSIgQ/DoZdDu8XCK5QHn6VFy99u1+3Lp4fn52Hj6eR+KNmRCXb6+Ki28ud9qlTfrS9j7mHPddi0Ea0+vV7ab9fXH3tC7WVl58XBVrlRdTdqqxP0gx0AkRgl9/1u3wmhSDkDShAPhkWRU3E0yIkOiHKGYX314WP13/GiWF/Jy29TX3uO9SDOShnn6pkbbH+/fbGFntPvinXAymEvuDFAPLnJKii0bFIHlLmLJDJoTQSfF1w2QYwpzivm0xSL/c7PaHGPH/SoGo+igGjXWN/UGKgZUAFutYLQRLeH0MwbBdTN8vQfH9qx932twDNJljvd5+k7bmkWOu7p/M8Zb8NUp7mRj3/puP7rNU41u8GeSk9xXOH47L3XebtUrn9GPivtx+/fP4UPyhzyP794O8Kuvz2XOJNvujhaT4+fqDSwprTB9WjFusY7Wm63isuNfjqvGr280545gPv/Kx7Hugb69z80WovNYqhjPH7ovT3L23Wa90Tj8m7juH2D94Mbj++ysnnaMKrM3DMQqMzc/WhsVtflH1Yrog2owxj3FB12yR66/Rn7v6/aebd/dhH6RzVe3J24Bc/75AMO9r3313Wauov24trPNt+91nte61c7XYn5QkgSTDWG8FVoxbZOyU415z8yYP1MYxr441+9W9y2d5EFb3kDnWvLd9995lvaL+bnt26rE/ejFIx2aTolzsUAE12bB0Md14q80ImGhxzXk2AV0TxEH9NVqbWpMYyfiqXQLACPrwDcH65rVvfcz+Tmul+nvuV5QQe9e12f5okgCSCJIU1u9Rh2DFe5COnXLcB+nDqXXMG9cZ9SfXGT67t5DMsfa9bdvM/k7rpfp77tmpxv5BisF/f71y5Oe6pMgFSpMFdm3ZTfaLaR0Tj6tf+PprbJkYmWvZfw7jGGMu3Wb2d1iraM6e+5UmRG6uIBzfJDFCMugEGKMgWPEeSP+5xL1I49tq0+cMYzRrjrjfuDcXJ2Wb8Ufl7DGqzewn9k2jFIO0v1FSGA+6mzIA3II1WGDf5ueQqlq1qcU2jyk35i5sktGv1V9ju8QQ+jVYPqfX74JGvQnoc/iAioNXvzVEr9g91io/Z91aWOeL26KEqJurxf4El99l/ntdmRTSl7Z3NZ+4t/v9ebvEfDxGrtV/E7bPU70Vh/sh9rP6xP5oxeDfD5858nOTpBB+kXb/YNNkgbftfnHDHPHD1j7mZqXGqwCw5K+xfWIIfW6hA1SERAiq8xkJId+ewrgm991orTJzujEt9kvopN75I1pmLtFmfw5pLnGfxmgY3zXm5cGbzuXas/fm2+uKAbHf30kVA3STC8A+xpjz3BD3x0fsD4dicAZIiOMg7o+P2B8OxcCQvkIGXYJjyLlySIjjIO5th4j5gNgfziDFwDLlpAC6Iu4xVaMVAwDAdFAMAAAUAwAAxQAAUIqKwXK5LAAA8/ZisVgUAIB5oxgAACgGAACKAQCgRDEAAFAMAAAUAwDAYlH8D4kJBpxmIyvTAAAAAElFTkSuQmCC" width="387" height="44" class="img_ev3q"></p><p>写入配置：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Email.email = Email invalidate</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置SpringMVC</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    管理国际化资源文件--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">org.springframework.context.support.ResourceBundleMessageSource</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">messageSource</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">basename</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.conf.errors</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>使用带参数的国际化：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 国际化配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Length.java.lang.String=length must be between {1} and {2}.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 实体类    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Length(min = 6, max = 18)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>也可以自定义错误消息类型的注解：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@NotEmpty(message = &quot;不能为空&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private Integer id;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="springmvc对ajax的支持">SpringMVC对AJAX的支持<a class="hash-link" href="#springmvc对ajax的支持" title="标题的直接链接">​</a></h2><p>导包：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.fasterxml.jackson.core</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">jackson-core</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.10.2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.fasterxml.jackson.core</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">jackson-annotations</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.10.2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.fasterxml.jackson.core</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">jackson-databind</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.10.2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Jackson的使用：</p><p>@JsonIgnore 忽略输出JSON</p><p>@JsonFormat(pattern=&quot;yyyy-MM-dd&quot;) 格式化输出的JSON数据</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//    @Past是一个过去的时间</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@JsonIgnore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Past</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@DateTimeFormat(pattern=&quot;yyyy-MM-dd&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private Date birthday;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>返回json到前台：@ResponseBody</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@ResponseBody</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(&quot;/getallajax&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public Collection&lt;Person&gt; ajaxGetAll() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Person zhiyu = new Person(1, &quot;zhiyu&quot;, null, &quot;男&quot;, &quot;123546@qq.com&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Person zs = new Person(2, &quot;ZHANGSAN&quot;, null, &quot;男&quot;, &quot;zhangsan@qq.com&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Person ls = new Person(3, &quot;lisi&quot;, null, &quot;男&quot;, &quot;lisi@qq.com&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Collection&lt;Person&gt; people = new ArrayList&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    people.add(zs);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    people.add(ls);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    people.add(zhiyu);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return people;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>前端使用jQuery接收数据：</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">#</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">获取所有信息</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript function" style="color:#d73a49">$</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;a:first&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">click</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        $</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">ajax</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">            </span><span class="token script language-javascript literal-property property" style="color:#36acaa">url</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;${ctp}/getallajax&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">            </span><span class="token script language-javascript literal-property property" style="color:#36acaa">type</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;GET&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">            </span><span class="token script language-javascript function" style="color:#d73a49">success</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter">data</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">                </span><span class="token script language-javascript console class-name">console</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">log</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">data</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">                $</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">each</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">data</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">                    </span><span class="token script language-javascript keyword" style="color:#00009f">let</span><span class="token script language-javascript"> personInfo </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">this</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">id</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;--&gt;&quot;</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">this</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">name</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;--&gt;&quot;</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">this</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">gender</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">                    </span><span class="token script language-javascript function" style="color:#d73a49">$</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;div&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">append</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">personInfo </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;&lt;br/&gt;&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">                </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">            </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="请求体-responsebody">请求体 @ResponseBody<a class="hash-link" href="#请求体-responsebody" title="标题的直接链接">​</a></h2><p>使用的要求：</p><ul><li>method为POST</li><li>enctype=&quot;multipart/form-data&quot;时，文件内容设置为UTF-8</li></ul><p>前端：记得<strong>写name属性</strong></p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">form</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">action</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">testRequestBody</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">method</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">post</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    用户名 </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">username</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    密 码 </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">password</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">submit</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">提交</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">form</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>后台</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@ResponseBody</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(value = &quot;/testRequestBody&quot;, method = RequestMethod.POST)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String testRequestBody(@RequestBody(required = false)String content) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(&quot;content:&quot; + content);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;success&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>@ResponseBody也可以接收JSON数据</strong>，所以可以POJO</p><p>前端：</p><p><img loading="lazy" alt="043ddbf5-3646-479d-9ee8-cd393241a2b5" src="/Computer-Science-Learn-Notes/assets/images/043ddbf5-3646-479d-9ee8-cd393241a2b5-24c5635caf27e15f04741dd3a2a98fbc.png" width="845" height="523" class="img_ev3q"></p><p>控制层：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@ResponseBody</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(value = &quot;/recRequestBody&quot;, method = RequestMethod.POST)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String recRequestBody(@RequestBody(required = false)Person person) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(person);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;success&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>结果：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Person{id=2, name=&#x27;ZHANGSAN&#x27;, birthday=null, gender=&#x27;男&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="获取请求头-httpentity">获取请求头 @HttpEntity<a class="hash-link" href="#获取请求头-httpentity" title="标题的直接链接">​</a></h2><p><strong>@HttpEntity</strong>比<strong>@RequestBody</strong>更强，可以直接拿到请求头的所有，</p><p><strong>@RequestHeader</strong>只能拿到某个请求头</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(&quot;/httpEntityTest&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String httpEntityTest(HttpEntity&lt;String&gt; httpEntity) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(httpEntity);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;forward:/index.jsp&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>结果：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;{host=[localhost:8080], user-agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:78.0) Gecko/20100101 Firefox/78.0], accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8], accept-language=[zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2], accept-encoding=[gzip, deflate], connection=[keep-alive], referer=[http://localhost:8080/SpringMVC_04_war_exploded/], cookie=[JSESSIONID=3944762874A51FC04663B252095F6AB7; Idea-c46feb8f=7b368810-f802-4784-8798-e6c8a43ae387], upgrade-insecure-requests=[1]}&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="responseentity-返回响应式数据">@ResponseEntity 返回响应式数据<a class="hash-link" href="#responseentity-返回响应式数据" title="标题的直接链接">​</a></h2><p>基本用法：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@GetMapping(&quot;/hello&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ResponseEntity&lt;String&gt; hello() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new ResponseEntity&lt;&gt;(&quot;Hello World!&quot;, HttpStatus.OK);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>通过编程方式指明响应状态，所以根据不同场景返回不同状态：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@GetMapping(&quot;/age&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ResponseEntity&lt;String&gt; age(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @RequestParam(&quot;yearOfBirth&quot;) int yearOfBirth) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (isInFuture(yearOfBirth)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new ResponseEntity&lt;&gt;(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;Year of birth cannot be in the future&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          HttpStatus.BAD_REQUEST);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new ResponseEntity&lt;&gt;(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Your age is &quot; + calculateAge(yearOfBirth), </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      HttpStatus.OK);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>还可以设置http响应头</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@GetMapping(&quot;/customHeader&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ResponseEntity&lt;String&gt; customHeader() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HttpHeaders headers = new HttpHeaders();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    headers.add(&quot;Custom-Header&quot;, &quot;foo&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new ResponseEntity&lt;&gt;(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Custom header set&quot;, headers, HttpStatus.OK);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>@ResponseEntity 的链式编程：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@GetMapping(&quot;/customHeader&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ResponseEntity&lt;String&gt; customHeader() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return ResponseEntity.ok()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .header(&quot;Custom-Header&quot;, &quot;foo&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .body(&quot;Custom header set&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="文件下载及文件上传">文件下载及文件上传<a class="hash-link" href="#文件下载及文件上传" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="文件下载">文件下载<a class="hash-link" href="#文件下载" title="标题的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(&quot;/download&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public ResponseEntity&lt;byte[]&gt; download(HttpServletRequest req) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //        得到要下载的文件的流</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String location = &quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //        找到要下载的文件的真实路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String path = req.getSession().getServletContext().getRealPath(&quot;/jqeruy-2.1.1.js&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(path);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    FileInputStream is = new FileInputStream(path);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    byte[] temp = new byte[is.available()];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    is.read();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    is.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //        下载的文件流返回</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HttpHeaders headers = new HttpHeaders();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    headers.set(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot;+&quot;jqeruy-2.1.1.js&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new ResponseEntity&lt;byte[]&gt;(temp, headers, HttpStatus.OK);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="文件上传">文件上传<a class="hash-link" href="#文件上传" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="httpmessageconverter">HttpMessageConverter<a class="hash-link" href="#httpmessageconverter" title="标题的直接链接">​</a></h4><p><img loading="lazy" alt="1cae080e-52fc-484d-90a5-00545933d902" src="/Computer-Science-Learn-Notes/assets/images/1cae080e-52fc-484d-90a5-00545933d902-c60f212b451e599b5b3a61ce6b633ccd.png" width="919" height="339" class="img_ev3q"></p><p>上传表单：</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">form</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">action</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">method</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">post</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">enctype</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">multipart/form-data</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    用户头像： </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">file</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">headerimages</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">br</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    用户名： </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">username</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">br</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">submit</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">提交</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">form</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>导包：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.commons</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">commons-io</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.3.2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">commons-fileupload</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">commons-fileupload</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.3.3</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置SpringMVC</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    配置文件上传解析器,id必须是multipartResolver--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">multipartResolver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">org.springframework.web.multipart.commons.CommonsMultipartResolver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--        最大允许的上传大小--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">maxInMemorySize</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">#{1024*1024*20}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--        默认的字符编码--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">defaultEncoding</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">utf-8</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>编写文件上传：</p><p>@RequestParam(&quot;headerimages&quot;)<strong>MultipartFile</strong> file 封装了当前文件的信息</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(&quot;/upload&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String upload(@RequestParam(&quot;username&quot;) String username,@RequestParam(&quot;password&quot;) String password,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     @RequestParam(&quot;headerimages&quot;)MultipartFile file,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     Model model) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(username);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(&quot;文件大小&quot; + file.getSize());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(&quot;文件名字&quot; +file.getOriginalFilename());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        file.transferTo(new File(&quot;C:\\Users\\54271\\Documents\\Spring_Twice\\SpringMVC_04\\src\\main\\resources\\&quot; + file.getOriginalFilename()));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model.addAttribute(&quot;msg&quot;, &quot;文件上传成功&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } catch (IOException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model.addAttribute(&quot;msg&quot;, &quot;文件上传失败&quot;+e.getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;forward:/index.jsp&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="多文件上传">多文件上传<a class="hash-link" href="#多文件上传" title="标题的直接链接">​</a></h3><p>前端：</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">form</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">action</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">upload</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">method</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">post</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">enctype</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">multipart/form-data</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    用户头像： </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">file</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">headerimages</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">br</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    用户头像： </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">file</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">headerimages</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">br</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    用户头像： </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">file</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">headerimages</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">br</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    用户头像： </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">file</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">headerimages</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">br</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    用户名： </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">username</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">admin</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">br</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    密码： </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">password</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">123</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">submit</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">提交</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">form</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>控制器：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(&quot;/upload&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String upload(@RequestParam(&quot;username&quot;) String username,@RequestParam(&quot;password&quot;) String password,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     @RequestParam(&quot;headerimages&quot;)MultipartFile[] files,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     Model model) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(username);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (MultipartFile file : files) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (!file.isEmpty()){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                file.transferTo(new File(&quot;C:\\Users\\54271\\Documents\\Spring_Twice\\SpringMVC_04\\src\\main\\resources\\&quot; + file.getOriginalFilename()));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model.addAttribute(&quot;msg&quot;, &quot;文件上传成功&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } catch (IOException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model.addAttribute(&quot;msg&quot;, &quot;文件上传失败&quot;+e.getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;forward:/index.jsp&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="拦截器及多拦截器">拦截器及多拦截器<a class="hash-link" href="#拦截器及多拦截器" title="标题的直接链接">​</a></h2><p>拦截器的基本方法：</p><p><img loading="lazy" alt="915c108f-6487-4d72-bf33-9f6fb18d64b3" src="data:image/png;base64,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" width="566" height="93" class="img_ev3q"></p><p>preHandle：在目标方法之前调用，返回boolean，return true目标方法放行</p><p>postHandle：在目标方法运行之后调用</p><p>afterCompletion：在请求整个完成（来到目标页面）：chain.dofilter()放行（资源响应之后）</p><p>创建一个拦截器：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class FirstInterceptor implements HandlerInterceptor {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;FirstInterceptor preHandle invoke....&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;FirstInterceptor postHandle invoke....&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;FirstInterceptor afterCompletion invoke....&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置拦截器到SpringMVC</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">mvc:</span><span class="token tag" style="color:#00009f">interceptors</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--        配置某个拦截器，默认拦截所有请求--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--        &lt;bean class=&quot;cn.zhiyucs.interceptor.FirstInterceptor&quot;&gt;&lt;/bean&gt;--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--        配置某个拦截器更详细的信息--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">mvc:</span><span class="token tag" style="color:#00009f">interceptor</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--            只拦截success--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">mvc:</span><span class="token tag" style="color:#00009f">mapping</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">path</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/success</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.interceptor.FirstInterceptor</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">mvc:</span><span class="token tag" style="color:#00009f">interceptor</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">mvc:</span><span class="token tag" style="color:#00009f">interceptors</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试后拦截器的运行流程：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FirstInterceptor preHandle invoke....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FirstInterceptor postHandle invoke....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FirstInterceptor afterCompletion invoke....</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>注意：</p><ul><li>只要preHandler不放行，以后的流程就不会执行</li><li><strong>只要放行了，afterCompletion都会执行</strong></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="多拦截器">多拦截器<a class="hash-link" href="#多拦截器" title="标题的直接链接">​</a></h3><p>多拦截器的执行流程：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FirstInterceptor preHandle invoke....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SecondInterceptor preHandle invoke....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SecondInterceptor postHandle invoke....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FirstInterceptor postHandle invoke....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SecondInterceptor afterCompletion invoke....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FirstInterceptor afterCompletion invoke....</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p> 只要有一个拦截器不放行，以后都没有执行</p><p>如果有一个不放行，另外一个afterCompletion还是会执行</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FirstInterceptor preHandle invoke....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SecondInterceptor preHandle invoke....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FirstInterceptor afterCompletion invoke....</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="小结">小结<a class="hash-link" href="#小结" title="标题的直接链接">​</a></h3><p>拦截器的preHadnle是按照顺序执行</p><p>拦截器的postHandle是按照逆序执行</p><p>拦截器的afterCompletion是按照逆序执行</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="源码分析-拦截器">源码分析 拦截器<a class="hash-link" href="#源码分析-拦截器" title="标题的直接链接">​</a></h2><p>同样是在doDispatch方法中，第一次执行到的位置是：</p><p>这里执行拦截器的preHandle：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (!mappedHandler.applyPreHandle(processedRequest, response)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>因为在前面的getHander可以获取到三个拦截器（自己写了2个）</p><p><img loading="lazy" alt="b98ad1e2-9da6-4243-abb3-6e85bd945503" src="/Computer-Science-Learn-Notes/assets/images/b98ad1e2-9da6-4243-abb3-6e85bd945503-68a10dcc0b828e59335ac950da60e701.png" width="924" height="723" class="img_ev3q"></p><p>applyPreHandle分析：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">boolean applyPreHandle(HttpServletRequest request, HttpServletResponse response) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HandlerInterceptor[] interceptors = getInterceptors();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!ObjectUtils.isEmpty(interceptors)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; interceptors.length; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            HandlerInterceptor interceptor = interceptors[i];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // true=放行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (!interceptor.preHandle(request, response, this.handler)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // 执行完afterCompletion（）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                triggerAfterCompletion(request, response, null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // 有一个拦截器返回false目标方法不会执行，直接跳到afterCompletion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 索引记录已经拦截的拦截器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.interceptorIndex = i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>目标方法正常会执行postHadnler：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mappedHandler.applyPostHandle(processedRequest, response, mv);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 分析方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void applyPostHandle(HttpServletRequest request, HttpServletResponse response, @Nullable ModelAndView mv)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HandlerInterceptor[] interceptors = getInterceptors();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!ObjectUtils.isEmpty(interceptors)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 逆序执行每个拦截器的postHandle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = interceptors.length - 1; i &gt;= 0; i--) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            HandlerInterceptor interceptor = interceptors[i];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            interceptor.postHandle(request, response, this.handler, mv);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="b43f1b9a-5fd6-41ec-8093-1bfc3ae780c2" src="/Computer-Science-Learn-Notes/assets/images/b43f1b9a-5fd6-41ec-8093-1bfc3ae780c2-9408f5bc7da5b351e1b500af5cc8c213.png" width="799" height="261" class="img_ev3q"></p><p>processDispatchResult方法：这就是afterCompletion总会执行的原因</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (mappedHandler != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Exception (if any) is already handled..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mappedHandler.triggerAfterCompletion(request, response, null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这个拦截器的具体执行流程是：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void triggerAfterCompletion(HttpServletRequest request, HttpServletResponse response, @Nullable Exception ex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HandlerInterceptor[] interceptors = getInterceptors();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!ObjectUtils.isEmpty(interceptors)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 有记录最后一个拦截器的索引，把它之前所有放行的拦截器的afterCompletion都执行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = this.interceptorIndex; i &gt;= 0; i--) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            HandlerInterceptor interceptor = interceptors[i];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                interceptor.afterCompletion(request, response, this.handler, ex);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            catch (Throwable ex2) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                logger.error(&quot;HandlerInterceptor.afterCompletion threw exception&quot;, ex2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="具体调试">具体调试<a class="hash-link" href="#具体调试" title="标题的直接链接">​</a></h3><p>第一次执行的拦截器是：conversionService interceptorIndex=0</p><p><img loading="lazy" alt="fc95161b-76f7-4362-aa71-9226b89dba95" src="/Computer-Science-Learn-Notes/assets/images/fc95161b-76f7-4362-aa71-9226b89dba95-a320e2fc6534d4e2162d8c2fbf799e25.png" width="858" height="535" class="img_ev3q"></p><p>第二次执行 FirstInterceptor interceptorIndex =1</p><p> <img loading="lazy" alt="25a77df8-1bbf-43d4-9cf7-8ee646074596" src="data:image/png;base64,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" width="297" height="16" class="img_ev3q"></p><p>第三次执行：SecondInterceptor interceptorIndex = 2</p><p><img loading="lazy" alt="fd7b87a8-5706-4a29-bbb0-b44fccd84901" src="data:image/png;base64,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" width="361" height="109" class="img_ev3q"></p><p>全部执行完，会返回true：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (!mappedHandler.applyPreHandle(processedRequest, response)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="国际化">国际化<a class="hash-link" href="#国际化" title="标题的直接链接">​</a></h2><p>一般国际化的步骤：SpringMVC国际化核心 -- ResourceBundleMessageSource</p><p><a href="wiz://open_document?guid=f3227501-5a15-48bf-ae86-9936e13306cf&amp;kbguid=&amp;private_kbguid=51ed7a20-5f58-11ea-ac04-65f1a2b61811" target="_blank" rel="noopener noreferrer">视图解析 JSTL 国际化</a></p><p>获取区域信息：
Locale locale = request.getLocale();</p><p>获取国际化的信息：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Autowired</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private MessageSource messageSource;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(&quot;/login&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String login(Locale locale) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(locale);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String welcomeinfo = messageSource.getMessage(&quot;welcomeinfo&quot;, null, locale);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(welcomeinfo);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;login&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="自定义国际化文件">自定义国际化文件<a class="hash-link" href="#自定义国际化文件" title="标题的直接链接">​</a></h3><p><img loading="lazy" alt="af10972e-aa23-4eae-aaec-40d8de0bd9cb" src="/Computer-Science-Learn-Notes/assets/images/af10972e-aa23-4eae-aaec-40d8de0bd9cb-4852343549e33540fe5e3d31463d2719.png" width="885" height="412" class="img_ev3q"></p><ol><li>实现LocaleResolver接口</li></ol><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class MyLocaleResolver implements LocaleResolver {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Locale resolveLocale(HttpServletRequest request) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在前端配置访问路径：</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">login?locale=zh_CN</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">切换中文</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">login?locale=en_US</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">切换英文</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>自己写国际化：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public Locale resolveLocale(HttpServletRequest request) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Locale l = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 获取地址栏的locale后的信息 如：zh_CN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String localeSt = request.getParameter(&quot;locale&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //        如果带了Locale参数指定的区域信息，没有带就用浏览器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (localeSt != null &amp;&amp; !&quot;&quot;.equals(localeSt)){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        l = new Locale(localeSt.split(&quot;_&quot;)[0], localeSt.split(&quot;_&quot;)[1]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        l = request.getLocale();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return l;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置MVC：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    自定义国际化--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">localeResolver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">cn.zhiyucs.component.MyLocaleResolver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用sessionlocaleresolver进行国际化">使用SessionLocaleResolver进行国际化<a class="hash-link" href="#使用sessionlocaleresolver进行国际化" title="标题的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(&quot;/login&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// locale是传入的zh_CN/en_US 这里的参数需要传入session</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String login(@RequestParam(value = &quot;locale&quot;, defaultValue = &quot;zh_CN&quot;) String localeSt, Locale locale, HttpSession session) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Locale l = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (localeSt != null &amp;&amp; !&quot;&quot;.equals(localeSt)){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        l = new Locale(localeSt.split(&quot;_&quot;)[0], localeSt.split(&quot;_&quot;)[1]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        l = locale;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 关键点：这里SessionLocaleResolver.class.getName() + &quot;.LOCALE&quot;固定写法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    session.setAttribute(SessionLocaleResolver.class.getName() + &quot;.LOCALE&quot;, l);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;login&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置到MVC</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    区域信息从session中拿--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">org.springframework.web.servlet.i18n.SessionLocaleResolver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">localeResolver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="拦截器配合国际化">拦截器配合国际化<a class="hash-link" href="#拦截器配合国际化" title="标题的直接链接">​</a></h3><p>直接在MVC中配置拦截器：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">mvc:</span><span class="token tag" style="color:#00009f">interceptors</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">org.springframework.web.servlet.i18n.LocaleChangeInterceptor</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">mvc:</span><span class="token tag" style="color:#00009f">interceptors</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>只要想国际化在页面添加locale参数即可：</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">login?locale=zh_CN</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">切换中文</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">login?locale=en_US</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">切换英文</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>SessionLocaleResolver &amp; LocaleChangeInterceptor 工作原理</p><p><img loading="lazy" alt="f135df2d-8df3-4660-8b18-e6918bd9af36" src="/Computer-Science-Learn-Notes/assets/images/f135df2d-8df3-4660-8b18-e6918bd9af36-dbd088b824972f6e60533998856023e4.png" width="1048" height="554" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="异常处理-exceptionhandler">异常处理 @ExceptionHandler<a class="hash-link" href="#异常处理-exceptionhandler" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="处理异常的一般步骤">处理异常的一般步骤<a class="hash-link" href="#处理异常的一般步骤" title="标题的直接链接">​</a></h3><p>首先假设一个异常的存在： </p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(&quot;/handler01&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String handler01(@RequestParam(&quot;i&quot;)int i) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(10 / i);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;success&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>设置一个异常捕获/处理：</p><p>@ExceptionHandler 的 value 标识处理的异常，比如案例中只能处理数学异常</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 告诉SpringMVC这个方法专门处理这个类的发生的异常</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 1。 给方法随便写一个Exception，用来接受发生的异常</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 2. 要携带异常信息不能给参数位置写Model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 3. 返回ModelAndView就可以</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @param e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ExceptionHandler(value = {ArithmeticException.class})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public ModelAndView handleException01(Exception e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(&quot;handleException01&quot;+ e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ModelAndView mv = new ModelAndView(&quot;myerror&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mv.addObject(&quot;ex&quot;, e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return mv;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>前端JSP接收</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${ex}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>当访问参数i = 0时，就会处理这个异常</p><p><img loading="lazy" alt="15acf3ed-c8e8-4cc4-82d6-d45e8026af63" src="/Computer-Science-Learn-Notes/assets/images/15acf3ed-c8e8-4cc4-82d6-d45e8026af63-cdbb4e70264475efd336b3ca3dc3b963.png" width="693" height="194" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="异常处理-responsestatus">异常处理 @ResponseStatus<a class="hash-link" href="#异常处理-responsestatus" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="responsestatus的基本使用">@ResponseStatus的基本使用<a class="hash-link" href="#responsestatus的基本使用" title="标题的直接链接">​</a></h3><p>创建一个异常类</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@ResponseStatus(reason = &quot;用户被拒绝登录&quot;, value = HttpStatus.NOT_EXTENDED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class UsernameNotFoundException extends RuntimeException{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>创建一个请求控制器：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(&quot;/handler02&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String handler02(@RequestParam(&quot;username&quot;)String username) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!&quot;admin&quot;.equals(username)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;登录失败&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw new UsernameNotFoundException();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(&quot;登录成功&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;success&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>当发送一个错误参数就会报出错误：</p><p><img loading="lazy" alt="615f5bf6-23b0-4bcb-8f58-025bb4064b70" src="/Computer-Science-Learn-Notes/assets/images/615f5bf6-23b0-4bcb-8f58-025bb4064b70-162e1ebc87cae7631fb1b7999ec01911.png" width="680" height="255" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="错误的请求方式">错误的请求方式<a class="hash-link" href="#错误的请求方式" title="标题的直接链接">​</a></h4><p>如果使用GET方式来请求POST：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(value = &quot;/handler03&quot;, method = RequestMethod.POST)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public String handler03(){}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#x27;GET&#x27; not supported]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="源码分析-异常处理">源码分析 异常处理<a class="hash-link" href="#源码分析-异常处理" title="标题的直接链接">​</a></h2><p>同样出发点时doDispatch </p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在这个方法来到：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mv = processHandlerException(request, response, handler, exception);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在processHandlerException中轮流解析异常：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (this.handlerExceptionResolvers != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (HandlerExceptionResolver resolver : this.handlerExceptionResolvers) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        exMv = resolver.resolveException(request, response, handler, ex);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (exMv != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>经过调试：出现三个异常处理类：</p><ul><li><strong>ExceptionHandlerExceptionResolver</strong></li><li><strong>ResponseStatusExceptionResolver</strong></li><li><strong>DefaultHandlerExceptionResolver</strong></li></ul><p><img loading="lazy" alt="0ed22c29-9bc2-4ee5-99e8-be9492fc9686" src="data:image/png;base64,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" width="446" height="103" class="img_ev3q"></p><p>在DefaultHandlerExceptionResolver中就有一些默认的处理机制</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (ex instanceof HttpRequestMethodNotSupportedException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleHttpRequestMethodNotSupported(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (HttpRequestMethodNotSupportedException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if (ex instanceof HttpMediaTypeNotSupportedException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleHttpMediaTypeNotSupported(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (HttpMediaTypeNotSupportedException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if (ex instanceof HttpMediaTypeNotAcceptableException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleHttpMediaTypeNotAcceptable(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (HttpMediaTypeNotAcceptableException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if (ex instanceof MissingPathVariableException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleMissingPathVariable(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (MissingPathVariableException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if (ex instanceof MissingServletRequestParameterException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleMissingServletRequestParameter(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (MissingServletRequestParameterException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if (ex instanceof ServletRequestBindingException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleServletRequestBindingException(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (ServletRequestBindingException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if (ex instanceof ConversionNotSupportedException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleConversionNotSupported(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (ConversionNotSupportedException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if (ex instanceof TypeMismatchException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleTypeMismatch(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (TypeMismatchException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if (ex instanceof HttpMessageNotReadableException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleHttpMessageNotReadable(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (HttpMessageNotReadableException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if (ex instanceof HttpMessageNotWritableException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleHttpMessageNotWritable(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (HttpMessageNotWritableException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if (ex instanceof MethodArgumentNotValidException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleMethodArgumentNotValidException(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (MethodArgumentNotValidException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if (ex instanceof MissingServletRequestPartException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleMissingServletRequestPartException(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (MissingServletRequestPartException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if (ex instanceof BindException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleBindException((BindException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if (ex instanceof NoHandlerFoundException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleNoHandlerFoundException(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (NoHandlerFoundException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if (ex instanceof AsyncRequestTimeoutException) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return handleAsyncRequestTimeoutException(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (AsyncRequestTimeoutException) ex, request, response, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="handlerexceptionresolver的实现类">HandlerExceptionResolver的实现类<a class="hash-link" href="#handlerexceptionresolver的实现类" title="标题的直接链接">​</a></h3><p><img loading="lazy" alt="e7578ded-3cdb-4d6c-94d8-788e39ab6845" src="/Computer-Science-Learn-Notes/assets/images/e7578ded-3cdb-4d6c-94d8-788e39ab6845-0be36820505b61f4802b456ea27d7aff.png" width="1319" height="412" class="img_ev3q"></p><p>使用SimpleMappingExceptionResolver进行配置异常</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--    区域信息从session中拿--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">org.springframework.web.servlet.i18n.SessionLocaleResolver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">localeResolver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">org.springframework.web.servlet.handler.SimpleMappingExceptionResolver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">exceptionResolver</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">exceptionMappings</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">props</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--                key 异常的全类名 value 要去页面的视图名--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">prop</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">key</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">java.lang.NullPointerException</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">myerror</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">prop</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">props</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--        指定错误信息取出时的值--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">exceptionAttribute</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">ex</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">bean</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>前端：如果指定了exceptionAttribute，就可以用ex，如果不指定就用${exception}</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Error</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${ex}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h3</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${exception}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h3</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>注意：如果全局指定了Exception，就不会执行SimpleMappingExceptionResolver</p><p>同样的调试位置，最后处理的是SimpleMappingExceptionResolver</p><p><img loading="lazy" alt="d897564b-ad6a-40ec-95d1-91d1fabe74ac" src="/Computer-Science-Learn-Notes/assets/images/d897564b-ad6a-40ec-95d1-91d1fabe74ac-7ab620eaac73f6930ca6cca18657b658.png" width="662" height="243" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="小结springmvc的运行流程">【小结】SpringMVC的运行流程<a class="hash-link" href="#小结springmvc的运行流程" title="标题的直接链接">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-所有请求前端控制器dispatcherservlet调用dodispatch进行处理">1. 所有请求，前端控制器（DispatcherServlet）调用doDispatch进行处理<a class="hash-link" href="#1-所有请求前端控制器dispatcherservlet调用dodispatch进行处理" title="标题的直接链接">​</a></h4><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-根据handlermapping的请求应色号信息找到处理当前的请求处理执行链">2. 根据HandlerMapping的请求应色号信息找到，处理当前的请求，处理执行链<a class="hash-link" href="#2-根据handlermapping的请求应色号信息找到处理当前的请求处理执行链" title="标题的直接链接">​</a></h4><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mappedHandler = getHandler(processedRequest);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-根据当前处理器找到它的适配器">3. 根据当前处理器找到它的适配器<a class="hash-link" href="#3-根据当前处理器找到它的适配器" title="标题的直接链接">​</a></h4><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HandlerAdapter ha = getHandlerAdapter(mappedHandler.getHandler());</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-拦截器的prehandler先执行">4. 拦截器的preHandler先执行<a class="hash-link" href="#4-拦截器的prehandler先执行" title="标题的直接链接">​</a></h4><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (!mappedHandler.applyPreHandle(processedRequest, response)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-适配器执行目标方法返回modelandview">5. 适配器执行目标方法，返回ModelAndView<a class="hash-link" href="#5-适配器执行目标方法返回modelandview" title="标题的直接链接">​</a></h4><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mv = ha.handle(processedRequest, response, mappedHandler.getHandler());</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="6-拦截器的posthandler执行">6. 拦截器的postHandler执行<a class="hash-link" href="#6-拦截器的posthandler执行" title="标题的直接链接">​</a></h4><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mappedHandler.applyPostHandle(processedRequest, response, mv);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="7-渲染页面处理结果">7. 渲染页面，处理结果<a class="hash-link" href="#7-渲染页面处理结果" title="标题的直接链接">​</a></h4><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>（1）processDispatchResult如果有异常，先处理异常</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Object handler = (mappedHandler != null ? mappedHandler.getHandler() : null);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>（2）处理完成后接着返回ModelAndView</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mv = processHandlerException(request, response, handler, exception);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>（3）渲染视图</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">render(mv, request, response);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="43de9505-cdc5-4593-9f65-94086766ed1a" src="/Computer-Science-Learn-Notes/assets/images/43de9505-cdc5-4593-9f65-94086766ed1a-79025bf8a852377b2108e0ad54e6d134.jpg" width="1126" height="833" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="springmvc和spring的整合分工明确">SpringMVC和Spring的整合（分工明确）<a class="hash-link" href="#springmvc和spring的整合分工明确" title="标题的直接链接">​</a></h2><p>Spring配置业务有关（事务控制、数据源...）</p><p>SpringMVC配置网站逻辑和功能（视图解析器，文件上传解析器，支持AJAX...）</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="合并">合并<a class="hash-link" href="#合并" title="标题的直接链接">​</a></h3><p>在SpringMVC中导入Spring配置文件</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;import resource=&quot;spring.xml&quot; /&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="分容器">分容器<a class="hash-link" href="#分容器" title="标题的直接链接">​</a></h3></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/zhiyu1998/Computer-Science-Learn-Notes/edit/master/docs/Java/fm/SpringMVC.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/Computer-Science-Learn-Notes/docs/Java/fm/Spring"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Spring</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Computer-Science-Learn-Notes/docs/Java/fm/Mybatis"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Mybatis</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#springmvc的配置" class="table-of-contents__link toc-highlight">SpringMVC的配置</a><ul><li><a href="#细节补充" class="table-of-contents__link toc-highlight"><strong>细节补充：</strong></a></li></ul></li><li><a href="#requestmapping的其他属性" class="table-of-contents__link toc-highlight">@RequestMapping的其他属性</a><ul><li><a href="#method" class="table-of-contents__link toc-highlight">method</a></li><li><a href="#params" class="table-of-contents__link toc-highlight">params</a></li><li><a href="#headers" class="table-of-contents__link toc-highlight">headers</a></li><li><a href="#consume" class="table-of-contents__link toc-highlight">consume</a></li><li><a href="#produces" class="table-of-contents__link toc-highlight">produces</a></li></ul></li><li><a href="#ant风格的url和pathvariable" class="table-of-contents__link toc-highlight">ant风格的url和@PathVariable</a><ul><li><a href="#requestmapping的ant风格url" class="table-of-contents__link toc-highlight">@RequestMapping的ant风格url</a></li><li><a href="#pathvariable" class="table-of-contents__link toc-highlight">@PathVariable</a></li></ul></li><li><a href="#获取请求信息" class="table-of-contents__link toc-highlight">获取请求信息</a><ul><li><a href="#requestmapping-获取参数-pathxxx-xxx" class="table-of-contents__link toc-highlight">@RequestMapping 获取参数 path?xxx= xxx</a></li><li><a href="#requestheader-获取请求头" class="table-of-contents__link toc-highlight">@RequestHeader 获取请求头</a></li><li><a href="#cookievalue-获取cookie的值" class="table-of-contents__link toc-highlight">@CookieValue 获取Cookie的值</a></li></ul></li><li><a href="#使用-pojo-对象绑定请求参数值" class="table-of-contents__link toc-highlight">使用 POJO 对象绑定请求参数值</a></li><li><a href="#使用tomcat原生api" class="table-of-contents__link toc-highlight">使用tomcat原生API</a></li><li><a href="#数据输出-model和modelmap" class="table-of-contents__link toc-highlight">数据输出 Model和ModelMap</a><ul><li><a href="#使用model" class="table-of-contents__link toc-highlight">使用Model</a></li><li><a href="#使用modelmap" class="table-of-contents__link toc-highlight">使用ModelMap</a></li></ul></li><li><a href="#数据输出-modelandview使用" class="table-of-contents__link toc-highlight">数据输出 ModelAndView使用</a></li><li><a href="#数据输出-sessionattributes" class="table-of-contents__link toc-highlight">数据输出 @SessionAttributes</a></li><li><a href="#数据输出-modelattribute" class="table-of-contents__link toc-highlight">数据输出 @ModelAttribute</a></li><li><a href="#源码分析-dispatcherservlet" class="table-of-contents__link toc-highlight">源码分析 DispatcherServlet</a><ul><li><a href="#概览" class="table-of-contents__link toc-highlight">概览</a></li><li><a href="#整体" class="table-of-contents__link toc-highlight">整体</a></li><li><a href="#dodispatch的详细细节" class="table-of-contents__link toc-highlight">doDispatch的详细细节</a></li><li><a href="#gethandler的详细" class="table-of-contents__link toc-highlight">getHandler的详细</a></li><li><a href="#gethandleradapter" class="table-of-contents__link toc-highlight">getHandlerAdapter</a></li></ul></li><li><a href="#源码分析-springmvc的九大组件" class="table-of-contents__link toc-highlight">源码分析 SpringMVC的九大组件</a><ul><li><a href="#初始化" class="table-of-contents__link toc-highlight">初始化</a></li></ul></li><li><a href="#源码分析-modelattribute" class="table-of-contents__link toc-highlight">源码分析 @ModelAttribute</a></li><li><a href="#视图解析-转发和重定向" class="table-of-contents__link toc-highlight">视图解析 转发和重定向</a></li><li><a href="#源码分析-视图解析" class="table-of-contents__link toc-highlight">源码分析 视图解析</a></li><li><a href="#视图解析-jstl-国际化" class="table-of-contents__link toc-highlight">视图解析 JSTL 国际化</a></li><li><a href="#数据绑定-mvcannotation-driver" class="table-of-contents__link toc-highlight">数据绑定 mvc:annotation-driver</a><ul><li><a href="#序言jsp两种获取项目路径的方式" class="table-of-contents__link toc-highlight">序言：JSP两种获取项目路径的方式</a></li><li><a href="#自定义数据绑定类型和静态资源的拦截" class="table-of-contents__link toc-highlight">自定义数据绑定类型和静态资源的拦截</a></li><li><a href="#日期格式化" class="table-of-contents__link toc-highlight">日期格式化</a></li></ul></li><li><a href="#数据校验-校验注解去错误页面" class="table-of-contents__link toc-highlight">数据校验 校验注解&amp;去错误页面</a><ul><li><a href="#提示idea使用-alt--shift--insert-进入多行编辑模式" class="table-of-contents__link toc-highlight">提示：IDEA使用 alt + shift + insert 进入多行编辑模式</a></li><li><a href="#数据校验" class="table-of-contents__link toc-highlight">数据校验</a></li><li><a href="#国际化定制错误消息" class="table-of-contents__link toc-highlight">国际化定制错误消息</a></li></ul></li><li><a href="#springmvc对ajax的支持" class="table-of-contents__link toc-highlight">SpringMVC对AJAX的支持</a></li><li><a href="#请求体-responsebody" class="table-of-contents__link toc-highlight">请求体 @ResponseBody</a></li><li><a href="#获取请求头-httpentity" class="table-of-contents__link toc-highlight">获取请求头 @HttpEntity</a></li><li><a href="#responseentity-返回响应式数据" class="table-of-contents__link toc-highlight">@ResponseEntity 返回响应式数据</a></li><li><a href="#文件下载及文件上传" class="table-of-contents__link toc-highlight">文件下载及文件上传</a><ul><li><a href="#文件下载" class="table-of-contents__link toc-highlight">文件下载</a></li><li><a href="#文件上传" class="table-of-contents__link toc-highlight">文件上传</a></li><li><a href="#多文件上传" class="table-of-contents__link toc-highlight">多文件上传</a></li></ul></li><li><a href="#拦截器及多拦截器" class="table-of-contents__link toc-highlight">拦截器及多拦截器</a><ul><li><a href="#多拦截器" class="table-of-contents__link toc-highlight">多拦截器</a></li><li><a href="#小结" class="table-of-contents__link toc-highlight">小结</a></li></ul></li><li><a href="#源码分析-拦截器" class="table-of-contents__link toc-highlight">源码分析 拦截器</a><ul><li><a href="#具体调试" class="table-of-contents__link toc-highlight">具体调试</a></li></ul></li><li><a href="#国际化" class="table-of-contents__link toc-highlight">国际化</a><ul><li><a href="#自定义国际化文件" class="table-of-contents__link toc-highlight">自定义国际化文件</a></li><li><a href="#使用sessionlocaleresolver进行国际化" class="table-of-contents__link toc-highlight">使用SessionLocaleResolver进行国际化</a></li><li><a href="#拦截器配合国际化" class="table-of-contents__link toc-highlight">拦截器配合国际化</a></li></ul></li><li><a href="#异常处理-exceptionhandler" class="table-of-contents__link toc-highlight">异常处理 @ExceptionHandler</a><ul><li><a href="#处理异常的一般步骤" class="table-of-contents__link toc-highlight">处理异常的一般步骤</a></li></ul></li><li><a href="#异常处理-responsestatus" class="table-of-contents__link toc-highlight">异常处理 @ResponseStatus</a><ul><li><a href="#responsestatus的基本使用" class="table-of-contents__link toc-highlight">@ResponseStatus的基本使用</a></li></ul></li><li><a href="#源码分析-异常处理" class="table-of-contents__link toc-highlight">源码分析 异常处理</a><ul><li><a href="#handlerexceptionresolver的实现类" class="table-of-contents__link toc-highlight">HandlerExceptionResolver的实现类</a></li></ul></li><li><a href="#小结springmvc的运行流程" class="table-of-contents__link toc-highlight">【小结】SpringMVC的运行流程</a></li><li><a href="#springmvc和spring的整合分工明确" class="table-of-contents__link toc-highlight">SpringMVC和Spring的整合（分工明确）</a><ul><li><a href="#合并" class="table-of-contents__link toc-highlight">合并</a></li><li><a href="#分容器" class="table-of-contents__link toc-highlight">分容器</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Computer-Science-Learn-Notes/docs/intro">主页</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="#" class="footer__link-item">莫得</a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/zhiyu1998" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Computer Science Learn Notes, Inc. Built with Zhiyu1998.</div></div></div></footer></div>
<script src="/Computer-Science-Learn-Notes/assets/js/runtime~main.bfd55fab.js"></script>
<script src="/Computer-Science-Learn-Notes/assets/js/main.51771eef.js"></script>
</body>
</html>